"use strict";var gC=Object.defineProperty,_C=Object.defineProperties,yC=Object.getOwnPropertyDescriptors,ow=Object.getOwnPropertySymbols,vC=Object.prototype.hasOwnProperty,bC=Object.prototype.propertyIsEnumerable,aw=(Yt,Ge,w)=>Ge in Yt?gC(Yt,Ge,{enumerable:!0,configurable:!0,writable:!0,value:w}):Yt[Ge]=w,lw=(Yt,Ge)=>{for(var w in Ge||(Ge={}))vC.call(Ge,w)&&aw(Yt,w,Ge[w]);if(ow)for(var w of ow(Ge))bC.call(Ge,w)&&aw(Yt,w,Ge[w]);return Yt},cw=(Yt,Ge)=>_C(Yt,yC(Ge));(self.webpackChunkfly_cuadros=self.webpackChunkfly_cuadros||[]).push([[179],{7985:(Yt,Ge,w)=>{w.d(Ge,{ST:()=>lv,yb:()=>mE});var h=w(5e3),C=w(4986),S=w(8306),ae=w(8996),pe=w(9646),ye=w(5813),Pe=w(4482),ge=w(5403);function se(){return(0,Pe.e)((r,e)=>{let t,s=!1;r.subscribe((0,ge.x)(e,a=>{const u=t;t=a,s&&e.next([u,a]),s=!0}))})}var Y,re=w(8675),me=w(4004),Ce=w(5026),je=w(1884),ke=w(9300),Fe=w(2011),it=w(9808),et=(w(2274),w(3942)),Ie=w(5861),Ht=w(9681),tt=w(4859),be=w(1877),he=w(2090),Se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_e={},Ve=Ve||{},ve=Se||self;function qe(){}function Je(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function _t(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var kt="closure_uid_"+(1e9*Math.random()>>>0),At=0;function nt(r,e,t){return r.call.apply(r.bind,arguments)}function Ke(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Ue(r,e,t){return(Ue=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nt:Ke).apply(null,arguments)}function Dt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Mt(r,e){function t(){}t.prototype=e.prototype,r.Z=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(s,a,u){for(var m=Array(arguments.length-2),T=2;T<arguments.length;T++)m[T-2]=arguments[T];return e.prototype[a].apply(s,m)}}function ze(){this.s=this.s,this.o=this.o}var un={};ze.prototype.s=!1,ze.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function dt(r){return Object.prototype.hasOwnProperty.call(r,kt)&&r[kt]||(r[kt]=++At)}(this);delete un[r]}},ze.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ot=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1},ut=Array.prototype.forEach?function(r,e,t){Array.prototype.forEach.call(r,e,t)}:function(r,e,t){const s=r.length,a="string"==typeof r?r.split(""):r;for(let u=0;u<s;u++)u in a&&e.call(t,a[u],u,r)};function Te(r){return Array.prototype.concat.apply([],arguments)}function mt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function De(r){return/^[\s\xa0]*$/.test(r)}var Tt,pt=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function tn(r,e){return-1!=r.indexOf(e)}function fn(r,e){return r<e?-1:r>e?1:0}e:{var Q=ve.navigator;if(Q){var we=Q.userAgent;if(we){Tt=we;break e}}Tt=""}function at(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function ht(r){const e={};for(const t in r)e[t]=r[t];return e}var Lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let u=0;u<Lt.length;u++)t=Lt[u],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function dn(r){return dn[" "](r),r}dn[" "]=qe;var hn,r,bt=tn(Tt,"Opera"),Me=tn(Tt,"Trident")||tn(Tt,"MSIE"),gt=tn(Tt,"Edge"),xt=gt||Me,Ut=tn(Tt,"Gecko")&&!(tn(Tt.toLowerCase(),"webkit")&&!tn(Tt,"Edge"))&&!(tn(Tt,"Trident")||tn(Tt,"MSIE"))&&!tn(Tt,"Edge"),xn=tn(Tt.toLowerCase(),"webkit")&&!tn(Tt,"Edge");function Nn(){var r=ve.document;return r?r.documentMode:void 0}e:{var hi="",fi=(r=Tt,Ut?/rv:([^\);]+)(\)|;)/.exec(r):gt?/Edge\/([\d\.]+)/.exec(r):Me?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):xn?/WebKit\/(\S+)/.exec(r):bt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(fi&&(hi=fi?fi[1]:""),Me){var yi=Nn();if(null!=yi&&yi>parseFloat(hi)){hn=String(yi);break e}}hn=hi}var gn={};var O=ve.document&&Me&&(Nn()||parseInt(hn,10))||void 0,F=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ve.addEventListener("test",qe,e),ve.removeEventListener("test",qe,e)}catch(t){}return r}();function Z(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}function le(r,e){if(Z.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ut){e:{try{dn(e.nodeName);var a=!0;break e}catch(u){}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Le[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&le.Z.h.call(this)}}Z.prototype.h=function(){this.defaultPrevented=!0},Mt(le,Z);var Le={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),ot=0;function en(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++ot,this.ca=this.fa=!1}function cn(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function bn(r){this.src=r,this.g={},this.h=0}function bi(r,e){var t=e.type;if(t in r.g){var u,s=r.g[t],a=Ot(s,e);(u=0<=a)&&Array.prototype.splice.call(s,a,1),u&&(cn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function vt(r,e,t,s){for(var a=0;a<r.length;++a){var u=r[a];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==s)return a}return-1}bn.prototype.add=function(r,e,t,s,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var m=vt(r,e,s,a);return-1<m?(e=r[m],t||(e.fa=!1)):((e=new en(e,this.src,u,!!s,a)).fa=t,r.push(e)),e};var Ye="closure_lm_"+(1e6*Math.random()|0),Re={};function ct(r,e,t,s,a){if(s&&s.once)return Ae(r,e,t,s,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)ct(r,e[u],t,s,a);return null}return t=Ln(t),r&&r[ie]?r.N(e,t,_t(s)?!!s.capture:!!s,a):zt(r,e,t,!1,s,a)}function zt(r,e,t,s,a,u){if(!e)throw Error("Invalid event type");var m=_t(a)?!!a.capture:!!a,T=_n(r);if(T||(r[Ye]=T=new bn(r)),(t=T.add(e,t,s,m,u)).proxy)return t;if(s=function Et(){var e=Zt;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)F||(a=m),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Nt(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Ae(r,e,t,s,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ae(r,e[u],t,s,a);return null}return t=Ln(t),r&&r[ie]?r.O(e,t,_t(s)?!!s.capture:!!s,a):zt(r,e,t,!0,s,a)}function fe(r,e,t,s,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)fe(r,e[u],t,s,a);else s=_t(s)?!!s.capture:!!s,t=Ln(t),r&&r[ie]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=vt(u=r.g[e],t,s,a))&&(cn(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=_n(r))&&(e=r.g[e.toString()],r=-1,e&&(r=vt(e,t,s,a)),(t=-1<r?e[r]:null)&&Qe(t))}function Qe(r){if("number"!=typeof r&&r&&!r.ca){var e=r.src;if(e&&e[ie])bi(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Nt(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=_n(e))?(bi(t,r),0==t.h&&(t.src=null,e[Ye]=null)):cn(r)}}}function Nt(r){return r in Re?Re[r]:Re[r]="on"+r}function Zt(r,e){if(r.ca)r=!0;else{e=new le(e,this);var t=r.listener,s=r.ia||r.src;r.fa&&Qe(r),r=t.call(s,e)}return r}function _n(r){return(r=r[Ye])instanceof bn?r:null}var Rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ln(r){return"function"==typeof r?r:(r[Rn]||(r[Rn]=function(e){return r.handleEvent(e)}),r[Rn])}function jn(){ze.call(this),this.i=new bn(this),this.P=this,this.I=null}function nn(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new Z(e,r);else if(e instanceof Z)e.target=e.target||r;else{var a=e;sn(e=new Z(s,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var m=e.g=t[u];a=An(m,s,!0,e)&&a}if(a=An(m=e.g=r,s,!0,e)&&a,a=An(m,s,!1,e)&&a,t)for(u=0;u<t.length;u++)a=An(m=e.g=t[u],s,!1,e)&&a}function An(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var m=e[u];if(m&&!m.ca&&m.capture==t){var T=m.listener,L=m.ia||m.src;m.fa&&bi(r.i,m),a=!1!==T.call(L,s)&&a}}return a&&!s.defaultPrevented}Mt(jn,ze),jn.prototype[ie]=!0,jn.prototype.removeEventListener=function(r,e,t,s){fe(this,r,e,t,s)},jn.prototype.M=function(){if(jn.Z.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)cn(t[s]);delete r.g[e],r.h--}}this.I=null},jn.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},jn.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var ri=ve.JSON.stringify;function Si(){var r=ur;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Ti,Ai=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new br,r=>r.reset());class br{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mi(r){ve.setTimeout(()=>{throw r},0)}function $i(r,e){Ti||function Hn(){var r=ve.Promise.resolve(void 0);Ti=function(){r.then(_s)}}(),kr||(Ti(),kr=!0),ur.add(r,e)}var kr=!1,ur=new class Hi{constructor(){this.h=this.g=null}add(e,t){const s=Ai.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function _s(){for(var r;r=Si();){try{r.h.call(r.g)}catch(t){mi(t)}var e=Ai;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}kr=!1}function pr(r,e){jn.call(this),this.h=r||1,this.g=e||ve,this.j=Ue(this.kb,this),this.l=Date.now()}function Fi(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Nr(r,e,t){if("function"==typeof r)t&&(r=Ue(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ue(r.handleEvent,r)}return 2147483647<Number(e)?-1:ve.setTimeout(r,e||0)}function Fr(r){r.g=Nr(()=>{r.g=null,r.i&&(r.i=!1,Fr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Mt(pr,jn),(Y=pr.prototype).da=!1,Y.S=null,Y.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nn(this,"tick"),this.da&&(Fi(this),this.start()))}},Y.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){pr.Z.M.call(this),Fi(this),delete this.g};class dr extends ze{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fr(this)}M(){super.M(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(r){ze.call(this),this.h=r,this.g={}}Mt(ci,ze);var Lr=[];function ys(r,e,t,s){Array.isArray(t)||(t&&(Lr[0]=t.toString()),t=Lr);for(var a=0;a<t.length;a++){var u=ct(e,t[a],s||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function Ui(r){at(r.g,function(e,t){this.g.hasOwnProperty(t)&&Qe(e)},r),r.g={}}function Er(){this.g=!0}function or(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ws(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var m=1;m<a.length;m++)a[m]=""}}}return ri(t)}catch(T){return e}}(r,t)+(s?" "+s:"")})}ci.prototype.M=function(){ci.Z.M.call(this),Ui(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Er.prototype.Aa=function(){this.g=!1},Er.prototype.info=function(){};var vs={},Co=null;function er(){return Co=Co||new jn}function zr(r){Z.call(this,vs.Ma,r)}function es(r){const e=er();nn(e,new zr(e,r))}function Do(r,e){Z.call(this,vs.STAT_EVENT,r),this.stat=e}function xi(r){const e=er();nn(e,new Do(e,r))}function eo(r,e){Z.call(this,vs.Na,r),this.size=e}function ts(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){r()},e)}vs.Ma="serverreachability",Mt(zr,Z),vs.STAT_EVENT="statevent",Mt(Do,Z),vs.Na="timingevent",Mt(eo,Z);var Ps={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ns={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ks(){}function fo(){}ks.prototype.h=null;var Ns,po={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ks(){Z.call(this,"d")}function is(){Z.call(this,"c")}function mr(){}function bs(r,e,t,s){this.l=r,this.j=e,this.m=t,this.X=s||1,this.V=new ci(this),this.P=$o,this.W=new pr(r=xt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}Mt(Ks,Z),Mt(is,Z),Mt(mr,ks),mr.prototype.g=function(){return new XMLHttpRequest},mr.prototype.i=function(){return{}},Ns=new mr;var $o=45e3,ar={},Wr={};function xr(r,e,t){r.K=1,r.v=Ft(gi(e)),r.s=t,r.U=!0,Br(r,null)}function Br(r,e){r.F=Date.now(),wr(r),r.A=gi(r.v);var t=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),Dn(t.h,"t",s),r.C=0,t=r.l.H,r.h=new rs,r.g=os(r.l,t?e:null,!r.s),0<r.O&&(r.L=new dr(Ue(r.Ia,r,r.g),r.O)),ys(r.V,r.g,"readystatechange",r.gb),e=r.H?ht(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),es(1),function Rs(r,e,t,s,a,u){r.info(function(){if(r.g)if(u)for(var m="",T=u.split("&"),L=0;L<T.length;L++){var W=T[L].split("=");if(1<W.length){var de=W[0];W=W[1];var $e=de.split("_");m=2<=$e.length&&"type"==$e[1]?m+(de+"=")+W+"&":m+(de+"=redacted&")}}else m=null;else m=u;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+m})}(r.j,r.u,r.A,r.m,r.X,r.s)}function Fs(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function Go(r,e,t){let a,s=!0;for(;!r.I&&r.C<t.length;){if(a=ls(r,t),a==Wr){4==e&&(r.o=4,xi(14),s=!1),or(r.j,r.m,null,"[Incomplete Response]");break}if(a==ar){r.o=4,xi(15),or(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}or(r.j,r.m,a,null),Cs(r,a)}Fs(r)&&a!=Wr&&a!=ar&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,xi(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.aa&&(r.aa=!0,(e=r.l).g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),hs(e),e.L=!0,xi(11))):(or(r.j,r.m,t,"[Invalid Chunked Response]"),Oi(r),ws(r))}function ls(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Wr:(t=Number(e.substring(t,s)),isNaN(t)?ar:(s+=1)+t>e.length?Wr:(e=e.substr(s,t),r.C=s+t,e))}function wr(r){r.Y=Date.now()+r.P,Es(r,r.P)}function Es(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ts(Ue(r.eb,r),e)}function hr(r){r.B&&(ve.clearTimeout(r.B),r.B=null)}function ws(r){0==r.l.G||r.I||Wn(r.l,r)}function Oi(r){hr(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Fi(r.W),Ui(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Cs(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||nr(t.i,r)))if(t.I=r.N,!r.J&&nr(t.i,r)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(W){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=ts(Ue(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;Cn(t),Or(t)}ro(t),xi(18)}if(1>=zo(t.i)&&t.ka){try{t.ka()}catch(W){}t.ka=void 0}}else Bi(t,11)}else if((r.J||t.g==r)&&Cn(t),!De(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let W=a[e];if(t.U=W[0],W=W[1],2==t.G)if("c"==W[0]){t.J=W[1],t.la=W[2];const de=W[3];null!=de&&(t.ma=de,t.h.info("VER="+t.ma));const $e=W[4];null!=$e&&(t.za=$e,t.h.info("SVER="+t.za));const St=W[5];null!=St&&"number"==typeof St&&0<St&&(t.K=s=1.5*St,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const qt=r.g;if(qt){const Xt=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xt){var u=s.i;!u.g&&(tn(Xt,"spdy")||tn(Xt,"quic")||tn(Xt,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Wo(u,u.h),u.h=null))}if(s.D){const En=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;En&&(s.sa=En,He(s.F,s.D,En))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-r.F,t.h.info("Handshake RTT: "+t.O+"ms"));var m=r;if((s=t).oa=rr(s,s.H?s.la:null,s.W),m.J){go(s.i,m);var T=m,L=s.K;L&&T.setTimeout(L),T.B&&(hr(T),wr(T)),s.g=m}else Yr(s);0<t.l.length&&Qi(t)}else"stop"!=W[0]&&"close"!=W[0]||Bi(t,7);else 3==t.G&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?Bi(t,7):Ci(t):"noop"!=W[0]&&t.j&&t.j.wa(W),t.A=0)}es(4)}catch(W){}}function Ri(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Je(r)||"string"==typeof r)ut(r,e,void 0);else{if(r.T&&"function"==typeof r.T)var t=r.T();else if(r.R&&"function"==typeof r.R)t=void 0;else if(Je(r)||"string"==typeof r){t=[];for(var s=r.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,r)t[s++]=a;s=function Cr(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(Je(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length;for(var u=0;u<a;u++)e.call(void 0,s[u],t&&t[u],r)}}function Kr(r,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Kr)for(t=r.T(),s=0;s<t.length;s++)this.set(t[s],r.get(t[s]));else for(s in r)this.set(s,r[s])}function ss(r){if(r.i!=r.g.length){for(var e=0,t=0;e<r.g.length;){var s=r.g[e];gr(r.h,s)&&(r.g[t++]=s),e++}r.g.length=t}if(r.i!=r.g.length){var a={};for(t=e=0;e<r.g.length;)gr(a,s=r.g[e])||(r.g[t++]=s,a[s]=1),e++;r.g.length=t}}function gr(r,e){return Object.prototype.hasOwnProperty.call(r,e)}(Y=bs.prototype).setTimeout=function(r){this.P=r},Y.gb=function(r){r=r.target;const e=this.L;e&&3==Fn(r)?e.l():this.Ia(r)},Y.Ia=function(r){try{if(r==this.g)e:{const de=Fn(this.g);var e=this.g.Da();const $e=this.g.ba();if(!(3>de)&&(3!=de||xt||this.g&&(this.h.h||this.g.ga()||Kn(this.g)))){this.I||4!=de||7==e||es(8==e||0>=$e?3:2),hr(this);var t=this.g.ba();this.N=t;t:if(Fs(this)){var s=Kn(this.g);r="";var a=s.length,u=4==Fn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Oi(this),ws(this);var m="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:u&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==t,function zs(r,e,t,s,a,u,m){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+m})}(this.j,this.u,this.A,this.m,this.X,de,t),this.i){if(this.$&&!this.J){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!De(T)){var W=T;break t}}W=null}if(!(t=W)){this.i=!1,this.o=3,xi(12),Oi(this),ws(this);break e}or(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cs(this,t)}this.U?(Go(this,de,m),xt&&this.i&&3==de&&(ys(this.V,this.W,"tick",this.fb),this.W.start())):(or(this.j,this.m,m,null),Cs(this,m)),4==de&&Oi(this),this.i&&!this.I&&(4==de?Wn(this.l,this):(this.i=!1,wr(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),Oi(this),ws(this)}}}catch(de){}},Y.fb=function(){if(this.g){var r=Fn(this.g),e=this.g.ga();this.C<e.length&&(hr(this),Go(this,r,e),this.i&&4!=r&&wr(this))}},Y.cancel=function(){this.I=!0,Oi(this)},Y.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Ir(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(es(3),xi(17)),Oi(this),this.o=2,ws(this)):Es(this,this.Y-r)},(Y=Kr.prototype).R=function(){ss(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r},Y.T=function(){return ss(this),this.g.concat()},Y.get=function(r,e){return gr(this.h,r)?this.h[r]:e},Y.set=function(r,e){gr(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e},Y.forEach=function(r,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],u=this.get(a);r.call(e,u,a,this)}};var cs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function us(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof us){this.g=void 0!==e?e:r.g,V(this,r.j),this.s=r.s,ee(this,r.i),N(this,r.m),this.l=r.l,e=r.h;var t=new k;t.i=e.i,e.g&&(t.g=new Kr(e.g),t.h=e.h),ce(this,t),this.o=r.o}else r&&(t=String(r).match(cs))?(this.g=!!e,V(this,t[1]||"",!0),this.s=$n(t[2]||""),ee(this,t[3]||"",!0),N(this,t[4]),this.l=$n(t[5]||"",!0),ce(this,t[6]||"",!0),this.o=$n(t[7]||"")):(this.g=!!e,this.h=new k(null,this.g))}function gi(r){return new us(r)}function V(r,e,t){r.j=t?$n(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ee(r,e,t){r.i=t?$n(e,!0):e}function N(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ce(r,e,t){e instanceof k?(r.h=e,function Vr(r,e){e&&!r.j&&(M(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(ne(this,s),Dn(this,a,t))},r)),r.j=e}(r.h,r.g)):(t||(e=pi(e,zi)),r.h=new k(e,r.g))}function He(r,e,t){r.h.set(e,t)}function Ft(r){return He(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function $n(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function pi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,si),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function si(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}us.prototype.toString=function(){var r=[],e=this.j;e&&r.push(pi(e,ui,!0),":");var t=this.i;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(pi(e,ui,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&r.push("/"),r.push(pi(t,"/"==t.charAt(0)?wi:Yi,!0))),(t=this.h.toString())&&r.push("?",t),(t=this.o)&&r.push("#",pi(t,j)),r.join("")};var ui=/[#\/\?@]/g,Yi=/[#\?:]/g,wi=/[#\?]/g,zi=/[#\?@]/g,j=/#/g;function k(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function M(r){r.g||(r.g=new Kr,r.h=0,r.i&&function Zr(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var u=r[t].substring(0,s);a=r[t].substring(s+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ne(r,e){M(r),e=vi(r,e),gr(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,gr((r=r.g).h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&ss(r)))}function Bt(r,e){return M(r),e=vi(r,e),gr(r.g.h,e)}function Dn(r,e,t){ne(r,e),0<t.length&&(r.i=null,r.g.set(vi(r,e),mt(t)),r.h+=t.length)}function vi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ds(r){this.l=r||rn,r=ve.PerformanceNavigationTiming?0<(r=ve.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ve.g&&ve.g.Ea&&ve.g.Ea()&&ve.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=k.prototype).add=function(r,e){M(this),this.i=null,r=vi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Y.forEach=function(r,e){M(this),this.g.forEach(function(t,s){ut(t,function(a){r.call(e,a,s,this)},this)},this)},Y.T=function(){M(this);for(var r=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=r[s],u=0;u<a.length;u++)t.push(e[s]);return t},Y.R=function(r){M(this);var e=[];if("string"==typeof r)Bt(this,r)&&(e=Te(e,this.g.get(vi(this,r))));else{r=this.g.R();for(var t=0;t<r.length;t++)e=Te(e,r[t])}return e},Y.set=function(r,e){return M(this),this.i=null,Bt(this,r=vi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Y.get=function(r,e){return r&&0<(r=this.R(r)).length?String(r[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var u=0;u<s.length;u++){var m=a;""!==s[u]&&(m+="="+encodeURIComponent(String(s[u]))),r.push(m)}}return this.i=r.join("&")};var rn=10;function _i(r){return!!r.h||!!r.g&&r.g.size>=r.j}function zo(r){return r.h?1:r.g?r.g.size:0}function nr(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Wo(r,e){r.g?r.g.add(e):r.h=e}function go(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Ds(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return mt(r.i)}function To(){}function Da(){this.g=new To}function cl(r,e,t){const s=t||"";try{Ri(r,function(a,u){let m=a;_t(a)&&(m=ri(a)),e.push(s+u+"="+encodeURIComponent(m))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function to(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(u){}}function no(r){this.l=r.$b||null,this.j=r.ib||!1}function fr(r,e){jn.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ds.prototype.cancel=function(){if(this.i=Ds(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},To.prototype.stringify=function(r){return ve.JSON.stringify(r,void 0)},To.prototype.parse=function(r){return ve.JSON.parse(r,void 0)},Mt(no,ks),no.prototype.g=function(){return new fr(this.l,this.j)},no.prototype.i=function(r){return function(){return r}}({}),Mt(fr,jn);var Ls=0;function Ko(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function q(r){r.readyState=4,r.l=null,r.j=null,r.A=null,_(r)}function _(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Y=fr.prototype).open=function(r,e){if(this.readyState!=Ls)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,_(this)},Y.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||ve).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,q(this)),this.readyState=Ls},Y.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,_(this)),this.g&&(this.readyState=3,_(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ve.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ko(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},Y.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?q(this):_(this),3==this.readyState&&Ko(this)}},Y.Ua=function(r){this.g&&(this.response=this.responseText=r,q(this))},Y.Ta=function(r){this.g&&(this.response=r,q(this))},Y.ha=function(){this.g&&q(this)},Y.setRequestHeader=function(r,e){this.v.append(r,e)},Y.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var v=ve.JSON.parse;function P(r){jn.call(this),this.headers=new Kr,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=X,this.K=this.L=!1}Mt(P,jn);var X="",Ee=/^https?$/i,We=["POST","PUT"];function Ct(r){return"content-type"==r.toLowerCase()}function Kt(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,In(r),Gn(r)}function In(r){r.D||(r.D=!0,nn(r,"complete"),nn(r,"error"))}function Pn(r){if(r.h&&void 0!==Ve&&(!r.C[1]||4!=Fn(r)||2!=r.ba()))if(r.v&&4==Fn(r))Nr(r.Fa,0,r);else if(nn(r,"readystatechange"),4==Fn(r)){r.h=!1;try{const T=r.ba();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===T){var a=String(r.H).match(cs)[1]||null;if(!a&&ve.self&&ve.self.location){var u=ve.self.location.protocol;a=u.substr(0,u.length-1)}s=!Ee.test(a?a.toLowerCase():"")}t=s}if(t)nn(r,"complete"),nn(r,"success");else{r.m=6;try{var m=2<Fn(r)?r.g.statusText:""}catch(L){m=""}r.j=m+" ["+r.ba()+"]",In(r)}}finally{Gn(r)}}}function Gn(r,e){if(r.g){oi(r);const t=r.g,s=r.C[0]?qe:null;r.g=null,r.C=null,e||nn(r,"ready");try{t.onreadystatechange=s}catch(a){}}}function oi(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(ve.clearTimeout(r.A),r.A=null)}function Fn(r){return r.g?r.g.readyState:0}function Kn(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case X:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tr(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function Pi(r){let e="";return at(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):He(r,e,t))}function ir(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ur(r){this.za=0,this.l=[],this.h=new Er,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ir("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ir("baseRetryDelayMs",5e3,r),this.$a=ir("retryDelaySeedMs",1e4,r),this.Ya=ir("forwardChannelMaxRetries",2,r),this.ra=ir("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new ds(r&&r.concurrentRequestLimit),this.Ca=new Da,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function Ci(r){if(Li(r),3==r.G){var e=r.V++,t=gi(r.F);He(t,"SID",r.J),He(t,"RID",e),He(t,"TYPE","terminate"),Bs(r,t),(e=new bs(r,r.h,e,void 0)).K=2,e.v=Ft(gi(t)),t=!1,ve.navigator&&ve.navigator.sendBeacon&&(t=ve.navigator.sendBeacon(e.v.toString(),"")),!t&&ve.Image&&((new Image).src=e.v,t=!0),t||(e.g=os(e.l,null),e.g.ea(e.v)),e.F=Date.now(),wr(e)}Is(r)}function Or(r){r.g&&(hs(r),r.g.cancel(),r.g=null)}function Li(r){Or(r),r.u&&(ve.clearTimeout(r.u),r.u=null),Cn(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ve.clearTimeout(r.m),r.m=null)}function qr(r,e){r.l.push(new class{constructor(r,e){this.h=r,this.g=e}}(r.Za++,e)),3==r.G&&Qi(r)}function Qi(r){_i(r.i)||r.m||(r.m=!0,$i(r.Ha,r),r.C=0)}function io(r,e){var t;t=e?e.m:r.V++;const s=gi(r.F);He(s,"SID",r.J),He(s,"RID",t),He(s,"AID",r.U),Bs(r,s),r.o&&r.s&&tr(s,r.o,r.s),t=new bs(r,r.h,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.l=e.D.concat(r.l)),e=Mo(r,t,1e3),t.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),Wo(r.i,t),xr(t,s,e)}function Bs(r,e){r.j&&Ri({},function(t,s){He(e,s,t)})}function Mo(r,e,t){t=Math.min(r.l.length,t);var s=r.j?Ue(r.j.Oa,r.j,r):null;e:{var a=r.l;let u=-1;for(;;){const m=["count="+t];-1==u?0<t?(u=a[0].h,m.push("ofs="+u)):u=0:m.push("ofs="+u);let T=!0;for(let L=0;L<t;L++){let W=a[L].h;const de=a[L].g;if(W-=u,0>W)u=Math.max(0,a[L].h-100),T=!1;else try{cl(de,m,"req"+W+"_")}catch($e){s&&s(de)}}if(T){s=m.join("&");break e}}}return r=r.l.splice(0,t),e.D=r,s}function Yr(r){r.g||r.u||(r.Y=1,$i(r.Ga,r),r.A=0)}function ro(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=ts(Ue(r.Ga,r),ai(r,r.A)),r.A++,0))}function hs(r){null!=r.B&&(ve.clearTimeout(r.B),r.B=null)}function Mn(r){r.g=new bs(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var e=gi(r.oa);He(e,"RID","rpc"),He(e,"SID",r.J),He(e,"CI",r.N?"0":"1"),He(e,"AID",r.U),Bs(r,e),He(e,"TYPE","xmlhttp"),r.o&&r.s&&tr(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.la,t.K=1,t.v=Ft(gi(e)),t.s=null,t.U=!0,Br(t,r)}function Cn(r){null!=r.v&&(ve.clearTimeout(r.v),r.v=null)}function Wn(r,e){var t=null;if(r.g==e){Cn(r),hs(r),r.g=null;var s=2}else{if(!nr(r.i,e))return;t=e.D,go(r.i,e),s=1}if(r.I=e.N,0!=r.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=r.C;nn(s=er(),new eo(s,t,e,a)),Qi(r)}else Yr(r);else if(3==(a=e.o)||0==a&&0<r.I||!(1==s&&function So(r,e){return!(zo(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=e.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=ts(Ue(r.Ha,r,e),ai(r,r.C)),r.C++,0)))}(r,e)||2==s&&ro(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Bi(r,5);break;case 4:Bi(r,10);break;case 3:Bi(r,6);break;default:Bi(r,2)}}function ai(r,e){let t=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(t*=2),t*e}function Bi(r,e){if(r.h.info("Error code "+e),2==e){var t=null;r.j&&(t=null);var s=Ue(r.jb,r);t||(t=new us("//www.google.com/images/cleardot.gif"),ve.location&&"http"==ve.location.protocol||V(t,"https"),Ft(t)),function sa(r,e){const t=new Er;if(ve.Image){const s=new Image;s.onload=Dt(to,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Dt(to,t,s,"TestLoadImage: error",!1,e),s.onabort=Dt(to,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Dt(to,t,s,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else xi(2);r.G=0,r.j&&r.j.va(e),Is(r),Li(r)}function Is(r){r.G=0,r.I=-1,r.j&&((0!=Ds(r.i).length||0!=r.l.length)&&(r.i.i.length=0,mt(r.l),r.l.length=0),r.j.ua())}function rr(r,e,t){let s=function Wt(r){return r instanceof us?gi(r):new us(r,void 0)}(t);if(""!=s.i)e&&ee(s,e+"."+s.i),N(s,s.m);else{const a=ve.location;s=function Tn(r,e,t,s){var a=new us(null,void 0);return r&&V(a,r),e&&ee(a,e),t&&N(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return r.aa&&at(r.aa,function(a,u){He(s,u,a)}),t=r.sa,(e=r.D)&&t&&He(s,e,t),He(s,"VER",r.ma),Bs(r,s),s}function os(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new P(t&&r.Ba&&!r.qa?new no({ib:!0}):r.qa)).L=r.H,e}function ki(){}function Zo(){if(Me&&!(10<=Number(O)))throw Error("Environmental error: no available transport.")}function fs(r,e){jn.call(this),this.g=new Ur(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!De(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!De(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Wi(this)}function Qr(r){Ks.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ao(){is.call(this),this.status=1}function Wi(r){this.g=r}(Y=P.prototype).ea=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ns.g(),this.C=function Io(r){return r.h||(r.h=r.i())}(this.u?this.u:Ns),this.g.onreadystatechange=Ue(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(u){return void Kt(this,u)}r=t||"";const a=new Kr(this.headers);s&&Ri(s,function(u,m){a.set(m,u)}),s=function st(r){e:{var e=Ct;const t=r.length,s="string"==typeof r?r.split(""):r;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,r)){e=a;break e}e=-1}return 0>e?null:"string"==typeof r?r.charAt(e):r[e]}(a.T()),t=ve.FormData&&r instanceof ve.FormData,!(0<=Ot(We,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(u,m){this.g.setRequestHeader(m,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{oi(this),0<this.B&&((this.K=function Ze(r){return Me&&function qi(){return function Vt(r){var e=gn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=pt(String(hn)).split("."),t=pt("9").split("."),s=Math.max(e.length,t.length);for(let m=0;0==r&&m<s;m++){var a=e[m]||"",u=t[m]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;r=fn(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||fn(0==a[2].length,0==u[2].length)||fn(a[2],u[2]),a=a[3],u=u[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ue(this.pa,this)):this.A=Nr(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Kt(this,u)}},Y.pa=function(){void 0!==Ve&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))},Y.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,nn(this,"complete"),nn(this,"abort"),Gn(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gn(this,!0)),P.Z.M.call(this)},Y.Fa=function(){this.s||(this.F||this.v||this.l?Pn(this):this.cb())},Y.cb=function(){Pn(this)},Y.ba=function(){try{return 2<Fn(this)?this.g.status:-1}catch(r){return-1}},Y.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},Y.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),v(e)}},Y.Da=function(){return this.m},Y.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=Ur.prototype).ma=8,Y.G=1,Y.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(e){}},Y.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const a=new bs(this,this.h,r,void 0);let u=this.s;if(this.P&&(u?(u=ht(u),sn(u,this.P)):u=this.P),null===this.o&&(a.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mo(this,a,e),He(t=gi(this.F),"RID",r),He(t,"CVER",22),this.D&&He(t,"X-HTTP-Session-Id",this.D),Bs(this,t),this.o&&u&&tr(t,this.o,u),Wo(this.i,a),this.Ra&&He(t,"TYPE","init"),this.ja?(He(t,"$req",e),He(t,"SID","null"),a.$=!0,xr(a,t,null)):xr(a,t,e),this.G=2}}else 3==this.G&&(r?io(this,r):0==this.l.length||_i(this.i)||io(this))},Y.Ga=function(){if(this.u=null,Mn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=ts(Ue(this.bb,this),r)}},Y.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xi(10),Or(this),Mn(this))},Y.ab=function(){null!=this.v&&(this.v=null,Or(this),ro(this),xi(19))},Y.jb=function(r){r?(this.h.info("Successfully pinged google.com"),xi(2)):(this.h.info("Failed to ping google.com"),xi(1))},(Y=ki.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Oa=function(){},Zo.prototype.g=function(r,e){return new fs(r,e)},Mt(fs,jn),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),$i(Ue(r.hb,r,e))),xi(0),r.W=e,r.aa=t||{},r.N=r.X,r.F=rr(r,null,r.W),Qi(r)},fs.prototype.close=function(){Ci(this.g)},fs.prototype.u=function(r){if("string"==typeof r){var e={};e.__data__=r,qr(this.g,e)}else this.v?((e={}).__data__=ri(r),qr(this.g,e)):qr(this.g,r)},fs.prototype.M=function(){this.g.j=null,delete this.j,Ci(this.g),delete this.g,fs.Z.M.call(this)},Mt(Qr,Ks),Mt(Ao,is),Mt(Wi,ki),Wi.prototype.xa=function(){nn(this.g,"a")},Wi.prototype.wa=function(r){nn(this.g,new Qr(r))},Wi.prototype.va=function(r){nn(this.g,new Ao(r))},Wi.prototype.ua=function(){nn(this.g,"b")},Zo.prototype.createWebChannel=Zo.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,ns.COMPLETE="complete",fo.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",jn.prototype.listen=jn.prototype.N,P.prototype.listenOnce=P.prototype.O,P.prototype.getLastError=P.prototype.La,P.prototype.getLastErrorCode=P.prototype.Da,P.prototype.getStatus=P.prototype.ba,P.prototype.getResponseJson=P.prototype.Qa,P.prototype.getResponseText=P.prototype.ga,P.prototype.send=P.prototype.ea;var Ts=_e.createWebChannelTransport=function(){return new Zo},pa=_e.getStatEventTarget=function(){return er()},Vs=_e.ErrorCode=Ps,ul=_e.EventType=ns,Ha=_e.Event=vs,so=_e.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dl=_e.FetchXmlHttpFactory=no,Xi=_e.WebChannel=fo,Ia=_e.XhrIo=P;const oa="@firebase/firestore";class A{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A.UNAUTHENTICATED=new A(null),A.GOOGLE_CREDENTIALS=new A("google-credentials-uid"),A.FIRST_PARTY=new A("first-party-uid"),A.MOCK_USER=new A("mock-user");let D="9.9.4";const b=new be.Yd("@firebase/firestore");function U(){return b.logLevel}function K(r,...e){if(b.logLevel<=be.in.DEBUG){const t=e.map($t);b.debug(`Firestore (${D}): ${r}`,...t)}}function xe(r,...e){if(b.logLevel<=be.in.ERROR){const t=e.map($t);b.error(`Firestore (${D}): ${r}`,...t)}}function Xe(r,...e){if(b.logLevel<=be.in.WARN){const t=e.map($t);b.warn(`Firestore (${D}): ${r}`,...t)}}function $t(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function Gt(r="Unexpected state"){const e=`FIRESTORE (${D}) INTERNAL ASSERTION FAILED: `+r;throw xe(e),new Error(e)}function pn(r,e){r||Gt()}function on(r,e){return r}const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends he.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ma{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ga{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(A.UNAUTHENTICATED))}shutdown(){}}class xo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Nl{constructor(e){this.t=e,this.currentUser=A.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const u=W=>this.i!==a?(a=this.i,t(W)):Promise.resolve();let m=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ji,e.enqueueRetryable(()=>u(this.currentUser))};const T=()=>{const W=m;e.enqueueRetryable((0,Ie.Z)(function*(){yield W.promise,yield u(s.currentUser)}))},L=W=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(W=>L(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?L(W):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ji)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(pn("string"==typeof s.accessToken),new ma(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pn(null===e||"string"==typeof e),new A(e)}}class Ta{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a,this.type="FirstParty",this.user=A.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(pn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Fl{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a}getToken(){return Promise.resolve(new Ta(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(A.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qo{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=u=>{null!=u.error&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.A;return this.A=u.token,K("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?a(u):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pn("string"==typeof t.token),this.A=t.token,new Sa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ll(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Oo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Ll(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<t&&(s+=e.charAt(a[u]%e.length))}return s}}function Qn(r,e){return r<e?-1:r>e?1:0}function _o(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function Ro(r){return r+"\0"}class Ki{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Jt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Jt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Jt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Jt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ki.fromMillis(Date.now())}static fromDate(e){return Ki.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Ki(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zn(e)}static min(){return new Zn(new Ki(0,0))}static max(){return new Zn(new Ki(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bl{constructor(e,t,s){void 0===t?t=0:t>e.length&&Gt(),void 0===s?s=e.length-t:s>e.length-t&&Gt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Bl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const u=e.get(a),m=t.get(a);if(u<m)return-1;if(u>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vi extends Bl{construct(e,t,s){return new Vi(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Jt(wt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Vi(t)}static emptyPath(){return new Vi([])}}const Tr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends Bl{construct(e,t,s){return new Sr(e,t,s)}static isValidIdentifier(e){return Tr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const u=()=>{if(0===s.length)throw new Jt(wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let m=!1;for(;a<e.length;){const T=e[a];if("\\"===T){if(a+1===e.length)throw new Jt(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[a+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new Jt(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,a+=2}else"`"===T?(m=!m,a++):"."!==T||m?(s+=T,a++):(u(),a++)}if(u(),m)throw new Jt(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sr(t)}static emptyPath(){return new Sr([])}}class wn{constructor(e){this.path=e}static fromPath(e){return new wn(Vi.fromString(e))}static fromName(e){return new wn(Vi.fromString(e).popFirst(5))}static empty(){return new wn(Vi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wn(new Vi(e.slice()))}}class fl{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function $u(r){return r.fields.find(e=>2===e.kind)}function pl(r){return r.fields.filter(e=>2!==e.kind)}fl.UNKNOWN_ID=-1;class iu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ul{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ul(0,jr.min())}}function Rr(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Zn.fromTimestamp(1e9===s?new Ki(t+1,0):new Ki(t,s));return new jr(a,wn.empty(),e)}function ml(r){return new jr(r.readTime,r.key,-1)}class jr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new jr(Zn.min(),wn.empty(),-1)}static max(){return new jr(Zn.max(),wn.empty(),-1)}}function ru(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=wn.comparator(r.documentKey,e.documentKey),0!==t?t:Qn(r.largestBatchId,e.largestBatchId))}const jl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xr(r){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,Ie.Z)(function*(r){if(r.code!==wt.FAILED_PRECONDITION||r.message!==jl)throw r;K("LocalStore","Unexpectedly lost primary lease")}),Ma.apply(this,arguments)}class Rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rt((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Rt?t:Rt.resolve(t)}catch(t){return Rt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Rt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Rt.reject(t)}static resolve(e){return new Rt((t,s)=>{t(e)})}static reject(e){return new Rt((t,s)=>{s(e)})}static waitFor(e){return new Rt((t,s)=>{let a=0,u=0,m=!1;e.forEach(T=>{++a,T.next(()=>{++u,m&&u===a&&t()},L=>s(L))}),m=!0,u===a&&t()})}static or(e){let t=Rt.resolve(!1);for(const s of e)t=t.next(a=>a?Rt.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,u)=>{s.push(t.call(this,a,u))}),this.waitFor(s)}static mapArray(e,t){return new Rt((s,a)=>{const u=e.length,m=new Array(u);let T=0;for(let L=0;L<u;L++){const W=L;t(e[W]).next(de=>{m[W]=de,++T,T===u&&s(m)},de=>a(de))}})}static doWhile(e,t){return new Rt((s,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):s()};u()})}}class Aa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ji,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Po(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const a=la(s.target.error);this.P.reject(new Po(e,a))}}static open(e,t,s,a){try{return new Aa(t,e.transaction(a,s))}catch(u){throw new Po(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ah(t)}}class Zs{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===Zs.D((0,he.z$)())&&xe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),Yo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,he.hl)())return!1;if(Zs.N())return!0;const e=(0,he.z$)(),t=Zs.D(e),s=0<t&&t<10,a=Zs.k(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||u)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,Ie.Z)(function*(){return t.db||(K("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=m=>{s(m.target.result)},u.onblocked=()=>{a(new Po(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=m=>{const T=m.target.error;a("VersionError"===T.name?new Jt(wt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new Jt(wt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new Po(e,T))},u.onupgradeneeded=m=>{K("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.S.$(m.target.result,u.transaction,m.oldVersion,t.version).next(()=>{K("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var u=this;return(0,Ie.Z)(function*(){const m="readonly"===t;let T=0;for(;;){++T;try{u.db=yield u.F(e);const L=Aa.open(u.db,e,m?"readonly":"readwrite",s),W=a(L).next(de=>(L.V(),de)).catch(de=>(L.abort(de),Rt.reject(de))).toPromise();return W.catch(()=>{}),yield L.v,W}catch(L){const W=L,de="FirebaseError"!==W.name&&T<3;if(K("SimpleDb","Transaction failed with error:",W.message,"Retrying:",de),u.close(),!de)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gl{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Yo(this.U.delete())}}class Po extends Jt{constructor(e,t){super(wt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function aa(r){return"IndexedDbTransactionError"===r.name}class ah{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(K("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Yo(s)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),Yo(this.store.add(e))}get(e){return Yo(this.store.get(e)).next(t=>(void 0===t&&(t=null),K("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),Yo(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),Yo(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),u=[];return this.H(a,(m,T)=>{u.push(T)}).next(()=>u)}{const a=this.store.getAll(s.range);return new Rt((u,m)=>{a.onerror=T=>{m(T.target.error)},a.onsuccess=T=>{u(T.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Rt((a,u)=>{s.onerror=m=>{u(m.target.error)},s.onsuccess=m=>{a(m.target.result)}})}Y(e,t){K("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const a=this.cursor(s);return this.H(a,(u,m,T)=>T.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.H(a,t)}tt(e){const t=this.cursor({});return new Rt((s,a)=>{t.onerror=u=>{const m=la(u.target.error);a(m)},t.onsuccess=u=>{const m=u.target.result;m?e(m.primaryKey,m.value).next(T=>{T?m.continue():s()}):s()}})}H(e,t){const s=[];return new Rt((a,u)=>{e.onerror=m=>{u(m.target.error)},e.onsuccess=m=>{const T=m.target.result;if(!T)return void a();const L=new gl(T),W=t(T.primaryKey,T.value,L);if(W instanceof Rt){const de=W.catch($e=>(L.done(),Rt.reject($e)));s.push(de)}L.isDone?a():null===L.G?T.continue():T.continue(L.G)}}).next(()=>Rt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yo(r){return new Rt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=la(s.target.error);t(a)}})}let Ss=!1;function la(r){const e=Zs.D((0,he.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Jt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ss||(Ss=!0,setTimeout(()=>{throw s},0)),s}}return r}class ca{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;K("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ie.Z)(function*(){t.task=null;try{K("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){aa(s)?K("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Xr(s)}yield t.nt(1)}))}}class su{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ie.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let a=t,u=!0;return Rt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return K("IndexBackiller",`Processing collection: ${m}`),this.rt(e,m,a).next(T=>{a-=T,s.add(m)});u=!1})).next(()=>t-a)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(u=>{const m=u.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.ot(a,u)).next(T=>(K("IndexBackiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,t,T))).next(()=>m.size)}))}ot(e,t){let s=e;return t.changes.forEach((a,u)=>{const m=ml(u);ru(m,s)>0&&(s=m)}),new jr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ps{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>t.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function $a(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ga(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function yc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}ps.at=-1;class Pr{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new Pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new za(this.root,e,this.comparator,!1)}getReverseIterator(){return new za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new za(this.root,e,this.comparator,!0)}}class za{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,s,a,u){this.key=e,this.value=t,this.color=null!=s?s:Hr.RED,this.left=null!=a?a:Hr.EMPTY,this.right=null!=u?u:Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,u){return new Hr(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Hr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gt();const e=this.left.check();if(e!==this.right.check())throw Gt();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt()}get value(){throw Gt()}get color(){throw Gt()}get left(){throw Gt()}get right(){throw Gt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Hr(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ni{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qo(this.data.getIterator())}getIteratorFrom(e){return new Qo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ni(this.comparator);return t.data=e,t}}class Qo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _l(r){return r.hasNext()?r.getNext():void 0}class ms{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new ms([])}unionWith(e){let t=new Ni(Sr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new yr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const ua=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(r){if(pn(!!r),"string"==typeof r){let e=0;const t=ua.exec(r);if(pn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dr(r.seconds),nanos:Dr(r.nanos)}}function Dr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Xo(r){return"string"==typeof r?yr.fromBase64String(r):yr.fromUint8Array(r)}function Hl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Wa(r){const e=r.mapValue.fields.__previous_value__;return Hl(e)?Wa(e):e}function yl(r){const e=xa(r.mapValue.fields.__local_write_time__.timestampValue);return new Ki(e.seconds,e.nanos)}class R{constructor(e,t,s,a,u,m,T,L){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=T,this.useFetchStreams=L}}class B{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new B("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof B&&e.projectId===this.projectId&&e.database===this.database}}function te(r){return null==r}function Ne(r){return 0===r&&1/r==-1/0}function ft(r){return"number"==typeof r&&Number.isInteger(r)&&!Ne(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Pt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},an={nullValue:"NULL_VALUE"};function vn(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hl(r)?4:No(r)?9007199254740991:10:Gt()}function Vn(r,e){if(r===e)return!0;const t=vn(r);if(t!==vn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yl(r).isEqual(yl(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=xa(s.timestampValue),m=xa(a.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Xo(r.bytesValue).isEqual(Xo(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Dr(s.geoPointValue.latitude)===Dr(a.geoPointValue.latitude)&&Dr(s.geoPointValue.longitude)===Dr(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Dr(s.integerValue)===Dr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Dr(s.doubleValue),m=Dr(a.doubleValue);return u===m?Ne(u)===Ne(m):isNaN(u)&&isNaN(m)}return!1}(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:return function(s,a){const u=s.mapValue.fields||{},m=a.mapValue.fields||{};if($a(u)!==$a(m))return!1;for(const T in u)if(u.hasOwnProperty(T)&&(void 0===m[T]||!Vn(u[T],m[T])))return!1;return!0}(r,e);default:return Gt()}var a}function Xn(r,e){return void 0!==(r.values||[]).find(t=>Vn(t,e))}function Jn(r,e){if(r===e)return 0;const t=vn(r),s=vn(e);if(t!==s)return Qn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qn(r.booleanValue,e.booleanValue);case 2:return function(a,u){const m=Dr(a.integerValue||a.doubleValue),T=Dr(u.integerValue||u.doubleValue);return m<T?-1:m>T?1:m===T?0:isNaN(m)?isNaN(T)?0:-1:1}(r,e);case 3:return qn(r.timestampValue,e.timestampValue);case 4:return qn(yl(r),yl(e));case 5:return Qn(r.stringValue,e.stringValue);case 6:return function(a,u){const m=Xo(a),T=Xo(u);return m.compareTo(T)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const m=a.split("/"),T=u.split("/");for(let L=0;L<m.length&&L<T.length;L++){const W=Qn(m[L],T[L]);if(0!==W)return W}return Qn(m.length,T.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const m=Qn(Dr(a.latitude),Dr(u.latitude));return 0!==m?m:Qn(Dr(a.longitude),Dr(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const m=a.values||[],T=u.values||[];for(let L=0;L<m.length&&L<T.length;++L){const W=Jn(m[L],T[L]);if(W)return W}return Qn(m.length,T.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===Pt.mapValue&&u===Pt.mapValue)return 0;if(a===Pt.mapValue)return 1;if(u===Pt.mapValue)return-1;const m=a.fields||{},T=Object.keys(m),L=u.fields||{},W=Object.keys(L);T.sort(),W.sort();for(let de=0;de<T.length&&de<W.length;++de){const $e=Qn(T[de],W[de]);if(0!==$e)return $e;const St=Jn(m[T[de]],L[W[de]]);if(0!==St)return St}return Qn(T.length,W.length)}(r.mapValue,e.mapValue);default:throw Gt()}}function qn(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Qn(r,e);const t=xa(r),s=xa(e),a=Qn(t.seconds,s.seconds);return 0!==a?a:Qn(t.nanos,s.nanos)}function lr(r){return Us(r)}function Us(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=xa(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Xo(r.bytesValue).toBase64():"referenceValue"in r?wn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",u=!0;for(const m of s.values||[])u?u=!1:a+=",",a+=Us(m);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let u="{",m=!0;for(const T of a)m?m=!1:u+=",",u+=`${T}:${Us(s.fields[T])}`;return u+"}"}(r.mapValue):Gt();var e}function yo(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jo(r){return!!r&&"integerValue"in r}function qs(r){return!!r&&"arrayValue"in r}function vc(r){return!!r&&"nullValue"in r}function vl(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ea(r){return!!r&&"mapValue"in r}function Ms(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ga(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ms(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ms(r.arrayValue.values[t]);return e}return Object.assign({},r)}function No(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function ou(r){return"nullValue"in r?an:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?yo(B.empty(),wn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Gt()}function lh(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?yo(B.empty(),wn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Pt:Gt()}function Gu(r,e){const t=Jn(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function ch(r,e){const t=Jn(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class js{constructor(e){this.value=e}static empty(){return new js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ea(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ms(t)}setAll(e){let t=Sr.emptyPath(),s={},a=[];e.forEach((m,T)=>{if(!t.isImmediateParentOf(T)){const L=this.getFieldsMap(t);this.applyChanges(L,s,a),s={},a=[],t=T.popLast()}m?s[T.lastSegment()]=Ms(m):a.push(T.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,a)}delete(e){const t=this.field(e.popLast());ea(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ea(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ga(t,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new js(Ms(this.value))}}function uh(r){const e=[];return Ga(r.fields,(t,s)=>{const a=new Sr([t]);if(ea(s)){const u=uh(s.mapValue).fields;if(0===u.length)e.push(a);else for(const m of u)e.push(a.child(m))}else e.push(a)}),new ms(e)}class cr{constructor(e,t,s,a,u,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=u,this.documentState=m}static newInvalidDocument(e){return new cr(e,0,Zn.min(),Zn.min(),js.empty(),0)}static newFoundDocument(e,t,s){return new cr(e,1,t,Zn.min(),s,0)}static newNoDocument(e,t){return new cr(e,2,t,Zn.min(),js.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,Zn.min(),js.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lp{constructor(e,t=null,s=[],a=[],u=null,m=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=m,this.endAt=T,this.ht=null}}function bc(r,e=null,t=[],s=[],a=null,u=null,m=null){return new lp(r,e,t,s,a,u,m)}function Oa(r){const e=on(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(a=s).field.canonicalString()+a.op.toString()+lr(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),te(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>lr(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>lr(s)).join(",")),e.ht=t}return e.ht}function Ec(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!mh(r.orderBy[a],e.orderBy[a]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if((t=r.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Vn(t.value,s.value))return!1;var t,s;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!gh(r.startAt,e.startAt)&&gh(r.endAt,e.endAt)}function au(r){return wn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function zu(r,e){return r.filters.filter(t=>t instanceof As&&t.field.isEqual(e))}function wc(r,e,t){let s=an,a=!0;for(const u of zu(r,e)){let m=an,T=!0;switch(u.op){case"<":case"<=":m=ou(u.value);break;case"==":case"in":case">=":m=u.value;break;case">":m=u.value,T=!1;break;case"!=":case"not-in":m=an}Gu({value:s,inclusive:a},{value:m,inclusive:T})<0&&(s=m,a=T)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const m=t.position[u];Gu({value:s,inclusive:a},{value:m,inclusive:t.inclusive})<0&&(s=m,a=t.inclusive);break}return{value:s,inclusive:a}}function Gl(r,e,t){let s=Pt,a=!0;for(const u of zu(r,e)){let m=Pt,T=!0;switch(u.op){case">=":case">":m=lh(u.value),T=!1;break;case"==":case"in":case"<=":m=u.value;break;case"<":m=u.value,T=!1;break;case"!=":case"not-in":m=Pt}ch({value:s,inclusive:a},{value:m,inclusive:T})>0&&(s=m,a=T)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const m=t.position[u];ch({value:s,inclusive:a},{value:m,inclusive:t.inclusive})>0&&(s=m,a=t.inclusive);break}return{value:s,inclusive:a}}class As extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,s):new dh(e,t,s):"array-contains"===t?new ph(e,s):"in"===t?new cp(e,s):"not-in"===t?new up(e,s):"array-contains-any"===t?new dp(e,s):new As(e,t,s)}static lt(e,t,s){return"in"===t?new hh(e,s):new bl(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Jn(t,this.value)):null!==t&&vn(this.value)===vn(t)&&this.ft(Jn(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dh extends As{constructor(e,t,s){super(e,t,s),this.key=wn.fromName(s.referenceValue)}matches(e){const t=wn.comparator(e.key,this.key);return this.ft(t)}}class hh extends As{constructor(e,t){super(e,"in",t),this.keys=fh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bl extends As{constructor(e,t){super(e,"not-in",t),this.keys=fh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fh(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>wn.fromName(s.referenceValue))}class ph extends As{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qs(t)&&Xn(t.arrayValue,this.value)}}class cp extends As{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xn(this.value.arrayValue,t)}}class up extends As{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xn(this.value.arrayValue,t)}}class dp extends As{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Xn(this.value.arrayValue,s))}}class Ys{constructor(e,t){this.position=e,this.inclusive=t}}class Fo{constructor(e,t="asc"){this.field=e,this.dir=t}}function mh(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function lu(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const u=e[a],m=r.position[a];if(s=u.field.isKeyField()?wn.comparator(wn.fromName(m.referenceValue),t.key):Jn(m,t.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return s}function gh(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Vn(r.position[t],e.position[t]))return!1;return!0}class _a{constructor(e,t=null,s=[],a=[],u=null,m="F",T=null,L=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=m,this.startAt=T,this.endAt=L,this._t=null,this.wt=null}}function _h(r,e,t,s,a,u,m,T){return new _a(r,e,t,s,a,u,m,T)}function Ka(r){return new _a(r)}function Wu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function cu(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function uu(r){for(const e of r.filters)if(e.dt())return e.field;return null}function Ku(r){return null!==r.collectionGroup}function zl(r){const e=on(r);if(null===e._t){e._t=[];const t=uu(e),s=cu(e);if(null!==t&&null===s)t.isKeyField()||e._t.push(new Fo(t)),e._t.push(new Fo(Sr.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Fo(Sr.keyField(),u))}}}return e._t}function Lo(r){const e=on(r);if(!e.wt)if("F"===e.limitType)e.wt=bc(e.path,e.collectionGroup,zl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of zl(e))t.push(new Fo(u.field,"desc"===u.dir?"asc":"desc"));const s=e.endAt?new Ys(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ys(e.startAt.position,e.startAt.inclusive):null;e.wt=bc(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.wt}function Zu(r,e,t){return new _a(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ao(r,e){return Ec(Lo(r),Lo(e))&&r.limitType===e.limitType}function qu(r){return`${Oa(Lo(r))}|lt:${r.limitType}`}function ta(r){return`Query(target=${function $l(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${lr(s.value)}`;var s}).join(", ")}]`),te(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>lr(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>lr(t)).join(",")),`Target(${e})`}(Lo(r))}; limitType=${r.limitType})`}function Ra(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):wn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,u,m){const T=lu(a,u,m);return a.inclusive?T<=0:T<0}(t.startAt,zl(t),s)||t.endAt&&!function(a,u,m){const T=lu(a,u,m);return a.inclusive?T>=0:T>0}(t.endAt,zl(t),s)));var t,s}function Yu(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Cc(r){return(e,t)=>{let s=!1;for(const a of zl(r)){const u=yh(a,e,t);if(0!==u)return u;s=s||a.field.isKeyField()}return 0}}function yh(r,e,t){const s=r.field.isKeyField()?wn.comparator(e.key,t.key):function(a,u,m){const T=u.data.field(a),L=m.data.field(a);return null!==T&&null!==L?Jn(T,L):Gt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Gt()}}function hp(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ne(e)?"-0":e}}function Qu(r){return{integerValue:""+r}}function fp(r,e){return ft(e)?Qu(e):hp(r,e)}class Wl{constructor(){this._=void 0}}function Dc(r,e,t){return r instanceof Ic?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof Za?vh(r,e):r instanceof qa?du(r,e):function(s,a){const u=pp(s,a),m=Ju(u)+Ju(s.yt);return Jo(u)&&Jo(s.yt)?Qu(m):hp(s.It,m)}(r,e)}function Xu(r,e,t){return r instanceof Za?vh(r,e):r instanceof qa?du(r,e):t}function pp(r,e){return r instanceof Kl?Jo(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ic extends Wl{}class Za extends Wl{constructor(e){super(),this.elements=e}}function vh(r,e){const t=El(e);for(const s of r.elements)t.some(a=>Vn(a,s))||t.push(s);return{arrayValue:{values:t}}}class qa extends Wl{constructor(e){super(),this.elements=e}}function du(r,e){let t=El(e);for(const s of r.elements)t=t.filter(a=>!Vn(a,s));return{arrayValue:{values:t}}}class Kl extends Wl{constructor(e,t){super(),this.It=e,this.yt=t}}function Ju(r){return Dr(r.integerValue||r.doubleValue)}function El(r){return qs(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ya{constructor(e,t){this.field=e,this.transform=t}}class mp{constructor(e,t){this.version=e,this.transformResults=t}}class di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hu(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class fu{}function pu(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new as(r.key,di.none()):new Zl(r.key,r.data,di.none());{const t=r.data,s=js.empty();let a=new Ni(Sr.comparator);for(let u of e.fields)if(!a.has(u)){let m=t.field(u);null===m&&u.length>1&&(u=u.popLast(),m=t.field(u)),null===m?s.delete(u):s.set(u,m),a=a.add(u)}return new Bo(r.key,s,new ms(a.toArray()),di.none())}}function td(r,e,t){r instanceof Zl?function(s,a,u){const m=s.value.clone(),T=Eh(s.fieldTransforms,a,u.transformResults);m.setAll(T),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(r,e,t):r instanceof Bo?function(s,a,u){if(!hu(s.precondition,a))return void a.convertToUnknownDocument(u.version);const m=Eh(s.fieldTransforms,a,u.transformResults),T=a.data;T.setAll(_p(s)),T.setAll(m),a.convertToFoundDocument(u.version,T).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tc(r,e,t,s){return r instanceof Zl?function(a,u,m,T){if(!hu(a.precondition,u))return m;const L=a.value.clone(),W=ql(a.fieldTransforms,T,u);return L.setAll(W),u.convertToFoundDocument(u.version,L).setHasLocalMutations(),null}(r,e,t,s):r instanceof Bo?function(a,u,m,T){if(!hu(a.precondition,u))return m;const L=ql(a.fieldTransforms,T,u),W=u.data;return W.setAll(_p(a)),W.setAll(L),u.convertToFoundDocument(u.version,W).setHasLocalMutations(),null===m?null:m.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(de=>de.field))}(r,e,t,s):(m=t,hu(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m);var u,m}function gp(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),u=pp(s.transform,a||null);null!=u&&(null===t&&(t=js.empty()),t.set(s.field,u))}return t||null}function bh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&_o(t,s,(a,u)=>function ed(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Za&&s instanceof Za||t instanceof qa&&s instanceof qa?_o(t.elements,s.elements,Vn):t instanceof Kl&&s instanceof Kl?Vn(t.yt,s.yt):t instanceof Ic&&s instanceof Ic);var t,s}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Zl extends fu{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bo extends fu{constructor(e,t,s,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _p(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Eh(r,e,t){const s=new Map;pn(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],m=u.transform,T=e.data.field(u.field);s.set(u.field,Xu(m,T,t[a]))}return s}function ql(r,e,t){const s=new Map;for(const a of r){const u=a.transform,m=t.data.field(a.field);s.set(a.field,Dc(u,m,e))}return s}class as extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sc extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wh{constructor(e){this.count=e}}var $r,ti;function Qa(r){switch(r){default:return Gt();case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0}}function Mc(r){if(void 0===r)return xe("GRPC error has no .code"),wt.UNKNOWN;switch(r){case $r.OK:return wt.OK;case $r.CANCELLED:return wt.CANCELLED;case $r.UNKNOWN:return wt.UNKNOWN;case $r.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case $r.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case $r.INTERNAL:return wt.INTERNAL;case $r.UNAVAILABLE:return wt.UNAVAILABLE;case $r.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case $r.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case $r.NOT_FOUND:return wt.NOT_FOUND;case $r.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case $r.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case $r.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case $r.ABORTED:return wt.ABORTED;case $r.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case $r.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case $r.DATA_LOSS:return wt.DATA_LOSS;default:return Gt()}}(ti=$r||($r={}))[ti.OK=0]="OK",ti[ti.CANCELLED=1]="CANCELLED",ti[ti.UNKNOWN=2]="UNKNOWN",ti[ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ti[ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ti[ti.NOT_FOUND=5]="NOT_FOUND",ti[ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",ti[ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",ti[ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",ti[ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ti[ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ti[ti.ABORTED=10]="ABORTED",ti[ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",ti[ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",ti[ti.INTERNAL=13]="INTERNAL",ti[ti.UNAVAILABLE=14]="UNAVAILABLE",ti[ti.DATA_LOSS=15]="DATA_LOSS";class Xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,u]of s)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,(t,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return yc(this.inner)}size(){return this.innerSize}}const nd=new Pr(wn.comparator);function lo(){return nd}const vo=new Pr(wn.comparator);function ya(...r){let e=vo;for(const t of r)e=e.insert(t.key,t);return e}function id(r){let e=vo;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function da(){return wl()}function mu(){return wl()}function wl(){return new Xa(r=>r.toString(),(r,e)=>r.isEqual(e))}const rd=new Pr(wn.comparator),Ch=new Ni(wn.comparator);function Ei(...r){let e=Ch;for(const t of r)e=e.add(t);return e}const va=new Ni(Qn);function Ac(){return va}class xc{constructor(e,t,s,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Ja.createSynthesizedTargetChangeForCurrentChange(e,t)),new xc(Zn.min(),s,Ac(),lo(),Ei())}}class Ja{constructor(e,t,s,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ja(yr.EMPTY_BYTE_STRING,t,Ei(),Ei(),Ei())}}class gu{constructor(e,t,s,a){this.Tt=e,this.removedTargetIds=t,this.key=s,this.Et=a}}class sd{constructor(e,t){this.targetId=e,this.At=t}}class co{constructor(e,t,s=yr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class _u{constructor(){this.Rt=0,this.bt=ba(),this.Pt=yr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ei(),t=Ei(),s=Ei();return this.bt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Gt()}}),new Ja(this.Pt,this.vt,e,t,s)}Nt(){this.Vt=!1,this.bt=ba()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class od{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=lo(),this.qt=ad(),this.Kt=new Ni(Qn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const s=this.zt(t);switch(e.state){case 0:this.Ht(t)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),s.Ct(e.resumeToken));break;default:Gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((s,a)=>{this.Ht(a)&&t(a)})}Yt(e){const t=e.targetId,s=e.At.count,a=this.Xt(t);if(a){const u=a.target;if(au(u))if(0===s){const m=new wn(u.path);this.jt(t,m,cr.newNoDocument(m,Zn.min()))}else pn(1===s);else this.Zt(t)!==s&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,m)=>{const T=this.Xt(m);if(T){if(u.current&&au(T.target)){const L=new wn(T.target.path);null!==this.Ut.get(L)||this.ee(m,L)||this.jt(m,L,cr.newNoDocument(L,e))}u.Dt&&(t.set(m,u.xt()),u.Nt())}});let s=Ei();this.qt.forEach((u,m)=>{let T=!0;m.forEachWhile(L=>{const W=this.Xt(L);return!W||2===W.purpose||(T=!1,!1)}),T&&(s=s.add(u))}),this.Ut.forEach((u,m)=>m.setReadTime(e));const a=new xc(e,t,this.Kt,this.Ut,s);return this.Ut=lo(),this.qt=ad(),this.Kt=new Ni(Qn),a}Qt(e,t){if(!this.Ht(e))return;const s=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,s){if(!this.Ht(e))return;const a=this.zt(e);this.ee(e,t)?a.kt(t,1):a.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new _u,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Ni(Qn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||K("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new _u),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ad(){return new Pr(wn.comparator)}function ba(){return new Pr(wn.comparator)}const Oc={asc:"ASCENDING",desc:"DESCENDING"},Dh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ih{constructor(e,t){this.databaseId=e,this.gt=t}}function Rc(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yu(r,e){return r.gt?e.toBase64():e.toUint8Array()}function yp(r,e){return Rc(r,e.toTimestamp())}function xs(r){return pn(!!r),Zn.fromTimestamp(function(e){const t=xa(e);return new Ki(t.seconds,t.nanos)}(r))}function el(r,e){return(t=r,new Vi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ha(r){const e=Vi.fromString(r);return pn(vu(e)),e}function g(r,e){return el(r.databaseId,e.path)}function d(r,e){const t=ha(e);if(t.get(1)!==r.databaseId.projectId)throw new Jt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Jt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new wn(ue(t))}function f(r,e){return el(r.databaseId,e)}function E(r){const e=ha(r);return 4===e.length?Vi.emptyPath():ue(e)}function $(r){return new Vi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ue(r){return pn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function lt(r,e,t){return{name:g(r,e),fields:t.value.mapValue.fields}}function jt(r,e,t){const s=d(r,e.name),a=xs(e.updateTime),u=new js({mapValue:{fields:e.fields}}),m=cr.newFoundDocument(s,a,u);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Yn(r,e){let t;if(e instanceof Zl)t={update:lt(r,e.key,e.value)};else if(e instanceof as)t={delete:g(r,e.key)};else if(e instanceof Bo)t={update:lt(r,e.key,e.data),updateMask:vp(e.fieldMask)};else{if(!(e instanceof Sc))return Gt();t={verify:g(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,u){const m=u.transform;if(m instanceof Ic)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Za)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof qa)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kl)return{fieldPath:u.field.canonicalString(),increment:m.yt};throw Gt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:yp(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Gt()),t;var a}function zn(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?di.updateTime(xs(a.updateTime)):void 0!==a.exists?di.exists(a.exists):di.none():di.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(u,m){let T=null;"setToServerValue"in m?(pn("REQUEST_TIME"===m.setToServerValue),T=new Ic):"appendMissingElements"in m?T=new Za(m.appendMissingElements.values||[]):"removeAllFromArray"in m?T=new qa(m.removeAllFromArray.values||[]):"increment"in m?T=new Kl(u,m.increment):Gt();const L=Sr.fromServerFormat(m.fieldPath);return new Ya(L,T)}(r,a)):[];var a;if(e.update){const a=d(r,e.update.name),u=new js({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new ms((e.updateMask.fieldPaths||[]).map(W=>Sr.fromServerFormat(W)));return new Bo(a,u,m,t,s)}return new Zl(a,u,t,s)}if(e.delete){const a=d(r,e.delete);return new as(a,t)}if(e.verify){const a=d(r,e.verify);return new Sc(a,t)}return Gt()}function bo(r,e){return{documents:[f(r,e.path)]}}function Yl(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=f(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=f(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(L){if(0===L.length)return;const W=L.map(de=>function($e){if("=="===$e.op){if(vl($e.value))return{unaryFilter:{field:Pa($e.field),op:"IS_NAN"}};if(vc($e.value))return{unaryFilter:{field:Pa($e.field),op:"IS_NULL"}}}else if("!="===$e.op){if(vl($e.value))return{unaryFilter:{field:Pa($e.field),op:"IS_NOT_NAN"}};if(vc($e.value))return{unaryFilter:{field:Pa($e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa($e.field),op:cd($e.op),value:$e.value}}}(de));return 1===W.length?W[0]:{compositeFilter:{op:"AND",filters:W}}}(e.filters);a&&(t.structuredQuery.where=a);const u=function(L){if(0!==L.length)return L.map(W=>{return{field:Pa((de=W).field),direction:ld(de.dir)};var de})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=(W=e.limit,r.gt||te(W)?W:{value:W});var W,T,L;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),t}function Th(r){let e=E(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){pn(1===s);const de=t.from[0];de.allDescendants?a=de.collectionId:e=e.child(de.collectionId)}let u=[];t.where&&(u=Pc(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(de=>{return new Fo(Cl(($e=de).field),function(St){switch(St){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($e.direction));var $e}));let T=null;t.limit&&(T=function(de){let $e;return $e="object"==typeof de?de.value:de,te($e)?null:$e}(t.limit));let L=null;var de;t.startAt&&(L=new Ys((de=t.startAt).values||[],!!de.before));let W=null;return t.endAt&&(W=function(de){return new Ys(de.values||[],!de.before)}(t.endAt)),_h(e,a,m,u,T,"F",L,W)}function Pc(r){return r?void 0!==r.unaryFilter?[Sh(r)]:void 0!==r.fieldFilter?[ud(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>Pc(e)).reduce((e,t)=>e.concat(t)):Gt():[]}function ld(r){return Oc[r]}function cd(r){return Dh[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function Cl(r){return Sr.fromServerFormat(r.fieldPath)}function ud(r){return As.create(Cl(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gt()}}(r.fieldFilter.op),r.fieldFilter.value)}function Sh(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Cl(r.unaryFilter.field);return As.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Cl(r.unaryFilter.field);return As.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cl(r.unaryFilter.field);return As.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cl(r.unaryFilter.field);return As.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Gt()}}function vp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vu(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function uo(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Mh(e)),e=Ig(r.get(t),e);return Mh(e)}function Ig(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Mh(r){return r+"\x01\x01"}function ka(r){const e=r.length;if(pn(e>=2),2===e)return pn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Vi.emptyPath();const t=e-2,s=[];let a="";for(let u=0;u<e;){const m=r.indexOf("\x01",u);switch((m<0||m>t)&&Gt(),r.charAt(m+1)){case"\x01":const T=r.substring(u,m);let L;0===a.length?L=T:(a+=T,L=a,a=""),s.push(L);break;case"\x10":a+=r.substring(u,m),a+="\0";break;case"\x11":a+=r.substring(u,m+1);break;default:Gt()}u=m+2}return new Vi(s)}const Ah=["userId","batchId"];function xh(r,e){return[r,uo(e)]}function Tg(r,e,t){return[r,uo(e),t]}const Sg={},Mg=["prefixPath","collectionGroup","readTime","documentId"],kc=["prefixPath","collectionGroup","documentId"],Ag=["collectionGroup","readTime","prefixPath","documentId"],xg=["canonicalId","targetId"],pv=["targetId","path"],Oh=["path","targetId"],mv=["collectionId","parent"],Og=["indexId","uid"],Rg=["uid","sequenceNumber"],Pg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bp=["indexId","uid","orderedDocumentKey"],kg=["userId","collectionPath","documentId"],Rh=["userId","collectionPath","largestBatchId"],Ph=["userId","collectionGroup","largestBatchId"],Ep=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wp=[...Ep,"documentOverlays"],Cp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kh=Cp,dd=[...kh,"indexConfiguration","indexState","indexEntries"];class Dp extends oo{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Hs(r,e){const t=on(r);return Zs.O(t.ie,e)}class Ip{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&td(u,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=mu();return this.mutations.forEach(a=>{const u=e.get(a.key),m=u.overlayedDocument;let T=this.applyToLocalView(m,u.mutatedFields);T=t.has(a.key)?null:T;const L=pu(m,T);null!==L&&s.set(a.key,L),m.isValidDocument()||m.convertToNoDocument(Zn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ei())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(t,s)=>bh(t,s))&&_o(this.baseMutations,e.baseMutations,(t,s)=>bh(t,s))}}class Tp{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){pn(e.mutations.length===s.length);let a=rd;const u=e.mutations;for(let m=0;m<u.length;m++)a=a.insert(u[m].key,s[m].version);return new Tp(e,t,s,a)}}class Nh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nl{constructor(e,t,s,a,u=Zn.min(),m=Zn.min(),T=yr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=T}withSequenceNumber(e){return new nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sp{constructor(e){this.re=e}}function Mp(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Fh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:g(a=r.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Rc(a,u.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Ql(e.version)};else{if(!e.isUnknownDocument())return Gt();s.unknownDocument={path:t.path.toArray(),version:Ql(e.version)}}var a,u;return s}function Fh(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Ql(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nc(r){const e=new Ki(r.seconds,r.nanoseconds);return Zn.fromTimestamp(e)}function Fc(r,e){const t=(e.baseMutations||[]).map(u=>zn(r.re,u));for(let u=0;u<e.mutations.length-1;++u){const m=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(m.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const s=e.mutations.map(u=>zn(r.re,u)),a=Ki.fromMillis(e.localWriteTimeMs);return new Ip(e.batchId,a,t,s)}function Vo(r){const e=Nc(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Nc(r.lastLimboFreeSnapshotVersion):Zn.min();let s;var a;return void 0!==r.query.documents?(pn(1===(a=r.query).documents.length),s=Lo(Ka(E(a.documents[0])))):s=Lo(Th(r.query)),new nl(s,r.targetId,0,r.lastListenSequenceNumber,e,t,yr.fromBase64String(r.resumeToken))}function Ng(r,e){const t=Ql(e.snapshotVersion),s=Ql(e.lastLimboFreeSnapshotVersion);let a;a=au(e.target)?bo(r.re,e.target):Yl(r.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oa(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Lh(r){const e=Th({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Zu(e,e.limit,"L"):e}function Ap(r,e){return new Nh(e.largestBatchId,zn(r.re,e.overlayMutation))}function Fg(r,e){const t=e.path.lastSegment();return[r,uo(e.path.popLast()),t]}function Lg(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Ql(s.readTime),documentKey:uo(s.documentKey.path),largestBatchId:s.largestBatchId}}class gv{getBundleMetadata(e,t){return xp(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Nc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return xp(e).put({bundleId:(s=t).id,createTime:Ql(xs(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Bg(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Lh(a.bundledQuery),readTime:Nc(a.readTime)};var a})}saveNamedQuery(e,t){return Bg(e).put({name:(s=t).name,readTime:Ql(xs(s.readTime)),bundledQuery:s.bundledQuery});var s}}function xp(r){return Hs(r,"bundles")}function Bg(r){return Hs(r,"namedQueries")}class Bh{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Bh(e,t.uid||"")}getOverlay(e,t){return hd(e).get(Fg(this.userId,t)).next(s=>s?Ap(this.It,s):null)}getOverlays(e,t){const s=da();return Rt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&s.set(a,u)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((u,m)=>{const T=new Nh(t,m);a.push(this.ue(e,T))}),Rt.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(m=>a.add(uo(m.getCollectionPath())));const u=[];return a.forEach(m=>{const T=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);u.push(hd(e).Y("collectionPathOverlayIndex",T))}),Rt.waitFor(u)}getOverlaysForCollection(e,t,s){const a=da(),u=uo(t),m=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,Number.POSITIVE_INFINITY],!0);return hd(e).W("collectionPathOverlayIndex",m).next(T=>{for(const L of T){const W=Ap(this.It,L);a.set(W.getKey(),W)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const u=da();let m;const T=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hd(e).Z({index:"collectionGroupOverlayIndex",range:T},(L,W,de)=>{const $e=Ap(this.It,W);u.size()<a||$e.largestBatchId===m?(u.set($e.getKey(),$e),m=$e.largestBatchId):de.done()}).next(()=>u)}ue(e,t){return hd(e).put(function(s,a,u){const[m,T,L]=Fg(a,u.mutation.key);return{userId:a,collectionPath:T,documentId:L,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Yn(s.re,u.mutation)}}(this.It,this.userId,t))}}function hd(r){return Hs(r,"documentOverlays")}class li{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Dr(e.integerValue));else if("doubleValue"in e){const s=Dr(e.doubleValue);isNaN(s)?this.le(t,13):(this.le(t,15),Ne(s)?t.fe(0):t.fe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.le(t,20),"string"==typeof s?t.de(s):(t.de(`${s.seconds||""}`),t.fe(s.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Xo(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.le(t,45),t.fe(s.latitude||0),t.fe(s.longitude||0)}else"mapValue"in e?No(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Gt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const s=e.fields||{};this.le(t,55);for(const a of Object.keys(s))this._e(a,t),this.ae(s[a],t)}pe(e,t){const s=e.values||[];this.le(t,50);for(const a of s)this.ae(a,t)}ge(e,t){this.le(t,37),wn.fromName(e).path.forEach(s=>{this.le(t,60),this.Ie(s,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Vg(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Op(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const u=Vg(255&t[a]);if(s+=u,8!==u)break}return s}(r);return Math.ceil(e/8)}li.Te=new li;class Ug{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Pe(s.value),s=t.next();this.ve()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const a=t.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}this.Re()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Pe(s);else if(s<2048)this.Pe(960|s>>>6),this.Pe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s);else{const a=t.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}this.ve()}De(e){const t=this.Ce(e),s=Op(t);this.xe(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Ne(e){const t=this.Ce(e),s=Op(t);this.xe(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Vh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Na{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class bu{constructor(){this.Be=new Ug,this.Le=new Vh(this.Be),this.Ue=new Na(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Lc{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Lc(this.indexId,this.documentKey,this.arrayValue,s)}}function Dl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=il(r.arrayValue,e.arrayValue),0!==t?t:(t=il(r.directionalValue,e.directionalValue),0!==t?t:wn.comparator(r.documentKey,e.documentKey)))}function il(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Rp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const s=t;s.dt()?this.je=s:this.Qe.push(s)}}We(e){const t=$u(e);if(void 0!==t&&!this.ze(t))return!1;const s=pl(e);let a=0,u=0;for(;a<s.length&&this.ze(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.je){const m=s[a];if(!this.He(this.je,m)||!this.Je(this.Ge[u++],m))return!1;++a}for(;a<s.length;++a){const m=s[a];if(u>=this.Ge.length||!this.Je(this.Ge[u++],m))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class jg{constructor(){this.Ye=new fd}addToCollectionParentIndex(e,t){return this.Ye.add(t),Rt.resolve()}getCollectionParents(e,t){return Rt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Rt.resolve()}deleteFieldIndex(e,t){return Rt.resolve()}getDocumentsMatchingTarget(e,t){return Rt.resolve(null)}getIndexType(e,t){return Rt.resolve(0)}getFieldIndexes(e,t){return Rt.resolve([])}getNextCollectionGroupToUpdate(e){return Rt.resolve(null)}getMinOffset(e,t){return Rt.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,t){return Rt.resolve(jr.min())}updateCollectionGroup(e,t,s){return Rt.resolve()}updateIndexEntries(e,t){return Rt.resolve()}}class fd{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ni(Vi.comparator),u=!a.has(s);return this.index[t]=a.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ni(Vi.comparator)).toArray()}}const Pp=new Uint8Array(0);class Hg{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new fd,this.Ze=new Xa(s=>Oa(s),(s,a)=>Ec(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:s,parent:uo(a)};return _v(e).put(u)}return Rt.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Ro(t),""],!1,!0);return _v(e).W(a).next(u=>{for(const m of u){if(m.collectionId!==t)break;s.push(ka(m.parent))}return s})}addFieldIndex(e,t){const s=Bc(e),a={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(T=>[T.fieldPath.canonicalString(),T.kind])};var m;delete a.indexId;const u=s.add(a);if(t.indexState){const m=Vc(e);return u.next(T=>{m.put(Lg(T,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const s=Bc(e),a=Vc(e),u=Xl(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Xl(e);let a=!0;const u=new Map;return Rt.forEach(this.tn(t),m=>this.en(e,m).next(T=>{a&&(a=!!T),u.set(m,T)})).next(()=>{if(a){let m=Ei();const T=[];return Rt.forEach(u,(L,W)=>{var de;K("IndexedDbIndexManager",`Using index ${de=L,`id=${de.indexId}|cg=${de.collectionGroup}|f=${de.fields.map(Gi=>`${Gi.fieldPath}:${Gi.kind}`).join(",")}`} to execute ${Oa(t)}`);const $e=function(Gi,Di){const ei=$u(Di);if(void 0===ei)return null;for(const Ii of zu(Gi,ei.fieldPath))switch(Ii.op){case"array-contains-any":return Ii.value.arrayValue.values||[];case"array-contains":return[Ii.value]}return null}(W,L),St=function(Gi,Di){const ei=new Map;for(const Ii of pl(Di))for(const Gs of zu(Gi,Ii.fieldPath))switch(Gs.op){case"==":case"in":ei.set(Ii.fieldPath.canonicalString(),Gs.value);break;case"not-in":case"!=":return ei.set(Ii.fieldPath.canonicalString(),Gs.value),Array.from(ei.values())}return null}(W,L),qt=function(Gi,Di){const ei=[];let Ii=!0;for(const Gs of pl(Di)){const ih=0===Gs.kind?wc(Gi,Gs.fieldPath,Gi.startAt):Gl(Gi,Gs.fieldPath,Gi.startAt);ei.push(ih.value),Ii&&(Ii=ih.inclusive)}return new Ys(ei,Ii)}(W,L),Xt=function(Gi,Di){const ei=[];let Ii=!0;for(const Gs of pl(Di)){const ih=0===Gs.kind?Gl(Gi,Gs.fieldPath,Gi.endAt):wc(Gi,Gs.fieldPath,Gi.endAt);ei.push(ih.value),Ii&&(Ii=ih.inclusive)}return new Ys(ei,Ii)}(W,L),En=this.nn(L,W,qt),kn=this.nn(L,W,Xt),Mi=this.sn(L,W,St),sr=this.rn(L.indexId,$e,En,qt.inclusive,kn,Xt.inclusive,Mi);return Rt.forEach(sr,Gi=>s.J(Gi,t.limit).next(Di=>{Di.forEach(ei=>{const Ii=wn.fromSegments(ei.documentKey);m.has(Ii)||(m=m.add(Ii),T.push(Ii))})}))}).next(()=>T)}return Rt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,s,a,u,m,T){const L=(null!=t?t.length:1)*Math.max(s.length,u.length),W=L/(null!=t?t.length:1),de=[];for(let $e=0;$e<L;++$e){const St=t?this.on(t[$e/W]):Pp,qt=this.un(e,St,s[$e%W],a),Xt=this.cn(e,St,u[$e%W],m),En=T.map(kn=>this.un(e,St,kn,!0));de.push(...this.createRange(qt,Xt,En))}return de}un(e,t,s,a){const u=new Lc(e,wn.empty(),t,s);return a?u:u.Ke()}cn(e,t,s,a){const u=new Lc(e,wn.empty(),t,s);return a?u.Ke():u}en(e,t){const s=new Rp(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let m=null;for(const T of u)s.We(T)&&(!m||T.fields.length>m.fields.length)&&(m=T);return m})}getIndexType(e,t){let s=2;return Rt.forEach(this.tn(t),a=>this.en(e,a).next(u=>{u?0!==s&&u.fields.length<function(m){let T=new Ni(Sr.comparator),L=!1;for(const W of m.filters){const de=W;de.field.isKeyField()||("array-contains"===de.op||"array-contains-any"===de.op?L=!0:T=T.add(de.field))}for(const W of m.orderBy)W.field.isKeyField()||(T=T.add(W.field));return T.size+(L?1:0)}(a)&&(s=1):s=0})).next(()=>s)}an(e,t){const s=new bu;for(const a of pl(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const m=s.qe(a.kind);li.Te.ce(u,m)}return s.$e()}on(e){const t=new bu;return li.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const s=new bu;return li.Te.ce(yo(this.databaseId,t),s.qe(function(a){const u=pl(a);return 0===u.length?0:u[u.length-1].kind}(e))),s.$e()}sn(e,t,s){if(null===s)return[];let a=[];a.push(new bu);let u=0;for(const m of pl(e)){const T=s[u++];for(const L of a)if(this.ln(t,m.fieldPath)&&qs(T))a=this.fn(a,m,T);else{const W=L.qe(m.kind);li.Te.ce(T,W)}}return this.dn(a)}nn(e,t,s){return this.sn(e,t,s.position)}dn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}fn(e,t,s){const a=[...e],u=[];for(const m of s.arrayValue.values||[])for(const T of a){const L=new bu;L.seed(T.$e()),li.Te.ce(m,L.qe(t.kind)),u.push(L)}return u}ln(e,t){return!!e.filters.find(s=>s instanceof As&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Bc(e),a=Vc(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(u=>{const m=[];return Rt.forEach(u,T=>a.get([T.indexId,this.uid]).next(L=>{m.push(function(W,de){const $e=de?new Ul(de.sequenceNumber,new jr(Nc(de.readTime),new wn(ka(de.documentKey)),de.largestBatchId)):Ul.empty(),St=W.fields.map(([qt,Xt])=>new iu(Sr.fromServerFormat(qt),Xt));return new fl(W.indexId,W.collectionGroup,St,$e)}(T,L))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const u=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:Qn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Bc(e),u=Vc(e);return this._n(e).next(m=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(T=>Rt.forEach(T,L=>u.put(Lg(L.indexId,this.user,m,s)))))}updateIndexEntries(e,t){const s=new Map;return Rt.forEach(t,(a,u)=>{const m=s.get(a.collectionGroup);return(m?Rt.resolve(m):this.getFieldIndexes(e,a.collectionGroup)).next(T=>(s.set(a.collectionGroup,T),Rt.forEach(T,L=>this.wn(e,a,L).next(W=>{const de=this.mn(u,L);return W.isEqual(de)?Rt.resolve():this.gn(e,u,L,W,de)}))))})}yn(e,t,s,a){return Xl(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.hn(s,t.key),documentKey:t.key.path.toArray()})}pn(e,t,s,a){return Xl(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.hn(s,t.key),t.key.path.toArray()])}wn(e,t,s){const a=Xl(e);let u=new Ni(Dl);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.hn(s,t)])},(m,T)=>{u=u.add(new Lc(s.indexId,t,T.arrayValue,T.directionalValue))}).next(()=>u)}mn(e,t){let s=new Ni(Dl);const a=this.an(t,e);if(null==a)return s;const u=$u(t);if(null!=u){const m=e.data.field(u.fieldPath);if(qs(m))for(const T of m.arrayValue.values||[])s=s.add(new Lc(t.indexId,e.key,this.on(T),a))}else s=s.add(new Lc(t.indexId,e.key,Pp,a));return s}gn(e,t,s,a,u){K("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(T,L,W,de,$e){const St=T.getIterator(),qt=L.getIterator();let Xt=_l(St),En=_l(qt);for(;Xt||En;){let kn=!1,Mi=!1;if(Xt&&En){const sr=W(Xt,En);sr<0?Mi=!0:sr>0&&(kn=!0)}else null!=Xt?Mi=!0:kn=!0;kn?(de(En),En=_l(qt)):Mi?($e(Xt),Xt=_l(St)):(Xt=_l(St),En=_l(qt))}}(a,u,Dl,T=>{m.push(this.yn(e,t,s,T))},T=>{m.push(this.pn(e,t,s,T))}),Rt.waitFor(m)}_n(e){let t=1;return Vc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((m,T)=>Dl(m,T)).filter((m,T,L)=>!T||0!==Dl(m,L[T-1]));const a=[];a.push(e);for(const m of s){const T=Dl(m,e),L=Dl(m,t);if(0===T)a[0]=e.Ke();else if(T>0&&L<0)a.push(m),a.push(m.Ke());else if(L>0)break}a.push(t);const u=[];for(let m=0;m<a.length;m+=2)u.push(IDBKeyRange.bound([a[m].indexId,this.uid,a[m].arrayValue,a[m].directionalValue,Pp,[]],[a[m+1].indexId,this.uid,a[m+1].arrayValue,a[m+1].directionalValue,Pp,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Uh)}getMinOffset(e,t){return Rt.mapArray(this.tn(t),s=>this.en(e,s).next(a=>a||Gt())).next(Uh)}}function _v(r){return Hs(r,"collectionParents")}function Xl(r){return Hs(r,"indexEntries")}function Bc(r){return Hs(r,"indexConfiguration")}function Vc(r){return Hs(r,"indexState")}function Uh(r){pn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;ru(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new jr(e.readTime,e.documentKey,t)}const jh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new fa(e,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $g(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),u=[],m=IDBKeyRange.only(t.batchId);let T=0;const L=s.Z({range:m},(de,$e,St)=>(T++,St.delete()));u.push(L.next(()=>{pn(1===T)}));const W=[];for(const de of t.mutations){const $e=Tg(e,de.key.path,t.batchId);u.push(a.delete($e)),W.push(de.key)}return Rt.waitFor(u).next(()=>W)}function Hh(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Gt();e=r.noDocument}return JSON.stringify(e).length}fa.DEFAULT_COLLECTION_PERCENTILE=10,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fa.DEFAULT=new fa(41943040,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fa.DISABLED=new fa(-1,0,0);class $h{constructor(e,t,s,a){this.userId=e,this.It=t,this.indexManager=s,this.referenceDelegate=a,this.In={}}static oe(e,t,s,a){pn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new $h(u,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Il(e).Z({index:"userMutationsIndex",range:s},(a,u,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const u=pd(e),m=Il(e);return m.add({}).next(T=>{pn("number"==typeof T);const L=new Ip(T,t,s,a),W=function(St,qt,Xt){const En=Xt.baseMutations.map(Mi=>Yn(St.re,Mi)),kn=Xt.mutations.map(Mi=>Yn(St.re,Mi));return{userId:qt,batchId:Xt.batchId,localWriteTimeMs:Xt.localWriteTime.toMillis(),baseMutations:En,mutations:kn}}(this.It,this.userId,L),de=[];let $e=new Ni((St,qt)=>Qn(St.canonicalString(),qt.canonicalString()));for(const St of a){const qt=Tg(this.userId,St.key.path,T);$e=$e.add(St.key.path.popLast()),de.push(m.put(W)),de.push(u.put(qt,Sg))}return $e.forEach(St=>{de.push(this.indexManager.addToCollectionParentIndex(e,St))}),e.addOnCommittedListener(()=>{this.In[T]=L.keys()}),Rt.waitFor(de).next(()=>L)})}lookupMutationBatch(e,t){return Il(e).get(t).next(s=>s?(pn(s.userId===this.userId),Fc(this.It,s)):null)}Tn(e,t){return this.In[t]?Rt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.In[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return Il(e).Z({index:"userMutationsIndex",range:a},(m,T,L)=>{T.userId===this.userId&&(pn(T.batchId>=s),u=Fc(this.It,T)),L.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Il(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(a,u,m)=>{s=u.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Il(e).W("userMutationsIndex",t).next(s=>s.map(a=>Fc(this.It,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=xh(this.userId,t.path),a=IDBKeyRange.lowerBound(s),u=[];return pd(e).Z({range:a},(m,T,L)=>{const[W,de,$e]=m,St=ka(de);if(W===this.userId&&t.path.isEqual(St))return Il(e).get($e).next(qt=>{if(!qt)throw Gt();pn(qt.userId===this.userId),u.push(Fc(this.It,qt))});L.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ni(Qn);const a=[];return t.forEach(u=>{const m=xh(this.userId,u.path),T=IDBKeyRange.lowerBound(m),L=pd(e).Z({range:T},(W,de,$e)=>{const[St,qt,Xt]=W,En=ka(qt);St===this.userId&&u.path.isEqual(En)?s=s.add(Xt):$e.done()});a.push(L)}),Rt.waitFor(a).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,u=xh(this.userId,s),m=IDBKeyRange.lowerBound(u);let T=new Ni(Qn);return pd(e).Z({range:m},(L,W,de)=>{const[$e,St,qt]=L,Xt=ka(St);$e===this.userId&&s.isPrefixOf(Xt)?Xt.length===a&&(T=T.add(qt)):de.done()}).next(()=>this.En(e,T))}En(e,t){const s=[],a=[];return t.forEach(u=>{a.push(Il(e).get(u).next(m=>{if(null===m)throw Gt();pn(m.userId===this.userId),s.push(Fc(this.It,m))}))}),Rt.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return $g(e.ie,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Rt.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Rt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return pd(e).Z({range:s},(u,m,T)=>{if(u[0]===this.userId){const L=ka(u[1]);a.push(L)}else T.done()}).next(()=>{pn(0===a.length)})})}containsKey(e,t){return Gg(e,this.userId,t)}Rn(e){return zg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Gg(r,e,t){const s=xh(e,t.path),a=s[1],u=IDBKeyRange.lowerBound(s);let m=!1;return pd(r).Z({range:u,X:!0},(T,L,W)=>{const[de,$e,St]=T;de===e&&$e===a&&(m=!0),W.done()}).next(()=>m)}function Il(r){return Hs(r,"mutations")}function pd(r){return Hs(r,"documentMutations")}function zg(r){return Hs(r,"mutationQueues")}class Eu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Eu(0)}static vn(){return new Eu(-1)}}class Wg{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new Eu(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Zn.fromTimestamp(new Ki(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Sn(e,a)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Uc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(pn(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let a=0;const u=[];return Uc(e).Z((m,T)=>{const L=Vo(T);L.sequenceNumber<=t&&null===s.get(L.targetId)&&(a++,u.push(this.removeTargetData(e,L)))}).next(()=>Rt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return Uc(e).Z((s,a)=>{const u=Vo(a);t(u)})}Vn(e){return Kg(e).get("targetGlobalKey").next(t=>(pn(null!==t),t))}Sn(e,t){return Kg(e).put("targetGlobalKey",t)}Dn(e,t){return Uc(e).put(Ng(this.It,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Oa(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return Uc(e).Z({range:a,index:"queryTargetsIndex"},(m,T,L)=>{const W=Vo(T);Ec(t,W.target)&&(u=W,L.done())}).next(()=>u)}addMatchingKeys(e,t,s){const a=[],u=rl(e);return t.forEach(m=>{const T=uo(m.path);a.push(u.put({targetId:s,path:T})),a.push(this.referenceDelegate.addReference(e,s,m))}),Rt.waitFor(a)}removeMatchingKeys(e,t,s){const a=rl(e);return Rt.forEach(t,u=>{const m=uo(u.path);return Rt.waitFor([a.delete([s,m]),this.referenceDelegate.removeReference(e,s,u)])})}removeMatchingKeysForTargetId(e,t){const s=rl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=rl(e);let u=Ei();return a.Z({range:s,X:!0},(m,T,L)=>{const W=ka(m[1]),de=new wn(W);u=u.add(de)}).next(()=>u)}containsKey(e,t){const s=uo(t.path),a=IDBKeyRange.bound([s],[Ro(s)],!1,!0);let u=0;return rl(e).Z({index:"documentTargetsIndex",X:!0,range:a},([m,T],L,W)=>{0!==m&&(u++,W.done())}).next(()=>u>0)}se(e,t){return Uc(e).get(t).next(s=>s?Vo(s):null)}}function Uc(r){return Hs(r,"targets")}function Kg(r){return Hs(r,"targetGlobal")}function rl(r){return Hs(r,"targetDocuments")}function yv([r,e],[t,s]){const a=Qn(r,t);return 0===a?Qn(e,s):a}class Ub{constructor(e){this.xn=e,this.buffer=new Ni(yv),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jb{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ie.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){aa(s)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Xr(s)}yield t.Fn(3e5)}))}}class Hb{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Rt.resolve(ps.at);const s=new Ub(t);return this.$n.forEachTarget(e,a=>s.Mn(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>s.Mn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector","Garbage collection skipped; disabled"),Rt.resolve(jh)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jh):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let s,a,u,m,T,L,W;const de=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next($e=>($e>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${$e}`),a=this.params.maximumSequenceNumbersToCollect):a=$e,m=Date.now(),this.nthSequenceNumber(e,a))).next($e=>(s=$e,T=Date.now(),this.removeTargets(e,s,t))).next($e=>(u=$e,L=Date.now(),this.removeOrphanedDocuments(e,s))).next($e=>(W=Date.now(),U()<=be.in.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-de}ms\n\tDetermined least recently used ${a} in `+(T-m)+`ms\n\tRemoved ${u} targets in `+(L-T)+`ms\n\tRemoved ${$e} documents in `+(W-L)+`ms\nTotal Duration: ${W-de}ms`),Rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:$e})))}}class $b{constructor(e,t){this.db=e,this.garbageCollector=new Hb(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}qn(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,a)=>t(a))}addReference(e,t,s){return kp(e,s)}removeReference(e,t,s){return kp(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return kp(e,t)}Gn(e,t){return function(s,a){let u=!1;return zg(s).tt(m=>Gg(s,m,a).next(T=>(T&&(u=!0),Rt.resolve(!T)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Kn(e,(m,T)=>{if(T<=t){const L=this.Gn(e,m).next(W=>{if(!W)return u++,s.getEntry(e,m).next(()=>(s.removeEntry(m,Zn.min()),rl(e).delete([0,uo(m.path)])))});a.push(L)}}).next(()=>Rt.waitFor(a)).next(()=>s.apply(e)).next(()=>u)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return kp(e,t)}Kn(e,t){const s=rl(e);let a,u=ps.at;return s.Z({index:"documentTargetsIndex"},([m,T],{path:L,sequenceNumber:W})=>{0===m?(u!==ps.at&&t(new wn(ka(a)),u),u=W,a=L):u=ps.at}).next(()=>{u!==ps.at&&t(new wn(ka(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kp(r,e){return rl(r).put((s=r.currentSequenceNumber,{targetId:0,path:uo(e.path),sequenceNumber:s}));var s}class vv{constructor(){this.changes=new Xa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Rt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gb{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Sl(e).put(s)}removeEntry(e,t,s){return Sl(e).delete(function(a,u){const m=a.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Fh(u),m[m.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=cr.newInvalidDocument(t);return Sl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(md(t))},(a,u)=>{s=this.jn(t,u)}).next(()=>s)}Wn(e,t){let s={size:0,document:cr.newInvalidDocument(t)};return Sl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(md(t))},(a,u)=>{s={document:this.jn(t,u),size:Hh(u)}}).next(()=>s)}getEntries(e,t){let s=lo();return this.zn(e,t,(a,u)=>{const m=this.jn(a,u);s=s.insert(a,m)}).next(()=>s)}Hn(e,t){let s=lo(),a=new Pr(wn.comparator);return this.zn(e,t,(u,m)=>{const T=this.jn(u,m);s=s.insert(u,T),a=a.insert(u,Hh(m))}).next(()=>({documents:s,Jn:a}))}zn(e,t,s){if(t.isEmpty())return Rt.resolve();let a=new Ni(Gh);t.forEach(L=>a=a.add(L));const u=IDBKeyRange.bound(md(a.first()),md(a.last())),m=a.getIterator();let T=m.getNext();return Sl(e).Z({index:"documentKeyIndex",range:u},(L,W,de)=>{const $e=wn.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;T&&Gh(T,$e)<0;)s(T,null),T=m.getNext();T&&T.isEqual($e)&&(s(T,W),T=m.hasNext()?m.getNext():null),T?de.j(md(T)):de.done()}).next(()=>{for(;T;)s(T,null),T=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,s){const a=[t.popLast().toArray(),t.lastSegment(),Fh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sl(e).W(IDBKeyRange.bound(a,u,!0)).next(m=>{let T=lo();for(const L of m){const W=this.jn(wn.fromSegments(L.prefixPath.concat(L.collectionGroup,L.documentId)),L);T=T.insert(W.key,W)}return T})}getAllFromCollectionGroup(e,t,s,a){let u=lo();const m=Np(t,s),T=Np(t,jr.max());return Sl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,T,!0)},(L,W,de)=>{const $e=this.jn(wn.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);u=u.insert($e.key,$e),u.size===a&&de.done()}).next(()=>u)}newChangeBuffer(e){return new zb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Tl(e).get("remoteDocumentGlobalKey").next(t=>(pn(!!t),t))}Qn(e,t){return Tl(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function Vb(r,e){let t;if(e.document)t=jt(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=wn.fromSegments(e.noDocument.path),a=Nc(e.noDocument.readTime);t=cr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Gt();{const s=wn.fromSegments(e.unknownDocument.path),a=Nc(e.unknownDocument.version);t=cr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Ki(s[0],s[1]);return Zn.fromTimestamp(a)}(e.readTime)),t}(this.It,t);if(!s.isNoDocument()||!s.version.isEqual(Zn.min()))return s}return cr.newInvalidDocument(e)}}function bv(r){return new Gb(r)}class zb extends vv{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Xa(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Ni((u,m)=>Qn(u.canonicalString(),m.canonicalString()));return this.changes.forEach((u,m)=>{const T=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,T.readTime)),m.isValidDocument()){const L=Mp(this.Yn.It,m);a=a.add(u.path.popLast()),s+=Hh(L)-T.size,t.push(this.Yn.addEntry(e,u,L))}else if(s-=T.size,this.trackRemovals){const L=Mp(this.Yn.It,m.convertToNoDocument(Zn.min()));t.push(this.Yn.addEntry(e,u,L))}}),a.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,s)),Rt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:a})=>(a.forEach((u,m)=>{this.Xn.set(u,{size:m,readTime:s.get(u).readTime})}),s))}}function Tl(r){return Hs(r,"remoteDocumentGlobal")}function Sl(r){return Hs(r,"remoteDocumentsV14")}function md(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Np(r,e){const t=e.documentKey.path.toArray();return[r,Fh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gh(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<s.length-2;++u)if(a=Qn(t[u],s[u]),a)return a;return a=Qn(t.length,s.length),a||(a=Qn(t[t.length-2],s[s.length-2]),a||Qn(t[t.length-1],s[s.length-1]))}class Zg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zh{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.getBaseDocument(e,t,s))).next(a=>(null!==s&&Tc(s.mutation,a,ms.empty(),Ki.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ei()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ei()){const a=da();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(u=>{let m=ya();return u.forEach((T,L)=>{m=m.insert(T,L.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const s=da();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ei()))}populateOverlays(e,t,s){const a=[];return s.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((m,T)=>{t.set(m,T)})})}computeViews(e,t,s,a){let u=lo();const m=wl(),T=wl();return t.forEach((L,W)=>{const de=s.get(W.key);a.has(W.key)&&(void 0===de||de.mutation instanceof Bo)?u=u.insert(W.key,W):void 0!==de&&(m.set(W.key,de.mutation.getFieldMask()),Tc(de.mutation,W,de.mutation.getFieldMask(),Ki.now()))}),this.recalculateAndSaveOverlays(e,u).next(L=>(L.forEach((W,de)=>m.set(W,de)),t.forEach((W,de)=>{var $e;return T.set(W,new Zg(de,null!==($e=m.get(W))&&void 0!==$e?$e:null))}),T))}recalculateAndSaveOverlays(e,t){const s=wl();let a=new Pr((m,T)=>m-T),u=Ei();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const T of m)T.keys().forEach(L=>{const W=t.get(L);if(null===W)return;let de=s.get(L)||ms.empty();de=T.applyToLocalView(W,de),s.set(L,de);const $e=(a.get(T.batchId)||Ei()).add(L);a=a.insert(T.batchId,$e)})}).next(()=>{const m=[],T=a.getReverseIterator();for(;T.hasNext();){const L=T.getNext(),W=L.key,de=L.value,$e=mu();de.forEach(St=>{if(!u.has(St)){const qt=pu(t.get(St),s.get(St));null!==qt&&$e.set(St,qt),u=u.add(St)}}),m.push(this.documentOverlayCache.saveOverlays(e,W,$e))}return Rt.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return wn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ku(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(u=>{const m=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-u.size):Rt.resolve(da());let T=-1,L=u;return m.next(W=>Rt.forEach(W,(de,$e)=>(T<$e.largestBatchId&&(T=$e.largestBatchId),u.get(de)?Rt.resolve():this.getBaseDocument(e,de,$e).next(St=>{L=L.insert(de,St)}))).next(()=>this.populateOverlays(e,W,u)).next(()=>this.computeViews(e,L,W,Ei())).next(de=>({batchId:T,changes:id(de)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wn(t)).next(s=>{let a=ya();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let u=ya();return this.indexManager.getCollectionParents(e,a).next(m=>Rt.forEach(m,T=>{const L=(W=t,de=T.child(a),new _a(de,null,W.explicitOrderBy.slice(),W.filters.slice(),W.limit,W.limitType,W.startAt,W.endAt));var W,de;return this.getDocumentsMatchingCollectionQuery(e,L,s).next(W=>{W.forEach((de,$e)=>{u=u.insert(de,$e)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(u=>(a=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(u=>{u.forEach((T,L)=>{const W=L.getKey();null===a.get(W)&&(a=a.insert(W,cr.newInvalidDocument(W)))});let m=ya();return a.forEach((T,L)=>{const W=u.get(T);void 0!==W&&Tc(W.mutation,L,ms.empty(),Ki.now()),Ra(t,L)&&(m=m.insert(T,L))}),m})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):Rt.resolve(cr.newInvalidDocument(t))}}class Ev{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Rt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:xs(s.createTime)}),Rt.resolve()}getNamedQuery(e,t){return Rt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:Lh(s.bundledQuery),readTime:xs(s.readTime)}),Rt.resolve();var s}}class Jl{constructor(){this.overlays=new Pr(wn.comparator),this.es=new Map}getOverlay(e,t){return Rt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=da();return Rt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&s.set(a,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,u)=>{this.ue(e,t,u)}),Rt.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.es.get(s);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(s)),Rt.resolve()}getOverlaysForCollection(e,t,s){const a=da(),u=t.length+1,m=new wn(t.child("")),T=this.overlays.getIteratorFrom(m);for(;T.hasNext();){const L=T.getNext().value,W=L.getKey();if(!t.isPrefixOf(W.path))break;W.path.length===u&&L.largestBatchId>s&&a.set(L.getKey(),L)}return Rt.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let u=new Pr((W,de)=>W-de);const m=this.overlays.getIterator();for(;m.hasNext();){const W=m.getNext().value;if(W.getKey().getCollectionGroup()===t&&W.largestBatchId>s){let de=u.get(W.largestBatchId);null===de&&(de=da(),u=u.insert(W.largestBatchId,de)),de.set(W.getKey(),W)}}const T=da(),L=u.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((W,de)=>T.set(W,de)),!(T.size()>=a)););return Rt.resolve(T)}ue(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const m=this.es.get(a.largestBatchId).delete(s.key);this.es.set(a.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new Nh(t,s));let u=this.es.get(t);void 0===u&&(u=Ei(),this.es.set(t,u)),this.es.set(t,u.add(s.key))}}class Wh{constructor(){this.ns=new Ni(Qs.ss),this.rs=new Ni(Qs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new Qs(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new Qs(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new wn(new Vi([])),s=new Qs(t,e),a=new Qs(t,e+1),u=[];return this.rs.forEachInRange([s,a],m=>{this.cs(m),u.push(m.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new wn(new Vi([])),s=new Qs(t,e),a=new Qs(t,e+1);let u=Ei();return this.rs.forEachInRange([s,a],m=>{u=u.add(m.key)}),u}containsKey(e){const t=new Qs(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Qs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return wn.comparator(e.key,t.key)||Qn(e._s,t._s)}static os(e,t){return Qn(e._s,t._s)||wn.comparator(e.key,t.key)}}class Fp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ni(Qs.ss)}checkEmpty(e){return Rt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const u=this.ws;this.ws++;const m=new Ip(u,t,s,a);this.mutationQueue.push(m);for(const T of a)this.gs=this.gs.add(new Qs(T.key,u)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Rt.resolve(m)}lookupMutationBatch(e,t){return Rt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),u=a<0?0:a;return Rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Rt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Qs(t,0),a=new Qs(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([s,a],m=>{const T=this.ys(m._s);u.push(T)}),Rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ni(Qn);return t.forEach(a=>{const u=new Qs(a,0),m=new Qs(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,m],T=>{s=s.add(T._s)})}),Rt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let u=s;wn.isDocumentKey(u)||(u=u.child(""));const m=new Qs(new wn(u),0);let T=new Ni(Qn);return this.gs.forEachWhile(L=>{const W=L.key.path;return!!s.isPrefixOf(W)&&(W.length===a&&(T=T.add(L._s)),!0)},m),Rt.resolve(this.Is(T))}Is(e){const t=[];return e.forEach(s=>{const a=this.ys(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){pn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return Rt.forEach(t.mutations,a=>{const u=new Qs(a.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new Qs(t,0),a=this.gs.firstAfterOrEqual(s);return Rt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Rt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wv{constructor(e){this.Es=e,this.docs=new Pr(wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),u=a?a.size:0,m=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Rt.resolve(s?s.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let s=lo();return t.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():cr.newInvalidDocument(a))}),Rt.resolve(s)}getAllFromCollection(e,t,s){let a=lo();const u=new wn(t.child("")),m=this.docs.getIteratorFrom(u);for(;m.hasNext();){const{key:T,value:{document:L}}=m.getNext();if(!t.isPrefixOf(T.path))break;T.path.length>t.length+1||ru(ml(L),s)<=0||(a=a.insert(L.key,L.mutableCopy()))}return Rt.resolve(a)}getAllFromCollectionGroup(e,t,s,a){Gt()}As(e,t){return Rt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new qg(this)}getSize(e){return Rt.resolve(this.size)}}class qg extends vv{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(s)}),Rt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Cv{constructor(e){this.persistence=e,this.Rs=new Xa(t=>Oa(t),Ec),this.lastRemoteSnapshotVersion=Zn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Wh,this.targetCount=0,this.vs=Eu.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,a)=>t(a)),Rt.resolve()}getLastRemoteSnapshotVersion(e){return Rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Rt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),Rt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Eu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Rt.resolve()}updateTargetData(e,t){return this.Dn(t),Rt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Rt.resolve()}removeTargets(e,t,s){let a=0;const u=[];return this.Rs.forEach((m,T)=>{T.sequenceNumber<=t&&null===s.get(T.targetId)&&(this.Rs.delete(m),u.push(this.removeMatchingKeysForTargetId(e,T.targetId)),a++)}),Rt.waitFor(u).next(()=>a)}getTargetCount(e){return Rt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return Rt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),Rt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(m=>{u.push(a.markPotentiallyOrphaned(e,m))}),Rt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Rt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return Rt.resolve(s)}containsKey(e,t){return Rt.resolve(this.Ps.containsKey(t))}}class Yg{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ps(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Cv(this),this.indexManager=new jg,this.remoteDocumentCache=new wv(s=>this.referenceDelegate.xs(s)),this.It=new Sp(t),this.Ns=new Ev(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Fp(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){K("MemoryPersistence","Starting transaction:",e);const a=new gd(this.Ss.next());return this.referenceDelegate.ks(),s(a).next(u=>this.referenceDelegate.Ms(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Os(e,t){return Rt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class gd extends oo{constructor(e){super(),this.currentSequenceNumber=e}}class Ml{constructor(e){this.persistence=e,this.Fs=new Wh,this.$s=null}static Bs(e){return new Ml(e)}get Ls(){if(this.$s)return this.$s;throw Gt()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),Rt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),Rt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Rt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ls.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rt.forEach(this.Ls,s=>{const a=wn.fromPath(s);return this.Us(e,a).next(u=>{u||t.removeEntry(a,Zn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Rt.or([()=>Rt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Lp{constructor(e){this.It=e}$(e,t,s,a){const u=new Aa("createOrUpgrade",t);var T;s<1&&a>=1&&(e.createObjectStore("owner"),(T=e).createObjectStore("mutationQueues",{keyPath:"userId"}),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ah,{unique:!0}),T.createObjectStore("documentMutations"),jc(e),function(T){T.createObjectStore("remoteDocuments")}(e));let m=Rt.resolve();return s<3&&a>=3&&(0!==s&&(function(T){T.deleteObjectStore("targetDocuments"),T.deleteObjectStore("targets"),T.deleteObjectStore("targetGlobal")}(e),jc(e)),m=m.next(()=>function(T){const L=T.store("targetGlobal"),W={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zn.min().toTimestamp(),targetCount:0};return L.put("targetGlobalKey",W)}(u))),s<4&&a>=4&&(0!==s&&(m=m.next(()=>function(T,L){return L.store("mutations").W().next(W=>{T.deleteObjectStore("mutations"),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ah,{unique:!0});const de=L.store("mutations"),$e=W.map(St=>de.put(St));return Rt.waitFor($e)})}(e,u))),m=m.next(()=>{!function(T){T.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(m=m.next(()=>this.qs(u))),s<6&&a>=6&&(m=m.next(()=>(function(T){T.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),s<7&&a>=7&&(m=m.next(()=>this.Gs(u))),s<8&&a>=8&&(m=m.next(()=>this.Qs(e,u))),s<9&&a>=9&&(m=m.next(()=>{!function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(m=m.next(()=>this.js(u))),s<11&&a>=11&&(m=m.next(()=>{(function(T){T.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(T){T.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(m=m.next(()=>{!function(T){const L=T.createObjectStore("documentOverlays",{keyPath:kg});L.createIndex("collectionPathOverlayIndex",Rh,{unique:!1}),L.createIndex("collectionGroupOverlayIndex",Ph,{unique:!1})}(e)})),s<13&&a>=13&&(m=m.next(()=>function(T){const L=T.createObjectStore("remoteDocumentsV14",{keyPath:Mg});L.createIndex("documentKeyIndex",kc),L.createIndex("collectionGroupIndex",Ag)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(m=m.next(()=>this.zs(e,u))),s<15&&a>=15&&(m=m.next(()=>function(T){T.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),T.createObjectStore("indexState",{keyPath:Og}).createIndex("sequenceNumberIndex",Rg,{unique:!1}),T.createObjectStore("indexEntries",{keyPath:Pg}).createIndex("documentKeyIndex",bp,{unique:!1})}(e))),m}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,a)=>{t+=Hh(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(a=>Rt.forEach(a,u=>{const m=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",m).next(T=>Rt.forEach(T,L=>{pn(L.userId===u.userId);const W=Fc(this.It,L);return $g(e,u.userId,W).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return s.Z((m,T)=>{const L=new Vi(m),W=[0,uo(L)];u.push(t.get(W).next(de=>de?Rt.resolve():t.put({targetId:0,path:uo(L),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Rt.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:mv});const s=t.store("collectionParents"),a=new fd,u=m=>{if(a.add(m)){const T=m.lastSegment(),L=m.popLast();return s.put({collectionId:T,parent:uo(L)})}};return t.store("remoteDocuments").Z({X:!0},(m,T)=>{const L=new Vi(m);return u(L.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([m,T,L],W)=>{const de=ka(T);return u(de.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,a)=>{const u=Vo(a),m=Ng(this.It,u);return t.put(m)})}Ws(e,t){const s=t.store("remoteDocuments"),a=[];return s.Z((u,m)=>{const T=t.store("remoteDocumentsV14"),L=(W=m,W.document?new wn(Vi.fromString(W.document.name).popFirst(5)):W.noDocument?wn.fromSegments(W.noDocument.path):W.unknownDocument?wn.fromSegments(W.unknownDocument.path):Gt()).path.toArray();var W;const de={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};a.push(T.put(de))}).next(()=>Rt.waitFor(a))}zs(e,t){const s=t.store("mutations"),a=bv(this.It),u=new Yg(Ml.Bs,this.It.re);return s.W().next(m=>{const T=new Map;return m.forEach(L=>{var W;let de=null!==(W=T.get(L.userId))&&void 0!==W?W:Ei();Fc(this.It,L).keys().forEach($e=>de=de.add($e)),T.set(L.userId,de)}),Rt.forEach(T,(L,W)=>{const de=new A(W),$e=Bh.oe(this.It,de),St=u.getIndexManager(de),qt=$h.oe(de,this.It,St,u.referenceDelegate);return new zh(a,qt,$e,St).recalculateAndSaveOverlaysForDocumentKeys(new Dp(t,ps.at),L).next()})})}}function jc(r){r.createObjectStore("targetDocuments",{keyPath:pv}).createIndex("documentTargetsIndex",Oh,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xg,{unique:!0}),r.createObjectStore("targetGlobal")}const Hc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ec{constructor(e,t,s,a,u,m,T,L,W,de,$e=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=u,this.window=m,this.document=T,this.Js=W,this.Ys=de,this.Xs=$e,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=St=>Promise.resolve(),!ec.C())throw new Jt(wt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $b(this,a),this.ii=t+"main",this.It=new Sp(L),this.ri=new Zs(this.ii,this.Xs,new Lp(this.It)),this.Cs=new Wg(this.referenceDelegate,this.It),this.remoteDocumentCache=bv(this.It),this.Ns=new gv,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===de&&xe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Jt(wt.FAILED_PRECONDITION,Hc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ps(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,Ie.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ie.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(aa(e))return K("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return _d(e).get("owner").next(t=>Rt.resolve(this.mi(t)))}gi(e){return yd(e).delete(this.clientId)}yi(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Hs(s,"clientMetadata");return a.W().next(u=>{const m=e.Ii(u,18e5),T=u.filter(L=>-1===m.indexOf(L));return Rt.forEach(T,L=>a.delete(L.clientId)).next(()=>T)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Rt.resolve(!0):_d(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Jt(wt.FAILED_PRECONDITION,Hc);return!1}}return!(!this.networkEnabled||!this.inForeground)||yd(e).W().next(s=>void 0===this.Ii(s,5e3).find(a=>{if(this.clientId!==a.clientId){const m=!this.inForeground&&a.inForeground,T=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||m&&T)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&K("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Dp(t,ps.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>yd(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return $h.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hg(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Bh.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){K("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(m=this.Xs)?dd:14===m?kh:13===m?Cp:12===m?wp:11===m?Ep:void Gt();var m;let T;return this.ri.runTransaction(e,a,u,L=>(T=new Dp(L,this.Ss?this.Ss.next():ps.at),"readwrite-primary"===t?this.fi(T).next(W=>!!W||this.di(T)).next(W=>{if(!W)throw xe(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Jt(wt.FAILED_PRECONDITION,jl);return s(T)}).next(W=>this.wi(T).next(()=>W)):this.Vi(T).next(()=>s(T)))).then(L=>(T.raiseOnCommittedEvent(),L))}Vi(e){return _d(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Jt(wt.FAILED_PRECONDITION,Hc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _d(e).put("owner",t)}static C(){return Zs.C()}_i(e){const t=_d(e);return t.get("owner").next(s=>this.mi(s)?(K("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Rt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(xe(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,he.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return K("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return xe("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){xe("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _d(r){return Hs(r,"owner")}function yd(r){return Hs(r,"clientMetadata")}function Kh(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class vd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=a}static Ci(e,t){let s=Ei(),a=Ei();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new vd(e,t.fromCache,s,a)}}class Zh{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.ki(e,t).next(u=>u||this.Mi(e,t,a,s)).next(u=>u||this.Oi(e,t))}ki(e,t){if(Wu(t))return Rt.resolve(null);let s=Lo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Zu(t,null,"F"),s=Lo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const m=Ei(...u);return this.Ni.getDocuments(e,m).next(T=>this.indexManager.getMinOffset(e,s).next(L=>{const W=this.Fi(t,T);return this.$i(t,W,m,L.readTime)?this.ki(e,Zu(t,null,"F")):this.Bi(e,W,t,L)}))})))}Mi(e,t,s,a){return Wu(t)||a.isEqual(Zn.min())?this.Oi(e,t):this.Ni.getDocuments(e,s).next(u=>{const m=this.Fi(t,u);return this.$i(t,m,s,a)?this.Oi(e,t):(U()<=be.in.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ta(t)),this.Bi(e,m,t,Rr(a,-1)))})}Fi(e,t){let s=new Ni(Cc(e));return t.forEach((a,u)=>{Ra(e,u)&&(s=s.add(u))}),s}$i(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Oi(e,t){return U()<=be.in.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ta(t)),this.Ni.getDocumentsMatchingQuery(e,t,jr.min())}Bi(e,t,s,a){return this.Ni.getDocumentsMatchingQuery(e,s,a).next(u=>(t.forEach(m=>{u=u.insert(m.key,m)}),u))}}class Qg{constructor(e,t,s,a){this.persistence=e,this.Li=t,this.It=a,this.Ui=new Pr(Qn),this.qi=new Xa(u=>Oa(u),Ec),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function bd(r,e,t,s){return new Qg(r,e,t,s)}function Xg(r,e){return qh.apply(this,arguments)}function qh(){return qh=(0,Ie.Z)(function*(r,e){const t=on(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const m=[],T=[];let L=Ei();for(const W of a){m.push(W.batchId);for(const de of W.mutations)L=L.add(de.key)}for(const W of u){T.push(W.batchId);for(const de of W.mutations)L=L.add(de.key)}return t.localDocuments.getDocuments(s,L).next(W=>({ji:W,removedBatchIds:m,addedBatchIds:T}))})})}),qh.apply(this,arguments)}function Wb(r,e){const t=on(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(m,T,L,W){const de=L.batch,$e=de.keys();let St=Rt.resolve();return $e.forEach(qt=>{St=St.next(()=>W.getEntry(T,qt)).next(Xt=>{const En=L.docVersions.get(qt);pn(null!==En),Xt.version.compareTo(En)<0&&(de.applyToRemoteDocument(Xt,L),Xt.isValidDocument()&&(Xt.setReadTime(L.commitVersion),W.addEntry(Xt)))})}),St.next(()=>m.mutationQueue.removeMutationBatch(T,de))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let T=Ei();for(let L=0;L<m.mutationResults.length;++L)m.mutationResults[L].transformResults.length>0&&(T=T.add(m.batch.mutations[L].key));return T}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function Bp(r){const e=on(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Jg(r,e){const t=on(r),s=e.snapshotVersion;let a=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.Ui;const T=[];e.targetChanges.forEach((de,$e)=>{const St=a.get($e);if(!St)return;T.push(t.Cs.removeMatchingKeys(u,de.removedDocuments,$e).next(()=>t.Cs.addMatchingKeys(u,de.addedDocuments,$e)));let qt=St.withSequenceNumber(u.currentSequenceNumber);var Xt,En,kn;e.targetMismatches.has($e)?qt=qt.withResumeToken(yr.EMPTY_BYTE_STRING,Zn.min()).withLastLimboFreeSnapshotVersion(Zn.min()):de.resumeToken.approximateByteSize()>0&&(qt=qt.withResumeToken(de.resumeToken,s)),a=a.insert($e,qt),En=qt,kn=de,(0===(Xt=St).resumeToken.approximateByteSize()||En.snapshotVersion.toMicroseconds()-Xt.snapshotVersion.toMicroseconds()>=3e8||kn.addedDocuments.size+kn.modifiedDocuments.size+kn.removedDocuments.size>0)&&T.push(t.Cs.updateTargetData(u,qt))});let L=lo(),W=Ei();if(e.documentUpdates.forEach(de=>{e.resolvedLimboDocuments.has(de)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(u,de))}),T.push(e_(u,m,e.documentUpdates).next(de=>{L=de.Wi,W=de.zi})),!s.isEqual(Zn.min())){const de=t.Cs.getLastRemoteSnapshotVersion(u).next($e=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,s));T.push(de)}return Rt.waitFor(T).next(()=>m.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,L,W)).next(()=>L)}).then(u=>(t.Ui=a,u))}function e_(r,e,t){let s=Ei(),a=Ei();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let m=lo();return t.forEach((T,L)=>{const W=u.get(T);L.isFoundDocument()!==W.isFoundDocument()&&(a=a.add(T)),L.isNoDocument()&&L.version.isEqual(Zn.min())?(e.removeEntry(T,L.readTime),m=m.insert(T,L)):!W.isValidDocument()||L.version.compareTo(W.version)>0||0===L.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(L),m=m.insert(T,L)):K("LocalStore","Ignoring outdated watch update for ",T,". Current version:",W.version," Watch version:",L.version)}),{Wi:m,zi:a}})}function t_(r,e){const t=on(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wu(r,e){const t=on(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Cs.getTargetData(s,e).next(u=>u?(a=u,Rt.resolve(a)):t.Cs.allocateTargetId(s).next(m=>(a=new nl(e,m,0,s.currentSequenceNumber),t.Cs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ui.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function Cu(r,e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,Ie.Z)(function*(r,e,t){const s=on(r),a=s.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",u,m=>s.persistence.referenceDelegate.removeTarget(m,a)))}catch(m){if(!aa(m))throw m;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.Ui=s.Ui.remove(e),s.qi.delete(a.target)}),Uo.apply(this,arguments)}function Yh(r,e,t){const s=on(r);let a=Zn.min(),u=Ei();return s.persistence.runTransaction("Execute query","readonly",m=>function(T,L,W){const de=on(T),$e=de.qi.get(W);return void 0!==$e?Rt.resolve(de.Ui.get($e)):de.Cs.getTargetData(L,W)}(s,m,Lo(e)).next(T=>{if(T)return a=T.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(m,T.targetId).next(L=>{u=L})}).next(()=>s.Li.getDocumentsMatchingQuery(m,e,t?a:Zn.min(),t?u:Ei())).next(T=>(Iv(s,Yu(e),T),{documents:T,Hi:u})))}function n_(r,e){const t=on(r),s=on(t.Cs),a=t.Ui.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>s.se(u,e).next(m=>m?m.target:null))}function Dv(r,e){const t=on(r),s=t.Ki.get(e)||Zn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Gi.getAllFromCollectionGroup(a,e,Rr(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Iv(t,e,a),a))}function Iv(r,e,t){let s=Zn.min();t.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ki.set(e,s)}function r_(){return r_=(0,Ie.Z)(function*(r,e,t,s){const a=on(r);let u=Ei(),m=lo();for(const W of t){const de=e.Ji(W.metadata.name);W.document&&(u=u.add(de));const $e=e.Yi(W);$e.setReadTime(e.Xi(W.metadata.readTime)),m=m.insert(de,$e)}const T=a.Gi.newChangeBuffer({trackRemovals:!0}),L=yield wu(a,(W=s,Lo(Ka(Vi.fromString(`__bundle__/docs/${W}`)))));var W;return a.persistence.runTransaction("Apply bundle documents","readwrite",W=>e_(W,T,m).next(de=>(T.apply(W),de)).next(de=>a.Cs.removeMatchingKeysForTargetId(W,L.targetId).next(()=>a.Cs.addMatchingKeys(W,u,L.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(W,de.Wi,de.zi)).next(()=>de.Wi)))}),r_.apply(this,arguments)}function Tv(r,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,Ie.Z)(function*(r,e,t=Ei()){const s=yield wu(r,Lo(Lh(e.bundledQuery))),a=on(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const m=xs(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return a.Ns.saveNamedQuery(u,e);const T=s.withResumeToken(yr.EMPTY_BYTE_STRING,m);return a.Ui=a.Ui.insert(T.targetId,T),a.Cs.updateTargetData(u,T).next(()=>a.Cs.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>a.Cs.addMatchingKeys(u,t,s.targetId)).next(()=>a.Ns.saveNamedQuery(u,e))})}),Ed.apply(this,arguments)}function Vp(r,e){return`firestore_clients_${r}_${e}`}function s_(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Up(r,e){return`firestore_targets_${r}_${e}`}class Qh{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Zi(e,t,s){const a=JSON.parse(s);let u,m="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(u=new Jt(a.error.code,a.error.message))),m?new Qh(e,t,a.state,u):(xe("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Du{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let a,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(a=new Jt(s.error.code,s.error.message))),u?new Du(e,s.state,a):(xe("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,u=Ac();for(let m=0;a&&m<s.activeTargetIds.length;++m)a=ft(s.activeTargetIds[m]),u=u.add(s.activeTargetIds[m]);return a?new Xh(e,u):(xe("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Jh{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Jh(t.clientId,t.onlineState):(xe("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jp{constructor(){this.activeTargetIds=Ac()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hp{constructor(e,t,s,a,u){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Pr(Qn),this.started=!1,this.cr=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=Vp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new jp),this.lr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(T){return`firestore_bundle_loaded_v2_${T}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.syncEngine.vi();for(const a of t){if(a===e.sr)continue;const u=e.getItem(Vp(e.persistenceKey,a));if(u){const m=Xh.Zi(a,u);m&&(e.ur=e.ur.insert(m.clientId,m))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const a=e.yr(s);a&&e.pr(a)}for(const a of e.cr)e.rr(a);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Up(this.persistenceKey,e));if(s){const a=Du.Zi(e,s);a&&(t=a.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Up(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Er(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return K("SharedClientState","READ",e,t),t}setItem(e,t){K("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){K("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(K("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void xe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const a=t.vr(s.key);return t.Vr(a,null)}{const a=t.Sr(s.key,s.newValue);if(a)return t.Vr(a.clientId,a)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const a=t.Dr(s.key,s.newValue);if(a)return t.Cr(a)}}else if(t._r.test(s.key)){if(null!==s.newValue){const a=t.Nr(s.key,s.newValue);if(a)return t.kr(a)}}else if(s.key===t.wr){if(null!==s.newValue){const a=t.yr(s.newValue);if(a)return t.pr(a)}}else if(s.key===t.hr){const a=function(u){let m=ps.at;if(null!=u)try{const T=JSON.parse(u);pn("number"==typeof T),m=T}catch(T){xe("SharedClientState","Failed to read sequence number from WebStorage",T)}return m}(s.newValue);a!==ps.at&&t.sequenceNumberHandler(a)}else if(s.key===t.mr){const a=t.Mr(s.newValue);yield Promise.all(a.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const a=new Qh(this.currentUser,e,t,s),u=s_(this.persistenceKey,this.currentUser,e);this.setItem(u,a.tr())}Er(e){const t=s_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const a=Up(this.persistenceKey,e),u=new Du(e,t,s);this.setItem(a,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Xh.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),a=Number(s[1]);return Qh.Zi(new A(void 0!==s[2]?s[2]:null),a,t)}Nr(e,t){const s=this._r.exec(e),a=Number(s[1]);return Du.Zi(a,t)}yr(e){return Jh.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);K("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),a=this.Ir(this.ur),u=this.Ir(s),m=[],T=[];return u.forEach(L=>{a.has(L)||m.push(L)}),a.forEach(L=>{u.has(L)||T.push(L)}),this.syncEngine.Br(m,T).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Ac();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class $p{constructor(){this.Lr=new jp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,s){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new jp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class o_{qr(e){}shutdown(){}}class a_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const sl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Gp{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Sv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,s,a,u){const m=this.ao(e,t);K("RestConnection","Sending: ",m,s);const T={};return this.ho(T,a,u),this.lo(e,m,T,s).then(L=>(K("RestConnection","Received: ",L),L),L=>{throw Xe("RestConnection",`${e} failed with error: `,L,"url: ",m,"request:",s),L})}fo(e,t,s,a,u,m){return this.co(e,t,s,a,u)}ho(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+D,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),s&&s.headers.forEach((a,u)=>e[u]=a)}ao(e,t){return`${this.oo}/v1/${t}:${sl[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,s,a){return new Promise((u,m)=>{const T=new Ia;T.listenOnce(ul.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case Vs.NO_ERROR:const W=T.getResponseJson();K("Connection","XHR received:",JSON.stringify(W)),u(W);break;case Vs.TIMEOUT:K("Connection",'RPC "'+e+'" timed out'),m(new Jt(wt.DEADLINE_EXCEEDED,"Request time out"));break;case Vs.HTTP_ERROR:const de=T.getStatus();if(K("Connection",'RPC "'+e+'" failed with status:',de,"response text:",T.getResponseText()),de>0){const $e=T.getResponseJson().error;if($e&&$e.status&&$e.message){const St=function(qt){const Xt=qt.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(Xt)>=0?Xt:wt.UNKNOWN}($e.status);m(new Jt(St,$e.message))}else m(new Jt(wt.UNKNOWN,"Server responded with status "+T.getStatus()))}else m(new Jt(wt.UNAVAILABLE,"Connection failed."));break;default:Gt()}}finally{K("Connection",'RPC "'+e+'" completed.')}});const L=JSON.stringify(a);T.send(t,"POST",L,s,15)})}_o(e,t,s){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Ts(),m=pa(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(T.xmlHttpFactory=new dl({})),this.ho(T.initMessageHeaders,t,s),(0,he.uI)()||(0,he.b$)()||(0,he.d)()||(0,he.w1)()||(0,he.Mn)()||(0,he.ru)()||(T.httpHeadersOverwriteParam="$httpHeaders");const L=a.join("");K("Connection","Creating WebChannel: "+L,T);const W=u.createWebChannel(L,T);let de=!1,$e=!1;const St=new Gp({Hr:Xt=>{$e?K("Connection","Not sending because WebChannel is closed:",Xt):(de||(K("Connection","Opening WebChannel transport."),W.open(),de=!0),K("Connection","WebChannel sending:",Xt),W.send(Xt))},Jr:()=>W.close()}),qt=(Xt,En,kn)=>{Xt.listen(En,Mi=>{try{kn(Mi)}catch(sr){setTimeout(()=>{throw sr},0)}})};return qt(W,Xi.EventType.OPEN,()=>{$e||K("Connection","WebChannel transport opened.")}),qt(W,Xi.EventType.CLOSE,()=>{$e||($e=!0,K("Connection","WebChannel transport closed"),St.io())}),qt(W,Xi.EventType.ERROR,Xt=>{$e||($e=!0,Xe("Connection","WebChannel transport errored:",Xt),St.io(new Jt(wt.UNAVAILABLE,"The operation could not be completed")))}),qt(W,Xi.EventType.MESSAGE,Xt=>{var En;if(!$e){const kn=Xt.data[0];pn(!!kn);const Mi=kn,sr=Mi.error||(null===(En=Mi[0])||void 0===En?void 0:En.error);if(sr){K("Connection","WebChannel received error:",sr);const Gi=sr.status;let Di=function(Ii){const Gs=$r[Ii];if(void 0!==Gs)return Mc(Gs)}(Gi),ei=sr.message;void 0===Di&&(Di=wt.INTERNAL,ei="Unknown error status: "+Gi+" with message "+sr.message),$e=!0,St.io(new Jt(Di,ei)),W.close()}else K("Connection","WebChannel received:",kn),St.ro(kn)}}),qt(m,Ha.STAT_EVENT,Xt=>{Xt.stat===so.PROXY?K("Connection","Detected buffering proxy"):Xt.stat===so.NOPROXY&&K("Connection","Detected no buffering proxy")}),setTimeout(()=>{St.so()},0),St}}function l_(){return"undefined"!=typeof window?window:null}function zp(){return"undefined"!=typeof document?document:null}function Iu(r){return new Ih(r,!0)}class Wp{constructor(e,t,s=1e3,a=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=s,this.mo=a,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),a=Math.max(0,t-s);a>0&&K("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class c_{constructor(e,t,s,a,u,m,T,L){this.Hs=e,this.Po=s,this.vo=a,this.Vo=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=T,this.listener=L,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Wp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Ie.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ie.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,Ie.Z)(function*(){s.Lo(),s.Uo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===wt.RESOURCE_EXHAUSTED?(xe(t.toString()),xe("Using maximum backoff delay to prevent overloading the backend."),s.xo.Eo()):t&&t.code===wt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.So===t&&this.Go(s,a)},s=>{e(()=>{const a=new Jt(wt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(a)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{s(()=>this.Qo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Ie.Z)(function*(){e.state=0,e.start()}))}Qo(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mv extends c_{constructor(e,t,s,a,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,m),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function On(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:Gt(),a=e.targetChange.targetIds||[],u=function(L,W){return L.gt?(pn(void 0===W||"string"==typeof W),yr.fromBase64String(W||"")):(pn(void 0===W||W instanceof Uint8Array),yr.fromUint8Array(W||new Uint8Array))}(r,e.targetChange.resumeToken),m=e.targetChange.cause,T=m&&function(L){const W=void 0===L.code?wt.UNKNOWN:Mc(L.code);return new Jt(W,L.message||"")}(m);t=new co(s,a,u,T||null)}else if("documentChange"in e){const s=e.documentChange,a=d(r,s.document.name),u=xs(s.document.updateTime),m=new js({mapValue:{fields:s.document.fields}}),T=cr.newFoundDocument(a,u,m);t=new gu(s.targetIds||[],s.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const s=e.documentDelete,a=d(r,s.document),u=s.readTime?xs(s.readTime):Zn.min(),m=cr.newNoDocument(a,u);t=new gu([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,a=d(r,s.document);t=new gu([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Gt();{const s=e.filter,u=new wh(s.count||0);t=new sd(s.targetId,u)}}var L;return t}(this.It,e),s=function(a){if(!("targetChange"in a))return Zn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Zn.min():u.readTime?xs(u.readTime):Zn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=$(this.It),t.addTarget=function(a,u){let m;const T=u.target;return m=au(T)?{documents:bo(a,T)}:{query:Yl(a,T)},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?m.resumeToken=yu(a,u.resumeToken):u.snapshotVersion.compareTo(Zn.min())>0&&(m.readTime=Rc(a,u.snapshotVersion.toTimestamp())),m}(this.It,e);const s=function tl(r,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Gt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=$(this.It),t.removeTarget=e,this.Bo(t)}}class Kp extends c_{constructor(e,t,s,a,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,m),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Jr(r,e){return r&&r.length>0?(pn(void 0!==e),r.map(t=>function(s,a){let u=xs(s.updateTime?s.updateTime:a);return u.isEqual(Zn.min())&&(u=xs(a)),new mp(u,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=xs(e.commitTime);return this.listener.Zo(s,t)}return pn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=$(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Yn(this.It,s))};this.Bo(t)}}class Av extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=s,this.It=a,this.nu=!1}su(){if(this.nu)throw new Jt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.co(e,t,s,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Jt(wt.UNKNOWN,a.toString())})}fo(e,t,s,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.Vo.fo(e,t,s,u,m,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Jt(wt.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class xv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(xe(t),this.ou=!1):K("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ef{constructor(e,t,s,a,u){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(T=>{s.enqueueAndForget((0,Ie.Z)(function*(){var L;Al(m)&&(K("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,Ie.Z)(function*(W){const de=on(W);de._u.add(4),yield tc(de),de.gu.set("Unknown"),de._u.delete(4),yield $c(de)}),function(W){return L.apply(this,arguments)})(m))}))}),this.gu=new xv(s,a)}}function $c(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Ie.Z)(function*(r){if(Al(r))for(const e of r.wu)yield e(!0)}),Zp.apply(this,arguments)}function tc(r){return wd.apply(this,arguments)}function wd(){return wd=(0,Ie.Z)(function*(r){for(const e of r.wu)yield e(!1)}),wd.apply(this,arguments)}function Cd(r,e){const t=on(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Yp(t)?u_(t):Tu(t).ko()&&qp(t,e))}function Dd(r,e){const t=on(r),s=Tu(t);t.du.delete(e),s.ko()&&tf(t,e),0===t.du.size&&(s.ko()?s.Fo():Al(t)&&t.gu.set("Unknown"))}function qp(r,e){r.yu.Ot(e.targetId),Tu(r).zo(e)}function tf(r,e){r.yu.Ot(e),Tu(r).Ho(e)}function u_(r){r.yu=new od({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),Tu(r).start(),r.gu.uu()}function Yp(r){return Al(r)&&!Tu(r).No()&&r.du.size>0}function Al(r){return 0===on(r)._u.size}function Qp(r){r.yu=void 0}function d_(r){return nf.apply(this,arguments)}function nf(){return nf=(0,Ie.Z)(function*(r){r.du.forEach((e,t)=>{qp(r,e)})}),nf.apply(this,arguments)}function h_(r,e){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,Ie.Z)(function*(r,e){Qp(r),Yp(r)?(r.gu.hu(e),u_(r)):r.gu.set("Unknown")}),Fa.apply(this,arguments)}function rf(r,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,Ie.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof co&&2===e.state&&e.cause)try{yield(s=(0,Ie.Z)(function*(a,u){const m=u.cause;for(const T of u.targetIds)a.du.has(T)&&(yield a.remoteSyncer.rejectListen(T,m),a.du.delete(T),a.yu.removeTarget(T))}),function(a,u){return s.apply(this,arguments)})(r,e)}catch(s){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield sf(r,s)}else if(e instanceof gu?r.yu.Gt(e):e instanceof sd?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Zn.min()))try{const s=yield Bp(r.localStore);t.compareTo(s)>=0&&(yield function(a,u){const m=a.yu.te(u);return m.targetChanges.forEach((T,L)=>{if(T.resumeToken.approximateByteSize()>0){const W=a.du.get(L);W&&a.du.set(L,W.withResumeToken(T.resumeToken,u))}}),m.targetMismatches.forEach(T=>{const L=a.du.get(T);if(!L)return;a.du.set(T,L.withResumeToken(yr.EMPTY_BYTE_STRING,L.snapshotVersion)),tf(a,T);const W=new nl(L.target,T,1,L.sequenceNumber);qp(a,W)}),a.remoteSyncer.applyRemoteEvent(m)}(r,t))}catch(s){K("RemoteStore","Failed to raise snapshot:",s),yield sf(r,s)}var s}),Xp.apply(this,arguments)}function sf(r,e,t){return f_.apply(this,arguments)}function f_(){return f_=(0,Ie.Z)(function*(r,e,t){if(!aa(e))throw e;r._u.add(1),yield tc(r),r.gu.set("Offline"),t||(t=()=>Bp(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){K("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield $c(r)}))}),f_.apply(this,arguments)}function af(r,e){return e().catch(t=>sf(r,t,e))}function Gc(r){return Id.apply(this,arguments)}function Id(){return Id=(0,Ie.Z)(function*(r){const e=on(r),t=rc(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Td(e);)try{const a=yield t_(e.localStore,s);if(null===a){0===e.fu.length&&t.Fo();break}s=a.batchId,Ov(e,a)}catch(a){yield sf(e,a)}lf(e)&&Jp(e)}),Id.apply(this,arguments)}function Td(r){return Al(r)&&r.fu.length<10}function Ov(r,e){r.fu.push(e);const t=rc(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function lf(r){return Al(r)&&!rc(r).No()&&r.fu.length>0}function Jp(r){rc(r).start()}function p_(r){return cf.apply(this,arguments)}function cf(){return cf=(0,Ie.Z)(function*(r){rc(r).eu()}),cf.apply(this,arguments)}function Rv(r){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,Ie.Z)(function*(r){const e=rc(r);for(const t of r.fu)e.Xo(t.mutations)}),Sd.apply(this,arguments)}function Pv(r,e,t){return em.apply(this,arguments)}function em(){return em=(0,Ie.Z)(function*(r,e,t){const s=r.fu.shift(),a=Tp.from(s,e,t);yield af(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Gc(r)}),em.apply(this,arguments)}function m_(r,e){return nc.apply(this,arguments)}function nc(){return nc=(0,Ie.Z)(function*(r,e){var t;e&&rc(r).Yo&&(yield(t=(0,Ie.Z)(function*(s,a){if(Qa(u=a.code)&&u!==wt.ABORTED){const m=s.fu.shift();rc(s).Oo(),yield af(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,a)),yield Gc(s)}var u}),function(s,a){return t.apply(this,arguments)})(r,e)),lf(r)&&Jp(r)}),nc.apply(this,arguments)}function tm(r,e){return nm.apply(this,arguments)}function nm(){return nm=(0,Ie.Z)(function*(r,e){const t=on(r);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const s=Al(t);t._u.add(3),yield tc(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield $c(t)}),nm.apply(this,arguments)}function im(r,e){return ic.apply(this,arguments)}function ic(){return ic=(0,Ie.Z)(function*(r,e){const t=on(r);e?(t._u.delete(2),yield $c(t)):e||(t._u.add(2),yield tc(t),t.gu.set("Unknown"))}),ic.apply(this,arguments)}function Tu(r){return r.pu||(r.pu=function(e,t,s){const a=on(e);return a.su(),new Mv(t,a.Vo,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:d_.bind(null,r),Zr:h_.bind(null,r),Wo:rf.bind(null,r)}),r.wu.push(function(){var e=(0,Ie.Z)(function*(t){t?(r.pu.Oo(),Yp(r)?u_(r):r.gu.set("Unknown")):(yield r.pu.stop(),Qp(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function rc(r){return r.Iu||(r.Iu=function(e,t,s){const a=on(e);return a.su(),new Kp(t,a.Vo,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:p_.bind(null,r),Zr:m_.bind(null,r),tu:Rv.bind(null,r),Zo:Pv.bind(null,r)}),r.wu.push(function(){var e=(0,Ie.Z)(function*(t){t?(r.Iu.Oo(),yield Gc(r)):(yield r.Iu.stop(),r.fu.length>0&&(K("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class rm{constructor(e,t,s,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,s,a,u){const m=Date.now()+s,T=new rm(e,t,m,a,u);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jt(wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Su(r,e){if(xe("AsyncQueue",`${e}: ${r}`),aa(r))return new Jt(wt.UNAVAILABLE,`${e}: ${r}`);throw r}class Eo{constructor(e){this.comparator=e?(t,s)=>e(t,s)||wn.comparator(t.key,s.key):(t,s)=>wn.comparator(t.key,s.key),this.keyedMap=ya(),this.sortedSet=new Pr(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class uf{constructor(){this.Tu=new Pr(wn.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Gt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class zc{constructor(e,t,s,a,u,m,T,L){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=T,this.excludesMetadataChanges=L}static fromInitialDocuments(e,t,s,a){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new zc(e,t,Eo.emptySet(t),u,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ao(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class g_{constructor(){this.Au=void 0,this.listeners=[]}}class __{constructor(){this.queries=new Xa(e=>qu(e),ao),this.onlineState="Unknown",this.Ru=new Set}}function df(r,e){return sm.apply(this,arguments)}function sm(){return sm=(0,Ie.Z)(function*(r,e){const t=on(r),s=e.query;let a=!1,u=t.queries.get(s);if(u||(a=!0,u=new g_),a)try{u.Au=yield t.onListen(s)}catch(m){const T=Su(m,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(T)}t.queries.set(s,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&v_(t)}),sm.apply(this,arguments)}function om(r,e){return am.apply(this,arguments)}function am(){return am=(0,Ie.Z)(function*(r,e){const t=on(r),s=e.query;let a=!1;const u=t.queries.get(s);if(u){const m=u.listeners.indexOf(e);m>=0&&(u.listeners.splice(m,1),a=0===u.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),am.apply(this,arguments)}function kv(r,e){const t=on(r);let s=!1;for(const a of e){const m=t.queries.get(a.query);if(m){for(const T of m.listeners)T.Pu(a)&&(s=!0);m.Au=a}}s&&v_(t)}function y_(r,e,t){const s=on(r),a=s.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);s.queries.delete(e)}function v_(r){r.Ru.forEach(e=>{e.next()})}class hf{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new zc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Nv{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class b_{constructor(e){this.It=e}Ji(e){return d(this.It,e)}Yi(e){return e.metadata.exists?jt(this.It,e.document,!1):cr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return xs(e)}}class Kb{constructor(e,t,s){this.Mu=e,this.localStore=t,this.It=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Fv(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=Vi.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,s=new b_(this.It);for(const a of e)if(a.metadata.queries){const u=s.Ji(a.metadata.name);for(const m of a.metadata.queries){const T=(t.get(m)||Ei()).add(u);t.set(m,T)}}return t}complete(){var e=this;return(0,Ie.Z)(function*(){const t=yield function i_(r,e,t,s){return r_.apply(this,arguments)}(e.localStore,new b_(e.It),e.documents,e.Mu.id),s=e.Fu(e.documents);for(const a of e.queries)yield Tv(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Fv(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class ff{constructor(e){this.key=e}}class E_{constructor(e){this.key=e}}class lm{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Ei(),this.mutatedKeys=Ei(),this.Ku=Cc(e),this.Gu=new Eo(this.Ku)}get Qu(){return this.Lu}ju(e,t){const s=t?t.Wu:new uf,a=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,m=a,T=!1;const L="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,W="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((de,$e)=>{const St=a.get(de),qt=Ra(this.query,$e)?$e:null,Xt=!!St&&this.mutatedKeys.has(St.key),En=!!qt&&(qt.hasLocalMutations||this.mutatedKeys.has(qt.key)&&qt.hasCommittedMutations);let kn=!1;St&&qt?St.data.isEqual(qt.data)?Xt!==En&&(s.track({type:3,doc:qt}),kn=!0):this.zu(St,qt)||(s.track({type:2,doc:qt}),kn=!0,(L&&this.Ku(qt,L)>0||W&&this.Ku(qt,W)<0)&&(T=!0)):!St&&qt?(s.track({type:0,doc:qt}),kn=!0):St&&!qt&&(s.track({type:1,doc:St}),kn=!0,(L||W)&&(T=!0)),kn&&(qt?(m=m.add(qt),u=En?u.add(de):u.delete(de)):(m=m.delete(de),u=u.delete(de)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const de="F"===this.query.limitType?m.last():m.first();m=m.delete(de.key),u=u.delete(de.key),s.track({type:1,doc:de})}return{Gu:m,Wu:s,$i:T,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((W,de)=>function($e,St){const qt=Xt=>{switch(Xt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt()}};return qt($e)-qt(St)}(W.type,de.type)||this.Ku(W.doc,de.doc)),this.Hu(s);const m=t?this.Ju():[],T=0===this.qu.size&&this.current?1:0,L=T!==this.Uu;return this.Uu=T,0!==u.length||L?{snapshot:new zc(this.query,e.Gu,a,u,e.mutatedKeys,0===T,L,!1),Yu:m}:{Yu:m}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new uf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Ei(),this.Gu.forEach(s=>{this.Xu(s.key)&&(this.qu=this.qu.add(s.key))});const t=[];return e.forEach(s=>{this.qu.has(s)||t.push(new E_(s))}),this.qu.forEach(s=>{e.has(s)||t.push(new ff(s))}),t}Zu(e){this.Lu=e.Hi,this.qu=Ei();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return zc.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class w_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Zb{constructor(e){this.key=e,this.ec=!1}}class La{constructor(e,t,s,a,u,m){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.nc={},this.sc=new Xa(T=>qu(T),ao),this.ic=new Map,this.rc=new Set,this.oc=new Pr(wn.comparator),this.uc=new Map,this.cc=new Wh,this.ac={},this.hc=new Map,this.lc=Eu.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function qb(r,e){return C_.apply(this,arguments)}function C_(){return C_=(0,Ie.Z)(function*(r,e){const t=Df(r);let s,a;const u=t.sc.get(e);if(u)s=u.targetId,t.sharedClientState.addLocalQueryTarget(s),a=u.view.tc();else{const m=yield wu(t.localStore,Lo(e));t.isPrimaryClient&&Cd(t.remoteStore,m);const T=t.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,a=yield pf(t,e,s,"current"===T)}return a}),C_.apply(this,arguments)}function pf(r,e,t,s){return mf.apply(this,arguments)}function mf(){return mf=(0,Ie.Z)(function*(r,e,t,s){r.dc=(de,$e,St)=>{return(qt=(0,Ie.Z)(function*(Xt,En,kn,Mi){let sr=En.view.ju(kn);sr.$i&&(sr=yield Yh(Xt.localStore,En.query,!1).then(({documents:ei})=>En.view.ju(ei,sr)));const Gi=Mi&&Mi.targetChanges.get(En.targetId),Di=En.view.applyChanges(sr,Xt.isPrimaryClient,Gi);return Md(Xt,En.targetId,Di.Yu),Di.snapshot}),function(Xt,En,kn,Mi){return qt.apply(this,arguments)})(r,de,$e,St);var qt};const a=yield Yh(r.localStore,e,!0),u=new lm(e,a.Hi),m=u.ju(a.documents),T=Ja.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState),L=u.applyChanges(m,r.isPrimaryClient,T);Md(r,t,L.Yu);const W=new w_(e,t,u);return r.sc.set(e,W),r.ic.has(t)?r.ic.get(t).push(e):r.ic.set(t,[e]),L.snapshot}),mf.apply(this,arguments)}function D_(r,e){return cm.apply(this,arguments)}function cm(){return cm=(0,Ie.Z)(function*(r,e){const t=on(r),s=t.sc.get(e),a=t.ic.get(s.targetId);if(a.length>1)return t.ic.set(s.targetId,a.filter(u=>!ao(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Cu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Dd(t.remoteStore,s.targetId),Mu(t,s.targetId)}).catch(Xr))):(Mu(t,s.targetId),yield Cu(t.localStore,s.targetId,!0))}),cm.apply(this,arguments)}function gf(){return gf=(0,Ie.Z)(function*(r,e,t){const s=If(r);try{const a=yield function(u,m){const T=on(u),L=Ki.now(),W=m.reduce((St,qt)=>St.add(qt.key),Ei());let de,$e;return T.persistence.runTransaction("Locally write mutations","readwrite",St=>{let qt=lo(),Xt=Ei();return T.Gi.getEntries(St,W).next(En=>{qt=En,qt.forEach((kn,Mi)=>{Mi.isValidDocument()||(Xt=Xt.add(kn))})}).next(()=>T.localDocuments.getOverlayedDocuments(St,qt)).next(En=>{de=En;const kn=[];for(const Mi of m){const sr=gp(Mi,de.get(Mi.key).overlayedDocument);null!=sr&&kn.push(new Bo(Mi.key,sr,uh(sr.value.mapValue),di.exists(!0)))}return T.mutationQueue.addMutationBatch(St,L,kn,m)}).next(En=>{$e=En;const kn=En.applyToLocalDocumentSet(de,Xt);return T.documentOverlayCache.saveOverlays(St,En.batchId,kn)})}).then(()=>({batchId:$e.batchId,changes:id(de)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,m,T){let L=u.ac[u.currentUser.toKey()];L||(L=new Pr(Qn)),L=L.insert(m,T),u.ac[u.currentUser.toKey()]=L}(s,a.batchId,t),yield Gr(s,a.changes),yield Gc(s.remoteStore)}catch(a){const u=Su(a,"Failed to persist write");t.reject(u)}}),gf.apply(this,arguments)}function _f(r,e){return um.apply(this,arguments)}function um(){return um=(0,Ie.Z)(function*(r,e){const t=on(r);try{const s=yield Jg(t.localStore,e);e.targetChanges.forEach((a,u)=>{const m=t.uc.get(u);m&&(pn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?m.ec=!0:a.modifiedDocuments.size>0?pn(m.ec):a.removedDocuments.size>0&&(pn(m.ec),m.ec=!1))}),yield Gr(t,s,e)}catch(s){yield Xr(s)}}),um.apply(this,arguments)}function yf(r,e,t){const s=on(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.sc.forEach((u,m)=>{const T=m.view.bu(e);T.snapshot&&a.push(T.snapshot)}),function(u,m){const T=on(u);T.onlineState=m;let L=!1;T.queries.forEach((W,de)=>{for(const $e of de.listeners)$e.bu(m)&&(L=!0)}),L&&v_(T)}(s.eventManager,e),a.length&&s.nc.Wo(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Lv(r,e,t){return dm.apply(this,arguments)}function dm(){return dm=(0,Ie.Z)(function*(r,e,t){const s=on(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.uc.get(e),u=a&&a.key;if(u){let m=new Pr(wn.comparator);m=m.insert(u,cr.newNoDocument(u,Zn.min()));const T=Ei().add(u),L=new xc(Zn.min(),new Map,new Ni(Qn),m,T);yield _f(s,L),s.oc=s.oc.remove(u),s.uc.delete(e),Kc(s)}else yield Cu(s.localStore,e,!1).then(()=>Mu(s,e,t)).catch(Xr)}),dm.apply(this,arguments)}function Bv(r,e){return hm.apply(this,arguments)}function hm(){return hm=(0,Ie.Z)(function*(r,e){const t=on(r),s=e.batch.batchId;try{const a=yield Wb(t.localStore,e);Wc(t,s,null),pm(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Gr(t,a)}catch(a){yield Xr(a)}}),hm.apply(this,arguments)}function Vv(r,e,t){return fm.apply(this,arguments)}function fm(){return fm=(0,Ie.Z)(function*(r,e,t){const s=on(r);try{const a=yield function(u,m){const T=on(u);return T.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let W;return T.mutationQueue.lookupMutationBatch(L,m).next(de=>(pn(null!==de),W=de.keys(),T.mutationQueue.removeMutationBatch(L,de))).next(()=>T.mutationQueue.performConsistencyCheck(L)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(L,W,m)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,W)).next(()=>T.localDocuments.getDocuments(L,W))})}(s.localStore,e);Wc(s,e,t),pm(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Gr(s,a)}catch(a){yield Xr(a)}}),fm.apply(this,arguments)}function sc(){return sc=(0,Ie.Z)(function*(r,e){const t=on(r);Al(t.remoteStore)||K("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(u){const m=on(u);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",T=>m.mutationQueue.getHighestUnacknowledgedBatchId(T))}(t.localStore);if(-1===s)return void e.resolve();const a=t.hc.get(s)||[];a.push(e),t.hc.set(s,a)}catch(s){const a=Su(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),sc.apply(this,arguments)}function pm(r,e){(r.hc.get(e)||[]).forEach(t=>{t.resolve()}),r.hc.delete(e)}function Wc(r,e,t){const s=on(r);let a=s.ac[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),s.ac[s.currentUser.toKey()]=a}}function Mu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.ic.get(e))r.sc.delete(s),t&&r.nc._c(s,t);r.ic.delete(e),r.isPrimaryClient&&r.cc.ls(e).forEach(s=>{r.cc.containsKey(s)||I_(r,s)})}function I_(r,e){r.rc.delete(e.path.canonicalString());const t=r.oc.get(e);null!==t&&(Dd(r.remoteStore,t),r.oc=r.oc.remove(e),r.uc.delete(t),Kc(r))}function Md(r,e,t){for(const s of t)s instanceof ff?(r.cc.addReference(s.key,e),ol(r,s)):s instanceof E_?(K("SyncEngine","Document no longer in limbo: "+s.key),r.cc.removeReference(s.key,e),r.cc.containsKey(s.key)||I_(r,s.key)):Gt()}function ol(r,e){const t=e.key,s=t.path.canonicalString();r.oc.get(t)||r.rc.has(s)||(K("SyncEngine","New document in limbo: "+t),r.rc.add(s),Kc(r))}function Kc(r){for(;r.rc.size>0&&r.oc.size<r.maxConcurrentLimboResolutions;){const e=r.rc.values().next().value;r.rc.delete(e);const t=new wn(Vi.fromString(e)),s=r.lc.next();r.uc.set(s,new Zb(t)),r.oc=r.oc.insert(t,s),Cd(r.remoteStore,new nl(Lo(Ka(t.path)),s,2,ps.at))}}function Gr(r,e,t){return xl.apply(this,arguments)}function xl(){return xl=(0,Ie.Z)(function*(r,e,t){const s=on(r),a=[],u=[],m=[];var T;s.sc.isEmpty()||(s.sc.forEach((T,L)=>{m.push(s.dc(L,e,t).then(W=>{if(W){s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,W.fromCache?"not-current":"current"),a.push(W);const de=vd.Ci(L.targetId,W);u.push(de)}}))}),yield Promise.all(m),s.nc.Wo(a),yield(T=(0,Ie.Z)(function*(L,W){const de=on(L);try{yield de.persistence.runTransaction("notifyLocalViewChanges","readwrite",$e=>Rt.forEach(W,St=>Rt.forEach(St.Si,qt=>de.persistence.referenceDelegate.addReference($e,St.targetId,qt)).next(()=>Rt.forEach(St.Di,qt=>de.persistence.referenceDelegate.removeReference($e,St.targetId,qt)))))}catch($e){if(!aa($e))throw $e;K("LocalStore","Failed to update sequence numbers: "+$e)}for(const $e of W){const St=$e.targetId;if(!$e.fromCache){const qt=de.Ui.get(St),En=qt.withLastLimboFreeSnapshotVersion(qt.snapshotVersion);de.Ui=de.Ui.insert(St,En)}}}),function(L,W){return T.apply(this,arguments)})(s.localStore,u))}),xl.apply(this,arguments)}function bf(r,e){return na.apply(this,arguments)}function na(){return na=(0,Ie.Z)(function*(r,e){const t=on(r);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const s=yield Xg(t.localStore,e);t.currentUser=e,(a=t).hc.forEach(m=>{m.forEach(T=>{T.reject(new Jt(wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.hc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Gr(t,s.ji)}var a}),na.apply(this,arguments)}function mm(r,e){const t=on(r),s=t.uc.get(e);if(s&&s.ec)return Ei().add(s.key);{let a=Ei();const u=t.ic.get(e);if(!u)return a;for(const m of u){const T=t.sc.get(m);a=a.unionWith(T.view.Qu)}return a}}function Au(r,e){return oc.apply(this,arguments)}function oc(){return oc=(0,Ie.Z)(function*(r,e){const t=on(r),s=yield Yh(t.localStore,e.query,!0),a=e.view.Zu(s);return t.isPrimaryClient&&Md(t,e.targetId,a.Yu),a}),oc.apply(this,arguments)}function xu(r,e){return ac.apply(this,arguments)}function ac(){return ac=(0,Ie.Z)(function*(r,e){const t=on(r);return Dv(t.localStore,e).then(s=>Gr(t,s))}),ac.apply(this,arguments)}function Ou(r,e,t,s){return lc.apply(this,arguments)}function lc(){return lc=(0,Ie.Z)(function*(r,e,t,s){const a=on(r),u=yield function(m,T){const L=on(m),W=on(L.mutationQueue);return L.persistence.runTransaction("Lookup mutation documents","readonly",de=>W.Tn(de,T).next($e=>$e?L.localDocuments.getDocuments(de,$e):Rt.resolve(null)))}(a.localStore,e);var T;null!==u?("pending"===t?yield Gc(a.remoteStore):"acknowledged"===t||"rejected"===t?(Wc(a,e,s||null),pm(a,e),T=e,on(on(a.localStore).mutationQueue).An(T)):Gt(),yield Gr(a,u)):K("SyncEngine","Cannot apply mutation batch with id: "+e)}),lc.apply(this,arguments)}function cc(){return cc=(0,Ie.Z)(function*(r,e){const t=on(r);if(Df(t),If(t),!0===e&&!0!==t.fc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Zc(t,s.toArray());t.fc=!0,yield im(t.remoteStore,!0);for(const u of a)Cd(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const s=[];let a=Promise.resolve();t.ic.forEach((u,m)=>{t.sharedClientState.isLocalQueryTarget(m)?s.push(m):a=a.then(()=>(Mu(t,m),Cu(t.localStore,m,!0))),Dd(t.remoteStore,m)}),yield a,yield Zc(t,s),function(u){const m=on(u);m.uc.forEach((T,L)=>{Dd(m.remoteStore,L)}),m.cc.fs(),m.uc=new Map,m.oc=new Pr(wn.comparator)}(t),t.fc=!1,yield im(t.remoteStore,!1)}}),cc.apply(this,arguments)}function Zc(r,e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Ie.Z)(function*(r,e,t){const s=on(r),a=[],u=[];for(const m of e){let T;const L=s.ic.get(m);if(L&&0!==L.length){T=yield wu(s.localStore,Lo(L[0]));for(const W of L){const de=s.sc.get(W),$e=yield Au(s,de);$e.snapshot&&u.push($e.snapshot)}}else{const W=yield n_(s.localStore,m);T=yield wu(s.localStore,W),yield pf(s,gm(W),m,!1)}a.push(T)}return s.nc.Wo(u),a}),Ef.apply(this,arguments)}function gm(r){return _h(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function T_(r){const e=on(r);return on(on(e.localStore).persistence).vi()}function S_(r,e,t,s){return wf.apply(this,arguments)}function wf(){return wf=(0,Ie.Z)(function*(r,e,t,s){const a=on(r);if(a.fc)return void K("SyncEngine","Ignoring unexpected query state notification.");const u=a.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const m=yield Dv(a.localStore,Yu(u[0])),T=xc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Gr(a,m,T);break}case"rejected":yield Cu(a.localStore,e,!0),Mu(a,e,s);break;default:Gt()}}),wf.apply(this,arguments)}function M_(r,e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Ie.Z)(function*(r,e,t){const s=Df(r);if(s.fc){for(const a of e){if(s.ic.has(a)){K("SyncEngine","Adding an already active target "+a);continue}const u=yield n_(s.localStore,a),m=yield wu(s.localStore,u);yield pf(s,gm(u),m.targetId,!1),Cd(s.remoteStore,m)}for(const a of t)s.ic.has(a)&&(yield Cu(s.localStore,a,!1).then(()=>{Dd(s.remoteStore,a),Mu(s,a)}).catch(Xr))}}),Cf.apply(this,arguments)}function Df(r){const e=on(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_f.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lv.bind(null,e),e.nc.Wo=kv.bind(null,e.eventManager),e.nc._c=y_.bind(null,e.eventManager),e}function If(r){const e=on(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vv.bind(null,e),e}class _m{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.It=Iu(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return bd(this.persistence,new Zh,e.initialUser,this.It)}gc(e){return new Yg(Ml.Bs,this.It)}mc(e){return new $p}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class A_ extends _m{constructor(e,t,s){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Ie.Z)(function*(){yield t().call(s,e),yield s.Ec.initialize(s,e),yield If(s.Ec.syncEngine),yield Gc(s.Ec.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return bd(this.persistence,new Zh,e.initialUser,this.It)}Ic(e,t){return new jb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const s=new su(t,this.persistence);return new ca(e.asyncQueue,s)}gc(e){const t=Kh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?fa.withCacheSize(this.cacheSizeBytes):fa.DEFAULT;return new ec(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,l_(),zp(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new $p}}class x_ extends A_{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Ie.Z)(function*(){yield t().call(s,e);const a=s.Ec.syncEngine;s.sharedClientState instanceof Hp&&(s.sharedClientState.syncEngine={Fr:Ou.bind(null,a),$r:S_.bind(null,a),Br:M_.bind(null,a),vi:T_.bind(null,a),Or:xu.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var u=(0,Ie.Z)(function*(m){yield function Ru(r,e){return cc.apply(this,arguments)}(s.Ec.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return u.apply(this,arguments)}}())})()}mc(e){const t=l_();if(!Hp.C(t))throw new Jt(wt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Kh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Tf{initialize(e,t){var s=this;return(0,Ie.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>yf(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=bf.bind(null,s.syncEngine),yield im(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new __}createDatastore(e){const t=Iu(e.databaseInfo.databaseId),s=new Sv(e.databaseInfo);return new Av(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,u=T=>yf(this.syncEngine,T,0),m=a_.C()?new a_:new o_,new ef(t,s,a,u,m);var t,s,a,u,m}createSyncEngine(e,t){return function(s,a,u,m,T,L,W){const de=new La(s,a,u,m,T,L);return W&&(de.fc=!0),de}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const s=on(t);K("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield tc(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function O_(r,e=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Sf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):xe("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class R_{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Ji,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(s=>{s&&s.ku()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const s=e.Pc.decode(t),a=Number(s);isNaN(a)&&e.Sc(`length string (${s}) is not valid number`);const u=yield e.Dc(a);return new Nv(JSON.parse(u),t.length+a)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Ie.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Dc(e){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const s=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.bc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class jv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Jt(wt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Ie.Z)(function*(u,m){const T=on(u),L=$(T.It)+"/documents",W={documents:m.map(qt=>g(T.It,qt))},de=yield T.fo("BatchGetDocuments",L,W,m.length),$e=new Map;de.forEach(qt=>{const Xt=function mn(r,e){return"found"in e?function(t,s){pn(!!s.found);const a=d(t,s.found.name),u=xs(s.found.updateTime),m=new js({mapValue:{fields:s.found.fields}});return cr.newFoundDocument(a,u,m)}(r,e):"missing"in e?function(t,s){pn(!!s.missing),pn(!!s.readTime);const a=d(t,s.missing),u=xs(s.readTime);return cr.newNoDocument(a,u)}(r,e):Gt()}(T.It,qt);$e.set(Xt.key.toString(),Xt)});const St=[];return m.forEach(qt=>{const Xt=$e.get(qt.toString());pn(!!Xt),St.push(Xt)}),St}),function(u,m){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new as(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const u=wn.fromPath(a);e.mutations.push(new Sc(u,e.precondition(u)))}),yield(s=(0,Ie.Z)(function*(a,u){const m=on(a),T=$(m.It)+"/documents",L={writes:u.map(W=>Yn(m.It,W))};yield m.co("Commit",T,L)}),function(a,u){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Gt();t=Zn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Jt(wt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Zn.min())?di.exists(!1):di.updateTime(t):di.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zn.min()))throw new Jt(wt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return di.updateTime(t)}return di.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class P_{constructor(e,t,s,a,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=u,this.Nc=s.maxAttempts,this.xo=new Wp(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Ie.Z)(function*(){const t=new jv(e.datastore),s=e.Mc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Oc(u)}))}).catch(a=>{e.Oc(a)})}))}Mc(e){try{const t=this.updateFunction(e);return!te(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Qa(t)}return!1}}class Hv{constructor(e,t,s,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=A.UNAUTHENTICATED,this.clientId=Oo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,Ie.Z)(function*(T){K("FirestoreClient","Received user=",T.uid),yield u.authCredentialListener(T),u.user=T});return function(T){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(K("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Jt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Su(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function k_(r,e){return N_.apply(this,arguments)}function N_(){return N_=(0,Ie.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Ie.Z)(function*(u){s.isEqual(u)||(yield Xg(e.localStore,u),s=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),N_.apply(this,arguments)}function F_(r,e){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,Ie.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield xd(r);K("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>tm(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>tm(e.remoteStore,u)),r.onlineComponents=e}),Ad.apply(this,arguments)}function xd(r){return ym.apply(this,arguments)}function ym(){return ym=(0,Ie.Z)(function*(r){return r.offlineComponents||(K("FirestoreClient","Using default OfflineComponentProvider"),yield k_(r,new _m)),r.offlineComponents}),ym.apply(this,arguments)}function vm(r){return L_.apply(this,arguments)}function L_(){return L_=(0,Ie.Z)(function*(r){return r.onlineComponents||(K("FirestoreClient","Using default OnlineComponentProvider"),yield F_(r,new Tf)),r.onlineComponents}),L_.apply(this,arguments)}function $v(r){return xd(r).then(e=>e.persistence)}function Mf(r){return xd(r).then(e=>e.localStore)}function bm(r){return vm(r).then(e=>e.remoteStore)}function B_(r){return vm(r).then(e=>e.syncEngine)}function Pu(r){return uc.apply(this,arguments)}function uc(){return uc=(0,Ie.Z)(function*(r){const e=yield vm(r),t=e.eventManager;return t.onListen=qb.bind(null,e.syncEngine),t.onUnlisten=D_.bind(null,e.syncEngine),t}),uc.apply(this,arguments)}function Em(r,e,t={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(a,u,m,T,L){const W=new Sf({next:$e=>{u.enqueueAndForget(()=>om(a,de));const St=$e.docs.has(m);!St&&$e.fromCache?L.reject(new Jt(wt.UNAVAILABLE,"Failed to get document because the client is offline.")):St&&$e.fromCache&&T&&"server"===T.source?L.reject(new Jt(wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve($e)},error:$e=>L.reject($e)}),de=new hf(Ka(m.path),W,{includeMetadataChanges:!0,Nu:!0});return df(a,de)}(yield Pu(r),r.asyncQueue,e,t,s)})),s.promise}function U_(r,e,t={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(a,u,m,T,L){const W=new Sf({next:$e=>{u.enqueueAndForget(()=>om(a,de)),$e.fromCache&&"server"===T.source?L.reject(new Jt(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve($e)},error:$e=>L.reject($e)}),de=new hf(m,W,{includeMetadataChanges:!0,Nu:!0});return df(a,de)}(yield Pu(r),r.asyncQueue,e,t,s)})),s.promise}const H_=new Map;function wm(r,e,t){if(!t)throw new Jt(wt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Cm(r,e,t,s){if(!0===e&&!0===s)throw new Jt(wt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function $_(r){if(!wn.isDocumentKey(r))throw new Jt(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Dm(r){if(wn.isDocumentKey(r))throw new Jt(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Od(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Gt()}function ji(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Jt(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Od(r);throw new Jt(wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function qv(r,e){if(e<=0)throw new Jt(wt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class xf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Jt(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Jt(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Cm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Jt(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Jt(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ga;switch(t.type){case"gapi":return new Fl(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Jt(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=H_.get(e);t&&(K("ComponentProvider","Removing Datastore"),H_.delete(e),t.terminate())}(this),Promise.resolve()}}class _r{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class ho{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class Ea extends ho{constructor(e,t,s){super(e,t,Ka(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new wn(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function Of(r,e,...t){if(r=(0,he.m9)(r),wm("collection","path",e),r instanceof Rd){const s=Vi.fromString(e,...t);return Dm(s),new Ea(r,null,s)}{if(!(r instanceof _r||r instanceof Ea))throw new Jt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Vi.fromString(e,...t));return Dm(s),new Ea(r.firestore,null,s)}}function qc(r,e,...t){if(r=(0,he.m9)(r),1===arguments.length&&(e=Oo.R()),wm("doc","path",e),r instanceof Rd){const s=Vi.fromString(e,...t);return $_(s),new _r(r,null,new wn(s))}{if(!(r instanceof _r||r instanceof Ea))throw new Jt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Vi.fromString(e,...t));return $_(s),new _r(r.firestore,r instanceof Ea?r.converter:null,new wn(s))}}function Pd(r,e){return r=(0,he.m9)(r),e=(0,he.m9)(e),(r instanceof _r||r instanceof Ea)&&(e instanceof _r||e instanceof Ea)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Rf(r,e){return r=(0,he.m9)(r),e=(0,he.m9)(e),r instanceof ho&&e instanceof ho&&r.firestore===e.firestore&&ao(r._query,e._query)&&r.converter===e.converter}class Xb{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Wp(this,"async_queue_retry"),this.jc=()=>{const t=zp();t&&K("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=zp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=zp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ji;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!aa(t))throw t;K("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(s=>{throw this.qc=s,this.Kc=!1,xe("INTERNAL UNHANDLED ERROR: ",function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),m}(s)),s}).then(s=>(this.Kc=!1,s))));return this.$c=t,t}enqueueAfterDelay(e,t,s){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const a=rm.createAndSchedule(this,e,t,s,u=>this.Jc(u));return this.Uc.push(a),a}Wc(){this.qc&&Gt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Im(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Pf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mr extends Rd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Xb,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tm(this),this._firestoreClient.terminate()}}function gs(r){return r._firestoreClient||Tm(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Tm(r){var e;const t=r._freezeSettings(),s=(u=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new R(r._databaseId,u,r._persistenceKey,(T=t).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var u,T;r._firestoreClient=new Hv(r._authCredentials,r._appCheckCredentials,r._queue,s)}function z_(r,e,t){const s=new Ji;return r.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield k_(r,t),yield F_(r,e),s.resolve()}catch(a){const u=a;if(!("FirebaseError"===(m=u).name?m.code===wt.FAILED_PRECONDITION||m.code===wt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw u;Xe("Error enabling offline persistence. Falling back to persistence disabled: "+u),s.reject(u)}var m})).then(()=>s.promise)}function xm(r){if(r._initialized||r._terminated)throw new Jt(wt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ba{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Jt(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Va(yr.fromBase64String(e))}catch(t){throw new Jt(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Va(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dc{constructor(e){this._methodName=e}}class kd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Jt(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Jt(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const Q_=/^__.*__$/;class X_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zl(e,this.data,t,this.fieldTransforms)}}class Om{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rm(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt()}}class Pm{constructor(e,t,s,a,u,m){this.settings=e,this.databaseId=t,this.It=s,this.ignoreUndefinedProperties=a,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.sa({path:s,ra:!1});return a.oa(e),a}ua(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.sa({path:s,ra:!1});return a.ea(),a}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return ku(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Rm(this.na)&&Q_.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Jv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=s||Iu(e)}fa(e,t,s,a=!1){return new Pm({na:e,methodName:t,la:s,path:Sr.emptyPath(),ra:!1,ha:a},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Yc(r){const e=r._freezeSettings(),t=Iu(r._databaseId);return new Jv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Nd(r,e,t,s,a,u={}){const m=r.fa(u.merge||u.mergeFields?2:0,e,t,a);Lf("Data must be an object, but it was:",m,s);const T=ey(s,m);let L,W;if(u.merge)L=new ms(m.fieldMask),W=m.fieldTransforms;else if(u.mergeFields){const de=[];for(const $e of u.mergeFields){const St=Fm(e,$e,t);if(!m.contains(St))throw new Jt(wt.INVALID_ARGUMENT,`Field '${St}' is specified in your field mask but missing from your input data.`);Bf(de,St)||de.push(St)}L=new ms(de),W=m.fieldTransforms.filter($e=>L.covers($e.field))}else L=null,W=m.fieldTransforms;return new X_(new js(T),L,W)}class Fd extends dc{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function Os(r,e,t){return new Pm({na:3,la:e.settings.la,methodName:r._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Nf extends dc{_toFieldTransform(e){return new Ya(e.path,new Ic)}isEqual(e){return e instanceof Nf}}class e0 extends dc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Os(this,e,!0),s=this.da.map(u=>wa(u,t)),a=new Za(s);return new Ya(e.path,a)}isEqual(e){return this===e}}class t0 extends dc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Os(this,e,!0),s=this.da.map(u=>wa(u,t)),a=new qa(s);return new Ya(e.path,a)}isEqual(e){return this===e}}class J_ extends dc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Kl(e.It,fp(e.It,this._a));return new Ya(e.path,t)}isEqual(e){return this===e}}function km(r,e,t,s){const a=r.fa(1,e,t);Lf("Data must be an object, but it was:",a,s);const u=[],m=js.empty();Ga(s,(L,W)=>{const de=Lm(e,L,t);W=(0,he.m9)(W);const $e=a.ua(de);if(W instanceof Fd)u.push(de);else{const St=wa(W,$e);null!=St&&(u.push(de),m.set(de,St))}});const T=new ms(u);return new Om(m,T,a.fieldTransforms)}function Ff(r,e,t,s,a,u){const m=r.fa(1,e,t),T=[Fm(e,s,t)],L=[a];if(u.length%2!=0)throw new Jt(wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let St=0;St<u.length;St+=2)T.push(Fm(e,u[St])),L.push(u[St+1]);const W=[],de=js.empty();for(let St=T.length-1;St>=0;--St)if(!Bf(W,T[St])){const qt=T[St];let Xt=L[St];Xt=(0,he.m9)(Xt);const En=m.ua(qt);if(Xt instanceof Fd)W.push(qt);else{const kn=wa(Xt,En);null!=kn&&(W.push(qt),de.set(qt,kn))}}const $e=new ms(W);return new Om(de,$e,m.fieldTransforms)}function Nm(r,e,t,s=!1){return wa(t,r.fa(s?4:3,e))}function wa(r,e){if(ty(r=(0,he.m9)(r)))return Lf("Unsupported field value:",e,r),ey(r,e);if(r instanceof dc)return function(t,s){if(!Rm(s.na))throw s.aa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.aa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,s){const a=[];let u=0;for(const m of t){let T=wa(m,s.ca(u));null==T&&(T={nullValue:"NULL_VALUE"}),a.push(T),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,he.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fp(s.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Ki.fromDate(t);return{timestampValue:Rc(s.It,a)}}if(t instanceof Ki){const a=new Ki(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rc(s.It,a)}}if(t instanceof kd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Va)return{bytesValue:yu(s.It,t._byteString)};if(t instanceof _r){const a=s.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw s.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:el(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.aa(`Unsupported field value: ${Od(t)}`)}(r,e)}function ey(r,e){const t={};return yc(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(r,(s,a)=>{const u=wa(a,e.ia(s));null!=u&&(t[s]=u)}),{mapValue:{fields:t}}}function ty(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Ki||r instanceof kd||r instanceof Va||r instanceof _r||r instanceof dc)}function Lf(r,e,t){if(!ty(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Od(t);throw e.aa("an object"===s?r+" a custom object":r+" "+s)}var s}function Fm(r,e,t){if((e=(0,he.m9)(e))instanceof Ba)return e._internalPath;if("string"==typeof e)return Lm(r,e);throw ku("Field path arguments must be of type string or ",r,!1,void 0,t)}const ny=new RegExp("[~\\*/\\[\\]]");function Lm(r,e,t){if(e.search(ny)>=0)throw ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ba(...e.split("."))._internalPath}catch(s){throw ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ku(r,e,t,s,a){const u=s&&!s.isEmpty(),m=void 0!==a;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let L="";return(u||m)&&(L+=" (found",u&&(L+=` in field ${s}`),m&&(L+=` in document ${a}`),L+=")"),new Jt(wt.INVALID_ARGUMENT,T+r+L)}function Bf(r,e){return r.some(t=>t.isEqual(e))}class ia{constructor(e,t,s,a,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new n0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class n0 extends ia{data(){return super.data()}}function Vf(r,e){return"string"==typeof e?Lm(r,e):e instanceof Ba?e._internalPath:e._delegate._internalPath}class wo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends ia{constructor(e,t,s,a,u,m){super(e,t,s,a,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class jo extends $s{data(e={}){return super.data(e)}}class Ol{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new jo(this._firestore,this._userDataWriter,s.key,s,new wo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Jt(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new jo(s._firestore,s._userDataWriter,m.doc.key,m.doc,new wo(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>a||3!==m.type).map(m=>{const T=new jo(s._firestore,s._userDataWriter,m.doc.key,m.doc,new wo(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let L=-1,W=-1;return 0!==m.type&&(L=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),1!==m.type&&(u=u.add(m.doc),W=u.indexOf(m.doc.key)),{type:iy(m.type),doc:T,oldIndex:L,newIndex:W}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iy(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt()}}function ry(r,e){return r instanceof $s&&e instanceof $s?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ol&&e instanceof Ol&&r._firestore===e._firestore&&Rf(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function sy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Jt(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ld{}function hc(r,...e){for(const t of e)r=t._apply(r);return r}class Bm extends Ld{constructor(e,t,s){super(),this.wa=e,this.ma=t,this.ga=s,this.type="where"}_apply(e){const t=Yc(e.firestore),s=function(a,u,m,T,L,W,de){let $e;if(L.isKeyField()){if("array-contains"===W||"array-contains-any"===W)throw new Jt(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${W}' queries on documentId().`);if("in"===W||"not-in"===W){$m(de,W);const qt=[];for(const Xt of de)qt.push(Hm(T,a,Xt));$e={arrayValue:{values:qt}}}else $e=Hm(T,a,de)}else"in"!==W&&"not-in"!==W&&"array-contains-any"!==W||$m(de,W),$e=Nm(m,"where",de,"in"===W||"not-in"===W);const St=As.create(L,W,$e);return function(qt,Xt){if(Xt.dt()){const kn=uu(qt);if(null!==kn&&!kn.isEqual(Xt.field))throw new Jt(wt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${kn.toString()}' and '${Xt.field.toString()}'`);const Mi=cu(qt);null!==Mi&&Gm(0,Xt.field,Mi)}const En=function(kn,Mi){for(const sr of kn.filters)if(Mi.indexOf(sr.op)>=0)return sr.op;return null}(qt,function(kn){switch(kn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Xt.op));if(null!==En)throw new Jt(wt.INVALID_ARGUMENT,En===Xt.op?`Invalid query. You cannot use more than one '${Xt.op.toString()}' filter.`:`Invalid query. You cannot use '${Xt.op.toString()}' filters with '${En.toString()}' filters.`)}(a,St),St}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ho(e.firestore,e.converter,function(a,u){const m=a.filters.concat([u]);return new _a(a.path,a.collectionGroup,a.explicitOrderBy.slice(),m,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class r0 extends Ld{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(s,a,u){if(null!==s.startAt)throw new Jt(wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Jt(wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Fo(a,u);return function(T,L){if(null===cu(T)){const W=uu(T);null!==W&&Gm(0,W,L.field)}}(s,m),m}(e._query,this.wa,this.ya);return new ho(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new _a(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class ay extends Ld{constructor(e,t,s){super(),this.type=e,this.pa=t,this.Ia=s}_apply(e){return new ho(e.firestore,e.converter,Zu(e._query,this.pa,this.Ia))}}class Vd extends Ld{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=jm(e,this.type,this.Ta,this.Ea);return new ho(e.firestore,e.converter,(a=t,new _a((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Vm extends Ld{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=jm(e,this.type,this.Ta,this.Ea);return new ho(e.firestore,e.converter,(a=t,new _a((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function jm(r,e,t,s){if(t[0]=(0,he.m9)(t[0]),t[0]instanceof ia)return function(a,u,m,T,L){if(!T)throw new Jt(wt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const W=[];for(const de of zl(a))if(de.field.isKeyField())W.push(yo(u,T.key));else{const $e=T.data.field(de.field);if(Hl($e))throw new Jt(wt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+de.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===$e){const St=de.field.canonicalString();throw new Jt(wt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${St}' (used as the orderBy) does not exist.`)}W.push($e)}return new Ys(W,L)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=Yc(r.firestore);return function(u,m,T,L,W,de){const $e=u.explicitOrderBy;if(W.length>$e.length)throw new Jt(wt.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const St=[];for(let qt=0;qt<W.length;qt++){const Xt=W[qt];if($e[qt].field.isKeyField()){if("string"!=typeof Xt)throw new Jt(wt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof Xt}`);if(!Ku(u)&&-1!==Xt.indexOf("/"))throw new Jt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${L}() must be a plain document ID, but '${Xt}' contains a slash.`);const En=u.path.child(Vi.fromString(Xt));if(!wn.isDocumentKey(En))throw new Jt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${L}() must result in a valid document path, but '${En}' is not because it contains an odd number of segments.`);const kn=new wn(En);St.push(yo(m,kn))}else{const En=Nm(T,L,Xt);St.push(En)}}return new Ys(St,de)}(r._query,r.firestore._databaseId,a,e,t,s)}}function Hm(r,e,t){if("string"==typeof(t=(0,he.m9)(t))){if(""===t)throw new Jt(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ku(e)&&-1!==t.indexOf("/"))throw new Jt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Vi.fromString(t));if(!wn.isDocumentKey(s))throw new Jt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yo(r,new wn(s))}if(t instanceof _r)return yo(r,t._key);throw new Jt(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(t)}.`)}function $m(r,e){if(!Array.isArray(r)||0===r.length)throw new Jt(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new Jt(wt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Gm(r,e,t){if(!t.isEqual(e))throw new Jt(wt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const dy={maxAttempts:5};class jf{convertValue(e,t="none"){switch(vn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Gt()}}convertObject(e,t){const s={};return Ga(e.fields,(a,u)=>{s[a]=this.convertValue(u,t)}),s}convertGeoPoint(e){return new kd(Dr(e.latitude),Dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Wa(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const t=xa(e);return new Ki(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Vi.fromString(e);pn(vu(s));const a=new B(s.get(1),s.get(3)),u=new wn(s.popFirst(5));return a.isEqual(t)||xe(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Ud(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class hy extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}class fy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Yc(e)}set(e,t,s){this._verifyNotCommitted();const a=fc(e,this._firestore),u=Ud(a.converter,t,s),m=Nd(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,s);return this._mutations.push(m.toMutation(a._key,di.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const u=fc(e,this._firestore);let m;return m="string"==typeof(t=(0,he.m9)(t))||t instanceof Ba?Ff(this._dataReader,"WriteBatch.update",u._key,t,s,a):km(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(m.toMutation(u._key,di.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=fc(e,this._firestore);return this._mutations=this._mutations.concat(new as(t._key,di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Jt(wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fc(r,e){if((r=(0,he.m9)(r)).firestore!==e)throw new Jt(wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Qc extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}function py(r,e,t){r=ji(r,_r);const s=ji(r.firestore,Mr),a=Ud(r.converter,e,t);return Nu(s,[Nd(Yc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,di.none())])}function my(r,e,t,...s){r=ji(r,_r);const a=ji(r.firestore,Mr),u=Yc(a);let m;return m="string"==typeof(e=(0,he.m9)(e))||e instanceof Ba?Ff(u,"updateDoc",r._key,e,t,s):km(u,"updateDoc",r._key,e),Nu(a,[m.toMutation(r._key,di.exists(!0))])}function gy(r,...e){var t,s,a;r=(0,he.m9)(r);let u={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Im(e[m])||(u=e[m],m++);const T={includeMetadataChanges:u.includeMetadataChanges};if(Im(e[m])){const $e=e[m];e[m]=null===(t=$e.next)||void 0===t?void 0:t.bind($e),e[m+1]=null===(s=$e.error)||void 0===s?void 0:s.bind($e),e[m+2]=null===(a=$e.complete)||void 0===a?void 0:a.bind($e)}let L,W,de;if(r instanceof _r)W=ji(r.firestore,Mr),de=Ka(r._key.path),L={next:$e=>{e[m]&&e[m](zm(W,r,$e))},error:e[m+1],complete:e[m+2]};else{const $e=ji(r,ho);W=ji($e.firestore,Mr),de=$e._query;const St=new Qc(W);L={next:qt=>{e[m]&&e[m](new Ol(W,St,$e,qt))},error:e[m+1],complete:e[m+2]},sy(r._query)}return function($e,St,qt,Xt){const En=new Sf(Xt),kn=new hf(St,En,qt);return $e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return df(yield Pu($e),kn)})),()=>{En.Rc(),$e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return om(yield Pu($e),kn)}))}}(gs(W),de,T,L)}function Nu(r,e){return function(t,s){const a=new Ji;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function Yb(r,e,t){return gf.apply(this,arguments)}(yield B_(t),s,a)})),a.promise}(gs(r),e)}function zm(r,e,t){const s=t.docs.get(e._key),a=new Qc(r);return new $s(r,a,e._key,s,new wo(t.hasPendingWrites,t.fromCache),e.converter)}class m0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Yc(e)}get(e){const t=fc(e,this._firestore),s=new hy(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Gt();const u=a[0];if(u.isFoundDocument())return new ia(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new ia(this._firestore,s,t._key,null,t.converter);throw Gt()})}set(e,t,s){const a=fc(e,this._firestore),u=Ud(a.converter,t,s),m=Nd(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,s);return this._transaction.set(a._key,m),this}update(e,t,s,...a){const u=fc(e,this._firestore);let m;return m="string"==typeof(t=(0,he.m9)(t))||t instanceof Ba?Ff(this._dataReader,"Transaction.update",u._key,t,s,a):km(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,m),this}delete(e){const t=fc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=fc(e,this._firestore),s=new Qc(this._firestore);return super.get(e).then(a=>new $s(this._firestore,s,t._key,a._document,new wo(!1,!1),t.converter))}}function Rl(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Jt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Cy(){if("undefined"==typeof Uint8Array)throw new Jt("unimplemented","Uint8Arrays are not available in this environment.")}function Dy(){if(!function ko(){return"undefined"!=typeof atob}())throw new Jt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){D=Ht.SDK_VERSION,(0,Ht._registerComponent)(new tt.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const u=t.getProvider("app").getImmediate(),m=new Mr(new Nl(t.getProvider("auth-internal")),new qo(t.getProvider("app-check-internal")),function(T,L){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Jt(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new B(T.options.projectId,L)}(u,s),u);return a=Object.assign({useFetchStreams:e},a),m._setSettings(a),m},"PUBLIC").setMultipleInstances(!0)),(0,Ht.registerVersion)(oa,"3.4.15",r),(0,Ht.registerVersion)(oa,"3.4.15","esm2017")}();class al{constructor(e){this._delegate=e}static fromBase64String(e){return Dy(),new al(Va.fromBase64String(e))}static fromUint8Array(e){return Cy(),new al(Va.fromUint8Array(e))}toBase64(){return Dy(),this._delegate.toBase64()}toUint8Array(){return Cy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Iy(r){return function qm(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class eE{enableIndexedDbPersistence(e,t){return function Sm(r,e){xm(r=ji(r,Mr));const t=gs(r),s=r._freezeSettings(),a=new Tf;return z_(t,a,new A_(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Mm(r){xm(r=ji(r,Mr));const e=gs(r),t=r._freezeSettings(),s=new Tf;return z_(e,s,new x_(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function W_(r){if(r._initialized&&!r._terminated)throw new Jt(wt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ji;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(s){if(!Zs.C())return Promise.resolve();const a=s+"main";yield Zs.delete(a)}),function(s){return t.apply(this,arguments)})(Kh(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ym{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof B||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xe("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Qb(r,e,t,s={}){var a;const u=(r=ji(r,Rd))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Xe("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let m,T;if("string"==typeof s.mockUserToken)m=s.mockUserToken,T=A.MOCK_USER;else{m=(0,he.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new Jt(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new A(L)}r._authCredentials=new xo(new ma(m,T))}}(this._delegate,e,t,s)}enableNetwork(){return function Am(r){return function Gv(r){return r.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield $v(r),t=yield bm(r);return e.setNetworkEnabled(!0),function(s){const a=on(s);return a._u.delete(0),$c(a)}(t)}))}(gs(r=ji(r,Mr)))}(this._delegate)}disableNetwork(){return function Z_(r){return function V_(r){return r.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield $v(r),t=yield bm(r);return e.setNetworkEnabled(!1),(s=(0,Ie.Z)(function*(a){const u=on(a);u._u.add(0),yield tc(u),u.gu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(gs(r=ji(r,Mr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Cm("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function K_(r){return function(e){const t=new Ji;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function vf(r,e){return sc.apply(this,arguments)}(yield B_(e),t)})),t.promise}(gs(r=ji(r,Mr)))}(this._delegate)}onSnapshotsInSync(e){return function p0(r,e){return function j_(r,e){const t=new Sf(e);return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return s=yield Pu(r),a=t,on(s).Ru.add(a),void a.next();var s,a})),()=>{t.Rc(),r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return s=yield Pu(r),a=t,void on(s).Ru.delete(a);var s,a}))}}(gs(r=ji(r,Mr)),Im(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Jt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fu(this,Of(this._delegate,e))}catch(t){throw Xs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ca(this,qc(this._delegate,e))}catch(t){throw Xs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ra(this,function Yv(r,e){if(r=ji(r,Rd),wm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Jt(wt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ho(r,null,(t=e,new _a(Vi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Xs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _y(r,e,t){r=ji(r,Mr);const s=Object.assign(Object.assign({},dy),t);return function(a){if(a.maxAttempts<1)throw new Jt(wt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function Wv(r,e,t){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const a=yield(u=r,vm(u).then(m=>m.datastore));var u;new P_(r.asyncQueue,a,t,e,s).run()})),s.promise}(gs(r),a=>e(new m0(r,a)),s)}(this._delegate,t=>e(new ni(this,t)))}batch(){return gs(this._delegate),new Ty(new fy(this._delegate,e=>Nu(this._delegate,e)))}loadBundle(e){return function q_(r,e){const t=gs(r=ji(r,Mr)),s=new Pf;return function Kv(r,e,t,s){const a=function(u,m){let T;return T="string"==typeof u?(new TextEncoder).encode(u):u,L=function(L,W){if(L instanceof Uint8Array)return O_(L,W);if(L instanceof ArrayBuffer)return O_(new Uint8Array(L),W);if(L instanceof ReadableStream)return L.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(T),new R_(L,m);var L}(t,Iu(e));r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function Uv(r,e,t){const s=on(r);var a;(a=(0,Ie.Z)(function*(u,m,T){try{const L=yield m.getMetadata();if(yield function(St,qt){const Xt=on(St),En=xs(qt.createTime);return Xt.persistence.runTransaction("hasNewerBundle","readonly",kn=>Xt.Ns.getBundleMetadata(kn,qt.id)).then(kn=>!!kn&&kn.createTime.compareTo(En)>=0)}(u.localStore,L))return yield m.close(),T._completeWith({taskState:"Success",documentsLoaded:(St=L).totalDocuments,bytesLoaded:St.totalBytes,totalDocuments:St.totalDocuments,totalBytes:St.totalBytes}),Promise.resolve(new Set);T._updateProgress(Fv(L));const W=new Kb(L,u.localStore,m.It);let de=yield m.wc();for(;de;){const St=yield W.Ou(de);St&&T._updateProgress(St),de=yield m.wc()}const $e=yield W.complete();return yield Gr(u,$e.Bu,void 0),yield function(St,qt){const Xt=on(St);return Xt.persistence.runTransaction("Save bundle","readwrite",En=>Xt.Ns.saveBundleMetadata(En,qt))}(u.localStore,L),T._completeWith($e.progress),Promise.resolve($e.$u)}catch(L){return Xe("SyncEngine",`Loading bundle failed with ${L}`),T._failWith(L),Promise.resolve(new Set)}var St}),function(u,m,T){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield B_(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Y_(r,e){return function Zv(r,e){return r.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,s){const a=on(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.Ns.getNamedQuery(u,s))}(yield Mf(r),e)}))}(gs(r=ji(r,Mr)),e).then(t=>t?new ho(r,null,t.query):null)}(this._delegate,e).then(t=>t?new ra(this,t):null)}}class jd extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(new Va(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ca.forKey(t,this.firestore,null)}}class ni{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}get(e){const t=mc(e);return this._delegate.get(t).then(s=>new pc(this._firestore,new $s(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=mc(e);return s?(Rl("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const u=mc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,s,...a),this}delete(e){const t=mc(e);return this._delegate.delete(t),this}}class Ty{constructor(e){this._delegate=e}set(e,t,s){const a=mc(e);return s?(Rl("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const u=mc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,s,...a),this}delete(e){const t=mc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new jo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ar(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Xc.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let u=a.get(t);return u||(u=new Xc(e,new jd(e),t),a.set(t,u)),u}}Xc.INSTANCES=new WeakMap;class Ca{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Jt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ca(t,new _r(t._delegate,s,new wn(e)))}static forKey(e,t,s){return new Ca(t,new _r(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Fu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fu(this.firestore,Of(this._delegate,e))}catch(t){throw Xs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,he.m9)(e))instanceof _r&&Pd(this._delegate,e)}set(e,t){t=Rl("DocumentReference.set",t);try{return t?py(this._delegate,e,t):py(this._delegate,e)}catch(s){throw Xs(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?my(this._delegate,e):my(this._delegate,e,t,...s)}catch(a){throw Xs(a,"updateDoc()","DocumentReference.update()")}}delete(){return function h0(r){return Nu(ji(r.firestore,Mr),[new as(r._key,di.none())])}(this._delegate)}onSnapshot(...e){const t=Sy(e),s=Hd(e,a=>new pc(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return gy(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function a0(r){r=ji(r,_r);const e=ji(r.firestore,Mr),t=gs(e),s=new Qc(e);return function zv(r,e){const t=new Ji;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(s=(0,Ie.Z)(function*(a,u,m){try{const T=yield function(L,W){const de=on(L);return de.persistence.runTransaction("read document","readonly",$e=>de.localDocuments.getDocument($e,W))}(a,u);T.isFoundDocument()?m.resolve(T):T.isNoDocument()?m.resolve(null):m.reject(new Jt(wt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const L=Su(T,`Failed to get document '${u} from cache`);m.reject(L)}}),function(a,u,m){return s.apply(this,arguments)})(yield Mf(r),e,t);var s})),t.promise}(t,r._key).then(a=>new $s(e,s,r._key,a,new wo(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function l0(r){r=ji(r,_r);const e=ji(r.firestore,Mr);return Em(gs(e),r._key,{source:"server"}).then(t=>zm(e,r,t))}(this._delegate):function o0(r){r=ji(r,_r);const e=ji(r.firestore,Mr);return Em(gs(e),r._key).then(t=>zm(e,r,t))}(this._delegate),t.then(s=>new pc(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ca(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function Xs(r,e,t){return r.message=r.message.replace(e,t),r}function Sy(r){for(const e of r)if("object"==typeof e&&!Iy(e))return e;return{}}function Hd(r,e){var t,s;let a;return a=Iy(r[0])?r[0]:Iy(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class pc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ca(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ry(this._delegate,e._delegate)}}class Ar extends pc{data(e){const t=this._delegate.data(e);return function Bn(r,e){r||Gt()}(void 0!==t),t}}class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}where(e,t,s){try{return new ra(this.firestore,hc(this._delegate,function Bd(r,e,t){const s=e,a=Vf("where",r);return new Bm(a,s,t)}(e,t,s)))}catch(a){throw Xs(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ra(this.firestore,hc(this._delegate,function oy(r,e="asc"){const t=e,s=Vf("orderBy",r);return new r0(s,t)}(e,t)))}catch(s){throw Xs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ra(this.firestore,hc(this._delegate,function ly(r){return qv("limit",r),new ay("limit",r,"F")}(e)))}catch(t){throw Xs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ra(this.firestore,hc(this._delegate,function cy(r){return qv("limitToLast",r),new ay("limitToLast",r,"L")}(e)))}catch(t){throw Xs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ra(this.firestore,hc(this._delegate,function s0(...r){return new Vd("startAt",r,!0)}(...e)))}catch(t){throw Xs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ra(this.firestore,hc(this._delegate,function uy(...r){return new Vd("startAfter",r,!1)}(...e)))}catch(t){throw Xs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ra(this.firestore,hc(this._delegate,function Um(...r){return new Vm("endBefore",r,!1)}(...e)))}catch(t){throw Xs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ra(this.firestore,hc(this._delegate,function Uf(...r){return new Vm("endAt",r,!0)}(...e)))}catch(t){throw Xs(t,"endAt()","Query.endAt()")}}isEqual(e){return Rf(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function u0(r){r=ji(r,ho);const e=ji(r.firestore,Mr),t=gs(e),s=new Qc(e);return function Af(r,e){const t=new Ji;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(s=(0,Ie.Z)(function*(a,u,m){try{const T=yield Yh(a,u,!0),L=new lm(u,T.Hi),W=L.ju(T.documents),de=L.applyChanges(W,!1);m.resolve(de.snapshot)}catch(T){const L=Su(T,`Failed to execute query '${u} against cache`);m.reject(L)}}),function(a,u,m){return s.apply(this,arguments)})(yield Mf(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Ol(e,s,r,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function d0(r){r=ji(r,ho);const e=ji(r.firestore,Mr),t=gs(e),s=new Qc(e);return U_(t,r._query,{source:"server"}).then(a=>new Ol(e,s,r,a))}(this._delegate):function c0(r){r=ji(r,ho);const e=ji(r.firestore,Mr),t=gs(e),s=new Qc(e);return sy(r._query),U_(t,r._query).then(a=>new Ol(e,s,r,a))}(this._delegate),t.then(s=>new Qm(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Sy(e),s=Hd(e,a=>new Qm(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return gy(this._delegate,t,s)}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}class My{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ar(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ra(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ar(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new My(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Ar(this._firestore,s))})}isEqual(e){return ry(this._delegate,e._delegate)}}class Fu extends ra{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ca(this.firestore,e):null}doc(e){try{return new Ca(this.firestore,void 0===e?qc(this._delegate):qc(this._delegate,e))}catch(t){throw Xs(t,"doc()","CollectionReference.doc()")}}add(e){return function f0(r,e){const t=ji(r.firestore,Mr),s=qc(r),a=Ud(r.converter,e);return Nu(t,[Nd(Yc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,di.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Ca(this.firestore,t))}isEqual(e){return Pd(this._delegate,e._delegate)}withConverter(e){return new Fu(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function mc(r){return ji(r,_r)}class Hf{constructor(...e){this._delegate=new Ba(...e)}static documentId(){return new Hf(Sr.keyField().canonicalString())}isEqual(e){return(e=(0,he.m9)(e))instanceof Ba&&this._delegate._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vy(){return new Nf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gc(e)}static delete(){const e=function yy(){return new Fd("deleteField")}();return e._methodName="FieldValue.delete",new gc(e)}static arrayUnion(...e){const t=function by(...r){return new e0("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new gc(t)}static arrayRemove(...e){const t=function Ey(...r){return new t0("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new gc(t)}static increment(e){const t=function wy(r){return new J_("increment",r)}(e);return t._methodName="FieldValue.increment",new gc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ay={Firestore:Ym,GeoPoint:kd,Timestamp:Ki,Blob:al,Transaction:ni,WriteBatch:Ty,DocumentReference:Ca,DocumentSnapshot:pc,Query:ra,QueryDocumentSnapshot:Ar,QuerySnapshot:Qm,CollectionReference:Fu,FieldPath:Hf,FieldValue:gc,setLogLevel:function tE(r){!function G(r){b.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function v0(r){(function y0(r,e){r.INTERNAL.registerComponent(new tt.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},Ay)))})(r,(e,t)=>new Ym(e,t,new eE)),r.registerVersion("@firebase/firestore-compat","0.1.24")}(et.Z);var xy=w(7579),$d=w(6451),$f=w(5363),_c=w(3900),b0=w(6063);class Gf extends xy.x{constructor(e=1/0,t=1/0,s=b0.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:m}=this;t||(s.push(e),!a&&s.push(u.now()+m)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:s,_buffer:a}=this,u=a.slice();for(let m=0;m<u.length&&!e.closed;m+=s?1:2)e.next(u[m]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:s,_infiniteTimeWindow:a}=this,u=(a?1:2)*e;if(e<1/0&&u<s.length&&s.splice(0,s.length-u),!a){const m=t.now();let T=0;for(let L=1;L<s.length&&s[L]<=m;L+=2)T=L;T&&s.splice(0,T+1)}}}var Oy=w(3099);function Xm(r,e,t){let s,a=!1;return r&&"object"==typeof r?({bufferSize:s=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=r):s=null!=r?r:1/0,(0,Oy.B)({connector:()=>new Gf(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Ry=w(590),E0=w(576);function Lu(r,e){return(0,E0.m)(e)?(0,_c.w)(()=>r,e):(0,_c.w)(()=>r)}var Jc=w(9468);w(5867);const eg=new Map,Gd={activated:!1,tokenObservers:[]},M0={initialized:!1,enabled:!1};function Js(r){return eg.get(r)||Gd}function Ua(r,e){eg.set(r,e)}function Kf(){return M0}class Fy{constructor(e,t,s,a,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new he.BH,yield function R0(r){return new Promise(e=>{setTimeout(e,r)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new he.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ho=new he.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function By(r){if(!Js(r).activated)throw Ho.create("use-before-activation",{appName:r.name})}function qf(r,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,Ie.Z)(function*({url:r,body:e},t){var s,a;const u={"Content-Type":"application/json"},m=t.getImmediate({optional:!0});if(m){const qt=yield m.getHeartbeatsHeader();qt&&(u["X-Firebase-Client"]=qt)}const T={method:"POST",body:JSON.stringify(e),headers:u};let L,W;try{L=yield fetch(r,T)}catch(qt){throw Ho.create("fetch-network-error",{originalErrorMessage:null===(s=qt)||void 0===s?void 0:s.message})}if(200!==L.status)throw Ho.create("fetch-status-error",{httpStatus:L.status});try{W=yield L.json()}catch(qt){throw Ho.create("fetch-parse-error",{originalErrorMessage:null===(a=qt)||void 0===a?void 0:a.message})}const de=W.ttl.match(/^([\d.]+)(s)$/);if(!de||!de[2]||isNaN(Number(de[1])))throw Ho.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${W.ttl}`});const $e=1e3*Number(de[1]),St=Date.now();return{token:W.token,expireTimeMillis:St+$e,issuedAtTimeMillis:St}}),Yf.apply(this,arguments)}function N0(r,e){const{projectId:t,appId:s,apiKey:a}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Bu="firebase-app-check-store";let Qf=null;function Uy(){return Qf||(Qf=new Promise((r,e)=>{var t;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{r(a.target.result)},s.onerror=a=>{var u;e(Ho.create("storage-open",{originalErrorMessage:null===(u=a.target.error)||void 0===u?void 0:u.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Bu,{keyPath:"compositeKey"})}}catch(s){e(Ho.create("storage-open",{originalErrorMessage:null===(t=s)||void 0===t?void 0:t.message}))}}),Qf)}function Xf(){return Xf=(0,Ie.Z)(function*(r,e){const s=(yield Uy()).transaction(Bu,"readwrite"),u=s.objectStore(Bu).put({compositeKey:r,value:e});return new Promise((m,T)=>{u.onsuccess=L=>{m()},s.onerror=L=>{var W;T(Ho.create("storage-set",{originalErrorMessage:null===(W=L.target.error)||void 0===W?void 0:W.message}))}})}),Xf.apply(this,arguments)}const Vu=new be.Yd("@firebase/app-check");function $y(r,e){return(0,he.hl)()?function B0(r,e){return function jy(r,e){return Xf.apply(this,arguments)}(function Hy(r){return`${r.options.appId}-${r.name}`}(r),e)}(r,e).catch(t=>{Vu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ag(){return Kf().enabled}function Jf(){return lg.apply(this,arguments)}function lg(){return lg=(0,Ie.Z)(function*(){const r=Kf();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lg.apply(this,arguments)}const cg={error:"UNKNOWN_ERROR"};function $0(r){return he.US.encodeString(JSON.stringify(r),!1)}function Zd(r){return ug.apply(this,arguments)}function ug(){return ug=(0,Ie.Z)(function*(r,e=!1){const t=r.app;By(t);const s=Js(t);let u,a=s.token;if(!a){const L=yield s.cachedTokenPromise;L&&tu(L)&&(a=L)}if(!e&&a&&tu(a))return{token:a.token};let T,m=!1;if(ag()){s.exchangeTokenPromise||(s.exchangeTokenPromise=qf(N0(t,yield Jf()),r.heartbeatServiceProvider).then(W=>(s.exchangeTokenPromise=void 0,W)),m=!0);const L=yield s.exchangeTokenPromise;return yield $y(t,L),Ua(t,Object.assign(Object.assign({},s),{token:L})),{token:L.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(L=>(s.exchangeTokenPromise=void 0,L)),m=!0),a=yield s.exchangeTokenPromise}catch(L){"appCheck/throttled"===L.code?Vu.warn(L.message):Vu.error(L),u=L}return a?(T={token:a.token},Ua(t,Object.assign(Object.assign({},s),{token:a})),yield $y(t,a)):T=G0(u),m&&Gy(t,T),T}),ug.apply(this,arguments)}function dg(r,e){const t=Js(r),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ua(r,Object.assign(Object.assign({},t),{tokenObservers:s}))}function hg(r){const{app:e}=r,t=Js(e);let s=t.tokenRefresher;s||(s=function sE(r){const{app:e}=r;return new Fy((0,Ie.Z)(function*(){let s;if(s=Js(e).token?yield Zd(r,!0):yield Zd(r),s.error)throw s.error}),()=>!0,()=>{const t=Js(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(r),Ua(e,Object.assign(Object.assign({},t),{tokenRefresher:s}))),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function Gy(r,e){const t=Js(r).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function tu(r){return r.expireTimeMillis-Date.now()>0}function G0(r){return{token:$0(cg),error:r}}class Uu{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Js(this.app);for(const t of e)dg(this.app,t.next);return Promise.resolve()}}const mg="app-check-internal";!function X0(){(0,Ht._registerComponent)(new tt.wA("app-check",r=>function qd(r,e){return new Uu(r,e)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,t)=>{r.getProvider(mg).initialize()})),(0,Ht._registerComponent)(new tt.wA(mg,r=>function z0(r){return{getToken:e=>Zd(r,e),addTokenListener:e=>function ep(r,e,t,s){const{app:a}=r,u=Js(a),m={next:t,error:s,type:e};if(Ua(a,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,m]})),u.token&&tu(u.token)){const T=u.token;Promise.resolve().then(()=>{t({token:T.token}),hg(r)}).catch(()=>{})}u.cachedTokenPromise.then(()=>hg(r))}(r,"INTERNAL",e),removeTokenListener:e=>dg(r.app,e)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ht.registerVersion)("@firebase/app-check","0.5.12")}();class Yy{constructor(){return(0,ye.vb)("app-check")}}"undefined"!=typeof window&&window;var Xy=w(127);const gg=new h.OlP("angularfire2.auth.use-emulator"),_g=new h.OlP("angularfire2.auth.settings"),ev=new h.OlP("angularfire2.auth.tenant-id"),yg=new h.OlP("angularfire2.auth.langugage-code"),tv=new h.OlP("angularfire2.auth.use-device-language"),nv=new h.OlP("angularfire.auth.persistence"),iv=(r,e,t,s,a,u,m,T)=>(0,Fe.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const L=e.runOutsideAngular(()=>r.auth());if(t&&L.useEmulator(...t),s&&(L.tenantId=s),L.languageCode=a,u&&L.useDeviceLanguage(),m)for(const[W,de]of Object.entries(m))L.settings[W]=de;return T&&L.setPersistence(T),L},[t,s,a,u,m,T]);let rv=(()=>{class r{constructor(t,s,a,u,m,T,L,W,de,$e,St,qt){const Xt=new xy.x,En=(0,pe.of)(void 0).pipe((0,$f.Q)(m.outsideAngular),(0,_c.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(w.bind(w,2274)))),(0,me.U)(()=>(0,Fe.on)(t,u,s)),(0,me.U)(kn=>iv(kn,u,T,W,de,$e,L,St)),Xm({bufferSize:1,refCount:!1}));if((0,it.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,pe.of)(null);else{En.pipe((0,Ry.P)()).subscribe();const Mi=En.pipe((0,_c.w)(Di=>Di.getRedirectResult().then(ei=>ei,()=>null)),ye.iC,Xm({bufferSize:1,refCount:!1})),sr=En.pipe((0,_c.w)(Di=>new S.y(ei=>({unsubscribe:u.runOutsideAngular(()=>Di.onAuthStateChanged(Ii=>ei.next(Ii),Ii=>ei.error(Ii),()=>ei.complete()))})))),Gi=En.pipe((0,_c.w)(Di=>new S.y(ei=>({unsubscribe:u.runOutsideAngular(()=>Di.onIdTokenChanged(Ii=>ei.next(Ii),Ii=>ei.error(Ii),()=>ei.complete()))}))));this.authState=Mi.pipe(Lu(sr),(0,Jc.R)(m.outsideAngular),(0,$f.Q)(m.insideAngular)),this.user=Mi.pipe(Lu(Gi),(0,Jc.R)(m.outsideAngular),(0,$f.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,_c.w)(Di=>Di?(0,ae.D)(Di.getIdToken()):(0,pe.of)(null))),this.idTokenResult=this.user.pipe((0,_c.w)(Di=>Di?(0,ae.D)(Di.getIdTokenResult()):(0,pe.of)(null))),this.credential=(0,$d.T)(Mi,Xt,this.authState.pipe((0,ke.h)(Di=>!Di))).pipe((0,me.U)(Di=>(null==Di?void 0:Di.user)?Di:null),(0,Jc.R)(m.outsideAngular),(0,$f.Q)(m.insideAngular))}return(0,Fe.pX)(this,En,u,{spy:{apply:(kn,Mi,sr)=>{(kn.startsWith("signIn")||kn.startsWith("createUser"))&&sr.then(Gi=>Xt.next(Gi))}}})}}return r.\u0275fac=function(t){return new(t||r)(h.LFG(Fe.Dh),h.LFG(Fe.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ye.HU),h.LFG(gg,8),h.LFG(_g,8),h.LFG(ev,8),h.LFG(yg,8),h.LFG(tv,8),h.LFG(nv,8),h.LFG(Yy,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function ap(r,e){return function ob(r,e=C.z){return new S.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(r,e)}function vg(r,e){return ap(r,e).pipe((0,me.U)(t=>({payload:t,type:"query"})))}function nu(r,e){return vg(r,e).pipe((0,re.O)(void 0),se(),(0,me.U)(([t,s])=>{const a=s.payload.docChanges(),u=a.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,T)=>{const L=a.find(de=>de.doc.ref.isEqual(m.ref)),W=null==t?void 0:t.payload.docs.find(de=>de.ref.isEqual(m.ref));L&&JSON.stringify(L.doc.metadata)===JSON.stringify(m.metadata)||!L&&W&&JSON.stringify(W.metadata)===JSON.stringify(m.metadata)||u.push({type:"modified",payload:{oldIndex:T,newIndex:T,type:"modified",doc:m}})}),u}))}function Hu(r,e,t){return nu(r,t).pipe((0,Ce.R)((s,a)=>function ab(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function lb(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return bg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return bg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return bg(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(u=>u.payload),e),[]),(0,je.x)(),(0,me.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function bg(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function th(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class nh{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=nu(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,me.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,re.O)(void 0),se(),(0,ke.h)(([s,a])=>a.length>0||!s),(0,me.U)(([s,a])=>a),ye.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ce.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=th(e);return Hu(this.query,t,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return vg(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),ye.iC)}get(e){return(0,ae.D)(this.query.get(e)).pipe(ye.iC)}add(e){return this.ref.add(e)}doc(e){return new sv(this.ref.doc(e),this.afs)}}class sv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:u}=av(s,t);return new nh(a,u,this.afs)}snapshotChanges(){return function ll(r,e){return ap(r,e).pipe((0,re.O)(void 0),se(),(0,me.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,me.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ae.D)(this.ref.get(e)).pipe(ye.iC)}}class cb{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?nu(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,ke.h)(t=>t.length>0),ye.iC):nu(this.query,this.afs.schedulers.outsideAngular).pipe(ye.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ce.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=th(e);return Hu(this.query,t,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return vg(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ye.iC)}get(e){return(0,ae.D)(this.query.get(e)).pipe(ye.iC)}}const Eg=new h.OlP("angularfire2.enableFirestorePersistence"),wg=new h.OlP("angularfire2.firestore.persistenceSettings"),Cg=new h.OlP("angularfire2.firestore.settings"),ov=new h.OlP("angularfire2.firestore.use-emulator");function av(r,e=(t=>t)){return{query:e(r),ref:r}}let lv=(()=>{class r{constructor(t,s,a,u,m,T,L,W,de,$e,St,qt,Xt,En,kn,Mi,sr){this.schedulers=L;const Gi=(0,Fe.on)(t,T,s),Di=de;$e&&iv(Gi,T,St,Xt,En,kn,qt,Mi),[this.firestore,this.persistenceEnabled$]=(0,Fe.cc)(`${Gi.name}.firestore`,"AngularFirestore",Gi.name,()=>{const ei=T.runOutsideAngular(()=>Gi.firestore());if(u&&ei.settings(u),Di&&ei.useEmulator(...Di),a&&!(0,it.PM)(m)){const Ii=()=>{try{return(0,ae.D)(ei.enablePersistence(W||void 0).then(()=>!0,()=>!1))}catch(Gs){return"undefined"!=typeof console&&console.warn(Gs),(0,pe.of)(!1)}};return[ei,T.runOutsideAngular(Ii)]}return[ei,(0,pe.of)(!1)]},[u,Di,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:m}=av(a,s),T=this.schedulers.ngZone.run(()=>u);return new nh(T,m,this)}collectionGroup(t,s){const a=s||(m=>m),u=this.firestore.collectionGroup(t);return new cb(a(u),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new sv(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(h.LFG(Fe.Dh),h.LFG(Fe.xv,8),h.LFG(Eg,8),h.LFG(Cg,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ye.HU),h.LFG(wg,8),h.LFG(ov,8),h.LFG(rv,8),h.LFG(gg,8),h.LFG(_g,8),h.LFG(ev,8),h.LFG(yg,8),h.LFG(tv,8),h.LFG(nv,8),h.LFG(Yy,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),mE=(()=>{class r{constructor(){Xy.Z.registerVersion("angularfire",ye.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Eg,useValue:!0},{provide:wg,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[lv]}),r})()},2011:(Yt,Ge,w)=>{w.d(Ge,{hO:()=>je,xv:()=>se,Dh:()=>ge,GT:()=>ye,cc:()=>ke,on:()=>re,pX:()=>pe});var h=w(5e3),C=w(127),S=w(5813);Yt=w.hmd(Yt);const ae=["ngOnDestroy"],pe=(et,Ie,Ht,tt={})=>new Proxy(et,{get:(be,he)=>Ht.runOutsideAngular(()=>{var Se;if(et[he])return(null===(Se=null==tt?void 0:tt.spy)||void 0===Se?void 0:Se.get)&&tt.spy.get(he,et[he]),et[he];if(ae.indexOf(he)>-1)return()=>{};const _e=Ie.toPromise().then(Y=>{const Ve=Y&&Y[he];return"function"==typeof Ve?Ve.bind(Y):Ve&&Ve.then?Ve.then(ve=>Ht.run(()=>ve)):Ht.run(()=>Ve)});return new Proxy(()=>{},{get:(Y,Ve)=>_e[Ve],apply:(Y,Ve,ve)=>_e.then(qe=>{var Je;const _t=qe&&qe(...ve);return(null===(Je=null==tt?void 0:tt.spy)||void 0===Je?void 0:Je.apply)&&tt.spy.apply(he,ve,_t),_t})})})}),ye=(et,Ie)=>{Ie.forEach(Ht=>{Object.getOwnPropertyNames(Ht.prototype||Ht).forEach(tt=>{Object.defineProperty(et.prototype,tt,Object.getOwnPropertyDescriptor(Ht.prototype||Ht,tt))})})};class Pe{constructor(Ie){return Ie}}const ge=new h.OlP("angularfire2.app.options"),se=new h.OlP("angularfire2.app.name");function re(et,Ie,Ht){const be="object"==typeof Ht&&Ht||{};be.name=be.name||"string"==typeof Ht&&Ht||"[DEFAULT]";const Se=C.Z.apps.filter(_e=>_e&&_e.name===be.name)[0]||Ie.runOutsideAngular(()=>C.Z.initializeApp(et,be));try{JSON.stringify(et)!==JSON.stringify(Se.options)&&me("error",`${Se.name} Firebase App already initialized with different options${Yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(_e){}return new Pe(Se)}const me=(et,...Ie)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[et](...Ie)},Ce={provide:Pe,useFactory:re,deps:[ge,h.R0b,[new h.FiY,se]]};let je=(()=>{class et{constructor(Ht){C.Z.registerVersion("angularfire",S.q4.full,"core"),C.Z.registerVersion("angularfire",S.q4.full,"app-compat"),C.Z.registerVersion("angular",h.q4F.full,Ht.toString())}static initializeApp(Ht,tt){return{ngModule:et,providers:[{provide:ge,useValue:Ht},{provide:se,useValue:tt}]}}}return et.\u0275fac=function(Ht){return new(Ht||et)(h.LFG(h.Lbi))},et.\u0275mod=h.oAB({type:et}),et.\u0275inj=h.cJS({providers:[Ce]}),et})();function ke(et,Ie,Ht,tt,be){const[,he,Se]=globalThis.\u0275AngularfireInstanceCache.find(_e=>_e[0]===et)||[];if(he)return function Fe(et,Ie){try{return et.toString()===Ie.toString()}catch(Ht){return et===Ie}}(be,Se)||(Be("error",`${Ie} was already initialized on the ${Ht} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:be,was:Se})),he;{const _e=tt();return globalThis.\u0275AngularfireInstanceCache.push([et,_e,be]),_e}}const it=!!Yt.hot,Be=(et,...Ie)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[et](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Yt,Ge,w)=>{w.d(Ge,{q4:()=>ah,iC:()=>Xo,HU:()=>ms,vb:()=>Hr,JM:()=>za});var h=w(5e3),C=w(5867),S=w(5861),ae=w(9681),pe=w(2090),ye=w(4859),Pe=w(1877),ge=w(8766);const se="@firebase/installations",re="0.5.12",Ce=`w:${re}`,je="FIS_v2",Ie=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ht(R){return R instanceof pe.ZR&&R.code.includes("request-failed")}function tt({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function be(R){return{token:R.token,requestStatus:2,expiresIn:qe(R.expiresIn),creationTime:Date.now()}}function he(R,B){return Se.apply(this,arguments)}function Se(){return(Se=(0,S.Z)(function*(R,B){const Ne=(yield B.json()).error;return Ie.create("request-failed",{requestName:R,serverCode:Ne.code,serverMessage:Ne.message,serverStatus:Ne.status})})).apply(this,arguments)}function _e({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function Y(R,{refreshToken:B}){const te=_e(R);return te.append("Authorization",function Je(R){return`${je} ${R}`}(B)),te}function Ve(R){return ve.apply(this,arguments)}function ve(){return(ve=(0,S.Z)(function*(R){const B=yield R();return B.status>=500&&B.status<600?R():B})).apply(this,arguments)}function qe(R){return Number(R.replace("s","000"))}function _t(R,B){return dt.apply(this,arguments)}function dt(){return(dt=(0,S.Z)(function*({appConfig:R,heartbeatServiceProvider:B},{fid:te}){const Ne=tt(R),ft=_e(R),Pt=B.getImmediate({optional:!0});if(Pt){const Xn=yield Pt.getHeartbeatsHeader();Xn&&ft.append("x-firebase-client",Xn)}const vn={method:"POST",headers:ft,body:JSON.stringify({fid:te,authVersion:je,appId:R.appId,sdkVersion:Ce})},Vn=yield Ve(()=>fetch(Ne,vn));if(Vn.ok){const Xn=yield Vn.json();return{fid:Xn.fid||te,registrationStatus:2,refreshToken:Xn.refreshToken,authToken:be(Xn.authToken)}}throw yield he("Create Installation",Vn)})).apply(this,arguments)}function kt(R){return new Promise(B=>{setTimeout(B,R)})}const nt=/^[cdef][\w-]{21}$/;function Ue(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const te=function Dt(R){return function At(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return nt.test(te)?te:""}catch(R){return""}}function Mt(R){return`${R.appName}!${R.appId}`}const ze=new Map;function yt(R,B){const te=Mt(R);ut(te,B),function st(R,B){const te=function mt(){return!Te&&"BroadcastChannel"in self&&(Te=new BroadcastChannel("[Firebase] FID Change"),Te.onmessage=R=>{ut(R.data.key,R.data.fid)}),Te}();te&&te.postMessage({key:R,fid:B}),function De(){0===ze.size&&Te&&(Te.close(),Te=null)}()}(te,B)}function ut(R,B){const te=ze.get(R);if(te)for(const Ne of te)Ne(B)}let Te=null;const fn="firebase-installations-store";let Tt=null;function Q(){return Tt||(Tt=(0,ge.X3)("firebase-installations-database",1,{upgrade:(R,B)=>{0===B&&R.createObjectStore(fn)}})),Tt}function we(R,B){return at.apply(this,arguments)}function at(){return(at=(0,S.Z)(function*(R,B){const te=Mt(R),ft=(yield Q()).transaction(fn,"readwrite"),Pt=ft.objectStore(fn),an=yield Pt.get(te);return yield Pt.put(B,te),yield ft.done,(!an||an.fid!==B.fid)&&yt(R,B.fid),B})).apply(this,arguments)}function ht(R){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,S.Z)(function*(R){const B=Mt(R),Ne=(yield Q()).transaction(fn,"readwrite");yield Ne.objectStore(fn).delete(B),yield Ne.done})).apply(this,arguments)}function sn(R,B){return dn.apply(this,arguments)}function dn(){return(dn=(0,S.Z)(function*(R,B){const te=Mt(R),ft=(yield Q()).transaction(fn,"readwrite"),Pt=ft.objectStore(fn),an=yield Pt.get(te),vn=B(an);return void 0===vn?yield Pt.delete(te):yield Pt.put(vn,te),yield ft.done,vn&&(!an||an.fid!==vn.fid)&&yt(R,vn.fid),vn})).apply(this,arguments)}function Vt(R){return bt.apply(this,arguments)}function bt(){return(bt=(0,S.Z)(function*(R){let B;const te=yield sn(R.appConfig,Ne=>{const ft=Me(Ne),Pt=gt(R,ft);return B=Pt.registrationPromise,Pt.installationEntry});return""===te.fid?{installationEntry:yield B}:{installationEntry:te,registrationPromise:B}})).apply(this,arguments)}function Me(R){return hi(R||{fid:Ue(),registrationStatus:0})}function gt(R,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(Ie.create("app-offline"))};const te={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},Ne=function xt(R,B){return Ut.apply(this,arguments)}(R,te);return{installationEntry:te,registrationPromise:Ne}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:xn(R)}:{installationEntry:B}}function Ut(){return(Ut=(0,S.Z)(function*(R,B){try{const te=yield _t(R,B);return we(R.appConfig,te)}catch(te){throw Ht(te)&&409===te.customData.serverCode?yield ht(R.appConfig):yield we(R.appConfig,{fid:B.fid,registrationStatus:0}),te}})).apply(this,arguments)}function xn(R){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,S.Z)(function*(R){let B=yield hn(R.appConfig);for(;1===B.registrationStatus;)yield kt(100),B=yield hn(R.appConfig);if(0===B.registrationStatus){const{installationEntry:te,registrationPromise:Ne}=yield Vt(R);return Ne||te}return B})).apply(this,arguments)}function hn(R){return sn(R,B=>{if(!B)throw Ie.create("installation-not-found");return hi(B)})}function hi(R){return function fi(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function yi(R,B){return gn.apply(this,arguments)}function gn(){return(gn=(0,S.Z)(function*({appConfig:R,heartbeatServiceProvider:B},te){const Ne=qi(R,te),ft=Y(R,te),Pt=B.getImmediate({optional:!0});if(Pt){const Xn=yield Pt.getHeartbeatsHeader();Xn&&ft.append("x-firebase-client",Xn)}const vn={method:"POST",headers:ft,body:JSON.stringify({installation:{sdkVersion:Ce,appId:R.appId}})},Vn=yield Ve(()=>fetch(Ne,vn));if(Vn.ok)return be(yield Vn.json());throw yield he("Generate Auth Token",Vn)})).apply(this,arguments)}function qi(R,{fid:B}){return`${tt(R)}/${B}/authTokens:generate`}function oe(R){return H.apply(this,arguments)}function H(){return(H=(0,S.Z)(function*(R,B=!1){let te;const Ne=yield sn(R.appConfig,Pt=>{if(!ie(Pt))throw Ie.create("not-registered");const an=Pt.authToken;if(!B&&ot(an))return Pt;if(1===an.requestStatus)return te=O(R,B),Pt;{if(!navigator.onLine)throw Ie.create("app-offline");const vn=cn(Pt);return te=le(R,vn),vn}});return te?yield te:Ne.authToken})).apply(this,arguments)}function O(R,B){return F.apply(this,arguments)}function F(){return(F=(0,S.Z)(function*(R,B){let te=yield Z(R.appConfig);for(;1===te.authToken.requestStatus;)yield kt(100),te=yield Z(R.appConfig);const Ne=te.authToken;return 0===Ne.requestStatus?oe(R,B):Ne})).apply(this,arguments)}function Z(R){return sn(R,B=>{if(!ie(B))throw Ie.create("not-registered");return function bn(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function le(R,B){return Le.apply(this,arguments)}function Le(){return(Le=(0,S.Z)(function*(R,B){try{const te=yield yi(R,B),Ne=Object.assign(Object.assign({},B),{authToken:te});return yield we(R.appConfig,Ne),te}catch(te){if(!Ht(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const Ne=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield we(R.appConfig,Ne)}else yield ht(R.appConfig);throw te}})).apply(this,arguments)}function ie(R){return void 0!==R&&2===R.registrationStatus}function ot(R){return 2===R.requestStatus&&!function en(R){const B=Date.now();return B<R.creationTime||R.creationTime+R.expiresIn<B+36e5}(R)}function cn(R){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:B})}function vt(){return(vt=(0,S.Z)(function*(R){const B=R,{installationEntry:te,registrationPromise:Ne}=yield Vt(B);return Ne?Ne.catch(console.error):oe(B).catch(console.error),te.fid})).apply(this,arguments)}function Re(){return(Re=(0,S.Z)(function*(R,B=!1){const te=R;return yield ct(te),(yield oe(te,B)).token})).apply(this,arguments)}function ct(R){return zt.apply(this,arguments)}function zt(){return(zt=(0,S.Z)(function*(R){const{registrationPromise:B}=yield Vt(R);B&&(yield B)})).apply(this,arguments)}function Ln(R){return Ie.create("missing-app-config-values",{valueName:R})}const jn="installations",An=R=>{const B=R.getProvider("app").getImmediate(),te=function Rn(R){if(!R||!R.options)throw Ln("App Configuration");if(!R.name)throw Ln("App Name");const B=["projectId","apiKey","appId"];for(const te of B)if(!R.options[te])throw Ln(te);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(B);return{app:B,appConfig:te,heartbeatServiceProvider:(0,ae._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},ri=R=>{const B=R.getProvider("app").getImmediate(),te=(0,ae._getProvider)(B,jn).getImmediate();return{getId:()=>function bi(R){return vt.apply(this,arguments)}(te),getToken:ft=>function Ye(R){return Re.apply(this,arguments)}(te,ft)}};(function Si(){(0,ae._registerComponent)(new ye.wA(jn,An,"PUBLIC")),(0,ae._registerComponent)(new ye.wA("installations-internal",ri,"PRIVATE"))})(),(0,ae.registerVersion)(se,re),(0,ae.registerVersion)(se,re,"esm2017");const Hi="@firebase/remote-config",Ti=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vs{constructor(B,te,Ne,ft){this.client=B,this.storage=te,this.storageCache=Ne,this.logger=ft}isCachedDataFresh(B,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ne=Date.now()-te,ft=Ne<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${ft}.`),ft}fetch(B){var te=this;return(0,S.Z)(function*(){const[Ne,ft]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(ft&&te.isCachedDataFresh(B.cacheMaxAgeMillis,Ne))return ft;B.eTag=ft&&ft.eTag;const Pt=yield te.client.fetch(B),an=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pt.status&&an.push(te.storage.setLastSuccessfulFetchResponse(Pt)),yield Promise.all(an),Pt})()}}function Co(R=navigator){return R.languages&&R.languages[0]||R.language}class er{constructor(B,te,Ne,ft,Pt,an){this.firebaseInstallations=B,this.sdkVersion=te,this.namespace=Ne,this.projectId=ft,this.apiKey=Pt,this.appId=an}fetch(B){var te=this;return(0,S.Z)(function*(){var Ne,ft,Pt;const[an,vn]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),Xn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,Jn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},qn={sdk_version:te.sdkVersion,app_instance_id:an,app_instance_id_token:vn,app_id:te.appId,language_code:Co()},lr={method:"POST",headers:Jn,body:JSON.stringify(qn)},Us=fetch(Xn,lr),yo=new Promise((Ms,No)=>{B.signal.addEventListener(()=>{const ou=new Error("The operation was aborted.");ou.name="AbortError",No(ou)})});let Jo;try{yield Promise.race([Us,yo]),Jo=yield Us}catch(Ms){let No="fetch-client-network";throw"AbortError"===(null===(Ne=Ms)||void 0===Ne?void 0:Ne.name)&&(No="fetch-timeout"),Ti.create(No,{originalErrorMessage:null===(ft=Ms)||void 0===ft?void 0:ft.message})}let qs=Jo.status;const vc=Jo.headers.get("ETag")||void 0;let vl,ea;if(200===Jo.status){let Ms;try{Ms=yield Jo.json()}catch(No){throw Ti.create("fetch-client-parse",{originalErrorMessage:null===(Pt=No)||void 0===Pt?void 0:Pt.message})}vl=Ms.entries,ea=Ms.state}if("INSTANCE_STATE_UNSPECIFIED"===ea?qs=500:"NO_CHANGE"===ea?qs=304:("NO_TEMPLATE"===ea||"EMPTY_CONFIG"===ea)&&(vl={}),304!==qs&&200!==qs)throw Ti.create("fetch-status",{httpStatus:qs});return{status:qs,eTag:vc,config:vl}})()}}class Do{constructor(B,te){this.client=B,this.storage=te}fetch(B){var te=this;return(0,S.Z)(function*(){const Ne=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(B,Ne)})()}attemptFetch(B,{throttleEndTimeMillis:te,backoffCount:Ne}){var ft=this;return(0,S.Z)(function*(){yield function zr(R,B){return new Promise((te,Ne)=>{const ft=Math.max(B-Date.now(),0),Pt=setTimeout(te,ft);R.addEventListener(()=>{clearTimeout(Pt),Ne(Ti.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,te);try{const Pt=yield ft.client.fetch(B);return yield ft.storage.deleteThrottleMetadata(),Pt}catch(Pt){if(!function es(R){if(!(R instanceof pe.ZR&&R.customData))return!1;const B=Number(R.customData.httpStatus);return 429===B||500===B||503===B||504===B}(Pt))throw Pt;const an={throttleEndTimeMillis:Date.now()+(0,pe.$s)(Ne),backoffCount:Ne+1};return yield ft.storage.setThrottleMetadata(an),ft.attemptFetch(B,an)}})()}}class ts{constructor(B,te,Ne,ft,Pt){this.app=B,this._client=te,this._storageCache=Ne,this._storage=ft,this._logger=Pt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ps(R,B){var te;const Ne=R.target.error||void 0;return Ti.create(B,{originalErrorMessage:Ne&&(null===(te=Ne)||void 0===te?void 0:te.message)})}const ns="app_namespace_store";class po{constructor(B,te,Ne,ft=function fo(){return new Promise((R,B)=>{var te;try{const Ne=indexedDB.open("firebase_remote_config",1);Ne.onerror=ft=>{B(Ps(ft,"storage-open"))},Ne.onsuccess=ft=>{R(ft.target.result)},Ne.onupgradeneeded=ft=>{0===ft.oldVersion&&ft.target.result.createObjectStore(ns,{keyPath:"compositeKey"})}}catch(Ne){B(Ti.create("storage-open",{originalErrorMessage:null===(te=Ne)||void 0===te?void 0:te.message}))}})}()){this.appId=B,this.appName=te,this.namespace=Ne,this.openDbPromise=ft}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var te=this;return(0,S.Z)(function*(){const Ne=yield te.openDbPromise;return new Promise((ft,Pt)=>{var an;const Vn=Ne.transaction([ns],"readonly").objectStore(ns),Xn=te.createCompositeKey(B);try{const Jn=Vn.get(Xn);Jn.onerror=qn=>{Pt(Ps(qn,"storage-get"))},Jn.onsuccess=qn=>{const lr=qn.target.result;ft(lr?lr.value:void 0)}}catch(Jn){Pt(Ti.create("storage-get",{originalErrorMessage:null===(an=Jn)||void 0===an?void 0:an.message}))}})})()}set(B,te){var Ne=this;return(0,S.Z)(function*(){const ft=yield Ne.openDbPromise;return new Promise((Pt,an)=>{var vn;const Xn=ft.transaction([ns],"readwrite").objectStore(ns),Jn=Ne.createCompositeKey(B);try{const qn=Xn.put({compositeKey:Jn,value:te});qn.onerror=lr=>{an(Ps(lr,"storage-set"))},qn.onsuccess=()=>{Pt()}}catch(qn){an(Ti.create("storage-set",{originalErrorMessage:null===(vn=qn)||void 0===vn?void 0:vn.message}))}})})()}delete(B){var te=this;return(0,S.Z)(function*(){const Ne=yield te.openDbPromise;return new Promise((ft,Pt)=>{var an;const Vn=Ne.transaction([ns],"readwrite").objectStore(ns),Xn=te.createCompositeKey(B);try{const Jn=Vn.delete(Xn);Jn.onerror=qn=>{Pt(Ps(qn,"storage-delete"))},Jn.onsuccess=()=>{ft()}}catch(Jn){Pt(Ti.create("storage-delete",{originalErrorMessage:null===(an=Jn)||void 0===an?void 0:an.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class Ks{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,S.Z)(function*(){const te=B.storage.getLastFetchStatus(),Ne=B.storage.getLastSuccessfulFetchTimestampMillis(),ft=B.storage.getActiveConfig(),Pt=yield te;Pt&&(B.lastFetchStatus=Pt);const an=yield Ne;an&&(B.lastSuccessfulFetchTimestampMillis=an);const vn=yield ft;vn&&(B.activeConfig=vn)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function bs(){return rs.apply(this,arguments)}function rs(){return(rs=(0,S.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch(R){return!1}})).apply(this,arguments)}!function is(){(0,ae._registerComponent)(new ye.wA("remote-config",function R(B,{instanceIdentifier:te}){const Ne=B.getProvider("app").getImmediate(),ft=B.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ti.create("registration-window");if(!(0,pe.hl)())throw Ti.create("indexed-db-unavailable");const{projectId:Pt,apiKey:an,appId:vn}=Ne.options;if(!Pt)throw Ti.create("registration-project-id");if(!an)throw Ti.create("registration-api-key");if(!vn)throw Ti.create("registration-app-id");const Vn=new po(vn,Ne.name,te=te||"firebase"),Xn=new Ks(Vn),Jn=new Pe.Yd(Hi);Jn.logLevel=Pe.in.ERROR;const qn=new er(ft,ae.SDK_VERSION,te,Pt,an,vn),lr=new Do(qn,Vn),Us=new vs(lr,Vn,Xn,Jn),yo=new ts(Ne,Us,Xn,Vn,Jn);return function ci(R){const B=(0,pe.m9)(R);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(yo),yo},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Hi,"0.3.11"),(0,ae.registerVersion)(Hi,"0.3.11","esm2017")}();const $o="/firebase-messaging-sw.js",ar="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Br="google.c.a.c_id",Fs="google.c.a.c_l",Go="google.c.a.ts",ls="google.c.a.e";var Es=(()=>{return(R=Es||(Es={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Es;var R})();function hr(R){const B=new Uint8Array(R);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ws(R){const te=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ne=atob(te),ft=new Uint8Array(Ne.length);for(let Pt=0;Pt<Ne.length;++Pt)ft[Pt]=Ne.charCodeAt(Pt);return ft}const Oi="fcm_token_details_db",Cr="fcm_token_object_Store";function Ri(R){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,S.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pt=>Pt.name).includes(Oi))return null;let B=null;return(yield(0,ge.X3)(Oi,5,{upgrade:(Ne=(0,S.Z)(function*(ft,Pt,an,vn){var Vn;if(Pt<2||!ft.objectStoreNames.contains(Cr))return;const Xn=vn.objectStore(Cr),Jn=yield Xn.index("fcmSenderId").get(R);if(yield Xn.clear(),Jn)if(2===Pt){const qn=Jn;if(!qn.auth||!qn.p256dh||!qn.endpoint)return;B={token:qn.fcmToken,createTime:null!==(Vn=qn.createTime)&&void 0!==Vn?Vn:Date.now(),subscriptionOptions:{auth:qn.auth,p256dh:qn.p256dh,endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:"string"==typeof qn.vapidKey?qn.vapidKey:hr(qn.vapidKey)}}}else if(3===Pt){const qn=Jn;B={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:hr(qn.auth),p256dh:hr(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:hr(qn.vapidKey)}}}else if(4===Pt){const qn=Jn;B={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:hr(qn.auth),p256dh:hr(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:hr(qn.vapidKey)}}}}),function(Pt,an,vn,Vn){return Ne.apply(this,arguments)})})).close(),yield(0,ge.Lj)(Oi),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),ss(B)?B:null;var Ne}),Kr.apply(this,arguments)}function ss(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:B}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const Zr="firebase-messaging-store";let us=null;function gi(){return us||(us=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(R,B)=>{0===B&&R.createObjectStore(Zr)}})),us}function V(R){return ee.apply(this,arguments)}function ee(){return(ee=(0,S.Z)(function*(R){const B=Wt(R),Ne=yield(yield gi()).transaction(Zr).objectStore(Zr).get(B);if(Ne)return Ne;{const ft=yield Ri(R.appConfig.senderId);if(ft)return yield N(R,ft),ft}})).apply(this,arguments)}function N(R,B){return ce.apply(this,arguments)}function ce(){return(ce=(0,S.Z)(function*(R,B){const te=Wt(R),ft=(yield gi()).transaction(Zr,"readwrite");return yield ft.objectStore(Zr).put(B,te),yield ft.done,B})).apply(this,arguments)}function He(R){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,S.Z)(function*(R){const B=Wt(R),Ne=(yield gi()).transaction(Zr,"readwrite");yield Ne.objectStore(Zr).delete(B),yield Ne.done})).apply(this,arguments)}function Wt({appConfig:R}){return R.appId}const $n=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pi(R,B){return si.apply(this,arguments)}function si(){return(si=(0,S.Z)(function*(R,B){var te;const Ne=yield k(R),ft=ne(B),Pt={method:"POST",headers:Ne,body:JSON.stringify(ft)};let an;try{an=yield(yield fetch(j(R.appConfig),Pt)).json()}catch(vn){throw $n.create("token-subscribe-failed",{errorInfo:null===(te=vn)||void 0===te?void 0:te.toString()})}if(an.error)throw $n.create("token-subscribe-failed",{errorInfo:an.error.message});if(!an.token)throw $n.create("token-subscribe-no-token");return an.token})).apply(this,arguments)}function ui(R,B){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,S.Z)(function*(R,B){var te;const Ne=yield k(R),ft=ne(B.subscriptionOptions),Pt={method:"PATCH",headers:Ne,body:JSON.stringify(ft)};let an;try{an=yield(yield fetch(`${j(R.appConfig)}/${B.token}`,Pt)).json()}catch(vn){throw $n.create("token-update-failed",{errorInfo:null===(te=vn)||void 0===te?void 0:te.toString()})}if(an.error)throw $n.create("token-update-failed",{errorInfo:an.error.message});if(!an.token)throw $n.create("token-update-no-token");return an.token})).apply(this,arguments)}function wi(R,B){return zi.apply(this,arguments)}function zi(){return(zi=(0,S.Z)(function*(R,B){var te;const ft={method:"DELETE",headers:yield k(R)};try{const an=yield(yield fetch(`${j(R.appConfig)}/${B}`,ft)).json();if(an.error)throw $n.create("token-unsubscribe-failed",{errorInfo:an.error.message})}catch(Pt){throw $n.create("token-unsubscribe-failed",{errorInfo:null===(te=Pt)||void 0===te?void 0:te.toString()})}})).apply(this,arguments)}function j({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function k(R){return M.apply(this,arguments)}function M(){return(M=(0,S.Z)(function*({appConfig:R,installations:B}){const te=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function ne({p256dh:R,auth:B,endpoint:te,vapidKey:Ne}){const ft={web:{endpoint:te,auth:B,p256dh:R}};return Ne!==Wr&&(ft.web.applicationPubKey=Ne),ft}const Bt=6048e5;function Dn(R){return vi.apply(this,arguments)}function vi(){return(vi=(0,S.Z)(function*(R){const B=yield nr(R.swRegistration,R.vapidKey),te={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:B.endpoint,auth:hr(B.getKey("auth")),p256dh:hr(B.getKey("p256dh"))},Ne=yield V(R.firebaseDependencies);if(Ne){if(go(Ne.subscriptionOptions,te))return Date.now()>=Ne.createTime+Bt?ds(R,{token:Ne.token,createTime:Date.now(),subscriptionOptions:te}):Ne.token;try{yield wi(R.firebaseDependencies,Ne.token)}catch(ft){console.warn(ft)}return _i(R.firebaseDependencies,te)}return _i(R.firebaseDependencies,te)})).apply(this,arguments)}function Vr(R){return mo.apply(this,arguments)}function mo(){return(mo=(0,S.Z)(function*(R){const B=yield V(R.firebaseDependencies);B&&(yield wi(R.firebaseDependencies,B.token),yield He(R.firebaseDependencies));const te=yield R.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()})).apply(this,arguments)}function ds(R,B){return rn.apply(this,arguments)}function rn(){return(rn=(0,S.Z)(function*(R,B){try{const te=yield ui(R.firebaseDependencies,B),Ne=Object.assign(Object.assign({},B),{token:te,createTime:Date.now()});return yield N(R.firebaseDependencies,Ne),te}catch(te){throw yield Vr(R),te}})).apply(this,arguments)}function _i(R,B){return zo.apply(this,arguments)}function zo(){return(zo=(0,S.Z)(function*(R,B){const Ne={token:yield pi(R,B),createTime:Date.now(),subscriptionOptions:B};return yield N(R,Ne),Ne.token})).apply(this,arguments)}function nr(R,B){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,S.Z)(function*(R,B){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ws(B)})})).apply(this,arguments)}function go(R,B){return B.vapidKey===R.vapidKey&&B.endpoint===R.endpoint&&B.auth===R.auth&&B.p256dh===R.p256dh}function Ds(R){const B={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function To(R,B){if(!B.notification)return;R.notification={};const te=B.notification.title;te&&(R.notification.title=te);const Ne=B.notification.body;Ne&&(R.notification.body=Ne);const ft=B.notification.image;ft&&(R.notification.image=ft)}(B,R),function Da(R,B){!B.data||(R.data=B.data)}(B,R),function cl(R,B){var te,Ne,ft,Pt,an;if(!B.fcmOptions&&!(null===(te=B.notification)||void 0===te?void 0:te.click_action))return;R.fcmOptions={};const vn=null!==(ft=null===(Ne=B.fcmOptions)||void 0===Ne?void 0:Ne.link)&&void 0!==ft?ft:null===(Pt=B.notification)||void 0===Pt?void 0:Pt.click_action;vn&&(R.fcmOptions.link=vn);const Vn=null===(an=B.fcmOptions)||void 0===an?void 0:an.analytics_label;Vn&&(R.fcmOptions.analyticsLabel=Vn)}(B,R),B}function sa(R){return"object"==typeof R&&!!R&&Br in R}function to(R,B){const te=[];for(let Ne=0;Ne<R.length;Ne++)te.push(R.charAt(Ne)),Ne<B.length&&te.push(B.charAt(Ne));return te.join("")}function fr(R){return $n.create("missing-app-config-values",{valueName:R})}to("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),to("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ls{constructor(B,te,Ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ft=function no(R){if(!R||!R.options)throw fr("App Configuration Object");if(!R.name)throw fr("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:te}=R;for(const Ne of B)if(!te[Ne])throw fr(Ne);return{appName:R.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:ft,installations:te,analyticsProvider:Ne}}_delete(){return Promise.resolve()}}function Ko(R){return q.apply(this,arguments)}function q(){return(q=(0,S.Z)(function*(R){var B;try{R.swRegistration=yield navigator.serviceWorker.register($o,{scope:ar}),R.swRegistration.update().catch(()=>{})}catch(te){throw $n.create("failed-service-worker-registration",{browserErrorMessage:null===(B=te)||void 0===B?void 0:B.message})}})).apply(this,arguments)}function _(R,B){return v.apply(this,arguments)}function v(){return(v=(0,S.Z)(function*(R,B){if(!B&&!R.swRegistration&&(yield Ko(R)),B||!R.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");R.swRegistration=B}})).apply(this,arguments)}function P(R,B){return X.apply(this,arguments)}function X(){return(X=(0,S.Z)(function*(R,B){B?R.vapidKey=B:R.vapidKey||(R.vapidKey=Wr)})).apply(this,arguments)}function We(){return(We=(0,S.Z)(function*(R,B){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield P(R,null==B?void 0:B.vapidKey),yield _(R,null==B?void 0:B.serviceWorkerRegistration),Dn(R)})).apply(this,arguments)}function Ze(R,B,te){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,S.Z)(function*(R,B,te){const Ne=Kt(B);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(Ne,{message_id:te[Br],message_name:te[Fs],message_time:te[Go],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Kt(R){switch(R){case Es.NOTIFICATION_CLICKED:return"notification_open";case Es.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Pn(){return(Pn=(0,S.Z)(function*(R,B){const te=B.data;if(!te.isFirebaseMessaging)return;R.onMessageHandler&&te.messageType===Es.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Ds(te)):R.onMessageHandler.next(Ds(te)));const Ne=te.data;sa(Ne)&&"1"===Ne[ls]&&(yield Ze(R,te.messageType,Ne))})).apply(this,arguments)}const Gn="@firebase/messaging",Fn=R=>{const B=new Ls(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function In(R,B){return Pn.apply(this,arguments)}(B,te)),B},Kn=R=>{const B=R.getProvider("messaging").getImmediate();return{getToken:Ne=>function Ee(R,B){return We.apply(this,arguments)}(B,Ne)}};function tr(){return ir.apply(this,arguments)}function ir(){return(ir=(0,S.Z)(function*(){try{yield(0,pe.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pi(){(0,ae._registerComponent)(new ye.wA("messaging",Fn,"PUBLIC")),(0,ae._registerComponent)(new ye.wA("messaging-internal",Kn,"PRIVATE")),(0,ae.registerVersion)(Gn,"0.9.16"),(0,ae.registerVersion)(Gn,"0.9.16","esm2017")}();const Bs="analytics",Mo="firebase_id",hs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mn="https://www.googletagmanager.com/gtag/js",Cn=new Pe.Yd("@firebase/analytics");function Wn(R){return Promise.all(R.map(B=>B.catch(te=>te)))}function ai(R,B){const te=document.createElement("script");te.src=`${Mn}?l=${R}&id=${B}`,te.async=!0,document.head.appendChild(te)}function Is(R,B,te,Ne,ft,Pt){return rr.apply(this,arguments)}function rr(){return(rr=(0,S.Z)(function*(R,B,te,Ne,ft,Pt){const an=Ne[ft];try{if(an)yield B[an];else{const Vn=(yield Wn(te)).find(Xn=>Xn.measurementId===ft);Vn&&(yield B[Vn.appId])}}catch(vn){Cn.error(vn)}R("config",ft,Pt)})).apply(this,arguments)}function os(R,B,te,Ne,ft){return ki.apply(this,arguments)}function ki(){return(ki=(0,S.Z)(function*(R,B,te,Ne,ft){try{let Pt=[];if(ft&&ft.send_to){let an=ft.send_to;Array.isArray(an)||(an=[an]);const vn=yield Wn(te);for(const Vn of an){const Xn=vn.find(qn=>qn.measurementId===Vn),Jn=Xn&&B[Xn.appId];if(!Jn){Pt=[];break}Pt.push(Jn)}}0===Pt.length&&(Pt=Object.values(B)),yield Promise.all(Pt),R("event",Ne,ft||{})}catch(Pt){Cn.error(Pt)}})).apply(this,arguments)}function Qr(){const R=window.document.getElementsByTagName("script");for(const B of Object.values(R))if(B.src&&B.src.includes(Mn))return B;return null}const Wi=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ul=new class Vs{constructor(B={},te=1e3){this.throttleMetadata=B,this.intervalMillis=te}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,te){this.throttleMetadata[B]=te}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function Ha(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function so(R){return dl.apply(this,arguments)}function dl(){return(dl=(0,S.Z)(function*(R){var B;const{appId:te,apiKey:Ne}=R,ft={method:"GET",headers:Ha(Ne)},Pt=hs.replace("{app-id}",te),an=yield fetch(Pt,ft);if(200!==an.status&&304!==an.status){let vn="";try{const Vn=yield an.json();(null===(B=Vn.error)||void 0===B?void 0:B.message)&&(vn=Vn.error.message)}catch(Vn){}throw Wi.create("config-fetch-failed",{httpStatus:an.status,responseMessage:vn})}return an.json()})).apply(this,arguments)}function Xi(R){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,S.Z)(function*(R,B=ul,te){const{appId:Ne,apiKey:ft,measurementId:Pt}=R.options;if(!Ne)throw Wi.create("no-app-id");if(!ft){if(Pt)return{measurementId:Pt,appId:Ne};throw Wi.create("no-api-key")}const an=B.getThrottleMetadata(Ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},vn=new U;return setTimeout((0,S.Z)(function*(){vn.abort()}),void 0!==te?te:6e4),oa({appId:Ne,apiKey:ft,measurementId:Pt},an,vn,B)})).apply(this,arguments)}function oa(R,B,te){return A.apply(this,arguments)}function A(){return(A=(0,S.Z)(function*(R,{throttleEndTimeMillis:B,backoffCount:te},Ne,ft=ul){var Pt,an;const{appId:vn,measurementId:Vn}=R;try{yield D(Ne,B)}catch(Xn){if(Vn)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vn} provided in the "measurementId" field in the local Firebase config. [${null===(Pt=Xn)||void 0===Pt?void 0:Pt.message}]`),{appId:vn,measurementId:Vn};throw Xn}try{const Xn=yield so(R);return ft.deleteThrottleMetadata(vn),Xn}catch(Xn){const Jn=Xn;if(!b(Jn)){if(ft.deleteThrottleMetadata(vn),Vn)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vn} provided in the "measurementId" field in the local Firebase config. [${null==Jn?void 0:Jn.message}]`),{appId:vn,measurementId:Vn};throw Xn}const qn=503===Number(null===(an=null==Jn?void 0:Jn.customData)||void 0===an?void 0:an.httpStatus)?(0,pe.$s)(te,ft.intervalMillis,30):(0,pe.$s)(te,ft.intervalMillis),lr={throttleEndTimeMillis:Date.now()+qn,backoffCount:te+1};return ft.setThrottleMetadata(vn,lr),Cn.debug(`Calling attemptFetch again in ${qn} millis`),oa(R,lr,Ne,ft)}})).apply(this,arguments)}function D(R,B){return new Promise((te,Ne)=>{const ft=Math.max(B-Date.now(),0),Pt=setTimeout(te,ft);R.addEventListener(()=>{clearTimeout(Pt),Ne(Wi.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}function b(R){if(!(R instanceof pe.ZR&&R.customData))return!1;const B=Number(R.customData.httpStatus);return 429===B||500===B||503===B||504===B}class U{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}let G,Ji;function xe(){return(xe=(0,S.Z)(function*(R,B,te,Ne,ft){if(ft&&ft.global)R("event",te,Ne);else{const Pt=yield B;R("event",te,Object.assign(Object.assign({},Ne),{send_to:Pt}))}})).apply(this,arguments)}function ma(R){Ji=R}function ga(R){G=R}function xo(){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,S.Z)(function*(){var R;if(!(0,pe.hl)())return Cn.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(B){return Cn.warn(Wi.create("indexeddb-unavailable",{errorInfo:null===(R=B)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function Fl(){return(Fl=(0,S.Z)(function*(R,B,te,Ne,ft,Pt,an){var vn;const Vn=Xi(R);Vn.then(Us=>{te[Us.measurementId]=Us.appId,R.options.measurementId&&Us.measurementId!==R.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Us.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Us=>Cn.error(Us)),B.push(Vn);const Xn=xo().then(Us=>{if(Us)return Ne.getId()}),[Jn,qn]=yield Promise.all([Vn,Xn]);Qr()||ai(Pt,Jn.measurementId),Ji&&(ft("consent","default",Ji),ma(void 0)),ft("js",new Date);const lr=null!==(vn=null==an?void 0:an.config)&&void 0!==vn?vn:{};return lr.origin="firebase",lr.update=!0,null!=qn&&(lr[Mo]=qn),ft("config",Jn.measurementId,lr),G&&(ft("set",G),ga(void 0)),Jn.measurementId})).apply(this,arguments)}class Sa{constructor(B){this.app=B}_delete(){return delete qo[this.app.options.appId],Promise.resolve()}}let qo={},hl=[];const Ll={};let _o,Ro,Oo="dataLayer",Ki=!1;function Vi(R,B,te){!function Bl(){const R=[];if((0,pe.ru)()&&R.push("This is a browser extension environment."),(0,pe.zI)()||R.push("Cookies are not available."),R.length>0){const B=R.map((Ne,ft)=>`(${ft+1}) ${Ne}`).join(" "),te=Wi.create("invalid-analytics-context",{errorInfo:B});Cn.warn(te.message)}}();const Ne=R.options.appId;if(!Ne)throw Wi.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Wi.create("no-api-key");Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qo[Ne])throw Wi.create("already-exists",{id:Ne});if(!Ki){!function Bi(R){let B=[];Array.isArray(window[R])?B=window[R]:window[R]=B}(Oo);const{wrappedGtag:Pt,gtagCore:an}=function fs(R,B,te,Ne,ft){let Pt=function(...an){window[Ne].push(arguments)};return window[ft]&&"function"==typeof window[ft]&&(Pt=window[ft]),window[ft]=function Zo(R,B,te,Ne){function Pt(){return(Pt=(0,S.Z)(function*(an,vn,Vn){try{"event"===an?yield os(R,B,te,vn,Vn):"config"===an?yield Is(R,B,te,Ne,vn,Vn):"consent"===an?R("consent","update",Vn):R("set",vn)}catch(Xn){Cn.error(Xn)}})).apply(this,arguments)}return function ft(an,vn,Vn){return Pt.apply(this,arguments)}}(Pt,R,B,te),{gtagCore:Pt,wrappedGtag:window[ft]}}(qo,hl,Ll,Oo,"gtag");Ro=Pt,_o=an,Ki=!0}return qo[Ne]=function Ta(R,B,te,Ne,ft,Pt,an){return Fl.apply(this,arguments)}(R,hl,Ll,B,_o,Oo,te),new Sa(R)}function wn(){return fl.apply(this,arguments)}function fl(){return(fl=(0,S.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch(R){return!1}})).apply(this,arguments)}const ml="@firebase/analytics";!function ru(){(0,ae._registerComponent)(new ye.wA(Bs,(B,{options:te})=>Vi(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,ae._registerComponent)(new ye.wA("analytics-internal",function R(B){try{const te=B.getProvider(Bs).getImmediate();return{logEvent:(Ne,ft,Pt)=>function Ul(R,B,te,Ne){R=(0,pe.m9)(R),function K(R,B,te,Ne,ft){return xe.apply(this,arguments)}(Ro,qo[R.app.options.appId],B,te,Ne).catch(ft=>Cn.error(ft))}(te,Ne,ft,Pt)}}catch(te){throw Wi.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,ae.registerVersion)(ml,"0.8.0"),(0,ae.registerVersion)(ml,"0.8.0","esm2017")}();var jl=w(4408),Xr=w(7565);const Rt=new class Ma extends Xr.v{}(class oo extends jl.o{constructor(B,te){super(B,te),this.scheduler=B,this.work=te}schedule(B,te=0){return te>0?super.schedule(B,te):(this.delay=te,this.state=B,this.scheduler.flush(this),this)}execute(B,te){return te>0||this.closed?super.execute(B,te):this._execute(B,te)}requestAsyncId(B,te,Ne=0){return null!=Ne&&Ne>0||null==Ne&&this.delay>0?super.requestAsyncId(B,te,Ne):B.flush(this)}});var Zs=w(4986),gl=w(8505),Po=w(9468),aa=w(5363);const ah=new h.GfV("7.4.1"),Yo="__angularfire_symbol__analyticsIsSupportedValue",Ss="__angularfire_symbol__analyticsIsSupported",la="__angularfire_symbol__remoteConfigIsSupportedValue",ca="__angularfire_symbol__remoteConfigIsSupported",su="__angularfire_symbol__messagingIsSupportedValue",ps="__angularfire_symbol__messagingIsSupported";function za(R,B,te){if(B){if(1===B.length)return B[0];const Pt=B.filter(an=>an.app===te);if(1===Pt.length)return Pt[0]}return te.container.getProvider(R).getImmediate({optional:!0})}globalThis[Ss]||(globalThis[Ss]=wn().then(R=>globalThis[Yo]=R).catch(()=>globalThis[Yo]=!1)),globalThis[ps]||(globalThis[ps]=tr().then(R=>globalThis[su]=R).catch(()=>globalThis[su]=!1)),globalThis[ca]||(globalThis[ca]=bs().then(R=>globalThis[la]=R).catch(()=>globalThis[la]=!1));const Hr=(R,B)=>{const te=B?[B]:(0,C.C6)(),Ne=[];return te.forEach(ft=>{ft.container.getProvider(R).instances.forEach(an=>{Ne.includes(an)||Ne.push(an)})}),Ne};function Ni(){}class Qo{constructor(B,te=Rt){this.zone=B,this.delegate=te}now(){return this.delegate.now()}schedule(B,te,Ne){const ft=this.zone;return this.delegate.schedule(function(an){ft.runGuarded(()=>{B.apply(this,[an])})},te,Ne)}}class _l{constructor(B){this.zone=B,this.task=null}call(B,te){const Ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)),te.pipe((0,gl.b)({next:Ne,complete:Ne,error:Ne})).subscribe(B).add(Ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ms=(()=>{class R{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new Qo(Zone.current)),this.insideAngular=te.run(()=>new Qo(Zone.current,Zs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(te){return new(te||R)(h.LFG(h.R0b))},R.\u0275prov=h.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function ko(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Xo(R){return ko(),function Hl(R){return function(te){return(te=te.lift(new _l(R.ngZone))).pipe((0,Po.R)(R.outsideAngular),(0,aa.Q)(R.insideAngular))}}(ko())(R)}},2090:(Yt,Ge,w)=>{w.d(Ge,{BH:()=>je,LL:()=>dt,ZR:()=>_t,zI:()=>ve,US:()=>ye,tV:()=>se,L:()=>ge,$s:()=>fi,r3:()=>un,Sg:()=>ke,ne:()=>Q,vZ:()=>Te,ZB:()=>me,pd:()=>fn,m9:()=>qi,z$:()=>Fe,jU:()=>et,ru:()=>Ie,d:()=>tt,xb:()=>ut,w1:()=>be,hl:()=>Y,uI:()=>it,UG:()=>Be,b$:()=>Ht,G6:()=>_e,Mn:()=>he,xO:()=>pt,zd:()=>tn,eu:()=>Ve});const ae=function(oe){const H=[];let O=0;for(let F=0;F<oe.length;F++){let Z=oe.charCodeAt(F);Z<128?H[O++]=Z:Z<2048?(H[O++]=Z>>6|192,H[O++]=63&Z|128):55296==(64512&Z)&&F+1<oe.length&&56320==(64512&oe.charCodeAt(F+1))?(Z=65536+((1023&Z)<<10)+(1023&oe.charCodeAt(++F)),H[O++]=Z>>18|240,H[O++]=Z>>12&63|128,H[O++]=Z>>6&63|128,H[O++]=63&Z|128):(H[O++]=Z>>12|224,H[O++]=Z>>6&63|128,H[O++]=63&Z|128)}return H},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,H){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let Z=0;Z<oe.length;Z+=3){const le=oe[Z],Le=Z+1<oe.length,ie=Le?oe[Z+1]:0,ot=Z+2<oe.length,en=ot?oe[Z+2]:0;let bi=(15&ie)<<2|en>>6,vt=63&en;ot||(vt=64,Le||(bi=64)),F.push(O[le>>2],O[(3&le)<<4|ie>>4],O[bi],O[vt])}return F.join("")},encodeString(oe,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(oe):this.encodeByteArray(ae(oe),H)},decodeString(oe,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(oe):function(oe){const H=[];let O=0,F=0;for(;O<oe.length;){const Z=oe[O++];if(Z<128)H[F++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const le=oe[O++];H[F++]=String.fromCharCode((31&Z)<<6|63&le)}else if(Z>239&&Z<365){const ot=((7&Z)<<18|(63&oe[O++])<<12|(63&oe[O++])<<6|63&oe[O++])-65536;H[F++]=String.fromCharCode(55296+(ot>>10)),H[F++]=String.fromCharCode(56320+(1023&ot))}else{const le=oe[O++],Le=oe[O++];H[F++]=String.fromCharCode((15&Z)<<12|(63&le)<<6|63&Le)}}return H.join("")}(this.decodeStringToByteArray(oe,H))},decodeStringToByteArray(oe,H){this.init_();const O=H?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let Z=0;Z<oe.length;){const le=O[oe.charAt(Z++)],ie=Z<oe.length?O[oe.charAt(Z)]:0;++Z;const en=Z<oe.length?O[oe.charAt(Z)]:64;++Z;const bn=Z<oe.length?O[oe.charAt(Z)]:64;if(++Z,null==le||null==ie||null==en||null==bn)throw Error();F.push(le<<2|ie>>4),64!==en&&(F.push(ie<<4&240|en>>2),64!==bn&&F.push(en<<6&192|bn))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}},ge=function(oe){return function(oe){const H=ae(oe);return ye.encodeByteArray(H,!0)}(oe).replace(/\./g,"")},se=function(oe){try{return ye.decodeString(oe,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function me(oe,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return H}for(const O in H)!H.hasOwnProperty(O)||!Ce(O)||(oe[O]=me(oe[O],H[O]));return oe}function Ce(oe){return"__proto__"!==oe}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,O)=>{this.resolve=H,this.reject=O})}wrapCallback(H){return(O,F)=>{O?this.reject(O):this.resolve(F),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(O):H(O,F))}}}function ke(oe,H){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=H||"demo-project",Z=oe.iat||0,le=oe.sub||oe.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:Z,exp:Z+3600,auth_time:Z,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Le)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(oe){return!1}}function et(){return"object"==typeof self&&self.self===self}function Ie(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tt(){return Fe().indexOf("Electron/")>=0}function be(){const oe=Fe();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function he(){return Fe().indexOf("MSAppHost/")>=0}function _e(){return!Be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y(){return"object"==typeof indexedDB}function Ve(){return new Promise((oe,H)=>{try{let O=!0;const F="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(F);Z.onsuccess=()=>{Z.result.close(),O||self.indexedDB.deleteDatabase(F),oe(!0)},Z.onupgradeneeded=()=>{O=!1},Z.onerror=()=>{var le;H((null===(le=Z.error)||void 0===le?void 0:le.message)||"")}}catch(O){H(O)}})}function ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _t extends Error{constructor(H,O,F){super(O),this.code=H,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,_t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}}class dt{constructor(H,O,F){this.service=H,this.serviceName=O,this.errors=F}create(H,...O){const F=O[0]||{},Z=`${this.service}/${H}`,le=this.errors[H],Le=le?function kt(oe,H){return oe.replace(At,(O,F)=>{const Z=H[F];return null!=Z?String(Z):`<${F}?>`})}(le,F):"Error";return new _t(Z,`${this.serviceName}: ${Le} (${Z}).`,F)}}const At=/\{\$([^}]+)}/g;function un(oe,H){return Object.prototype.hasOwnProperty.call(oe,H)}function ut(oe){for(const H in oe)if(Object.prototype.hasOwnProperty.call(oe,H))return!1;return!0}function Te(oe,H){if(oe===H)return!0;const O=Object.keys(oe),F=Object.keys(H);for(const Z of O){if(!F.includes(Z))return!1;const le=oe[Z],Le=H[Z];if(mt(le)&&mt(Le)){if(!Te(le,Le))return!1}else if(le!==Le)return!1}for(const Z of F)if(!O.includes(Z))return!1;return!0}function mt(oe){return null!==oe&&"object"==typeof oe}function pt(oe){const H=[];for(const[O,F]of Object.entries(oe))Array.isArray(F)?F.forEach(Z=>{H.push(encodeURIComponent(O)+"="+encodeURIComponent(Z))}):H.push(encodeURIComponent(O)+"="+encodeURIComponent(F));return H.length?"&"+H.join("&"):""}function tn(oe){const H={};return oe.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[Z,le]=F.split("=");H[decodeURIComponent(Z)]=decodeURIComponent(le)}}),H}function fn(oe){const H=oe.indexOf("?");if(!H)return"";const O=oe.indexOf("#",H);return oe.substring(H,O>0?O:void 0)}function Q(oe,H){const O=new we(oe,H);return O.subscribe.bind(O)}class we{constructor(H,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{H(this)}).catch(F=>{this.error(F)})}next(H){this.forEachObserver(O=>{O.next(H)})}error(H){this.forEachObserver(O=>{O.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,O,F){let Z;if(void 0===H&&void 0===O&&void 0===F)throw new Error("Missing Observer.");Z=function ht(oe,H){if("object"!=typeof oe||null===oe)return!1;for(const O of H)if(O in oe&&"function"==typeof oe[O])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:O,complete:F},void 0===Z.next&&(Z.next=Lt),void 0===Z.error&&(Z.error=Lt),void 0===Z.complete&&(Z.complete=Lt);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch(Le){}}),this.observers.push(Z),le}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,H)}sendOne(H,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{O(this.observers[H])}catch(F){"undefined"!=typeof console&&console.error&&console.error(F)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lt(){}function fi(oe,H=1e3,O=2){const F=H*Math.pow(O,oe),Z=Math.round(.5*F*(Math.random()-.5)*2);return Math.min(144e5,F+Z)}function qi(oe){return oe&&oe._delegate?oe._delegate:oe}},7018:(Yt,Ge,w)=>{w.d(Ge,{M:()=>h});var h=(()=>{return(C=h||(h={})).PAINTINGS="cuadros",C.BOX_TYPES="tipo_cuadro",C.MENU="menu",C.MEASURES="medidas",h;var C})()},5651:(Yt,Ge,w)=>{w.d(Ge,{W:()=>pe});var h=w(1135),C=w(7018),S=w(5e3),ae=w(7985);let pe=(()=>{class ye{constructor(ge){this.db=ge,this.measures$=new h.X(null)}loadMeasures(){this.db.collection(C.M.MEASURES).valueChanges({idField:"id"}).subscribe(ge=>this.measures$.next(ge))}}return ye.\u0275fac=function(ge){return new(ge||ye)(S.LFG(ae.ST))},ye.\u0275prov=S.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})()},4872:(Yt,Ge,w)=>{w.d(Ge,{q:()=>ke});var h=w(4889),C=w(4594),S=w(8099),ae=w(7423),pe=w(9224),ye=w(508),Pe=w(6498),ge=w(4623),se=w(9417),re=w(4834),me=w(149),Ce=w(8966),je=w(5e3);let ke=(()=>{class Fe{}return Fe.\u0275fac=function(Be){return new(Be||Fe)},Fe.\u0275mod=je.oAB({type:Fe}),Fe.\u0275inj=je.cJS({providers:[{provide:Pe.xM,useValue:{panelClass:"bottom-sheet-custom-container",hasBackdrop:!0}}],imports:[me.dp,h.SJ,C.g0,S.Ps,ae.ot,pe.QW,ye.si,Pe._r,ge.ie,se.Hi,re.t,Ce.Is]}),Fe})()},2278:(Yt,Ge,w)=>{var h=w(2313),C=w(5e3),S=w(5861),ae=w(1402);const pe=[{path:"",loadChildren:(nt=(0,S.Z)(function*(){return(yield Promise.all([w.e(592),w.e(510)]).then(w.bind(w,6510))).DashboardModule}),function(){return nt.apply(this,arguments)})},{path:"cuadros",loadChildren:function(){var nt=(0,S.Z)(function*(){return(yield Promise.all([w.e(592),w.e(339)]).then(w.bind(w,3339))).PaintingModule});return function(){return nt.apply(this,arguments)}}()},{path:"**",redirectTo:""}];var nt;let ye=(()=>{class nt{}return nt.\u0275fac=function(Ue){return new(Ue||nt)},nt.\u0275mod=C.oAB({type:nt}),nt.\u0275inj=C.cJS({imports:[[ae.Bz.forRoot(pe)],ae.Bz]}),nt})();var Pe=w(1777);const ge=(0,Pe.X$)("routeAnimations",[(0,Pe.eR)("* <=> *",[(0,Pe.IO)(":leave",(0,Pe.oB)({position:"absolute",left:0,right:0,transform:"translate3d(0%,0,0)",overflow:"hidden"}),{optional:!0}),(0,Pe.IO)(":enter",(0,Pe.oB)({position:"absolute",left:"15px",right:"15px",transform:"translate3d(-100%,0,0)",overflow:"hidden"}),{optional:!0}),(0,Pe.ru)([(0,Pe.IO)(":leave",(0,Pe.ru)([(0,Pe.jt)("0s ease-in-out",(0,Pe.oB)({transform:"translate3d(100%,0,0)"}))]),{optional:!0}),(0,Pe.IO)(":enter",(0,Pe.ru)([(0,Pe.jt)("300ms ease-in-out",(0,Pe.oB)({transform:"translate3d(0%,0,0)"}))]),{optional:!0})])])]);var se=w(5651),re=w(4889),me=w(2379),Ce=w(149),je=w(7579),ke=w(2722),Fe=w(7018),it=w(7985);let Be=(()=>{class nt{constructor(Ue){this.db=Ue}getMenu(){return this.db.collection(Fe.M.MENU).valueChanges({idField:"id"})}}return nt.\u0275fac=function(Ue){return new(Ue||nt)(C.LFG(it.ST))},nt.\u0275prov=C.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})();var et=w(9808);function Ie(nt,Ke){if(1&nt){const Ue=C.EpF();C.TgZ(0,"mat-tree-node",4),C.NdJ("click",function(){const ze=C.CHM(Ue).$implicit;return C.oxw(2).navigate(ze)}),C._uU(1),C.qZA()}if(2&nt){const Ue=Ke.$implicit;C.xp6(1),C.hij(" ",Ue.nombre," ")}}function Ht(nt,Ke){if(1&nt&&(C.TgZ(0,"mat-tree-node",5),C._uU(1),C.qZA()),2&nt){const Ue=Ke.$implicit;C.xp6(1),C.hij(" ",Ue.nombre," ")}}function tt(nt,Ke){if(1&nt&&(C.ynx(0),C.TgZ(1,"mat-tree",1),C.YNc(2,Ie,2,1,"mat-tree-node",2),C.YNc(3,Ht,2,1,"mat-tree-node",3),C.qZA(),C.BQk()),2&nt){const Ue=C.oxw();C.xp6(1),C.Q6J("dataSource",Ue.menu)("treeControl",Ue.treeControl),C.xp6(2),C.Q6J("matTreeNodeDefWhen",Ue.hasChild)}}let be=(()=>{class nt{constructor(Ue,Dt){this.router=Ue,this.menuService=Dt,this._transformer=(Mt,ze)=>Object.assign({expandable:!!Mt.children&&Mt.children.length>0,level:ze},Mt),this.treeControl=new me.C2(Mt=>Mt.level,Mt=>Mt.expandable),this.treeFlattener=new Ce.JZ(this._transformer,Mt=>Mt.level,Mt=>Mt.expandable,Mt=>Mt.children),this.hasChild=(Mt,ze)=>ze.expandable,this.menu=new Ce.kc(this.treeControl,this.treeFlattener),this.onDestroy$=new je.x}ngOnInit(){this.menuService.getMenu().pipe((0,ke.R)(this.onDestroy$)).subscribe(Ue=>{this.menu.data=Ue,this.tree.treeControl.expandAll()})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}navigate(Ue){this.router.navigate([Ue.basePath,Ue.id])}}return nt.\u0275fac=function(Ue){return new(Ue||nt)(C.Y36(ae.F0),C.Y36(Be))},nt.\u0275cmp=C.Xpm({type:nt,selectors:[["app-menu"]],viewQuery:function(Ue,Dt){if(1&Ue&&C.Gf(Ce.gi,5),2&Ue){let Mt;C.iGM(Mt=C.CRH())&&(Dt.tree=Mt.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[1,"tree",3,"dataSource","treeControl"],["class","child","matTreeNodePadding","",3,"click",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"child",3,"click"],["matTreeNodePadding",""]],template:function(Ue,Dt){1&Ue&&C.YNc(0,tt,4,3,"ng-container",0),2&Ue&&C.Q6J("ngIf",Dt.menu.data)},directives:[et.O5,Ce.gi,Ce.fQ,Ce.uo,Ce.ah],styles:[".tree[_ngcontent-%COMP%]{padding:24px}.tree[_ngcontent-%COMP%]   .mat-tree-node.child[_ngcontent-%COMP%]:hover{background:#eeeeee;cursor:pointer}"]}),nt})();var he=w(4594),Se=w(7423),_e=w(8099);let Y=(()=>{class nt{constructor(Ue){this.router=Ue,this.onDrawerToggle=new C.vpe}ngOnInit(){}goToHome(){this.router.navigate([""])}}return nt.\u0275fac=function(Ue){return new(Ue||nt)(C.Y36(ae.F0))},nt.\u0275cmp=C.Xpm({type:nt,selectors:[["app-header"]],outputs:{onDrawerToggle:"onDrawerToggle"},decls:6,vars:0,consts:[["mat-icon-button","",3,"click"],[1,"clickable",3,"click"]],template:function(Ue,Dt){1&Ue&&(C.TgZ(0,"button",0),C.NdJ("click",function(){return Dt.onDrawerToggle.emit()}),C.TgZ(1,"mat-icon"),C._uU(2,"menu"),C.qZA()(),C.TgZ(3,"div",1),C.NdJ("click",function(){return Dt.goToHome()}),C.TgZ(4,"span"),C._uU(5,"Fly cuadros"),C.qZA()())},directives:[Se.lW,_e.Hw],styles:["[_nghost-%COMP%]{display:flex;gap:16px}.clickable[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}"]}),nt})(),Ve=(()=>{class nt{constructor(Ue,Dt){this.contexts=Ue,this.measuresService=Dt}ngOnInit(){this.measuresService.loadMeasures()}getRouteAnimationData(){var Ue,Dt,Mt,ze;return null===(ze=null===(Mt=null===(Dt=null===(Ue=this.contexts.getContext("primary"))||void 0===Ue?void 0:Ue.route)||void 0===Dt?void 0:Dt.snapshot)||void 0===Mt?void 0:Mt.data)||void 0===ze?void 0:ze.animation}}return nt.\u0275fac=function(Ue){return new(Ue||nt)(C.Y36(ae.y6),C.Y36(se.W))},nt.\u0275cmp=C.Xpm({type:nt,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"full-height"],["mode","side",2,"width","300px"],["drawer",""],[3,"onDrawerToggle"],[1,"container"]],template:function(Ue,Dt){if(1&Ue){const Mt=C.EpF();C.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),C._UZ(3,"app-menu"),C.qZA(),C.TgZ(4,"mat-drawer-content")(5,"mat-toolbar")(6,"app-header",3),C.NdJ("onDrawerToggle",function(){return C.CHM(Mt),C.MAs(2).toggle()}),C.qZA()(),C.TgZ(7,"main",4),C._UZ(8,"router-outlet"),C.qZA()()()}2&Ue&&(C.xp6(7),C.Q6J("@routeAnimations",Dt.getRouteAnimationData()))},directives:[re.kh,re.jA,be,re.LW,he.Ye,Y,ae.lC],styles:[".container[_ngcontent-%COMP%]{padding:15px}@media (max-width: 800px){.container[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}"],data:{animation:[ge]}}),nt})();var ve=w(6360),qe=w(4872);let Je=(()=>{class nt{}return nt.\u0275fac=function(Ue){return new(Ue||nt)},nt.\u0275mod=C.oAB({type:nt}),nt.\u0275inj=C.cJS({providers:[],imports:[[et.ez,qe.q]]}),nt})();var _t=w(2011);const dt={apiKey:"AIzaSyAPbYmpSoQ3DsOF_u4Lwwm1QAmaamV-gzo",authDomain:"fly-cuadros.firebaseapp.com",projectId:"fly-cuadros",storageBucket:"fly-cuadros.appspot.com",messagingSenderId:"650672944127",appId:"1:650672944127:web:108c938188ad030cb32dca",measurementId:"G-6FVF2K2V30"};let kt=(()=>{class nt{}return nt.\u0275fac=function(Ue){return new(Ue||nt)},nt.\u0275mod=C.oAB({type:nt,bootstrap:[Ve]}),nt.\u0275inj=C.cJS({imports:[[h.b2,ye,ve.PW,qe.q,Je,_t.hO.initializeApp(dt),it.yb]]}),nt})();(0,C.G48)(),h.q6().bootstrapModule(kt).catch(nt=>console.error(nt))},5867:(Yt,Ge,w)=>{w.d(Ge,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=w(9681);(0,h.registerVersion)("firebase","9.9.4","app")},127:(Yt,Ge,w)=>{w.d(Ge,{Z:()=>h.Z});var h=w(3942);h.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(Yt,Ge,w)=>{w.r(Ge);var h=w(5861),C=w(3942),S=w(2090),ae=w(9681),pe=w(655),ye=w(1877),Pe=w(4859);const Fe=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},it=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new S.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new ye.Yd("@firebase/auth");function Ht(g,...d){Ie.logLevel<=ye.in.ERROR&&Ie.error(`Auth (${ae.SDK_VERSION}): ${g}`,...d)}function tt(g,...d){throw _e(g,...d)}function be(g,...d){return _e(g,...d)}function he(g,d,f){const E=Object.assign(Object.assign({},it()),{[d]:f});return new S.LL("auth","Firebase",E).create(d,{appName:g.name})}function Se(g,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&tt(g,"argument-error"),he(g,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _e(g,...d){if("string"!=typeof g){const f=d[0],E=[...d.slice(1)];return E[0]&&(E[0].appName=g.name),g._errorFactory.create(f,...E)}return Be.create(g,...d)}function Y(g,d,...f){if(!g)throw _e(d,...f)}function Ve(g){const d="INTERNAL ASSERTION FAILED: "+g;throw Ht(d),new Error(d)}function ve(g,d){g||Ve(d)}const qe=new Map;function Je(g){ve(g instanceof Function,"Expected a class definition");let d=qe.get(g);return d?(ve(d instanceof g,"Instance stored in cache mismatched with class"),d):(d=new g,qe.set(g,d),d)}function kt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function At(){return"http:"===nt()||"https:"===nt()}function nt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Dt{constructor(d,f){this.shortDelay=d,this.longDelay=f,ve(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,S.uI)()||(0,S.b$)()}get(){return function Ke(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(At()||(0,S.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mt(g,d){ve(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class ze{static initialize(d,f,E){this.fetchImpl=d,f&&(this.headersImpl=f),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},un=new Dt(3e4,6e4);function Ot(g,d){return g.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:g.tenantId}):d}function ut(g,d,f,E){return st.apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(g,d,f,E,$={}){return Te(g,$,(0,h.Z)(function*(){let ue={},lt={};E&&("GET"===d?lt=E:ue={body:JSON.stringify(E)});const jt=(0,S.xO)(Object.assign({key:g.config.apiKey},lt)).slice(1),mn=yield g._getAdditionalHeaders();return mn["Content-Type"]="application/json",g.languageCode&&(mn["X-Firebase-Locale"]=g.languageCode),ze.fetch()(tn(g,g.config.apiHost,f,jt),Object.assign({method:d,headers:mn,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function Te(g,d,f){return mt.apply(this,arguments)}function mt(){return(mt=(0,h.Z)(function*(g,d,f){g._canInitEmulator=!1;const E=Object.assign(Object.assign({},yt),d);try{const $=new fn(g),ue=yield Promise.race([f(),$.promise]);$.clearNetworkTimeout();const lt=yield ue.json();if("needConfirmation"in lt)throw Tt(g,"account-exists-with-different-credential",lt);if(ue.ok&&!("errorMessage"in lt))return lt;{const jt=ue.ok?lt.errorMessage:lt.error.message,[mn,On]=jt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mn)throw Tt(g,"credential-already-in-use",lt);if("EMAIL_EXISTS"===mn)throw Tt(g,"email-already-in-use",lt);if("USER_DISABLED"===mn)throw Tt(g,"user-disabled",lt);const Yn=E[mn]||mn.toLowerCase().replace(/[_\s]+/g,"-");if(On)throw he(g,Yn,On);tt(g,Yn)}}catch($){if($ instanceof S.ZR)throw $;tt(g,"network-request-failed")}})).apply(this,arguments)}function De(g,d,f,E){return pt.apply(this,arguments)}function pt(){return(pt=(0,h.Z)(function*(g,d,f,E,$={}){const ue=yield ut(g,d,f,E,$);return"mfaPendingCredential"in ue&&tt(g,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function tn(g,d,f,E){const $=`${d}${f}?${E}`;return g.config.emulator?Mt(g.config,$):`${g.config.apiScheme}://${$}`}class fn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,E)=>{this.timer=setTimeout(()=>E(be(this.auth,"network-request-failed")),un.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tt(g,d,f){const E={appName:g.name};f.email&&(E.email=f.email),f.phoneNumber&&(E.phoneNumber=f.phoneNumber);const $=be(g,d,E);return $.customData._tokenResponse=f,$}function we(){return(we=(0,h.Z)(function*(g,d){return ut(g,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function at(g,d){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(g,d){return ut(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Lt(g,d){return sn.apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(g,d){return ut(g,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function dn(g){if(g)try{const d=new Date(Number(g));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Me(){return(Me=(0,h.Z)(function*(g,d=!1){const f=(0,S.m9)(g),E=yield f.getIdToken(d),$=xt(E);Y($&&$.exp&&$.auth_time&&$.iat,f.auth,"internal-error");const ue="object"==typeof $.firebase?$.firebase:void 0,lt=null==ue?void 0:ue.sign_in_provider;return{claims:$,token:E,authTime:dn(gt($.auth_time)),issuedAtTime:dn(gt($.iat)),expirationTime:dn(gt($.exp)),signInProvider:lt||null,signInSecondFactor:(null==ue?void 0:ue.sign_in_second_factor)||null}})).apply(this,arguments)}function gt(g){return 1e3*Number(g)}function xt(g){var d;const[f,E,$]=g.split(".");if(void 0===f||void 0===E||void 0===$)return Ht("JWT malformed, contained fewer than 3 sections"),null;try{const ue=(0,S.tV)(E);return ue?JSON.parse(ue):(Ht("Failed to decode base64 JWT payload"),null)}catch(ue){return Ht("Caught error parsing JWT payload as JSON",null===(d=ue)||void 0===d?void 0:d.toString()),null}}function xn(g,d){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(g,d,f=!1){if(f)return d;try{return yield d}catch(E){throw E instanceof S.ZR&&hn(E)&&g.auth.currentUser===g&&(yield g.auth.signOut()),E}})).apply(this,arguments)}function hn({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class hi{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const $=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const E=this.getInterval(d);this.timerId=setTimeout((0,h.Z)(function*(){yield f.iteration()}),E)}iteration(){var d=this;return(0,h.Z)(function*(){var f;try{yield d.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(f=E)||void 0===f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class fi{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=dn(this.lastLoginAt),this.creationTime=dn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yi(g){return gn.apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(g){var d;const f=g.auth,E=yield g.getIdToken(),$=yield xn(g,Lt(f,{idToken:E}));Y(null==$?void 0:$.users.length,f,"internal-error");const ue=$.users[0];g._notifyReloadListener(ue);const lt=(null===(d=ue.providerUserInfo)||void 0===d?void 0:d.length)?O(ue.providerUserInfo):[],jt=H(g.providerData,lt),Yn=!!g.isAnonymous&&!(g.email&&ue.passwordHash||(null==jt?void 0:jt.length)),zn={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:jt,metadata:new fi(ue.createdAt,ue.lastLoginAt),isAnonymous:Yn};Object.assign(g,zn)})).apply(this,arguments)}function oe(){return(oe=(0,h.Z)(function*(g){const d=(0,S.m9)(g);yield yi(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function H(g,d){return[...g.filter(E=>!d.some($=>$.providerId===E.providerId)),...d]}function O(g){return g.map(d=>{var{providerId:f}=d,E=(0,pe._T)(d,["providerId"]);return{providerId:f,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Z(){return(Z=(0,h.Z)(function*(g,d){const f=yield Te(g,{},(0,h.Z)(function*(){const E=(0,S.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:$,apiKey:ue}=g.config,lt=tn(g,$,"/v1/token",`key=${ue}`),jt=yield g._getAdditionalHeaders();return jt["Content-Type"]="application/x-www-form-urlencoded",ze.fetch()(lt,{method:"POST",headers:jt,body:E})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Y(d.idToken,"internal-error"),Y(void 0!==d.idToken,"internal-error"),Y(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function Ut(g){const d=xt(g);return Y(d,"internal-error"),Y(void 0!==d.exp,"internal-error"),Y(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var E=this;return(0,h.Z)(function*(){return Y(!E.accessToken||E.refreshToken,d,"user-token-expired"),f||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(d,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var E=this;return(0,h.Z)(function*(){const{accessToken:$,refreshToken:ue,expiresIn:lt}=yield function F(g,d){return Z.apply(this,arguments)}(d,f);E.updateTokensAndExpiration($,ue,Number(lt))})()}updateTokensAndExpiration(d,f,E){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(d,f){const{refreshToken:E,accessToken:$,expirationTime:ue}=f,lt=new le;return E&&(Y("string"==typeof E,"internal-error",{appName:d}),lt.refreshToken=E),$&&(Y("string"==typeof $,"internal-error",{appName:d}),lt.accessToken=$),ue&&(Y("number"==typeof ue,"internal-error",{appName:d}),lt.expirationTime=ue),lt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return Ve("not implemented")}}function Le(g,d){Y("string"==typeof g||void 0===g,"internal-error",{appName:d})}class ie{constructor(d){var{uid:f,auth:E,stsTokenManager:$}=d,ue=(0,pe._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=E,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new fi(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,h.Z)(function*(){const E=yield xn(f,f.stsTokenManager.getToken(f.auth,d));return Y(E,f.auth,"internal-error"),f.accessToken!==E&&(f.accessToken=E,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),E})()}getIdTokenResult(d){return function bt(g){return Me.apply(this,arguments)}(this,d)}reload(){return function qi(g){return oe.apply(this,arguments)}(this)}_assign(d){this!==d&&(Y(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new ie(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var E=this;return(0,h.Z)(function*(){let $=!1;d.idToken&&d.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(d),$=!0),f&&(yield yi(E)),yield E.auth._persistUserIfCurrent(E),$&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var d=this;return(0,h.Z)(function*(){const f=yield d.getIdToken();return yield xn(d,function Q(g,d){return we.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var E,$,ue,lt,jt,mn,On,Yn;const zn=null!==(E=f.displayName)&&void 0!==E?E:void 0,Jr=null!==($=f.email)&&void 0!==$?$:void 0,bo=null!==(ue=f.phoneNumber)&&void 0!==ue?ue:void 0,Yl=null!==(lt=f.photoURL)&&void 0!==lt?lt:void 0,Th=null!==(jt=f.tenantId)&&void 0!==jt?jt:void 0,tl=null!==(mn=f._redirectEventId)&&void 0!==mn?mn:void 0,Pc=null!==(On=f.createdAt)&&void 0!==On?On:void 0,ld=null!==(Yn=f.lastLoginAt)&&void 0!==Yn?Yn:void 0,{uid:cd,emailVerified:Pa,isAnonymous:Cl,providerData:ud,stsTokenManager:Sh}=f;Y(cd&&Sh,d,"internal-error");const vp=le.fromJSON(this.name,Sh);Y("string"==typeof cd,d,"internal-error"),Le(zn,d.name),Le(Jr,d.name),Y("boolean"==typeof Pa,d,"internal-error"),Y("boolean"==typeof Cl,d,"internal-error"),Le(bo,d.name),Le(Yl,d.name),Le(Th,d.name),Le(tl,d.name),Le(Pc,d.name),Le(ld,d.name);const vu=new ie({uid:cd,auth:d,email:Jr,emailVerified:Pa,displayName:zn,isAnonymous:Cl,photoURL:Yl,phoneNumber:bo,tenantId:Th,stsTokenManager:vp,createdAt:Pc,lastLoginAt:ld});return ud&&Array.isArray(ud)&&(vu.providerData=ud.map(uo=>Object.assign({},uo))),tl&&(vu._redirectEventId=tl),vu}static _fromIdTokenResponse(d,f,E=!1){return(0,h.Z)(function*(){const $=new le;$.updateFromServerResponse(f);const ue=new ie({uid:f.localId,auth:d,stsTokenManager:$,isAnonymous:E});return yield yi(ue),ue})()}}const en=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(f,E){var $=this;return(0,h.Z)(function*(){$.storage[f]=E})()}_get(f){var E=this;return(0,h.Z)(function*(){const $=E.storage[f];return void 0===$?null:$})()}_remove(f){var E=this;return(0,h.Z)(function*(){delete E.storage[f]})()}_addListener(f,E){}_removeListener(f,E){}}return g.type="NONE",g})();function cn(g,d,f){return`firebase:${g}:${d}:${f}`}class bn{constructor(d,f,E){this.persistence=d,this.auth=f,this.userKey=E;const{config:$,name:ue}=this.auth;this.fullUserKey=cn(this.userKey,$.apiKey,ue),this.fullPersistenceKey=cn("persistence",$.apiKey,ue),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,h.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?ie._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,h.Z)(function*(){if(f.persistence===d)return;const E=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,E?f.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,E="authUser"){return(0,h.Z)(function*(){if(!f.length)return new bn(Je(en),d,E);const $=(yield Promise.all(f.map(function(){var On=(0,h.Z)(function*(Yn){if(yield Yn._isAvailable())return Yn});return function(Yn){return On.apply(this,arguments)}}()))).filter(On=>On);let ue=$[0]||Je(en);const lt=cn(E,d.config.apiKey,d.name);let jt=null;for(const On of f)try{const Yn=yield On._get(lt);if(Yn){const zn=ie._fromJSON(d,Yn);On!==ue&&(jt=zn),ue=On;break}}catch(Yn){}const mn=$.filter(On=>On._shouldAllowMigration);return ue._shouldAllowMigration&&mn.length?(ue=mn[0],jt&&(yield ue._set(lt,jt.toJSON())),yield Promise.all(f.map(function(){var On=(0,h.Z)(function*(Yn){if(Yn!==ue)try{yield Yn._remove(lt)}catch(zn){}});return function(Yn){return On.apply(this,arguments)}}())),new bn(ue,d,E)):new bn(ue,d,E)})()}}function bi(g){const d=g.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(ct(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(vt(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Et(d))return"Blackberry";if(Ae(d))return"Webos";if(Ye(d))return"Safari";if((d.includes("chrome/")||Re(d))&&!d.includes("edge/"))return"Chrome";if(zt(d))return"Android";{const E=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function vt(g=(0,S.z$)()){return/firefox\//i.test(g)}function Ye(g=(0,S.z$)()){const d=g.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Re(g=(0,S.z$)()){return/crios\//i.test(g)}function ct(g=(0,S.z$)()){return/iemobile/i.test(g)}function zt(g=(0,S.z$)()){return/android/i.test(g)}function Et(g=(0,S.z$)()){return/blackberry/i.test(g)}function Ae(g=(0,S.z$)()){return/webos/i.test(g)}function fe(g=(0,S.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function _n(g=(0,S.z$)()){return fe(g)||zt(g)||Ae(g)||Et(g)||/windows phone/i.test(g)||ct(g)}function Ln(g,d=[]){let f;switch(g){case"Browser":f=bi((0,S.z$)());break;case"Worker":f=`${bi((0,S.z$)())}-${g}`;break;default:f=g}const E=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${ae.SDK_VERSION}/${E}`}class jn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const E=ue=>new Promise((lt,jt)=>{try{lt(d(ue))}catch(mn){jt(mn)}});E.onAbort=f,this.queue.push(E);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,h.Z)(function*(){var E;if(f.auth.currentUser===d)return;const $=[];try{for(const ue of f.queue)yield ue(d),ue.onAbort&&$.push(ue.onAbort)}catch(ue){$.reverse();for(const lt of $)try{lt()}catch(jt){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=ue)||void 0===E?void 0:E.message})}})()}}class nn{constructor(d,f,E){this.app=d,this.heartbeatServiceProvider=f,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ri(this),this.idTokenSubscription=new ri(this),this.beforeStateQueue=new jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(d,f){var E=this;return f&&(this._popupRedirectResolver=Je(f)),this._initializationPromise=this.queue((0,h.Z)(function*(){var $,ue;if(!E._deleted&&(E.persistenceManager=yield bn.create(E,d),!E._deleted)){if(null===($=E._popupRedirectResolver)||void 0===$?void 0:$._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(lt){}yield E.initializeCurrentUser(f),E.lastNotifiedUid=(null===(ue=E.currentUser)||void 0===ue?void 0:ue.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,h.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,h.Z)(function*(){var E;const $=yield f.assertedPersistence.getCurrentUser();let ue=$,lt=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const jt=null===(E=f.redirectUser)||void 0===E?void 0:E._redirectEventId,mn=null==ue?void 0:ue._redirectEventId,On=yield f.tryRedirectSignIn(d);(!jt||jt===mn)&&(null==On?void 0:On.user)&&(ue=On.user,lt=!0)}if(!ue)return f.directlySetCurrentUser(null);if(!ue._redirectEventId){if(lt)try{yield f.beforeStateQueue.runMiddleware(ue)}catch(jt){ue=$,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(jt))}return ue?f.reloadAndSetCurrentUserOrClear(ue):f.directlySetCurrentUser(null)}return Y(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===ue._redirectEventId?f.directlySetCurrentUser(ue):f.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(d){var f=this;return(0,h.Z)(function*(){let E=null;try{E=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch($){yield f._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,h.Z)(function*(){var E;try{yield yi(d)}catch($){if("auth/network-request-failed"!==(null===(E=$)||void 0===E?void 0:E.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ue(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var d=this;return(0,h.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,h.Z)(function*(){const E=d?(0,S.m9)(d):null;return E&&Y(E.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(E&&E._clone(f))})()}_updateCurrentUser(d,f=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return d&&Y(E.tenantId===d.tenantId,E,"tenant-id-mismatch"),f||(yield E.beforeStateQueue.runMiddleware(d)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(d),E.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,h.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,h.Z)(function*(){yield f.assertedPersistence.setPersistence(Je(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new S.LL("auth","Firebase",d())}onAuthStateChanged(d,f,E){return this.registerStateListener(this.authStateSubscription,d,f,E)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,E){return this.registerStateListener(this.idTokenSubscription,d,f,E)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var E=this;return(0,h.Z)(function*(){const $=yield E.getOrInitRedirectPersistenceManager(f);return null===d?$.removeCurrentUser():$.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,h.Z)(function*(){if(!f.redirectPersistenceManager){const E=d&&Je(d)||f._popupRedirectResolver;Y(E,f,"argument-error"),f.redirectPersistenceManager=yield bn.create(f,[Je(E._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,h.Z)(function*(){var E,$;return f._isInitialized&&(yield f.queue((0,h.Z)(function*(){}))),(null===(E=f._currentUser)||void 0===E?void 0:E._redirectEventId)===d?f._currentUser:(null===($=f.redirectUser)||void 0===$?void 0:$._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,h.Z)(function*(){if(d===f.currentUser)return f.queue((0,h.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,E,$){if(this._deleted)return()=>{};const ue="function"==typeof f?f:f.next.bind(f),lt=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(lt,this,"internal-error"),lt.then(()=>ue(this.currentUser)),"function"==typeof f?d.addObserver(f,E,$):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,h.Z)(function*(){f.currentUser&&f.currentUser!==d&&f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh(),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,h.Z)(function*(){var f;const E={"X-Client-Version":d.clientVersion};d.app.options.appId&&(E["X-Firebase-gmpid"]=d.app.options.appId);const $=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return $&&(E["X-Firebase-Client"]=$),E})()}}function An(g){return(0,S.m9)(g)}class ri{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,S.ne)(f=>this.observer=f)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hi(g){const d=g.indexOf(":");return d<0?"":g.substr(0,d+1)}function br(g){if(!g)return null;const d=Number(g);return isNaN(d)?null:d}class $i{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Ve("not implemented")}_getIdTokenResponse(d){return Ve("not implemented")}_linkToIdToken(d,f){return Ve("not implemented")}_getReauthenticationResolver(d){return Ve("not implemented")}}function Ti(g,d){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(g,d){return ut(g,"POST","/v1/accounts:resetPassword",Ot(g,d))})).apply(this,arguments)}function kr(g,d){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(g,d){return ut(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function _s(g,d){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(g,d){return ut(g,"POST","/v1/accounts:update",Ot(g,d))})).apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(g,d){return De(g,"POST","/v1/accounts:signInWithPassword",Ot(g,d))})).apply(this,arguments)}function Fr(g,d){return dr.apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(g,d){return ut(g,"POST","/v1/accounts:sendOobCode",Ot(g,d))})).apply(this,arguments)}function ci(g,d){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(g,d){return Fr(g,d)})).apply(this,arguments)}function ys(g,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(g,d){return Fr(g,d)})).apply(this,arguments)}function Er(g,d){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,h.Z)(function*(g,d){return Fr(g,d)})).apply(this,arguments)}function zs(g,d){return or.apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(g,d){return Fr(g,d)})).apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(g,d){return De(g,"POST","/v1/accounts:signInWithEmailLink",Ot(g,d))})).apply(this,arguments)}function Co(){return(Co=(0,h.Z)(function*(g,d){return De(g,"POST","/v1/accounts:signInWithEmailLink",Ot(g,d))})).apply(this,arguments)}class er extends $i{constructor(d,f,E,$=null){super("password",E),this._email=d,this._password=f,this._tenantId=$}static _fromEmailAndPassword(d,f){return new er(d,f,"password")}static _fromEmailAndCode(d,f,E=null){return new er(d,f,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,h.Z)(function*(){switch(f.signInMethod){case"password":return function Fi(g,d){return Nr.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Ir(g,d){return Ws.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:tt(d,"internal-error")}})()}_linkToIdToken(d,f){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return kr(d,{idToken:f,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function vs(g,d){return Co.apply(this,arguments)}(d,{idToken:f,email:E._email,oobCode:E._password});default:tt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function zr(g,d){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(g,d){return De(g,"POST","/v1/accounts:signInWithIdp",Ot(g,d))})).apply(this,arguments)}class xi extends $i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new xi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):tt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:$}=f,ue=(0,pe._T)(f,["providerId","signInMethod"]);if(!E||!$)return null;const lt=new xi(E,$);return lt.idToken=ue.idToken||void 0,lt.accessToken=ue.accessToken||void 0,lt.secret=ue.secret,lt.nonce=ue.nonce,lt.pendingToken=ue.pendingToken||null,lt}_getIdTokenResponse(d){return zr(d,this.buildRequest())}_linkToIdToken(d,f){const E=this.buildRequest();return E.idToken=f,zr(d,E)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,zr(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,S.xO)(f)}return d}}function eo(g,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(g,d){return ut(g,"POST","/v1/accounts:sendVerificationCode",Ot(g,d))})).apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(g,d){return De(g,"POST","/v1/accounts:signInWithPhoneNumber",Ot(g,d))})).apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(g,d){const f=yield De(g,"POST","/v1/accounts:signInWithPhoneNumber",Ot(g,d));if(f.temporaryProof)throw Tt(g,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const fo={USER_NOT_FOUND:"user-not-found"};function Ks(){return(Ks=(0,h.Z)(function*(g,d){return De(g,"POST","/v1/accounts:signInWithPhoneNumber",Ot(g,Object.assign(Object.assign({},d),{operation:"REAUTH"})),fo)})).apply(this,arguments)}class is extends $i{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new is({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new is({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function Ps(g,d){return ns.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function ks(g,d){return Io.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function po(g,d){return Ks.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:E,verificationCode:$}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:E,code:$}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:E,phoneNumber:$,temporaryProof:ue}=d;return E||f||$||ue?new is({verificationId:f,verificationCode:E,phoneNumber:$,temporaryProof:ue}):null}}class bs{constructor(d){var f,E,$,ue,lt,jt;const mn=(0,S.zd)((0,S.pd)(d)),On=null!==(f=mn.apiKey)&&void 0!==f?f:null,Yn=null!==(E=mn.oobCode)&&void 0!==E?E:null,zn=function Ns(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=mn.mode)&&void 0!==$?$:null);Y(On&&Yn&&zn,"argument-error"),this.apiKey=On,this.operation=zn,this.code=Yn,this.continueUrl=null!==(ue=mn.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(lt=mn.languageCode)&&void 0!==lt?lt:null,this.tenantId=null!==(jt=mn.tenantId)&&void 0!==jt?jt:null}static parseLink(d){const f=function mr(g){const d=(0,S.zd)((0,S.pd)(g)).link,f=d?(0,S.zd)((0,S.pd)(d)).deep_link_id:null,E=(0,S.zd)((0,S.pd)(g)).deep_link_id;return(E?(0,S.zd)((0,S.pd)(E)).link:null)||E||f||d||g}(d);try{return new bs(f)}catch(E){return null}}}let $o=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(f,E){return er._fromEmailAndPassword(f,E)}static credentialWithLink(f,E){const $=bs.parseLink(E);return Y($,"argument-error"),er._fromEmailAndCode(f,$.code,$.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class ar{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Wr extends ar{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class xr extends Wr{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return Y("providerId"in f&&"signInMethod"in f,"argument-error"),xi._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Y(d.idToken||d.accessToken,"argument-error"),xi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return xr.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return xr.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:E,oauthTokenSecret:$,pendingToken:ue,nonce:lt,providerId:jt}=d;if(!E&&!$&&!f&&!ue||!jt)return null;try{return new xr(jt)._credential({idToken:f,accessToken:E,nonce:lt,pendingToken:ue})}catch(mn){return null}}}let Br=(()=>{class g extends Wr{constructor(){super("facebook.com")}static credential(f){return xi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch(E){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Fs=(()=>{class g extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,E){return xi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:E})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:E,oauthAccessToken:$}=f;if(!E&&!$)return null;try{return g.credential(E,$)}catch(ue){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Go=(()=>{class g extends Wr{constructor(){super("github.com")}static credential(f){return xi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch(E){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class wr extends $i{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return zr(d,this.buildRequest())}_linkToIdToken(d,f){const E=this.buildRequest();return E.idToken=f,zr(d,E)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,zr(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:$,pendingToken:ue}=f;return E&&$&&ue&&E===$?new wr(E,ue):null}static _create(d,f){return new wr(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hr extends ar{constructor(d){Y(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return hr.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return hr.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=wr.fromJSON(d);return Y(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:E}=d;if(!f||!E)return null;try{return wr._create(E,f)}catch($){return null}}}let ws=(()=>{class g extends Wr{constructor(){super("twitter.com")}static credential(f,E){return xi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:E})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:E,oauthTokenSecret:$}=f;if(!E||!$)return null;try{return g.credential(E,$)}catch(ue){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Oi(g,d){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(g,d){return De(g,"POST","/v1/accounts:signUp",Ot(g,d))})).apply(this,arguments)}class Cr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,E,$=!1){return(0,h.Z)(function*(){const ue=yield ie._fromIdTokenResponse(d,E,$),lt=Ri(E);return new Cr({user:ue,providerId:lt,_tokenResponse:E,operationType:f})})()}static _forOperation(d,f,E){return(0,h.Z)(function*(){yield d._updateTokensIfNecessary(E,!0);const $=Ri(E);return new Cr({user:d,providerId:$,_tokenResponse:E,operationType:f})})()}}function Ri(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function ss(){return(ss=(0,h.Z)(function*(g){var d;const f=An(g);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new Cr({user:f.currentUser,providerId:null,operationType:"signIn"});const E=yield Oi(f,{returnSecureToken:!0}),$=yield Cr._fromIdTokenResponse(f,"signIn",E,!0);return yield f._updateCurrentUser($.user),$})).apply(this,arguments)}class gr extends S.ZR{constructor(d,f,E,$){var ue;super(f.code,f.message),this.operationType=E,this.user=$,Object.setPrototypeOf(this,gr.prototype),this.customData={appName:d.name,tenantId:null!==(ue=d.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:f.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(d,f,E,$){return new gr(d,f,E,$)}}function cs(g,d,f,E){return("reauthenticate"===d?f._getReauthenticationResolver(g):f._getIdTokenResponse(g)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?gr._fromErrorAndOperation(g,ue,d,E):ue})}function Zr(g){return new Set(g.map(({providerId:d})=>d).filter(d=>!!d))}function gi(){return(gi=(0,h.Z)(function*(g,d){const f=(0,S.m9)(g);yield N(!0,f,d);const{providerUserInfo:E}=yield at(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),$=Zr(E||[]);return f.providerData=f.providerData.filter(ue=>$.has(ue.providerId)),$.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function V(g,d){return ee.apply(this,arguments)}function ee(){return(ee=(0,h.Z)(function*(g,d,f=!1){const E=yield xn(g,d._linkToIdToken(g.auth,yield g.getIdToken()),f);return Cr._forOperation(g,"link",E)})).apply(this,arguments)}function N(g,d,f){return ce.apply(this,arguments)}function ce(){return(ce=(0,h.Z)(function*(g,d,f){yield yi(d);const $=!1===g?"provider-already-linked":"no-such-provider";Y(Zr(d.providerData).has(f)===g,d.auth,$)})).apply(this,arguments)}function He(g,d){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(g,d,f=!1){var E;const{auth:$}=g,ue="reauthenticate";try{const lt=yield xn(g,cs($,ue,d,g),f);Y(lt.idToken,$,"internal-error");const jt=xt(lt.idToken);Y(jt,$,"internal-error");const{sub:mn}=jt;return Y(g.uid===mn,$,"user-mismatch"),Cr._forOperation(g,ue,lt)}catch(lt){throw"auth/user-not-found"===(null===(E=lt)||void 0===E?void 0:E.code)&&tt($,"user-mismatch"),lt}})).apply(this,arguments)}function Wt(g,d){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,h.Z)(function*(g,d,f=!1){const E="signIn",$=yield cs(g,E,d),ue=yield Cr._fromIdTokenResponse(g,E,$);return f||(yield g._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function $n(g,d){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(g,d){return Wt(An(g),d)})).apply(this,arguments)}function si(g,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(g,d){const f=(0,S.m9)(g);return yield N(!1,f,d.providerId),V(f,d)})).apply(this,arguments)}function Yi(g,d){return wi.apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(g,d){return He((0,S.m9)(g),d)})).apply(this,arguments)}function zi(g,d){return j.apply(this,arguments)}function j(){return(j=(0,h.Z)(function*(g,d){return De(g,"POST","/v1/accounts:signInWithCustomToken",Ot(g,d))})).apply(this,arguments)}function M(){return(M=(0,h.Z)(function*(g,d){const f=An(g),E=yield zi(f,{token:d,returnSecureToken:!0}),$=yield Cr._fromIdTokenResponse(f,"signIn",E);return yield f._updateCurrentUser($.user),$})).apply(this,arguments)}class ne{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?Bt._fromServerResponse(d,f):tt(d,"internal-error")}}class Bt extends ne{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new Bt(f)}}function Dn(g,d,f){var E;Y((null===(E=f.url)||void 0===E?void 0:E.length)>0,g,"invalid-continue-uri"),Y(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Y(f.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(Y(f.android.packageName.length>0,g,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function Vr(){return(Vr=(0,h.Z)(function*(g,d,f){const E=(0,S.m9)(g),$={requestType:"PASSWORD_RESET",email:d};f&&Dn(E,$,f),yield ys(E,$)})).apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(g,d,f){yield Ti((0,S.m9)(g),{oobCode:d,newPassword:f})})).apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(g,d){yield _s((0,S.m9)(g),{oobCode:d})})).apply(this,arguments)}function zo(g,d){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(g,d){const f=(0,S.m9)(g),E=yield Ti(f,{oobCode:d}),$=E.requestType;switch(Y($,f,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(E.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(E.mfaInfo,f,"internal-error");default:Y(E.email,f,"internal-error")}let ue=null;return E.mfaInfo&&(ue=ne._fromServerResponse(An(f),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:ue},operation:$}})).apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(g,d){const{data:f}=yield zo((0,S.m9)(g),d);return f.email})).apply(this,arguments)}function To(){return(To=(0,h.Z)(function*(g,d,f){const E=An(g),$=yield Oi(E,{returnSecureToken:!0,email:d,password:f}),ue=yield Cr._fromIdTokenResponse(E,"signIn",$);return yield E._updateCurrentUser(ue.user),ue})).apply(this,arguments)}function sa(){return(sa=(0,h.Z)(function*(g,d,f){const E=(0,S.m9)(g),$={requestType:"EMAIL_SIGNIN",email:d};Y(f.handleCodeInApp,E,"argument-error"),f&&Dn(E,$,f),yield Er(E,$)})).apply(this,arguments)}function fr(){return(fr=(0,h.Z)(function*(g,d,f){const E=(0,S.m9)(g),$=$o.credentialWithLink(d,f||kt());return Y($._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),$n(E,$)})).apply(this,arguments)}function Ls(g,d){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(g,d){return ut(g,"POST","/v1/accounts:createAuthUri",Ot(g,d))})).apply(this,arguments)}function _(){return(_=(0,h.Z)(function*(g,d){const E={identifier:d,continueUri:At()?kt():"http://localhost"},{signinMethods:$}=yield Ls((0,S.m9)(g),E);return $||[]})).apply(this,arguments)}function P(){return(P=(0,h.Z)(function*(g,d){const f=(0,S.m9)(g),$={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};d&&Dn(f.auth,$,d);const{email:ue}=yield ci(f.auth,$);ue!==g.email&&(yield g.reload())})).apply(this,arguments)}function Ee(){return(Ee=(0,h.Z)(function*(g,d,f){const E=(0,S.m9)(g),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:d};f&&Dn(E.auth,ue,f);const{email:lt}=yield zs(E.auth,ue);lt!==g.email&&(yield g.reload())})).apply(this,arguments)}function We(g,d){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(g,d){return ut(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Kt(){return(Kt=(0,h.Z)(function*(g,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const E=(0,S.m9)(g),ue={idToken:yield E.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},lt=yield xn(E,We(E.auth,ue));E.displayName=lt.displayName||null,E.photoURL=lt.photoUrl||null;const jt=E.providerData.find(({providerId:mn})=>"password"===mn);jt&&(jt.displayName=E.displayName,jt.photoURL=E.photoURL),yield E._updateTokensIfNecessary(lt)})).apply(this,arguments)}function Gn(g,d,f){return oi.apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(g,d,f){const{auth:E}=g,ue={idToken:yield g.getIdToken(),returnSecureToken:!0};d&&(ue.email=d),f&&(ue.password=f);const lt=yield xn(g,kr(E,ue));yield g._updateTokensIfNecessary(lt,!0)})).apply(this,arguments)}class Kn{constructor(d,f,E={}){this.isNewUser=d,this.providerId=f,this.profile=E}}class Pi extends Kn{constructor(d,f,E,$){super(d,f,E),this.username=$}}class tr extends Kn{constructor(d,f){super(d,"facebook.com",f)}}class ir extends Pi{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Ur extends Kn{constructor(d,f){super(d,"google.com",f)}}class Ci extends Pi{constructor(d,f,E){super(d,"twitter.com",f,E)}}function Or(g){const{user:d,_tokenResponse:f}=g;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Fn(g){var d,f;if(!g)return null;const{providerId:E}=g,$=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},ue=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!E&&(null==g?void 0:g.idToken)){const lt=null===(f=null===(d=xt(g.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(lt)return new Kn(ue,"anonymous"!==lt&&"custom"!==lt?lt:null)}if(!E)return null;switch(E){case"facebook.com":return new tr(ue,$);case"github.com":return new ir(ue,$);case"google.com":return new Ur(ue,$);case"twitter.com":return new Ci(ue,$,g.screenName||null);case"custom":case"anonymous":return new Kn(ue,null);default:return new Kn(ue,E,$)}}(f)}class hs{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new hs("enroll",d)}static _fromMfaPendingCredential(d){return new hs("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,E;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return hs._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(E=d.multiFactorSession)||void 0===E?void 0:E.idToken)return hs._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Mn{constructor(d,f,E){this.session=d,this.hints=f,this.signInResolver=E}static _fromError(d,f){const E=An(d),$=f.customData._serverResponse,ue=($.mfaInfo||[]).map(jt=>ne._fromServerResponse(E,jt));Y($.mfaPendingCredential,E,"internal-error");const lt=hs._fromMfaPendingCredential($.mfaPendingCredential);return new Mn(lt,ue,function(){var jt=(0,h.Z)(function*(mn){const On=yield mn._process(E,lt);delete $.mfaInfo,delete $.mfaPendingCredential;const Yn=Object.assign(Object.assign({},$),{idToken:On.idToken,refreshToken:On.refreshToken});switch(f.operationType){case"signIn":const zn=yield Cr._fromIdTokenResponse(E,f.operationType,Yn);return yield E._updateCurrentUser(zn.user),zn;case"reauthenticate":return Y(f.user,E,"internal-error"),Cr._forOperation(f.user,f.operationType,Yn);default:tt(E,"internal-error")}});return function(mn){return jt.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,h.Z)(function*(){return f.signInResolver(d)})()}}function Wn(g,d){return ut(g,"POST","/v2/accounts/mfaEnrollment:start",Ot(g,d))}class Is{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(E=>ne._fromServerResponse(d.auth,E)))})}static _fromUser(d){return new Is(d)}getSession(){var d=this;return(0,h.Z)(function*(){return hs._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var E=this;return(0,h.Z)(function*(){const $=d,ue=yield E.getSession(),lt=yield xn(E.user,$._process(E.user.auth,ue,f));return yield E.user._updateTokensIfNecessary(lt),E.user.reload()})()}unenroll(d){var f=this;return(0,h.Z)(function*(){var E;const $="string"==typeof d?d:d.uid,ue=yield f.user.getIdToken(),lt=yield xn(f.user,function Bi(g,d){return ut(g,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(g,d))}(f.user.auth,{idToken:ue,mfaEnrollmentId:$}));f.enrolledFactors=f.enrolledFactors.filter(({uid:jt})=>jt!==$),yield f.user._updateTokensIfNecessary(lt);try{yield f.user.reload()}catch(jt){if("auth/user-token-expired"!==(null===(E=jt)||void 0===E?void 0:E.code))throw jt}})()}}const rr=new WeakMap,ki="__sak";class Zo{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(ki,"1"),this.storage.removeItem(ki),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ts=(()=>{class g extends Zo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,E)=>this.onStorageEvent(f,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fs(){const g=(0,S.z$)();return Ye(g)||fe(g)}()&&function Rn(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=_n(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const E of Object.keys(this.listeners)){const $=this.storage.getItem(E),ue=this.localCache[E];$!==ue&&f(E,ue,$)}}onStorageEvent(f,E=!1){if(!f.key)return void this.forAllChangedKeys((jt,mn,On)=>{this.notifyListeners(jt,On)});const $=f.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const jt=this.storage.getItem($);if(f.newValue!==jt)null!==f.newValue?this.storage.setItem($,f.newValue):this.storage.removeItem($);else if(this.localCache[$]===f.newValue&&!E)return}const ue=()=>{const jt=this.storage.getItem($);!E&&this.localCache[$]===jt||this.notifyListeners($,jt)},lt=this.storage.getItem($);!function Zt(){return(0,S.w1)()&&10===document.documentMode}()||lt===f.newValue||f.newValue===f.oldValue?ue():setTimeout(ue,10)}notifyListeners(f,E){this.localCache[f]=E;const $=this.listeners[f];if($)for(const ue of Array.from($))ue(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,E,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:E,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(E)}_removeListener(f,E){this.listeners[f]&&(this.listeners[f].delete(E),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,E){var $=()=>super._set,ue=this;return(0,h.Z)(function*(){yield $().call(ue,f,E),ue.localCache[f]=JSON.stringify(E)})()}_get(f){var E=()=>super._get,$=this;return(0,h.Z)(function*(){const ue=yield E().call($,f);return $.localCache[f]=JSON.stringify(ue),ue})()}_remove(f){var E=()=>super._remove,$=this;return(0,h.Z)(function*(){yield E().call($,f),delete $.localCache[f]})()}}return g.type="LOCAL",g})(),Vs=(()=>{class g extends Zo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,E){}_removeListener(f,E){}}return g.type="SESSION",g})();let Ha=(()=>{class g{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const E=this.receivers.find(ue=>ue.isListeningto(f));if(E)return E;const $=new g(f);return this.receivers.push($),$}isListeningto(f){return this.eventTarget===f}handleEvent(f){var E=this;return(0,h.Z)(function*(){const $=f,{eventId:ue,eventType:lt,data:jt}=$.data,mn=E.handlersMap[lt];if(!(null==mn?void 0:mn.size))return;$.ports[0].postMessage({status:"ack",eventId:ue,eventType:lt});const On=Array.from(mn).map(function(){var zn=(0,h.Z)(function*(Jr){return Jr($.origin,jt)});return function(Jr){return zn.apply(this,arguments)}}()),Yn=yield function ul(g){return Promise.all(g.map(function(){var d=(0,h.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(E){return{fulfilled:!1,reason:E}}});return function(f){return d.apply(this,arguments)}}()))}(On);$.ports[0].postMessage({status:"done",eventId:ue,eventType:lt,response:Yn})})()}_subscribe(f,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(E)}_unsubscribe(f,E){this.handlersMap[f]&&E&&this.handlersMap[f].delete(E),(!E||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function so(g="",d=10){let f="";for(let E=0;E<d;E++)f+=Math.floor(10*Math.random());return g+f}class dl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,E=50){var $=this;return(0,h.Z)(function*(){const ue="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let lt,jt;return new Promise((mn,On)=>{const Yn=so("",20);ue.port1.start();const zn=setTimeout(()=>{On(new Error("unsupported_event"))},E);jt={messageChannel:ue,onMessage(Jr){const bo=Jr;if(bo.data.eventId===Yn)switch(bo.data.status){case"ack":clearTimeout(zn),lt=setTimeout(()=>{On(new Error("timeout"))},3e3);break;case"done":clearTimeout(lt),mn(bo.data.response);break;default:clearTimeout(zn),clearTimeout(lt),On(new Error("invalid_response"))}}},$.handlers.add(jt),ue.port1.addEventListener("message",jt.onMessage),$.target.postMessage({eventType:d,eventId:Yn,data:f},[ue.port2])}).finally(()=>{jt&&$.removeMessageHandler(jt)})})()}}function Xi(){return window}function oa(){return void 0!==Xi().WorkerGlobalScope&&"function"==typeof Xi().importScripts}function D(){return(D=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const G="firebaseLocalStorageDb",xe="firebaseLocalStorage",Xe="fbase_key";class $t{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Gt(g,d){return g.transaction([xe],d?"readwrite":"readonly").objectStore(xe)}function Bn(){const g=indexedDB.open(G,1);return new Promise((d,f)=>{g.addEventListener("error",()=>{f(g.error)}),g.addEventListener("upgradeneeded",()=>{const E=g.result;try{E.createObjectStore(xe,{keyPath:Xe})}catch($){f($)}}),g.addEventListener("success",(0,h.Z)(function*(){const E=g.result;E.objectStoreNames.contains(xe)?d(E):(E.close(),yield function pn(){const g=indexedDB.deleteDatabase(G);return new $t(g).toPromise()}(),d(yield Bn()))}))})}function on(g,d,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(g,d,f){const E=Gt(g,!0).put({[Xe]:d,value:f});return new $t(E).toPromise()})).apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(g,d){const f=Gt(g,!1).get(d),E=yield new $t(f).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ma(g,d){const f=Gt(g,!0).delete(d);return new $t(f).toPromise()}const Ta=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,h.Z)(function*(){return f.db||(f.db=yield Bn()),f.db})()}_withRetries(f){var E=this;return(0,h.Z)(function*(){let $=0;for(;;)try{const ue=yield E._openDb();return yield f(ue)}catch(ue){if($++>3)throw ue;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,h.Z)(function*(){return oa()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,h.Z)(function*(){f.receiver=Ha._getInstance(function U(){return oa()?self:null}()),f.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*($,ue){return{keyProcessed:(yield f._poll()).includes(ue.key)}});return function($,ue){return E.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*($,ue){return["keyChanged"]});return function($,ue){return E.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,h.Z)(function*(){var E,$;if(f.activeServiceWorker=yield function A(){return D.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new dl(f.activeServiceWorker);const ue=yield f.sender._send("ping",{},800);!ue||(null===(E=ue[0])||void 0===E?void 0:E.fulfilled)&&(null===($=ue[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function b(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:f},E.serviceWorkerReceiverAvailable?800:50)}catch($){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Bn();return yield on(f,ki,"1"),yield ma(f,ki),!0}catch(f){}return!1})()}_withPendingWrite(f){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield f()}finally{E.pendingWrites--}})()}_set(f,E){var $=this;return(0,h.Z)(function*(){return $._withPendingWrite((0,h.Z)(function*(){return yield $._withRetries(ue=>on(ue,f,E)),$.localCache[f]=E,$.notifyServiceWorker(f)}))})()}_get(f){var E=this;return(0,h.Z)(function*(){const $=yield E._withRetries(ue=>function Jt(g,d){return Ji.apply(this,arguments)}(ue,f));return E.localCache[f]=$,$})()}_remove(f){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries($=>ma($,f)),delete E.localCache[f],E.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,h.Z)(function*(){const E=yield f._withRetries(lt=>{const jt=Gt(lt,!1).getAll();return new $t(jt).toPromise()});if(!E)return[];if(0!==f.pendingWrites)return[];const $=[],ue=new Set;for(const{fbase_key:lt,value:jt}of E)ue.add(lt),JSON.stringify(f.localCache[lt])!==JSON.stringify(jt)&&(f.notifyListeners(lt,jt),$.push(lt));for(const lt of Object.keys(f.localCache))f.localCache[lt]&&!ue.has(lt)&&(f.notifyListeners(lt,null),$.push(lt));return $})()}notifyListeners(f,E){this.localCache[f]=E;const $=this.listeners[f];if($)for(const ue of Array.from($))ue(E)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(E)}_removeListener(f,E){this.listeners[f]&&(this.listeners[f].delete(E),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function Fl(g,d){return ut(g,"POST","/v2/accounts/mfaSignIn:start",Ot(g,d))}function hl(){return(hl=(0,h.Z)(function*(g){return(yield ut(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oo(g){return new Promise((d,f)=>{const E=document.createElement("script");E.setAttribute("src",g),E.onload=d,E.onerror=$=>{const ue=be("internal-error");ue.customData=$,f(ue)},E.type="text/javascript",E.charset="UTF-8",function Ll(){var g,d;return null!==(d=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==d?d:document}().appendChild(E)})}function Qn(g){return`__${g}${Math.floor(1e6*Math.random())}`}const Ki=1e12;class Zn{constructor(d){this.auth=d,this.counter=Ki,this._widgets=new Map}render(d,f){const E=this.counter;return this._widgets.set(E,new Bl(d,this.auth.name,f||{})),this.counter++,E}reset(d){var f;const E=d||Ki;null===(f=this._widgets.get(E))||void 0===f||f.delete(),this._widgets.delete(E)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Ki))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,h.Z)(function*(){var E;return null===(E=f._widgets.get(d||Ki))||void 0===E||E.execute(),""})()}}class Bl{constructor(d,f,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof d?document.getElementById(d):d;Y($,"argument-error",{appName:f}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vi(g){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<g;E++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Tr=Qn("rcb"),Sr=new Dt(3e4,6e4);class fl{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(d=Xi().grecaptcha)||void 0===d?void 0:d.render)}load(d,f=""){return Y(function $u(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Xi().grecaptcha):new Promise((E,$)=>{const ue=Xi().setTimeout(()=>{$(be(d,"network-request-failed"))},Sr.get());Xi()[Tr]=()=>{Xi().clearTimeout(ue),delete Xi()[Tr];const jt=Xi().grecaptcha;if(!jt)return void $(be(d,"internal-error"));const mn=jt.render;jt.render=(On,Yn)=>{const zn=mn(On,Yn);return this.counter++,zn},this.hostLanguage=f,E(jt)},Oo(`https://www.google.com/recaptcha/api.js??${(0,S.xO)({onload:Tr,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(ue),$(be(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!!(null===(f=Xi().grecaptcha)||void 0===f?void 0:f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pl{load(d){return(0,h.Z)(function*(){return new Zn(d)})()}clearedOneInstance(){}}const oh="recaptcha",iu={theme:"light",type:"image"};class Vl{constructor(d,f=Object.assign({},iu),E){this.parameters=f,this.type=oh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(E),this.isInvisible="invisible"===this.parameters.size,Y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof d?document.getElementById(d):d;Y($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pl:new fl,this.validateStartingState()}verify(){var d=this;return(0,h.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),E=d.getAssertedRecaptcha();return E.getResponse(f)||new Promise(ue=>{const lt=jt=>{!jt||(d.tokenChangeListeners.delete(lt),ue(jt))};d.tokenChangeListeners.add(lt),d.isInvisible&&E.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(E=>E(f)),"function"==typeof d)d(f);else if("string"==typeof d){const E=Xi()[d];"function"==typeof E&&E(f)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,h.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const E=document.createElement("div");f.appendChild(E),f=E}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,h.Z)(function*(){Y(At()&&!oa(),d.auth,"internal-error"),yield function Ul(){let g=null;return new Promise(d=>{"complete"!==document.readyState?(g=()=>d(),window.addEventListener("load",g)):d()}).catch(d=>{throw g&&window.removeEventListener("load",g),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function qo(g){return hl.apply(this,arguments)}(d.auth);Y(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rr{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=is._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function jr(){return(jr=(0,h.Z)(function*(g,d,f){const E=An(g),$=yield Ma(E,d,(0,S.m9)(f));return new Rr($,ue=>$n(E,ue))})).apply(this,arguments)}function jl(){return(jl=(0,h.Z)(function*(g,d,f){const E=(0,S.m9)(g);yield N(!1,E,"phone");const $=yield Ma(E.auth,d,(0,S.m9)(f));return new Rr($,ue=>si(E,ue))})).apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(g,d,f){const E=(0,S.m9)(g),$=yield Ma(E.auth,d,(0,S.m9)(f));return new Rr($,ue=>Yi(E,ue))})).apply(this,arguments)}function Ma(g,d,f){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,h.Z)(function*(g,d,f){var E;const $=yield f.verify();try{let ue;if(Y("string"==typeof $,g,"argument-error"),Y(f.type===oh,g,"argument-error"),ue="string"==typeof d?{phoneNumber:d}:d,"session"in ue){const lt=ue.session;if("phoneNumber"in ue)return Y("enroll"===lt.type,g,"internal-error"),(yield Wn(g,{idToken:lt.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{Y("signin"===lt.type,g,"internal-error");const jt=(null===(E=ue.multiFactorHint)||void 0===E?void 0:E.uid)||ue.multiFactorUid;return Y(jt,g,"missing-multi-factor-info"),(yield Fl(g,{mfaPendingCredential:lt.credential,mfaEnrollmentId:jt,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:lt}=yield eo(g,{phoneNumber:ue.phoneNumber,recaptchaToken:$});return lt}}finally{f._reset()}})).apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(g,d){yield V((0,S.m9)(g),d)})).apply(this,arguments)}let gl=(()=>{class g{constructor(f){this.providerId=g.PROVIDER_ID,this.auth=An(f)}verifyPhoneNumber(f,E){return Ma(this.auth,f,(0,S.m9)(E))}static credential(f,E){return is._fromVerification(f,E)}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:E,temporaryProof:$}=f;return E&&$?is._fromTokenResponse(E,$):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Po(g,d){return d?Je(d):(Y(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class aa extends $i{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return zr(d,this._buildIdpRequest())}_linkToIdToken(d,f){return zr(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return zr(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function ah(g){return Wt(g.auth,new aa(g),g.bypassAuthState)}function Yo(g){const{auth:d,user:f}=g;return Y(f,d,"internal-error"),He(f,new aa(g),g.bypassAuthState)}function Ss(g){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(g){const{auth:d,user:f}=g;return Y(f,d,"internal-error"),V(f,new aa(g),g.bypassAuthState)})).apply(this,arguments)}class ca{constructor(d,f,E,$,ue=!1){this.auth=d,this.resolver=E,this.user=$,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,h.Z)(function*(E,$){d.pendingPromise={resolve:E,reject:$};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ue){d.reject(ue)}});return function(E,$){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:$,postBody:ue,tenantId:lt,error:jt,type:mn}=d;if(jt)return void f.reject(jt);const On={auth:f.auth,requestUri:E,sessionId:$,tenantId:lt||void 0,postBody:ue||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(mn)(On))}catch(Yn){f.reject(Yn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ah;case"linkViaPopup":case"linkViaRedirect":return Ss;case"reauthViaPopup":case"reauthViaRedirect":return Yo;default:tt(this.auth,"internal-error")}}resolve(d){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const su=new Dt(2e3,1e4);function $a(){return($a=(0,h.Z)(function*(g,d,f){const E=An(g);Se(g,d,ar);const $=Po(E,f);return new Hr(E,"signInViaPopup",d,$).executeNotNull()})).apply(this,arguments)}function yc(){return(yc=(0,h.Z)(function*(g,d,f){const E=(0,S.m9)(g);Se(E.auth,d,ar);const $=Po(E.auth,f);return new Hr(E.auth,"reauthViaPopup",d,$,E).executeNotNull()})).apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(g,d,f){const E=(0,S.m9)(g);Se(E.auth,d,ar);const $=Po(E.auth,f);return new Hr(E.auth,"linkViaPopup",d,$,E).executeNotNull()})).apply(this,arguments)}let Hr=(()=>{class g extends ca{constructor(f,E,$,ue,lt){super(f,E,ue,lt),this.provider=$,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var f=this;return(0,h.Z)(function*(){const E=yield f.execute();return Y(E,f.auth,"internal-error"),E})()}onExecution(){var f=this;return(0,h.Z)(function*(){ve(1===f.filter.length,"Popup operations only handle one event");const E=so();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],E),f.authWindow.associatedEvent=E,f.resolver._originValidation(f.auth).catch($=>{f.reject($)}),f.resolver._isIframeWebStorageSupported(f.auth,$=>{$||f.reject(be(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const f=()=>{var E,$;this.pollId=(null===($=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===$?void 0:$.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,su.get())};f()}}return g.currentPopupAction=null,g})();const Qo=new Map;class _l extends ca{constructor(d,f,E=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,E),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,h.Z)(function*(){let E=Qo.get(f.auth._key());if(!E){try{const ue=(yield function ms(g,d){return ko.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;E=()=>Promise.resolve(ue)}catch($){E=()=>Promise.reject($)}Qo.set(f.auth._key(),E)}return f.bypassAuthState||Qo.set(f.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(E,d);if("unknown"!==d.type){if(d.eventId){const $=yield E.auth._redirectUserForId(d.eventId);if($)return E.user=$,f().call(E,d);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ko(){return(ko=(0,h.Z)(function*(g,d){const f=Hl(d),E=Xo(g);if(!(yield E._isAvailable()))return!1;const $="true"===(yield E._get(f));return yield E._remove(f),$})).apply(this,arguments)}function yr(g,d){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(g,d){return Xo(g)._set(Hl(d),"true")})).apply(this,arguments)}function Dr(g,d){Qo.set(g._key(),d)}function Xo(g){return Je(g._redirectPersistence)}function Hl(g){return cn("pendingRedirect",g.config.apiKey,g.name)}function R(){return(R=(0,h.Z)(function*(g,d,f){const E=An(g);Se(g,d,ar);const $=Po(E,f);return yield yr($,E),$._openRedirect(E,d,"signInViaRedirect")})).apply(this,arguments)}function Ne(){return(Ne=(0,h.Z)(function*(g,d,f){const E=(0,S.m9)(g);Se(E.auth,d,ar);const $=Po(E.auth,f);yield yr($,E.auth);const ue=yield qn(E);return $._openRedirect(E.auth,d,"reauthViaRedirect",ue)})).apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(g,d,f){const E=(0,S.m9)(g);Se(E.auth,d,ar);const $=Po(E.auth,f);yield N(!1,E,d.providerId),yield yr($,E.auth);const ue=yield qn(E);return $._openRedirect(E.auth,d,"linkViaRedirect",ue)})).apply(this,arguments)}function Vn(){return(Vn=(0,h.Z)(function*(g,d){return yield An(g)._initializationPromise,Xn(g,d,!1)})).apply(this,arguments)}function Xn(g,d){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(g,d,f=!1){const E=An(g),$=Po(E,d),lt=yield new _l(E,$,f).execute();return lt&&!f&&(delete lt.user._redirectEventId,yield E._persistUserIfCurrent(lt.user),yield E._setRedirectUser(null,d)),lt})).apply(this,arguments)}function qn(g){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(g){const d=so(`${g.uid}:::`);return g._redirectEventId=d,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),d})).apply(this,arguments)}class yo{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(d,E)&&(f=!0,this.sendToConsumer(d,E),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function vc(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qs(g);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var E;if(d.error&&!qs(d)){const $=(null===(E=d.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";f.onError(be(this.auth,$))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const E=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&E}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(d))}saveEventToCache(d){this.cachedEventUids.add(Jo(d)),this.lastProcessedEventTime=Date.now()}}function Jo(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(d=>d).join("-")}function qs({type:g,error:d}){return"unknown"===g&&"auth/no-auth-event"===(null==d?void 0:d.code)}function vl(g){return ea.apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(g,d={}){return ut(g,"GET","/v1/projects",d)})).apply(this,arguments)}const Ms=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,No=/^https?/;function lh(){return(lh=(0,h.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:d}=yield vl(g);for(const f of d)try{if(Gu(f))return}catch(E){}tt(g,"unauthorized-domain")})).apply(this,arguments)}function Gu(g){const d=kt(),{protocol:f,hostname:E}=new URL(d);if(g.startsWith("chrome-extension://")){const lt=new URL(g);return""===lt.hostname&&""===E?"chrome-extension:"===f&&g.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&lt.hostname===E}if(!No.test(f))return!1;if(Ms.test(g))return E===g;const $=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(E)}const ch=new Dt(3e4,6e4);function js(){const g=Xi().___jsl;if(null==g?void 0:g.H)for(const d of Object.keys(g.H))if(g.H[d].r=g.H[d].r||[],g.H[d].L=g.H[d].L||[],g.H[d].r=[...g.H[d].L],g.CP)for(let f=0;f<g.CP.length;f++)g.CP[f]=null}let cr=null;function lp(g){return cr=cr||function uh(g){return new Promise((d,f)=>{var E,$,ue;function lt(){js(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{js(),f(be(g,"network-request-failed"))},timeout:ch.get()})}if(null===($=null===(E=Xi().gapi)||void 0===E?void 0:E.iframes)||void 0===$?void 0:$.Iframe)d(gapi.iframes.getContext());else{if(!(null===(ue=Xi().gapi)||void 0===ue?void 0:ue.load)){const jt=Qn("iframefcb");return Xi()[jt]=()=>{gapi.load?lt():f(be(g,"network-request-failed"))},Oo(`https://apis.google.com/js/api.js?onload=${jt}`).catch(mn=>f(mn))}lt()}}).catch(d=>{throw cr=null,d})}(g),cr}const bc=new Dt(5e3,15e3),Ec={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},au=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zu(g){const d=g.config;Y(d.authDomain,g,"auth-domain-config-required");const f=d.emulator?Mt(d,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,E={apiKey:d.apiKey,appName:g.name,v:ae.SDK_VERSION},$=au.get(g.config.apiHost);$&&(E.eid=$);const ue=g._getFrameworks();return ue.length&&(E.fw=ue.join(",")),`${f}?${(0,S.xO)(E).slice(1)}`}function Gl(){return Gl=(0,h.Z)(function*(g){const d=yield lp(g),f=Xi().gapi;return Y(f,g,"internal-error"),d.open({where:document.body,url:zu(g),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ec,dontclear:!0},E=>new Promise(function(){var $=(0,h.Z)(function*(ue,lt){yield E.restyle({setHideOnLeave:!1});const jt=be(g,"network-request-failed"),mn=Xi().setTimeout(()=>{lt(jt)},bc.get());function On(){Xi().clearTimeout(mn),ue(E)}E.ping(On).then(On,()=>{lt(jt)})});return function(ue,lt){return $.apply(this,arguments)}}()))}),Gl.apply(this,arguments)}const As={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ph{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Fo(g,d,f,E,$,ue){Y(g.config.authDomain,g,"auth-domain-config-required"),Y(g.config.apiKey,g,"invalid-api-key");const lt={apiKey:g.config.apiKey,appName:g.name,authType:f,redirectUrl:E,v:ae.SDK_VERSION,eventId:$};if(d instanceof ar){d.setDefaultLanguage(g.languageCode),lt.providerId=d.providerId||"",(0,S.xb)(d.getCustomParameters())||(lt.customParameters=JSON.stringify(d.getCustomParameters()));for(const[mn,On]of Object.entries(ue||{}))lt[mn]=On}if(d instanceof Wr){const mn=d.getScopes().filter(On=>""!==On);mn.length>0&&(lt.scopes=mn.join(","))}g.tenantId&&(lt.tid=g.tenantId);const jt=lt;for(const mn of Object.keys(jt))void 0===jt[mn]&&delete jt[mn];return`${function mh({config:g}){return g.emulator?Mt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,S.xO)(jt).slice(1)}`}const lu="webStorageSupport";class Ka extends class _h{constructor(d){this.factorId=d}_process(d,f,E){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,E);case"signin":return this._finalizeSignIn(d,f.credential);default:return Ve("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Ka(d)}_finalizeEnroll(d,f,E){return function ai(g,d){return ut(g,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(g,d))}(d,{idToken:f,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function Sa(g,d){return ut(g,"POST","/v2/accounts/mfaSignIn:finalize",Ot(g,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wu=(()=>{class g{constructor(){}static assertion(f){return Ka._fromCredential(f)}}return g.FACTOR_ID="phone",g})();var cu="@firebase/auth";class Ku{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,h.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(E=>{var $;d((null===($=E)||void 0===$?void 0:$.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ao(){return window}function Ra(){return(Ra=(0,h.Z)(function*(g,d,f){var E;const{BuildInfo:$}=ao();ve(d.sessionId,"AuthEvent did not contain a session ID");const ue=yield Wl(d.sessionId),lt={};return fe()?lt.ibi=$.packageName:zt()?lt.apn=$.packageName:tt(g,"operation-not-supported-in-this-environment"),$.displayName&&(lt.appDisplayName=$.displayName),lt.sessionId=ue,Fo(g,f,d.type,void 0,null!==(E=d.eventId)&&void 0!==E?E:void 0,lt)})).apply(this,arguments)}function Cc(){return(Cc=(0,h.Z)(function*(g){const{BuildInfo:d}=ao(),f={};fe()?f.iosBundleId=d.packageName:zt()?f.androidPackageName=d.packageName:tt(g,"operation-not-supported-in-this-environment"),yield vl(g,f)})).apply(this,arguments)}function Qu(){return(Qu=(0,h.Z)(function*(g,d,f){const{cordova:E}=ao();let $=()=>{};try{yield new Promise((ue,lt)=>{let jt=null;function mn(){var zn;ue();const Jr=null===(zn=E.plugins.browsertab)||void 0===zn?void 0:zn.close;"function"==typeof Jr&&Jr(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function On(){jt||(jt=window.setTimeout(()=>{lt(be(g,"redirect-cancelled-by-user"))},2e3))}function Yn(){"visible"===(null==document?void 0:document.visibilityState)&&On()}d.addPassiveListener(mn),document.addEventListener("resume",On,!1),zt()&&document.addEventListener("visibilitychange",Yn,!1),$=()=>{d.removePassiveListener(mn),document.removeEventListener("resume",On,!1),document.removeEventListener("visibilitychange",Yn,!1),jt&&window.clearTimeout(jt)}})}finally{$()}})).apply(this,arguments)}function Wl(g){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,h.Z)(function*(g){const d=Xu(g),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xu(g){if(ve(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const d=new ArrayBuffer(g.length),f=new Uint8Array(d);for(let E=0;E<g.length;E++)f[E]=g.charCodeAt(E);return f}!function Lo(g){(0,ae._registerComponent)(new Pe.wA("auth",(d,{options:f})=>{const E=d.getProvider("app").getImmediate(),$=d.getProvider("heartbeat"),{apiKey:ue,authDomain:lt}=E.options;return((jt,mn)=>{Y(ue&&!ue.includes(":"),"invalid-api-key",{appName:jt.name}),Y(!(null==lt?void 0:lt.includes(":")),"argument-error",{appName:jt.name});const On={apiKey:ue,authDomain:lt,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ln(g)},Yn=new nn(jt,mn,On);return function dt(g,d){const f=(null==d?void 0:d.persistence)||[],E=(Array.isArray(f)?f:[f]).map(Je);(null==d?void 0:d.errorMap)&&g._updateErrorMap(d.errorMap),g._initializeWithPersistence(E,null==d?void 0:d.popupRedirectResolver)}(Yn,f),Yn})(E,$)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,E)=>{d.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Pe.wA("auth-internal",d=>{const f=An(d.getProvider("auth").getImmediate());return new Ku(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(cu,"0.20.6",function zl(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,ae.registerVersion)(cu,"0.20.6","esm2017")}("Browser");class Ic extends yo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,h.Z)(function*(){yield d.initPromise})()}}function qa(g){return du.apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(g){const d=yield El()._get(Ya(g));return d&&(yield El()._remove(Ya(g))),d})).apply(this,arguments)}function Ju(){const g=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const E=Math.floor(Math.random()*d.length);g.push(d.charAt(E))}return g.join("")}function El(){return Je(Ts)}function Ya(g){return cn("authEvent",g.config.apiKey,g.name)}function di(g){if(!(null==g?void 0:g.includes("?")))return{};const[d,...f]=g.split("?");return(0,S.zd)(f.join("?"))}function td(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Bo(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function Eh(g=(0,S.z$)()){return!("file:"!==Bo()&&"ionic:"!==Bo()&&"capacitor:"!==Bo()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function $r(){try{const g=self.localStorage,d=so();if(g)return g.setItem(d,"1"),g.removeItem(d),!function wh(g=(0,S.z$)()){return function as(){return(0,S.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Sc(g=(0,S.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,S.hl)()}catch(g){return ti()&&(0,S.hl)()}return!1}function ti(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qa(){return(function _p(){return"http:"===Bo()||"https:"===Bo()}()||(0,S.ru)()||Eh())&&!function ql(){return(0,S.b$)()||(0,S.UG)()}()&&$r()&&!ti()}function Mc(){return Eh()&&"undefined"!=typeof document}function nd(){return(nd=(0,h.Z)(function*(){return!!Mc()&&new Promise(g=>{const d=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),g(!0)})})})).apply(this,arguments)}const vo={LOCAL:"local",NONE:"none",SESSION:"session"},ya=Y,id="persistence";function mu(g){return wl.apply(this,arguments)}function wl(){return(wl=(0,h.Z)(function*(g){yield g._initializationPromise;const d=Ch(),f=cn(id,g.config.apiKey,g.name);d&&d.setItem(f,g._getPersistence())})).apply(this,arguments)}function Ch(){var g;try{return(null===(g=function lo(){return"undefined"!=typeof window?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch(d){return null}}const Ei=Y;class va{constructor(){this.browserResolver=Je(class gh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vs,this._completeRedirectFn=Xn,this._overrideRedirectResult=Dr}_openPopup(d,f,E,$){var ue=this;return(0,h.Z)(function*(){var lt;ve(null===(lt=ue.eventManagers[d._key()])||void 0===lt?void 0:lt.manager,"_initialize() not called before _openPopup()");const jt=Fo(d,f,E,kt(),$);return function cp(g,d,f,E=500,$=600){const ue=Math.max((window.screen.availHeight-$)/2,0).toString(),lt=Math.max((window.screen.availWidth-E)/2,0).toString();let jt="";const mn=Object.assign(Object.assign({},As),{width:E.toString(),height:$.toString(),top:ue,left:lt}),On=(0,S.z$)().toLowerCase();f&&(jt=Re(On)?"_blank":f),vt(On)&&(d=d||"http://localhost",mn.scrollbars="yes");const Yn=Object.entries(mn).reduce((Jr,[bo,Yl])=>`${Jr}${bo}=${Yl},`,"");if(function Nt(g=(0,S.z$)()){var d;return fe(g)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(On)&&"_self"!==jt)return function up(g,d){const f=document.createElement("a");f.href=g,f.target=d;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(E)}(d||"",jt),new ph(null);const zn=window.open(d||"",jt,Yn);Y(zn,g,"popup-blocked");try{zn.focus()}catch(Jr){}return new ph(zn)}(d,jt,so())})()}_openRedirect(d,f,E,$){var ue=this;return(0,h.Z)(function*(){return yield ue._originValidation(d),function Ia(g){Xi().location.href=g}(Fo(d,f,E,kt(),$)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:$,promise:ue}=this.eventManagers[f];return $?Promise.resolve($):(ve(ue,"If manager is not set, promise should be"),ue)}const E=this.initAndGetManager(d);return this.eventManagers[f]={promise:E},E.catch(()=>{delete this.eventManagers[f]}),E}initAndGetManager(d){var f=this;return(0,h.Z)(function*(){const E=yield function wc(g){return Gl.apply(this,arguments)}(d),$=new yo(d);return E.register("authEvent",ue=>(Y(null==ue?void 0:ue.authEvent,d,"invalid-auth-event"),{status:$.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:$},f.iframes[d._key()]=E,$})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(lu,{type:lu},$=>{var ue;const lt=null===(ue=null==$?void 0:$[0])||void 0===ue?void 0:ue[lu];void 0!==lt&&f(!!lt),tt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function ou(g){return lh.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return _n()||Ye()||fe()}}),this.cordovaResolver=Je(class fu{constructor(){this._redirectPersistence=Vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xn,this._overrideRedirectResult=Dr}_initialize(d){var f=this;return(0,h.Z)(function*(){const E=d._key();let $=f.eventManagers.get(E);return $||($=new Ic(d),f.eventManagers.set(E,$),f.attachCallbackListeners(d,$)),$})()}_openPopup(d){tt(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,E,$){var ue=this;return(0,h.Z)(function*(){!function fp(g){var d,f,E,$,ue,lt,jt,mn,On,Yn;const zn=ao();Y("function"==typeof(null===(d=null==zn?void 0:zn.universalLinks)||void 0===d?void 0:d.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(void 0!==(null===(f=null==zn?void 0:zn.BuildInfo)||void 0===f?void 0:f.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y("function"==typeof(null===(ue=null===($=null===(E=null==zn?void 0:zn.cordova)||void 0===E?void 0:E.plugins)||void 0===$?void 0:$.browsertab)||void 0===ue?void 0:ue.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(mn=null===(jt=null===(lt=null==zn?void 0:zn.cordova)||void 0===lt?void 0:lt.plugins)||void 0===jt?void 0:jt.browsertab)||void 0===mn?void 0:mn.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(Yn=null===(On=null==zn?void 0:zn.cordova)||void 0===On?void 0:On.InAppBrowser)||void 0===Yn?void 0:Yn.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const lt=yield ue._initialize(d);yield lt.initialized(),lt.resetRedirect(),function xa(){Qo.clear()}(),yield ue._originValidation(d);const jt=function Za(g,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:Ju(),postBody:null,tenantId:g.tenantId,error:be(g,"no-auth-event")}}(d,E,$);yield function vh(g,d){return El()._set(Ya(g),d)}(d,jt);const mn=yield function ta(g,d,f){return Ra.apply(this,arguments)}(d,jt,f),On=yield function yh(g){const{cordova:d}=ao();return new Promise(f=>{d.plugins.browsertab.isAvailable(E=>{let $=null;E?d.plugins.browsertab.openUrl(g):$=d.InAppBrowser.open(g,function Qe(g=(0,S.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),f($)})})}(mn);return function hp(g,d,f){return Qu.apply(this,arguments)}(d,lt,On)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Yu(g){return Cc.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:E,handleOpenURL:$,BuildInfo:ue}=ao(),lt=setTimeout((0,h.Z)(function*(){yield qa(d),f.onEvent(td())}),500),jt=function(){var Yn=(0,h.Z)(function*(zn){clearTimeout(lt);const Jr=yield qa(d);let bo=null;Jr&&(null==zn?void 0:zn.url)&&(bo=function Kl(g,d){var f,E;const $=function mp(g){const d=di(g),f=d.link?decodeURIComponent(d.link):void 0,E=di(f).link,$=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return di($).link||$||E||f||g}(d);if($.includes("/__/auth/callback")){const ue=di($),lt=ue.firebaseError?function ed(g){try{return JSON.parse(g)}catch(d){return null}}(decodeURIComponent(ue.firebaseError)):null,jt=null===(E=null===(f=null==lt?void 0:lt.code)||void 0===f?void 0:f.split("auth/"))||void 0===E?void 0:E[1],mn=jt?be(jt):null;return mn?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:mn,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:$,postBody:null}}return null}(Jr,zn.url)),f.onEvent(bo||td())});return function(Jr){return Yn.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,jt);const mn=$,On=`${ue.packageName.toLowerCase()}://`;ao().handleOpenURL=function(){var Yn=(0,h.Z)(function*(zn){if(zn.toLowerCase().startsWith(On)&&jt({url:zn}),"function"==typeof mn)try{mn(zn)}catch(Jr){console.error(Jr)}});return function(zn){return Yn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vs,this._completeRedirectFn=Xn,this._overrideRedirectResult=Dr}_initialize(d){var f=this;return(0,h.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,E,$){var ue=this;return(0,h.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openPopup(d,f,E,$)})()}_openRedirect(d,f,E,$){var ue=this;return(0,h.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openRedirect(d,f,E,$)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Mc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ei(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,h.Z)(function*(){if(d.underlyingResolver)return;const f=yield function Xa(){return nd.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function Ac(g){return g.unwrap()}function Ja(g){return sd(g)}function sd(g){const{_tokenResponse:d}=g instanceof S.ZR?g.customData:g;if(!d)return null;if(!(g instanceof S.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return gl.credentialFromResult(g);const f=d.providerId;if(!f||"password"===f)return null;let E;switch(f){case"google.com":E=Fs;break;case"facebook.com":E=Br;break;case"github.com":E=Go;break;case"twitter.com":E=ws;break;default:const{oauthIdToken:$,oauthAccessToken:ue,oauthTokenSecret:lt,pendingToken:jt,nonce:mn}=d;return ue||lt||$||jt?jt?f.startsWith("saml.")?wr._create(f,jt):xi._fromParams({providerId:f,signInMethod:f,pendingToken:jt,idToken:$,accessToken:ue}):new xr(f).credential({idToken:$,accessToken:ue,rawNonce:mn}):null}return g instanceof S.ZR?E.credentialFromError(g):E.credentialFromResult(g)}function co(g,d){return d.catch(f=>{throw f instanceof S.ZR&&function gu(g,d){var f,E;const $=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(E=d)||void 0===E?void 0:E.code))d.resolver=new ad(g,function Cn(g,d){var f;const E=(0,S.m9)(g),$=d;return Y(d.customData.operationType,E,"argument-error"),Y(null===(f=$.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,E,"argument-error"),Mn._fromError(E,$)}(g,d));else if($){const ue=sd(d),lt=d;ue&&(lt.credential=ue,lt.tenantId=$.tenantId||void 0,lt.email=$.email||void 0,lt.phoneNumber=$.phoneNumber||void 0)}}(g,f),f}).then(f=>{const $=f.user;return{operationType:f.operationType,credential:Ja(f),additionalUserInfo:Or(f),user:ba.getOrCreate($)}})}function _u(g,d){return od.apply(this,arguments)}function od(){return(od=(0,h.Z)(function*(g,d){const f=yield d;return{verificationId:f.verificationId,confirm:E=>co(g,f.confirm(E))}})).apply(this,arguments)}class ad{constructor(d,f){this.resolver=f,this.auth=function xc(g){return g.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return co(Ac(this.auth),this.resolver.resolveSignIn(d))}}class ba{constructor(d){this._delegate=d,this.multiFactor=function os(g){const d=(0,S.m9)(g);return rr.has(d)||rr.set(d,Is._fromUser(d)),rr.get(d)}(d)}static getOrCreate(d){return ba.USER_MAP.has(d)||ba.USER_MAP.set(d,new ba(d)),ba.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,h.Z)(function*(){return co(f.auth,si(f._delegate,d))})()}linkWithPhoneNumber(d,f){var E=this;return(0,h.Z)(function*(){return _u(E.auth,function ru(g,d,f){return jl.apply(this,arguments)}(E._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,h.Z)(function*(){return co(f.auth,function Pr(g,d,f){return za.apply(this,arguments)}(f._delegate,d,va))})()}linkWithRedirect(d){var f=this;return(0,h.Z)(function*(){return yield mu(An(f.auth)),function ft(g,d,f){return function Pt(g,d,f){return an.apply(this,arguments)}(g,d,f)}(f._delegate,d,va)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,h.Z)(function*(){return co(f.auth,Yi(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return _u(this.auth,function oo(g,d,f){return Xr.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return co(this.auth,function Ga(g,d,f){return yc.apply(this,arguments)}(this._delegate,d,va))}reauthenticateWithRedirect(d){var f=this;return(0,h.Z)(function*(){return yield mu(An(f.auth)),function B(g,d,f){return function te(g,d,f){return Ne.apply(this,arguments)}(g,d,f)}(f._delegate,d,va)})()}sendEmailVerification(d){return function v(g,d){return P.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,h.Z)(function*(){return yield function us(g,d){return gi.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function In(g,d){return Gn((0,S.m9)(g),d,null)}(this._delegate,d)}updatePassword(d){return function Pn(g,d){return Gn((0,S.m9)(g),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Aa(g,d){return Zs.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Ct(g,d){return Kt.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function X(g,d,f){return Ee.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ba.USER_MAP=new WeakMap;const Oc=Y;let Dh=(()=>{class g{constructor(f,E){if(this.app=f,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=f.options;Oc($,"invalid-api-key",{appName:f.name}),Oc($,"invalid-api-key",{appName:f.name});const ue="undefined"!=typeof window?va:void 0;this._delegate=E.initialize({options:{persistence:Rc($,f.name),popupRedirectResolver:ue}}),this._delegate._updateErrorMap(Fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ba.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,E){!function Si(g,d,f){const E=An(g);Y(E._canInitEmulator,E,"emulator-config-failed"),Y(/^https?:\/\//.test(d),E,"invalid-emulator-scheme");const $=!!(null==f?void 0:f.disableWarnings),ue=Hi(d),{host:lt,port:jt}=function Ai(g){const d=Hi(g),f=/(\/\/)?([^?#/]+)/.exec(g.substr(d.length));if(!f)return{host:"",port:null};const E=f[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(E);if($){const ue=$[1];return{host:ue,port:br(E.substr(ue.length+1))}}{const[ue,lt]=E.split(":");return{host:ue,port:br(lt)}}}(d);E.config.emulator={url:`${ue}//${lt}${null===jt?"":`:${jt}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:lt,port:jt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function mi(){function g(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,f,E)}applyActionCode(f){return function rn(g,d){return _i.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return zo(this._delegate,f)}confirmPasswordReset(f,E){return function mo(g,d,f){return ds.apply(this,arguments)}(this._delegate,f,E)}createUserWithEmailAndPassword(f,E){var $=this;return(0,h.Z)(function*(){return co($._delegate,function Ds(g,d,f){return To.apply(this,arguments)}($._delegate,f,E))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function q(g,d){return _.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function to(g,d){const f=bs.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,h.Z)(function*(){Oc(Qa(),f._delegate,"operation-not-supported-in-this-environment");const E=yield function vn(g,d){return Vn.apply(this,arguments)}(f._delegate,va);return E?co(f._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Tc(g,d){An(g)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,E,$){const{next:ue,error:lt,complete:jt}=Ih(f,E,$);return this._delegate.onAuthStateChanged(ue,lt,jt)}onIdTokenChanged(f,E,$){const{next:ue,error:lt,complete:jt}=Ih(f,E,$);return this._delegate.onIdTokenChanged(ue,lt,jt)}sendSignInLinkToEmail(f,E){return function cl(g,d,f){return sa.apply(this,arguments)}(this._delegate,f,E)}sendPasswordResetEmail(f,E){return function vi(g,d,f){return Vr.apply(this,arguments)}(this._delegate,f,E||void 0)}setPersistence(f){var E=this;return(0,h.Z)(function*(){let $;switch(function da(g,d){ya(Object.values(vo).includes(d),g,"invalid-persistence-type"),(0,S.b$)()?ya(d!==vo.SESSION,g,"unsupported-persistence-type"):(0,S.UG)()?ya(d===vo.NONE,g,"unsupported-persistence-type"):ti()?ya(d===vo.NONE||d===vo.LOCAL&&(0,S.hl)(),g,"unsupported-persistence-type"):ya(d===vo.NONE||$r(),g,"unsupported-persistence-type")}(E._delegate,f),f){case vo.SESSION:$=Vs;break;case vo.LOCAL:$=(yield Je(Ta)._isAvailable())?Ta:Ts;break;case vo.NONE:$=en;break;default:return tt("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return co(this._delegate,function Kr(g){return ss.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return co(this._delegate,$n(this._delegate,f))}signInWithCustomToken(f){return co(this._delegate,function k(g,d){return M.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,E){return co(this._delegate,function Da(g,d,f){return $n((0,S.m9)(g),$o.credential(d,f))}(this._delegate,f,E))}signInWithEmailLink(f,E){return co(this._delegate,function no(g,d,f){return fr.apply(this,arguments)}(this._delegate,f,E))}signInWithPhoneNumber(f,E){return _u(this._delegate,function ml(g,d,f){return jr.apply(this,arguments)}(this._delegate,f,E))}signInWithPopup(f){var E=this;return(0,h.Z)(function*(){return Oc(Qa(),E._delegate,"operation-not-supported-in-this-environment"),co(E._delegate,function ps(g,d,f){return $a.apply(this,arguments)}(E._delegate,f,va))})()}signInWithRedirect(f){var E=this;return(0,h.Z)(function*(){return Oc(Qa(),E._delegate,"operation-not-supported-in-this-environment"),yield mu(E._delegate),function Wa(g,d,f){return function yl(g,d,f){return R.apply(this,arguments)}(g,d,f)}(E._delegate,f,va)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Wo(g,d){return go.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=vo,g})();function Ih(g,d,f){let E=g;"function"!=typeof g&&({next:E,error:d,complete:f}=g);const $=E;return{next:lt=>$(lt&&ba.getOrCreate(lt)),error:d,complete:f}}function Rc(g,d){const f=function rd(g,d){const f=Ch();if(!f)return[];const E=cn(id,g,d);switch(f.getItem(E)){case vo.NONE:return[en];case vo.LOCAL:return[Ta,Vs];case vo.SESSION:return[Vs];default:return[]}}(g,d);if("undefined"!=typeof self&&!f.includes(Ta)&&f.push(Ta),"undefined"!=typeof window)for(const E of[Ts,Vs])f.includes(E)||f.push(E);return f.includes(en)||f.push(en),f}class yu{constructor(){this.providerId="phone",this._delegate=new gl(Ac(C.Z.auth()))}static credential(d,f){return gl.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}yu.PHONE_SIGN_IN_METHOD=gl.PHONE_SIGN_IN_METHOD,yu.PROVIDER_ID=gl.PROVIDER_ID;const yp=Y;class xs{constructor(d,f,E=C.Z.app()){var $;yp(null===($=E.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Vl(d,f,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ha(g){g.INTERNAL.registerComponent(new Pe.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),E=d.getProvider("auth");return new Dh(f,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$o,FacebookAuthProvider:Br,GithubAuthProvider:Go,GoogleAuthProvider:Fs,OAuthProvider:xr,SAMLAuthProvider:hr,PhoneAuthProvider:yu,PhoneMultiFactorGenerator:Wu,RecaptchaVerifier:xs,TwitterAuthProvider:ws,Auth:Dh,AuthCredential:$i,Error:S.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.19")}(C.Z)},1135:(Yt,Ge,w)=>{w.d(Ge,{X:()=>C});var h=w(7579);class C extends h.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const pe=super._subscribe(ae);return!pe.closed&&ae.next(this._value),pe}getValue(){const{hasError:ae,thrownError:pe,_value:ye}=this;if(ae)throw pe;return this._throwIfClosed(),ye}next(ae){super.next(this._value=ae)}}},8306:(Yt,Ge,w)=>{w.d(Ge,{y:()=>re});var h=w(930),C=w(727),S=w(8822),ae=w(4671);var Pe=w(2416),ge=w(576),se=w(2806);let re=(()=>{class ke{constructor(it){it&&(this._subscribe=it)}lift(it){const Be=new ke;return Be.source=this,Be.operator=it,Be}subscribe(it,Be,et){const Ie=function je(ke){return ke&&ke instanceof h.Lv||function Ce(ke){return ke&&(0,ge.m)(ke.next)&&(0,ge.m)(ke.error)&&(0,ge.m)(ke.complete)}(ke)&&(0,C.Nn)(ke)}(it)?it:new h.Hp(it,Be,et);return(0,se.x)(()=>{const{operator:Ht,source:tt}=this;Ie.add(Ht?Ht.call(Ie,tt):tt?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(it){try{return this._subscribe(it)}catch(Be){it.error(Be)}}forEach(it,Be){return new(Be=me(Be))((et,Ie)=>{const Ht=new h.Hp({next:tt=>{try{it(tt)}catch(be){Ie(be),Ht.unsubscribe()}},error:Ie,complete:et});this.subscribe(Ht)})}_subscribe(it){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(it)}[S.L](){return this}pipe(...it){return function ye(ke){return 0===ke.length?ae.y:1===ke.length?ke[0]:function(it){return ke.reduce((Be,et)=>et(Be),it)}}(it)(this)}toPromise(it){return new(it=me(it))((Be,et)=>{let Ie;this.subscribe(Ht=>Ie=Ht,Ht=>et(Ht),()=>Be(Ie))})}}return ke.create=Fe=>new ke(Fe),ke})();function me(ke){var Fe;return null!==(Fe=null!=ke?ke:Pe.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(Yt,Ge,w)=>{w.d(Ge,{x:()=>Pe});var h=w(8306),C=w(727);const ae=(0,w(3888).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=w(8737),ye=w(2806);let Pe=(()=>{class se extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const Ce=new ge(this,this);return Ce.operator=me,Ce}_throwIfClosed(){if(this.closed)throw new ae}next(me){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ce of this.currentObservers)Ce.next(me)}})}error(me){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(me)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:Ce,isStopped:je,observers:ke}=this;return Ce||je?C.Lc:(this.currentObservers=null,ke.push(me),new C.w0(()=>{this.currentObservers=null,(0,pe.P)(ke,me)}))}_checkFinalizedStatuses(me){const{hasError:Ce,thrownError:je,isStopped:ke}=this;Ce?me.error(je):ke&&me.complete()}asObservable(){const me=new h.y;return me.source=this,me}}return se.create=(re,me)=>new ge(re,me),se})();class ge extends Pe{constructor(re,me){super(),this.destination=re,this.source=me}next(re){var me,Ce;null===(Ce=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===Ce||Ce.call(me,re)}error(re){var me,Ce;null===(Ce=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===Ce||Ce.call(me,re)}complete(){var re,me;null===(me=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===me||me.call(re)}_subscribe(re){var me,Ce;return null!==(Ce=null===(me=this.source)||void 0===me?void 0:me.subscribe(re))&&void 0!==Ce?Ce:C.Lc}}},930:(Yt,Ge,w)=>{w.d(Ge,{Hp:()=>it,Lv:()=>Ce});var h=w(576),C=w(727),S=w(2416),ae=w(7849),pe=w(5032);const ye=se("C",void 0,void 0);function se(tt,be,he){return{kind:tt,value:be,error:he}}var re=w(3410),me=w(2806);class Ce extends C.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,C.Nn)(be)&&be.add(this)):this.destination=Ht}static create(be,he,Se){return new it(be,he,Se)}next(be){this.isStopped?Ie(function ge(tt){return se("N",tt,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Ie(function Pe(tt){return se("E",void 0,tt)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Ie(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function ke(tt,be){return je.call(tt,be)}class Fe{constructor(be){this.partialObserver=be}next(be){const{partialObserver:he}=this;if(he.next)try{he.next(be)}catch(Se){Be(Se)}}error(be){const{partialObserver:he}=this;if(he.error)try{he.error(be)}catch(Se){Be(Se)}else Be(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(he){Be(he)}}}class it extends Ce{constructor(be,he,Se){let _e;if(super(),(0,h.m)(be)||!be)_e={next:null!=be?be:void 0,error:null!=he?he:void 0,complete:null!=Se?Se:void 0};else{let Y;this&&S.v.useDeprecatedNextContext?(Y=Object.create(be),Y.unsubscribe=()=>this.unsubscribe(),_e={next:be.next&&ke(be.next,Y),error:be.error&&ke(be.error,Y),complete:be.complete&&ke(be.complete,Y)}):_e=be}this.destination=new Fe(_e)}}function Be(tt){S.v.useDeprecatedSynchronousErrorHandling?(0,me.O)(tt):(0,ae.h)(tt)}function Ie(tt,be){const{onStoppedNotification:he}=S.v;he&&re.z.setTimeout(()=>he(tt,be))}const Ht={closed:!0,next:pe.Z,error:function et(tt){throw tt},complete:pe.Z}},727:(Yt,Ge,w)=>{w.d(Ge,{Lc:()=>ye,w0:()=>pe,Nn:()=>Pe});var h=w(576);const S=(0,w(3888).d)(se=>function(me){se(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((Ce,je)=>`${je+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var ae=w(8737);class pe{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const ke of me)ke.remove(this);else me.remove(this);const{initialTeardown:Ce}=this;if((0,h.m)(Ce))try{Ce()}catch(ke){re=ke instanceof S?ke.errors:[ke]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const ke of je)try{ge(ke)}catch(Fe){re=null!=re?re:[],Fe instanceof S?re=[...re,...Fe.errors]:re.push(Fe)}}if(re)throw new S(re)}}add(re){var me;if(re&&re!==this)if(this.closed)ge(re);else{if(re instanceof pe){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(re)}}_hasParent(re){const{_parentage:me}=this;return me===re||Array.isArray(me)&&me.includes(re)}_addParent(re){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(re),me):me?[me,re]:re}_removeParent(re){const{_parentage:me}=this;me===re?this._parentage=null:Array.isArray(me)&&(0,ae.P)(me,re)}remove(re){const{_finalizers:me}=this;me&&(0,ae.P)(me,re),re instanceof pe&&re._removeParent(this)}}pe.EMPTY=(()=>{const se=new pe;return se.closed=!0,se})();const ye=pe.EMPTY;function Pe(se){return se instanceof pe||se&&"closed"in se&&(0,h.m)(se.remove)&&(0,h.m)(se.add)&&(0,h.m)(se.unsubscribe)}function ge(se){(0,h.m)(se)?se():se.unsubscribe()}},2416:(Yt,Ge,w)=>{w.d(Ge,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Yt,Ge,w)=>{w.d(Ge,{a:()=>re});var h=w(8306),C=w(4742),S=w(8996),ae=w(4671),pe=w(3268),ye=w(3269),Pe=w(1810),ge=w(5403),se=w(9672);function re(...je){const ke=(0,ye.yG)(je),Fe=(0,ye.jO)(je),{args:it,keys:Be}=(0,C.D)(je);if(0===it.length)return(0,S.D)([],ke);const et=new h.y(function me(je,ke,Fe=ae.y){return it=>{Ce(ke,()=>{const{length:Be}=je,et=new Array(Be);let Ie=Be,Ht=Be;for(let tt=0;tt<Be;tt++)Ce(ke,()=>{const be=(0,S.D)(je[tt],ke);let he=!1;be.subscribe((0,ge.x)(it,Se=>{et[tt]=Se,he||(he=!0,Ht--),Ht||it.next(Fe(et.slice()))},()=>{--Ie||it.complete()}))},it)},it)}}(it,ke,Be?Ie=>(0,Pe.n)(Be,Ie):ae.y));return Fe?et.pipe((0,pe.Z)(Fe)):et}function Ce(je,ke,Fe){je?(0,se.f)(Fe,je,ke):ke()}},7272:(Yt,Ge,w)=>{w.d(Ge,{z:()=>pe});var h=w(8189),S=w(3269),ae=w(8996);function pe(...ye){return function C(){return(0,h.J)(1)}()((0,ae.D)(ye,(0,S.yG)(ye)))}},9770:(Yt,Ge,w)=>{w.d(Ge,{P:()=>S});var h=w(8306),C=w(8421);function S(ae){return new h.y(pe=>{(0,C.Xf)(ae()).subscribe(pe)})}},515:(Yt,Ge,w)=>{w.d(Ge,{E:()=>C});const C=new(w(8306).y)(pe=>pe.complete())},4128:(Yt,Ge,w)=>{w.d(Ge,{D:()=>ge});var h=w(8306),C=w(4742),S=w(8421),ae=w(3269),pe=w(5403),ye=w(3268),Pe=w(1810);function ge(...se){const re=(0,ae.jO)(se),{args:me,keys:Ce}=(0,C.D)(se),je=new h.y(ke=>{const{length:Fe}=me;if(!Fe)return void ke.complete();const it=new Array(Fe);let Be=Fe,et=Fe;for(let Ie=0;Ie<Fe;Ie++){let Ht=!1;(0,S.Xf)(me[Ie]).subscribe((0,pe.x)(ke,tt=>{Ht||(Ht=!0,et--),it[Ie]=tt},()=>Be--,void 0,()=>{(!Be||!Ht)&&(et||ke.next(Ce?(0,Pe.n)(Ce,it):it),ke.complete())}))}});return re?je.pipe((0,ye.Z)(re)):je}},8996:(Yt,Ge,w)=>{w.d(Ge,{D:()=>be});var h=w(8421),C=w(5363),S=w(9468),ye=w(8306),ge=w(2202),se=w(576),re=w(9672);function Ce(he,Se){if(!he)throw new Error("Iterable cannot be null");return new ye.y(_e=>{(0,re.f)(_e,Se,()=>{const Y=he[Symbol.asyncIterator]();(0,re.f)(_e,Se,()=>{Y.next().then(Ve=>{Ve.done?_e.complete():_e.next(Ve.value)})},0,!0)})})}var je=w(3670),ke=w(8239),Fe=w(1144),it=w(6495),Be=w(2206),et=w(4532),Ie=w(3260);function be(he,Se){return Se?function tt(he,Se){if(null!=he){if((0,je.c)(he))return function ae(he,Se){return(0,h.Xf)(he).pipe((0,S.R)(Se),(0,C.Q)(Se))}(he,Se);if((0,Fe.z)(he))return function Pe(he,Se){return new ye.y(_e=>{let Y=0;return Se.schedule(function(){Y===he.length?_e.complete():(_e.next(he[Y++]),_e.closed||this.schedule())})})}(he,Se);if((0,ke.t)(he))return function pe(he,Se){return(0,h.Xf)(he).pipe((0,S.R)(Se),(0,C.Q)(Se))}(he,Se);if((0,Be.D)(he))return Ce(he,Se);if((0,it.T)(he))return function me(he,Se){return new ye.y(_e=>{let Y;return(0,re.f)(_e,Se,()=>{Y=he[ge.h](),(0,re.f)(_e,Se,()=>{let Ve,ve;try{({value:Ve,done:ve}=Y.next())}catch(qe){return void _e.error(qe)}ve?_e.complete():_e.next(Ve)},0,!0)}),()=>(0,se.m)(null==Y?void 0:Y.return)&&Y.return()})}(he,Se);if((0,Ie.L)(he))return function Ht(he,Se){return Ce((0,Ie.Q)(he),Se)}(he,Se)}throw(0,et.z)(he)}(he,Se):(0,h.Xf)(he)}},4968:(Yt,Ge,w)=>{w.d(Ge,{R:()=>re});var h=w(8421),C=w(8306),S=w(5577),ae=w(1144),pe=w(576),ye=w(3268);const Pe=["addListener","removeListener"],ge=["addEventListener","removeEventListener"],se=["on","off"];function re(Fe,it,Be,et){if((0,pe.m)(Be)&&(et=Be,Be=void 0),et)return re(Fe,it,Be).pipe((0,ye.Z)(et));const[Ie,Ht]=function ke(Fe){return(0,pe.m)(Fe.addEventListener)&&(0,pe.m)(Fe.removeEventListener)}(Fe)?ge.map(tt=>be=>Fe[tt](it,be,Be)):function Ce(Fe){return(0,pe.m)(Fe.addListener)&&(0,pe.m)(Fe.removeListener)}(Fe)?Pe.map(me(Fe,it)):function je(Fe){return(0,pe.m)(Fe.on)&&(0,pe.m)(Fe.off)}(Fe)?se.map(me(Fe,it)):[];if(!Ie&&(0,ae.z)(Fe))return(0,S.z)(tt=>re(tt,it,Be))((0,h.Xf)(Fe));if(!Ie)throw new TypeError("Invalid event target");return new C.y(tt=>{const be=(...he)=>tt.next(1<he.length?he:he[0]);return Ie(be),()=>Ht(be)})}function me(Fe,it){return Be=>et=>Fe[Be](it,et)}},8421:(Yt,Ge,w)=>{w.d(Ge,{Xf:()=>je});var h=w(655),C=w(1144),S=w(8239),ae=w(8306),pe=w(3670),ye=w(2206),Pe=w(4532),ge=w(6495),se=w(3260),re=w(576),me=w(7849),Ce=w(8822);function je(tt){if(tt instanceof ae.y)return tt;if(null!=tt){if((0,pe.c)(tt))return function ke(tt){return new ae.y(be=>{const he=tt[Ce.L]();if((0,re.m)(he.subscribe))return he.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(tt);if((0,C.z)(tt))return function Fe(tt){return new ae.y(be=>{for(let he=0;he<tt.length&&!be.closed;he++)be.next(tt[he]);be.complete()})}(tt);if((0,S.t)(tt))return function it(tt){return new ae.y(be=>{tt.then(he=>{be.closed||(be.next(he),be.complete())},he=>be.error(he)).then(null,me.h)})}(tt);if((0,ye.D)(tt))return et(tt);if((0,ge.T)(tt))return function Be(tt){return new ae.y(be=>{for(const he of tt)if(be.next(he),be.closed)return;be.complete()})}(tt);if((0,se.L)(tt))return function Ie(tt){return et((0,se.Q)(tt))}(tt)}throw(0,Pe.z)(tt)}function et(tt){return new ae.y(be=>{(function Ht(tt,be){var he,Se,_e,Y;return(0,h.mG)(this,void 0,void 0,function*(){try{for(he=(0,h.KL)(tt);!(Se=yield he.next()).done;)if(be.next(Se.value),be.closed)return}catch(Ve){_e={error:Ve}}finally{try{Se&&!Se.done&&(Y=he.return)&&(yield Y.call(he))}finally{if(_e)throw _e.error}}be.complete()})})(tt,be).catch(he=>be.error(he))})}},6451:(Yt,Ge,w)=>{w.d(Ge,{T:()=>ye});var h=w(8189),C=w(8421),S=w(515),ae=w(3269),pe=w(8996);function ye(...Pe){const ge=(0,ae.yG)(Pe),se=(0,ae._6)(Pe,1/0),re=Pe;return re.length?1===re.length?(0,C.Xf)(re[0]):(0,h.J)(se)((0,pe.D)(re,ge)):S.E}},9646:(Yt,Ge,w)=>{w.d(Ge,{of:()=>S});var h=w(3269),C=w(8996);function S(...ae){const pe=(0,h.yG)(ae);return(0,C.D)(ae,pe)}},2843:(Yt,Ge,w)=>{w.d(Ge,{_:()=>S});var h=w(8306),C=w(576);function S(ae,pe){const ye=(0,C.m)(ae)?ae:()=>ae,Pe=ge=>ge.error(ye());return new h.y(pe?ge=>pe.schedule(Pe,0,ge):Pe)}},5403:(Yt,Ge,w)=>{w.d(Ge,{x:()=>C});var h=w(930);function C(ae,pe,ye,Pe,ge){return new S(ae,pe,ye,Pe,ge)}class S extends h.Lv{constructor(pe,ye,Pe,ge,se,re){super(pe),this.onFinalize=se,this.shouldUnsubscribe=re,this._next=ye?function(me){try{ye(me)}catch(Ce){pe.error(Ce)}}:super._next,this._error=ge?function(me){try{ge(me)}catch(Ce){pe.error(Ce)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(me){pe.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},262:(Yt,Ge,w)=>{w.d(Ge,{K:()=>ae});var h=w(8421),C=w(5403),S=w(4482);function ae(pe){return(0,S.e)((ye,Pe)=>{let re,ge=null,se=!1;ge=ye.subscribe((0,C.x)(Pe,void 0,void 0,me=>{re=(0,h.Xf)(pe(me,ae(pe)(ye))),ge?(ge.unsubscribe(),ge=null,re.subscribe(Pe)):se=!0})),se&&(ge.unsubscribe(),ge=null,re.subscribe(Pe))})}},4351:(Yt,Ge,w)=>{w.d(Ge,{b:()=>S});var h=w(5577),C=w(576);function S(ae,pe){return(0,C.m)(pe)?(0,h.z)(ae,pe,1):(0,h.z)(ae,1)}},8372:(Yt,Ge,w)=>{w.d(Ge,{b:()=>ae});var h=w(4986),C=w(4482),S=w(5403);function ae(pe,ye=h.z){return(0,C.e)((Pe,ge)=>{let se=null,re=null,me=null;const Ce=()=>{if(se){se.unsubscribe(),se=null;const ke=re;re=null,ge.next(ke)}};function je(){const ke=me+pe,Fe=ye.now();if(Fe<ke)return se=this.schedule(void 0,ke-Fe),void ge.add(se);Ce()}Pe.subscribe((0,S.x)(ge,ke=>{re=ke,me=ye.now(),se||(se=ye.schedule(je,pe),ge.add(se))},()=>{Ce(),ge.complete()},void 0,()=>{re=se=null}))})}},6590:(Yt,Ge,w)=>{w.d(Ge,{d:()=>S});var h=w(4482),C=w(5403);function S(ae){return(0,h.e)((pe,ye)=>{let Pe=!1;pe.subscribe((0,C.x)(ye,ge=>{Pe=!0,ye.next(ge)},()=>{Pe||ye.next(ae),ye.complete()}))})}},1884:(Yt,Ge,w)=>{w.d(Ge,{x:()=>ae});var h=w(4671),C=w(4482),S=w(5403);function ae(ye,Pe=h.y){return ye=null!=ye?ye:pe,(0,C.e)((ge,se)=>{let re,me=!0;ge.subscribe((0,S.x)(se,Ce=>{const je=Pe(Ce);(me||!ye(re,je))&&(me=!1,re=je,se.next(Ce))}))})}function pe(ye,Pe){return ye===Pe}},9300:(Yt,Ge,w)=>{w.d(Ge,{h:()=>S});var h=w(4482),C=w(5403);function S(ae,pe){return(0,h.e)((ye,Pe)=>{let ge=0;ye.subscribe((0,C.x)(Pe,se=>ae.call(pe,se,ge++)&&Pe.next(se)))})}},8746:(Yt,Ge,w)=>{w.d(Ge,{x:()=>C});var h=w(4482);function C(S){return(0,h.e)((ae,pe)=>{try{ae.subscribe(pe)}finally{pe.add(S)}})}},590:(Yt,Ge,w)=>{w.d(Ge,{P:()=>Pe});var h=w(6805),C=w(9300),S=w(5698),ae=w(6590),pe=w(8068),ye=w(4671);function Pe(ge,se){const re=arguments.length>=2;return me=>me.pipe(ge?(0,C.h)((Ce,je)=>ge(Ce,je,me)):ye.y,(0,S.q)(1),re?(0,ae.d)(se):(0,pe.T)(()=>new h.K))}},4004:(Yt,Ge,w)=>{w.d(Ge,{U:()=>S});var h=w(4482),C=w(5403);function S(ae,pe){return(0,h.e)((ye,Pe)=>{let ge=0;ye.subscribe((0,C.x)(Pe,se=>{Pe.next(ae.call(pe,se,ge++))}))})}},8189:(Yt,Ge,w)=>{w.d(Ge,{J:()=>S});var h=w(5577),C=w(4671);function S(ae=1/0){return(0,h.z)(C.y,ae)}},5577:(Yt,Ge,w)=>{w.d(Ge,{z:()=>ge});var h=w(4004),C=w(8421),S=w(4482),ae=w(9672),pe=w(5403),Pe=w(576);function ge(se,re,me=1/0){return(0,Pe.m)(re)?ge((Ce,je)=>(0,h.U)((ke,Fe)=>re(Ce,ke,je,Fe))((0,C.Xf)(se(Ce,je))),me):("number"==typeof re&&(me=re),(0,S.e)((Ce,je)=>function ye(se,re,me,Ce,je,ke,Fe,it){const Be=[];let et=0,Ie=0,Ht=!1;const tt=()=>{Ht&&!Be.length&&!et&&re.complete()},be=Se=>et<Ce?he(Se):Be.push(Se),he=Se=>{ke&&re.next(Se),et++;let _e=!1;(0,C.Xf)(me(Se,Ie++)).subscribe((0,pe.x)(re,Y=>{null==je||je(Y),ke?be(Y):re.next(Y)},()=>{_e=!0},void 0,()=>{if(_e)try{for(et--;Be.length&&et<Ce;){const Y=Be.shift();Fe?(0,ae.f)(re,Fe,()=>he(Y)):he(Y)}tt()}catch(Y){re.error(Y)}}))};return se.subscribe((0,pe.x)(re,be,()=>{Ht=!0,tt()})),()=>{null==it||it()}}(Ce,je,se,me)))}},5363:(Yt,Ge,w)=>{w.d(Ge,{Q:()=>ae});var h=w(9672),C=w(4482),S=w(5403);function ae(pe,ye=0){return(0,C.e)((Pe,ge)=>{Pe.subscribe((0,S.x)(ge,se=>(0,h.f)(ge,pe,()=>ge.next(se),ye),()=>(0,h.f)(ge,pe,()=>ge.complete(),ye),se=>(0,h.f)(ge,pe,()=>ge.error(se),ye)))})}},5026:(Yt,Ge,w)=>{w.d(Ge,{R:()=>ae});var h=w(4482),C=w(5403);function S(pe,ye,Pe,ge,se){return(re,me)=>{let Ce=Pe,je=ye,ke=0;re.subscribe((0,C.x)(me,Fe=>{const it=ke++;je=Ce?pe(je,Fe,it):(Ce=!0,Fe),ge&&me.next(je)},se&&(()=>{Ce&&me.next(je),me.complete()})))}}function ae(pe,ye){return(0,h.e)(S(pe,ye,arguments.length>=2,!0))}},3099:(Yt,Ge,w)=>{w.d(Ge,{B:()=>pe});var h=w(8421),C=w(7579),S=w(930),ae=w(4482);function pe(Pe={}){const{connector:ge=(()=>new C.x),resetOnError:se=!0,resetOnComplete:re=!0,resetOnRefCountZero:me=!0}=Pe;return Ce=>{let je,ke,Fe,it=0,Be=!1,et=!1;const Ie=()=>{null==ke||ke.unsubscribe(),ke=void 0},Ht=()=>{Ie(),je=Fe=void 0,Be=et=!1},tt=()=>{const be=je;Ht(),null==be||be.unsubscribe()};return(0,ae.e)((be,he)=>{it++,!et&&!Be&&Ie();const Se=Fe=null!=Fe?Fe:ge();he.add(()=>{it--,0===it&&!et&&!Be&&(ke=ye(tt,me))}),Se.subscribe(he),!je&&it>0&&(je=new S.Hp({next:_e=>Se.next(_e),error:_e=>{et=!0,Ie(),ke=ye(Ht,se,_e),Se.error(_e)},complete:()=>{Be=!0,Ie(),ke=ye(Ht,re),Se.complete()}}),(0,h.Xf)(be).subscribe(je))})(Ce)}}function ye(Pe,ge,...se){if(!0===ge)return void Pe();if(!1===ge)return;const re=new S.Hp({next:()=>{re.unsubscribe(),Pe()}});return ge(...se).subscribe(re)}},5684:(Yt,Ge,w)=>{w.d(Ge,{T:()=>C});var h=w(9300);function C(S){return(0,h.h)((ae,pe)=>S<=pe)}},8675:(Yt,Ge,w)=>{w.d(Ge,{O:()=>ae});var h=w(7272),C=w(3269),S=w(4482);function ae(...pe){const ye=(0,C.yG)(pe);return(0,S.e)((Pe,ge)=>{(ye?(0,h.z)(pe,Pe,ye):(0,h.z)(pe,Pe)).subscribe(ge)})}},9468:(Yt,Ge,w)=>{w.d(Ge,{R:()=>C});var h=w(4482);function C(S,ae=0){return(0,h.e)((pe,ye)=>{ye.add(S.schedule(()=>pe.subscribe(ye),ae))})}},3900:(Yt,Ge,w)=>{w.d(Ge,{w:()=>ae});var h=w(8421),C=w(4482),S=w(5403);function ae(pe,ye){return(0,C.e)((Pe,ge)=>{let se=null,re=0,me=!1;const Ce=()=>me&&!se&&ge.complete();Pe.subscribe((0,S.x)(ge,je=>{null==se||se.unsubscribe();let ke=0;const Fe=re++;(0,h.Xf)(pe(je,Fe)).subscribe(se=(0,S.x)(ge,it=>ge.next(ye?ye(je,it,Fe,ke++):it),()=>{se=null,Ce()}))},()=>{me=!0,Ce()}))})}},5698:(Yt,Ge,w)=>{w.d(Ge,{q:()=>ae});var h=w(515),C=w(4482),S=w(5403);function ae(pe){return pe<=0?()=>h.E:(0,C.e)((ye,Pe)=>{let ge=0;ye.subscribe((0,S.x)(Pe,se=>{++ge<=pe&&(Pe.next(se),pe<=ge&&Pe.complete())}))})}},2722:(Yt,Ge,w)=>{w.d(Ge,{R:()=>pe});var h=w(4482),C=w(5403),S=w(8421),ae=w(5032);function pe(ye){return(0,h.e)((Pe,ge)=>{(0,S.Xf)(ye).subscribe((0,C.x)(ge,()=>ge.complete(),ae.Z)),!ge.closed&&Pe.subscribe(ge)})}},8505:(Yt,Ge,w)=>{w.d(Ge,{b:()=>pe});var h=w(576),C=w(4482),S=w(5403),ae=w(4671);function pe(ye,Pe,ge){const se=(0,h.m)(ye)||Pe||ge?{next:ye,error:Pe,complete:ge}:ye;return se?(0,C.e)((re,me)=>{var Ce;null===(Ce=se.subscribe)||void 0===Ce||Ce.call(se);let je=!0;re.subscribe((0,S.x)(me,ke=>{var Fe;null===(Fe=se.next)||void 0===Fe||Fe.call(se,ke),me.next(ke)},()=>{var ke;je=!1,null===(ke=se.complete)||void 0===ke||ke.call(se),me.complete()},ke=>{var Fe;je=!1,null===(Fe=se.error)||void 0===Fe||Fe.call(se,ke),me.error(ke)},()=>{var ke,Fe;je&&(null===(ke=se.unsubscribe)||void 0===ke||ke.call(se)),null===(Fe=se.finalize)||void 0===Fe||Fe.call(se)}))}):ae.y}},8068:(Yt,Ge,w)=>{w.d(Ge,{T:()=>ae});var h=w(6805),C=w(4482),S=w(5403);function ae(ye=pe){return(0,C.e)((Pe,ge)=>{let se=!1;Pe.subscribe((0,S.x)(ge,re=>{se=!0,ge.next(re)},()=>se?ge.complete():ge.error(ye())))})}function pe(){return new h.K}},4408:(Yt,Ge,w)=>{w.d(Ge,{o:()=>pe});var h=w(727);class C extends h.w0{constructor(Pe,ge){super()}schedule(Pe,ge=0){return this}}const S={setInterval(ye,Pe,...ge){const{delegate:se}=S;return(null==se?void 0:se.setInterval)?se.setInterval(ye,Pe,...ge):setInterval(ye,Pe,...ge)},clearInterval(ye){const{delegate:Pe}=S;return((null==Pe?void 0:Pe.clearInterval)||clearInterval)(ye)},delegate:void 0};var ae=w(8737);class pe extends C{constructor(Pe,ge){super(Pe,ge),this.scheduler=Pe,this.work=ge,this.pending=!1}schedule(Pe,ge=0){if(this.closed)return this;this.state=Pe;const se=this.id,re=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(re,se,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(re,this.id,ge),this}requestAsyncId(Pe,ge,se=0){return S.setInterval(Pe.flush.bind(Pe,this),se)}recycleAsyncId(Pe,ge,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return ge;S.clearInterval(ge)}execute(Pe,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(Pe,ge);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,ge){let re,se=!1;try{this.work(Pe)}catch(me){se=!0,re=me||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:ge}=this,{actions:se}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(se,this),null!=Pe&&(this.id=this.recycleAsyncId(ge,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Yt,Ge,w)=>{w.d(Ge,{v:()=>S});var h=w(6063);class C{constructor(pe,ye=C.now){this.schedulerActionCtor=pe,this.now=ye}schedule(pe,ye=0,Pe){return new this.schedulerActionCtor(this,pe).schedule(Pe,ye)}}C.now=h.l.now;class S extends C{constructor(pe,ye=C.now){super(pe,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(pe){const{actions:ye}=this;if(this._active)return void ye.push(pe);let Pe;this._active=!0;do{if(Pe=pe.execute(pe.state,pe.delay))break}while(pe=ye.shift());if(this._active=!1,Pe){for(;pe=ye.shift();)pe.unsubscribe();throw Pe}}}},4986:(Yt,Ge,w)=>{w.d(Ge,{z:()=>S,P:()=>ae});var h=w(4408);const S=new(w(7565).v)(h.o),ae=S},6063:(Yt,Ge,w)=>{w.d(Ge,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Yt,Ge,w)=>{w.d(Ge,{z:()=>h});const h={setTimeout(C,S,...ae){const{delegate:pe}=h;return(null==pe?void 0:pe.setTimeout)?pe.setTimeout(C,S,...ae):setTimeout(C,S,...ae)},clearTimeout(C){const{delegate:S}=h;return((null==S?void 0:S.clearTimeout)||clearTimeout)(C)},delegate:void 0}},2202:(Yt,Ge,w)=>{w.d(Ge,{h:()=>C});const C=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Yt,Ge,w)=>{w.d(Ge,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Yt,Ge,w)=>{w.d(Ge,{K:()=>C});const C=(0,w(3888).d)(S=>function(){S(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Yt,Ge,w)=>{w.d(Ge,{jO:()=>ae,yG:()=>pe,_6:()=>ye});var h=w(576),C=w(3532);function S(Pe){return Pe[Pe.length-1]}function ae(Pe){return(0,h.m)(S(Pe))?Pe.pop():void 0}function pe(Pe){return(0,C.K)(S(Pe))?Pe.pop():void 0}function ye(Pe,ge){return"number"==typeof S(Pe)?Pe.pop():ge}},4742:(Yt,Ge,w)=>{w.d(Ge,{D:()=>pe});const{isArray:h}=Array,{getPrototypeOf:C,prototype:S,keys:ae}=Object;function pe(Pe){if(1===Pe.length){const ge=Pe[0];if(h(ge))return{args:ge,keys:null};if(function ye(Pe){return Pe&&"object"==typeof Pe&&C(Pe)===S}(ge)){const se=ae(ge);return{args:se.map(re=>ge[re]),keys:se}}}return{args:Pe,keys:null}}},8737:(Yt,Ge,w)=>{function h(C,S){if(C){const ae=C.indexOf(S);0<=ae&&C.splice(ae,1)}}w.d(Ge,{P:()=>h})},3888:(Yt,Ge,w)=>{function h(C){const ae=C(pe=>{Error.call(pe),pe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}w.d(Ge,{d:()=>h})},1810:(Yt,Ge,w)=>{function h(C,S){return C.reduce((ae,pe,ye)=>(ae[pe]=S[ye],ae),{})}w.d(Ge,{n:()=>h})},2806:(Yt,Ge,w)=>{w.d(Ge,{x:()=>S,O:()=>ae});var h=w(2416);let C=null;function S(pe){if(h.v.useDeprecatedSynchronousErrorHandling){const ye=!C;if(ye&&(C={errorThrown:!1,error:null}),pe(),ye){const{errorThrown:Pe,error:ge}=C;if(C=null,Pe)throw ge}}else pe()}function ae(pe){h.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=pe)}},9672:(Yt,Ge,w)=>{function h(C,S,ae,pe=0,ye=!1){const Pe=S.schedule(function(){ae(),ye?C.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(C.add(Pe),!ye)return Pe}w.d(Ge,{f:()=>h})},4671:(Yt,Ge,w)=>{function h(C){return C}w.d(Ge,{y:()=>h})},1144:(Yt,Ge,w)=>{w.d(Ge,{z:()=>h});const h=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(Yt,Ge,w)=>{w.d(Ge,{D:()=>C});var h=w(576);function C(S){return Symbol.asyncIterator&&(0,h.m)(null==S?void 0:S[Symbol.asyncIterator])}},576:(Yt,Ge,w)=>{function h(C){return"function"==typeof C}w.d(Ge,{m:()=>h})},3670:(Yt,Ge,w)=>{w.d(Ge,{c:()=>S});var h=w(8822),C=w(576);function S(ae){return(0,C.m)(ae[h.L])}},6495:(Yt,Ge,w)=>{w.d(Ge,{T:()=>S});var h=w(2202),C=w(576);function S(ae){return(0,C.m)(null==ae?void 0:ae[h.h])}},8239:(Yt,Ge,w)=>{w.d(Ge,{t:()=>C});var h=w(576);function C(S){return(0,h.m)(null==S?void 0:S.then)}},3260:(Yt,Ge,w)=>{w.d(Ge,{Q:()=>S,L:()=>ae});var h=w(655),C=w(576);function S(pe){return(0,h.FC)(this,arguments,function*(){const Pe=pe.getReader();try{for(;;){const{value:ge,done:se}=yield(0,h.qq)(Pe.read());if(se)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ge)}}finally{Pe.releaseLock()}})}function ae(pe){return(0,C.m)(null==pe?void 0:pe.getReader)}},3532:(Yt,Ge,w)=>{w.d(Ge,{K:()=>C});var h=w(576);function C(S){return S&&(0,h.m)(S.schedule)}},4482:(Yt,Ge,w)=>{w.d(Ge,{A:()=>C,e:()=>S});var h=w(576);function C(ae){return(0,h.m)(null==ae?void 0:ae.lift)}function S(ae){return pe=>{if(C(pe))return pe.lift(function(ye){try{return ae(ye,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Yt,Ge,w)=>{w.d(Ge,{Z:()=>ae});var h=w(4004);const{isArray:C}=Array;function ae(pe){return(0,h.U)(ye=>function S(pe,ye){return C(ye)?pe(...ye):pe(ye)}(pe,ye))}},5032:(Yt,Ge,w)=>{function h(){}w.d(Ge,{Z:()=>h})},7849:(Yt,Ge,w)=>{w.d(Ge,{h:()=>S});var h=w(2416),C=w(3410);function S(ae){C.z.setTimeout(()=>{const{onUnhandledError:pe}=h.v;if(!pe)throw ae;pe(ae)})}},4532:(Yt,Ge,w)=>{function h(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(Ge,{z:()=>h})},655:(Yt,Ge,w)=>{function ae(ve,qe){var Je={};for(var _t in ve)Object.prototype.hasOwnProperty.call(ve,_t)&&qe.indexOf(_t)<0&&(Je[_t]=ve[_t]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(_t=Object.getOwnPropertySymbols(ve);dt<_t.length;dt++)qe.indexOf(_t[dt])<0&&Object.prototype.propertyIsEnumerable.call(ve,_t[dt])&&(Je[_t[dt]]=ve[_t[dt]])}return Je}function ge(ve,qe,Je,_t){return new(Je||(Je=Promise))(function(kt,At){function nt(Dt){try{Ue(_t.next(Dt))}catch(Mt){At(Mt)}}function Ke(Dt){try{Ue(_t.throw(Dt))}catch(Mt){At(Mt)}}function Ue(Dt){Dt.done?kt(Dt.value):function dt(kt){return kt instanceof Je?kt:new Je(function(At){At(kt)})}(Dt.value).then(nt,Ke)}Ue((_t=_t.apply(ve,qe||[])).next())})}function Be(ve){return this instanceof Be?(this.v=ve,this):new Be(ve)}function et(ve,qe,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,_t=Je.apply(ve,qe||[]),kt=[];return dt={},At("next"),At("throw"),At("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function At(ze){_t[ze]&&(dt[ze]=function(yt){return new Promise(function(un,Ot){kt.push([ze,yt,un,Ot])>1||nt(ze,yt)})})}function nt(ze,yt){try{!function Ke(ze){ze.value instanceof Be?Promise.resolve(ze.value.v).then(Ue,Dt):Mt(kt[0][2],ze)}(_t[ze](yt))}catch(un){Mt(kt[0][3],un)}}function Ue(ze){nt("next",ze)}function Dt(ze){nt("throw",ze)}function Mt(ze,yt){ze(yt),kt.shift(),kt.length&&nt(kt[0][0],kt[0][1])}}function Ht(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,qe=ve[Symbol.asyncIterator];return qe?qe.call(ve):(ve=function Ce(ve){var qe="function"==typeof Symbol&&Symbol.iterator,Je=qe&&ve[qe],_t=0;if(Je)return Je.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&_t>=ve.length&&(ve=void 0),{value:ve&&ve[_t++],done:!ve}}};throw new TypeError(qe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),Je={},_t("next"),_t("throw"),_t("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function _t(kt){Je[kt]=ve[kt]&&function(At){return new Promise(function(nt,Ke){!function dt(kt,At,nt,Ke){Promise.resolve(Ke).then(function(Ue){kt({value:Ue,done:nt})},At)}(nt,Ke,(At=ve[kt](At)).done,At.value)})}}}w.d(Ge,{_T:()=>ae,mG:()=>ge,qq:()=>Be,FC:()=>et,KL:()=>Ht})},1777:(Yt,Ge,w)=>{w.d(Ge,{l3:()=>S,_j:()=>h,LC:()=>C,ZN:()=>et,jt:()=>pe,pV:()=>je,ru:()=>ye,IO:()=>Fe,vP:()=>Pe,SB:()=>se,oB:()=>ge,eR:()=>me,X$:()=>ae,ZE:()=>Ie,k1:()=>Ht});class h{}class C{}const S="*";function ae(tt,be){return{type:7,name:tt,definitions:be,options:{}}}function pe(tt,be=null){return{type:4,styles:be,timings:tt}}function ye(tt,be=null){return{type:3,steps:tt,options:be}}function Pe(tt,be=null){return{type:2,steps:tt,options:be}}function ge(tt){return{type:6,styles:tt,offset:null}}function se(tt,be,he){return{type:0,name:tt,styles:be,options:he}}function me(tt,be,he=null){return{type:1,expr:tt,animation:be,options:he}}function je(tt=null){return{type:9,options:tt}}function Fe(tt,be,he=null){return{type:11,selector:tt,animation:be,options:he}}function Be(tt){Promise.resolve(null).then(tt)}class et{constructor(be=0,he=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+he}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._onStartFns.push(be)}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Be(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const he="start"==be?this._onStartFns:this._onDoneFns;he.forEach(Se=>Se()),he.length=0}}class Ie{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let he=0,Se=0,_e=0;const Y=this.players.length;0==Y?Be(()=>this._onFinish()):this.players.forEach(Ve=>{Ve.onDone(()=>{++he==Y&&this._onFinish()}),Ve.onDestroy(()=>{++Se==Y&&this._onDestroy()}),Ve.onStart(()=>{++_e==Y&&this._onStart()})}),this.totalTime=this.players.reduce((Ve,ve)=>Math.max(Ve,ve.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const he=be*this.totalTime;this.players.forEach(Se=>{const _e=Se.totalTime?Math.min(1,he/Se.totalTime):1;Se.setPosition(_e)})}getPosition(){const be=this.players.reduce((he,Se)=>null===he||Se.totalTime>he.totalTime?Se:he,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const he="start"==be?this._onStartFns:this._onDoneFns;he.forEach(Se=>Se()),he.length=0}}const Ht="!"},5664:(Yt,Ge,w)=>{w.d(Ge,{Em:()=>_t,tE:()=>hn,qV:()=>mt,qm:()=>qi,ic:()=>kt,X6:()=>we,yG:()=>at});var h=w(9808),C=w(5e3),S=w(925),ae=w(7579),pe=w(727),ye=w(1135),Pe=w(9646),ge=w(1159),se=w(8505),re=w(8372),me=w(9300),Ce=w(4004),je=w(5698),ke=w(5684),Fe=w(1884),it=w(2722),Be=w(3191);class _t extends class qe{constructor(O){this._items=O,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ae.x,this._typeaheadSubscription=pe.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=F=>F.disabled,this._pressedLetters=[],this.tabOut=new ae.x,this.change=new ae.x,O instanceof C.n_E&&O.changes.subscribe(F=>{if(this._activeItem){const le=F.toArray().indexOf(this._activeItem);le>-1&&le!==this._activeItemIndex&&(this._activeItemIndex=le)}})}skipPredicate(O){return this._skipPredicateFn=O,this}withWrap(O=!0){return this._wrap=O,this}withVerticalOrientation(O=!0){return this._vertical=O,this}withHorizontalOrientation(O){return this._horizontal=O,this}withAllowedModifierKeys(O){return this._allowedModifierKeys=O,this}withTypeAhead(O=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,se.b)(F=>this._pressedLetters.push(F)),(0,re.b)(O),(0,me.h)(()=>this._pressedLetters.length>0),(0,Ce.U)(()=>this._pressedLetters.join(""))).subscribe(F=>{const Z=this._getItemsArray();for(let le=1;le<Z.length+1;le++){const Le=(this._activeItemIndex+le)%Z.length,ie=Z[Le];if(!this._skipPredicateFn(ie)&&0===ie.getLabel().toUpperCase().trim().indexOf(F)){this.setActiveItem(Le);break}}this._pressedLetters=[]}),this}withHomeAndEnd(O=!0){return this._homeAndEnd=O,this}setActiveItem(O){const F=this._activeItem;this.updateActiveItem(O),this._activeItem!==F&&this.change.next(this._activeItemIndex)}onKeydown(O){const F=O.keyCode,le=["altKey","ctrlKey","metaKey","shiftKey"].every(Le=>!O[Le]||this._allowedModifierKeys.indexOf(Le)>-1);switch(F){case ge.Mf:return void this.tabOut.next();case ge.JH:if(this._vertical&&le){this.setNextItemActive();break}return;case ge.LH:if(this._vertical&&le){this.setPreviousItemActive();break}return;case ge.SV:if(this._horizontal&&le){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ge.oh:if(this._horizontal&&le){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ge.Sd:if(this._homeAndEnd&&le){this.setFirstItemActive();break}return;case ge.uR:if(this._homeAndEnd&&le){this.setLastItemActive();break}return;default:return void((le||(0,ge.Vb)(O,"shiftKey"))&&(O.key&&1===O.key.length?this._letterKeyStream.next(O.key.toLocaleUpperCase()):(F>=ge.A&&F<=ge.Z||F>=ge.xE&&F<=ge.aO)&&this._letterKeyStream.next(String.fromCharCode(F))))}this._pressedLetters=[],O.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(O){const F=this._getItemsArray(),Z="number"==typeof O?O:F.indexOf(O),le=F[Z];this._activeItem=null==le?null:le,this._activeItemIndex=Z}_setActiveItemByDelta(O){this._wrap?this._setActiveInWrapMode(O):this._setActiveInDefaultMode(O)}_setActiveInWrapMode(O){const F=this._getItemsArray();for(let Z=1;Z<=F.length;Z++){const le=(this._activeItemIndex+O*Z+F.length)%F.length;if(!this._skipPredicateFn(F[le]))return void this.setActiveItem(le)}}_setActiveInDefaultMode(O){this._setActiveItemByIndex(this._activeItemIndex+O,O)}_setActiveItemByIndex(O,F){const Z=this._getItemsArray();if(Z[O]){for(;this._skipPredicateFn(Z[O]);)if(!Z[O+=F])return;this.setActiveItem(O)}}_getItemsArray(){return this._items instanceof C.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(O){return this._origin=O,this}setActiveItem(O){super.setActiveItem(O),this.activeItem&&this.activeItem.focus(this._origin)}}let kt=(()=>{class H{constructor(F){this._platform=F}isDisabled(F){return F.hasAttribute("disabled")}isVisible(F){return function nt(H){return!!(H.offsetWidth||H.offsetHeight||"function"==typeof H.getClientRects&&H.getClientRects().length)}(F)&&"visible"===getComputedStyle(F).visibility}isTabbable(F){if(!this._platform.isBrowser)return!1;const Z=function At(H){try{return H.frameElement}catch(O){return null}}(function st(H){return H.ownerDocument&&H.ownerDocument.defaultView||window}(F));if(Z&&(-1===un(Z)||!this.isVisible(Z)))return!1;let le=F.nodeName.toLowerCase(),Le=un(F);return F.hasAttribute("contenteditable")?-1!==Le:!("iframe"===le||"object"===le||this._platform.WEBKIT&&this._platform.IOS&&!function Ot(H){let O=H.nodeName.toLowerCase(),F="input"===O&&H.type;return"text"===F||"password"===F||"select"===O||"textarea"===O}(F))&&("audio"===le?!!F.hasAttribute("controls")&&-1!==Le:"video"===le?-1!==Le&&(null!==Le||this._platform.FIREFOX||F.hasAttribute("controls")):F.tabIndex>=0)}isFocusable(F,Z){return function ut(H){return!function Ue(H){return function Mt(H){return"input"==H.nodeName.toLowerCase()}(H)&&"hidden"==H.type}(H)&&(function Ke(H){let O=H.nodeName.toLowerCase();return"input"===O||"select"===O||"button"===O||"textarea"===O}(H)||function Dt(H){return function ze(H){return"a"==H.nodeName.toLowerCase()}(H)&&H.hasAttribute("href")}(H)||H.hasAttribute("contenteditable")||yt(H))}(F)&&!this.isDisabled(F)&&((null==Z?void 0:Z.ignoreVisibility)||this.isVisible(F))}}return H.\u0275fac=function(F){return new(F||H)(C.LFG(S.t4))},H.\u0275prov=C.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function yt(H){if(!H.hasAttribute("tabindex")||void 0===H.tabIndex)return!1;let O=H.getAttribute("tabindex");return!(!O||isNaN(parseInt(O,10)))}function un(H){if(!yt(H))return null;const O=parseInt(H.getAttribute("tabindex")||"",10);return isNaN(O)?-1:O}class Te{constructor(O,F,Z,le,Le=!1){this._element=O,this._checker=F,this._ngZone=Z,this._document=le,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Le||this.attachAnchors()}get enabled(){return this._enabled}set enabled(O){this._enabled=O,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(O,this._startAnchor),this._toggleAnchorTabIndex(O,this._endAnchor))}destroy(){const O=this._startAnchor,F=this._endAnchor;O&&(O.removeEventListener("focus",this.startAnchorListener),O.remove()),F&&(F.removeEventListener("focus",this.endAnchorListener),F.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(O){return new Promise(F=>{this._executeOnStable(()=>F(this.focusInitialElement(O)))})}focusFirstTabbableElementWhenReady(O){return new Promise(F=>{this._executeOnStable(()=>F(this.focusFirstTabbableElement(O)))})}focusLastTabbableElementWhenReady(O){return new Promise(F=>{this._executeOnStable(()=>F(this.focusLastTabbableElement(O)))})}_getRegionBoundary(O){const F=this._element.querySelectorAll(`[cdk-focus-region-${O}], [cdkFocusRegion${O}], [cdk-focus-${O}]`);return"start"==O?F.length?F[0]:this._getFirstTabbableElement(this._element):F.length?F[F.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(O){const F=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(F){if(!this._checker.isFocusable(F)){const Z=this._getFirstTabbableElement(F);return null==Z||Z.focus(O),!!Z}return F.focus(O),!0}return this.focusFirstTabbableElement(O)}focusFirstTabbableElement(O){const F=this._getRegionBoundary("start");return F&&F.focus(O),!!F}focusLastTabbableElement(O){const F=this._getRegionBoundary("end");return F&&F.focus(O),!!F}hasAttached(){return this._hasAttached}_getFirstTabbableElement(O){if(this._checker.isFocusable(O)&&this._checker.isTabbable(O))return O;const F=O.children;for(let Z=0;Z<F.length;Z++){const le=F[Z].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(F[Z]):null;if(le)return le}return null}_getLastTabbableElement(O){if(this._checker.isFocusable(O)&&this._checker.isTabbable(O))return O;const F=O.children;for(let Z=F.length-1;Z>=0;Z--){const le=F[Z].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(F[Z]):null;if(le)return le}return null}_createAnchor(){const O=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,O),O.classList.add("cdk-visually-hidden"),O.classList.add("cdk-focus-trap-anchor"),O.setAttribute("aria-hidden","true"),O}_toggleAnchorTabIndex(O,F){O?F.setAttribute("tabindex","0"):F.removeAttribute("tabindex")}toggleAnchors(O){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(O,this._startAnchor),this._toggleAnchorTabIndex(O,this._endAnchor))}_executeOnStable(O){this._ngZone.isStable?O():this._ngZone.onStable.pipe((0,je.q)(1)).subscribe(O)}}let mt=(()=>{class H{constructor(F,Z,le){this._checker=F,this._ngZone=Z,this._document=le}create(F,Z=!1){return new Te(F,this._checker,this._ngZone,this._document,Z)}}return H.\u0275fac=function(F){return new(F||H)(C.LFG(kt),C.LFG(C.R0b),C.LFG(h.K0))},H.\u0275prov=C.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function we(H){return 0===H.buttons||0===H.offsetX&&0===H.offsetY}function at(H){const O=H.touches&&H.touches[0]||H.changedTouches&&H.changedTouches[0];return!(!O||-1!==O.identifier||null!=O.radiusX&&1!==O.radiusX||null!=O.radiusY&&1!==O.radiusY)}const ht=new C.OlP("cdk-input-modality-detector-options"),Lt={ignoreKeys:[ge.zL,ge.jx,ge.b2,ge.MW,ge.JU]},dn=(0,S.i$)({passive:!0,capture:!0});let Vt=(()=>{class H{constructor(F,Z,le,Le){this._platform=F,this._mostRecentTarget=null,this._modality=new ye.X(null),this._lastTouchMs=0,this._onKeydown=ie=>{var ot,en;(null===(en=null===(ot=this._options)||void 0===ot?void 0:ot.ignoreKeys)||void 0===en?void 0:en.some(cn=>cn===ie.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,S.sA)(ie))},this._onMousedown=ie=>{Date.now()-this._lastTouchMs<650||(this._modality.next(we(ie)?"keyboard":"mouse"),this._mostRecentTarget=(0,S.sA)(ie))},this._onTouchstart=ie=>{at(ie)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,S.sA)(ie))},this._options=Object.assign(Object.assign({},Lt),Le),this.modalityDetected=this._modality.pipe((0,ke.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Fe.x)()),F.isBrowser&&Z.runOutsideAngular(()=>{le.addEventListener("keydown",this._onKeydown,dn),le.addEventListener("mousedown",this._onMousedown,dn),le.addEventListener("touchstart",this._onTouchstart,dn)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dn),document.removeEventListener("mousedown",this._onMousedown,dn),document.removeEventListener("touchstart",this._onTouchstart,dn))}}return H.\u0275fac=function(F){return new(F||H)(C.LFG(S.t4),C.LFG(C.R0b),C.LFG(h.K0),C.LFG(ht,8))},H.\u0275prov=C.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();const xn=new C.OlP("cdk-focus-monitor-default-options"),Nn=(0,S.i$)({passive:!0,capture:!0});let hn=(()=>{class H{constructor(F,Z,le,Le,ie){this._ngZone=F,this._platform=Z,this._inputModalityDetector=le,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ae.x,this._rootNodeFocusAndBlurListener=ot=>{const en=(0,S.sA)(ot),cn="focus"===ot.type?this._onFocus:this._onBlur;for(let bn=en;bn;bn=bn.parentElement)cn.call(this,ot,bn)},this._document=Le,this._detectionMode=(null==ie?void 0:ie.detectionMode)||0}monitor(F,Z=!1){const le=(0,Be.fI)(F);if(!this._platform.isBrowser||1!==le.nodeType)return(0,Pe.of)(null);const Le=(0,S.kV)(le)||this._getDocument(),ie=this._elementInfo.get(le);if(ie)return Z&&(ie.checkChildren=!0),ie.subject;const ot={checkChildren:Z,subject:new ae.x,rootNode:Le};return this._elementInfo.set(le,ot),this._registerGlobalListeners(ot),ot.subject}stopMonitoring(F){const Z=(0,Be.fI)(F),le=this._elementInfo.get(Z);le&&(le.subject.complete(),this._setClasses(Z),this._elementInfo.delete(Z),this._removeGlobalListeners(le))}focusVia(F,Z,le){const Le=(0,Be.fI)(F);Le===this._getDocument().activeElement?this._getClosestElementsInfo(Le).forEach(([ot,en])=>this._originChanged(ot,Z,en)):(this._setOrigin(Z),"function"==typeof Le.focus&&Le.focus(le))}ngOnDestroy(){this._elementInfo.forEach((F,Z)=>this.stopMonitoring(Z))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(F){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(F)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(F){return 1===this._detectionMode||!!(null==F?void 0:F.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(F,Z){F.classList.toggle("cdk-focused",!!Z),F.classList.toggle("cdk-touch-focused","touch"===Z),F.classList.toggle("cdk-keyboard-focused","keyboard"===Z),F.classList.toggle("cdk-mouse-focused","mouse"===Z),F.classList.toggle("cdk-program-focused","program"===Z)}_setOrigin(F,Z=!1){this._ngZone.runOutsideAngular(()=>{this._origin=F,this._originFromTouchInteraction="touch"===F&&Z,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(F,Z){const le=this._elementInfo.get(Z),Le=(0,S.sA)(F);!le||!le.checkChildren&&Z!==Le||this._originChanged(Z,this._getFocusOrigin(Le),le)}_onBlur(F,Z){const le=this._elementInfo.get(Z);!le||le.checkChildren&&F.relatedTarget instanceof Node&&Z.contains(F.relatedTarget)||(this._setClasses(Z),this._emitOrigin(le.subject,null))}_emitOrigin(F,Z){this._ngZone.run(()=>F.next(Z))}_registerGlobalListeners(F){if(!this._platform.isBrowser)return;const Z=F.rootNode,le=this._rootNodeFocusListenerCount.get(Z)||0;le||this._ngZone.runOutsideAngular(()=>{Z.addEventListener("focus",this._rootNodeFocusAndBlurListener,Nn),Z.addEventListener("blur",this._rootNodeFocusAndBlurListener,Nn)}),this._rootNodeFocusListenerCount.set(Z,le+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,it.R)(this._stopInputModalityDetector)).subscribe(Le=>{this._setOrigin(Le,!0)}))}_removeGlobalListeners(F){const Z=F.rootNode;if(this._rootNodeFocusListenerCount.has(Z)){const le=this._rootNodeFocusListenerCount.get(Z);le>1?this._rootNodeFocusListenerCount.set(Z,le-1):(Z.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Nn),Z.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Nn),this._rootNodeFocusListenerCount.delete(Z))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(F,Z,le){this._setClasses(F,Z),this._emitOrigin(le.subject,Z),this._lastFocusOrigin=Z}_getClosestElementsInfo(F){const Z=[];return this._elementInfo.forEach((le,Le)=>{(Le===F||le.checkChildren&&Le.contains(F))&&Z.push([Le,le])}),Z}}return H.\u0275fac=function(F){return new(F||H)(C.LFG(C.R0b),C.LFG(S.t4),C.LFG(Vt),C.LFG(h.K0,8),C.LFG(xn,8))},H.\u0275prov=C.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();const fi="cdk-high-contrast-black-on-white",yi="cdk-high-contrast-white-on-black",gn="cdk-high-contrast-active";let qi=(()=>{class H{constructor(F,Z){this._platform=F,this._document=Z}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const F=this._document.createElement("div");F.style.backgroundColor="rgb(1,2,3)",F.style.position="absolute",this._document.body.appendChild(F);const Z=this._document.defaultView||window,le=Z&&Z.getComputedStyle?Z.getComputedStyle(F):null,Le=(le&&le.backgroundColor||"").replace(/ /g,"");switch(F.remove(),Le){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const F=this._document.body.classList;F.remove(gn),F.remove(fi),F.remove(yi),this._hasCheckedHighContrastMode=!0;const Z=this.getHighContrastMode();1===Z?(F.add(gn),F.add(fi)):2===Z&&(F.add(gn),F.add(yi))}}}return H.\u0275fac=function(F){return new(F||H)(C.LFG(S.t4),C.LFG(h.K0))},H.\u0275prov=C.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},226:(Yt,Ge,w)=>{w.d(Ge,{vT:()=>se,Is:()=>Pe});var h=w(5e3),C=w(9808);const S=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function ae(){return(0,h.f3M)(C.K0)}}),pe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Pe=(()=>{class re{constructor(Ce){if(this.value="ltr",this.change=new h.vpe,Ce){const ke=Ce.documentElement?Ce.documentElement.dir:null;this.value=function ye(re){const me=(null==re?void 0:re.toLowerCase())||"";return"auto"===me&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?pe.test(navigator.language)?"rtl":"ltr":"rtl"===me?"rtl":"ltr"}((Ce.body?Ce.body.dir:null)||ke||"ltr")}}ngOnDestroy(){this.change.complete()}}return re.\u0275fac=function(Ce){return new(Ce||re)(h.LFG(S,8))},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),se=(()=>{class re{}return re.\u0275fac=function(Ce){return new(Ce||re)},re.\u0275mod=h.oAB({type:re}),re.\u0275inj=h.cJS({}),re})()},3191:(Yt,Ge,w)=>{w.d(Ge,{Eq:()=>pe,Ig:()=>C,HM:()=>ye,fI:()=>Pe,su:()=>S});var h=w(5e3);function C(se){return null!=se&&"false"!=`${se}`}function S(se,re=0){return function ae(se){return!isNaN(parseFloat(se))&&!isNaN(Number(se))}(se)?Number(se):re}function pe(se){return Array.isArray(se)?se:[se]}function ye(se){return null==se?"":"string"==typeof se?se:`${se}px`}function Pe(se){return se instanceof h.SBq?se.nativeElement:se}},449:(Yt,Ge,w)=>{w.d(Ge,{o2:()=>S,Ov:()=>ge,Z9:()=>ae});var h=w(7579);w(5e3);class S{}function ae(Ce){return Ce&&"function"==typeof Ce.connect}class ge{constructor(je=!1,ke,Fe=!0){this._multiple=je,this._emitChanges=Fe,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new h.x,ke&&ke.length&&(je?ke.forEach(it=>this._markSelected(it)):this._markSelected(ke[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...je){this._verifyValueAssignment(je),je.forEach(ke=>this._markSelected(ke)),this._emitChangeEvent()}deselect(...je){this._verifyValueAssignment(je),je.forEach(ke=>this._unmarkSelected(ke)),this._emitChangeEvent()}toggle(je){this.isSelected(je)?this.deselect(je):this.select(je)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(je){return this._selection.has(je)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(je){this._multiple&&this.selected&&this._selected.sort(je)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(je){this.isSelected(je)||(this._multiple||this._unmarkAll(),this._selection.add(je),this._emitChanges&&this._selectedToEmit.push(je))}_unmarkSelected(je){this.isSelected(je)&&(this._selection.delete(je),this._emitChanges&&this._deselectedToEmit.push(je))}_unmarkAll(){this.isEmpty()||this._selection.forEach(je=>this._unmarkSelected(je))}_verifyValueAssignment(je){}}},1159:(Yt,Ge,w)=>{w.d(Ge,{A:()=>Mt,zL:()=>ge,ZH:()=>C,jx:()=>Pe,yY:()=>Se,JH:()=>Ht,uR:()=>Fe,K5:()=>pe,hY:()=>me,Sd:()=>it,oh:()=>Be,b2:()=>Fr,MW:()=>Ut,aO:()=>At,SV:()=>Ie,JU:()=>ye,L_:()=>Ce,Mf:()=>S,LH:()=>et,Z:()=>xt,xE:()=>_e,Vb:()=>dr});const C=8,S=9,pe=13,ye=16,Pe=17,ge=18,me=27,Ce=32,Fe=35,it=36,Be=37,et=38,Ie=39,Ht=40,Se=46,_e=48,At=57,Mt=65,xt=90,Ut=91,Fr=224;function dr(ci,...Lr){return Lr.length?Lr.some(ys=>ci[ys]):ci.altKey||ci.shiftKey||ci.ctrlKey||ci.metaKey}},1314:(Yt,Ge,w)=>{w.d(Ge,{aV:()=>Ot,X_:()=>be,Xj:()=>qe,U8:()=>tn});var h=w(5494),C=w(9808),S=w(5e3),ae=w(3191),pe=w(925),ye=w(226),Pe=w(7429),ge=w(7579),se=w(727),re=w(6451),me=w(5698),Ce=w(2722);const je=(0,pe.Mq)();class ke{constructor(Q,we){this._viewportRuler=Q,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=we}attach(){}enable(){if(this._canBeEnabled()){const Q=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Q.style.left||"",this._previousHTMLStyles.top=Q.style.top||"",Q.style.left=(0,ae.HM)(-this._previousScrollPosition.left),Q.style.top=(0,ae.HM)(-this._previousScrollPosition.top),Q.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Q=this._document.documentElement,at=Q.style,ht=this._document.body.style,Lt=at.scrollBehavior||"",sn=ht.scrollBehavior||"";this._isEnabled=!1,at.left=this._previousHTMLStyles.left,at.top=this._previousHTMLStyles.top,Q.classList.remove("cdk-global-scrollblock"),je&&(at.scrollBehavior=ht.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),je&&(at.scrollBehavior=Lt,ht.scrollBehavior=sn)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const we=this._document.body,at=this._viewportRuler.getViewportSize();return we.scrollHeight>at.height||we.scrollWidth>at.width}}class it{constructor(Q,we,at,ht){this._scrollDispatcher=Q,this._ngZone=we,this._viewportRuler=at,this._config=ht,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Q){this._overlayRef=Q}enable(){if(this._scrollSubscription)return;const Q=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Q.subscribe(()=>{const we=this._viewportRuler.getViewportScrollPosition().top;Math.abs(we-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Q.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Be{enable(){}disable(){}attach(){}}function et(Tt,Q){return Q.some(we=>Tt.bottom<we.top||Tt.top>we.bottom||Tt.right<we.left||Tt.left>we.right)}function Ie(Tt,Q){return Q.some(we=>Tt.top<we.top||Tt.bottom>we.bottom||Tt.left<we.left||Tt.right>we.right)}class Ht{constructor(Q,we,at,ht){this._scrollDispatcher=Q,this._viewportRuler=we,this._ngZone=at,this._config=ht,this._scrollSubscription=null}attach(Q){this._overlayRef=Q}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const we=this._overlayRef.overlayElement.getBoundingClientRect(),{width:at,height:ht}=this._viewportRuler.getViewportSize();et(we,[{width:at,height:ht,bottom:ht,right:at,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let tt=(()=>{class Tt{constructor(we,at,ht,Lt){this._scrollDispatcher=we,this._viewportRuler=at,this._ngZone=ht,this.noop=()=>new Be,this.close=sn=>new it(this._scrollDispatcher,this._ngZone,this._viewportRuler,sn),this.block=()=>new ke(this._viewportRuler,this._document),this.reposition=sn=>new Ht(this._scrollDispatcher,this._viewportRuler,this._ngZone,sn),this._document=Lt}}return Tt.\u0275fac=function(we){return new(we||Tt)(S.LFG(h.mF),S.LFG(h.rL),S.LFG(S.R0b),S.LFG(C.K0))},Tt.\u0275prov=S.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})();class be{constructor(Q){if(this.scrollStrategy=new Be,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Q){const we=Object.keys(Q);for(const at of we)void 0!==Q[at]&&(this[at]=Q[at])}}}class _e{constructor(Q,we){this.connectionPair=Q,this.scrollableViewProperties=we}}class ve{constructor(Q,we,at,ht,Lt,sn,dn,Vt,bt){this._portalOutlet=Q,this._host=we,this._pane=at,this._config=ht,this._ngZone=Lt,this._keyboardDispatcher=sn,this._document=dn,this._location=Vt,this._outsideClickDispatcher=bt,this._backdropElement=null,this._backdropClick=new ge.x,this._attachments=new ge.x,this._detachments=new ge.x,this._locationChanges=se.w0.EMPTY,this._backdropClickHandler=Me=>this._backdropClick.next(Me),this._backdropTransitionendHandler=Me=>{this._disposeBackdrop(Me.target)},this._keydownEvents=new ge.x,this._outsidePointerEvents=new ge.x,ht.scrollStrategy&&(this._scrollStrategy=ht.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ht.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Q){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const we=this._portalOutlet.attach(Q);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,me.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),we}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Q=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Q}dispose(){var Q;const we=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(Q=this._host)||void 0===Q||Q.remove(),this._previousHostParent=this._pane=this._host=null,we&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Q){Q!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Q,this.hasAttached()&&(Q.attach(this),this.updatePosition()))}updateSize(Q){this._config=Object.assign(Object.assign({},this._config),Q),this._updateElementSize()}setDirection(Q){this._config=Object.assign(Object.assign({},this._config),{direction:Q}),this._updateElementDirection()}addPanelClass(Q){this._pane&&this._toggleClasses(this._pane,Q,!0)}removePanelClass(Q){this._pane&&this._toggleClasses(this._pane,Q,!1)}getDirection(){const Q=this._config.direction;return Q?"string"==typeof Q?Q:Q.value:"ltr"}updateScrollStrategy(Q){Q!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Q,this.hasAttached()&&(Q.attach(this),Q.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Q=this._pane.style;Q.width=(0,ae.HM)(this._config.width),Q.height=(0,ae.HM)(this._config.height),Q.minWidth=(0,ae.HM)(this._config.minWidth),Q.minHeight=(0,ae.HM)(this._config.minHeight),Q.maxWidth=(0,ae.HM)(this._config.maxWidth),Q.maxHeight=(0,ae.HM)(this._config.maxHeight)}_togglePointerEvents(Q){this._pane.style.pointerEvents=Q?"":"none"}_attachBackdrop(){const Q="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Q)})}):this._backdropElement.classList.add(Q)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Q=this._backdropElement;!Q||(Q.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Q.addEventListener("transitionend",this._backdropTransitionendHandler)}),Q.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Q)},500)))}_toggleClasses(Q,we,at){const ht=(0,ae.Eq)(we||[]).filter(Lt=>!!Lt);ht.length&&(at?Q.classList.add(...ht):Q.classList.remove(...ht))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Q=this._ngZone.onStable.pipe((0,Ce.R)((0,re.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Q.unsubscribe())})})}_disposeScrollStrategy(){const Q=this._scrollStrategy;Q&&(Q.disable(),Q.detach&&Q.detach())}_disposeBackdrop(Q){Q&&(Q.removeEventListener("click",this._backdropClickHandler),Q.removeEventListener("transitionend",this._backdropTransitionendHandler),Q.remove(),this._backdropElement===Q&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let qe=(()=>{class Tt{constructor(we,at){this._platform=at,this._document=we}ngOnDestroy(){var we;null===(we=this._containerElement)||void 0===we||we.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const we="cdk-overlay-container";if(this._platform.isBrowser||(0,pe.Oy)()){const ht=this._document.querySelectorAll(`.${we}[platform="server"], .${we}[platform="test"]`);for(let Lt=0;Lt<ht.length;Lt++)ht[Lt].remove()}const at=this._document.createElement("div");at.classList.add(we),(0,pe.Oy)()?at.setAttribute("platform","test"):this._platform.isBrowser||at.setAttribute("platform","server"),this._document.body.appendChild(at),this._containerElement=at}}return Tt.\u0275fac=function(we){return new(we||Tt)(S.LFG(C.K0),S.LFG(pe.t4))},Tt.\u0275prov=S.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})();const Je="cdk-overlay-connected-position-bounding-box",_t=/([A-Za-z%]+)$/;class dt{constructor(Q,we,at,ht,Lt){this._viewportRuler=we,this._document=at,this._platform=ht,this._overlayContainer=Lt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ge.x,this._resizeSubscription=se.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Q)}get positions(){return this._preferredPositions}attach(Q){this._validatePositions(),Q.hostElement.classList.add(Je),this._overlayRef=Q,this._boundingBox=Q.hostElement,this._pane=Q.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Q=this._originRect,we=this._overlayRect,at=this._viewportRect,ht=this._containerRect,Lt=[];let sn;for(let dn of this._preferredPositions){let Vt=this._getOriginPoint(Q,ht,dn),bt=this._getOverlayPoint(Vt,we,dn),Me=this._getOverlayFit(bt,we,at,dn);if(Me.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(dn,Vt);this._canFitWithFlexibleDimensions(Me,bt,at)?Lt.push({position:dn,origin:Vt,overlayRect:we,boundingBoxRect:this._calculateBoundingBoxRect(Vt,dn)}):(!sn||sn.overlayFit.visibleArea<Me.visibleArea)&&(sn={overlayFit:Me,overlayPoint:bt,originPoint:Vt,position:dn,overlayRect:we})}if(Lt.length){let dn=null,Vt=-1;for(const bt of Lt){const Me=bt.boundingBoxRect.width*bt.boundingBoxRect.height*(bt.position.weight||1);Me>Vt&&(Vt=Me,dn=bt)}return this._isPushed=!1,void this._applyPosition(dn.position,dn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(sn.position,sn.originPoint);this._applyPosition(sn.position,sn.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Je),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Q=this._lastPosition;if(Q){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const we=this._getOriginPoint(this._originRect,this._containerRect,Q);this._applyPosition(Q,we)}else this.apply()}withScrollableContainers(Q){return this._scrollables=Q,this}withPositions(Q){return this._preferredPositions=Q,-1===Q.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Q){return this._viewportMargin=Q,this}withFlexibleDimensions(Q=!0){return this._hasFlexibleDimensions=Q,this}withGrowAfterOpen(Q=!0){return this._growAfterOpen=Q,this}withPush(Q=!0){return this._canPush=Q,this}withLockedPosition(Q=!0){return this._positionLocked=Q,this}setOrigin(Q){return this._origin=Q,this}withDefaultOffsetX(Q){return this._offsetX=Q,this}withDefaultOffsetY(Q){return this._offsetY=Q,this}withTransformOriginOn(Q){return this._transformOriginSelector=Q,this}_getOriginPoint(Q,we,at){let ht,Lt;if("center"==at.originX)ht=Q.left+Q.width/2;else{const sn=this._isRtl()?Q.right:Q.left,dn=this._isRtl()?Q.left:Q.right;ht="start"==at.originX?sn:dn}return we.left<0&&(ht-=we.left),Lt="center"==at.originY?Q.top+Q.height/2:"top"==at.originY?Q.top:Q.bottom,we.top<0&&(Lt-=we.top),{x:ht,y:Lt}}_getOverlayPoint(Q,we,at){let ht,Lt;return ht="center"==at.overlayX?-we.width/2:"start"===at.overlayX?this._isRtl()?-we.width:0:this._isRtl()?0:-we.width,Lt="center"==at.overlayY?-we.height/2:"top"==at.overlayY?0:-we.height,{x:Q.x+ht,y:Q.y+Lt}}_getOverlayFit(Q,we,at,ht){const Lt=nt(we);let{x:sn,y:dn}=Q,Vt=this._getOffset(ht,"x"),bt=this._getOffset(ht,"y");Vt&&(sn+=Vt),bt&&(dn+=bt);let xt=0-dn,Ut=dn+Lt.height-at.height,xn=this._subtractOverflows(Lt.width,0-sn,sn+Lt.width-at.width),Nn=this._subtractOverflows(Lt.height,xt,Ut),hn=xn*Nn;return{visibleArea:hn,isCompletelyWithinViewport:Lt.width*Lt.height===hn,fitsInViewportVertically:Nn===Lt.height,fitsInViewportHorizontally:xn==Lt.width}}_canFitWithFlexibleDimensions(Q,we,at){if(this._hasFlexibleDimensions){const ht=at.bottom-we.y,Lt=at.right-we.x,sn=At(this._overlayRef.getConfig().minHeight),dn=At(this._overlayRef.getConfig().minWidth),bt=Q.fitsInViewportHorizontally||null!=dn&&dn<=Lt;return(Q.fitsInViewportVertically||null!=sn&&sn<=ht)&&bt}return!1}_pushOverlayOnScreen(Q,we,at){if(this._previousPushAmount&&this._positionLocked)return{x:Q.x+this._previousPushAmount.x,y:Q.y+this._previousPushAmount.y};const ht=nt(we),Lt=this._viewportRect,sn=Math.max(Q.x+ht.width-Lt.width,0),dn=Math.max(Q.y+ht.height-Lt.height,0),Vt=Math.max(Lt.top-at.top-Q.y,0),bt=Math.max(Lt.left-at.left-Q.x,0);let Me=0,gt=0;return Me=ht.width<=Lt.width?bt||-sn:Q.x<this._viewportMargin?Lt.left-at.left-Q.x:0,gt=ht.height<=Lt.height?Vt||-dn:Q.y<this._viewportMargin?Lt.top-at.top-Q.y:0,this._previousPushAmount={x:Me,y:gt},{x:Q.x+Me,y:Q.y+gt}}_applyPosition(Q,we){if(this._setTransformOrigin(Q),this._setOverlayElementStyles(we,Q),this._setBoundingBoxStyles(we,Q),Q.panelClass&&this._addPanelClasses(Q.panelClass),this._lastPosition=Q,this._positionChanges.observers.length){const at=this._getScrollVisibility(),ht=new _e(Q,at);this._positionChanges.next(ht)}this._isInitialRender=!1}_setTransformOrigin(Q){if(!this._transformOriginSelector)return;const we=this._boundingBox.querySelectorAll(this._transformOriginSelector);let at,ht=Q.overlayY;at="center"===Q.overlayX?"center":this._isRtl()?"start"===Q.overlayX?"right":"left":"start"===Q.overlayX?"left":"right";for(let Lt=0;Lt<we.length;Lt++)we[Lt].style.transformOrigin=`${at} ${ht}`}_calculateBoundingBoxRect(Q,we){const at=this._viewportRect,ht=this._isRtl();let Lt,sn,dn,Me,gt,xt;if("top"===we.overlayY)sn=Q.y,Lt=at.height-sn+this._viewportMargin;else if("bottom"===we.overlayY)dn=at.height-Q.y+2*this._viewportMargin,Lt=at.height-dn+this._viewportMargin;else{const Ut=Math.min(at.bottom-Q.y+at.top,Q.y),xn=this._lastBoundingBoxSize.height;Lt=2*Ut,sn=Q.y-Ut,Lt>xn&&!this._isInitialRender&&!this._growAfterOpen&&(sn=Q.y-xn/2)}if("end"===we.overlayX&&!ht||"start"===we.overlayX&&ht)xt=at.width-Q.x+this._viewportMargin,Me=Q.x-this._viewportMargin;else if("start"===we.overlayX&&!ht||"end"===we.overlayX&&ht)gt=Q.x,Me=at.right-Q.x;else{const Ut=Math.min(at.right-Q.x+at.left,Q.x),xn=this._lastBoundingBoxSize.width;Me=2*Ut,gt=Q.x-Ut,Me>xn&&!this._isInitialRender&&!this._growAfterOpen&&(gt=Q.x-xn/2)}return{top:sn,left:gt,bottom:dn,right:xt,width:Me,height:Lt}}_setBoundingBoxStyles(Q,we){const at=this._calculateBoundingBoxRect(Q,we);!this._isInitialRender&&!this._growAfterOpen&&(at.height=Math.min(at.height,this._lastBoundingBoxSize.height),at.width=Math.min(at.width,this._lastBoundingBoxSize.width));const ht={};if(this._hasExactPosition())ht.top=ht.left="0",ht.bottom=ht.right=ht.maxHeight=ht.maxWidth="",ht.width=ht.height="100%";else{const Lt=this._overlayRef.getConfig().maxHeight,sn=this._overlayRef.getConfig().maxWidth;ht.height=(0,ae.HM)(at.height),ht.top=(0,ae.HM)(at.top),ht.bottom=(0,ae.HM)(at.bottom),ht.width=(0,ae.HM)(at.width),ht.left=(0,ae.HM)(at.left),ht.right=(0,ae.HM)(at.right),ht.alignItems="center"===we.overlayX?"center":"end"===we.overlayX?"flex-end":"flex-start",ht.justifyContent="center"===we.overlayY?"center":"bottom"===we.overlayY?"flex-end":"flex-start",Lt&&(ht.maxHeight=(0,ae.HM)(Lt)),sn&&(ht.maxWidth=(0,ae.HM)(sn))}this._lastBoundingBoxSize=at,kt(this._boundingBox.style,ht)}_resetBoundingBoxStyles(){kt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Q,we){const at={},ht=this._hasExactPosition(),Lt=this._hasFlexibleDimensions,sn=this._overlayRef.getConfig();if(ht){const Me=this._viewportRuler.getViewportScrollPosition();kt(at,this._getExactOverlayY(we,Q,Me)),kt(at,this._getExactOverlayX(we,Q,Me))}else at.position="static";let dn="",Vt=this._getOffset(we,"x"),bt=this._getOffset(we,"y");Vt&&(dn+=`translateX(${Vt}px) `),bt&&(dn+=`translateY(${bt}px)`),at.transform=dn.trim(),sn.maxHeight&&(ht?at.maxHeight=(0,ae.HM)(sn.maxHeight):Lt&&(at.maxHeight="")),sn.maxWidth&&(ht?at.maxWidth=(0,ae.HM)(sn.maxWidth):Lt&&(at.maxWidth="")),kt(this._pane.style,at)}_getExactOverlayY(Q,we,at){let ht={top:"",bottom:""},Lt=this._getOverlayPoint(we,this._overlayRect,Q);return this._isPushed&&(Lt=this._pushOverlayOnScreen(Lt,this._overlayRect,at)),"bottom"===Q.overlayY?ht.bottom=this._document.documentElement.clientHeight-(Lt.y+this._overlayRect.height)+"px":ht.top=(0,ae.HM)(Lt.y),ht}_getExactOverlayX(Q,we,at){let sn,ht={left:"",right:""},Lt=this._getOverlayPoint(we,this._overlayRect,Q);return this._isPushed&&(Lt=this._pushOverlayOnScreen(Lt,this._overlayRect,at)),sn=this._isRtl()?"end"===Q.overlayX?"left":"right":"end"===Q.overlayX?"right":"left","right"===sn?ht.right=this._document.documentElement.clientWidth-(Lt.x+this._overlayRect.width)+"px":ht.left=(0,ae.HM)(Lt.x),ht}_getScrollVisibility(){const Q=this._getOriginRect(),we=this._pane.getBoundingClientRect(),at=this._scrollables.map(ht=>ht.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ie(Q,at),isOriginOutsideView:et(Q,at),isOverlayClipped:Ie(we,at),isOverlayOutsideView:et(we,at)}}_subtractOverflows(Q,...we){return we.reduce((at,ht)=>at-Math.max(ht,0),Q)}_getNarrowedViewportRect(){const Q=this._document.documentElement.clientWidth,we=this._document.documentElement.clientHeight,at=this._viewportRuler.getViewportScrollPosition();return{top:at.top+this._viewportMargin,left:at.left+this._viewportMargin,right:at.left+Q-this._viewportMargin,bottom:at.top+we-this._viewportMargin,width:Q-2*this._viewportMargin,height:we-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Q,we){return"x"===we?null==Q.offsetX?this._offsetX:Q.offsetX:null==Q.offsetY?this._offsetY:Q.offsetY}_validatePositions(){}_addPanelClasses(Q){this._pane&&(0,ae.Eq)(Q).forEach(we=>{""!==we&&-1===this._appliedPanelClasses.indexOf(we)&&(this._appliedPanelClasses.push(we),this._pane.classList.add(we))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Q=>{this._pane.classList.remove(Q)}),this._appliedPanelClasses=[])}_getOriginRect(){const Q=this._origin;if(Q instanceof S.SBq)return Q.nativeElement.getBoundingClientRect();if(Q instanceof Element)return Q.getBoundingClientRect();const we=Q.width||0,at=Q.height||0;return{top:Q.y,bottom:Q.y+at,left:Q.x,right:Q.x+we,height:at,width:we}}}function kt(Tt,Q){for(let we in Q)Q.hasOwnProperty(we)&&(Tt[we]=Q[we]);return Tt}function At(Tt){if("number"!=typeof Tt&&null!=Tt){const[Q,we]=Tt.split(_t);return we&&"px"!==we?null:parseFloat(Q)}return Tt||null}function nt(Tt){return{top:Math.floor(Tt.top),right:Math.floor(Tt.right),bottom:Math.floor(Tt.bottom),left:Math.floor(Tt.left),width:Math.floor(Tt.width),height:Math.floor(Tt.height)}}const Ke="cdk-global-overlay-wrapper";class Ue{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(Q){const we=Q.getConfig();this._overlayRef=Q,this._width&&!we.width&&Q.updateSize({width:this._width}),this._height&&!we.height&&Q.updateSize({height:this._height}),Q.hostElement.classList.add(Ke),this._isDisposed=!1}top(Q=""){return this._bottomOffset="",this._topOffset=Q,this._alignItems="flex-start",this}left(Q=""){return this._rightOffset="",this._leftOffset=Q,this._justifyContent="flex-start",this}bottom(Q=""){return this._topOffset="",this._bottomOffset=Q,this._alignItems="flex-end",this}right(Q=""){return this._leftOffset="",this._rightOffset=Q,this._justifyContent="flex-end",this}width(Q=""){return this._overlayRef?this._overlayRef.updateSize({width:Q}):this._width=Q,this}height(Q=""){return this._overlayRef?this._overlayRef.updateSize({height:Q}):this._height=Q,this}centerHorizontally(Q=""){return this.left(Q),this._justifyContent="center",this}centerVertically(Q=""){return this.top(Q),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Q=this._overlayRef.overlayElement.style,we=this._overlayRef.hostElement.style,at=this._overlayRef.getConfig(),{width:ht,height:Lt,maxWidth:sn,maxHeight:dn}=at,Vt=!("100%"!==ht&&"100vw"!==ht||sn&&"100%"!==sn&&"100vw"!==sn),bt=!("100%"!==Lt&&"100vh"!==Lt||dn&&"100%"!==dn&&"100vh"!==dn);Q.position=this._cssPosition,Q.marginLeft=Vt?"0":this._leftOffset,Q.marginTop=bt?"0":this._topOffset,Q.marginBottom=this._bottomOffset,Q.marginRight=this._rightOffset,Vt?we.justifyContent="flex-start":"center"===this._justifyContent?we.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?we.justifyContent="flex-end":"flex-end"===this._justifyContent&&(we.justifyContent="flex-start"):we.justifyContent=this._justifyContent,we.alignItems=bt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Q=this._overlayRef.overlayElement.style,we=this._overlayRef.hostElement,at=we.style;we.classList.remove(Ke),at.justifyContent=at.alignItems=Q.marginTop=Q.marginBottom=Q.marginLeft=Q.marginRight=Q.position="",this._overlayRef=null,this._isDisposed=!0}}let Dt=(()=>{class Tt{constructor(we,at,ht,Lt){this._viewportRuler=we,this._document=at,this._platform=ht,this._overlayContainer=Lt}global(){return new Ue}flexibleConnectedTo(we){return new dt(we,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Tt.\u0275fac=function(we){return new(we||Tt)(S.LFG(h.rL),S.LFG(C.K0),S.LFG(pe.t4),S.LFG(qe))},Tt.\u0275prov=S.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})(),Mt=(()=>{class Tt{constructor(we){this._attachedOverlays=[],this._document=we}ngOnDestroy(){this.detach()}add(we){this.remove(we),this._attachedOverlays.push(we)}remove(we){const at=this._attachedOverlays.indexOf(we);at>-1&&this._attachedOverlays.splice(at,1),0===this._attachedOverlays.length&&this.detach()}}return Tt.\u0275fac=function(we){return new(we||Tt)(S.LFG(C.K0))},Tt.\u0275prov=S.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})(),ze=(()=>{class Tt extends Mt{constructor(we,at){super(we),this._ngZone=at,this._keydownListener=ht=>{const Lt=this._attachedOverlays;for(let sn=Lt.length-1;sn>-1;sn--)if(Lt[sn]._keydownEvents.observers.length>0){const dn=Lt[sn]._keydownEvents;this._ngZone?this._ngZone.run(()=>dn.next(ht)):dn.next(ht);break}}}add(we){super.add(we),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Tt.\u0275fac=function(we){return new(we||Tt)(S.LFG(C.K0),S.LFG(S.R0b,8))},Tt.\u0275prov=S.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})(),yt=(()=>{class Tt extends Mt{constructor(we,at,ht){super(we),this._platform=at,this._ngZone=ht,this._cursorStyleIsSet=!1,this._pointerDownListener=Lt=>{this._pointerDownEventTarget=(0,pe.sA)(Lt)},this._clickListener=Lt=>{const sn=(0,pe.sA)(Lt),dn="click"===Lt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:sn;this._pointerDownEventTarget=null;const Vt=this._attachedOverlays.slice();for(let bt=Vt.length-1;bt>-1;bt--){const Me=Vt[bt];if(Me._outsidePointerEvents.observers.length<1||!Me.hasAttached())continue;if(Me.overlayElement.contains(sn)||Me.overlayElement.contains(dn))break;const gt=Me._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>gt.next(Lt)):gt.next(Lt)}}}add(we){if(super.add(we),!this._isAttached){const at=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(at)):this._addEventListeners(at),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=at.style.cursor,at.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const we=this._document.body;we.removeEventListener("pointerdown",this._pointerDownListener,!0),we.removeEventListener("click",this._clickListener,!0),we.removeEventListener("auxclick",this._clickListener,!0),we.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(we.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(we){we.addEventListener("pointerdown",this._pointerDownListener,!0),we.addEventListener("click",this._clickListener,!0),we.addEventListener("auxclick",this._clickListener,!0),we.addEventListener("contextmenu",this._clickListener,!0)}}return Tt.\u0275fac=function(we){return new(we||Tt)(S.LFG(C.K0),S.LFG(pe.t4),S.LFG(S.R0b,8))},Tt.\u0275prov=S.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})(),un=0,Ot=(()=>{class Tt{constructor(we,at,ht,Lt,sn,dn,Vt,bt,Me,gt,xt){this.scrollStrategies=we,this._overlayContainer=at,this._componentFactoryResolver=ht,this._positionBuilder=Lt,this._keyboardDispatcher=sn,this._injector=dn,this._ngZone=Vt,this._document=bt,this._directionality=Me,this._location=gt,this._outsideClickDispatcher=xt}create(we){const at=this._createHostElement(),ht=this._createPaneElement(at),Lt=this._createPortalOutlet(ht),sn=new be(we);return sn.direction=sn.direction||this._directionality.value,new ve(Lt,at,ht,sn,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(we){const at=this._document.createElement("div");return at.id="cdk-overlay-"+un++,at.classList.add("cdk-overlay-pane"),we.appendChild(at),at}_createHostElement(){const we=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(we),we}_createPortalOutlet(we){return this._appRef||(this._appRef=this._injector.get(S.z2F)),new Pe.u0(we,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Tt.\u0275fac=function(we){return new(we||Tt)(S.LFG(tt),S.LFG(qe),S.LFG(S._Vd),S.LFG(Dt),S.LFG(ze),S.LFG(S.zs3),S.LFG(S.R0b),S.LFG(C.K0),S.LFG(ye.Is),S.LFG(C.Ye),S.LFG(yt))},Tt.\u0275prov=S.Yz7({token:Tt,factory:Tt.\u0275fac}),Tt})();const pt={provide:new S.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Ot],useFactory:function De(Tt){return()=>Tt.scrollStrategies.reposition()}};let tn=(()=>{class Tt{}return Tt.\u0275fac=function(we){return new(we||Tt)},Tt.\u0275mod=S.oAB({type:Tt}),Tt.\u0275inj=S.cJS({providers:[Ot,pt],imports:[[ye.vT,Pe.eL,h.Cl],h.Cl]}),Tt})()},925:(Yt,Ge,w)=>{w.d(Ge,{t4:()=>ae,sA:()=>Ht,ht:()=>Ie,kV:()=>et,Oy:()=>tt,_i:()=>Fe,i$:()=>me,Mq:()=>ke});var h=w(5e3),C=w(9808);let S;try{S="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(be){S=!1}let se,Ce,je,it,ae=(()=>{class be{constructor(Se){this._platformId=Se,this.isBrowser=this._platformId?(0,C.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return be.\u0275fac=function(Se){return new(Se||be)(h.LFG(h.Lbi))},be.\u0275prov=h.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function me(be){return function re(){if(null==se&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>se=!0}))}finally{se=se||!1}return se}()?be:!!be.capture}function ke(){if(null==je){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return je=!1,je;if("scrollBehavior"in document.documentElement.style)je=!0;else{const be=Element.prototype.scrollTo;je=!!be&&!/\{\s*\[native code\]\s*\}/.test(be.toString())}}return je}function Fe(){if("object"!=typeof document||!document)return 0;if(null==Ce){const be=document.createElement("div"),he=be.style;be.dir="rtl",he.width="1px",he.overflow="auto",he.visibility="hidden",he.pointerEvents="none",he.position="absolute";const Se=document.createElement("div"),_e=Se.style;_e.width="2px",_e.height="1px",be.appendChild(Se),document.body.appendChild(be),Ce=0,0===be.scrollLeft&&(be.scrollLeft=1,Ce=0===be.scrollLeft?1:2),be.remove()}return Ce}function et(be){if(function Be(){if(null==it){const be="undefined"!=typeof document?document.head:null;it=!(!be||!be.createShadowRoot&&!be.attachShadow)}return it}()){const he=be.getRootNode?be.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&he instanceof ShadowRoot)return he}return null}function Ie(){let be="undefined"!=typeof document&&document?document.activeElement:null;for(;be&&be.shadowRoot;){const he=be.shadowRoot.activeElement;if(he===be)break;be=he}return be}function Ht(be){return be.composedPath?be.composedPath()[0]:be.target}function tt(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:(Yt,Ge,w)=>{w.d(Ge,{en:()=>je,Pl:()=>Ie,C5:()=>re,u0:()=>Fe,eL:()=>tt,UE:()=>me});var h=w(5e3),C=w(9808);class se{attach(Se){return this._attachedHost=Se,Se.attach(this)}detach(){let Se=this._attachedHost;null!=Se&&(this._attachedHost=null,Se.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Se){this._attachedHost=Se}}class re extends se{constructor(Se,_e,Y,Ve){super(),this.component=Se,this.viewContainerRef=_e,this.injector=Y,this.componentFactoryResolver=Ve}}class me extends se{constructor(Se,_e,Y){super(),this.templateRef=Se,this.viewContainerRef=_e,this.context=Y}get origin(){return this.templateRef.elementRef}attach(Se,_e=this.context){return this.context=_e,super.attach(Se)}detach(){return this.context=void 0,super.detach()}}class Ce extends se{constructor(Se){super(),this.element=Se instanceof h.SBq?Se.nativeElement:Se}}class je{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Se){return Se instanceof re?(this._attachedPortal=Se,this.attachComponentPortal(Se)):Se instanceof me?(this._attachedPortal=Se,this.attachTemplatePortal(Se)):this.attachDomPortal&&Se instanceof Ce?(this._attachedPortal=Se,this.attachDomPortal(Se)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Se){this._disposeFn=Se}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Fe extends je{constructor(Se,_e,Y,Ve,ve){super(),this.outletElement=Se,this._componentFactoryResolver=_e,this._appRef=Y,this._defaultInjector=Ve,this.attachDomPortal=qe=>{const Je=qe.element,_t=this._document.createComment("dom-portal");Je.parentNode.insertBefore(_t,Je),this.outletElement.appendChild(Je),this._attachedPortal=qe,super.setDisposeFn(()=>{_t.parentNode&&_t.parentNode.replaceChild(Je,_t)})},this._document=ve}attachComponentPortal(Se){const Y=(Se.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Se.component);let Ve;return Se.viewContainerRef?(Ve=Se.viewContainerRef.createComponent(Y,Se.viewContainerRef.length,Se.injector||Se.viewContainerRef.injector),this.setDisposeFn(()=>Ve.destroy())):(Ve=Y.create(Se.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(Ve.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ve.hostView),Ve.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ve)),this._attachedPortal=Se,Ve}attachTemplatePortal(Se){let _e=Se.viewContainerRef,Y=_e.createEmbeddedView(Se.templateRef,Se.context);return Y.rootNodes.forEach(Ve=>this.outletElement.appendChild(Ve)),Y.detectChanges(),this.setDisposeFn(()=>{let Ve=_e.indexOf(Y);-1!==Ve&&_e.remove(Ve)}),this._attachedPortal=Se,Y}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Se){return Se.hostView.rootNodes[0]}}let Ie=(()=>{class he extends je{constructor(_e,Y,Ve){super(),this._componentFactoryResolver=_e,this._viewContainerRef=Y,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=ve=>{const qe=ve.element,Je=this._document.createComment("dom-portal");ve.setAttachedHost(this),qe.parentNode.insertBefore(Je,qe),this._getRootNode().appendChild(qe),this._attachedPortal=ve,super.setDisposeFn(()=>{Je.parentNode&&Je.parentNode.replaceChild(qe,Je)})},this._document=Ve}get portal(){return this._attachedPortal}set portal(_e){this.hasAttached()&&!_e&&!this._isInitialized||(this.hasAttached()&&super.detach(),_e&&super.attach(_e),this._attachedPortal=_e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(_e){_e.setAttachedHost(this);const Y=null!=_e.viewContainerRef?_e.viewContainerRef:this._viewContainerRef,ve=(_e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(_e.component),qe=Y.createComponent(ve,Y.length,_e.injector||Y.injector);return Y!==this._viewContainerRef&&this._getRootNode().appendChild(qe.hostView.rootNodes[0]),super.setDisposeFn(()=>qe.destroy()),this._attachedPortal=_e,this._attachedRef=qe,this.attached.emit(qe),qe}attachTemplatePortal(_e){_e.setAttachedHost(this);const Y=this._viewContainerRef.createEmbeddedView(_e.templateRef,_e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=_e,this._attachedRef=Y,this.attached.emit(Y),Y}_getRootNode(){const _e=this._viewContainerRef.element.nativeElement;return _e.nodeType===_e.ELEMENT_NODE?_e:_e.parentNode}}return he.\u0275fac=function(_e){return new(_e||he)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(C.K0))},he.\u0275dir=h.lG2({type:he,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),he})(),tt=(()=>{class he{}return he.\u0275fac=function(_e){return new(_e||he)},he.\u0275mod=h.oAB({type:he}),he.\u0275inj=h.cJS({}),he})()},5494:(Yt,Ge,w)=>{w.d(Ge,{PQ:()=>tn,ZD:()=>sn,mF:()=>pt,Cl:()=>dn,rL:()=>Tt});var h=w(3191),C=w(5e3),S=w(4408),ae=w(727);const pe={schedule(Vt){let bt=requestAnimationFrame,Me=cancelAnimationFrame;const{delegate:gt}=pe;gt&&(bt=gt.requestAnimationFrame,Me=gt.cancelAnimationFrame);const xt=bt(Ut=>{Me=void 0,Vt(Ut)});return new ae.w0(()=>null==Me?void 0:Me(xt))},requestAnimationFrame(...Vt){const{delegate:bt}=pe;return((null==bt?void 0:bt.requestAnimationFrame)||requestAnimationFrame)(...Vt)},cancelAnimationFrame(...Vt){const{delegate:bt}=pe;return((null==bt?void 0:bt.cancelAnimationFrame)||cancelAnimationFrame)(...Vt)},delegate:void 0};var Pe=w(7565);new class ge extends Pe.v{flush(bt){this._active=!0;const Me=this._scheduled;this._scheduled=void 0;const{actions:gt}=this;let xt;bt=bt||gt.shift();do{if(xt=bt.execute(bt.state,bt.delay))break}while((bt=gt[0])&&bt.id===Me&&gt.shift());if(this._active=!1,xt){for(;(bt=gt[0])&&bt.id===Me&&gt.shift();)bt.unsubscribe();throw xt}}}(class ye extends S.o{constructor(bt,Me){super(bt,Me),this.scheduler=bt,this.work=Me}requestAsyncId(bt,Me,gt=0){return null!==gt&&gt>0?super.requestAsyncId(bt,Me,gt):(bt.actions.push(this),bt._scheduled||(bt._scheduled=pe.requestAnimationFrame(()=>bt.flush(void 0))))}recycleAsyncId(bt,Me,gt=0){if(null!=gt&&gt>0||null==gt&&this.delay>0)return super.recycleAsyncId(bt,Me,gt);bt.actions.some(xt=>xt.id===Me)||(pe.cancelAnimationFrame(Me),bt._scheduled=void 0)}});let Ce,me=1;const je={};function ke(Vt){return Vt in je&&(delete je[Vt],!0)}const Fe={setImmediate(Vt){const bt=me++;return je[bt]=!0,Ce||(Ce=Promise.resolve()),Ce.then(()=>ke(bt)&&Vt()),bt},clearImmediate(Vt){ke(Vt)}},{setImmediate:Be,clearImmediate:et}=Fe,Ie={setImmediate(...Vt){const{delegate:bt}=Ie;return((null==bt?void 0:bt.setImmediate)||Be)(...Vt)},clearImmediate(Vt){const{delegate:bt}=Ie;return((null==bt?void 0:bt.clearImmediate)||et)(Vt)},delegate:void 0};new class tt extends Pe.v{flush(bt){this._active=!0;const Me=this._scheduled;this._scheduled=void 0;const{actions:gt}=this;let xt;bt=bt||gt.shift();do{if(xt=bt.execute(bt.state,bt.delay))break}while((bt=gt[0])&&bt.id===Me&&gt.shift());if(this._active=!1,xt){for(;(bt=gt[0])&&bt.id===Me&&gt.shift();)bt.unsubscribe();throw xt}}}(class Ht extends S.o{constructor(bt,Me){super(bt,Me),this.scheduler=bt,this.work=Me}requestAsyncId(bt,Me,gt=0){return null!==gt&&gt>0?super.requestAsyncId(bt,Me,gt):(bt.actions.push(this),bt._scheduled||(bt._scheduled=Ie.setImmediate(bt.flush.bind(bt,void 0))))}recycleAsyncId(bt,Me,gt=0){if(null!=gt&&gt>0||null==gt&&this.delay>0)return super.recycleAsyncId(bt,Me,gt);bt.actions.some(xt=>xt.id===Me)||(Ie.clearImmediate(Me),bt._scheduled=void 0)}});var Se=w(7579),_e=w(9646),Y=w(8306),Ve=w(4968),ve=w(4986),qe=w(4482),Je=w(8421),_t=w(5403),kt=w(3532);function Ke(Vt,bt=ve.z){return function dt(Vt){return(0,qe.e)((bt,Me)=>{let gt=!1,xt=null,Ut=null,xn=!1;const Nn=()=>{if(null==Ut||Ut.unsubscribe(),Ut=null,gt){gt=!1;const hi=xt;xt=null,Me.next(hi)}xn&&Me.complete()},hn=()=>{Ut=null,xn&&Me.complete()};bt.subscribe((0,_t.x)(Me,hi=>{gt=!0,xt=hi,Ut||(0,Je.Xf)(Vt(hi)).subscribe(Ut=(0,_t.x)(Me,Nn,hn))},()=>{xn=!0,(!gt||!Ut||Ut.closed)&&Me.complete()}))})}(()=>function nt(Vt=0,bt,Me=ve.P){let gt=-1;return null!=bt&&((0,kt.K)(bt)?Me=bt:gt=bt),new Y.y(xt=>{let Ut=function At(Vt){return Vt instanceof Date&&!isNaN(Vt)}(Vt)?+Vt-Me.now():Vt;Ut<0&&(Ut=0);let xn=0;return Me.schedule(function(){xt.closed||(xt.next(xn++),0<=gt?this.schedule(void 0,gt):xt.complete())},Ut)})}(Vt,bt))}var Ue=w(9300),Dt=w(2722),Mt=w(9808),ze=w(925),yt=w(226);let pt=(()=>{class Vt{constructor(Me,gt,xt){this._ngZone=Me,this._platform=gt,this._scrolled=new Se.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=xt}register(Me){this.scrollContainers.has(Me)||this.scrollContainers.set(Me,Me.elementScrolled().subscribe(()=>this._scrolled.next(Me)))}deregister(Me){const gt=this.scrollContainers.get(Me);gt&&(gt.unsubscribe(),this.scrollContainers.delete(Me))}scrolled(Me=20){return this._platform.isBrowser?new Y.y(gt=>{this._globalSubscription||this._addGlobalListener();const xt=Me>0?this._scrolled.pipe(Ke(Me)).subscribe(gt):this._scrolled.subscribe(gt);return this._scrolledCount++,()=>{xt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,_e.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Me,gt)=>this.deregister(gt)),this._scrolled.complete()}ancestorScrolled(Me,gt){const xt=this.getAncestorScrollContainers(Me);return this.scrolled(gt).pipe((0,Ue.h)(Ut=>!Ut||xt.indexOf(Ut)>-1))}getAncestorScrollContainers(Me){const gt=[];return this.scrollContainers.forEach((xt,Ut)=>{this._scrollableContainsElement(Ut,Me)&&gt.push(Ut)}),gt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Me,gt){let xt=(0,h.fI)(gt),Ut=Me.getElementRef().nativeElement;do{if(xt==Ut)return!0}while(xt=xt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Me=this._getWindow();return(0,Ve.R)(Me.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Vt.\u0275fac=function(Me){return new(Me||Vt)(C.LFG(C.R0b),C.LFG(ze.t4),C.LFG(Mt.K0,8))},Vt.\u0275prov=C.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})(),tn=(()=>{class Vt{constructor(Me,gt,xt,Ut){this.elementRef=Me,this.scrollDispatcher=gt,this.ngZone=xt,this.dir=Ut,this._destroyed=new Se.x,this._elementScrolled=new Y.y(xn=>this.ngZone.runOutsideAngular(()=>(0,Ve.R)(this.elementRef.nativeElement,"scroll").pipe((0,Dt.R)(this._destroyed)).subscribe(xn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Me){const gt=this.elementRef.nativeElement,xt=this.dir&&"rtl"==this.dir.value;null==Me.left&&(Me.left=xt?Me.end:Me.start),null==Me.right&&(Me.right=xt?Me.start:Me.end),null!=Me.bottom&&(Me.top=gt.scrollHeight-gt.clientHeight-Me.bottom),xt&&0!=(0,ze._i)()?(null!=Me.left&&(Me.right=gt.scrollWidth-gt.clientWidth-Me.left),2==(0,ze._i)()?Me.left=Me.right:1==(0,ze._i)()&&(Me.left=Me.right?-Me.right:Me.right)):null!=Me.right&&(Me.left=gt.scrollWidth-gt.clientWidth-Me.right),this._applyScrollToOptions(Me)}_applyScrollToOptions(Me){const gt=this.elementRef.nativeElement;(0,ze.Mq)()?gt.scrollTo(Me):(null!=Me.top&&(gt.scrollTop=Me.top),null!=Me.left&&(gt.scrollLeft=Me.left))}measureScrollOffset(Me){const gt="left",Ut=this.elementRef.nativeElement;if("top"==Me)return Ut.scrollTop;if("bottom"==Me)return Ut.scrollHeight-Ut.clientHeight-Ut.scrollTop;const xn=this.dir&&"rtl"==this.dir.value;return"start"==Me?Me=xn?"right":gt:"end"==Me&&(Me=xn?gt:"right"),xn&&2==(0,ze._i)()?Me==gt?Ut.scrollWidth-Ut.clientWidth-Ut.scrollLeft:Ut.scrollLeft:xn&&1==(0,ze._i)()?Me==gt?Ut.scrollLeft+Ut.scrollWidth-Ut.clientWidth:-Ut.scrollLeft:Me==gt?Ut.scrollLeft:Ut.scrollWidth-Ut.clientWidth-Ut.scrollLeft}}return Vt.\u0275fac=function(Me){return new(Me||Vt)(C.Y36(C.SBq),C.Y36(pt),C.Y36(C.R0b),C.Y36(yt.Is,8))},Vt.\u0275dir=C.lG2({type:Vt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),Vt})(),Tt=(()=>{class Vt{constructor(Me,gt,xt){this._platform=Me,this._change=new Se.x,this._changeListener=Ut=>{this._change.next(Ut)},this._document=xt,gt.runOutsideAngular(()=>{if(Me.isBrowser){const Ut=this._getWindow();Ut.addEventListener("resize",this._changeListener),Ut.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Me=this._getWindow();Me.removeEventListener("resize",this._changeListener),Me.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Me={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Me}getViewportRect(){const Me=this.getViewportScrollPosition(),{width:gt,height:xt}=this.getViewportSize();return{top:Me.top,left:Me.left,bottom:Me.top+xt,right:Me.left+gt,height:xt,width:gt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Me=this._document,gt=this._getWindow(),xt=Me.documentElement,Ut=xt.getBoundingClientRect();return{top:-Ut.top||Me.body.scrollTop||gt.scrollY||xt.scrollTop||0,left:-Ut.left||Me.body.scrollLeft||gt.scrollX||xt.scrollLeft||0}}change(Me=20){return Me>0?this._change.pipe(Ke(Me)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Me=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Me.innerWidth,height:Me.innerHeight}:{width:0,height:0}}}return Vt.\u0275fac=function(Me){return new(Me||Vt)(C.LFG(ze.t4),C.LFG(C.R0b),C.LFG(Mt.K0,8))},Vt.\u0275prov=C.Yz7({token:Vt,factory:Vt.\u0275fac,providedIn:"root"}),Vt})(),sn=(()=>{class Vt{}return Vt.\u0275fac=function(Me){return new(Me||Vt)},Vt.\u0275mod=C.oAB({type:Vt}),Vt.\u0275inj=C.cJS({}),Vt})(),dn=(()=>{class Vt{}return Vt.\u0275fac=function(Me){return new(Me||Vt)},Vt.\u0275mod=C.oAB({type:Vt}),Vt.\u0275inj=C.cJS({imports:[[yt.vT,sn],yt.vT,sn]}),Vt})()},2379:(Yt,Ge,w)=>{w.d(Ge,{HI:()=>Fe,Xx:()=>ve,_0:()=>Se,nZ:()=>kt,Hs:()=>_e,rO:()=>et,cu:()=>it,XJ:()=>Je,Ud:()=>_t,C2:()=>je});var h=w(449),C=w(8306),S=w(576);function ae(At){return!!At&&(At instanceof C.y||(0,S.m)(At.lift)&&(0,S.m)(At.subscribe))}var pe=w(7579),ye=w(1135),Pe=w(9646),ge=w(2722),se=w(5e3),re=w(3191),me=w(226);class je extends class Ce{constructor(){this.expansionModel=new h.Ov(!0)}toggle(nt){this.expansionModel.toggle(this._trackByValue(nt))}expand(nt){this.expansionModel.select(this._trackByValue(nt))}collapse(nt){this.expansionModel.deselect(this._trackByValue(nt))}isExpanded(nt){return this.expansionModel.isSelected(this._trackByValue(nt))}toggleDescendants(nt){this.expansionModel.isSelected(this._trackByValue(nt))?this.collapseDescendants(nt):this.expandDescendants(nt)}collapseAll(){this.expansionModel.clear()}expandDescendants(nt){let Ke=[nt];Ke.push(...this.getDescendants(nt)),this.expansionModel.select(...Ke.map(Ue=>this._trackByValue(Ue)))}collapseDescendants(nt){let Ke=[nt];Ke.push(...this.getDescendants(nt)),this.expansionModel.deselect(...Ke.map(Ue=>this._trackByValue(Ue)))}_trackByValue(nt){return this.trackBy?this.trackBy(nt):nt}}{constructor(nt,Ke,Ue){super(),this.getLevel=nt,this.isExpandable=Ke,this.options=Ue,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(nt){const Ue=[];for(let Dt=this.dataNodes.indexOf(nt)+1;Dt<this.dataNodes.length&&this.getLevel(nt)<this.getLevel(this.dataNodes[Dt]);Dt++)Ue.push(this.dataNodes[Dt]);return Ue}expandAll(){this.expansionModel.select(...this.dataNodes.map(nt=>this._trackByValue(nt)))}}const Fe=new se.OlP("CDK_TREE_NODE_OUTLET_NODE");let it=(()=>{class At{constructor(Ke,Ue){this.viewContainer=Ke,this._node=Ue}}return At.\u0275fac=function(Ke){return new(Ke||At)(se.Y36(se.s_b),se.Y36(Fe,8))},At.\u0275dir=se.lG2({type:At,selectors:[["","cdkTreeNodeOutlet",""]]}),At})();class Be{constructor(nt){this.$implicit=nt}}let et=(()=>{class At{constructor(Ke){this.template=Ke}}return At.\u0275fac=function(Ke){return new(Ke||At)(se.Y36(se.Rgc))},At.\u0275dir=se.lG2({type:At,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),At})(),Se=(()=>{class At{constructor(Ke,Ue){this._differs=Ke,this._changeDetectorRef=Ue,this._onDestroy=new pe.x,this._levels=new Map,this.viewChange=new ye.X({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(Ke){this._dataSource!==Ke&&this._switchDataSource(Ke)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const Ke=this._nodeDefs.filter(Ue=>!Ue.when);this._defaultNodeDef=Ke[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(Ke){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),Ke||this._nodeOutlet.viewContainer.clear(),this._dataSource=Ke,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let Ke;(0,h.Z9)(this._dataSource)?Ke=this._dataSource.connect(this):ae(this._dataSource)?Ke=this._dataSource:Array.isArray(this._dataSource)&&(Ke=(0,Pe.of)(this._dataSource)),Ke&&(this._dataSubscription=Ke.pipe((0,ge.R)(this._onDestroy)).subscribe(Ue=>this.renderNodeChanges(Ue)))}renderNodeChanges(Ke,Ue=this._dataDiffer,Dt=this._nodeOutlet.viewContainer,Mt){const ze=Ue.diff(Ke);!ze||(ze.forEachOperation((yt,un,Ot)=>{if(null==yt.previousIndex)this.insertNode(Ke[Ot],Ot,Dt,Mt);else if(null==Ot)Dt.remove(un),this._levels.delete(yt.item);else{const ut=Dt.get(un);Dt.move(ut,Ot)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(Ke,Ue){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(Mt=>Mt.when&&Mt.when(Ue,Ke))||this._defaultNodeDef}insertNode(Ke,Ue,Dt,Mt){const ze=this._getNodeDef(Ke,Ue),yt=new Be(Ke);yt.level=this.treeControl.getLevel?this.treeControl.getLevel(Ke):void 0!==Mt&&this._levels.has(Mt)?this._levels.get(Mt)+1:0,this._levels.set(Ke,yt.level),(Dt||this._nodeOutlet.viewContainer).createEmbeddedView(ze.template,yt,Ue),_e.mostRecentTreeNode&&(_e.mostRecentTreeNode.data=Ke)}}return At.\u0275fac=function(Ke){return new(Ke||At)(se.Y36(se.ZZ4),se.Y36(se.sBO))},At.\u0275cmp=se.Xpm({type:At,selectors:[["cdk-tree"]],contentQueries:function(Ke,Ue,Dt){if(1&Ke&&se.Suo(Dt,et,5),2&Ke){let Mt;se.iGM(Mt=se.CRH())&&(Ue._nodeDefs=Mt)}},viewQuery:function(Ke,Ue){if(1&Ke&&se.Gf(it,7),2&Ke){let Dt;se.iGM(Dt=se.CRH())&&(Ue._nodeOutlet=Dt.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(Ke,Ue){1&Ke&&se.GkF(0,0)},directives:[it],encapsulation:2}),At})(),_e=(()=>{class At{constructor(Ke,Ue){this._elementRef=Ke,this._tree=Ue,this._destroyed=new pe.x,this._dataChanges=new pe.x,At.mostRecentTreeNode=this,this.role="treeitem"}get role(){return"treeitem"}set role(Ke){this._elementRef.nativeElement.setAttribute("role",Ke)}get data(){return this._data}set data(Ke){Ke!==this._data&&(this._data=Ke,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function Y(At){let nt=At.parentElement;for(;nt&&!Ve(nt);)nt=nt.parentElement;return nt?nt.classList.contains("cdk-nested-tree-node")?(0,re.su)(nt.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){At.mostRecentTreeNode===this&&(At.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return At.mostRecentTreeNode=null,At.\u0275fac=function(Ke){return new(Ke||At)(se.Y36(se.SBq),se.Y36(Se))},At.\u0275dir=se.lG2({type:At,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(Ke,Ue){2&Ke&&se.uIk("aria-expanded",Ue.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),At})();function Ve(At){const nt=At.classList;return!(!(null==nt?void 0:nt.contains("cdk-nested-tree-node"))&&!(null==nt?void 0:nt.contains("cdk-tree")))}let ve=(()=>{class At extends _e{constructor(Ke,Ue,Dt){super(Ke,Ue),this._differs=Dt}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const Ke=this._tree.treeControl.getChildren(this.data);Array.isArray(Ke)?this.updateChildrenNodes(Ke):ae(Ke)&&Ke.pipe((0,ge.R)(this._destroyed)).subscribe(Ue=>this.updateChildrenNodes(Ue)),this.nodeOutlet.changes.pipe((0,ge.R)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(Ke){const Ue=this._getNodeOutlet();Ke&&(this._children=Ke),Ue&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,Ue.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const Ke=this._getNodeOutlet();Ke&&(Ke.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const Ke=this.nodeOutlet;return Ke&&Ke.find(Ue=>!Ue._node||Ue._node===this)}}return At.\u0275fac=function(Ke){return new(Ke||At)(se.Y36(se.SBq),se.Y36(Se),se.Y36(se.ZZ4))},At.\u0275dir=se.lG2({type:At,selectors:[["cdk-nested-tree-node"]],contentQueries:function(Ke,Ue,Dt){if(1&Ke&&se.Suo(Dt,it,5),2&Ke){let Mt;se.iGM(Mt=se.CRH())&&(Ue.nodeOutlet=Mt)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[se._Bn([{provide:_e,useExisting:At},{provide:Fe,useExisting:At}]),se.qOj]}),At})();const qe=/([A-Za-z%]+)$/;let Je=(()=>{class At{constructor(Ke,Ue,Dt,Mt){this._treeNode=Ke,this._tree=Ue,this._element=Dt,this._dir=Mt,this._destroyed=new pe.x,this.indentUnits="px",this._indent=40,this._setPadding(),Mt&&Mt.change.pipe((0,ge.R)(this._destroyed)).subscribe(()=>this._setPadding(!0)),Ke._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(Ke){this._setLevelInput(Ke)}get indent(){return this._indent}set indent(Ke){this._setIndentInput(Ke)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const Ke=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,Ue=null==this._level?Ke:this._level;return"number"==typeof Ue?`${Ue*this._indent}${this.indentUnits}`:null}_setPadding(Ke=!1){const Ue=this._paddingIndent();if(Ue!==this._currentPadding||Ke){const Dt=this._element.nativeElement,Mt=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",ze="paddingLeft"===Mt?"paddingRight":"paddingLeft";Dt.style[Mt]=Ue||"",Dt.style[ze]="",this._currentPadding=Ue}}_setLevelInput(Ke){this._level=(0,re.su)(Ke,null),this._setPadding()}_setIndentInput(Ke){let Ue=Ke,Dt="px";if("string"==typeof Ke){const Mt=Ke.split(qe);Ue=Mt[0],Dt=Mt[1]||Dt}this.indentUnits=Dt,this._indent=(0,re.su)(Ue),this._setPadding()}}return At.\u0275fac=function(Ke){return new(Ke||At)(se.Y36(_e),se.Y36(Se),se.Y36(se.SBq),se.Y36(me.Is,8))},At.\u0275dir=se.lG2({type:At,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),At})(),_t=(()=>{class At{constructor(Ke,Ue){this._tree=Ke,this._treeNode=Ue,this._recursive=!1}get recursive(){return this._recursive}set recursive(Ke){this._recursive=(0,re.Ig)(Ke)}_toggle(Ke){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),Ke.stopPropagation()}}return At.\u0275fac=function(Ke){return new(Ke||At)(se.Y36(Se),se.Y36(_e))},At.\u0275dir=se.lG2({type:At,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(Ke,Ue){1&Ke&&se.NdJ("click",function(Mt){return Ue._toggle(Mt)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),At})(),kt=(()=>{class At{}return At.\u0275fac=function(Ke){return new(Ke||At)},At.\u0275mod=se.oAB({type:At}),At.\u0275inj=se.cJS({}),At})()},9808:(Yt,Ge,w)=>{w.d(Ge,{mr:()=>Ie,Ov:()=>eo,ez:()=>ls,H9:()=>Wr,K0:()=>Pe,Do:()=>tt,V_:()=>re,Ye:()=>be,S$:()=>Be,mk:()=>ur,sg:()=>Fi,O5:()=>dr,tP:()=>vs,b0:()=>Ht,lw:()=>ge,EM:()=>ss,JF:()=>gi,NF:()=>Oi,PM:()=>Cs,w_:()=>ye,bD:()=>wr,q:()=>S,Mx:()=>kr,HT:()=>pe});var h=w(5e3);let C=null;function S(){return C}function pe(V){C||(C=V)}class ye{}const Pe=new h.OlP("DocumentToken");let ge=(()=>{class V{historyGo(N){throw new Error("Not implemented")}}return V.\u0275fac=function(N){return new(N||V)},V.\u0275prov=h.Yz7({token:V,factory:function(){return function se(){return(0,h.LFG)(me)}()},providedIn:"platform"}),V})();const re=new h.OlP("Location Initialized");let me=(()=>{class V extends ge{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(N){const ce=S().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",N,!1),()=>ce.removeEventListener("popstate",N)}onHashChange(N){const ce=S().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",N,!1),()=>ce.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,ce,He){Ce()?this._history.pushState(N,ce,He):this.location.hash=He}replaceState(N,ce,He){Ce()?this._history.replaceState(N,ce,He):this.location.hash=He}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return V.\u0275fac=function(N){return new(N||V)(h.LFG(Pe))},V.\u0275prov=h.Yz7({token:V,factory:function(){return function je(){return new me((0,h.LFG)(Pe))}()},providedIn:"platform"}),V})();function Ce(){return!!window.history.pushState}function ke(V,ee){if(0==V.length)return ee;if(0==ee.length)return V;let N=0;return V.endsWith("/")&&N++,ee.startsWith("/")&&N++,2==N?V+ee.substring(1):1==N?V+ee:V+"/"+ee}function Fe(V){const ee=V.match(/#|\?|$/),N=ee&&ee.index||V.length;return V.slice(0,N-("/"===V[N-1]?1:0))+V.slice(N)}function it(V){return V&&"?"!==V[0]?"?"+V:V}let Be=(()=>{class V{historyGo(N){throw new Error("Not implemented")}}return V.\u0275fac=function(N){return new(N||V)},V.\u0275prov=h.Yz7({token:V,factory:function(){return function et(V){const ee=(0,h.LFG)(Pe).location;return new Ht((0,h.LFG)(ge),ee&&ee.origin||"")}()},providedIn:"root"}),V})();const Ie=new h.OlP("appBaseHref");let Ht=(()=>{class V extends Be{constructor(N,ce){if(super(),this._platformLocation=N,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return ke(this._baseHref,N)}path(N=!1){const ce=this._platformLocation.pathname+it(this._platformLocation.search),He=this._platformLocation.hash;return He&&N?`${ce}${He}`:ce}pushState(N,ce,He,Ft){const Wt=this.prepareExternalUrl(He+it(Ft));this._platformLocation.pushState(N,ce,Wt)}replaceState(N,ce,He,Ft){const Wt=this.prepareExternalUrl(He+it(Ft));this._platformLocation.replaceState(N,ce,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(N=0){var ce,He;null===(He=(ce=this._platformLocation).historyGo)||void 0===He||He.call(ce,N)}}return V.\u0275fac=function(N){return new(N||V)(h.LFG(ge),h.LFG(Ie,8))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac}),V})(),tt=(()=>{class V extends Be{constructor(N,ce){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(N){const ce=ke(this._baseHref,N);return ce.length>0?"#"+ce:ce}pushState(N,ce,He,Ft){let Wt=this.prepareExternalUrl(He+it(Ft));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState(N,ce,Wt)}replaceState(N,ce,He,Ft){let Wt=this.prepareExternalUrl(He+it(Ft));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState(N,ce,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(N=0){var ce,He;null===(He=(ce=this._platformLocation).historyGo)||void 0===He||He.call(ce,N)}}return V.\u0275fac=function(N){return new(N||V)(h.LFG(ge),h.LFG(Ie,8))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac}),V})(),be=(()=>{class V{constructor(N,ce){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=N;const He=this._platformStrategy.getBaseHref();this._platformLocation=ce,this._baseHref=Fe(_e(He)),this._platformStrategy.onPopState(Ft=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ft.state,type:Ft.type})})}path(N=!1){return this.normalize(this._platformStrategy.path(N))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(N,ce=""){return this.path()==this.normalize(N+it(ce))}normalize(N){return V.stripTrailingSlash(function Se(V,ee){return V&&ee.startsWith(V)?ee.substring(V.length):ee}(this._baseHref,_e(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._platformStrategy.prepareExternalUrl(N)}go(N,ce="",He=null){this._platformStrategy.pushState(He,"",N,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+it(ce)),He)}replaceState(N,ce="",He=null){this._platformStrategy.replaceState(He,"",N,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+it(ce)),He)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(N=0){var ce,He;null===(He=(ce=this._platformStrategy).historyGo)||void 0===He||He.call(ce,N)}onUrlChange(N){this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)}))}_notifyUrlChangeListeners(N="",ce){this._urlChangeListeners.forEach(He=>He(N,ce))}subscribe(N,ce,He){return this._subject.subscribe({next:N,error:ce,complete:He})}}return V.normalizeQueryParams=it,V.joinWithSlash=ke,V.stripTrailingSlash=Fe,V.\u0275fac=function(N){return new(N||V)(h.LFG(Be),h.LFG(ge))},V.\u0275prov=h.Yz7({token:V,factory:function(){return function he(){return new be((0,h.LFG)(Be),(0,h.LFG)(ge))}()},providedIn:"root"}),V})();function _e(V){return V.replace(/\/index.html$/,"")}const Y={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Percent=1]="Percent",Ve[Ve.Currency=2]="Currency",Ve[Ve.Scientific=3]="Scientific",Ve))(),dt=(()=>((dt=dt||{})[dt.Decimal=0]="Decimal",dt[dt.Group=1]="Group",dt[dt.List=2]="List",dt[dt.PercentSign=3]="PercentSign",dt[dt.PlusSign=4]="PlusSign",dt[dt.MinusSign=5]="MinusSign",dt[dt.Exponential=6]="Exponential",dt[dt.SuperscriptingExponent=7]="SuperscriptingExponent",dt[dt.PerMille=8]="PerMille",dt[dt.Infinity=9]="Infinity",dt[dt.NaN=10]="NaN",dt[dt.TimeSeparator=11]="TimeSeparator",dt[dt.CurrencyDecimal=12]="CurrencyDecimal",dt[dt.CurrencyGroup=13]="CurrencyGroup",dt))();function ut(V,ee){const N=(0,h.cg1)(V),ce=N[h.wAp.NumberSymbols][ee];if(void 0===ce){if(ee===dt.CurrencyDecimal)return N[h.wAp.NumberSymbols][dt.Decimal];if(ee===dt.CurrencyGroup)return N[h.wAp.NumberSymbols][dt.Group]}return ce}const zt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function jn(V,ee,N,ce,He){const Wt=function ri(V,ee="-"){const N={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ce=V.split(";"),He=ce[0],Ft=ce[1],Wt=-1!==He.indexOf(".")?He.split("."):[He.substring(0,He.lastIndexOf("0")+1),He.substring(He.lastIndexOf("0")+1)],Tn=Wt[0],$n=Wt[1]||"";N.posPre=Tn.substr(0,Tn.indexOf("#"));for(let si=0;si<$n.length;si++){const ui=$n.charAt(si);"0"===ui?N.minFrac=N.maxFrac=si+1:"#"===ui?N.maxFrac=si+1:N.posSuf+=ui}const pi=Tn.split(",");if(N.gSize=pi[1]?pi[1].length:0,N.lgSize=pi[2]||pi[1]?(pi[2]||pi[1]).length:0,Ft){const si=He.length-N.posPre.length-N.posSuf.length,ui=Ft.indexOf("#");N.negPre=Ft.substr(0,ui).replace(/'/g,""),N.negSuf=Ft.substr(ui+si).replace(/'/g,"")}else N.negPre=ee+N.posPre,N.negSuf=N.posSuf;return N}(function st(V,ee){return(0,h.cg1)(V)[h.wAp.NumberFormats][ee]}(ee,Ve.Currency),ut(ee,dt.MinusSign));return Wt.minFrac=function dn(V){let ee;const N=Y[V];return N&&(ee=N[2]),"number"==typeof ee?ee:2}(ce),Wt.maxFrac=Wt.minFrac,function Ln(V,ee,N,ce,He,Ft,Wt=!1){let Tn="",$n=!1;if(isFinite(V)){let pi=function Hi(V){let ce,He,Ft,Wt,Tn,ee=Math.abs(V)+"",N=0;for((He=ee.indexOf("."))>-1&&(ee=ee.replace(".","")),(Ft=ee.search(/e/i))>0?(He<0&&(He=Ft),He+=+ee.slice(Ft+1),ee=ee.substring(0,Ft)):He<0&&(He=ee.length),Ft=0;"0"===ee.charAt(Ft);Ft++);if(Ft===(Tn=ee.length))ce=[0],He=1;else{for(Tn--;"0"===ee.charAt(Tn);)Tn--;for(He-=Ft,ce=[],Wt=0;Ft<=Tn;Ft++,Wt++)ce[Wt]=Number(ee.charAt(Ft))}return He>22&&(ce=ce.splice(0,21),N=He-1,He=1),{digits:ce,exponent:N,integerLen:He}}(V);Wt&&(pi=function Si(V){if(0===V.digits[0])return V;const ee=V.digits.length-V.integerLen;return V.exponent?V.exponent+=2:(0===ee?V.digits.push(0,0):1===ee&&V.digits.push(0),V.integerLen+=2),V}(pi));let si=ee.minInt,ui=ee.minFrac,Yi=ee.maxFrac;if(Ft){const ne=Ft.match(zt);if(null===ne)throw new Error(`${Ft} is not a valid digit info`);const Bt=ne[1],Dn=ne[3],vi=ne[5];null!=Bt&&(si=br(Bt)),null!=Dn&&(ui=br(Dn)),null!=vi?Yi=br(vi):null!=Dn&&ui>Yi&&(Yi=ui)}!function Ai(V,ee,N){if(ee>N)throw new Error(`The minimum number of digits after fraction (${ee}) is higher than the maximum (${N}).`);let ce=V.digits,He=ce.length-V.integerLen;const Ft=Math.min(Math.max(ee,He),N);let Wt=Ft+V.integerLen,Tn=ce[Wt];if(Wt>0){ce.splice(Math.max(V.integerLen,Wt));for(let ui=Wt;ui<ce.length;ui++)ce[ui]=0}else{He=Math.max(0,He),V.integerLen=1,ce.length=Math.max(1,Wt=Ft+1),ce[0]=0;for(let ui=1;ui<Wt;ui++)ce[ui]=0}if(Tn>=5)if(Wt-1<0){for(let ui=0;ui>Wt;ui--)ce.unshift(0),V.integerLen++;ce.unshift(1),V.integerLen++}else ce[Wt-1]++;for(;He<Math.max(0,Ft);He++)ce.push(0);let $n=0!==Ft;const pi=ee+V.integerLen,si=ce.reduceRight(function(ui,Yi,wi,zi){return zi[wi]=(Yi+=ui)<10?Yi:Yi-10,$n&&(0===zi[wi]&&wi>=pi?zi.pop():$n=!1),Yi>=10?1:0},0);si&&(ce.unshift(si),V.integerLen++)}(pi,ui,Yi);let wi=pi.digits,zi=pi.integerLen;const j=pi.exponent;let k=[];for($n=wi.every(ne=>!ne);zi<si;zi++)wi.unshift(0);for(;zi<0;zi++)wi.unshift(0);zi>0?k=wi.splice(zi,wi.length):(k=wi,wi=[0]);const M=[];for(wi.length>=ee.lgSize&&M.unshift(wi.splice(-ee.lgSize,wi.length).join(""));wi.length>ee.gSize;)M.unshift(wi.splice(-ee.gSize,wi.length).join(""));wi.length&&M.unshift(wi.join("")),Tn=M.join(ut(N,ce)),k.length&&(Tn+=ut(N,He)+k.join("")),j&&(Tn+=ut(N,dt.Exponential)+"+"+j)}else Tn=ut(N,dt.Infinity);return Tn=V<0&&!$n?ee.negPre+Tn+ee.negSuf:ee.posPre+Tn+ee.posSuf,Tn}(V,Wt,ee,dt.CurrencyGroup,dt.CurrencyDecimal,He).replace("\xa4",N).replace("\xa4","").trim()}function br(V){const ee=parseInt(V);if(isNaN(ee))throw new Error("Invalid integer literal when parsing "+V);return ee}function kr(V,ee){ee=encodeURIComponent(ee);for(const N of V.split(";")){const ce=N.indexOf("="),[He,Ft]=-1==ce?[N,""]:[N.slice(0,ce),N.slice(ce+1)];if(He.trim()===ee)return decodeURIComponent(Ft)}return null}let ur=(()=>{class V{constructor(N,ce,He,Ft){this._iterableDiffers=N,this._keyValueDiffers=ce,this._ngEl=He,this._renderer=Ft,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(N){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof N?N.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(N){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof N?N.split(/\s+/):N,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const N=this._iterableDiffer.diff(this._rawClass);N&&this._applyIterableChanges(N)}else if(this._keyValueDiffer){const N=this._keyValueDiffer.diff(this._rawClass);N&&this._applyKeyValueChanges(N)}}_applyKeyValueChanges(N){N.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),N.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),N.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(N){N.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),N.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(N).forEach(ce=>this._toggleClass(ce,!!N[ce])))}_removeClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(N).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(N,ce){(N=N.trim())&&N.split(/\s+/g).forEach(He=>{ce?this._renderer.addClass(this._ngEl.nativeElement,He):this._renderer.removeClass(this._ngEl.nativeElement,He)})}}return V.\u0275fac=function(N){return new(N||V)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),V})();class pr{constructor(ee,N,ce,He){this.$implicit=ee,this.ngForOf=N,this.index=ce,this.count=He}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class V{constructor(N,ce,He){this._viewContainer=N,this._template=ce,this._differs=He,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const ce=this._viewContainer;N.forEachOperation((He,Ft,Wt)=>{if(null==He.previousIndex)ce.createEmbeddedView(this._template,new pr(He.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)ce.remove(null===Ft?void 0:Ft);else if(null!==Ft){const Tn=ce.get(Ft);ce.move(Tn,Wt),Nr(Tn,He)}});for(let He=0,Ft=ce.length;He<Ft;He++){const Tn=ce.get(He).context;Tn.index=He,Tn.count=Ft,Tn.ngForOf=this._ngForOf}N.forEachIdentityChange(He=>{Nr(ce.get(He.currentIndex),He)})}static ngTemplateContextGuard(N,ce){return!0}}return V.\u0275fac=function(N){return new(N||V)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();function Nr(V,ee){V.context.$implicit=ee.item}let dr=(()=>{class V{constructor(N,ce){this._viewContainer=N,this._context=new ci,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Lr("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Lr("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,ce){return!0}}return V.\u0275fac=function(N){return new(N||V)(h.Y36(h.s_b),h.Y36(h.Rgc))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class ci{constructor(){this.$implicit=null,this.ngIf=null}}function Lr(V,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,h.AaK)(ee)}'.`)}let vs=(()=>{class V{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(N){if(N.ngTemplateOutlet){const ce=this._viewContainerRef;this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ce.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(N){return new(N||V)(h.Y36(h.s_b))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[h.TTD]}),V})();function er(V,ee){return new h.vHH(2100,"")}class zr{createSubscription(ee,N){return ee.subscribe({next:N,error:ce=>{throw ce}})}dispose(ee){ee.unsubscribe()}onDestroy(ee){ee.unsubscribe()}}class es{createSubscription(ee,N){return ee.then(N,ce=>{throw ce})}dispose(ee){}onDestroy(ee){}}const Do=new es,xi=new zr;let eo=(()=>{class V{constructor(N){this._ref=N,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,ce=>this._updateLatestValue(N,ce))}_selectStrategy(N){if((0,h.QGY)(N))return Do;if((0,h.F4k)(N))return xi;throw er()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,ce){N===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return V.\u0275fac=function(N){return new(N||V)(h.Y36(h.sBO,16))},V.\u0275pipe=h.Yjl({name:"async",type:V,pure:!1}),V})(),Wr=(()=>{class V{constructor(N,ce="USD"){this._locale=N,this._defaultCurrencyCode=ce}transform(N,ce=this._defaultCurrencyCode,He="symbol",Ft,Wt){if(!function xr(V){return!(null==V||""===V||V!=V)}(N))return null;Wt=Wt||this._locale,"boolean"==typeof He&&(He=He?"symbol":"code");let Tn=ce||this._defaultCurrencyCode;"code"!==He&&(Tn="symbol"===He||"symbol-narrow"===He?function Lt(V,ee,N="en"){const ce=function pt(V){return(0,h.cg1)(V)[h.wAp.Currencies]}(N)[V]||Y[V]||[],He=ce[1];return"narrow"===ee&&"string"==typeof He?He:ce[0]||V}(Tn,"symbol"===He?"wide":"narrow",Wt):He);try{return jn(function Br(V){if("string"==typeof V&&!isNaN(Number(V)-parseFloat(V)))return Number(V);if("number"!=typeof V)throw new Error(`${V} is not a number`);return V}(N),Wt,Tn,ce,Ft)}catch($n){throw er()}}}return V.\u0275fac=function(N){return new(N||V)(h.Y36(h.soG,16),h.Y36(h.EJc,16))},V.\u0275pipe=h.Yjl({name:"currency",type:V,pure:!0}),V})();let ls=(()=>{class V{}return V.\u0275fac=function(N){return new(N||V)},V.\u0275mod=h.oAB({type:V}),V.\u0275inj=h.cJS({}),V})();const wr="browser";function Oi(V){return V===wr}function Cs(V){return"server"===V}let ss=(()=>{class V{}return V.\u0275prov=(0,h.Yz7)({token:V,providedIn:"root",factory:()=>new gr((0,h.LFG)(Pe),window)}),V})();class gr{constructor(ee,N){this.document=ee,this.window=N,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const N=function Zr(V,ee){const N=V.getElementById(ee)||V.getElementsByName(ee)[0];if(N)return N;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ce=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let He=ce.currentNode;for(;He;){const Ft=He.shadowRoot;if(Ft){const Wt=Ft.getElementById(ee)||Ft.querySelector(`[name="${ee}"]`);if(Wt)return Wt}He=ce.nextNode()}}return null}(this.document,ee);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=ee)}}scrollToElement(ee){const N=ee.getBoundingClientRect(),ce=N.left+this.window.pageXOffset,He=N.top+this.window.pageYOffset,Ft=this.offset();this.window.scrollTo(ce-Ft[0],He-Ft[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch(ee){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ee){return!1}}}function cs(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class gi{}},5e3:(Yt,Ge,w)=>{w.d(Ge,{deG:()=>Sr,tb:()=>LE,AFp:()=>PE,ip1:()=>RE,CZH:()=>mb,hGG:()=>pC,z2F:()=>wb,sBO:()=>Xw,Sil:()=>Rw,_Vd:()=>tu,EJc:()=>xw,SBq:()=>qd,qLn:()=>Ja,vpe:()=>ll,tBr:()=>Xn,XFs:()=>Q,OlP:()=>Tr,zs3:()=>Eo,ZZ4:()=>Mb,aQg:()=>Ab,soG:()=>_b,YKP:()=>ip,h0i:()=>Xd,PXZ:()=>Gw,R0b:()=>Pl,FiY:()=>Jn,Lbi:()=>FE,g9A:()=>NE,n_E:()=>nu,Qsj:()=>W0,FYo:()=>zy,JOm:()=>$,q3G:()=>di,tp0:()=>lr,Rgc:()=>Hu,dDg:()=>jE,q4F:()=>fg,GfV:()=>Yd,s_b:()=>nh,ifc:()=>gt,eFA:()=>GE,G48:()=>Qw,Gpc:()=>me,f3M:()=>Ne,X6Q:()=>Yw,_c5:()=>fC,VLi:()=>jw,c2e:()=>BE,zSh:()=>Id,wAp:()=>ni,vHH:()=>Fe,EiD:()=>Ya,mCW:()=>ao,qzn:()=>Fo,JVY:()=>lu,pB0:()=>Ka,eBb:()=>_a,L6k:()=>gh,LAX:()=>_h,cg1:()=>qm,kL8:()=>Ym,yhl:()=>mh,dqk:()=>hn,sIi:()=>Wc,CqO:()=>Tm,QGY:()=>G_,F4k:()=>gs,RDi:()=>cs,AaK:()=>ge,z3N:()=>Ys,qOj:()=>_f,TTD:()=>xr,_Bn:()=>Zd,xp6:()=>Vg,uIk:()=>mm,ekj:()=>Bf,Suo:()=>qt,Xpm:()=>Le,lG2:()=>Ye,Yz7:()=>yt,cJS:()=>Ot,oAB:()=>bn,Yjl:()=>Re,Y36:()=>_r,_UZ:()=>Rf,GkF:()=>Mr,BQk:()=>kf,ynx:()=>Pf,qZA:()=>Pd,TgZ:()=>qc,EpF:()=>Qv,n5z:()=>qo,Ikx:()=>Km,LFG:()=>B,$8M:()=>Ll,$Z:()=>ho,NdJ:()=>Sm,CRH:()=>Xt,oxw:()=>Z_,ALo:()=>_g,lcZ:()=>yg,Hsn:()=>Y_,F$t:()=>q_,Q6J:()=>Ea,VKq:()=>Qy,iGM:()=>$e,MAs:()=>x_,CHM:()=>zo,LSH:()=>pu,Udp:()=>ku,WFA:()=>Mm,d8E:()=>Zm,YNc:()=>_m,W1O:()=>Di,_uU:()=>Vm,Oqu:()=>Um,hij:()=>Uf,Gf:()=>St});var h=w(7579),C=w(727),S=w(8306),ae=w(6451),pe=w(3099);function ye(n){for(let i in n)if(n[i]===ye)return i;throw Error("Could not find renamed property on target object.")}function Pe(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function se(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const re=ye({__forward_ref__:ye});function me(n){return n.__forward_ref__=me,n.toString=function(){return ge(this())},n}function Ce(n){return je(n)?n():n}function je(n){return"function"==typeof n&&n.hasOwnProperty(re)&&n.__forward_ref__===me}class Fe extends Error{constructor(i,o){super(function it(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,o)),this.code=i}}function Be(n){return"string"==typeof n?n:null==n?"":String(n)}function et(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Be(n)}function be(n,i){const o=i?` in ${i}`:"";throw new Fe(-201,`No provider for ${et(n)} found${o}`)}function Ke(n,i){null==n&&function Ue(n,i,o,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function yt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function ut(n){return st(n,pt)||st(n,fn)}function st(n,i){return n.hasOwnProperty(i)?n[i]:null}function De(n){return n&&(n.hasOwnProperty(tn)||n.hasOwnProperty(Tt))?n[tn]:null}const pt=ye({\u0275prov:ye}),tn=ye({\u0275inj:ye}),fn=ye({ngInjectableDef:ye}),Tt=ye({ngInjectorDef:ye});var Q=(()=>((Q=Q||{})[Q.Default=0]="Default",Q[Q.Host=1]="Host",Q[Q.Self=2]="Self",Q[Q.SkipSelf=4]="SkipSelf",Q[Q.Optional=8]="Optional",Q))();let we;function ht(n){const i=we;return we=n,i}function Lt(n,i,o){const l=ut(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Q.Optional?null:void 0!==i?i:void be(ge(n),"Injector")}function dn(n){return{toString:n}.toString()}var Vt=(()=>((Vt=Vt||{})[Vt.OnPush=0]="OnPush",Vt[Vt.Default=1]="Default",Vt))(),gt=(()=>{return(n=gt||(gt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",gt;var n})();const xt="undefined"!=typeof globalThis&&globalThis,Ut="undefined"!=typeof window&&window,xn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,hn=xt||"undefined"!=typeof global&&global||Ut||xn,yi={},gn=[],qi=ye({\u0275cmp:ye}),oe=ye({\u0275dir:ye}),H=ye({\u0275pipe:ye}),O=ye({\u0275mod:ye}),F=ye({\u0275fac:ye}),Z=ye({__NG_ELEMENT_ID__:ye});let le=0;function Le(n){return dn(()=>{const o={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||gt.Emulated,id:"c",styles:n.styles||gn,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,p=n.features,y=n.pipes;return l.id+=le++,l.inputs=vt(n.inputs,o),l.outputs=vt(n.outputs),p&&p.forEach(I=>I(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(ot):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(en):null,l})}function ot(n){return ct(n)||function zt(n){return n[oe]||null}(n)}function en(n){return function Et(n){return n[H]||null}(n)}const cn={};function bn(n){return dn(()=>{const i={type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(cn[n.id]=n.type),i})}function vt(n,i){if(null==n)return yi;const o={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),o[c]=l,i&&(i[c]=p)}return o}const Ye=Le;function Re(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function ct(n){return n[qi]||null}function Ae(n,i){const o=n[O]||null;if(!o&&!0===i)throw new Error(`Type ${ge(n)} does not have '\u0275mod' property.`);return o}function Ui(n){return Array.isArray(n)&&"object"==typeof n[1]}function Er(n){return Array.isArray(n)&&!0===n[1]}function Rs(n){return 0!=(8&n.flags)}function zs(n){return 2==(2&n.flags)}function or(n){return 1==(1&n.flags)}function Ir(n){return null!==n.template}function Ws(n){return 0!=(512&n[2])}function ar(n,i){return n.hasOwnProperty(F)?n[F]:null}class Wr{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function xr(){return Br}function Br(n){return n.type.prototype.ngOnChanges&&(n.setInput=Go),Fs}function Fs(){const n=wr(this),i=null==n?void 0:n.current;if(i){const o=n.previous;if(o===yi)n.previous=i;else for(let l in i)o[l]=i[l];n.current=null,this.ngOnChanges(i)}}function Go(n,i,o,l){const c=wr(n)||function Es(n,i){return n[ls]=i}(n,{previous:yi,current:null}),p=c.current||(c.current={}),y=c.previous,I=this.declaredInputs[o],x=y[I];p[I]=new Wr(x&&x.currentValue,i,y===yi),n[l]=i}xr.ngInherit=!0;const ls="__ngSimpleChanges__";function wr(n){return n[ls]||null}let gr;function cs(n){gr=n}function gi(n){return!!n.listen}const V={createRenderer:(n,i)=>function Zr(){return void 0!==gr?gr:"undefined"!=typeof document?document:void 0}()};function N(n){for(;Array.isArray(n);)n=n[0];return n}function Ft(n,i){return N(i[n])}function Wt(n,i){return N(i[n.index])}function $n(n,i){return n.data[i]}function pi(n,i){return n[i]}function si(n,i){const o=i[n];return Ui(o)?o:o[0]}function ui(n){return 4==(4&n[2])}function Yi(n){return 128==(128&n[2])}function zi(n,i){return null==i?null:n[i]}function j(n){n[18]=0}function k(n,i){n[5]+=i;let o=n,l=n[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const M={lFrame:Fn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vr(){return M.bindingsEnabled}function rn(){return M.lFrame.lView}function _i(){return M.lFrame.tView}function zo(n){return M.lFrame.contextLView=n,n[8]}function nr(){let n=Wo();for(;null!==n&&64===n.type;)n=n.parent;return n}function Wo(){return M.lFrame.currentTNode}function Ds(n,i){const o=M.lFrame;o.currentTNode=n,o.isParent=i}function To(){return M.lFrame.isParent}function Da(){M.lFrame.isParent=!1}function to(){return M.isInCheckNoChangesMode}function no(n){M.isInCheckNoChangesMode=n}function fr(){const n=M.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function q(){return M.lFrame.bindingIndex++}function X(n,i){const o=M.lFrame;o.bindingIndex=o.bindingRootIndex=n,We(i)}function We(n){M.lFrame.currentDirectiveIndex=n}function Ze(n){const i=M.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Ct(){return M.lFrame.currentQueryIndex}function Kt(n){M.lFrame.currentQueryIndex=n}function In(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function Pn(n,i,o){if(o&Q.SkipSelf){let c=i,p=n;for(;!(c=c.parent,null!==c||o&Q.Host||(c=In(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;i=c,n=p}const l=M.lFrame=oi();return l.currentTNode=i,l.lView=n,!0}function Gn(n){const i=oi(),o=n[1];M.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function oi(){const n=M.lFrame,i=null===n?null:n.child;return null===i?Fn(n):i}function Fn(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Kn(){const n=M.lFrame;return M.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Pi=Kn;function tr(){const n=Kn();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ci(){return M.lFrame.selectedIndex}function Or(n){M.lFrame.selectedIndex=n}function Li(){const n=M.lFrame;return $n(n.tView,n.selectedIndex)}function Yr(n,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:x,ngAfterViewChecked:z,ngOnDestroy:J}=p;y&&(n.contentHooks||(n.contentHooks=[])).push(-o,y),I&&((n.contentHooks||(n.contentHooks=[])).push(o,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,I)),x&&(n.viewHooks||(n.viewHooks=[])).push(-o,x),z&&((n.viewHooks||(n.viewHooks=[])).push(o,z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,z)),null!=J&&(n.destroyHooks||(n.destroyHooks=[])).push(o,J)}}function ro(n,i,o){Cn(n,i,3,o)}function hs(n,i,o,l){(3&n[2])===o&&Cn(n,i,o,l)}function Mn(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function Cn(n,i,o,l){const p=null!=l?l:-1,y=i.length-1;let I=0;for(let x=void 0!==l?65535&n[18]:0;x<y;x++)if("number"==typeof i[x+1]){if(I=i[x],null!=l&&I>=l)break}else i[x]<0&&(n[18]+=65536),(I<p||-1==p)&&(Wn(n,o,i,x),n[18]=(4294901760&n[18])+x+2),x++}function Wn(n,i,o,l){const c=o[l]<0,p=o[l+1],I=n[c?-o[l]:o[l]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{p.call(I)}finally{}}}else try{p.call(I)}finally{}}class Bi{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Wi(n,i,o){const l=gi(n);let c=0;for(;c<o.length;){const p=o[c];if("number"==typeof p){if(0!==p)break;c++;const y=o[c++],I=o[c++],x=o[c++];l?n.setAttribute(i,I,x,y):i.setAttributeNS(y,I,x)}else{const y=p,I=o[++c];pa(y)?l&&n.setProperty(i,y,I):l?n.setAttribute(i,y,I):i.setAttribute(y,I),c++}}return c}function Ts(n){return 3===n||4===n||6===n}function pa(n){return 64===n.charCodeAt(0)}function Vs(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?o=c:0===o||ul(n,o,c,null,-1===o||2===o?i[++l]:null)}}return n}function ul(n,i,o,l,c){let p=0,y=n.length;if(-1===i)y=-1;else for(;p<n.length;){const I=n[p++];if("number"==typeof I){if(I===i){y=-1;break}if(I>i){y=p-1;break}}}for(;p<n.length;){const I=n[p];if("number"==typeof I)break;if(I===o){if(null===l)return void(null!==c&&(n[p+1]=c));if(l===n[p+1])return void(n[p+2]=c)}p++,null!==l&&p++,null!==c&&p++}-1!==y&&(n.splice(y,0,i),p=y+1),n.splice(p++,0,o),null!==l&&n.splice(p++,0,l),null!==c&&n.splice(p++,0,c)}function Ha(n){return-1!==n}function so(n){return 32767&n}function Xi(n,i){let o=function dl(n){return n>>16}(n),l=i;for(;o>0;)l=l[15],o--;return l}let Ia=!0;function oa(n){const i=Ia;return Ia=n,i}let U=0;function K(n,i){const o=Xe(n,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(n.injectorIndex=i.length,xe(l.data,n),xe(i,null),xe(l.blueprint,null));const c=$t(n,i),p=n.injectorIndex;if(Ha(c)){const y=so(c),I=Xi(c,i),x=I[1].data;for(let z=0;z<8;z++)i[p+z]=I[y+z]|x[y+z]}return i[p+8]=c,p}function xe(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Xe(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function $t(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,l=null,c=i;for(;null!==c;){const p=c[1],y=p.type;if(l=2===y?p.declTNode:1===y?c[6]:null,null===l)return-1;if(o++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Gt(n,i,o){!function G(n,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Z)&&(l=o[Z]),null==l&&(l=o[Z]=U++);const c=255&l;i.data[n+(c>>5)]|=1<<c}(n,i,o)}function Bn(n,i,o){if(o&Q.Optional)return n;be(i,"NodeInjector")}function on(n,i,o,l){if(o&Q.Optional&&void 0===l&&(l=null),0==(o&(Q.Self|Q.Host))){const c=n[9],p=ht(void 0);try{return c?c.get(i,l,o&Q.Optional):Lt(i,l,o&Q.Optional)}finally{ht(p)}}return Bn(l,i,o)}function wt(n,i,o,l=Q.Default,c){if(null!==n){const p=function Nl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Z)?n[Z]:void 0;return"number"==typeof i?i>=0?255&i:Ji:i}(o);if("function"==typeof p){if(!Pn(i,n,l))return l&Q.Host?Bn(c,o,l):on(i,o,l,c);try{const y=p(l);if(null!=y||l&Q.Optional)return y;be(o)}finally{Pi()}}else if("number"==typeof p){let y=null,I=Xe(n,i),x=-1,z=l&Q.Host?i[16][6]:null;for((-1===I||l&Q.SkipSelf)&&(x=-1===I?$t(n,i):i[I+8],-1!==x&&Fl(l,!1)?(y=i[1],I=so(x),i=Xi(x,i)):I=-1);-1!==I;){const J=i[1];if(Ta(p,I,J.data)){const Oe=ma(I,i,o,y,l,z);if(Oe!==Jt)return Oe}x=i[I+8],-1!==x&&Fl(l,i[1].data[I+8]===z)&&Ta(p,I,i)?(y=J,I=so(x),i=Xi(x,i)):I=-1}}}return on(i,o,l,c)}const Jt={};function Ji(){return new Sa(nr(),rn())}function ma(n,i,o,l,c,p){const y=i[1],I=y.data[n+8],J=ga(I,y,o,null==l?zs(I)&&Ia:l!=y&&0!=(3&I.type),c&Q.Host&&p===I);return null!==J?xo(i,y,J,I):Jt}function ga(n,i,o,l,c){const p=n.providerIndexes,y=i.data,I=1048575&p,x=n.directiveStart,J=p>>20,rt=c?I+J:n.directiveEnd;for(let It=l?I:I+J;It<rt;It++){const Qt=y[It];if(It<x&&o===Qt||It>=x&&Qt.type===o)return It}if(c){const It=y[x];if(It&&Ir(It)&&It.type===o)return x}return null}function xo(n,i,o,l){let c=n[o];const p=i.data;if(function Is(n){return n instanceof Bi}(c)){const y=c;y.resolving&&function Ie(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${n}${o}`)}(et(p[o]));const I=oa(y.canSeeViewProviders);y.resolving=!0;const x=y.injectImpl?ht(y.injectImpl):null;Pn(n,l,Q.Default);try{c=n[o]=y.factory(void 0,p,n,l),i.firstCreatePass&&o>=l.directiveStart&&function Mo(n,i,o){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:p}=i.type.prototype;if(l){const y=Br(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,y)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,c),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],i)}finally{null!==x&&ht(x),oa(I),y.resolving=!1,Pi()}}return c}function Ta(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function Fl(n,i){return!(n&Q.Self||n&Q.Host&&i)}class Sa{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return wt(this._tNode,this._lView,i,l,o)}}function qo(n){return dn(()=>{const i=n.prototype.constructor,o=i[F]||hl(i),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const p=c[F]||hl(c);if(p&&p!==o)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function hl(n){return je(n)?()=>{const i=hl(Ce(n));return i&&i()}:ar(n)}function Ll(n){return function pn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const l=o.length;let c=0;for(;c<l;){const p=o[c];if(Ts(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<l&&"string"==typeof o[c];)c++;else{if(p===i)return o[c+1];c+=2}}}return null}(nr(),n)}const Qn="__parameters__";function Zn(n,i,o){return dn(()=>{const l=function Ki(n){return function(...o){if(n){const l=n(...o);for(const c in l)this[c]=l[c]}}}(i);function c(...p){if(this instanceof c)return l.apply(this,p),this;const y=new c(...p);return I.annotation=y,I;function I(x,z,J){const Oe=x.hasOwnProperty(Qn)?x[Qn]:Object.defineProperty(x,Qn,{value:[]})[Qn];for(;Oe.length<=J;)Oe.push(null);return(Oe[J]=Oe[J]||[]).push(y),x}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Tr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=yt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Sr=new Tr("AnalyzeForEntryComponents");function oo(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let l=n[o];Array.isArray(l)?(i===n&&(i=n.slice(0,o)),oo(l,i)):i!==n&&i.push(l)}return i}function Xr(n,i){n.forEach(o=>Array.isArray(o)?Xr(o,i):i(o))}function Ma(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Rt(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Aa(n,i){const o=[];for(let l=0;l<n;l++)o.push(i);return o}function Ss(n,i,o){let l=ca(n,i);return l>=0?n[1|l]=o:(l=~l,function Po(n,i,o,l){let c=n.length;if(c==i)n.push(o,l);else if(1===c)n.push(l,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=o,n[i+1]=l}}(n,l,i,o)),l}function la(n,i){const o=ca(n,i);if(o>=0)return n[1|o]}function ca(n,i){return function ps(n,i,o){let l=0,c=n.length>>o;for(;c!==l;){const p=l+(c-l>>1),y=n[p<<o];if(i===y)return p<<o;y>i?c=p:l=p+1}return~(c<<o)}(n,i,1)}const ms={},ko="__NG_DI_FLAG__",yr="ngTempTokenPath",xa=/\n/gm,Xo="__source",Hl=ye({provide:String,useValue:ye});let Wa;function yl(n){const i=Wa;return Wa=n,i}function R(n,i=Q.Default){if(void 0===Wa)throw new Fe(203,"");return null===Wa?Lt(n,void 0,i):Wa.get(n,i&Q.Optional?null:void 0,i)}function B(n,i=Q.Default){return(function at(){return we}()||R)(Ce(n),i)}const Ne=B;function ft(n){const i=[];for(let o=0;o<n.length;o++){const l=Ce(n[o]);if(Array.isArray(l)){if(0===l.length)throw new Fe(900,"");let c,p=Q.Default;for(let y=0;y<l.length;y++){const I=l[y],x=an(I);"number"==typeof x?-1===x?c=I.token:p|=x:c=I}i.push(B(c,p))}else i.push(B(l))}return i}function Pt(n,i){return n[ko]=i,n.prototype[ko]=i,n}function an(n){return n[ko]}const Xn=Pt(Zn("Inject",n=>({token:n})),-1),Jn=Pt(Zn("Optional"),8),lr=Pt(Zn("SkipSelf"),4);let bc;function $l(n){var i;return(null===(i=function Oa(){if(void 0===bc&&(bc=null,hn.trustedTypes))try{bc=hn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return bc}())||void 0===i?void 0:i.createHTML(n))||n}class bl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fh extends bl{getTypeName(){return"HTML"}}class ph extends bl{getTypeName(){return"Style"}}class cp extends bl{getTypeName(){return"Script"}}class up extends bl{getTypeName(){return"URL"}}class dp extends bl{getTypeName(){return"ResourceURL"}}function Ys(n){return n instanceof bl?n.changingThisBreaksApplicationSecurity:n}function Fo(n,i){const o=mh(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function mh(n){return n instanceof bl&&n.getTypeName()||null}function lu(n){return new fh(n)}function gh(n){return new ph(n)}function _a(n){return new cp(n)}function _h(n){return new up(n)}function Ka(n){return new dp(n)}class cu{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString($l(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class uu{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=$l(i),o;const l=this.inertDocument.createElement("body");return l.innerHTML=$l(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const y=o.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&i.removeAttribute(y)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const zl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ao(n){return(n=String(n)).match(zl)||n.match(Zu)?n:"unsafe:"+n}function ta(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Ra(...n){const i={};for(const o of n)for(const l in o)o.hasOwnProperty(l)&&(i[l]=!0);return i}const Yu=ta("area,br,col,hr,img,wbr"),Cc=ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yh=ta("rp,rt"),Wl=Ra(Yu,Ra(Cc,ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ra(yh,ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ra(yh,Cc)),Dc=ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xu=ta("srcset"),Za=Ra(Dc,Xu,ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vh=ta("script,style,template");class qa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Wl.hasOwnProperty(o))return this.sanitizedSomething=!0,!vh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=i.attributes;for(let c=0;c<l.length;c++){const p=l.item(c),y=p.name,I=y.toLowerCase();if(!Za.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let x=p.value;Dc[I]&&(x=ao(x)),Xu[I]&&(n=x,x=(n=String(n)).split(",").map(i=>ao(i.trim())).join(", ")),this.buf.push(" ",y,'="',Ju(x),'"')}var n;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Wl.hasOwnProperty(o)&&!Yu.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Ju(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const du=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kl=/([^\#-~ |!])/g;function Ju(n){return n.replace(/&/g,"&amp;").replace(du,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Kl,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let El;function Ya(n,i){let o=null;try{El=El||function Wu(n){const i=new uu(n);return function Ku(){try{return!!(new window.DOMParser).parseFromString($l(""),"text/html")}catch(n){return!1}}()?new cu(i):i}(n);let l=i?String(i):"";o=El.getInertBodyElement(l);let c=5,p=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=p,p=o.innerHTML,o=El.getInertBodyElement(l)}while(l!==p);return $l((new qa).sanitizeChildren(ed(o)||o))}finally{if(o){const l=ed(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ed(n){return"content"in n&&function mp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var di=(()=>((di=di||{})[di.NONE=0]="NONE",di[di.HTML=1]="HTML",di[di.STYLE=2]="STYLE",di[di.SCRIPT=3]="SCRIPT",di[di.URL=4]="URL",di[di.RESOURCE_URL=5]="RESOURCE_URL",di))();function pu(n){const i=function ql(){const n=rn();return n&&n[12]}();return i?i.sanitize(di.URL,n)||"":Fo(n,"URL")?Ys(n):ao(Be(n))}const $r="__ngContext__";function ti(n,i){n[$r]=i}function Mc(n){const i=function Qa(n){return n[$r]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function va(n){return n.ngOriginalError}function xc(n,...i){n.error(...i)}class Ja{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),l=function Ac(n){return n&&n.ngErrorLogger||xc}(i);l(this._console,"ERROR",i),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&va(i);for(;o&&va(o);)o=va(o);return o||null}}const Rc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(hn))();function ha(n){return n instanceof Function?n():n}var $=(()=>(($=$||{})[$.Important=1]="Important",$[$.DashCase=2]="DashCase",$))();function lt(n,i){return undefined(n,i)}function On(n){const i=n[3];return Er(i)?i[3]:i}function Jr(n){return Yl(n[13])}function bo(n){return Yl(n[4])}function Yl(n){for(;null!==n&&!Er(n);)n=n[4];return n}function tl(n,i,o,l,c){if(null!=l){let p,y=!1;Er(l)?p=l:Ui(l)&&(y=!0,l=l[0]);const I=N(l);0===n&&null!==o?null==c?Ag(i,o,I):kc(i,o,I,c||null,!0):1===n&&null!==o?kc(i,o,I,c||null,!0):2===n?function Cp(n,i,o){const l=Oh(n,i);l&&function pv(n,i,o,l){gi(n)?n.removeChild(i,o,l):i.removeChild(o)}(n,l,i,o)}(i,I,y):3===n&&i.destroyNode(I),null!=p&&function Ip(n,i,o,l,c){const p=o[7];p!==N(o)&&tl(i,n,l,p,c);for(let I=10;I<o.length;I++){const x=o[I];dd(x[1],x,n,i,l,p)}}(i,n,p,o,c)}}function Pa(n,i,o){if(gi(n))return n.createElement(i,o);{const l=null!==o?function ss(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(o):null;return null===l?n.createElement(i):n.createElementNS(l,i)}}function Ig(n,i){const o=n[9],l=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,k(c,-1)),o.splice(l,1)}function Mh(n,i){if(n.length<=10)return;const o=10+i,l=n[o];if(l){const c=l[17];null!==c&&c!==n&&Ig(c,l),i>0&&(n[o-1][4]=l[4]);const p=Rt(n,10+i);!function Cl(n,i){dd(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const y=p[19];null!==y&&y.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function ka(n,i){if(!(256&i[2])){const o=i[11];gi(o)&&o.destroyNode&&dd(n,i,o,3,null,null),function vp(n){let i=n[13];if(!i)return Ah(n[1],n);for(;i;){let o=null;if(Ui(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==n;)Ui(i)&&Ah(i[1],i),i=i[3];null===i&&(i=n),Ui(i)&&Ah(i[1],i),o=i&&i[4]}i=o}}(i)}}function Ah(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function Tg(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let l=0;l<o.length;l+=2){const c=i[o[l]];if(!(c instanceof Bi)){const p=o[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const I=c[p[y]],x=p[y+1];try{x.call(I)}finally{}}else try{p.call(c)}finally{}}}}(n,i),function xh(n,i){const o=n.cleanup,l=i[7];let c=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const y=o[p+1],I="function"==typeof y?y(i):N(i[y]),x=l[c=o[p+2]],z=o[p+3];"boolean"==typeof z?I.removeEventListener(o[p],x,z):z>=0?l[c=z]():l[c=-z].unsubscribe(),p+=2}else{const y=l[c=o[p+1]];o[p].call(y)}if(null!==l){for(let p=c+1;p<l.length;p++)l[p]();i[7]=null}}(n,i),1===i[1].type&&gi(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Er(i[3])){o!==i[3]&&Ig(o,i);const l=i[19];null!==l&&l.detachView(n)}}}function Sg(n,i,o){return function Mg(n,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const c=n.data[l.directiveStart].encapsulation;if(c===gt.None||c===gt.Emulated)return null}return Wt(l,o)}(n,i.parent,o)}function kc(n,i,o,l,c){gi(n)?n.insertBefore(i,o,l,c):i.insertBefore(o,l,c)}function Ag(n,i,o){gi(n)?n.appendChild(i,o):i.appendChild(o)}function xg(n,i,o,l,c){null!==l?kc(n,i,o,l,c):Ag(n,i,o)}function Oh(n,i){return gi(n)?n.parentNode(i):i.parentNode}function Og(n,i,o){return Pg(n,i,o)}let Pg=function Rg(n,i,o){return 40&n.type?Wt(n,o):null};function Rh(n,i,o,l){const c=Sg(n,l,i),p=i[11],I=Og(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(o))for(let x=0;x<o.length;x++)xg(p,c,o[x],I,!1);else xg(p,c,o,I,!1)}function Ph(n,i){if(null!==i){const o=i.type;if(3&o)return Wt(i,n);if(4&o)return wp(-1,n[i.index]);if(8&o){const l=i.child;if(null!==l)return Ph(n,l);{const c=n[i.index];return Er(c)?wp(-1,c):N(c)}}if(32&o)return lt(i,n)()||N(n[i.index]);{const l=Ep(n,i);return null!==l?Array.isArray(l)?l[0]:Ph(On(n[16]),l):Ph(n,i.next)}}return null}function Ep(n,i){return null!==i?n[16][6].projection[i.projection]:null}function wp(n,i){const o=10+n+1;if(o<i.length){const l=i[o],c=l[1].firstChild;if(null!==c)return Ph(l,c)}return i[7]}function kh(n,i,o,l,c,p,y){for(;null!=o;){const I=l[o.index],x=o.type;if(y&&0===i&&(I&&ti(N(I),l),o.flags|=4),64!=(64&o.flags))if(8&x)kh(n,i,o.child,l,c,p,!1),tl(i,n,c,I,p);else if(32&x){const z=lt(o,l);let J;for(;J=z();)tl(i,n,c,J,p);tl(i,n,c,I,p)}else 16&x?Hs(n,i,l,o,c,p):tl(i,n,c,I,p);o=y?o.projectionNext:o.next}}function dd(n,i,o,l,c,p){kh(o,l,n.firstChild,i,c,p,!1)}function Hs(n,i,o,l,c,p){const y=o[16],x=y[6].projection[l.projection];if(Array.isArray(x))for(let z=0;z<x.length;z++)tl(i,n,c,x[z],p);else kh(n,i,x,y[3],c,p,!0)}function Nh(n,i,o){gi(n)?n.setAttribute(i,"style",o):i.style.cssText=o}function nl(n,i,o){gi(n)?""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o):i.className=o}function Sp(n,i,o){let l=n.length;for(;;){const c=n.indexOf(i,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const p=i.length;if(c+p===l||n.charCodeAt(c+p)<=32)return c}o=c+1}}const Mp="ng-template";function Fh(n,i,o){let l=0;for(;l<n.length;){let c=n[l++];if(o&&"class"===c){if(c=n[l],-1!==Sp(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<n.length&&"string"==typeof(c=n[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function Ql(n){return 4===n.type&&n.value!==Mp}function Nc(n,i,o){return i===(4!==n.type||o?n.value:Mp)}function Fc(n,i,o){let l=4;const c=n.attrs||[],p=function Fg(n){for(let i=0;i<n.length;i++)if(Ts(n[i]))return i;return n.length}(c);let y=!1;for(let I=0;I<i.length;I++){const x=i[I];if("number"!=typeof x){if(!y)if(4&l){if(l=2|1&l,""!==x&&!Nc(n,x,o)||""===x&&1===i.length){if(Vo(l))return!1;y=!0}}else{const z=8&l?x:i[++I];if(8&l&&null!==n.attrs){if(!Fh(n.attrs,z,o)){if(Vo(l))return!1;y=!0}continue}const Oe=Ng(8&l?"class":x,c,Ql(n),o);if(-1===Oe){if(Vo(l))return!1;y=!0;continue}if(""!==z){let rt;rt=Oe>p?"":c[Oe+1].toLowerCase();const It=8&l?rt:null;if(It&&-1!==Sp(It,z,0)||2&l&&z!==rt){if(Vo(l))return!1;y=!0}}}}else{if(!y&&!Vo(l)&&!Vo(x))return!1;if(y&&Vo(x))continue;y=!1,l=x|1&l}}return Vo(l)||y}function Vo(n){return 0==(1&n)}function Ng(n,i,o,l){if(null===i)return-1;let c=0;if(l||!o){let p=!1;for(;c<i.length;){const y=i[c];if(y===n)return c;if(3===y||6===y)p=!0;else{if(1===y||2===y){let I=i[++c];for(;"string"==typeof I;)I=i[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=p?1:2}return-1}return function Lg(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const l=n[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,n)}function Lh(n,i,o=!1){for(let l=0;l<i.length;l++)if(Fc(n,i[l],o))return!0;return!1}function gv(n,i){e:for(let o=0;o<i.length;o++){const l=i[o];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function xp(n,i){return n?":not("+i.trim()+")":i}function Bg(n){let i=n[0],o=1,l=2,c="",p=!1;for(;o<n.length;){let y=n[o];if("string"==typeof y)if(2&l){const I=n[++o];c+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!Vo(y)&&(i+=xp(p,c),c=""),l=y,p=p||!Vo(l);o++}return""!==c&&(i+=xp(p,c)),i}const li={};function Vg(n){Op(_i(),rn(),Ci()+n,to())}function Op(n,i,o,l){if(!l)if(3==(3&i[2])){const p=n.preOrderCheckHooks;null!==p&&ro(i,p,o)}else{const p=n.preOrderHooks;null!==p&&hs(i,p,0,o)}Or(o)}function Vh(n,i){return n<<17|i<<2}function Na(n){return n>>17&32767}function Dl(n){return 2|n}function il(n){return(131068&n)>>2}function Rp(n,i){return-131069&n|i<<2}function fd(n){return 1|n}function qg(n,i){const o=n.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const c=o[l],p=o[l+1];if(-1!==p){const y=n.data[p];Kt(c),y.contentQueries(2,i[p],p)}}}function gd(n,i,o,l,c,p,y,I,x,z){const J=i.blueprint.slice();return J[0]=c,J[2]=140|l,j(J),J[3]=J[15]=n,J[8]=o,J[10]=y||n&&n[10],J[11]=I||n&&n[11],J[12]=x||n&&n[12]||null,J[9]=z||n&&n[9]||null,J[6]=p,J[16]=2==i.type?n[16]:J,J}function Ml(n,i,o,l,c){let p=n.data[i];if(null===p)p=function Lp(n,i,o,l,c){const p=Wo(),y=To(),x=n.data[i]=function e_(n,i,o,l,c,p){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,o,i,l,c);return null===n.firstChild&&(n.firstChild=x),null!==p&&(y?null==p.child&&null!==x.parent&&(p.child=x):null===p.next&&(p.next=x)),x}(n,i,o,l,c),function v(){return M.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=l,p.attrs=c;const y=function go(){const n=M.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Ds(p,!0),p}function jc(n,i,o,l){if(0===o)return-1;const c=i.length;for(let p=0;p<o;p++)i.push(l),n.blueprint.push(l),n.data.push(null);return c}function Hc(n,i,o){Gn(i);try{const l=n.viewQuery;null!==l&&tf(1,l,o);const c=n.template;null!==c&&yd(n,i,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qg(n,i),n.staticViewQueries&&tf(2,n.viewQuery,o);const p=n.components;null!==p&&function Yg(n,i){for(let o=0;o<i.length;o++)Av(n,i[o])}(i,p)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[2]&=-5,tr()}}function ec(n,i,o,l){const c=i[2];if(256==(256&c))return;Gn(i);const p=to();try{j(i),function Ko(n){return M.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&yd(n,i,o,2,l);const y=3==(3&c);if(!p)if(y){const z=n.preOrderCheckHooks;null!==z&&ro(i,z,null)}else{const z=n.preOrderHooks;null!==z&&hs(i,z,0,null),Mn(i,0)}if(function c_(n){for(let i=Jr(n);null!==i;i=bo(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const c=o[l],p=c[3];0==(1024&c[2])&&k(p,1),c[2]|=1024}}}(i),function Wp(n){for(let i=Jr(n);null!==i;i=bo(i))for(let o=10;o<i.length;o++){const l=i[o],c=l[1];Yi(l)&&ec(c,l,c.template,l[8])}}(i),null!==n.contentQueries&&qg(n,i),!p)if(y){const z=n.contentCheckHooks;null!==z&&ro(i,z)}else{const z=n.contentHooks;null!==z&&hs(i,z,1),Mn(i,1)}!function wv(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const c=o[l];if(c<0)Or(~c);else{const p=c,y=o[++l],I=o[++l];X(y,p),I(2,i[p])}}}finally{Or(-1)}}(n,i);const I=n.components;null!==I&&function Cv(n,i){for(let o=0;o<i.length;o++)Mv(n,i[o])}(i,I);const x=n.viewQuery;if(null!==x&&tf(2,x,l),!p)if(y){const z=n.viewCheckHooks;null!==z&&ro(i,z)}else{const z=n.viewHooks;null!==z&&hs(i,z,2),Mn(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),p||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,k(i[3],-1))}finally{tr()}}function _d(n,i,o,l){const c=i[10],p=!to(),y=ui(i);try{p&&!y&&c.begin&&c.begin(),y&&Hc(n,i,l),ec(n,i,o,l)}finally{p&&!y&&c.end&&c.end()}}function yd(n,i,o,l,c){const p=Ci(),y=2&l;try{Or(-1),y&&i.length>20&&Op(n,i,20,to()),o(l,c)}finally{Or(p)}}function Kh(n,i,o){if(Rs(i)){const c=i.directiveEnd;for(let p=i.directiveStart;p<c;p++){const y=n.data[p];y.contentQueries&&y.contentQueries(1,o[p],p)}}}function vd(n,i,o){!Vr()||(function Up(n,i,o,l){const c=o.directiveStart,p=o.directiveEnd;n.firstCreatePass||K(o,i),ti(l,i);const y=o.initialInputs;for(let I=c;I<p;I++){const x=n.data[I],z=Ir(x);z&&a_(i,o,x);const J=xo(i,n,I,o);ti(J,i),null!==y&&Sv(0,I-c,J,x,0,y),z&&(si(o.index,i)[8]=J)}}(n,i,o,Wt(o,i)),128==(128&o.flags)&&function Qh(n,i,o){const l=o.directiveStart,c=o.directiveEnd,y=o.index,I=function Ee(){return M.lFrame.currentDirectiveIndex}();try{Or(y);for(let x=l;x<c;x++){const z=n.data[x],J=i[x];We(x),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&Du(z,J)}}finally{Or(-1),We(I)}}(n,i,o))}function Zh(n,i,o=Wt){const l=i.localNames;if(null!==l){let c=i.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],I=-1===y?o(i,n):n[y];n[c++]=I}}}function Qg(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=bd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function bd(n,i,o,l,c,p,y,I,x,z){const J=20+l,Oe=J+c,rt=function Xg(n,i){const o=[];for(let l=0;l<i;l++)o.push(l<n?null:li);return o}(J,Oe),It="function"==typeof z?z():z;return rt[1]={type:n,blueprint:rt,template:o,queries:null,viewQuery:I,declTNode:i,data:rt.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:Oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:It,incompleteFirstPass:!1}}function Jg(n,i,o,l){const c=Al(i);null===o?c.push(l):(c.push(o),n.firstCreatePass&&Qp(n).push(l,c.length-1))}function t_(n,i,o){for(let l in n)if(n.hasOwnProperty(l)){const c=n[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,c):o[l]=[i,c]}return o}function Uo(n,i,o,l,c,p,y,I){const x=Wt(i,o);let J,z=i.inputs;!I&&null!=z&&(J=z[l])?(h_(n,o,J,l,c),zs(i)&&function Yh(n,i){const o=si(i,n);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(l=function Cu(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=y?y(c,i.value||"",l):c,gi(p)?p.setProperty(x,l,c):pa(l)||(x.setProperty?x.setProperty(l,c):x[l]=c))}function Ed(n,i,o,l){let c=!1;if(Vr()){const p=function Xh(n,i,o){const l=n.directiveRegistry;let c=null;if(l)for(let p=0;p<l.length;p++){const y=l[p];Lh(o,y.selectors,!1)&&(c||(c=[]),Gt(K(o,i),n,y.type),Ir(y)?(Jh(n,o),c.unshift(y)):c.push(y))}return c}(n,i,o),y=null===l?null:{"":-1};if(null!==p){c=!0,$p(o,n.data.length,p.length);for(let J=0;J<p.length;J++){const Oe=p[J];Oe.providersResolver&&Oe.providersResolver(Oe)}let I=!1,x=!1,z=jc(n,i,p.length,null);for(let J=0;J<p.length;J++){const Oe=p[J];o.mergedAttrs=Vs(o.mergedAttrs,Oe.hostAttrs),o_(n,o,i,z,Oe),Hp(z,Oe,y),null!==Oe.contentQueries&&(o.flags|=8),(null!==Oe.hostBindings||null!==Oe.hostAttrs||0!==Oe.hostVars)&&(o.flags|=128);const rt=Oe.type.prototype;!I&&(rt.ngOnChanges||rt.ngOnInit||rt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),I=!0),!x&&(rt.ngOnChanges||rt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),x=!0),z++}!function wu(n,i){const l=i.directiveEnd,c=n.data,p=i.attrs,y=[];let I=null,x=null;for(let z=i.directiveStart;z<l;z++){const J=c[z],Oe=J.inputs,rt=null===p||Ql(i)?null:l_(Oe,p);y.push(rt),I=t_(Oe,z,I),x=t_(J.outputs,z,x)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=16),I.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=y,i.inputs=I,i.outputs=x}(n,o)}y&&function jp(n,i,o){if(i){const l=n.localNames=[];for(let c=0;c<i.length;c+=2){const p=o[i[c+1]];if(null==p)throw new Fe(-301,!1);l.push(i[c],p)}}}(o,l,y)}return o.mergedAttrs=Vs(o.mergedAttrs,o.attrs),c}function Vp(n,i,o,l,c,p){const y=p.hostBindings;if(y){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const x=~i.index;(function s_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(I)!=x&&I.push(x),I.push(l,c,y)}}function Du(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Jh(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Hp(n,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=n;Ir(i)&&(o[""]=n)}}function $p(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function o_(n,i,o,l,c){n.data[l]=c;const p=c.factory||(c.factory=ar(c.type)),y=new Bi(p,Ir(c),null);n.blueprint[l]=y,o[l]=y,Vp(n,i,0,l,jc(n,o,c.hostVars,li),c)}function a_(n,i,o){const l=Wt(i,n),c=Qg(o),p=n[10],y=ef(n,gd(n,c,null,o.onPush?64:16,l,i,p,p.createRenderer(l,o),null,null));n[i.index]=y}function sl(n,i,o,l,c,p){const y=Wt(n,i);!function Gp(n,i,o,l,c,p,y){if(null==p)gi(n)?n.removeAttribute(i,c,o):i.removeAttribute(c);else{const I=null==y?Be(p):y(p,l||"",c);gi(n)?n.setAttribute(i,c,I,o):o?i.setAttributeNS(o,c,I):i.setAttribute(c,I)}}(i[11],y,p,n.value,o,l,c)}function Sv(n,i,o,l,c,p){const y=p[i];if(null!==y){const I=l.setInput;for(let x=0;x<y.length;){const z=y[x++],J=y[x++],Oe=y[x++];null!==I?l.setInput(o,Oe,z,J):o[J]=Oe}}}function l_(n,i){let o=null,l=0;for(;l<i.length;){const c=i[l];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,n[c],i[l+1])),l+=2}else l+=2;else l+=4}return o}function Iu(n,i,o,l){return new Array(n,!0,!1,i,null,0,l,o,null,null)}function Mv(n,i){const o=si(i,n);if(Yi(o)){const l=o[1];80&o[2]?ec(l,o,l.template,o[8]):o[5]>0&&Kp(o)}}function Kp(n){for(let l=Jr(n);null!==l;l=bo(l))for(let c=10;c<l.length;c++){const p=l[c];if(1024&p[2]){const y=p[1];ec(y,p,y.template,p[8])}else p[5]>0&&Kp(p)}const o=n[1].components;if(null!==o)for(let l=0;l<o.length;l++){const c=si(o[l],n);Yi(c)&&c[5]>0&&Kp(c)}}function Av(n,i){const o=si(i,n),l=o[1];(function xv(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(l,o),Hc(l,o,o[8])}function ef(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function $c(n){for(;n;){n[2]|=64;const i=On(n);if(Ws(n)&&!i)return n;n=i}return null}function wd(n,i,o){const l=i[10];l.begin&&l.begin();try{ec(n,i,n.template,o)}catch(c){throw nf(i,c),c}finally{l.end&&l.end()}}function Cd(n){!function tc(n){for(let i=0;i<n.components.length;i++){const o=n.components[i],l=Mc(o),c=l[1];_d(c,l,c.template,o)}}(n[8])}function tf(n,i,o){Kt(0),i(n,o)}const Yp=(()=>Promise.resolve(null))();function Al(n){return n[7]||(n[7]=[])}function Qp(n){return n.cleanup||(n.cleanup=[])}function d_(n,i,o){return(null===n||Ir(n))&&(o=function ce(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[i.index])),o[11]}function nf(n,i){const o=n[9],l=o?o.get(Ja,null):null;l&&l.handleError(i)}function h_(n,i,o,l,c){for(let p=0;p<o.length;){const y=o[p++],I=o[p++],x=i[y],z=n.data[y];null!==z.setInput?z.setInput(x,c,l,I):x[I]=c}}function Fa(n,i,o){const l=Ft(i,n);!function ld(n,i,o){gi(n)?n.setValue(i,o):i.textContent=o}(n[11],l,o)}function rf(n,i,o){let l=o?n.styles:null,c=o?n.classes:null,p=0;if(null!==i)for(let y=0;y<i.length;y++){const I=i[y];"number"==typeof I?p=I:1==p?c=se(c,I):2==p&&(l=se(l,I+": "+i[++y]+";"))}o?n.styles=l:n.stylesWithoutHost=l,o?n.classes=c:n.classesWithoutHost=c}const af=new Tr("INJECTOR",-1);class Gc{get(i,o=ms){if(o===ms){const l=new Error(`NullInjectorError: No provider for ${ge(i)}!`);throw l.name="NullInjectorError",l}return o}}const Id=new Tr("Set Injector scope."),Td={},Ov={};let lf;function Jp(){return void 0===lf&&(lf=new Gc),lf}function p_(n,i=null,o=null,l){const c=cf(n,i,o,l);return c._resolveInjectorDefTypes(),c}function cf(n,i=null,o=null,l){return new Rv(n,o,i||Jp(),l)}class Rv{constructor(i,o,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];o&&Xr(o,I=>this.processProvider(I,i,o)),Xr([i],I=>this.processInjectorType(I,[],p)),this.records.set(af,nc(void 0,this));const y=this.records.get(Id);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof i?null:ge(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=ms,l=Q.Default){this.assertNotDestroyed();const c=yl(this),p=ht(void 0);try{if(!(l&Q.SkipSelf)){let I=this.records.get(i);if(void 0===I){const x=function Su(n){return"function"==typeof n||"object"==typeof n&&n instanceof Tr}(i)&&ut(i);I=x&&this.injectableDefInScope(x)?nc(Sd(i),Td):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(l&Q.Self?Jp():this.parent).get(i,o=l&Q.Optional&&o===ms?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[yr]=y[yr]||[]).unshift(ge(i)),c)throw y;return function vn(n,i,o,l){const c=n[yr];throw i[Xo]&&c.unshift(i[Xo]),n.message=function Vn(n,i,o,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=ge(i);if(Array.isArray(i))c=i.map(ge).join(" -> ");else if("object"==typeof i){let p=[];for(let y in i)if(i.hasOwnProperty(y)){let I=i[y];p.push(y+":"+("string"==typeof I?JSON.stringify(I):ge(I)))}c=`{${p.join(", ")}}`}return`${o}${l?"("+l+")":""}[${c}]: ${n.replace(xa,"\n  ")}`}("\n"+n.message,c,o,l),n.ngTokenPath=c,n[yr]=null,n}(y,i,"R3InjectorError",this.source)}throw y}finally{ht(p),yl(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,c)=>i.push(ge(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processInjectorType(i,o,l){if(!(i=Ce(i)))return!1;let c=De(i);const p=null==c&&i.ngModule||void 0,y=void 0===p?i:p,I=-1!==l.indexOf(y);if(void 0!==p&&(c=De(p)),null==c)return!1;if(null!=c.imports&&!I){let J;l.push(y);try{Xr(c.imports,Oe=>{this.processInjectorType(Oe,o,l)&&(void 0===J&&(J=[]),J.push(Oe))})}finally{}if(void 0!==J)for(let Oe=0;Oe<J.length;Oe++){const{ngModule:rt,providers:It}=J[Oe];Xr(It,Qt=>this.processProvider(Qt,rt,It||gn))}}this.injectorDefTypes.add(y);const x=ar(y)||(()=>new y);this.records.set(y,nc(x,Td));const z=c.providers;if(null!=z&&!I){const J=i;Xr(z,Oe=>this.processProvider(Oe,J,z))}return void 0!==p&&void 0!==i.providers}processProvider(i,o,l){let c=ic(i=Ce(i))?i:Ce(i&&i.provide);const p=function em(n,i,o){return tm(n)?nc(void 0,n.useValue):nc(m_(n),Td)}(i);if(ic(i)||!0!==i.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=nc(void 0,Td,!0),y.factory=()=>ft(y.multi),this.records.set(c,y)),c=i,y.multi.push(i)}this.records.set(c,p)}hydrate(i,o){return o.value===Td&&(o.value=Ov,o.value=o.factory()),"object"==typeof o.value&&o.value&&function rm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ce(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Sd(n){const i=ut(n),o=null!==i?i.factory:ar(n);if(null!==o)return o;if(n instanceof Tr)throw new Fe(204,!1);if(n instanceof Function)return function Pv(n){const i=n.length;if(i>0)throw Aa(i,"?"),new Fe(204,!1);const o=function Te(n){const i=n&&(n[pt]||n[fn]);if(i){const o=function mt(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Fe(204,!1)}function m_(n,i,o){let l;if(ic(n)){const c=Ce(n);return ar(c)||Sd(c)}if(tm(n))l=()=>Ce(n.useValue);else if(function im(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...ft(n.deps||[]));else if(function nm(n){return!(!n||!n.useExisting)}(n))l=()=>B(Ce(n.useExisting));else{const c=Ce(n&&(n.useClass||n.provide));if(!function rc(n){return!!n.deps}(n))return ar(c)||Sd(c);l=()=>new c(...ft(n.deps))}return l}function nc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function tm(n){return null!==n&&"object"==typeof n&&Hl in n}function ic(n){return"function"==typeof n}let Eo=(()=>{class n{static create(o,l){var c;if(Array.isArray(o))return p_({name:""},l,o,"");{const p=null!==(c=o.name)&&void 0!==c?c:"";return p_({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=ms,n.NULL=new Gc,n.\u0275prov=yt({token:n,providedIn:"any",factory:()=>B(af)}),n.__NG_ELEMENT_ID__=-1,n})();function cm(n,i){Yr(Mc(n)[1],nr())}function _f(n){let i=function gf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const l=[n];for(;i;){let c;if(Ir(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Fe(903,"");c=i.\u0275dir}if(c){if(o){l.push(c);const y=n;y.inputs=yf(n.inputs),y.declaredInputs=yf(n.declaredInputs),y.outputs=yf(n.outputs);const I=c.hostBindings;I&&Bv(n,I);const x=c.viewQuery,z=c.contentQueries;if(x&&Lv(n,x),z&&dm(n,z),Pe(n.inputs,c.inputs),Pe(n.declaredInputs,c.declaredInputs),Pe(n.outputs,c.outputs),Ir(c)&&c.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let y=0;y<p.length;y++){const I=p[y];I&&I.ngInherit&&I(n),I===_f&&(o=!1)}}i=Object.getPrototypeOf(i)}!function um(n){let i=0,o=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=i+=c.hostVars,c.hostAttrs=Vs(c.hostAttrs,o=Vs(o,c.hostAttrs))}}(l)}function yf(n){return n===yi?{}:n===gn?[]:n}function Lv(n,i){const o=n.viewQuery;n.viewQuery=o?(l,c)=>{i(l,c),o(l,c)}:i}function dm(n,i){const o=n.contentQueries;n.contentQueries=o?(l,c,p)=>{i(l,c,p),o(l,c,p)}:i}function Bv(n,i){const o=n.hostBindings;n.hostBindings=o?(l,c)=>{i(l,c),o(l,c)}:i}let vf=null;function sc(){if(!vf){const n=hn.Symbol;if(n&&n.iterator)vf=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(vf=l)}}}return vf}function Wc(n){return!!Md(n)&&(Array.isArray(n)||!(n instanceof Map)&&sc()in n)}function Md(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Gr(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function mm(n,i,o,l){const c=rn();return Gr(c,q(),i)&&(_i(),sl(Li(),c,n,i,o,l)),mm}function _m(n,i,o,l,c,p,y,I){const x=rn(),z=_i(),J=n+20,Oe=z.firstCreatePass?function Uv(n,i,o,l,c,p,y,I,x){const z=i.consts,J=Ml(i,n,4,y||null,zi(z,I));Ed(i,o,J,zi(z,x)),Yr(i,J);const Oe=J.tViews=bd(2,J,l,c,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,z);return null!==i.queries&&(i.queries.template(i,J),Oe.queries=i.queries.embeddedTView(J)),J}(J,z,x,i,o,l,c,p,y):z.data[J];Ds(Oe,!1);const rt=x[11].createComment("");Rh(z,x,rt,Oe),ti(rt,x),ef(x,x[J]=Iu(rt,x,rt,Oe)),or(Oe)&&vd(z,x,Oe),null!=y&&Zh(x,Oe,I)}function x_(n){return pi(function sa(){return M.lFrame.contextLView}(),20+n)}function _r(n,i=Q.Default){const o=rn();return null===o?B(n,i):wt(nr(),o,Ce(n),i)}function ho(){throw new Error("invalid")}function Ea(n,i,o){const l=rn();return Gr(l,q(),i)&&Uo(_i(),Li(),l,n,i,l[11],o,!1),Ea}function Of(n,i,o,l,c){const y=c?"class":"style";h_(n,o,i.inputs[y],y,l)}function qc(n,i,o,l){const c=rn(),p=_i(),y=20+n,I=c[11],x=c[y]=Pa(I,i,function Bs(){return M.lFrame.currentNamespace}()),z=p.firstCreatePass?function Yv(n,i,o,l,c,p,y){const I=i.consts,z=Ml(i,n,2,c,zi(I,p));return Ed(i,o,z,zi(I,y)),null!==z.attrs&&rf(z,z.attrs,!1),null!==z.mergedAttrs&&rf(z,z.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,z),z}(y,p,c,0,i,o,l):p.data[y];Ds(z,!0);const J=z.mergedAttrs;null!==J&&Wi(I,x,J);const Oe=z.classes;null!==Oe&&nl(I,x,Oe);const rt=z.styles;return null!==rt&&Nh(I,x,rt),64!=(64&z.flags)&&Rh(p,c,x,z),0===function Bt(){return M.lFrame.elementDepthCount}()&&ti(x,c),function Dn(){M.lFrame.elementDepthCount++}(),or(z)&&(vd(p,c,z),Kh(p,z,c)),null!==l&&Zh(c,z),qc}function Pd(){let n=nr();To()?Da():(n=n.parent,Ds(n,!1));const i=n;!function vi(){M.lFrame.elementDepthCount--}();const o=_i();return o.firstCreatePass&&(Yr(o,n),Rs(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Zo(n){return 0!=(16&n.flags)}(i)&&Of(o,i,rn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function fs(n){return 0!=(32&n.flags)}(i)&&Of(o,i,rn(),i.stylesWithoutHost,!1),Pd}function Rf(n,i,o,l){return qc(n,i,o,l),Pd(),Rf}function Pf(n,i,o){const l=rn(),c=_i(),p=n+20,y=c.firstCreatePass?function Im(n,i,o,l,c){const p=i.consts,y=zi(p,l),I=Ml(i,n,8,"ng-container",y);return null!==y&&rf(I,y,!0),Ed(i,o,I,zi(p,c)),null!==i.queries&&i.queries.elementStart(i,I),I}(p,c,l,i,o):c.data[p];Ds(y,!0);const I=l[p]=l[11].createComment("");return Rh(c,l,I,y),ti(I,l),or(y)&&(vd(c,l,y),Kh(c,y,l)),null!=o&&Zh(l,y),Pf}function kf(){let n=nr();const i=_i();return To()?Da():(n=n.parent,Ds(n,!1)),i.firstCreatePass&&(Yr(i,n),Rs(n)&&i.queries.elementEnd(n)),kf}function Mr(n,i,o){return Pf(n,i,o),kf(),Mr}function Qv(){return rn()}function G_(n){return!!n&&"function"==typeof n.then}function gs(n){return!!n&&"function"==typeof n.subscribe}const Tm=gs;function Sm(n,i,o,l){const c=rn(),p=_i(),y=nr();return W_(p,c,c[11],y,n,i,!!o,l),Sm}function Mm(n,i){const o=nr(),l=rn(),c=_i();return W_(c,l,d_(Ze(c.data),o,l),o,n,i,!1),Mm}function W_(n,i,o,l,c,p,y,I){const x=or(l),J=n.firstCreatePass&&Qp(n),Oe=i[8],rt=Al(i);let It=!0;if(3&l.type||I){const Sn=Wt(l,i),Un=I?I(Sn):Sn,ln=rt.length,ii=I?Zi=>I(N(Zi[l.index])):l.index;if(gi(o)){let Zi=null;if(!I&&x&&(Zi=function z_(n,i,o,l){const c=n.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const y=c[p];if(y===o&&c[p+1]===l){const I=i[7],x=c[p+2];return I.length>x?I[x]:null}"string"==typeof y&&(p+=2)}return null}(n,i,c,l.index)),null!==Zi)(Zi.__ngLastListenerFn__||Zi).__ngNextListenerFn__=p,Zi.__ngLastListenerFn__=p,It=!1;else{p=Am(l,i,Oe,p,!1);const vr=o.listen(Un,c,p);rt.push(p,vr),J&&J.push(c,ii,ln,ln+1)}}else p=Am(l,i,Oe,p,!0),Un.addEventListener(c,p,y),rt.push(p),J&&J.push(c,ii,ln,y)}else p=Am(l,i,Oe,p,!1);const Qt=l.outputs;let yn;if(It&&null!==Qt&&(yn=Qt[c])){const Sn=yn.length;if(Sn)for(let Un=0;Un<Sn;Un+=2){const ja=i[yn[Un]][yn[Un+1]].subscribe(p),sh=rt.length;rt.push(p,ja),J&&J.push(c,l.index,sh,-(sh+1))}}}function K_(n,i,o,l){try{return!1!==o(l)}catch(c){return nf(n,c),!1}}function Am(n,i,o,l,c){return function p(y){if(y===Function)return l;const I=2&n.flags?si(n.index,i):i;0==(32&i[2])&&$c(I);let x=K_(i,0,l,y),z=p.__ngNextListenerFn__;for(;z;)x=K_(i,0,z,y)&&x,z=z.__ngNextListenerFn__;return c&&!1===x&&(y.preventDefault(),y.returnValue=!1),x}}function Z_(n=1){return function ir(n){return(M.lFrame.contextLView=function Ur(n,i){for(;n>0;)i=i[15],n--;return i}(n,M.lFrame.contextLView))[8]}(n)}function Jb(n,i){let o=null;const l=function Ap(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let c=0;c<i.length;c++){const p=i[c];if("*"!==p){if(null===l?Lh(n,p,!0):gv(l,p))return c}else o=c}return o}function q_(n){const i=rn()[16][6];if(!i.projection){const l=i.projection=Aa(n?n.length:1,null),c=l.slice();let p=i.child;for(;null!==p;){const y=n?Jb(p,n):0;null!==y&&(c[y]?c[y].projectionNext=p:l[y]=p,c[y]=p),p=p.next}}}function Y_(n,i=0,o){const l=rn(),c=_i(),p=Ml(c,20+n,16,null,o||null);null===p.projection&&(p.projection=i),Da(),64!=(64&p.flags)&&function Dp(n,i,o){Hs(i[11],0,i,o,Sg(n,o,i),Og(o.parent||i[6],o,i))}(c,l,p)}function Nd(n,i,o,l,c){const p=n[o+1],y=null===i;let I=l?Na(p):il(p),x=!1;for(;0!==I&&(!1===x||y);){const J=n[I+1];Fd(n[I],i)&&(x=!0,n[I+1]=l?fd(J):Dl(J)),I=l?Na(J):il(J)}x&&(n[o+1]=l?Dl(p):fd(p))}function Fd(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&ca(n,i)>=0}function ku(n,i,o){return $s(n,i,o,!1),ku}function Bf(n,i){return $s(n,i,null,!0),Bf}function $s(n,i,o,l){const c=rn(),p=_i(),y=function _(n){const i=M.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}(2);p.firstUpdatePass&&function iy(n,i,o,l){const c=n.data;if(null===c[o+1]){const p=c[Ci()],y=function Ol(n,i){return i>=n.expandoStartIndex}(n,o);(function uy(n,i){return 0!=(n.flags&(i?16:32))})(p,l)&&null===i&&!y&&(i=!1),i=function ry(n,i,o,l){const c=Ze(n);let p=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(o=Bd(o=Bm(null,n,i,o,l),i.attrs,l),p=null);else{const y=i.directiveStylingLast;if(-1===y||n[y]!==c)if(o=Bm(c,n,i,o,l),null===p){let x=function sy(n,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==il(l))return n[Na(l)]}(n,i,l);void 0!==x&&Array.isArray(x)&&(x=Bm(null,n,i,x[1],l),x=Bd(x,i.attrs,l),function Ld(n,i,o,l){n[Na(o?i.classBindings:i.styleBindings)]=l}(n,i,l,x))}else p=function hc(n,i,o){let l;const c=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<c;p++)l=Bd(l,n[p].hostAttrs,o);return Bd(l,i.attrs,o)}(n,i,l)}return void 0!==p&&(l?i.residualClasses=p:i.residualStyles=p),o}(c,p,i,l),function Jv(n,i,o,l,c,p){let y=p?i.classBindings:i.styleBindings,I=Na(y),x=il(y);n[l]=o;let J,z=!1;if(Array.isArray(o)){const Oe=o;J=Oe[1],(null===J||ca(Oe,J)>0)&&(z=!0)}else J=o;if(c)if(0!==x){const rt=Na(n[I+1]);n[l+1]=Vh(rt,I),0!==rt&&(n[rt+1]=Rp(n[rt+1],l)),n[I+1]=function Lc(n,i){return 131071&n|i<<17}(n[I+1],l)}else n[l+1]=Vh(I,0),0!==I&&(n[I+1]=Rp(n[I+1],l)),I=l;else n[l+1]=Vh(x,0),0===I?I=l:n[x+1]=Rp(n[x+1],l),x=l;z&&(n[l+1]=Dl(n[l+1])),Nd(n,J,l,!0),Nd(n,J,l,!1),function Yc(n,i,o,l,c){const p=c?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof i&&ca(p,i)>=0&&(o[l+1]=fd(o[l+1]))}(i,J,n,l,p),y=Vh(I,x),p?i.classBindings=y:i.styleBindings=y}(c,p,i,o,y,l)}}(p,n,y,l),i!==li&&Gr(c,y,i)&&function ly(n,i,o,l,c,p,y,I){if(!(3&i.type))return;const x=n.data,z=x[I+1];Vd(function jg(n){return 1==(1&n)}(z)?cy(x,i,o,c,il(z),y):void 0)||(Vd(p)||function bu(n){return 2==(2&n)}(z)&&(p=cy(x,null,o,c,I,y)),function Tp(n,i,o,l,c){const p=gi(n);if(i)c?p?n.addClass(o,l):o.classList.add(l):p?n.removeClass(o,l):o.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:$.DashCase;if(null==c)p?n.removeStyle(o,l,y):o.style.removeProperty(l);else{const I="string"==typeof c&&c.endsWith("!important");I&&(c=c.slice(0,-10),y|=$.Important),p?n.setStyle(o,l,c,y):o.style.setProperty(l,c,I?"important":"")}}}(l,y,Ft(Ci(),o),c,p))}(p,p.data[Ci()],c,c[11],n,c[y+1]=function s0(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ge(Ys(n)))),n}(i,o),l,y)}function Bm(n,i,o,l,c){let p=null;const y=o.directiveEnd;let I=o.directiveStylingLast;for(-1===I?I=o.directiveStart:I++;I<y&&(p=i[I],l=Bd(l,p.hostAttrs,c),p!==n);)I++;return null!==n&&(o.directiveStylingLast=I),l}function Bd(n,i,o){const l=o?1:2;let c=-1;if(null!==i)for(let p=0;p<i.length;p++){const y=i[p];"number"==typeof y?c=y:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ss(n,y,!!o||i[++p]))}return void 0===n?null:n}function cy(n,i,o,l,c,p){const y=null===i;let I;for(;c>0;){const x=n[c],z=Array.isArray(x),J=z?x[1]:x,Oe=null===J;let rt=o[c+1];rt===li&&(rt=Oe?gn:void 0);let It=Oe?la(rt,l):J===l?rt:void 0;if(z&&!Vd(It)&&(It=la(x,l)),Vd(It)&&(I=It,y))return I;const Qt=n[c+1];c=y?Na(Qt):il(Qt)}if(null!==i){let x=p?i.residualClasses:i.residualStyles;null!=x&&(I=la(x,l))}return I}function Vd(n){return void 0!==n}function Vm(n,i=""){const o=rn(),l=_i(),c=n+20,p=l.firstCreatePass?Ml(l,c,1,i,null):l.data[c],y=o[c]=function Pc(n,i){return gi(n)?n.createText(i):n.createTextNode(i)}(o[11],i);Rh(l,o,y,p),Ds(p,!1)}function Um(n){return Uf("",n,""),Um}function Uf(n,i,o){const l=rn(),c=function oc(n,i,o,l){return Gr(n,q(),o)?i+Be(o)+l:li}(l,n,i,o);return c!==li&&Fa(l,Ci(),c),Uf}function Km(n,i,o){const l=rn();return Gr(l,q(),i)&&Uo(_i(),Li(),l,n,i,l[11],o,!0),Km}function Zm(n,i,o){const l=rn();if(Gr(l,q(),i)){const p=_i(),y=Li();Uo(p,y,l,n,i,d_(Ze(p.data),y,l),o,!0)}return Zm}const Rl=void 0;var Dy=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cy(n){const o=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let al={};function qm(n){const i=function Ty(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=jd(i);if(o)return o;const l=i.split("-")[0];if(o=jd(l),o)return o;if("en"===l)return Dy;throw new Error(`Missing locale data for the locale "${n}".`)}function Ym(n){return qm(n)[ni.PluralCase]}function jd(n){return n in al||(al[n]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[n]),al[n]}var ni=(()=>((ni=ni||{})[ni.LocaleId=0]="LocaleId",ni[ni.DayPeriodsFormat=1]="DayPeriodsFormat",ni[ni.DayPeriodsStandalone=2]="DayPeriodsStandalone",ni[ni.DaysFormat=3]="DaysFormat",ni[ni.DaysStandalone=4]="DaysStandalone",ni[ni.MonthsFormat=5]="MonthsFormat",ni[ni.MonthsStandalone=6]="MonthsStandalone",ni[ni.Eras=7]="Eras",ni[ni.FirstDayOfWeek=8]="FirstDayOfWeek",ni[ni.WeekendRange=9]="WeekendRange",ni[ni.DateFormat=10]="DateFormat",ni[ni.TimeFormat=11]="TimeFormat",ni[ni.DateTimeFormat=12]="DateTimeFormat",ni[ni.NumberSymbols=13]="NumberSymbols",ni[ni.NumberFormats=14]="NumberFormats",ni[ni.CurrencyCode=15]="CurrencyCode",ni[ni.CurrencySymbol=16]="CurrencySymbol",ni[ni.CurrencyName=17]="CurrencyName",ni[ni.Currencies=18]="Currencies",ni[ni.Directionality=19]="Directionality",ni[ni.PluralCase=20]="PluralCase",ni[ni.ExtraData=21]="ExtraData",ni))();const Xs="en-US";let My=Xs;function og(n,i,o,l,c){if(n=Ce(n),Array.isArray(n))for(let p=0;p<n.length;p++)og(n[p],i,o,l,c);else{const p=_i(),y=rn();let I=ic(n)?n:Ce(n.provide),x=m_(n);const z=nr(),J=1048575&z.providerIndexes,Oe=z.directiveStart,rt=z.providerIndexes>>20;if(ic(n)||!n.multi){const It=new Bi(x,c,_r),Qt=Jf(I,i,c?J:J+rt,Oe);-1===Qt?(Gt(K(z,y),p,I),Kd(p,n,i.length),i.push(I),z.directiveStart++,z.directiveEnd++,c&&(z.providerIndexes+=1048576),o.push(It),y.push(It)):(o[Qt]=It,y[Qt]=It)}else{const It=Jf(I,i,J+rt,Oe),Qt=Jf(I,i,J,J+rt),yn=It>=0&&o[It],Sn=Qt>=0&&o[Qt];if(c&&!Sn||!c&&!yn){Gt(K(z,y),p,I);const Un=function $0(n,i,o,l,c){const p=new Bi(n,o,_r);return p.multi=[],p.index=i,p.componentProviders=0,ag(p,c,l&&!o),p}(c?H0:lg,o.length,c,l,x);!c&&Sn&&(o[Qt].providerFactory=Un),Kd(p,n,i.length,0),i.push(I),z.directiveStart++,z.directiveEnd++,c&&(z.providerIndexes+=1048576),o.push(Un),y.push(Un)}else Kd(p,n,It>-1?It:Qt,ag(o[c?Qt:It],x,!c&&l));!c&&l&&Sn&&o[Qt].componentProviders++}}}function Kd(n,i,o,l){const c=ic(i),p=function Tu(n){return!!n.useClass}(i);if(c||p){const x=(p?Ce(i.useClass):i).prototype.ngOnDestroy;if(x){const z=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const J=z.indexOf(o);-1===J?z.push(o,[l,x]):z[J+1].push(l,x)}else z.push(o,x)}}}function ag(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Jf(n,i,o,l){for(let c=o;c<l;c++)if(i[c]===n)return c;return-1}function lg(n,i,o,l){return cg(this.multi,[])}function H0(n,i,o,l){const c=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=xo(o,o[1],this.providerFactory.index,l);p=I.slice(0,y),cg(c,p);for(let x=y;x<I.length;x++)p.push(I[x])}else p=[],cg(c,p);return p}function cg(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Zd(n,i=[]){return o=>{o.providersResolver=(l,c)=>function $y(n,i,o){const l=_i();if(l.firstCreatePass){const c=Ir(n);og(o,l.data,l.blueprint,c,!0),og(i,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,i)}}class ep{}class Gy{resolveComponentFactory(i){throw function dg(n){const i=Error(`No component factory found for ${ge(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let tu=(()=>{class n{}return n.NULL=new Gy,n})();function G0(){return Uu(nr(),rn())}function Uu(n,i){return new qd(Wt(n,i))}let qd=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=G0,n})();function z0(n){return n instanceof qd?n.nativeElement:n}class zy{}let W0=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Z0(){const n=rn(),o=si(nr().index,n);return function K0(n){return n[11]}(Ui(o)?o:n)}(),n})(),q0=(()=>{class n{}return n.\u0275prov=yt({token:n,providedIn:"root",factory:()=>null}),n})();class Yd{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const fg=new Yd("13.2.7"),tp={};function ju(n,i,o,l,c=!1){for(;null!==o;){const p=i[o.index];if(null!==p&&l.push(N(p)),Er(p))for(let I=10;I<p.length;I++){const x=p[I],z=x[1].firstChild;null!==z&&ju(x[1],x,z,l)}const y=o.type;if(8&y)ju(n,i,o.child,l);else if(32&y){const I=lt(o,i);let x;for(;x=I();)l.push(x)}else if(16&y){const I=Ep(i,o);if(Array.isArray(I))l.push(...I);else{const x=On(i[16]);ju(x[1],x,I,l,!0)}}o=c?o.projectionNext:o.next}return l}class Qd{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return ju(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Er(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Mh(i,l),Rt(o,l))}this._attachedToViewContainer=!1}ka(this._lView[1],this._lView)}onDestroy(i){Jg(this._lView[1],this._lView,null,i)}markForCheck(){$c(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Dd(n,i,o){no(!0);try{wd(n,i,o)}finally{no(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sh(n,i){dd(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=i}}class Y0 extends Qd{constructor(i){super(i),this._view=i}detectChanges(){Cd(this._view)}checkNoChanges(){!function qp(n){no(!0);try{Cd(n)}finally{no(!1)}}(this._view)}get context(){return null}}class Wy extends tu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=ct(i);return new np(o,this.ngModule)}}function pg(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class np extends ep{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Bh(n){return n.map(Bg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return pg(this.componentDef.inputs)}get outputs(){return pg(this.componentDef.outputs)}create(i,o,l,c){const p=(c=c||this.ngModule)?function Zy(n,i){return{get:(o,l,c)=>{const p=n.get(o,tp,c);return p!==tp||l===tp?p:i.get(o,l,c)}}}(i,c.injector):i,y=p.get(zy,V),I=p.get(q0,null),x=y.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",J=l?function Bp(n,i,o){if(gi(n))return n.selectRootElement(i,o===gt.ShadowDom);let l="string"==typeof i?n.querySelector(i):i;return l.textContent="",l}(x,l,this.componentDef.encapsulation):Pa(y.createRenderer(null,this.componentDef),z,function Ky(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(z)),Oe=this.componentDef.onPush?576:528,rt=function D_(n,i){return{components:[],scheduler:n||Rc,clean:Yp,playerHandler:i||null,flags:0}}(),It=bd(0,null,null,1,0,null,null,null,null,null),Qt=gd(null,It,rt,Oe,null,null,y,x,I,p);let yn,Sn;Gn(Qt);try{const Un=function pf(n,i,o,l,c,p){const y=o[1];o[20]=n;const x=Ml(y,20,2,"#host",null),z=x.mergedAttrs=i.hostAttrs;null!==z&&(rf(x,z,!0),null!==n&&(Wi(c,n,z),null!==x.classes&&nl(c,n,x.classes),null!==x.styles&&Nh(c,n,x.styles)));const J=l.createRenderer(n,i),Oe=gd(o,Qg(i),null,i.onPush?64:16,o[20],x,l,J,p||null,null);return y.firstCreatePass&&(Gt(K(x,o),y,i.type),Jh(y,x),$p(x,o.length,1)),ef(o,Oe),o[20]=Oe}(J,this.componentDef,Qt,y,x);if(J)if(l)Wi(x,J,["ng-version",fg.full]);else{const{attrs:ln,classes:ii}=function hd(n){const i=[],o=[];let l=1,c=2;for(;l<n.length;){let p=n[l];if("string"==typeof p)2===c?""!==p&&i.push(p,n[++l]):8===c&&o.push(p);else{if(!Vo(c))break;c=p}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);ln&&Wi(x,J,ln),ii&&ii.length>0&&nl(x,J,ii.join(" "))}if(Sn=$n(It,20),void 0!==o){const ln=Sn.projection=[];for(let ii=0;ii<this.ngContentSelectors.length;ii++){const Zi=o[ii];ln.push(null!=Zi?Array.from(Zi):null)}}yn=function mf(n,i,o,l,c){const p=o[1],y=function Tv(n,i,o){const l=nr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),o_(n,l,i,jc(n,i,1,null),o));const c=xo(i,n,l.directiveStart,l);ti(c,i);const p=Wt(l,i);return p&&ti(p,i),c}(p,o,i);if(l.components.push(y),n[8]=y,c&&c.forEach(x=>x(y,i)),i.contentQueries){const x=nr();i.contentQueries(1,y,x.directiveStart)}const I=nr();return!p.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Or(I.index),Vp(o[1],I,0,I.directiveStart,I.directiveEnd,i),Du(i,y)),y}(Un,this.componentDef,Qt,rt,[cm]),Hc(It,Qt,null)}finally{tr()}return new Q0(this.componentType,yn,Uu(Sn,Qt),Qt,Sn)}}class Q0 extends class ug{}{constructor(i,o,l,c,p){super(),this.location=l,this._rootLView=c,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Y0(c),this.componentType=i}get injector(){return new Sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Xd{}class ip{}const Jd=new Map;class eb extends Xd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Wy(this);const l=Ae(i);this._bootstrapComponents=ha(l.bootstrap),this._r3Injector=cf(i,o,[{provide:Xd,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],ge(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Eo.THROW_IF_NOT_FOUND,l=Q.Default){return i===Eo||i===Xd||i===af?this:this._r3Injector.get(i,o,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class eh extends ip{constructor(i){super(),this.moduleType=i,null!==Ae(i)&&function X0(n){const i=new Set;!function o(l){const c=Ae(l,!0),p=c.id;null!==p&&(function mg(n,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${n} - ${ge(i)} vs ${ge(i.name)}`)}(p,Jd.get(p),l),Jd.set(p,l));const y=ha(c.imports);for(const I of y)i.has(I)||(i.add(I),o(I))}(n)}(i)}create(i){return new eb(this.moduleType,i)}}function Qy(n,i,o,l){return rb(rn(),fr(),n,i,o,l)}function rb(n,i,o,l,c,p){const y=i+o;return Gr(n,y,c)?function ol(n,i,o){return n[i]=o}(n,y+1,p?l.call(p,c):l(c)):function sp(n,i){const o=n[i];return o===li?void 0:o}(n,y+1)}function _g(n,i){const o=_i();let l;const c=n+20;o.firstCreatePass?(l=function ev(n,i){if(i)for(let o=i.length-1;o>=0;o--){const l=i[o];if(n===l.name)return l}}(i,o.pipeRegistry),o.data[c]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,l.onDestroy)):l=o.data[c];const p=l.factory||(l.factory=ar(l.type)),y=ht(_r);try{const I=oa(!1),x=p();return oa(I),function A_(n,i,o,l){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=l}(o,rn(),c,x),x}finally{ht(y)}}function yg(n,i,o){const l=n+20,c=rn(),p=pi(c,l);return function op(n,i){return n[1].data[i].pure}(c,l)?rb(c,fr(),i,p.transform,o,p):p.transform(o)}function ap(n){return i=>{setTimeout(n,void 0,i)}}const ll=class ob extends h.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){var c,p,y;let I=i,x=o||(()=>null),z=l;if(i&&"object"==typeof i){const Oe=i;I=null===(c=Oe.next)||void 0===c?void 0:c.bind(Oe),x=null===(p=Oe.error)||void 0===p?void 0:p.bind(Oe),z=null===(y=Oe.complete)||void 0===y?void 0:y.bind(Oe)}this.__isAsync&&(x=ap(x),I&&(I=ap(I)),z&&(z=ap(z)));const J=super.subscribe({next:I,error:x,complete:z});return i instanceof C.w0&&i.add(J),J}};function vg(){return this._results[sc()]()}class nu{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=sc(),l=nu.prototype;l[o]||(l[o]=vg)}get changes(){return this._changes||(this._changes=new ll)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const c=oo(i);(this._changesDetected=!function jl(n,i,o){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],p=i[l];if(o&&(c=o(c),p=o(p)),p!==c)return!1}return!0}(l._results,c,o))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hu=(()=>{class n{}return n.__NG_ELEMENT_ID__=lb,n})();const ab=Hu,bg=class extends ab{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i){const o=this._declarationTContainer.tViews,l=gd(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(o)),Hc(o,l,i),new Qd(l)}};function lb(){return th(nr(),rn())}function th(n,i){return 4&n.type?new bg(i,n,Uu(n,i)):null}let nh=(()=>{class n{}return n.__NG_ELEMENT_ID__=sv,n})();function sv(){return ov(nr(),rn())}const cb=nh,Eg=class extends cb{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return Uu(this._hostTNode,this._hostLView)}get injector(){return new Sa(this._hostTNode,this._hostLView)}get parentInjector(){const i=$t(this._hostTNode,this._hostLView);if(Ha(i)){const o=Xi(i,this._hostLView),l=so(i);return new Sa(o[1].data[l+8],o)}return new Sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=wg(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){const c=i.createEmbeddedView(o||{});return this.insert(c,l),c}createComponent(i,o,l,c,p){const y=i&&!function jr(n){return"function"==typeof n}(i);let I;if(y)I=o;else{const Oe=o||{};I=Oe.index,l=Oe.injector,c=Oe.projectableNodes,p=Oe.ngModuleRef}const x=y?i:new np(ct(i)),z=l||this.parentInjector;if(!p&&null==x.ngModule){const rt=(y?z:this.parentInjector).get(Xd,null);rt&&(p=rt)}const J=x.create(z,c,void 0,p);return this.insert(J.hostView,I),J}insert(i,o){const l=i._lView,c=l[1];if(function wi(n){return Er(n[3])}(l)){const J=this.indexOf(i);if(-1!==J)this.detach(J);else{const Oe=l[3],rt=new Eg(Oe,Oe[6],Oe[3]);rt.detach(rt.indexOf(i))}}const p=this._adjustIndex(o),y=this._lContainer;!function vu(n,i,o,l){const c=10+l,p=o.length;l>0&&(o[c-1][4]=i),l<p-10?(i[4]=o[c],Ma(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const y=i[17];null!==y&&o!==y&&function uo(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(y,i);const I=i[19];null!==I&&I.insertView(n),i[2]|=128}(c,l,y,p);const I=wp(p,y),x=l[11],z=Oh(x,y[7]);return null!==z&&function ud(n,i,o,l,c,p){l[0]=c,l[6]=i,dd(n,l,o,1,c,p)}(c,y[6],x,l,z,I),i.attachToViewContainerRef(),Ma(Cg(y),p,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=wg(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Mh(this._lContainer,o);l&&(Rt(Cg(this._lContainer),o),ka(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Mh(this._lContainer,o);return l&&null!=Rt(Cg(this._lContainer),o)?new Qd(l):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function wg(n){return n[8]}function Cg(n){return n[8]||(n[8]=[])}function ov(n,i){let o;const l=i[n.index];if(Er(l))o=l;else{let c;if(8&n.type)c=N(l);else{const p=i[11];c=p.createComment("");const y=Wt(n,i);kc(p,Oh(p,y),c,function mv(n,i){return gi(n)?n.nextSibling(i):i.nextSibling}(p,y),!1)}i[n.index]=o=Iu(l,i,c,n),ef(i,o)}return new Eg(o,n,i)}class r{constructor(i){this.queryList=i,this.matches=null}clone(){return new r(this.queryList)}setDirty(){this.queryList.setDirty()}}class e{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let p=0;p<l;p++){const y=o.getByIndex(p);c.push(this.queries[y.indexInDeclarationView].clone())}return new e(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Gi(i,o).matches&&this.queries[o].setDirty()}}class t{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class s{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const c=null!==o?o.length:0,p=this.getByIndex(l).embeddedTView(i,c);p&&(p.indexInDeclarationView=l,null!==o?o.push(p):o=[p])}return null!==o?new s(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class a{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new a(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const p=l[c];this.matchTNodeWithReadOption(i,o,u(o,p)),this.matchTNodeWithReadOption(i,o,ga(o,i,p,!1,!1))}else l===Hu?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ga(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===qd||c===nh||c===Hu&&4&o.type)this.addMatch(o.index,-2);else{const p=ga(o,i,c,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function u(n,i){const o=n.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function T(n,i,o,l){return-1===o?function m(n,i){return 11&n.type?Uu(n,i):4&n.type?th(n,i):null}(i,n):-2===o?function L(n,i,o){return o===qd?Uu(i,n):o===Hu?th(i,n):o===nh?ov(i,n):void 0}(n,i,l):xo(n,n[1],o,i)}function W(n,i,o,l){const c=i[19].queries[l];if(null===c.matches){const p=n.data,y=o.matches,I=[];for(let x=0;x<y.length;x+=2){const z=y[x];I.push(z<0?null:T(i,p[z],y[x+1],o.metadata.read))}c.matches=I}return c.matches}function de(n,i,o,l){const c=n.queries.getByIndex(o),p=c.matches;if(null!==p){const y=W(n,i,c,o);for(let I=0;I<p.length;I+=2){const x=p[I];if(x>0)l.push(y[I/2]);else{const z=p[I+1],J=i[-x];for(let Oe=10;Oe<J.length;Oe++){const rt=J[Oe];rt[17]===rt[3]&&de(rt[1],rt,z,l)}if(null!==J[9]){const Oe=J[9];for(let rt=0;rt<Oe.length;rt++){const It=Oe[rt];de(It[1],It,z,l)}}}}}return l}function $e(n){const i=rn(),o=_i(),l=Ct();Kt(l+1);const c=Gi(o,l);if(n.dirty&&ui(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const p=c.crossesNgTemplate?de(o,i,l,[]):W(o,i,c,l);n.reset(p,z0),n.notifyOnChanges()}return!0}return!1}function St(n,i,o){const l=_i();l.firstCreatePass&&(Mi(l,new t(n,i,o),-1),2==(2&i)&&(l.staticViewQueries=!0)),kn(l,rn(),i)}function qt(n,i,o,l){const c=_i();if(c.firstCreatePass){const p=nr();Mi(c,new t(i,o,l),p.index),function sr(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}kn(c,rn(),o)}function Xt(){return function En(n,i){return n[19].queries[i].queryList}(rn(),Ct())}function kn(n,i,o){const l=new nu(4==(4&o));Jg(n,i,l,l.destroy),null===i[19]&&(i[19]=new e),i[19].queries.push(new r(l))}function Mi(n,i,o){null===n.queries&&(n.queries=new s),n.queries.track(new a(i,o))}function Gi(n,i){return n.queries.getByIndex(i)}function Di(n,i){return th(n,i)}function dv(...n){}const RE=new Tr("Application Initializer");let mb=(()=>{class n{constructor(o){this.appInits=o,this.resolve=dv,this.reject=dv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(G_(p))o.push(p);else if(Tm(p)){const y=new Promise((I,x)=>{p.subscribe({complete:I,error:x})});o.push(y)}}Promise.all(o).then(()=>{l()}).catch(c=>{this.reject(c)}),0===o.length&&l(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(B(RE,8))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PE=new Tr("AppId",{providedIn:"root",factory:function kE(){return`${gb()}${gb()}${gb()}`}});function gb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NE=new Tr("Platform Initializer"),FE=new Tr("Platform ID"),LE=new Tr("appBootstrapListener");let BE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();const _b=new Tr("LocaleId",{providedIn:"root",factory:()=>Ne(_b,Q.Optional|Q.SkipSelf)||function Aw(){return"undefined"!=typeof $localize&&$localize.locale||Xs}()}),xw=new Tr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ow{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Rw=(()=>{class n{compileModuleSync(o){return new eh(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),p=ha(Ae(o).declarations).reduce((y,I)=>{const x=ct(I);return x&&y.push(new np(x)),y},[]);return new Ow(l,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kw=(()=>Promise.resolve(0))();function yb(n){"undefined"==typeof Zone?kw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Pl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ll(!1),this.onMicrotaskEmpty=new ll(!1),this.onStable=new ll(!1),this.onError=new ll(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&o,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Nw(){let n=hn.requestAnimationFrame,i=hn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Bw(n){const i=()=>{!function Lw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(hn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,bb(n),n.isCheckStableRunning=!0,vb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),bb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,c,p,y,I)=>{try{return VE(n),o.invokeTask(c,p,y,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&i(),UE(n)}},onInvoke:(o,l,c,p,y,I,x)=>{try{return VE(n),o.invoke(c,p,y,I,x)}finally{n.shouldCoalesceRunChangeDetection&&i(),UE(n)}},onHasTask:(o,l,c,p)=>{o.hasTask(c,p),l===c&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,bb(n),vb(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,l,c,p)=>(o.handleError(c,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,c){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+c,i,Fw,dv,dv);try{return p.runTask(y,o,l)}finally{p.cancelTask(y)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const Fw={};function vb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function VE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function UE(n){n._nesting--,vb(n)}class Vw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ll,this.onMicrotaskEmpty=new ll,this.onStable=new ll,this.onError=new ll}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,c){return i.apply(o,l)}}let jE=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pl.assertNotInAngularZone(),yb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yb(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,c){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:c})}whenStable(o,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(B(Pl))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})(),HE=(()=>{class n{constructor(){this._applications=new Map,Eb.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return Eb.findTestabilityInTree(this,o,l)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();class Uw{addToWindow(i){}findTestabilityInTree(i,o,l){return null}}function jw(n){Eb=n}let kl,Eb=new Uw;const $E=new Tr("AllowMultipleToken");class Gw{constructor(i,o){this.name=i,this.token=o}}function GE(n,i,o=[]){const l=`Platform: ${i}`,c=new Tr(l);return(p=[])=>{let y=zE();if(!y||y.injector.get($E,!1))if(n)n(o.concat(p).concat({provide:c,useValue:!0}));else{const I=o.concat(p).concat({provide:c,useValue:!0},{provide:Id,useValue:"platform"});!function zw(n){if(kl&&!kl.destroyed&&!kl.injector.get($E,!1))throw new Fe(400,"");kl=n.get(WE);const i=n.get(NE,null);i&&i.forEach(o=>o())}(Eo.create({providers:I,name:l}))}return function Ww(n){const i=zE();if(!i)throw new Fe(401,"");return i}()}}function zE(){return kl&&!kl.destroyed?kl:null}let WE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const I=function Kw(n,i){let o;return o="noop"===n?new Vw:("zone.js"===n?void 0:n)||new Pl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),x=[{provide:Pl,useValue:I}];return I.run(()=>{const z=Eo.create({providers:x,parent:this.injector,name:o.moduleType.name}),J=o.create(z),Oe=J.injector.get(Ja,null);if(!Oe)throw new Fe(402,"");return I.runOutsideAngular(()=>{const rt=I.onError.subscribe({next:It=>{Oe.handleError(It)}});J.onDestroy(()=>{Cb(this._modules,J),rt.unsubscribe()})}),function Zw(n,i,o){try{const l=o();return G_(l)?l.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(Oe,I,()=>{const rt=J.injector.get(mb);return rt.runInitializers(),rt.donePromise.then(()=>(function Qm(n){Ke(n,"Expected localeId to be defined"),"string"==typeof n&&(My=n.toLowerCase().replace(/_/g,"-"))}(J.injector.get(_b,Xs)||Xs),this._moduleDoBootstrap(J),J))})})}bootstrapModule(o,l=[]){const c=KE({},l);return function Hw(n,i,o){const l=new eh(o);return Promise.resolve(l)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(o){const l=o.injector.get(wb);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Fe(403,"");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(B(Eo))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();function KE(n,i){return Array.isArray(i)?i.reduce(KE,n):Object.assign(Object.assign({},n),i)}let wb=(()=>{class n{constructor(o,l,c,p,y){this._zone=o,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new S.y(z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{z.next(this._stable),z.complete()})}),x=new S.y(z=>{let J;this._zone.runOutsideAngular(()=>{J=this._zone.onStable.subscribe(()=>{Pl.assertNotInAngularZone(),yb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,z.next(!0))})})});const Oe=this._zone.onUnstable.subscribe(()=>{Pl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{z.next(!1)}))});return()=>{J.unsubscribe(),Oe.unsubscribe()}});this.isStable=(0,ae.T)(I,x.pipe((0,pe.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new Fe(405,"");let c;c=o instanceof ep?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const p=function $w(n){return n.isBoundToModule}(c)?void 0:this._injector.get(Xd),I=c.create(Eo.NULL,[],l||c.selector,p),x=I.location.nativeElement,z=I.injector.get(jE,null),J=z&&I.injector.get(HE);return z&&J&&J.registerApplication(x,z),I.onDestroy(()=>{this.detachView(I.hostView),Cb(this.components,I),J&&J.unregisterApplication(x)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Cb(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(LE,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(B(Pl),B(Eo),B(Ja),B(tu),B(mb))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cb(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let qE=!0,YE=!1;function Yw(){return YE=!0,qE}function Qw(){if(YE)throw new Error("Cannot enable prod mode after platform setup.");qE=!1}let Xw=(()=>{class n{}return n.__NG_ELEMENT_ID__=Jw,n})();function Jw(n){return function eC(n,i,o){if(zs(n)&&!o){const l=si(n.index,i);return new Qd(l,l)}return 47&n.type?new Qd(i[16],i):null}(nr(),rn(),16==(16&n))}class ew{constructor(){}supports(i){return Wc(i)}create(i){return new oC(i)}}const sC=(n,i)=>i;class oC{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||sC}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,c=0,p=null;for(;o||l;){const y=!l||o&&o.currentIndex<nw(l,c,p)?o:l,I=nw(y,c,p),x=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(o=o._next,null==y.previousIndex)c++;else{p||(p=[]);const z=I-c,J=x-c;if(z!=J){for(let rt=0;rt<z;rt++){const It=rt<p.length?p[rt]:p[rt]=0,Qt=It+rt;J<=Qt&&Qt<z&&(p[rt]=It+1)}p[y.previousIndex]=J-z}}I!==x&&i(y,I,x)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Wc(i))throw new Fe(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,p,y,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)p=i[I],y=this._trackByFn(I,p),null!==o&&Object.is(o.trackById,y)?(l&&(o=this._verifyReinsertion(o,p,y,I)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,y,I),l=!0),o=o._next}else c=0,function I_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[sc()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,I=>{y=this._trackByFn(c,I),null!==o&&Object.is(o.trackById,y)?(l&&(o=this._verifyReinsertion(o,I,y,c)),Object.is(o.item,I)||this._addIdentityChange(o,I)):(o=this._mismatch(o,I,y,c),l=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,c){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,c)):i=this._addAfter(new aC(o,l),p,c),i}_verifyReinsertion(i,o,l,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?i=this._reinsertAfter(p,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,p=i._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new tw),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class aC{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lC{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class tw{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new lC,this.map.set(o,l)),l.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nw(n,i,o){const l=n.previousIndex;if(null===l)return l;let c=0;return o&&l<o.length&&(c=o[l]),l+i+c}class iw{constructor(){}supports(i){return i instanceof Map||Md(i)}create(){return new cC}}class cC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Md(i)))throw new Fe(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(c,l);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const p=c._prev,y=c._next;return p&&(p._next=y),y&&(y._prev=p),c._next=null,c._prev=null,c}const l=new uC(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class uC{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rw(){return new Mb([new ew])}let Mb=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const c=l.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||rw()),deps:[[n,new lr,new Jn]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(null!=l)return l;throw new Fe(901,"")}}return n.\u0275prov=yt({token:n,providedIn:"root",factory:rw}),n})();function sw(){return new Ab([new iw])}let Ab=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(l){const c=l.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||sw()),deps:[[n,new lr,new Jn]]}}find(o){const l=this.factories.find(p=>p.supports(o));if(l)return l;throw new Fe(901,"")}}return n.\u0275prov=yt({token:n,providedIn:"root",factory:sw}),n})();const fC=GE(null,"core",[{provide:FE,useValue:"unknown"},{provide:WE,deps:[Eo]},{provide:HE,deps:[]},{provide:BE,deps:[]}]);let pC=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(B(wb))},n.\u0275mod=bn({type:n}),n.\u0275inj=Ot({}),n})()},3075:(Yt,Ge,w)=>{w.d(Ge,{qu:()=>wi,sg:()=>ks,u5:()=>si,JU:()=>ge,a5:()=>De,JL:()=>we,F:()=>Fi,UX:()=>ui,kI:()=>Ht,_Y:()=>or});var h=w(5e3),S=(w(9808),w(8996)),ae=w(4128),pe=w(4004);const ge=new h.OlP("NgValueAccessor");function Fe(j){return null==j||0===j.length}function it(j){return null!=j&&"number"==typeof j.length}const Be=new h.OlP("NgValidators"),et=new h.OlP("NgAsyncValidators"),Ie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ht{static min(k){return function tt(j){return k=>{if(Fe(k.value)||Fe(j))return null;const M=parseFloat(k.value);return!isNaN(M)&&M<j?{min:{min:j,actual:k.value}}:null}}(k)}static max(k){return function be(j){return k=>{if(Fe(k.value)||Fe(j))return null;const M=parseFloat(k.value);return!isNaN(M)&&M>j?{max:{max:j,actual:k.value}}:null}}(k)}static required(k){return function he(j){return Fe(j.value)?{required:!0}:null}(k)}static requiredTrue(k){return function Se(j){return!0===j.value?null:{required:!0}}(k)}static email(k){return function _e(j){return Fe(j.value)||Ie.test(j.value)?null:{email:!0}}(k)}static minLength(k){return function Y(j){return k=>Fe(k.value)||!it(k.value)?null:k.value.length<j?{minlength:{requiredLength:j,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function Ve(j){return k=>it(k.value)&&k.value.length>j?{maxlength:{requiredLength:j,actualLength:k.value.length}}:null}(k)}static pattern(k){return function ve(j){if(!j)return qe;let k,M;return"string"==typeof j?(M="","^"!==j.charAt(0)&&(M+="^"),M+=j,"$"!==j.charAt(j.length-1)&&(M+="$"),k=new RegExp(M)):(M=j.toString(),k=j),ne=>{if(Fe(ne.value))return null;const Bt=ne.value;return k.test(Bt)?null:{pattern:{requiredPattern:M,actualValue:Bt}}}}(k)}static nullValidator(k){return null}static compose(k){return Ke(k)}static composeAsync(k){return Dt(k)}}function qe(j){return null}function Je(j){return null!=j}function _t(j){const k=(0,h.QGY)(j)?(0,S.D)(j):j;return(0,h.CqO)(k),k}function dt(j){let k={};return j.forEach(M=>{k=null!=M?Object.assign(Object.assign({},k),M):k}),0===Object.keys(k).length?null:k}function kt(j,k){return k.map(M=>M(j))}function nt(j){return j.map(k=>function At(j){return!j.validate}(k)?k:M=>k.validate(M))}function Ke(j){if(!j)return null;const k=j.filter(Je);return 0==k.length?null:function(M){return dt(kt(M,k))}}function Ue(j){return null!=j?Ke(nt(j)):null}function Dt(j){if(!j)return null;const k=j.filter(Je);return 0==k.length?null:function(M){const ne=kt(M,k).map(_t);return(0,ae.D)(ne).pipe((0,pe.U)(dt))}}function Mt(j){return null!=j?Dt(nt(j)):null}function ze(j,k){return null===j?[k]:Array.isArray(j)?[...j,k]:[j,k]}function yt(j){return j._rawValidators}function un(j){return j._rawAsyncValidators}function Ot(j){return j?Array.isArray(j)?j:[j]:[]}function ut(j,k){return Array.isArray(j)?j.includes(k):j===k}function st(j,k){const M=Ot(k);return Ot(j).forEach(Bt=>{ut(M,Bt)||M.push(Bt)}),M}function Te(j,k){return Ot(k).filter(M=>!ut(j,M))}class mt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=Ue(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=Mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,M){return!!this.control&&this.control.hasError(k,M)}getError(k,M){return this.control?this.control.getError(k,M):null}}class De extends mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pt extends mt{get formDirective(){return null}get path(){return null}}let we=(()=>{class j extends class tn{constructor(k){this._cd=k}is(k){var M,ne,Bt;return"submitted"===k?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(Bt=null===(ne=this._cd)||void 0===ne?void 0:ne.control)||void 0===Bt?void 0:Bt[k])}}{constructor(M){super(M)}}return j.\u0275fac=function(M){return new(M||j)(h.Y36(pt,10))},j.\u0275dir=h.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,ne){2&M&&h.ekj("ng-untouched",ne.is("untouched"))("ng-touched",ne.is("touched"))("ng-pristine",ne.is("pristine"))("ng-dirty",ne.is("dirty"))("ng-valid",ne.is("valid"))("ng-invalid",ne.is("invalid"))("ng-pending",ne.is("pending"))("ng-submitted",ne.is("submitted"))},features:[h.qOj]}),j})();function gn(j,k){O(j,k),k.valueAccessor.writeValue(j.value),function Z(j,k){k.valueAccessor.registerOnChange(M=>{j._pendingValue=M,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&Le(j,k)})}(j,k),function ie(j,k){const M=(ne,Bt)=>{k.valueAccessor.writeValue(ne),Bt&&k.viewToModelUpdate(ne)};j.registerOnChange(M),k._registerOnDestroy(()=>{j._unregisterOnChange(M)})}(j,k),function le(j,k){k.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&Le(j,k),"submit"!==j.updateOn&&j.markAsTouched()})}(j,k),function H(j,k){if(k.valueAccessor.setDisabledState){const M=ne=>{k.valueAccessor.setDisabledState(ne)};j.registerOnDisabledChange(M),k._registerOnDestroy(()=>{j._unregisterOnDisabledChange(M)})}}(j,k)}function qi(j,k,M=!0){const ne=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(ne),k.valueAccessor.registerOnTouched(ne)),F(j,k),j&&(k._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function oe(j,k){j.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(k)})}function O(j,k){const M=yt(j);null!==k.validator?j.setValidators(ze(M,k.validator)):"function"==typeof M&&j.setValidators([M]);const ne=un(j);null!==k.asyncValidator?j.setAsyncValidators(ze(ne,k.asyncValidator)):"function"==typeof ne&&j.setAsyncValidators([ne]);const Bt=()=>j.updateValueAndValidity();oe(k._rawValidators,Bt),oe(k._rawAsyncValidators,Bt)}function F(j,k){let M=!1;if(null!==j){if(null!==k.validator){const Bt=yt(j);if(Array.isArray(Bt)&&Bt.length>0){const Dn=Bt.filter(vi=>vi!==k.validator);Dn.length!==Bt.length&&(M=!0,j.setValidators(Dn))}}if(null!==k.asyncValidator){const Bt=un(j);if(Array.isArray(Bt)&&Bt.length>0){const Dn=Bt.filter(vi=>vi!==k.asyncValidator);Dn.length!==Bt.length&&(M=!0,j.setAsyncValidators(Dn))}}}const ne=()=>{};return oe(k._rawValidators,ne),oe(k._rawAsyncValidators,ne),M}function Le(j,k){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function ot(j,k){O(j,k)}function ct(j,k){j._syncPendingControls(),k.forEach(M=>{const ne=M.control;"submit"===ne.updateOn&&ne._pendingChange&&(M.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}function Et(j,k){const M=j.indexOf(k);M>-1&&j.splice(M,1)}const Qe="VALID",Nt="INVALID",Zt="PENDING",_n="DISABLED";function Ln(j){return(ri(j)?j.validators:j)||null}function jn(j){return Array.isArray(j)?Ue(j):j||null}function nn(j,k){return(ri(k)?k.asyncValidators:j)||null}function An(j){return Array.isArray(j)?Mt(j):j||null}function ri(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}const Si=j=>j instanceof Hn,Hi=j=>j instanceof kr,Ai=j=>j instanceof ur;function br(j){return Si(j)?j.value:j.getRawValue()}function mi(j,k){const M=Hi(j),ne=j.controls;if(!(M?Object.keys(ne):ne).length)throw new h.vHH(1e3,"");if(!ne[k])throw new h.vHH(1001,"")}function $i(j,k){Hi(j),j._forEachChild((ne,Bt)=>{if(void 0===k[Bt])throw new h.vHH(1002,"")})}class Ti{constructor(k,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=k,this._rawAsyncValidators=M,this._composedValidatorFn=jn(this._rawValidators),this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===Qe}get invalid(){return this.status===Nt}get pending(){return this.status==Zt}get disabled(){return this.status===_n}get enabled(){return this.status!==_n}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._rawValidators=k,this._composedValidatorFn=jn(k)}setAsyncValidators(k){this._rawAsyncValidators=k,this._composedAsyncValidatorFn=An(k)}addValidators(k){this.setValidators(st(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(st(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(Te(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(Te(k,this._rawAsyncValidators))}hasValidator(k){return ut(this._rawValidators,k)}hasAsyncValidator(k){return ut(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=Zt,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const M=this._parentMarkedDirty(k.onlySelf);this.status=_n,this.errors=null,this._forEachChild(ne=>{ne.disable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:M})),this._onDisabledChange.forEach(ne=>ne(!0))}enable(k={}){const M=this._parentMarkedDirty(k.onlySelf);this.status=Qe,this._forEachChild(ne=>{ne.enable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:M})),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qe||this.status===Zt)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_n:Qe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const M=_t(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(ne=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ne,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,M={}){this.errors=k,this._updateControlsErrors(!1!==M.emitEvent)}get(k){return function Rn(j,k,M){if(null==k||(Array.isArray(k)||(k=k.split(M)),Array.isArray(k)&&0===k.length))return null;let ne=j;return k.forEach(Bt=>{ne=Hi(ne)?ne.controls.hasOwnProperty(Bt)?ne.controls[Bt]:null:Ai(ne)&&ne.at(Bt)||null}),ne}(this,k,".")}getError(k,M){const ne=M?this.get(M):this;return ne&&ne.errors?ne.errors[k]:null}hasError(k,M){return!!this.getError(k,M)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?_n:this.errors?Nt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(Nt)?Nt:Qe}_anyControlsHaveStatus(k){return this._anyControls(M=>M.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_isBoxedValue(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){ri(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Hn extends Ti{constructor(k=null,M,ne){super(Ln(M),nn(ne,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ri(M)&&M.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(k)?k.value:k)}setValue(k,M={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(k,M={}){this.setValue(k,M)}reset(k=this.defaultValue,M={}){this._applyFormState(k),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Et(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Et(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){this._isBoxedValue(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}}class kr extends Ti{constructor(k,M,ne){super(Ln(M),nn(ne,M)),this.controls=k,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,M){return this.controls[k]?this.controls[k]:(this.controls[k]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(k,M,ne={}){this.registerControl(k,M),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl(k,M={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(k,M,ne={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],M&&this.registerControl(k,M),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,M={}){$i(this,k),Object.keys(k).forEach(ne=>{mi(this,ne),this.controls[ne].setValue(k[ne],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(k,M={}){null!=k&&(Object.keys(k).forEach(ne=>{this.controls[ne]&&this.controls[ne].patchValue(k[ne],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(k={},M={}){this._forEachChild((ne,Bt)=>{ne.reset(k[Bt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(k,M,ne)=>(k[ne]=br(M),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(M,ne)=>!!ne._syncPendingControls()||M);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(M=>{const ne=this.controls[M];ne&&k(ne,M)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const M of Object.keys(this.controls)){const ne=this.controls[M];if(this.contains(M)&&k(ne))return!0}return!1}_reduceValue(){return this._reduceChildren({},(k,M,ne)=>((M.enabled||this.disabled)&&(k[ne]=M.value),k))}_reduceChildren(k,M){let ne=k;return this._forEachChild((Bt,Dn)=>{ne=M(ne,Bt,Dn)}),ne}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ur extends Ti{constructor(k,M,ne){super(Ln(M),nn(ne,M)),this.controls=k,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[k]}push(k,M={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(k,M,ne={}){this.controls.splice(k,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:ne.emitEvent})}removeAt(k,M={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(k,M,ne={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),M&&(this.controls.splice(k,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,M={}){$i(this,k),k.forEach((ne,Bt)=>{mi(this,Bt),this.at(Bt).setValue(ne,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(k,M={}){null!=k&&(k.forEach((ne,Bt)=>{this.at(Bt)&&this.at(Bt).patchValue(ne,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(k=[],M={}){this._forEachChild((ne,Bt)=>{ne.reset(k[Bt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(k=>br(k))}clear(k={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_syncPendingControls(){let k=this.controls.reduce((M,ne)=>!!ne._syncPendingControls()||M,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((M,ne)=>{k(M,ne)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(M=>M.enabled&&k(M))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}}const _s={provide:pt,useExisting:(0,h.Gpc)(()=>Fi)},pr=(()=>Promise.resolve(null))();let Fi=(()=>{class j extends pt{constructor(M,ne){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new kr({},Ue(M),Mt(ne))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){pr.then(()=>{const ne=this._findContainer(M.path);M.control=ne.registerControl(M.name,M.control),gn(M.control,M),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){pr.then(()=>{const ne=this._findContainer(M.path);ne&&ne.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){pr.then(()=>{const ne=this._findContainer(M.path),Bt=new kr({});ot(Bt,M),ne.registerControl(M.name,Bt),Bt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){pr.then(()=>{const ne=this._findContainer(M.path);ne&&ne.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,ne){pr.then(()=>{this.form.get(M.path).setValue(ne)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,ct(this.form,this._directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return j.\u0275fac=function(M){return new(M||j)(h.Y36(Be,10),h.Y36(et,10))},j.\u0275dir=h.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,ne){1&M&&h.NdJ("submit",function(Dn){return ne.onSubmit(Dn)})("reset",function(){return ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([_s]),h.qOj]}),j})(),or=(()=>{class j{}return j.\u0275fac=function(M){return new(M||j)},j.\u0275dir=h.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),j})(),er=(()=>{class j{}return j.\u0275fac=function(M){return new(M||j)},j.\u0275mod=h.oAB({type:j}),j.\u0275inj=h.cJS({}),j})();const eo=new h.OlP("NgModelWithFormControlWarning"),ns={provide:pt,useExisting:(0,h.Gpc)(()=>ks)};let ks=(()=>{class j extends pt{constructor(M,ne){super(),this.validators=M,this.asyncValidators=ne,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(M),this._setAsyncValidators(ne)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(F(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const ne=this.form.get(M.path);return gn(ne,M),ne.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),ne}getControl(M){return this.form.get(M.path)}removeControl(M){qi(M.control||null,M,!1),Et(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,ne){this.form.get(M.path).setValue(ne)}onSubmit(M){return this.submitted=!0,ct(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const ne=M.control,Bt=this.form.get(M.path);ne!==Bt&&(qi(ne||null,M),Si(Bt)&&(gn(Bt,M),M.control=Bt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const ne=this.form.get(M.path);ot(ne,M),ne.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const ne=this.form.get(M.path);ne&&function en(j,k){return F(j,k)}(ne,M)&&ne.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){O(this.form,this),this._oldForm&&F(this._oldForm,this)}_checkFormPresent(){}}return j.\u0275fac=function(M){return new(M||j)(h.Y36(Be,10),h.Y36(et,10))},j.\u0275dir=h.lG2({type:j,selectors:[["","formGroup",""]],hostBindings:function(M,ne){1&M&&h.NdJ("submit",function(Dn){return ne.onSubmit(Dn)})("reset",function(){return ne.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ns]),h.qOj,h.TTD]}),j})(),pi=(()=>{class j{}return j.\u0275fac=function(M){return new(M||j)},j.\u0275mod=h.oAB({type:j}),j.\u0275inj=h.cJS({imports:[[er]]}),j})(),si=(()=>{class j{}return j.\u0275fac=function(M){return new(M||j)},j.\u0275mod=h.oAB({type:j}),j.\u0275inj=h.cJS({imports:[pi]}),j})(),ui=(()=>{class j{static withConfig(M){return{ngModule:j,providers:[{provide:eo,useValue:M.warnOnNgModelWithFormControl}]}}}return j.\u0275fac=function(M){return new(M||j)},j.\u0275mod=h.oAB({type:j}),j.\u0275inj=h.cJS({imports:[pi]}),j})(),wi=(()=>{class j{group(M,ne=null){const Bt=this._reduceControls(M);let Vr,Dn=null,vi=null;return null!=ne&&(function Yi(j){return void 0!==j.asyncValidators||void 0!==j.validators||void 0!==j.updateOn}(ne)?(Dn=null!=ne.validators?ne.validators:null,vi=null!=ne.asyncValidators?ne.asyncValidators:null,Vr=null!=ne.updateOn?ne.updateOn:void 0):(Dn=null!=ne.validator?ne.validator:null,vi=null!=ne.asyncValidator?ne.asyncValidator:null)),new kr(Bt,{asyncValidators:vi,updateOn:Vr,validators:Dn})}control(M,ne,Bt){return new Hn(M,ne,Bt)}array(M,ne,Bt){const Dn=M.map(vi=>this._createControl(vi));return new ur(Dn,ne,Bt)}_reduceControls(M){const ne={};return Object.keys(M).forEach(Bt=>{ne[Bt]=this._createControl(M[Bt])}),ne}_createControl(M){return Si(M)||Hi(M)||Ai(M)?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return j.\u0275fac=function(M){return new(M||j)},j.\u0275prov=h.Yz7({token:j,factory:j.\u0275fac,providedIn:ui}),j})()},6498:(Yt,Ge,w)=>{w.d(Ge,{xM:()=>yt,ch:()=>un,_r:()=>Mt,oL:()=>ze});var h=w(1314),C=w(7429),S=w(5e3),ae=w(508),pe=w(3191),ye=w(7579),Pe=w(9841),ge=w(7272),se=w(8306),re=w(5698),me=w(5684),Ce=w(8372),je=w(4004),ke=w(8675),Fe=w(2722),it=w(925);const et=new Set;let Ie,Ht=(()=>{class ut{constructor(Te){this._platform=Te,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):be}matchMedia(Te){return(this._platform.WEBKIT||this._platform.BLINK)&&function tt(ut){if(!et.has(ut))try{Ie||(Ie=document.createElement("style"),Ie.setAttribute("type","text/css"),document.head.appendChild(Ie)),Ie.sheet&&(Ie.sheet.insertRule(`@media ${ut} {body{ }}`,0),et.add(ut))}catch(st){console.error(st)}}(Te),this._matchMedia(Te)}}return ut.\u0275fac=function(Te){return new(Te||ut)(S.LFG(it.t4))},ut.\u0275prov=S.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})();function be(ut){return{matches:"all"===ut||""===ut,media:ut,addListener:()=>{},removeListener:()=>{}}}let he=(()=>{class ut{constructor(Te,mt){this._mediaMatcher=Te,this._zone=mt,this._queries=new Map,this._destroySubject=new ye.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Te){return Se((0,pe.Eq)(Te)).some(De=>this._registerQuery(De).mql.matches)}observe(Te){const De=Se((0,pe.Eq)(Te)).map(tn=>this._registerQuery(tn).observable);let pt=(0,Pe.a)(De);return pt=(0,ge.z)(pt.pipe((0,re.q)(1)),pt.pipe((0,me.T)(1),(0,Ce.b)(0))),pt.pipe((0,je.U)(tn=>{const fn={matches:!1,breakpoints:{}};return tn.forEach(({matches:Tt,query:Q})=>{fn.matches=fn.matches||Tt,fn.breakpoints[Q]=Tt}),fn}))}_registerQuery(Te){if(this._queries.has(Te))return this._queries.get(Te);const mt=this._mediaMatcher.matchMedia(Te),pt={observable:new se.y(tn=>{const fn=Tt=>this._zone.run(()=>tn.next(Tt));return mt.addListener(fn),()=>{mt.removeListener(fn)}}).pipe((0,ke.O)(mt),(0,je.U)(({matches:tn})=>({query:Te,matches:tn})),(0,Fe.R)(this._destroySubject)),mql:mt};return this._queries.set(Te,pt),pt}}return ut.\u0275fac=function(Te){return new(Te||ut)(S.LFG(Ht),S.LFG(S.R0b))},ut.\u0275prov=S.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})();function Se(ut){return ut.map(st=>st.split(",")).reduce((st,Te)=>st.concat(Te)).map(st=>st.trim())}const _e_Medium="(min-width: 960px) and (max-width: 1279.98px)",_e_Large="(min-width: 1280px) and (max-width: 1919.98px)";var Y=w(9808),Ve=w(1777),ve=w(5664),qe=w(226),Je=w(6451),_t=w(9646),dt=w(1159),kt=w(9300);function At(ut,st){}const nt={bottomSheetState:(0,Ve.X$)("state",[(0,Ve.SB)("void, hidden",(0,Ve.oB)({transform:"translateY(100%)"})),(0,Ve.SB)("visible",(0,Ve.oB)({transform:"translateY(0%)"})),(0,Ve.eR)("visible => void, visible => hidden",(0,Ve.ru)([(0,Ve.jt)(`${ae.mZ.COMPLEX} ${ae.yN.ACCELERATION_CURVE}`),(0,Ve.IO)("@*",(0,Ve.pV)(),{optional:!0})])),(0,Ve.eR)("void => visible",(0,Ve.ru)([(0,Ve.jt)(`${ae.mZ.EXITING} ${ae.yN.DECELERATION_CURVE}`),(0,Ve.IO)("@*",(0,Ve.pV)(),{optional:!0})]))])},Ke=new S.OlP("MatBottomSheetData");class Ue{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}let Dt=(()=>{class ut extends C.en{constructor(Te,mt,De,pt,tn,fn,Tt,Q){super(),this._elementRef=Te,this._changeDetectorRef=mt,this._focusTrapFactory=De,this._interactivityChecker=pt,this._ngZone=tn,this.bottomSheetConfig=Q,this._animationState="void",this._animationStateChanged=new S.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=we=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(we)),this._document=Tt,this._breakpointSubscription=fn.observe([_e_Medium,_e_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",fn.isMatched(_e_Medium)),this._toggleClass("mat-bottom-sheet-container-large",fn.isMatched(_e_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",fn.isMatched("(min-width: 1920px)"))})}attachComponentPortal(Te){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(Te)}attachTemplatePortal(Te){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(Te)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(Te){"hidden"===Te.toState?this._restoreFocus():"visible"===Te.toState&&this._trapFocus(),this._animationStateChanged.emit(Te)}_onAnimationStart(Te){this._animationStateChanged.emit(Te)}_toggleClass(Te,mt){this._elementRef.nativeElement.classList.toggle(Te,mt)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){this._elementRef.nativeElement.classList.add(...(0,pe.Eq)(this.bottomSheetConfig.panelClass||[]))}_forceFocus(Te,mt){this._interactivityChecker.isFocusable(Te)||(Te.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const De=()=>{Te.removeEventListener("blur",De),Te.removeEventListener("mousedown",De),Te.removeAttribute("tabindex")};Te.addEventListener("blur",De),Te.addEventListener("mousedown",De)})),Te.focus(mt)}_focusByCssSelector(Te,mt){let De=this._elementRef.nativeElement.querySelector(Te);De&&this._forceFocus(De,mt)}_trapFocus(){const Te=this._elementRef.nativeElement;switch(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(Te)),this.bottomSheetConfig.autoFocus){case!1:case"dialog":const mt=(0,it.ht)();mt!==Te&&!Te.contains(mt)&&Te.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.bottomSheetConfig.autoFocus)}}_restoreFocus(){const Te=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&Te&&"function"==typeof Te.focus){const mt=(0,it.ht)(),De=this._elementRef.nativeElement;(!mt||mt===this._document.body||mt===De||De.contains(mt))&&Te.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,it.ht)(),this._elementRef.nativeElement.focus&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this._elementRef.nativeElement.focus())})}}return ut.\u0275fac=function(Te){return new(Te||ut)(S.Y36(S.SBq),S.Y36(S.sBO),S.Y36(ve.qV),S.Y36(ve.ic),S.Y36(S.R0b),S.Y36(he),S.Y36(Y.K0,8),S.Y36(Ue))},ut.\u0275cmp=S.Xpm({type:ut,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(Te,mt){if(1&Te&&S.Gf(C.Pl,7),2&Te){let De;S.iGM(De=S.CRH())&&(mt._portalOutlet=De.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(Te,mt){1&Te&&S.WFA("@state.start",function(pt){return mt._onAnimationStart(pt)})("@state.done",function(pt){return mt._onAnimationDone(pt)}),2&Te&&(S.uIk("aria-label",null==mt.bottomSheetConfig?null:mt.bottomSheetConfig.ariaLabel),S.d8E("@state",mt._animationState))},features:[S.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Te,mt){1&Te&&S.YNc(0,At,0,0,"ng-template",0)},directives:[C.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[nt.bottomSheetState]}}),ut})(),Mt=(()=>{class ut{}return ut.\u0275fac=function(Te){return new(Te||ut)},ut.\u0275mod=S.oAB({type:ut}),ut.\u0275inj=S.cJS({imports:[[h.U8,ae.BQ,C.eL],ae.BQ]}),ut})();class ze{constructor(st,Te){this._overlayRef=Te,this._afterDismissed=new ye.x,this._afterOpened=new ye.x,this.containerInstance=st,this.disableClose=st.bottomSheetConfig.disableClose,st._animationStateChanged.pipe((0,kt.h)(mt=>"done"===mt.phaseName&&"visible"===mt.toState),(0,re.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),st._animationStateChanged.pipe((0,kt.h)(mt=>"done"===mt.phaseName&&"hidden"===mt.toState),(0,re.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),Te.dispose()}),Te.detachments().pipe((0,re.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,Je.T)(Te.backdropClick(),Te.keydownEvents().pipe((0,kt.h)(mt=>mt.keyCode===dt.hY))).subscribe(mt=>{!this.disableClose&&("keydown"!==mt.type||!(0,dt.Vb)(mt))&&(mt.preventDefault(),this.dismiss())})}dismiss(st){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,kt.h)(Te=>"start"===Te.phaseName),(0,re.q)(1)).subscribe(Te=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},Te.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=st,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const yt=new S.OlP("mat-bottom-sheet-default-options");let un=(()=>{class ut{constructor(Te,mt,De,pt){this._overlay=Te,this._injector=mt,this._parentBottomSheet=De,this._defaultOptions=pt,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const Te=this._parentBottomSheet;return Te?Te._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(Te){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=Te:this._bottomSheetRefAtThisLevel=Te}open(Te,mt){const De=function Ot(ut,st){return Object.assign(Object.assign({},ut),st)}(this._defaultOptions||new Ue,mt),pt=this._createOverlay(De),tn=this._attachContainer(pt,De),fn=new ze(tn,pt);if(Te instanceof S.Rgc)tn.attachTemplatePortal(new C.UE(Te,null,{$implicit:De.data,bottomSheetRef:fn}));else{const Tt=new C.C5(Te,void 0,this._createInjector(De,fn)),Q=tn.attachComponentPortal(Tt);fn.instance=Q.instance}return fn.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==fn&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>fn.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):fn.containerInstance.enter(),this._openedBottomSheetRef=fn,fn}dismiss(Te){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(Te)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(Te,mt){const pt=S.zs3.create({parent:mt&&mt.viewContainerRef&&mt.viewContainerRef.injector||this._injector,providers:[{provide:Ue,useValue:mt}]}),tn=new C.C5(Dt,mt.viewContainerRef,pt);return Te.attach(tn).instance}_createOverlay(Te){const mt=new h.X_({direction:Te.direction,hasBackdrop:Te.hasBackdrop,disposeOnNavigation:Te.closeOnNavigation,maxWidth:"100%",scrollStrategy:Te.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return Te.backdropClass&&(mt.backdropClass=Te.backdropClass),this._overlay.create(mt)}_createInjector(Te,mt){const De=Te&&Te.viewContainerRef&&Te.viewContainerRef.injector,pt=[{provide:ze,useValue:mt},{provide:Ke,useValue:Te.data}];return Te.direction&&(!De||!De.get(qe.Is,null,S.XFs.Optional))&&pt.push({provide:qe.Is,useValue:{value:Te.direction,change:(0,_t.of)()}}),S.zs3.create({parent:De||this._injector,providers:pt})}}return ut.\u0275fac=function(Te){return new(Te||ut)(S.LFG(h.aV),S.LFG(S.zs3),S.LFG(ut,12),S.LFG(yt,8))},ut.\u0275prov=S.Yz7({token:ut,factory:ut.\u0275fac,providedIn:Mt}),ut})()},7423:(Yt,Ge,w)=>{w.d(Ge,{lW:()=>me,ot:()=>je});var h=w(5e3),C=w(508),S=w(6360),ae=w(5664);const pe=["mat-button",""],ye=["*"],se=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],re=(0,C.pj)((0,C.Id)((0,C.Kr)(class{constructor(ke){this._elementRef=ke}})));let me=(()=>{class ke extends re{constructor(it,Be,et){super(it),this._focusMonitor=Be,this._animationMode=et,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Ie of se)this._hasHostAttributes(Ie)&&this._getHostElement().classList.add(Ie);it.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(it,Be){it?this._focusMonitor.focusVia(this._getHostElement(),it,Be):this._getHostElement().focus(Be)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...it){return it.some(Be=>this._getHostElement().hasAttribute(Be))}}return ke.\u0275fac=function(it){return new(it||ke)(h.Y36(h.SBq),h.Y36(ae.tE),h.Y36(S.Qb,8))},ke.\u0275cmp=h.Xpm({type:ke,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(it,Be){if(1&it&&h.Gf(C.wG,5),2&it){let et;h.iGM(et=h.CRH())&&(Be.ripple=et.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(it,Be){2&it&&(h.uIk("disabled",Be.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===Be._animationMode)("mat-button-disabled",Be.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:pe,ngContentSelectors:ye,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(it,Be){1&it&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1)(3,"span",2)),2&it&&(h.xp6(2),h.ekj("mat-button-ripple-round",Be.isRoundButton||Be.isIconButton),h.Q6J("matRippleDisabled",Be._isRippleDisabled())("matRippleCentered",Be.isIconButton)("matRippleTrigger",Be._getHostElement()))},directives:[C.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),ke})(),je=(()=>{class ke{}return ke.\u0275fac=function(it){return new(it||ke)},ke.\u0275mod=h.oAB({type:ke}),ke.\u0275inj=h.cJS({imports:[[C.si,C.BQ],C.BQ]}),ke})()},9224:(Yt,Ge,w)=>{w.d(Ge,{a8:()=>tt,hq:()=>je,kc:()=>Ht,dn:()=>re,rt:()=>ke,dk:()=>be,G2:()=>Fe,QW:()=>Se,$j:()=>Ce,n5:()=>me});var h=w(5e3),C=w(6360),S=w(508);const ae=["*",[["mat-card-footer"]]],pe=["*","mat-card-footer"],ye=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Pe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let re=(()=>{class _e{}return _e.\u0275fac=function(Ve){return new(Ve||_e)},_e.\u0275dir=h.lG2({type:_e,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),_e})(),me=(()=>{class _e{}return _e.\u0275fac=function(Ve){return new(Ve||_e)},_e.\u0275dir=h.lG2({type:_e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),_e})(),Ce=(()=>{class _e{}return _e.\u0275fac=function(Ve){return new(Ve||_e)},_e.\u0275dir=h.lG2({type:_e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),_e})(),je=(()=>{class _e{constructor(){this.align="start"}}return _e.\u0275fac=function(Ve){return new(Ve||_e)},_e.\u0275dir=h.lG2({type:_e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(Ve,ve){2&Ve&&h.ekj("mat-card-actions-align-end","end"===ve.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),_e})(),ke=(()=>{class _e{}return _e.\u0275fac=function(Ve){return new(Ve||_e)},_e.\u0275dir=h.lG2({type:_e,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),_e})(),Fe=(()=>{class _e{}return _e.\u0275fac=function(Ve){return new(Ve||_e)},_e.\u0275dir=h.lG2({type:_e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),_e})(),Ht=(()=>{class _e{}return _e.\u0275fac=function(Ve){return new(Ve||_e)},_e.\u0275dir=h.lG2({type:_e,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),_e})(),tt=(()=>{class _e{constructor(Ve){this._animationMode=Ve}}return _e.\u0275fac=function(Ve){return new(Ve||_e)(h.Y36(C.Qb,8))},_e.\u0275cmp=h.Xpm({type:_e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(Ve,ve){2&Ve&&h.ekj("_mat-animation-noopable","NoopAnimations"===ve._animationMode)},exportAs:["matCard"],ngContentSelectors:pe,decls:2,vars:0,template:function(Ve,ve){1&Ve&&(h.F$t(ae),h.Hsn(0),h.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),_e})(),be=(()=>{class _e{}return _e.\u0275fac=function(Ve){return new(Ve||_e)},_e.\u0275cmp=h.Xpm({type:_e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Pe,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(Ve,ve){1&Ve&&(h.F$t(ye),h.Hsn(0),h.TgZ(1,"div",0),h.Hsn(2,1),h.qZA(),h.Hsn(3,2))},encapsulation:2,changeDetection:0}),_e})(),Se=(()=>{class _e{}return _e.\u0275fac=function(Ve){return new(Ve||_e)},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({imports:[[S.BQ],S.BQ]}),_e})()},9417:(Yt,Ge,w)=>{w.d(Ge,{HS:()=>hn,EC:()=>xn,qn:()=>O,Hi:()=>Z});var h=w(1159),C=w(5e3),S=w(508),ae=w(3191),pe=w(9808),ye=w(6360),Pe=w(7579),ge=w(6451),se=w(5698),re=w(2722),me=w(8675),Ce=w(925),je=w(5664),ke=w(449),Fe=w(3075);w(1777);let Ue=(()=>{class le{}return le.\u0275fac=function(ie){return new(ie||le)},le.\u0275dir=C.lG2({type:le}),le})();var sn=w(226);const dn=["*"],bt=new C.OlP("MatChipRemove"),Me=new C.OlP("MatChipAvatar"),gt=new C.OlP("MatChipTrailingIcon");class xt{constructor(Le){this._elementRef=Le}}const Ut=(0,S.sb)((0,S.pj)((0,S.Kr)(xt),"primary"),-1);let xn=(()=>{class le{}return le.\u0275fac=function(ie){return new(ie||le)},le.\u0275dir=C.lG2({type:le,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"],features:[C._Bn([{provide:Me,useExisting:le}])]}),le})(),hn=(()=>{class le extends Ut{constructor(ie,ot,en,cn,bn,bi,vt,Ye){super(ie),this._ngZone=ot,this._changeDetectorRef=bn,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Pe.x,this._onBlur=new Pe.x,this.selectionChange=new C.vpe,this.destroyed=new C.vpe,this.removed=new C.vpe,this._addHostClassName(),this._chipRippleTarget=bi.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new S.IR(this,ot,this._chipRippleTarget,en),this._chipRipple.setupTriggerEvents(ie),this.rippleConfig=cn||{},this._animationsDisabled="NoopAnimations"===vt,this.tabIndex=null!=Ye&&parseInt(Ye)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(ie){const ot=(0,ae.Ig)(ie);ot!==this._selected&&(this._selected=ot,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(ie){this._value=ie}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(ie){this._selectable=(0,ae.Ig)(ie)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(ie){this._disabled=(0,ae.Ig)(ie)}get removable(){return this._removable}set removable(ie){this._removable=(0,ae.Ig)(ie)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const ie="mat-basic-chip",ot=this._elementRef.nativeElement;ot.hasAttribute(ie)||ot.tagName.toLowerCase()===ie?ot.classList.add(ie):ot.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(ie=!1){return this._selected=!this.selected,this._dispatchSelectionChange(ie),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(ie){this.disabled&&ie.preventDefault()}_handleKeydown(ie){if(!this.disabled)switch(ie.keyCode){case h.yY:case h.ZH:this.remove(),ie.preventDefault();break;case h.L_:this.selectable&&this.toggleSelected(!0),ie.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,se.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(ie=!1){this.selectionChange.emit({source:this,isUserInput:ie,selected:this._selected})}}return le.\u0275fac=function(ie){return new(ie||le)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(Ce.t4),C.Y36(S.Y2,8),C.Y36(C.sBO),C.Y36(pe.K0),C.Y36(ye.Qb,8),C.$8M("tabindex"))},le.\u0275dir=C.lG2({type:le,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(ie,ot,en){if(1&ie&&(C.Suo(en,Me,5),C.Suo(en,gt,5),C.Suo(en,bt,5)),2&ie){let cn;C.iGM(cn=C.CRH())&&(ot.avatar=cn.first),C.iGM(cn=C.CRH())&&(ot.trailingIcon=cn.first),C.iGM(cn=C.CRH())&&(ot.removeIcon=cn.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(ie,ot){1&ie&&C.NdJ("click",function(cn){return ot._handleClick(cn)})("keydown",function(cn){return ot._handleKeydown(cn)})("focus",function(){return ot.focus()})("blur",function(){return ot._blur()}),2&ie&&(C.uIk("tabindex",ot.disabled?null:ot.tabIndex)("disabled",ot.disabled||null)("aria-disabled",ot.disabled.toString())("aria-selected",ot.ariaSelected),C.ekj("mat-chip-selected",ot.selected)("mat-chip-with-avatar",ot.avatar)("mat-chip-with-trailing-icon",ot.trailingIcon||ot.removeIcon)("mat-chip-disabled",ot.disabled)("_mat-animation-noopable",ot._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[C.qOj]}),le})();const fi=new C.OlP("mat-chips-default-options"),qi=(0,S.FD)(class{constructor(le,Le,ie,ot){this._defaultErrorStateMatcher=le,this._parentForm=Le,this._parentFormGroup=ie,this.ngControl=ot}});let oe=0;class H{constructor(Le,ie){this.source=Le,this.value=ie}}let O=(()=>{class le extends qi{constructor(ie,ot,en,cn,bn,bi,vt){super(bi,cn,bn,vt),this._elementRef=ie,this._changeDetectorRef=ot,this._dir=en,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Pe.x,this._uid="mat-chip-list-"+oe++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(Ye,Re)=>Ye===Re,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new C.vpe,this.valueChange=new C.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var ie,ot;return this.multiple?(null===(ie=this._selectionModel)||void 0===ie?void 0:ie.selected)||[]:null===(ot=this._selectionModel)||void 0===ot?void 0:ot.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(ie){this._multiple=(0,ae.Ig)(ie),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(ie){this._compareWith=ie,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ie){this.writeValue(ie),this._value=ie}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var ie,ot,en,cn;return null!==(cn=null!==(ie=this._required)&&void 0!==ie?ie:null===(en=null===(ot=this.ngControl)||void 0===ot?void 0:ot.control)||void 0===en?void 0:en.hasValidator(Fe.kI.required))&&void 0!==cn&&cn}set required(ie){this._required=(0,ae.Ig)(ie),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(ie){this._placeholder=ie,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(ie){this._disabled=(0,ae.Ig)(ie),this._syncChipsState()}get selectable(){return this._selectable}set selectable(ie){this._selectable=(0,ae.Ig)(ie),this.chips&&this.chips.forEach(ot=>ot.chipListSelectable=this._selectable)}set tabIndex(ie){this._userTabIndex=ie,this._tabIndex=ie}get chipSelectionChanges(){return(0,ge.T)(...this.chips.map(ie=>ie.selectionChange))}get chipFocusChanges(){return(0,ge.T)(...this.chips.map(ie=>ie._onFocus))}get chipBlurChanges(){return(0,ge.T)(...this.chips.map(ie=>ie._onBlur))}get chipRemoveChanges(){return(0,ge.T)(...this.chips.map(ie=>ie.destroyed))}ngAfterContentInit(){this._keyManager=new je.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,re.R)(this._destroyed)).subscribe(ie=>this._keyManager.withHorizontalOrientation(ie)),this._keyManager.tabOut.pipe((0,re.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,me.O)(null),(0,re.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new ke.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(ie){this._chipInput=ie,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",ie.id)}setDescribedByIds(ie){this._ariaDescribedby=ie.join(" ")}writeValue(ie){this.chips&&this._setSelectionByValue(ie,!1)}registerOnChange(ie){this._onChange=ie}registerOnTouched(ie){this._onTouched=ie}setDisabledState(ie){this.disabled=ie,this.stateChanges.next()}onContainerClick(ie){this._originatesFromChip(ie)||this.focus()}focus(ie){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(ie),this.stateChanges.next()))}_focusInput(ie){this._chipInput&&this._chipInput.focus(ie)}_keydown(ie){const ot=ie.target;ot&&ot.classList.contains("mat-chip")&&(this._keyManager.onKeydown(ie),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const ie=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(ie)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(ie){return ie>=0&&ie<this.chips.length}_setSelectionByValue(ie,ot=!0){if(this._clearSelection(),this.chips.forEach(en=>en.deselect()),Array.isArray(ie))ie.forEach(en=>this._selectValue(en,ot)),this._sortValues();else{const en=this._selectValue(ie,ot);en&&ot&&this._keyManager.setActiveItem(en)}}_selectValue(ie,ot=!0){const en=this.chips.find(cn=>null!=cn.value&&this._compareWith(cn.value,ie));return en&&(ot?en.selectViaInteraction():en.select(),this._selectionModel.select(en)),en}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(ie){this._selectionModel.clear(),this.chips.forEach(ot=>{ot!==ie&&ot.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(ie=>{ie.selected&&this._selectionModel.select(ie)}),this.stateChanges.next())}_propagateChanges(ie){let ot=null;ot=Array.isArray(this.selected)?this.selected.map(en=>en.value):this.selected?this.selected.value:ie,this._value=ot,this.change.emit(new H(this,ot)),this.valueChange.emit(ot),this._onChange(ot),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(ie=>{ie.source.selected?this._selectionModel.select(ie.source):this._selectionModel.deselect(ie.source),this.multiple||this.chips.forEach(ot=>{!this._selectionModel.isSelected(ot)&&ot.selected&&ot.deselect()}),ie.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(ie=>{let ot=this.chips.toArray().indexOf(ie.chip);this._isValidIndex(ot)&&this._keyManager.updateActiveItem(ot),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(ie=>{const ot=ie.chip,en=this.chips.toArray().indexOf(ie.chip);this._isValidIndex(en)&&ot._hasFocus&&(this._lastDestroyedChipIndex=en)})}_originatesFromChip(ie){let ot=ie.target;for(;ot&&ot!==this._elementRef.nativeElement;){if(ot.classList.contains("mat-chip"))return!0;ot=ot.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(ie=>ie._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(ie=>{ie._chipListDisabled=this._disabled,ie._chipListMultiple=this.multiple})}}return le.\u0275fac=function(ie){return new(ie||le)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(sn.Is,8),C.Y36(Fe.F,8),C.Y36(Fe.sg,8),C.Y36(S.rD),C.Y36(Fe.a5,10))},le.\u0275cmp=C.Xpm({type:le,selectors:[["mat-chip-list"]],contentQueries:function(ie,ot,en){if(1&ie&&C.Suo(en,hn,5),2&ie){let cn;C.iGM(cn=C.CRH())&&(ot.chips=cn)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(ie,ot){1&ie&&C.NdJ("focus",function(){return ot.focus()})("blur",function(){return ot._blur()})("keydown",function(cn){return ot._keydown(cn)}),2&ie&&(C.Ikx("id",ot._uid),C.uIk("tabindex",ot.disabled?null:ot._tabIndex)("aria-describedby",ot._ariaDescribedby||null)("aria-required",ot.role?ot.required:null)("aria-disabled",ot.disabled.toString())("aria-invalid",ot.errorState)("aria-multiselectable",ot.multiple)("role",ot.role)("aria-orientation",ot.ariaOrientation),C.ekj("mat-chip-list-disabled",ot.disabled)("mat-chip-list-invalid",ot.errorState)("mat-chip-list-required",ot.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[C._Bn([{provide:Ue,useExisting:le}]),C.qOj],ngContentSelectors:dn,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(ie,ot){1&ie&&(C.F$t(),C.TgZ(0,"div",0),C.Hsn(1),C.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),le})(),Z=(()=>{class le{}return le.\u0275fac=function(ie){return new(ie||le)},le.\u0275mod=C.oAB({type:le}),le.\u0275inj=C.cJS({providers:[S.rD,{provide:fi,useValue:{separatorKeyCodes:[h.K5]}}],imports:[[S.BQ]]}),le})()},508:(Yt,Ge,w)=>{w.d(Ge,{yN:()=>Be,mZ:()=>et,rD:()=>un,Y2:()=>ht,BQ:()=>tt,X2:()=>Ot,uc:()=>Te,nP:()=>dn,us:()=>Vt,wG:()=>Lt,si:()=>sn,IR:()=>Q,pj:()=>Y,Kr:()=>Ve,Id:()=>_e,FD:()=>qe,sb:()=>ve,E0:()=>ut});var h=w(5e3),C=w(226),ae=w(9808),pe=w(925),ye=w(5664),Pe=w(3191),ge=w(7579),se=w(8675),re=w(6360);let Be=(()=>{class oe{}return oe.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",oe.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",oe.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",oe.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",oe})(),et=(()=>{class oe{}return oe.COMPLEX="375ms",oe.ENTERING="225ms",oe.EXITING="195ms",oe})();const Ht=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ie(){return!0}});let tt=(()=>{class oe{constructor(O,F,Z){this._sanityChecks=F,this._document=Z,this._hasDoneGlobalChecks=!1,O._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(O){return!(0,pe.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[O])}}return oe.\u0275fac=function(O){return new(O||oe)(h.LFG(ye.qm),h.LFG(Ht,8),h.LFG(ae.K0))},oe.\u0275mod=h.oAB({type:oe}),oe.\u0275inj=h.cJS({imports:[[C.vT],C.vT]}),oe})();function _e(oe){return class extends oe{constructor(...H){super(...H),this._disabled=!1}get disabled(){return this._disabled}set disabled(H){this._disabled=(0,Pe.Ig)(H)}}}function Y(oe,H){return class extends oe{constructor(...O){super(...O),this.defaultColor=H,this.color=H}get color(){return this._color}set color(O){const F=O||this.defaultColor;F!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),F&&this._elementRef.nativeElement.classList.add(`mat-${F}`),this._color=F)}}}function Ve(oe){return class extends oe{constructor(...H){super(...H),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(H){this._disableRipple=(0,Pe.Ig)(H)}}}function ve(oe,H=0){return class extends oe{constructor(...O){super(...O),this._tabIndex=H,this.defaultTabIndex=H}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(O){this._tabIndex=null!=O?(0,Pe.su)(O):this.defaultTabIndex}}}function qe(oe){return class extends oe{constructor(...H){super(...H),this.stateChanges=new ge.x,this.errorState=!1}updateErrorState(){const H=this.errorState,le=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);le!==H&&(this.errorState=le,this.stateChanges.next())}}}let un=(()=>{class oe{isErrorState(O,F){return!!(O&&O.invalid&&(O.touched||F&&F.submitted))}}return oe.\u0275fac=function(O){return new(O||oe)},oe.\u0275prov=h.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Ot=(()=>{class oe{}return oe.\u0275fac=function(O){return new(O||oe)},oe.\u0275dir=h.lG2({type:oe,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),oe})();function ut(oe,H,O="mat"){oe.changes.pipe((0,se.O)(oe)).subscribe(({length:F})=>{st(H,`${O}-2-line`,!1),st(H,`${O}-3-line`,!1),st(H,`${O}-multi-line`,!1),2===F||3===F?st(H,`${O}-${F}-line`,!0):F>3&&st(H,`${O}-multi-line`,!0)})}function st(oe,H,O){oe.nativeElement.classList.toggle(H,O)}let Te=(()=>{class oe{}return oe.\u0275fac=function(O){return new(O||oe)},oe.\u0275mod=h.oAB({type:oe}),oe.\u0275inj=h.cJS({imports:[[tt],tt]}),oe})();class mt{constructor(H,O,F){this._renderer=H,this.element=O,this.config=F,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const De={enterDuration:225,exitDuration:150},tn=(0,pe.i$)({passive:!0}),fn=["mousedown","touchstart"],Tt=["mouseup","mouseleave","touchend","touchcancel"];class Q{constructor(H,O,F,Z){this._target=H,this._ngZone=O,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Z.isBrowser&&(this._containerElement=(0,Pe.fI)(F))}fadeInRipple(H,O,F={}){const Z=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),le=Object.assign(Object.assign({},De),F.animation);F.centered&&(H=Z.left+Z.width/2,O=Z.top+Z.height/2);const Le=F.radius||function at(oe,H,O){const F=Math.max(Math.abs(oe-O.left),Math.abs(oe-O.right)),Z=Math.max(Math.abs(H-O.top),Math.abs(H-O.bottom));return Math.sqrt(F*F+Z*Z)}(H,O,Z),ie=H-Z.left,ot=O-Z.top,en=le.enterDuration,cn=document.createElement("div");cn.classList.add("mat-ripple-element"),cn.style.left=ie-Le+"px",cn.style.top=ot-Le+"px",cn.style.height=2*Le+"px",cn.style.width=2*Le+"px",null!=F.color&&(cn.style.backgroundColor=F.color),cn.style.transitionDuration=`${en}ms`,this._containerElement.appendChild(cn),function we(oe){window.getComputedStyle(oe).getPropertyValue("opacity")}(cn),cn.style.transform="scale(1)";const bn=new mt(this,cn,F);return bn.state=0,this._activeRipples.add(bn),F.persistent||(this._mostRecentTransientRipple=bn),this._runTimeoutOutsideZone(()=>{const bi=bn===this._mostRecentTransientRipple;bn.state=1,!F.persistent&&(!bi||!this._isPointerDown)&&bn.fadeOut()},en),bn}fadeOutRipple(H){const O=this._activeRipples.delete(H);if(H===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!O)return;const F=H.element,Z=Object.assign(Object.assign({},De),H.config.animation);F.style.transitionDuration=`${Z.exitDuration}ms`,F.style.opacity="0",H.state=2,this._runTimeoutOutsideZone(()=>{H.state=3,F.remove()},Z.exitDuration)}fadeOutAll(){this._activeRipples.forEach(H=>H.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(H=>{H.config.persistent||H.fadeOut()})}setupTriggerEvents(H){const O=(0,Pe.fI)(H);!O||O===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=O,this._registerEvents(fn))}handleEvent(H){"mousedown"===H.type?this._onMousedown(H):"touchstart"===H.type?this._onTouchStart(H):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Tt),this._pointerUpEventsRegistered=!0)}_onMousedown(H){const O=(0,ye.X6)(H),F=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!O&&!F&&(this._isPointerDown=!0,this.fadeInRipple(H.clientX,H.clientY,this._target.rippleConfig))}_onTouchStart(H){if(!this._target.rippleDisabled&&!(0,ye.yG)(H)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const O=H.changedTouches;for(let F=0;F<O.length;F++)this.fadeInRipple(O[F].clientX,O[F].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(H=>{!H.config.persistent&&(1===H.state||H.config.terminateOnPointerUp&&0===H.state)&&H.fadeOut()}))}_runTimeoutOutsideZone(H,O=0){this._ngZone.runOutsideAngular(()=>setTimeout(H,O))}_registerEvents(H){this._ngZone.runOutsideAngular(()=>{H.forEach(O=>{this._triggerElement.addEventListener(O,this,tn)})})}_removeTriggerEvents(){this._triggerElement&&(fn.forEach(H=>{this._triggerElement.removeEventListener(H,this,tn)}),this._pointerUpEventsRegistered&&Tt.forEach(H=>{this._triggerElement.removeEventListener(H,this,tn)}))}}const ht=new h.OlP("mat-ripple-global-options");let Lt=(()=>{class oe{constructor(O,F,Z,le,Le){this._elementRef=O,this._animationMode=Le,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=le||{},this._rippleRenderer=new Q(this,F,O,Z)}get disabled(){return this._disabled}set disabled(O){O&&this.fadeOutAllNonPersistent(),this._disabled=O,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(O){this._trigger=O,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(O,F=0,Z){return"number"==typeof O?this._rippleRenderer.fadeInRipple(O,F,Object.assign(Object.assign({},this.rippleConfig),Z)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),O))}}return oe.\u0275fac=function(O){return new(O||oe)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(pe.t4),h.Y36(ht,8),h.Y36(re.Qb,8))},oe.\u0275dir=h.lG2({type:oe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(O,F){2&O&&h.ekj("mat-ripple-unbounded",F.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),oe})(),sn=(()=>{class oe{}return oe.\u0275fac=function(O){return new(O||oe)},oe.\u0275mod=h.oAB({type:oe}),oe.\u0275inj=h.cJS({imports:[[tt],tt]}),oe})(),dn=(()=>{class oe{constructor(O){this._animationMode=O,this.state="unchecked",this.disabled=!1}}return oe.\u0275fac=function(O){return new(O||oe)(h.Y36(re.Qb,8))},oe.\u0275cmp=h.Xpm({type:oe,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(O,F){2&O&&h.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===F.state)("mat-pseudo-checkbox-checked","checked"===F.state)("mat-pseudo-checkbox-disabled",F.disabled)("_mat-animation-noopable","NoopAnimations"===F._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(O,F){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),oe})(),Vt=(()=>{class oe{}return oe.\u0275fac=function(O){return new(O||oe)},oe.\u0275mod=h.oAB({type:oe}),oe.\u0275inj=h.cJS({imports:[[tt]]}),oe})()},8966:(Yt,Ge,w)=>{w.d(Ge,{uw:()=>At,Is:()=>un});var h=w(1314),C=w(7429),S=w(5e3),ae=w(508),pe=w(226),ye=w(7579),Pe=w(9770),ge=w(9646),se=w(9300),re=w(5698),me=w(8675),Ce=w(925),je=w(9808),ke=w(1777),Fe=w(5664),it=w(1159),Be=w(6360);function et(Ot,ut){}class Ie{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ht={dialogContainer:(0,ke.X$)("dialogContainer",[(0,ke.SB)("void, exit",(0,ke.oB)({opacity:0,transform:"scale(0.7)"})),(0,ke.SB)("enter",(0,ke.oB)({transform:"none"})),(0,ke.eR)("* => enter",(0,ke.ru)([(0,ke.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ke.oB)({transform:"none",opacity:1})),(0,ke.IO)("@*",(0,ke.pV)(),{optional:!0})])),(0,ke.eR)("* => void, * => exit",(0,ke.ru)([(0,ke.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ke.oB)({opacity:0})),(0,ke.IO)("@*",(0,ke.pV)(),{optional:!0})]))])};let be=(()=>{class Ot extends C.en{constructor(st,Te,mt,De,pt,tn,fn,Tt){super(),this._elementRef=st,this._focusTrapFactory=Te,this._changeDetectorRef=mt,this._config=pt,this._interactivityChecker=tn,this._ngZone=fn,this._focusMonitor=Tt,this._animationStateChanged=new S.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Q=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(Q)),this._ariaLabelledBy=pt.ariaLabelledBy||null,this._document=De}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Ce.ht)())}attachComponentPortal(st){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(st)}attachTemplatePortal(st){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(st)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(st,Te){this._interactivityChecker.isFocusable(st)||(st.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const mt=()=>{st.removeEventListener("blur",mt),st.removeEventListener("mousedown",mt),st.removeAttribute("tabindex")};st.addEventListener("blur",mt),st.addEventListener("mousedown",mt)})),st.focus(Te)}_focusByCssSelector(st,Te){let mt=this._elementRef.nativeElement.querySelector(st);mt&&this._forceFocus(mt,Te)}_trapFocus(){const st=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||st.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Te=>{Te||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const st=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&st&&"function"==typeof st.focus){const Te=(0,Ce.ht)(),mt=this._elementRef.nativeElement;(!Te||Te===this._document.body||Te===mt||mt.contains(Te))&&(this._focusMonitor?(this._focusMonitor.focusVia(st,this._closeInteractionType),this._closeInteractionType=null):st.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const st=this._elementRef.nativeElement,Te=(0,Ce.ht)();return st===Te||st.contains(Te)}}return Ot.\u0275fac=function(st){return new(st||Ot)(S.Y36(S.SBq),S.Y36(Fe.qV),S.Y36(S.sBO),S.Y36(je.K0,8),S.Y36(Ie),S.Y36(Fe.ic),S.Y36(S.R0b),S.Y36(Fe.tE))},Ot.\u0275dir=S.lG2({type:Ot,viewQuery:function(st,Te){if(1&st&&S.Gf(C.Pl,7),2&st){let mt;S.iGM(mt=S.CRH())&&(Te._portalOutlet=mt.first)}},features:[S.qOj]}),Ot})(),he=(()=>{class Ot extends be{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:st,totalTime:Te}){"enter"===st?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Te})):"exit"===st&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:Te}))}_onAnimationStart({toState:st,totalTime:Te}){"enter"===st?this._animationStateChanged.next({state:"opening",totalTime:Te}):("exit"===st||"void"===st)&&this._animationStateChanged.next({state:"closing",totalTime:Te})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return Ot.\u0275fac=function(){let ut;return function(Te){return(ut||(ut=S.n5z(Ot)))(Te||Ot)}}(),Ot.\u0275cmp=S.Xpm({type:Ot,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(st,Te){1&st&&S.WFA("@dialogContainer.start",function(De){return Te._onAnimationStart(De)})("@dialogContainer.done",function(De){return Te._onAnimationDone(De)}),2&st&&(S.Ikx("id",Te._id),S.uIk("role",Te._config.role)("aria-labelledby",Te._config.ariaLabel?null:Te._ariaLabelledBy)("aria-label",Te._config.ariaLabel)("aria-describedby",Te._config.ariaDescribedBy||null),S.d8E("@dialogContainer",Te._state))},features:[S.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(st,Te){1&st&&S.YNc(0,et,0,0,"ng-template",0)},directives:[C.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ht.dialogContainer]}}),Ot})(),Se=0;class _e{constructor(ut,st,Te="mat-dialog-"+Se++){this._overlayRef=ut,this._containerInstance=st,this.id=Te,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ye.x,this._afterClosed=new ye.x,this._beforeClosed=new ye.x,this._state=0,st._id=Te,st._animationStateChanged.pipe((0,se.h)(mt=>"opened"===mt.state),(0,re.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),st._animationStateChanged.pipe((0,se.h)(mt=>"closed"===mt.state),(0,re.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),ut.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),ut.keydownEvents().pipe((0,se.h)(mt=>mt.keyCode===it.hY&&!this.disableClose&&!(0,it.Vb)(mt))).subscribe(mt=>{mt.preventDefault(),Y(this,"keyboard")}),ut.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Y(this,"mouse")})}close(ut){this._result=ut,this._containerInstance._animationStateChanged.pipe((0,se.h)(st=>"closing"===st.state),(0,re.q)(1)).subscribe(st=>{this._beforeClosed.next(ut),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),st.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(ut){let st=this._getPositionStrategy();return ut&&(ut.left||ut.right)?ut.left?st.left(ut.left):st.right(ut.right):st.centerHorizontally(),ut&&(ut.top||ut.bottom)?ut.top?st.top(ut.top):st.bottom(ut.bottom):st.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(ut="",st=""){return this._overlayRef.updateSize({width:ut,height:st}),this._overlayRef.updatePosition(),this}addPanelClass(ut){return this._overlayRef.addPanelClass(ut),this}removePanelClass(ut){return this._overlayRef.removePanelClass(ut),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Y(Ot,ut,st){return void 0!==Ot._containerInstance&&(Ot._containerInstance._closeInteractionType=ut),Ot.close(st)}const Ve=new S.OlP("MatDialogData"),ve=new S.OlP("mat-dialog-default-options"),qe=new S.OlP("mat-dialog-scroll-strategy"),dt={provide:qe,deps:[h.aV],useFactory:function _t(Ot){return()=>Ot.scrollStrategies.block()}};let kt=(()=>{class Ot{constructor(st,Te,mt,De,pt,tn,fn,Tt,Q,we){this._overlay=st,this._injector=Te,this._defaultOptions=mt,this._parentDialog=De,this._overlayContainer=pt,this._dialogRefConstructor=fn,this._dialogContainerType=Tt,this._dialogDataToken=Q,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ye.x,this._afterOpenedAtThisLevel=new ye.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Pe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,me.O)(void 0))),this._scrollStrategy=tn}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const st=this._parentDialog;return st?st._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(st,Te){Te=function nt(Ot,ut){return Object.assign(Object.assign({},ut),Ot)}(Te,this._defaultOptions||new Ie),Te.id&&this.getDialogById(Te.id);const mt=this._createOverlay(Te),De=this._attachDialogContainer(mt,Te),pt=this._attachDialogContent(st,De,mt,Te);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(pt),pt.afterClosed().subscribe(()=>this._removeOpenDialog(pt)),this.afterOpened.next(pt),De._initializeWithAttachedContent(),pt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(st){return this.openDialogs.find(Te=>Te.id===st)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(st){const Te=this._getOverlayConfig(st);return this._overlay.create(Te)}_getOverlayConfig(st){const Te=new h.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:st.scrollStrategy||this._scrollStrategy(),panelClass:st.panelClass,hasBackdrop:st.hasBackdrop,direction:st.direction,minWidth:st.minWidth,minHeight:st.minHeight,maxWidth:st.maxWidth,maxHeight:st.maxHeight,disposeOnNavigation:st.closeOnNavigation});return st.backdropClass&&(Te.backdropClass=st.backdropClass),Te}_attachDialogContainer(st,Te){const De=S.zs3.create({parent:Te&&Te.viewContainerRef&&Te.viewContainerRef.injector||this._injector,providers:[{provide:Ie,useValue:Te}]}),pt=new C.C5(this._dialogContainerType,Te.viewContainerRef,De,Te.componentFactoryResolver);return st.attach(pt).instance}_attachDialogContent(st,Te,mt,De){const pt=new this._dialogRefConstructor(mt,Te,De.id);if(st instanceof S.Rgc)Te.attachTemplatePortal(new C.UE(st,null,{$implicit:De.data,dialogRef:pt}));else{const tn=this._createInjector(De,pt,Te),fn=Te.attachComponentPortal(new C.C5(st,De.viewContainerRef,tn,De.componentFactoryResolver));pt.componentInstance=fn.instance}return pt.updateSize(De.width,De.height).updatePosition(De.position),pt}_createInjector(st,Te,mt){const De=st&&st.viewContainerRef&&st.viewContainerRef.injector,pt=[{provide:this._dialogContainerType,useValue:mt},{provide:this._dialogDataToken,useValue:st.data},{provide:this._dialogRefConstructor,useValue:Te}];return st.direction&&(!De||!De.get(pe.Is,null,S.XFs.Optional))&&pt.push({provide:pe.Is,useValue:{value:st.direction,change:(0,ge.of)()}}),S.zs3.create({parent:De||this._injector,providers:pt})}_removeOpenDialog(st){const Te=this.openDialogs.indexOf(st);Te>-1&&(this.openDialogs.splice(Te,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((mt,De)=>{mt?De.setAttribute("aria-hidden",mt):De.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const st=this._overlayContainer.getContainerElement();if(st.parentElement){const Te=st.parentElement.children;for(let mt=Te.length-1;mt>-1;mt--){let De=Te[mt];De!==st&&"SCRIPT"!==De.nodeName&&"STYLE"!==De.nodeName&&!De.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(De,De.getAttribute("aria-hidden")),De.setAttribute("aria-hidden","true"))}}}_closeDialogs(st){let Te=st.length;for(;Te--;)st[Te].close()}}return Ot.\u0275fac=function(st){S.$Z()},Ot.\u0275dir=S.lG2({type:Ot}),Ot})(),At=(()=>{class Ot extends kt{constructor(st,Te,mt,De,pt,tn,fn,Tt){super(st,Te,De,tn,fn,pt,_e,he,Ve,Tt)}}return Ot.\u0275fac=function(st){return new(st||Ot)(S.LFG(h.aV),S.LFG(S.zs3),S.LFG(je.Ye,8),S.LFG(ve,8),S.LFG(qe),S.LFG(Ot,12),S.LFG(h.Xj),S.LFG(Be.Qb,8))},Ot.\u0275prov=S.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),un=(()=>{class Ot{}return Ot.\u0275fac=function(st){return new(st||Ot)},Ot.\u0275mod=S.oAB({type:Ot}),Ot.\u0275inj=S.cJS({providers:[At,dt],imports:[[h.U8,C.eL,ae.BQ],ae.BQ]}),Ot})()},4834:(Yt,Ge,w)=>{w.d(Ge,{d:()=>ae,t:()=>pe});var h=w(5e3),C=w(3191),S=w(508);let ae=(()=>{class ye{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(ge){this._vertical=(0,C.Ig)(ge)}get inset(){return this._inset}set inset(ge){this._inset=(0,C.Ig)(ge)}}return ye.\u0275fac=function(ge){return new(ge||ye)},ye.\u0275cmp=h.Xpm({type:ye,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(ge,se){2&ge&&(h.uIk("aria-orientation",se.vertical?"vertical":"horizontal"),h.ekj("mat-divider-vertical",se.vertical)("mat-divider-horizontal",!se.vertical)("mat-divider-inset",se.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(ge,se){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),ye})(),pe=(()=>{class ye{}return ye.\u0275fac=function(ge){return new(ge||ye)},ye.\u0275mod=h.oAB({type:ye}),ye.\u0275inj=h.cJS({imports:[[S.BQ],S.BQ]}),ye})()},8099:(Yt,Ge,w)=>{w.d(Ge,{Hw:()=>ct,Ps:()=>zt});var h=w(5e3),C=w(508),S=w(3191),ae=w(9808),pe=w(9646),ye=w(2843),Pe=w(4128),ge=w(727),se=w(8505),re=w(4004),me=w(262),Ce=w(8746),je=w(3099),ke=w(5698),Fe=w(4351),it=w(9300);class Be{}class Ie{constructor(Ae){this.normalizedNames=new Map,this.lazyUpdate=null,Ae?this.lazyInit="string"==typeof Ae?()=>{this.headers=new Map,Ae.split("\n").forEach(fe=>{const Qe=fe.indexOf(":");if(Qe>0){const Nt=fe.slice(0,Qe),Zt=Nt.toLowerCase(),_n=fe.slice(Qe+1).trim();this.maybeSetNormalizedName(Nt,Zt),this.headers.has(Zt)?this.headers.get(Zt).push(_n):this.headers.set(Zt,[_n])}})}:()=>{this.headers=new Map,Object.keys(Ae).forEach(fe=>{let Qe=Ae[fe];const Nt=fe.toLowerCase();"string"==typeof Qe&&(Qe=[Qe]),Qe.length>0&&(this.headers.set(Nt,Qe),this.maybeSetNormalizedName(fe,Nt))})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const fe=this.headers.get(Ae.toLowerCase());return fe&&fe.length>0?fe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,fe){return this.clone({name:Ae,value:fe,op:"a"})}set(Ae,fe){return this.clone({name:Ae,value:fe,op:"s"})}delete(Ae,fe){return this.clone({name:Ae,value:fe,op:"d"})}maybeSetNormalizedName(Ae,fe){this.normalizedNames.has(fe)||this.normalizedNames.set(fe,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof Ie?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(fe=>{this.headers.set(fe,Ae.headers.get(fe)),this.normalizedNames.set(fe,Ae.normalizedNames.get(fe))})}clone(Ae){const fe=new Ie;return fe.lazyInit=this.lazyInit&&this.lazyInit instanceof Ie?this.lazyInit:this,fe.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),fe}applyUpdate(Ae){const fe=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let Qe=Ae.value;if("string"==typeof Qe&&(Qe=[Qe]),0===Qe.length)return;this.maybeSetNormalizedName(Ae.name,fe);const Nt=("a"===Ae.op?this.headers.get(fe):void 0)||[];Nt.push(...Qe),this.headers.set(fe,Nt);break;case"d":const Zt=Ae.value;if(Zt){let _n=this.headers.get(fe);if(!_n)return;_n=_n.filter(Rn=>-1===Zt.indexOf(Rn)),0===_n.length?(this.headers.delete(fe),this.normalizedNames.delete(fe)):this.headers.set(fe,_n)}else this.headers.delete(fe),this.normalizedNames.delete(fe)}}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(fe=>Ae(this.normalizedNames.get(fe),this.headers.get(fe)))}}class Ht{encodeKey(Ae){return Se(Ae)}encodeValue(Ae){return Se(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const be=/%(\d[a-f0-9])/gi,he={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Se(Et){return encodeURIComponent(Et).replace(be,(Ae,fe)=>{var Qe;return null!==(Qe=he[fe])&&void 0!==Qe?Qe:Ae})}function _e(Et){return`${Et}`}class Y{constructor(Ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ae.encoder||new Ht,Ae.fromString){if(Ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tt(Et,Ae){const fe=new Map;return Et.length>0&&Et.replace(/^\?/,"").split("&").forEach(Nt=>{const Zt=Nt.indexOf("="),[_n,Rn]=-1==Zt?[Ae.decodeKey(Nt),""]:[Ae.decodeKey(Nt.slice(0,Zt)),Ae.decodeValue(Nt.slice(Zt+1))],Ln=fe.get(_n)||[];Ln.push(Rn),fe.set(_n,Ln)}),fe}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(fe=>{const Qe=Ae.fromObject[fe];this.map.set(fe,Array.isArray(Qe)?Qe:[Qe])})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const fe=this.map.get(Ae);return fe?fe[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,fe){return this.clone({param:Ae,value:fe,op:"a"})}appendAll(Ae){const fe=[];return Object.keys(Ae).forEach(Qe=>{const Nt=Ae[Qe];Array.isArray(Nt)?Nt.forEach(Zt=>{fe.push({param:Qe,value:Zt,op:"a"})}):fe.push({param:Qe,value:Nt,op:"a"})}),this.clone(fe)}set(Ae,fe){return this.clone({param:Ae,value:fe,op:"s"})}delete(Ae,fe){return this.clone({param:Ae,value:fe,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const fe=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(Qe=>fe+"="+this.encoder.encodeValue(Qe)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const fe=new Y({encoder:this.encoder});return fe.cloneFrom=this.cloneFrom||this,fe.updates=(this.updates||[]).concat(Ae),fe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const fe=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];fe.push(_e(Ae.value)),this.map.set(Ae.param,fe);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let Qe=this.map.get(Ae.param)||[];const Nt=Qe.indexOf(_e(Ae.value));-1!==Nt&&Qe.splice(Nt,1),Qe.length>0?this.map.set(Ae.param,Qe):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}class ve{constructor(){this.map=new Map}set(Ae,fe){return this.map.set(Ae,fe),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}function Je(Et){return"undefined"!=typeof ArrayBuffer&&Et instanceof ArrayBuffer}function _t(Et){return"undefined"!=typeof Blob&&Et instanceof Blob}function dt(Et){return"undefined"!=typeof FormData&&Et instanceof FormData}class At{constructor(Ae,fe,Qe,Nt){let Zt;if(this.url=fe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ae.toUpperCase(),function qe(Et){switch(Et){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Nt?(this.body=void 0!==Qe?Qe:null,Zt=Nt):Zt=Qe,Zt&&(this.reportProgress=!!Zt.reportProgress,this.withCredentials=!!Zt.withCredentials,Zt.responseType&&(this.responseType=Zt.responseType),Zt.headers&&(this.headers=Zt.headers),Zt.context&&(this.context=Zt.context),Zt.params&&(this.params=Zt.params)),this.headers||(this.headers=new Ie),this.context||(this.context=new ve),this.params){const _n=this.params.toString();if(0===_n.length)this.urlWithParams=fe;else{const Rn=fe.indexOf("?");this.urlWithParams=fe+(-1===Rn?"?":Rn<fe.length-1?"&":"")+_n}}else this.params=new Y,this.urlWithParams=fe}serializeBody(){return null===this.body?null:Je(this.body)||_t(this.body)||dt(this.body)||function kt(Et){return"undefined"!=typeof URLSearchParams&&Et instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Y?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dt(this.body)?null:_t(this.body)?this.body.type||null:Je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Y?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ae={}){var fe;const Qe=Ae.method||this.method,Nt=Ae.url||this.url,Zt=Ae.responseType||this.responseType,_n=void 0!==Ae.body?Ae.body:this.body,Rn=void 0!==Ae.withCredentials?Ae.withCredentials:this.withCredentials,Ln=void 0!==Ae.reportProgress?Ae.reportProgress:this.reportProgress;let jn=Ae.headers||this.headers,nn=Ae.params||this.params;const An=null!==(fe=Ae.context)&&void 0!==fe?fe:this.context;return void 0!==Ae.setHeaders&&(jn=Object.keys(Ae.setHeaders).reduce((ri,Si)=>ri.set(Si,Ae.setHeaders[Si]),jn)),Ae.setParams&&(nn=Object.keys(Ae.setParams).reduce((ri,Si)=>ri.set(Si,Ae.setParams[Si]),nn)),new At(Qe,Nt,_n,{params:nn,headers:jn,context:An,reportProgress:Ln,responseType:Zt,withCredentials:Rn})}}var nt=(()=>((nt=nt||{})[nt.Sent=0]="Sent",nt[nt.UploadProgress=1]="UploadProgress",nt[nt.ResponseHeader=2]="ResponseHeader",nt[nt.DownloadProgress=3]="DownloadProgress",nt[nt.Response=4]="Response",nt[nt.User=5]="User",nt))();class Dt extends class Ke{constructor(Ae,fe=200,Qe="OK"){this.headers=Ae.headers||new Ie,this.status=void 0!==Ae.status?Ae.status:fe,this.statusText=Ae.statusText||Qe,this.url=Ae.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(Ae={}){super(Ae),this.type=nt.Response,this.body=void 0!==Ae.body?Ae.body:null}clone(Ae={}){return new Dt({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}function ze(Et,Ae){return{body:Ae,headers:Et.headers,context:Et.context,observe:Et.observe,params:Et.params,reportProgress:Et.reportProgress,responseType:Et.responseType,withCredentials:Et.withCredentials}}let yt=(()=>{class Et{constructor(fe){this.handler=fe}request(fe,Qe,Nt={}){let Zt;if(fe instanceof At)Zt=fe;else{let Ln,jn;Ln=Nt.headers instanceof Ie?Nt.headers:new Ie(Nt.headers),Nt.params&&(jn=Nt.params instanceof Y?Nt.params:new Y({fromObject:Nt.params})),Zt=new At(fe,Qe,void 0!==Nt.body?Nt.body:null,{headers:Ln,context:Nt.context,params:jn,reportProgress:Nt.reportProgress,responseType:Nt.responseType||"json",withCredentials:Nt.withCredentials})}const _n=(0,pe.of)(Zt).pipe((0,Fe.b)(Ln=>this.handler.handle(Ln)));if(fe instanceof At||"events"===Nt.observe)return _n;const Rn=_n.pipe((0,it.h)(Ln=>Ln instanceof Dt));switch(Nt.observe||"body"){case"body":switch(Zt.responseType){case"arraybuffer":return Rn.pipe((0,re.U)(Ln=>{if(null!==Ln.body&&!(Ln.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ln.body}));case"blob":return Rn.pipe((0,re.U)(Ln=>{if(null!==Ln.body&&!(Ln.body instanceof Blob))throw new Error("Response is not a Blob.");return Ln.body}));case"text":return Rn.pipe((0,re.U)(Ln=>{if(null!==Ln.body&&"string"!=typeof Ln.body)throw new Error("Response is not a string.");return Ln.body}));default:return Rn.pipe((0,re.U)(Ln=>Ln.body))}case"response":return Rn;default:throw new Error(`Unreachable: unhandled observe type ${Nt.observe}}`)}}delete(fe,Qe={}){return this.request("DELETE",fe,Qe)}get(fe,Qe={}){return this.request("GET",fe,Qe)}head(fe,Qe={}){return this.request("HEAD",fe,Qe)}jsonp(fe,Qe){return this.request("JSONP",fe,{params:(new Y).append(Qe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(fe,Qe={}){return this.request("OPTIONS",fe,Qe)}patch(fe,Qe,Nt={}){return this.request("PATCH",fe,ze(Nt,Qe))}post(fe,Qe,Nt={}){return this.request("POST",fe,ze(Nt,Qe))}put(fe,Qe,Nt={}){return this.request("PUT",fe,ze(Nt,Qe))}}return Et.\u0275fac=function(fe){return new(fe||Et)(h.LFG(Be))},Et.\u0275prov=h.Yz7({token:Et,factory:Et.\u0275fac}),Et})();var hn=w(2313);const hi=["*"];let fi;function gn(Et){var Ae;return(null===(Ae=function yi(){if(void 0===fi&&(fi=null,"undefined"!=typeof window)){const Et=window;void 0!==Et.trustedTypes&&(fi=Et.trustedTypes.createPolicy("angular#components",{createHTML:Ae=>Ae}))}return fi}())||void 0===Ae?void 0:Ae.createHTML(Et))||Et}function qi(Et){return Error(`Unable to find icon with the name "${Et}"`)}function H(Et){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Et}".`)}function O(Et){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Et}".`)}class F{constructor(Ae,fe,Qe){this.url=Ae,this.svgText=fe,this.options=Qe}}let Z=(()=>{class Et{constructor(fe,Qe,Nt,Zt){this._httpClient=fe,this._sanitizer=Qe,this._errorHandler=Zt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=Nt}addSvgIcon(fe,Qe,Nt){return this.addSvgIconInNamespace("",fe,Qe,Nt)}addSvgIconLiteral(fe,Qe,Nt){return this.addSvgIconLiteralInNamespace("",fe,Qe,Nt)}addSvgIconInNamespace(fe,Qe,Nt,Zt){return this._addSvgIconConfig(fe,Qe,new F(Nt,null,Zt))}addSvgIconResolver(fe){return this._resolvers.push(fe),this}addSvgIconLiteralInNamespace(fe,Qe,Nt,Zt){const _n=this._sanitizer.sanitize(h.q3G.HTML,Nt);if(!_n)throw O(Nt);const Rn=gn(_n);return this._addSvgIconConfig(fe,Qe,new F("",Rn,Zt))}addSvgIconSet(fe,Qe){return this.addSvgIconSetInNamespace("",fe,Qe)}addSvgIconSetLiteral(fe,Qe){return this.addSvgIconSetLiteralInNamespace("",fe,Qe)}addSvgIconSetInNamespace(fe,Qe,Nt){return this._addSvgIconSetConfig(fe,new F(Qe,null,Nt))}addSvgIconSetLiteralInNamespace(fe,Qe,Nt){const Zt=this._sanitizer.sanitize(h.q3G.HTML,Qe);if(!Zt)throw O(Qe);const _n=gn(Zt);return this._addSvgIconSetConfig(fe,new F("",_n,Nt))}registerFontClassAlias(fe,Qe=fe){return this._fontCssClassesByAlias.set(fe,Qe),this}classNameForFontAlias(fe){return this._fontCssClassesByAlias.get(fe)||fe}setDefaultFontSetClass(fe){return this._defaultFontSetClass=fe,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(fe){const Qe=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,fe);if(!Qe)throw H(fe);const Nt=this._cachedIconsByUrl.get(Qe);return Nt?(0,pe.of)(ie(Nt)):this._loadSvgIconFromConfig(new F(fe,null)).pipe((0,se.b)(Zt=>this._cachedIconsByUrl.set(Qe,Zt)),(0,re.U)(Zt=>ie(Zt)))}getNamedSvgIcon(fe,Qe=""){const Nt=ot(Qe,fe);let Zt=this._svgIconConfigs.get(Nt);if(Zt)return this._getSvgFromConfig(Zt);if(Zt=this._getIconConfigFromResolvers(Qe,fe),Zt)return this._svgIconConfigs.set(Nt,Zt),this._getSvgFromConfig(Zt);const _n=this._iconSetConfigs.get(Qe);return _n?this._getSvgFromIconSetConfigs(fe,_n):(0,ye._)(qi(Nt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(fe){return fe.svgText?(0,pe.of)(ie(this._svgElementFromConfig(fe))):this._loadSvgIconFromConfig(fe).pipe((0,re.U)(Qe=>ie(Qe)))}_getSvgFromIconSetConfigs(fe,Qe){const Nt=this._extractIconWithNameFromAnySet(fe,Qe);if(Nt)return(0,pe.of)(Nt);const Zt=Qe.filter(_n=>!_n.svgText).map(_n=>this._loadSvgIconSetFromConfig(_n).pipe((0,me.K)(Rn=>{const jn=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,_n.url)} failed: ${Rn.message}`;return this._errorHandler.handleError(new Error(jn)),(0,pe.of)(null)})));return(0,Pe.D)(Zt).pipe((0,re.U)(()=>{const _n=this._extractIconWithNameFromAnySet(fe,Qe);if(!_n)throw qi(fe);return _n}))}_extractIconWithNameFromAnySet(fe,Qe){for(let Nt=Qe.length-1;Nt>=0;Nt--){const Zt=Qe[Nt];if(Zt.svgText&&Zt.svgText.toString().indexOf(fe)>-1){const _n=this._svgElementFromConfig(Zt),Rn=this._extractSvgIconFromSet(_n,fe,Zt.options);if(Rn)return Rn}}return null}_loadSvgIconFromConfig(fe){return this._fetchIcon(fe).pipe((0,se.b)(Qe=>fe.svgText=Qe),(0,re.U)(()=>this._svgElementFromConfig(fe)))}_loadSvgIconSetFromConfig(fe){return fe.svgText?(0,pe.of)(null):this._fetchIcon(fe).pipe((0,se.b)(Qe=>fe.svgText=Qe))}_extractSvgIconFromSet(fe,Qe,Nt){const Zt=fe.querySelector(`[id="${Qe}"]`);if(!Zt)return null;const _n=Zt.cloneNode(!0);if(_n.removeAttribute("id"),"svg"===_n.nodeName.toLowerCase())return this._setSvgAttributes(_n,Nt);if("symbol"===_n.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(_n),Nt);const Rn=this._svgElementFromString(gn("<svg></svg>"));return Rn.appendChild(_n),this._setSvgAttributes(Rn,Nt)}_svgElementFromString(fe){const Qe=this._document.createElement("DIV");Qe.innerHTML=fe;const Nt=Qe.querySelector("svg");if(!Nt)throw Error("<svg> tag not found");return Nt}_toSvgElement(fe){const Qe=this._svgElementFromString(gn("<svg></svg>")),Nt=fe.attributes;for(let Zt=0;Zt<Nt.length;Zt++){const{name:_n,value:Rn}=Nt[Zt];"id"!==_n&&Qe.setAttribute(_n,Rn)}for(let Zt=0;Zt<fe.childNodes.length;Zt++)fe.childNodes[Zt].nodeType===this._document.ELEMENT_NODE&&Qe.appendChild(fe.childNodes[Zt].cloneNode(!0));return Qe}_setSvgAttributes(fe,Qe){return fe.setAttribute("fit",""),fe.setAttribute("height","100%"),fe.setAttribute("width","100%"),fe.setAttribute("preserveAspectRatio","xMidYMid meet"),fe.setAttribute("focusable","false"),Qe&&Qe.viewBox&&fe.setAttribute("viewBox",Qe.viewBox),fe}_fetchIcon(fe){var Qe;const{url:Nt,options:Zt}=fe,_n=null!==(Qe=null==Zt?void 0:Zt.withCredentials)&&void 0!==Qe&&Qe;if(!this._httpClient)throw function oe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Nt)throw Error(`Cannot fetch icon from URL "${Nt}".`);const Rn=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,Nt);if(!Rn)throw H(Nt);const Ln=this._inProgressUrlFetches.get(Rn);if(Ln)return Ln;const jn=this._httpClient.get(Rn,{responseType:"text",withCredentials:_n}).pipe((0,re.U)(nn=>gn(nn)),(0,Ce.x)(()=>this._inProgressUrlFetches.delete(Rn)),(0,je.B)());return this._inProgressUrlFetches.set(Rn,jn),jn}_addSvgIconConfig(fe,Qe,Nt){return this._svgIconConfigs.set(ot(fe,Qe),Nt),this}_addSvgIconSetConfig(fe,Qe){const Nt=this._iconSetConfigs.get(fe);return Nt?Nt.push(Qe):this._iconSetConfigs.set(fe,[Qe]),this}_svgElementFromConfig(fe){if(!fe.svgElement){const Qe=this._svgElementFromString(fe.svgText);this._setSvgAttributes(Qe,fe.options),fe.svgElement=Qe}return fe.svgElement}_getIconConfigFromResolvers(fe,Qe){for(let Nt=0;Nt<this._resolvers.length;Nt++){const Zt=this._resolvers[Nt](Qe,fe);if(Zt)return en(Zt)?new F(Zt.url,null,Zt.options):new F(Zt,null)}}}return Et.\u0275fac=function(fe){return new(fe||Et)(h.LFG(yt,8),h.LFG(hn.H7),h.LFG(ae.K0,8),h.LFG(h.qLn))},Et.\u0275prov=h.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})();function ie(Et){return Et.cloneNode(!0)}function ot(Et,Ae){return Et+":"+Ae}function en(Et){return!(!Et.url||!Et.options)}const cn=(0,C.pj)(class{constructor(Et){this._elementRef=Et}}),bn=new h.OlP("mat-icon-location",{providedIn:"root",factory:function bi(){const Et=(0,h.f3M)(ae.K0),Ae=Et?Et.location:null;return{getPathname:()=>Ae?Ae.pathname+Ae.search:""}}}),vt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ye=vt.map(Et=>`[${Et}]`).join(", "),Re=/^url\(['"]?#(.*?)['"]?\)$/;let ct=(()=>{class Et extends cn{constructor(fe,Qe,Nt,Zt,_n){super(fe),this._iconRegistry=Qe,this._location=Zt,this._errorHandler=_n,this._inline=!1,this._currentIconFetch=ge.w0.EMPTY,Nt||fe.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(fe){this._inline=(0,S.Ig)(fe)}get svgIcon(){return this._svgIcon}set svgIcon(fe){fe!==this._svgIcon&&(fe?this._updateSvgIcon(fe):this._svgIcon&&this._clearSvgElement(),this._svgIcon=fe)}get fontSet(){return this._fontSet}set fontSet(fe){const Qe=this._cleanupFontValue(fe);Qe!==this._fontSet&&(this._fontSet=Qe,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(fe){const Qe=this._cleanupFontValue(fe);Qe!==this._fontIcon&&(this._fontIcon=Qe,this._updateFontIconClasses())}_splitIconName(fe){if(!fe)return["",""];const Qe=fe.split(":");switch(Qe.length){case 1:return["",Qe[0]];case 2:return Qe;default:throw Error(`Invalid icon name: "${fe}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const fe=this._elementsWithExternalReferences;if(fe&&fe.size){const Qe=this._location.getPathname();Qe!==this._previousPath&&(this._previousPath=Qe,this._prependPathToReferences(Qe))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(fe){this._clearSvgElement();const Qe=this._location.getPathname();this._previousPath=Qe,this._cacheChildrenWithExternalReferences(fe),this._prependPathToReferences(Qe),this._elementRef.nativeElement.appendChild(fe)}_clearSvgElement(){const fe=this._elementRef.nativeElement;let Qe=fe.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Qe--;){const Nt=fe.childNodes[Qe];(1!==Nt.nodeType||"svg"===Nt.nodeName.toLowerCase())&&Nt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const fe=this._elementRef.nativeElement,Qe=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();Qe!=this._previousFontSetClass&&(this._previousFontSetClass&&fe.classList.remove(this._previousFontSetClass),Qe&&fe.classList.add(Qe),this._previousFontSetClass=Qe),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&fe.classList.remove(this._previousFontIconClass),this.fontIcon&&fe.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(fe){return"string"==typeof fe?fe.trim().split(" ")[0]:fe}_prependPathToReferences(fe){const Qe=this._elementsWithExternalReferences;Qe&&Qe.forEach((Nt,Zt)=>{Nt.forEach(_n=>{Zt.setAttribute(_n.name,`url('${fe}#${_n.value}')`)})})}_cacheChildrenWithExternalReferences(fe){const Qe=fe.querySelectorAll(Ye),Nt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Zt=0;Zt<Qe.length;Zt++)vt.forEach(_n=>{const Rn=Qe[Zt],Ln=Rn.getAttribute(_n),jn=Ln?Ln.match(Re):null;if(jn){let nn=Nt.get(Rn);nn||(nn=[],Nt.set(Rn,nn)),nn.push({name:_n,value:jn[1]})}})}_updateSvgIcon(fe){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),fe){const[Qe,Nt]=this._splitIconName(fe);Qe&&(this._svgNamespace=Qe),Nt&&(this._svgName=Nt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Nt,Qe).pipe((0,ke.q)(1)).subscribe(Zt=>this._setSvgElement(Zt),Zt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Qe}:${Nt}! ${Zt.message}`))})}}}return Et.\u0275fac=function(fe){return new(fe||Et)(h.Y36(h.SBq),h.Y36(Z),h.$8M("aria-hidden"),h.Y36(bn),h.Y36(h.qLn))},Et.\u0275cmp=h.Xpm({type:Et,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(fe,Qe){2&fe&&(h.uIk("data-mat-icon-type",Qe._usingFontIcon()?"font":"svg")("data-mat-icon-name",Qe._svgName||Qe.fontIcon)("data-mat-icon-namespace",Qe._svgNamespace||Qe.fontSet),h.ekj("mat-icon-inline",Qe.inline)("mat-icon-no-color","primary"!==Qe.color&&"accent"!==Qe.color&&"warn"!==Qe.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:hi,decls:1,vars:0,template:function(fe,Qe){1&fe&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Et})(),zt=(()=>{class Et{}return Et.\u0275fac=function(fe){return new(fe||Et)},Et.\u0275mod=h.oAB({type:Et}),Et.\u0275inj=h.cJS({imports:[[C.BQ],C.BQ]}),Et})()},4623:(Yt,Ge,w)=>{w.d(Ge,{i$:()=>Y,Tg:()=>Je,ie:()=>Ue});var h=w(9808),C=w(5e3),S=w(508),ae=w(3191),pe=w(7579),ye=w(2722),Ce=(w(8675),w(5664),w(449),w(1159),w(3075),w(4834));const je=["*"],Fe=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],it=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],tt=(0,S.Id)((0,S.Kr)(class{})),be=(0,S.Kr)(class{}),he=new C.OlP("MatList"),Se=new C.OlP("MatNavList");let Y=(()=>{class Dt extends tt{constructor(ze){super(),this._elementRef=ze,this._stateChanges=new pe.x,"action-list"===this._getListType()&&ze.nativeElement.classList.add("mat-action-list")}_getListType(){const ze=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===ze?"list":"mat-action-list"===ze?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return Dt.\u0275fac=function(ze){return new(ze||Dt)(C.Y36(C.SBq))},Dt.\u0275cmp=C.Xpm({type:Dt,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[C._Bn([{provide:he,useExisting:Dt}]),C.qOj,C.TTD],ngContentSelectors:je,decls:1,vars:0,template:function(ze,yt){1&ze&&(C.F$t(),C.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),Dt})(),Ve=(()=>{class Dt{}return Dt.\u0275fac=function(ze){return new(ze||Dt)},Dt.\u0275dir=C.lG2({type:Dt,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),Dt})(),ve=(()=>{class Dt{}return Dt.\u0275fac=function(ze){return new(ze||Dt)},Dt.\u0275dir=C.lG2({type:Dt,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),Dt})(),Je=(()=>{class Dt extends be{constructor(ze,yt,un,Ot){super(),this._element=ze,this._isInteractiveList=!1,this._destroyed=new pe.x,this._disabled=!1,this._isInteractiveList=!!(un||Ot&&"action-list"===Ot._getListType()),this._list=un||Ot;const ut=this._getHostElement();"button"===ut.nodeName.toLowerCase()&&!ut.hasAttribute("type")&&ut.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,ye.R)(this._destroyed)).subscribe(()=>{yt.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(ze){this._disabled=(0,ae.Ig)(ze)}ngAfterContentInit(){(0,S.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return Dt.\u0275fac=function(ze){return new(ze||Dt)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Se,8),C.Y36(he,8))},Dt.\u0275cmp=C.Xpm({type:Dt,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(ze,yt,un){if(1&ze&&(C.Suo(un,Ve,5),C.Suo(un,ve,5),C.Suo(un,S.X2,5)),2&ze){let Ot;C.iGM(Ot=C.CRH())&&(yt._avatar=Ot.first),C.iGM(Ot=C.CRH())&&(yt._icon=Ot.first),C.iGM(Ot=C.CRH())&&(yt._lines=Ot)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(ze,yt){2&ze&&C.ekj("mat-list-item-disabled",yt.disabled)("mat-list-item-avatar",yt._avatar||yt._icon)("mat-list-item-with-avatar",yt._avatar||yt._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[C.qOj],ngContentSelectors:it,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(ze,yt){1&ze&&(C.F$t(Fe),C.TgZ(0,"span",0),C._UZ(1,"span",1),C.Hsn(2),C.TgZ(3,"span",2),C.Hsn(4,1),C.qZA(),C.Hsn(5,2),C.qZA()),2&ze&&(C.xp6(1),C.Q6J("matRippleTrigger",yt._getHostElement())("matRippleDisabled",yt._isRippleDisabled()))},directives:[S.wG],encapsulation:2,changeDetection:0}),Dt})(),Ue=(()=>{class Dt{}return Dt.\u0275fac=function(ze){return new(ze||Dt)},Dt.\u0275mod=C.oAB({type:Dt}),Dt.\u0275inj=C.cJS({imports:[[S.uc,S.si,S.BQ,S.us,h.ez],S.uc,S.BQ,S.us,Ce.t]}),Dt})()},4889:(Yt,Ge,w)=>{w.d(Ge,{jA:()=>ze,kh:()=>yt,LW:()=>Mt,SJ:()=>st});var h=w(5494),C=w(9808),S=w(5e3),ae=w(508),pe=w(3191),ye=w(1159),Pe=w(7579),ge=w(4968),se=w(6451),re=w(4004);function me(Te){return(0,re.U)(()=>Te)}var Ce=w(9300),je=w(2722),ke=w(1884),Fe=w(5698),it=w(8675),Be=w(8372),et=w(1777),Ie=w(6360),Ht=w(5664),tt=w(925),be=w(226);const he=["*"],Se=["content"];function _e(Te,mt){if(1&Te){const De=S.EpF();S.TgZ(0,"div",2),S.NdJ("click",function(){return S.CHM(De),S.oxw()._onBackdropClicked()}),S.qZA()}if(2&Te){const De=S.oxw();S.ekj("mat-drawer-shown",De._isShowingBackdrop())}}function Y(Te,mt){1&Te&&(S.TgZ(0,"mat-drawer-content"),S.Hsn(1,2),S.qZA())}const Ve=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],ve=["mat-drawer","mat-drawer-content","*"],At={transformDrawer:(0,et.X$)("transform",[(0,et.SB)("open, open-instant",(0,et.oB)({transform:"none",visibility:"visible"})),(0,et.SB)("void",(0,et.oB)({"box-shadow":"none",visibility:"hidden"})),(0,et.eR)("void => open-instant",(0,et.jt)("0ms")),(0,et.eR)("void <=> open, open-instant => void",(0,et.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ke=new S.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Dt(){return!1}}),Ue=new S.OlP("MAT_DRAWER_CONTAINER");let Mt=(()=>{class Te extends h.PQ{constructor(De,pt,tn,fn,Tt){super(tn,fn,Tt),this._changeDetectorRef=De,this._container=pt}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return Te.\u0275fac=function(De){return new(De||Te)(S.Y36(S.sBO),S.Y36((0,S.Gpc)(()=>yt)),S.Y36(S.SBq),S.Y36(h.mF),S.Y36(S.R0b))},Te.\u0275cmp=S.Xpm({type:Te,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(De,pt){2&De&&S.Udp("margin-left",pt._container._contentMargins.left,"px")("margin-right",pt._container._contentMargins.right,"px")},features:[S._Bn([{provide:h.PQ,useExisting:Te}]),S.qOj],ngContentSelectors:he,decls:1,vars:0,template:function(De,pt){1&De&&(S.F$t(),S.Hsn(0))},encapsulation:2,changeDetection:0}),Te})(),ze=(()=>{class Te{constructor(De,pt,tn,fn,Tt,Q,we,at){this._elementRef=De,this._focusTrapFactory=pt,this._focusMonitor=tn,this._platform=fn,this._ngZone=Tt,this._interactivityChecker=Q,this._doc=we,this._container=at,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Pe.x,this._animationEnd=new Pe.x,this._animationState="void",this.openedChange=new S.vpe(!0),this._openedStream=this.openedChange.pipe((0,Ce.h)(ht=>ht),(0,re.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Ce.h)(ht=>ht.fromState!==ht.toState&&0===ht.toState.indexOf("open")),me(void 0)),this._closedStream=this.openedChange.pipe((0,Ce.h)(ht=>!ht),(0,re.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Ce.h)(ht=>ht.fromState!==ht.toState&&"void"===ht.toState),me(void 0)),this._destroyed=new Pe.x,this.onPositionChanged=new S.vpe,this._modeChanged=new Pe.x,this.openedChange.subscribe(ht=>{ht?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,ge.R)(this._elementRef.nativeElement,"keydown").pipe((0,Ce.h)(ht=>ht.keyCode===ye.hY&&!this.disableClose&&!(0,ye.Vb)(ht)),(0,je.R)(this._destroyed)).subscribe(ht=>this._ngZone.run(()=>{this.close(),ht.stopPropagation(),ht.preventDefault()}))}),this._animationEnd.pipe((0,ke.x)((ht,Lt)=>ht.fromState===Lt.fromState&&ht.toState===Lt.toState)).subscribe(ht=>{const{fromState:Lt,toState:sn}=ht;(0===sn.indexOf("open")&&"void"===Lt||"void"===sn&&0===Lt.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(De){(De="end"===De?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(De),this._position=De,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(De){this._mode=De,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(De){this._disableClose=(0,pe.Ig)(De)}get autoFocus(){const De=this._autoFocus;return null==De?"side"===this.mode?"dialog":"first-tabbable":De}set autoFocus(De){("true"===De||"false"===De||null==De)&&(De=(0,pe.Ig)(De)),this._autoFocus=De}get opened(){return this._opened}set opened(De){this.toggle((0,pe.Ig)(De))}_forceFocus(De,pt){this._interactivityChecker.isFocusable(De)||(De.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const tn=()=>{De.removeEventListener("blur",tn),De.removeEventListener("mousedown",tn),De.removeAttribute("tabindex")};De.addEventListener("blur",tn),De.addEventListener("mousedown",tn)})),De.focus(pt)}_focusByCssSelector(De,pt){let tn=this._elementRef.nativeElement.querySelector(De);tn&&this._forceFocus(tn,pt)}_takeFocus(){if(!this._focusTrap)return;const De=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(pt=>{!pt&&"function"==typeof this._elementRef.nativeElement.focus&&De.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(De){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,De):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const De=this._doc.activeElement;return!!De&&this._elementRef.nativeElement.contains(De)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var De;this._focusTrap&&this._focusTrap.destroy(),null===(De=this._anchor)||void 0===De||De.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(De){return this.toggle(!0,De)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(De=!this.opened,pt){De&&pt&&(this._openedVia=pt);const tn=this._setOpen(De,!De&&this._isFocusWithinDrawer(),this._openedVia||"program");return De||(this._openedVia=null),tn}_setOpen(De,pt,tn){return this._opened=De,De?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",pt&&this._restoreFocus(tn)),this._updateFocusTrapState(),new Promise(fn=>{this.openedChange.pipe((0,Fe.q)(1)).subscribe(Tt=>fn(Tt?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(De){const pt=this._elementRef.nativeElement,tn=pt.parentNode;"end"===De?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),tn.insertBefore(this._anchor,pt)),tn.appendChild(pt)):this._anchor&&this._anchor.parentNode.insertBefore(pt,this._anchor)}}return Te.\u0275fac=function(De){return new(De||Te)(S.Y36(S.SBq),S.Y36(Ht.qV),S.Y36(Ht.tE),S.Y36(tt.t4),S.Y36(S.R0b),S.Y36(Ht.ic),S.Y36(C.K0,8),S.Y36(Ue,8))},Te.\u0275cmp=S.Xpm({type:Te,selectors:[["mat-drawer"]],viewQuery:function(De,pt){if(1&De&&S.Gf(Se,5),2&De){let tn;S.iGM(tn=S.CRH())&&(pt._content=tn.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(De,pt){1&De&&S.WFA("@transform.start",function(fn){return pt._animationStarted.next(fn)})("@transform.done",function(fn){return pt._animationEnd.next(fn)}),2&De&&(S.uIk("align",null),S.d8E("@transform",pt._animationState),S.ekj("mat-drawer-end","end"===pt.position)("mat-drawer-over","over"===pt.mode)("mat-drawer-push","push"===pt.mode)("mat-drawer-side","side"===pt.mode)("mat-drawer-opened",pt.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:he,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(De,pt){1&De&&(S.F$t(),S.TgZ(0,"div",0,1),S.Hsn(2),S.qZA())},directives:[h.PQ],encapsulation:2,data:{animation:[At.transformDrawer]},changeDetection:0}),Te})(),yt=(()=>{class Te{constructor(De,pt,tn,fn,Tt,Q=!1,we){this._dir=De,this._element=pt,this._ngZone=tn,this._changeDetectorRef=fn,this._animationMode=we,this._drawers=new S.n_E,this.backdropClick=new S.vpe,this._destroyed=new Pe.x,this._doCheckSubject=new Pe.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Pe.x,De&&De.change.pipe((0,je.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Tt.change().pipe((0,je.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Q}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(De){this._autosize=(0,pe.Ig)(De)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(De){this._backdropOverride=null==De?null:(0,pe.Ig)(De)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,it.O)(this._allDrawers),(0,je.R)(this._destroyed)).subscribe(De=>{this._drawers.reset(De.filter(pt=>!pt._container||pt._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,it.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(De=>{this._watchDrawerToggle(De),this._watchDrawerPosition(De),this._watchDrawerMode(De)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Be.b)(10),(0,je.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(De=>De.open())}close(){this._drawers.forEach(De=>De.close())}updateContentMargins(){let De=0,pt=0;if(this._left&&this._left.opened)if("side"==this._left.mode)De+=this._left._getWidth();else if("push"==this._left.mode){const tn=this._left._getWidth();De+=tn,pt-=tn}if(this._right&&this._right.opened)if("side"==this._right.mode)pt+=this._right._getWidth();else if("push"==this._right.mode){const tn=this._right._getWidth();pt+=tn,De-=tn}De=De||null,pt=pt||null,(De!==this._contentMargins.left||pt!==this._contentMargins.right)&&(this._contentMargins={left:De,right:pt},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(De){De._animationStarted.pipe((0,Ce.h)(pt=>pt.fromState!==pt.toState),(0,je.R)(this._drawers.changes)).subscribe(pt=>{"open-instant"!==pt.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==De.mode&&De.openedChange.pipe((0,je.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(De.opened))}_watchDrawerPosition(De){!De||De.onPositionChanged.pipe((0,je.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Fe.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(De){De&&De._modeChanged.pipe((0,je.R)((0,se.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(De){const pt=this._element.nativeElement.classList,tn="mat-drawer-container-has-open";De?pt.add(tn):pt.remove(tn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(De=>{"end"==De.position?this._end=De:this._start=De}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(De=>De&&!De.disableClose&&this._canHaveBackdrop(De)).forEach(De=>De._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(De){return"side"!==De.mode||!!this._backdropOverride}_isDrawerOpen(De){return null!=De&&De.opened}}return Te.\u0275fac=function(De){return new(De||Te)(S.Y36(be.Is,8),S.Y36(S.SBq),S.Y36(S.R0b),S.Y36(S.sBO),S.Y36(h.rL),S.Y36(Ke),S.Y36(Ie.Qb,8))},Te.\u0275cmp=S.Xpm({type:Te,selectors:[["mat-drawer-container"]],contentQueries:function(De,pt,tn){if(1&De&&(S.Suo(tn,Mt,5),S.Suo(tn,ze,5)),2&De){let fn;S.iGM(fn=S.CRH())&&(pt._content=fn.first),S.iGM(fn=S.CRH())&&(pt._allDrawers=fn)}},viewQuery:function(De,pt){if(1&De&&S.Gf(Mt,5),2&De){let tn;S.iGM(tn=S.CRH())&&(pt._userContent=tn.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(De,pt){2&De&&S.ekj("mat-drawer-container-explicit-backdrop",pt._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[S._Bn([{provide:Ue,useExisting:Te}])],ngContentSelectors:ve,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(De,pt){1&De&&(S.F$t(Ve),S.YNc(0,_e,1,2,"div",0),S.Hsn(1),S.Hsn(2,1),S.YNc(3,Y,2,0,"mat-drawer-content",1)),2&De&&(S.Q6J("ngIf",pt.hasBackdrop),S.xp6(3),S.Q6J("ngIf",!pt._content))},directives:[Mt,C.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),Te})(),st=(()=>{class Te{}return Te.\u0275fac=function(De){return new(De||Te)},Te.\u0275mod=S.oAB({type:Te}),Te.\u0275inj=S.cJS({imports:[[C.ez,ae.BQ,h.ZD],h.ZD,ae.BQ]}),Te})()},4594:(Yt,Ge,w)=>{w.d(Ge,{Ye:()=>se,g0:()=>me});var h=w(5e3),C=w(508),S=w(9808),ae=w(925);const pe=["*",[["mat-toolbar-row"]]],ye=["*","mat-toolbar-row"],Pe=(0,C.pj)(class{constructor(Ce){this._elementRef=Ce}});let ge=(()=>{class Ce{}return Ce.\u0275fac=function(ke){return new(ke||Ce)},Ce.\u0275dir=h.lG2({type:Ce,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),Ce})(),se=(()=>{class Ce extends Pe{constructor(ke,Fe,it){super(ke),this._platform=Fe,this._document=it}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return Ce.\u0275fac=function(ke){return new(ke||Ce)(h.Y36(h.SBq),h.Y36(ae.t4),h.Y36(S.K0))},Ce.\u0275cmp=h.Xpm({type:Ce,selectors:[["mat-toolbar"]],contentQueries:function(ke,Fe,it){if(1&ke&&h.Suo(it,ge,5),2&ke){let Be;h.iGM(Be=h.CRH())&&(Fe._toolbarRows=Be)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(ke,Fe){2&ke&&h.ekj("mat-toolbar-multiple-rows",Fe._toolbarRows.length>0)("mat-toolbar-single-row",0===Fe._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:ye,decls:2,vars:0,template:function(ke,Fe){1&ke&&(h.F$t(pe),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),Ce})(),me=(()=>{class Ce{}return Ce.\u0275fac=function(ke){return new(ke||Ce)},Ce.\u0275mod=h.oAB({type:Ce}),Ce.\u0275inj=h.cJS({imports:[[C.BQ],C.BQ]}),Ce})()},149:(Yt,Ge,w)=>{w.d(Ge,{gi:()=>it,kc:()=>tt,JZ:()=>Ht,dp:()=>Ie,uo:()=>me,fQ:()=>Ce,ah:()=>ke});var h=w(2379),C=w(5e3),S=w(508),pe=(w(3191),w(449)),ye=w(1135),Pe=w(6451),ge=w(5698),se=w(4004);const re=(0,S.sb)((0,S.Id)(h.Hs));let me=(()=>{class he extends re{constructor(_e,Y,Ve){super(_e,Y),this.tabIndex=Number(Ve)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return he.\u0275fac=function(_e){return new(_e||he)(C.Y36(C.SBq),C.Y36(h._0),C.$8M("tabindex"))},he.\u0275dir=C.lG2({type:he,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[C._Bn([{provide:h.Hs,useExisting:he}]),C.qOj]}),he})(),Ce=(()=>{class he extends h.rO{}return he.\u0275fac=function(){let Se;return function(Y){return(Se||(Se=C.n5z(he)))(Y||he)}}(),he.\u0275dir=C.lG2({type:he,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[C._Bn([{provide:h.rO,useExisting:he}]),C.qOj]}),he})(),ke=(()=>{class he extends h.XJ{get level(){return this._level}set level(_e){this._setLevelInput(_e)}get indent(){return this._indent}set indent(_e){this._setIndentInput(_e)}}return he.\u0275fac=function(){let Se;return function(Y){return(Se||(Se=C.n5z(he)))(Y||he)}}(),he.\u0275dir=C.lG2({type:he,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[C._Bn([{provide:h.XJ,useExisting:he}]),C.qOj]}),he})(),Fe=(()=>{class he{constructor(_e,Y){this.viewContainer=_e,this._node=Y}}return he.\u0275fac=function(_e){return new(_e||he)(C.Y36(C.s_b),C.Y36(h.HI,8))},he.\u0275dir=C.lG2({type:he,selectors:[["","matTreeNodeOutlet",""]],features:[C._Bn([{provide:h.cu,useExisting:he}])]}),he})(),it=(()=>{class he extends h._0{}return he.\u0275fac=function(){let Se;return function(Y){return(Se||(Se=C.n5z(he)))(Y||he)}}(),he.\u0275cmp=C.Xpm({type:he,selectors:[["mat-tree"]],viewQuery:function(_e,Y){if(1&_e&&C.Gf(Fe,7),2&_e){let Ve;C.iGM(Ve=C.CRH())&&(Y._nodeOutlet=Ve.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[C._Bn([{provide:h._0,useExisting:he}]),C.qOj],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(_e,Y){1&_e&&C.GkF(0,0)},directives:[Fe],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),he})(),Ie=(()=>{class he{}return he.\u0275fac=function(_e){return new(_e||he)},he.\u0275mod=C.oAB({type:he}),he.\u0275inj=C.cJS({imports:[[h.nZ,S.BQ],S.BQ]}),he})();class Ht{constructor(Se,_e,Y,Ve){this.transformFunction=Se,this.getLevel=_e,this.isExpandable=Y,this.getChildren=Ve}_flattenNode(Se,_e,Y,Ve){const ve=this.transformFunction(Se,_e);if(Y.push(ve),this.isExpandable(ve)){const qe=this.getChildren(Se);qe&&(Array.isArray(qe)?this._flattenChildren(qe,_e,Y,Ve):qe.pipe((0,ge.q)(1)).subscribe(Je=>{this._flattenChildren(Je,_e,Y,Ve)}))}return Y}_flattenChildren(Se,_e,Y,Ve){Se.forEach((ve,qe)=>{let Je=Ve.slice();Je.push(qe!=Se.length-1),this._flattenNode(ve,_e+1,Y,Je)})}flattenNodes(Se){let _e=[];return Se.forEach(Y=>this._flattenNode(Y,0,_e,[])),_e}expandFlattenedNodes(Se,_e){let Y=[],Ve=[];return Ve[0]=!0,Se.forEach(ve=>{let qe=!0;for(let Je=0;Je<=this.getLevel(ve);Je++)qe=qe&&Ve[Je];qe&&Y.push(ve),this.isExpandable(ve)&&(Ve[this.getLevel(ve)+1]=_e.isExpanded(ve))}),Y}}class tt extends pe.o2{constructor(Se,_e,Y){super(),this._treeControl=Se,this._treeFlattener=_e,this._flattenedData=new ye.X([]),this._expandedData=new ye.X([]),this._data=new ye.X([]),Y&&(this.data=Y)}get data(){return this._data.value}set data(Se){this._data.next(Se),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(Se){return(0,Pe.T)(Se.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,se.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}},6360:(Yt,Ge,w)=>{w.d(Ge,{Qb:()=>sa,PW:()=>Ls});var h=w(5e3),C=w(2313),S=w(1777);const ae=!1;function ye(q){return new h.vHH(3e3,ae)}function un(){return"undefined"!=typeof window&&void 0!==window.document}function Ot(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ut(q){switch(q.length){case 0:return new S.ZN;case 1:return q[0];default:return new S.ZE(q)}}function st(q,_,v,P,X={},Ee={}){const We=[],Ze=[];let Ct=-1,Kt=null;if(P.forEach(In=>{const Pn=In.offset,Gn=Pn==Ct,oi=Gn&&Kt||{};Object.keys(In).forEach(Fn=>{let Kn=Fn,Pi=In[Fn];if("offset"!==Fn)switch(Kn=_.normalizePropertyName(Kn,We),Pi){case S.k1:Pi=X[Fn];break;case S.l3:Pi=Ee[Fn];break;default:Pi=_.normalizeStyleValue(Fn,Kn,Pi,We)}oi[Kn]=Pi}),Gn||Ze.push(oi),Kt=oi,Ct=Pn}),We.length)throw function Je(q){return new h.vHH(3502,ae)}();return Ze}function Te(q,_,v,P){switch(_){case"start":q.onStart(()=>P(v&&mt(v,"start",q)));break;case"done":q.onDone(()=>P(v&&mt(v,"done",q)));break;case"destroy":q.onDestroy(()=>P(v&&mt(v,"destroy",q)))}}function mt(q,_,v){const P=v.totalTime,Ee=De(q.element,q.triggerName,q.fromState,q.toState,_||q.phaseName,null==P?q.totalTime:P,!!v.disabled),We=q._data;return null!=We&&(Ee._data=We),Ee}function De(q,_,v,P,X="",Ee=0,We){return{element:q,triggerName:_,fromState:v,toState:P,phaseName:X,totalTime:Ee,disabled:!!We}}function pt(q,_,v){let P;return q instanceof Map?(P=q.get(_),P||q.set(_,P=v)):(P=q[_],P||(P=q[_]=v)),P}function tn(q){const _=q.indexOf(":");return[q.substring(1,_),q.substr(_+1)]}let fn=(q,_)=>!1,Tt=(q,_,v)=>[],Q=null;function we(q){const _=q.parentNode||q.host;return _===Q?null:_}(Ot()||"undefined"!=typeof Element)&&(un()?(Q=(()=>document.documentElement)(),fn=(q,_)=>{for(;_;){if(_===q)return!0;_=we(_)}return!1}):fn=(q,_)=>q.contains(_),Tt=(q,_,v)=>{if(v)return Array.from(q.querySelectorAll(_));const P=q.querySelector(_);return P?[P]:[]});let Lt=null,sn=!1;function dn(q){Lt||(Lt=function Vt(){return"undefined"!=typeof document?document.body:null}()||{},sn=!!Lt.style&&"WebkitAppearance"in Lt.style);let _=!0;return Lt.style&&!function ht(q){return"ebkit"==q.substring(1,6)}(q)&&(_=q in Lt.style,!_&&sn&&(_="Webkit"+q.charAt(0).toUpperCase()+q.substr(1)in Lt.style)),_}const bt=fn,Me=Tt;let xt=(()=>{class q{validateStyleProperty(v){return dn(v)}matchesElement(v,P){return!1}containsElement(v,P){return bt(v,P)}getParentElement(v){return we(v)}query(v,P,X){return Me(v,P,X)}computeStyle(v,P,X){return X||""}animate(v,P,X,Ee,We,Ze=[],Ct){return new S.ZN(X,Ee)}}return q.\u0275fac=function(v){return new(v||q)},q.\u0275prov=h.Yz7({token:q,factory:q.\u0275fac}),q})(),Ut=(()=>{class q{}return q.NOOP=new xt,q})();const hi="ng-enter",fi="ng-leave",yi="ng-trigger",gn=".ng-trigger",qi="ng-animating",oe=".ng-animating";function H(q){if("number"==typeof q)return q;const _=q.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:O(parseFloat(_[1]),_[2])}function O(q,_){return"s"===_?1e3*q:q}function F(q,_,v){return q.hasOwnProperty("duration")?q:function Z(q,_,v){let X,Ee=0,We="";if("string"==typeof q){const Ze=q.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ze)return _.push(ye()),{duration:0,delay:0,easing:""};X=O(parseFloat(Ze[1]),Ze[2]);const Ct=Ze[3];null!=Ct&&(Ee=O(parseFloat(Ct),Ze[4]));const Kt=Ze[5];Kt&&(We=Kt)}else X=q;if(!v){let Ze=!1,Ct=_.length;X<0&&(_.push(function Pe(){return new h.vHH(3100,ae)}()),Ze=!0),Ee<0&&(_.push(function ge(){return new h.vHH(3101,ae)}()),Ze=!0),Ze&&_.splice(Ct,0,ye())}return{duration:X,delay:Ee,easing:We}}(q,_,v)}function le(q,_={}){return Object.keys(q).forEach(v=>{_[v]=q[v]}),_}function ie(q,_,v={}){if(_)for(let P in q)v[P]=q[P];else le(q,v);return v}function ot(q,_,v){return v?_+":"+v+";":""}function en(q){let _="";for(let v=0;v<q.style.length;v++){const P=q.style.item(v);_+=ot(0,P,q.style.getPropertyValue(P))}for(const v in q.style)q.style.hasOwnProperty(v)&&!v.startsWith("_")&&(_+=ot(0,fe(v),q.style[v]));q.setAttribute("style",_)}function cn(q,_,v){q.style&&(Object.keys(_).forEach(P=>{const X=Ae(P);v&&!v.hasOwnProperty(P)&&(v[P]=q.style[X]),q.style[X]=_[P]}),Ot()&&en(q))}function bn(q,_){q.style&&(Object.keys(_).forEach(v=>{const P=Ae(v);q.style[P]=""}),Ot()&&en(q))}function bi(q){return Array.isArray(q)?1==q.length?q[0]:(0,S.vP)(q):q}const Ye=new RegExp("{{\\s*(.+?)\\s*}}","g");function Re(q){let _=[];if("string"==typeof q){let v;for(;v=Ye.exec(q);)_.push(v[1]);Ye.lastIndex=0}return _}function ct(q,_,v){const P=q.toString(),X=P.replace(Ye,(Ee,We)=>{let Ze=_[We];return _.hasOwnProperty(We)||(v.push(function re(q){return new h.vHH(3003,ae)}()),Ze=""),Ze.toString()});return X==P?q:X}function zt(q){const _=[];let v=q.next();for(;!v.done;)_.push(v.value),v=q.next();return _}const Et=/-+([a-z0-9])/g;function Ae(q){return q.replace(Et,(..._)=>_[1].toUpperCase())}function fe(q){return q.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Zt(q,_,v){switch(_.type){case 7:return q.visitTrigger(_,v);case 0:return q.visitState(_,v);case 1:return q.visitTransition(_,v);case 2:return q.visitSequence(_,v);case 3:return q.visitGroup(_,v);case 4:return q.visitAnimate(_,v);case 5:return q.visitKeyframes(_,v);case 6:return q.visitStyle(_,v);case 8:return q.visitReference(_,v);case 9:return q.visitAnimateChild(_,v);case 10:return q.visitAnimateRef(_,v);case 11:return q.visitQuery(_,v);case 12:return q.visitStagger(_,v);default:throw function me(q){return new h.vHH(3004,ae)}()}}function _n(q,_){return window.getComputedStyle(q)[_]}function Ai(q,_){const v=[];return"string"==typeof q?q.split(/\s*,\s*/).forEach(P=>function br(q,_,v){if(":"==q[0]){const Ct=function mi(q,_){switch(q){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,P)=>parseFloat(P)>parseFloat(v);case":decrement":return(v,P)=>parseFloat(P)<parseFloat(v);default:return _.push(function Y(q){return new h.vHH(3016,ae)}()),"* => *"}}(q,v);if("function"==typeof Ct)return void _.push(Ct);q=Ct}const P=q.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return v.push(function _e(q){return new h.vHH(3015,ae)}()),_;const X=P[1],Ee=P[2],We=P[3];_.push(Hn(X,We));"<"==Ee[0]&&!("*"==X&&"*"==We)&&_.push(Hn(We,X))}(P,v,_)):v.push(q),v}const $i=new Set(["true","1"]),Ti=new Set(["false","0"]);function Hn(q,_){const v=$i.has(q)||Ti.has(q),P=$i.has(_)||Ti.has(_);return(X,Ee)=>{let We="*"==q||q==X,Ze="*"==_||_==Ee;return!We&&v&&"boolean"==typeof X&&(We=X?$i.has(q):Ti.has(q)),!Ze&&P&&"boolean"==typeof Ee&&(Ze=Ee?$i.has(_):Ti.has(_)),We&&Ze}}const ur=new RegExp("s*:selfs*,?","g");function _s(q,_,v,P){return new Fi(q).build(_,v,P)}class Fi{constructor(_){this._driver=_}build(_,v,P){const X=new dr(v);this._resetContextStyleTimingState(X);const Ee=Zt(this,bi(_),X);return X.unsupportedCSSPropertiesFound.size&&X.unsupportedCSSPropertiesFound.keys(),Ee}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles={},_.collectedStyles[""]={},_.currentTime=0}visitTrigger(_,v){let P=v.queryCount=0,X=v.depCount=0;const Ee=[],We=[];return"@"==_.name.charAt(0)&&v.errors.push(function je(){return new h.vHH(3006,ae)}()),_.definitions.forEach(Ze=>{if(this._resetContextStyleTimingState(v),0==Ze.type){const Ct=Ze,Kt=Ct.name;Kt.toString().split(/\s*,\s*/).forEach(In=>{Ct.name=In,Ee.push(this.visitState(Ct,v))}),Ct.name=Kt}else if(1==Ze.type){const Ct=this.visitTransition(Ze,v);P+=Ct.queryCount,X+=Ct.depCount,We.push(Ct)}else v.errors.push(function ke(){return new h.vHH(3007,ae)}())}),{type:7,name:_.name,states:Ee,transitions:We,queryCount:P,depCount:X,options:null}}visitState(_,v){const P=this.visitStyle(_.styles,v),X=_.options&&_.options.params||null;if(P.containsDynamicStyles){const Ee=new Set,We=X||{};P.styles.forEach(Ze=>{if(Lr(Ze)){const Ct=Ze;Object.keys(Ct).forEach(Kt=>{Re(Ct[Kt]).forEach(In=>{We.hasOwnProperty(In)||Ee.add(In)})})}}),Ee.size&&(zt(Ee.values()),v.errors.push(function Fe(q,_){return new h.vHH(3008,ae)}()))}return{type:0,name:_.name,style:P,options:X?{params:X}:null}}visitTransition(_,v){v.queryCount=0,v.depCount=0;const P=Zt(this,bi(_.animation),v);return{type:1,matchers:Ai(_.expr,v.errors),animation:P,queryCount:v.queryCount,depCount:v.depCount,options:Ui(_.options)}}visitSequence(_,v){return{type:2,steps:_.steps.map(P=>Zt(this,P,v)),options:Ui(_.options)}}visitGroup(_,v){const P=v.currentTime;let X=0;const Ee=_.steps.map(We=>{v.currentTime=P;const Ze=Zt(this,We,v);return X=Math.max(X,v.currentTime),Ze});return v.currentTime=X,{type:3,steps:Ee,options:Ui(_.options)}}visitAnimate(_,v){const P=function ys(q,_){let v=null;if(q.hasOwnProperty("duration"))v=q;else if("number"==typeof q)return Er(F(q,_).duration,0,"");const P=q;if(P.split(/\s+/).some(Ee=>"{"==Ee.charAt(0)&&"{"==Ee.charAt(1))){const Ee=Er(0,0,"");return Ee.dynamic=!0,Ee.strValue=P,Ee}return v=v||F(P,_),Er(v.duration,v.delay,v.easing)}(_.timings,v.errors);v.currentAnimateTimings=P;let X,Ee=_.styles?_.styles:(0,S.oB)({});if(5==Ee.type)X=this.visitKeyframes(Ee,v);else{let We=_.styles,Ze=!1;if(!We){Ze=!0;const Kt={};P.easing&&(Kt.easing=P.easing),We=(0,S.oB)(Kt)}v.currentTime+=P.duration+P.delay;const Ct=this.visitStyle(We,v);Ct.isEmptyStep=Ze,X=Ct}return v.currentAnimateTimings=null,{type:4,timings:P,style:X,options:null}}visitStyle(_,v){const P=this._makeStyleAst(_,v);return this._validateStyleAst(P,v),P}_makeStyleAst(_,v){const P=[];Array.isArray(_.styles)?_.styles.forEach(We=>{"string"==typeof We?We==S.l3?P.push(We):v.errors.push(function it(q){return new h.vHH(3002,ae)}()):P.push(We)}):P.push(_.styles);let X=!1,Ee=null;return P.forEach(We=>{if(Lr(We)){const Ze=We,Ct=Ze.easing;if(Ct&&(Ee=Ct,delete Ze.easing),!X)for(let Kt in Ze)if(Ze[Kt].toString().indexOf("{{")>=0){X=!0;break}}}),{type:6,styles:P,easing:Ee,offset:_.offset,containsDynamicStyles:X,options:null}}_validateStyleAst(_,v){const P=v.currentAnimateTimings;let X=v.currentTime,Ee=v.currentTime;P&&Ee>0&&(Ee-=P.duration+P.delay),_.styles.forEach(We=>{"string"!=typeof We&&Object.keys(We).forEach(Ze=>{if(!this._driver.validateStyleProperty(Ze))return delete We[Ze],void v.unsupportedCSSPropertiesFound.add(Ze);const Ct=v.collectedStyles[v.currentQuerySelector],Kt=Ct[Ze];let In=!0;Kt&&(Ee!=X&&Ee>=Kt.startTime&&X<=Kt.endTime&&(v.errors.push(function et(q,_,v,P,X){return new h.vHH(3010,ae)}()),In=!1),Ee=Kt.startTime),In&&(Ct[Ze]={startTime:Ee,endTime:X}),v.options&&function vt(q,_,v){const P=_.params||{},X=Re(q);X.length&&X.forEach(Ee=>{P.hasOwnProperty(Ee)||v.push(function se(q){return new h.vHH(3001,ae)}())})}(We[Ze],v.options,v.errors)})})}visitKeyframes(_,v){const P={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function Ie(){return new h.vHH(3011,ae)}()),P;let Ee=0;const We=[];let Ze=!1,Ct=!1,Kt=0;const In=_.steps.map(tr=>{const ir=this._makeStyleAst(tr,v);let Ur=null!=ir.offset?ir.offset:function ci(q){if("string"==typeof q)return null;let _=null;if(Array.isArray(q))q.forEach(v=>{if(Lr(v)&&v.hasOwnProperty("offset")){const P=v;_=parseFloat(P.offset),delete P.offset}});else if(Lr(q)&&q.hasOwnProperty("offset")){const v=q;_=parseFloat(v.offset),delete v.offset}return _}(ir.styles),Ci=0;return null!=Ur&&(Ee++,Ci=ir.offset=Ur),Ct=Ct||Ci<0||Ci>1,Ze=Ze||Ci<Kt,Kt=Ci,We.push(Ci),ir});Ct&&v.errors.push(function Ht(){return new h.vHH(3012,ae)}()),Ze&&v.errors.push(function tt(){return new h.vHH(3200,ae)}());const Pn=_.steps.length;let Gn=0;Ee>0&&Ee<Pn?v.errors.push(function be(){return new h.vHH(3202,ae)}()):0==Ee&&(Gn=1/(Pn-1));const oi=Pn-1,Fn=v.currentTime,Kn=v.currentAnimateTimings,Pi=Kn.duration;return In.forEach((tr,ir)=>{const Ur=Gn>0?ir==oi?1:Gn*ir:We[ir],Ci=Ur*Pi;v.currentTime=Fn+Kn.delay+Ci,Kn.duration=Ci,this._validateStyleAst(tr,v),tr.offset=Ur,P.styles.push(tr)}),P}visitReference(_,v){return{type:8,animation:Zt(this,bi(_.animation),v),options:Ui(_.options)}}visitAnimateChild(_,v){return v.depCount++,{type:9,options:Ui(_.options)}}visitAnimateRef(_,v){return{type:10,animation:this.visitReference(_.animation,v),options:Ui(_.options)}}visitQuery(_,v){const P=v.currentQuerySelector,X=_.options||{};v.queryCount++,v.currentQuery=_;const[Ee,We]=function Nr(q){const _=!!q.split(/\s*,\s*/).find(v=>":self"==v);return _&&(q=q.replace(ur,"")),q=q.replace(/@\*/g,gn).replace(/@\w+/g,v=>gn+"-"+v.substr(1)).replace(/:animating/g,oe),[q,_]}(_.selector);v.currentQuerySelector=P.length?P+" "+Ee:Ee,pt(v.collectedStyles,v.currentQuerySelector,{});const Ze=Zt(this,bi(_.animation),v);return v.currentQuery=null,v.currentQuerySelector=P,{type:11,selector:Ee,limit:X.limit||0,optional:!!X.optional,includeSelf:We,animation:Ze,originalSelector:_.selector,options:Ui(_.options)}}visitStagger(_,v){v.currentQuery||v.errors.push(function he(){return new h.vHH(3013,ae)}());const P="full"===_.timings?{duration:0,delay:0,easing:"full"}:F(_.timings,v.errors,!0);return{type:12,animation:Zt(this,bi(_.animation),v),timings:P,options:null}}}class dr{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lr(q){return!Array.isArray(q)&&"object"==typeof q}function Ui(q){return q?(q=le(q)).params&&(q.params=function Fr(q){return q?le(q):null}(q.params)):q={},q}function Er(q,_,v){return{duration:q,delay:_,easing:v}}function Rs(q,_,v,P,X,Ee,We=null,Ze=!1){return{type:1,element:q,keyframes:_,preStyleProps:v,postStyleProps:P,duration:X,delay:Ee,totalTime:X+Ee,easing:We,subTimeline:Ze}}class zs{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,v){let P=this._map.get(_);P||this._map.set(_,P=[]),P.push(...v)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Ws=new RegExp(":enter","g"),Co=new RegExp(":leave","g");function er(q,_,v,P,X,Ee={},We={},Ze,Ct,Kt=[]){return(new zr).buildKeyframes(q,_,v,P,X,Ee,We,Ze,Ct,Kt)}class zr{buildKeyframes(_,v,P,X,Ee,We,Ze,Ct,Kt,In=[]){Kt=Kt||new zs;const Pn=new Do(_,v,Kt,X,Ee,In,[]);Pn.options=Ct,Pn.currentTimeline.setStyles([We],null,Pn.errors,Ct),Zt(this,P,Pn);const Gn=Pn.timelines.filter(oi=>oi.containsAnimation());if(Object.keys(Ze).length){let oi;for(let Fn=Gn.length-1;Fn>=0;Fn--){const Kn=Gn[Fn];if(Kn.element===v){oi=Kn;break}}oi&&!oi.allowOnlyTimelineStyles()&&oi.setStyles([Ze],null,Pn.errors,Ct)}return Gn.length?Gn.map(oi=>oi.buildKeyframes()):[Rs(v,[],[],[],0,0,"",!1)]}visitTrigger(_,v){}visitState(_,v){}visitTransition(_,v){}visitAnimateChild(_,v){const P=v.subInstructions.get(v.element);if(P){const X=v.createSubContext(_.options),Ee=v.currentTimeline.currentTime,We=this._visitSubInstructions(P,X,X.options);Ee!=We&&v.transformIntoNewTimeline(We)}v.previousNode=_}visitAnimateRef(_,v){const P=v.createSubContext(_.options);P.transformIntoNewTimeline(),this.visitReference(_.animation,P),v.transformIntoNewTimeline(P.currentTimeline.currentTime),v.previousNode=_}_visitSubInstructions(_,v,P){let Ee=v.currentTimeline.currentTime;const We=null!=P.duration?H(P.duration):null,Ze=null!=P.delay?H(P.delay):null;return 0!==We&&_.forEach(Ct=>{const Kt=v.appendInstructionToTimeline(Ct,We,Ze);Ee=Math.max(Ee,Kt.duration+Kt.delay)}),Ee}visitReference(_,v){v.updateOptions(_.options,!0),Zt(this,_.animation,v),v.previousNode=_}visitSequence(_,v){const P=v.subContextCount;let X=v;const Ee=_.options;if(Ee&&(Ee.params||Ee.delay)&&(X=v.createSubContext(Ee),X.transformIntoNewTimeline(),null!=Ee.delay)){6==X.previousNode.type&&(X.currentTimeline.snapshotCurrentStyles(),X.previousNode=es);const We=H(Ee.delay);X.delayNextStep(We)}_.steps.length&&(_.steps.forEach(We=>Zt(this,We,X)),X.currentTimeline.applyStylesToKeyframe(),X.subContextCount>P&&X.transformIntoNewTimeline()),v.previousNode=_}visitGroup(_,v){const P=[];let X=v.currentTimeline.currentTime;const Ee=_.options&&_.options.delay?H(_.options.delay):0;_.steps.forEach(We=>{const Ze=v.createSubContext(_.options);Ee&&Ze.delayNextStep(Ee),Zt(this,We,Ze),X=Math.max(X,Ze.currentTimeline.currentTime),P.push(Ze.currentTimeline)}),P.forEach(We=>v.currentTimeline.mergeTimelineCollectedStyles(We)),v.transformIntoNewTimeline(X),v.previousNode=_}_visitTiming(_,v){if(_.dynamic){const P=_.strValue;return F(v.params?ct(P,v.params,v.errors):P,v.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,v){const P=v.currentAnimateTimings=this._visitTiming(_.timings,v),X=v.currentTimeline;P.delay&&(v.incrementTime(P.delay),X.snapshotCurrentStyles());const Ee=_.style;5==Ee.type?this.visitKeyframes(Ee,v):(v.incrementTime(P.duration),this.visitStyle(Ee,v),X.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=_}visitStyle(_,v){const P=v.currentTimeline,X=v.currentAnimateTimings;!X&&P.getCurrentStyleProperties().length&&P.forwardFrame();const Ee=X&&X.easing||_.easing;_.isEmptyStep?P.applyEmptyStep(Ee):P.setStyles(_.styles,Ee,v.errors,v.options),v.previousNode=_}visitKeyframes(_,v){const P=v.currentAnimateTimings,X=v.currentTimeline.duration,Ee=P.duration,Ze=v.createSubContext().currentTimeline;Ze.easing=P.easing,_.styles.forEach(Ct=>{Ze.forwardTime((Ct.offset||0)*Ee),Ze.setStyles(Ct.styles,Ct.easing,v.errors,v.options),Ze.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(Ze),v.transformIntoNewTimeline(X+Ee),v.previousNode=_}visitQuery(_,v){const P=v.currentTimeline.currentTime,X=_.options||{},Ee=X.delay?H(X.delay):0;Ee&&(6===v.previousNode.type||0==P&&v.currentTimeline.getCurrentStyleProperties().length)&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=es);let We=P;const Ze=v.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!X.optional,v.errors);v.currentQueryTotal=Ze.length;let Ct=null;Ze.forEach((Kt,In)=>{v.currentQueryIndex=In;const Pn=v.createSubContext(_.options,Kt);Ee&&Pn.delayNextStep(Ee),Kt===v.element&&(Ct=Pn.currentTimeline),Zt(this,_.animation,Pn),Pn.currentTimeline.applyStylesToKeyframe(),We=Math.max(We,Pn.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(We),Ct&&(v.currentTimeline.mergeTimelineCollectedStyles(Ct),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=_}visitStagger(_,v){const P=v.parentContext,X=v.currentTimeline,Ee=_.timings,We=Math.abs(Ee.duration),Ze=We*(v.currentQueryTotal-1);let Ct=We*v.currentQueryIndex;switch(Ee.duration<0?"reverse":Ee.easing){case"reverse":Ct=Ze-Ct;break;case"full":Ct=P.currentStaggerTime}const In=v.currentTimeline;Ct&&In.delayNextStep(Ct);const Pn=In.currentTime;Zt(this,_.animation,v),v.previousNode=_,P.currentStaggerTime=X.currentTime-Pn+(X.startTime-P.currentTimeline.startTime)}}const es={};class Do{constructor(_,v,P,X,Ee,We,Ze,Ct){this._driver=_,this.element=v,this.subInstructions=P,this._enterClassName=X,this._leaveClassName=Ee,this.errors=We,this.timelines=Ze,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=es,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ct||new xi(this._driver,v,0),Ze.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,v){if(!_)return;const P=_;let X=this.options;null!=P.duration&&(X.duration=H(P.duration)),null!=P.delay&&(X.delay=H(P.delay));const Ee=P.params;if(Ee){let We=X.params;We||(We=this.options.params={}),Object.keys(Ee).forEach(Ze=>{(!v||!We.hasOwnProperty(Ze))&&(We[Ze]=ct(Ee[Ze],We,this.errors))})}}_copyOptions(){const _={};if(this.options){const v=this.options.params;if(v){const P=_.params={};Object.keys(v).forEach(X=>{P[X]=v[X]})}}return _}createSubContext(_=null,v,P){const X=v||this.element,Ee=new Do(this._driver,X,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(X,P||0));return Ee.previousNode=this.previousNode,Ee.currentAnimateTimings=this.currentAnimateTimings,Ee.options=this._copyOptions(),Ee.updateOptions(_),Ee.currentQueryIndex=this.currentQueryIndex,Ee.currentQueryTotal=this.currentQueryTotal,Ee.parentContext=this,this.subContextCount++,Ee}transformIntoNewTimeline(_){return this.previousNode=es,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,v,P){const X={duration:null!=v?v:_.duration,delay:this.currentTimeline.currentTime+(null!=P?P:0)+_.delay,easing:""},Ee=new eo(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,X,_.stretchStartingKeyframe);return this.timelines.push(Ee),X}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,v,P,X,Ee,We){let Ze=[];if(X&&Ze.push(this.element),_.length>0){_=(_=_.replace(Ws,"."+this._enterClassName)).replace(Co,"."+this._leaveClassName);let Kt=this._driver.query(this.element,_,1!=P);0!==P&&(Kt=P<0?Kt.slice(Kt.length+P,Kt.length):Kt.slice(0,P)),Ze.push(...Kt)}return!Ee&&0==Ze.length&&We.push(function Se(q){return new h.vHH(3014,ae)}()),Ze}}class xi{constructor(_,v,P,X){this._driver=_,this.element=v,this.startTime=P,this._elementTimelineStylesLookup=X,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const v=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||v?(this.forwardTime(this.currentTime+_),v&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,v){return this.applyStylesToKeyframe(),new xi(this._driver,_,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,v){this._localTimelineStyles[_]=v,this._globalTimelineStyles[_]=v,this._styleSummary[_]={time:this.currentTime,value:v}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&(this._previousKeyframe.easing=_),Object.keys(this._globalTimelineStyles).forEach(v=>{this._backFill[v]=this._globalTimelineStyles[v]||S.l3,this._currentKeyframe[v]=S.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,v,P,X){v&&(this._previousKeyframe.easing=v);const Ee=X&&X.params||{},We=function Ps(q,_){const v={};let P;return q.forEach(X=>{"*"===X?(P=P||Object.keys(_),P.forEach(Ee=>{v[Ee]=S.l3})):ie(X,!1,v)}),v}(_,this._globalTimelineStyles);Object.keys(We).forEach(Ze=>{const Ct=ct(We[Ze],Ee,P);this._pendingStyles[Ze]=Ct,this._localTimelineStyles.hasOwnProperty(Ze)||(this._backFill[Ze]=this._globalTimelineStyles.hasOwnProperty(Ze)?this._globalTimelineStyles[Ze]:S.l3),this._updateStyle(Ze,Ct)})}applyStylesToKeyframe(){const _=this._pendingStyles,v=Object.keys(_);0!=v.length&&(this._pendingStyles={},v.forEach(P=>{this._currentKeyframe[P]=_[P]}),Object.keys(this._localTimelineStyles).forEach(P=>{this._currentKeyframe.hasOwnProperty(P)||(this._currentKeyframe[P]=this._localTimelineStyles[P])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(_=>{const v=this._localTimelineStyles[_];this._pendingStyles[_]=v,this._updateStyle(_,v)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let v in this._currentKeyframe)_.push(v);return _}mergeTimelineCollectedStyles(_){Object.keys(_._styleSummary).forEach(v=>{const P=this._styleSummary[v],X=_._styleSummary[v];(!P||X.time>P.time)&&this._updateStyle(v,X.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,v=new Set,P=1===this._keyframes.size&&0===this.duration;let X=[];this._keyframes.forEach((Ze,Ct)=>{const Kt=ie(Ze,!0);Object.keys(Kt).forEach(In=>{const Pn=Kt[In];Pn==S.k1?_.add(In):Pn==S.l3&&v.add(In)}),P||(Kt.offset=Ct/this.duration),X.push(Kt)});const Ee=_.size?zt(_.values()):[],We=v.size?zt(v.values()):[];if(P){const Ze=X[0],Ct=le(Ze);Ze.offset=0,Ct.offset=1,X=[Ze,Ct]}return Rs(this.element,X,Ee,We,this.duration,this.startTime,this.easing,!1)}}class eo extends xi{constructor(_,v,P,X,Ee,We,Ze=!1){super(_,v,We.delay),this.keyframes=P,this.preStyleProps=X,this.postStyleProps=Ee,this._stretchStartingKeyframe=Ze,this.timings={duration:We.duration,delay:We.delay,easing:We.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:v,duration:P,easing:X}=this.timings;if(this._stretchStartingKeyframe&&v){const Ee=[],We=P+v,Ze=v/We,Ct=ie(_[0],!1);Ct.offset=0,Ee.push(Ct);const Kt=ie(_[0],!1);Kt.offset=ts(Ze),Ee.push(Kt);const In=_.length-1;for(let Pn=1;Pn<=In;Pn++){let Gn=ie(_[Pn],!1);Gn.offset=ts((v+Gn.offset*P)/We),Ee.push(Gn)}P=We,v=0,X="",_=Ee}return Rs(this.element,_,this.preStyleProps,this.postStyleProps,P,v,X,!0)}}function ts(q,_=3){const v=Math.pow(10,_-1);return Math.round(q*v)/v}class ks{}class fo extends ks{normalizePropertyName(_,v){return Ae(_)}normalizeStyleValue(_,v,P,X){let Ee="";const We=P.toString().trim();if(po[v]&&0!==P&&"0"!==P)if("number"==typeof P)Ee="px";else{const Ze=P.match(/^[+-]?[\d\.]+([a-z]*)$/);Ze&&0==Ze[1].length&&X.push(function Ce(q,_){return new h.vHH(3005,ae)}())}return We+Ee}}const po=(()=>function Ks(q){const _={};return q.forEach(v=>_[v]=!0),_}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function is(q,_,v,P,X,Ee,We,Ze,Ct,Kt,In,Pn,Gn){return{type:0,element:q,triggerName:_,isRemovalTransition:X,fromState:v,fromStyles:Ee,toState:P,toStyles:We,timelines:Ze,queriedElements:Ct,preStyleProps:Kt,postStyleProps:In,totalTime:Pn,errors:Gn}}const Ns={};class mr{constructor(_,v,P){this._triggerName=_,this.ast=v,this._stateStyles=P}match(_,v,P,X){return function bs(q,_,v,P,X){return q.some(Ee=>Ee(_,v,P,X))}(this.ast.matchers,_,v,P,X)}buildStyles(_,v,P){const X=this._stateStyles["*"],Ee=this._stateStyles[_],We=X?X.buildStyles(v,P):{};return Ee?Ee.buildStyles(v,P):We}build(_,v,P,X,Ee,We,Ze,Ct,Kt,In){const Pn=[],Gn=this.ast.options&&this.ast.options.params||Ns,Fn=this.buildStyles(P,Ze&&Ze.params||Ns,Pn),Kn=Ct&&Ct.params||Ns,Pi=this.buildStyles(X,Kn,Pn),tr=new Set,ir=new Map,Ur=new Map,Ci="void"===X,Or={params:Object.assign(Object.assign({},Gn),Kn)},Li=In?[]:er(_,v,this.ast.animation,Ee,We,Fn,Pi,Or,Kt,Pn);let qr=0;if(Li.forEach(So=>{qr=Math.max(So.duration+So.delay,qr)}),Pn.length)return is(v,this._triggerName,P,X,Ci,Fn,Pi,[],[],ir,Ur,qr,Pn);Li.forEach(So=>{const io=So.element,Bs=pt(ir,io,{});So.preStyleProps.forEach(Yr=>Bs[Yr]=!0);const Mo=pt(Ur,io,{});So.postStyleProps.forEach(Yr=>Mo[Yr]=!0),io!==v&&tr.add(io)});const Qi=zt(tr.values());return is(v,this._triggerName,P,X,Ci,Fn,Pi,Li,Qi,ir,Ur,qr)}}class rs{constructor(_,v,P){this.styles=_,this.defaultParams=v,this.normalizer=P}buildStyles(_,v){const P={},X=le(this.defaultParams);return Object.keys(_).forEach(Ee=>{const We=_[Ee];null!=We&&(X[Ee]=We)}),this.styles.styles.forEach(Ee=>{if("string"!=typeof Ee){const We=Ee;Object.keys(We).forEach(Ze=>{let Ct=We[Ze];Ct.length>1&&(Ct=ct(Ct,X,v));const Kt=this.normalizer.normalizePropertyName(Ze,v);Ct=this.normalizer.normalizeStyleValue(Ze,Kt,Ct,v),P[Kt]=Ct})}}),P}}class ar{constructor(_,v,P){this.name=_,this.ast=v,this._normalizer=P,this.transitionFactories=[],this.states={},v.states.forEach(X=>{this.states[X.name]=new rs(X.style,X.options&&X.options.params||{},P)}),xr(this.states,"true","1"),xr(this.states,"false","0"),v.transitions.forEach(X=>{this.transitionFactories.push(new mr(_,X,this.states))}),this.fallbackTransition=function Wr(q,_,v){return new mr(q,{type:1,animation:{type:2,steps:[],options:null},matchers:[(We,Ze)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,v,P,X){return this.transitionFactories.find(We=>We.match(_,v,P,X))||null}matchStyles(_,v,P){return this.fallbackTransition.buildStyles(_,v,P)}}function xr(q,_,v){q.hasOwnProperty(_)?q.hasOwnProperty(v)||(q[v]=q[_]):q.hasOwnProperty(v)&&(q[_]=q[v])}const Br=new zs;class Fs{constructor(_,v,P){this.bodyNode=_,this._driver=v,this._normalizer=P,this._animations={},this._playersById={},this.players=[]}register(_,v){const P=[],Ee=_s(this._driver,v,P,[]);if(P.length)throw function _t(q){return new h.vHH(3503,ae)}();this._animations[_]=Ee}_buildPlayer(_,v,P){const X=_.element,Ee=st(0,this._normalizer,0,_.keyframes,v,P);return this._driver.animate(X,Ee,_.duration,_.delay,_.easing,[],!0)}create(_,v,P={}){const X=[],Ee=this._animations[_];let We;const Ze=new Map;if(Ee?(We=er(this._driver,v,Ee,hi,fi,{},{},P,Br,X),We.forEach(In=>{const Pn=pt(Ze,In.element,{});In.postStyleProps.forEach(Gn=>Pn[Gn]=null)})):(X.push(function dt(){return new h.vHH(3300,ae)}()),We=[]),X.length)throw function kt(q){return new h.vHH(3504,ae)}();Ze.forEach((In,Pn)=>{Object.keys(In).forEach(Gn=>{In[Gn]=this._driver.computeStyle(Pn,Gn,S.l3)})});const Kt=ut(We.map(In=>{const Pn=Ze.get(In.element);return this._buildPlayer(In,{},Pn)}));return this._playersById[_]=Kt,Kt.onDestroy(()=>this.destroy(_)),this.players.push(Kt),Kt}destroy(_){const v=this._getPlayer(_);v.destroy(),delete this._playersById[_];const P=this.players.indexOf(v);P>=0&&this.players.splice(P,1)}_getPlayer(_){const v=this._playersById[_];if(!v)throw function At(q){return new h.vHH(3301,ae)}();return v}listen(_,v,P,X){const Ee=De(v,"","","");return Te(this._getPlayer(_),P,Ee,X),()=>{}}command(_,v,P,X){if("register"==P)return void this.register(_,X[0]);if("create"==P)return void this.create(_,v,X[0]||{});const Ee=this._getPlayer(_);switch(P){case"play":Ee.play();break;case"pause":Ee.pause();break;case"reset":Ee.reset();break;case"restart":Ee.restart();break;case"finish":Ee.finish();break;case"init":Ee.init();break;case"setPosition":Ee.setPosition(parseFloat(X[0]));break;case"destroy":this.destroy(_)}}}const Go="ng-animate-queued",wr="ng-animate-disabled",Oi=[],Cs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ri="__ng_removed";class Kr{constructor(_,v=""){this.namespaceId=v;const P=_&&_.hasOwnProperty("value");if(this.value=function V(q){return null!=q?q:null}(P?_.value:_),P){const Ee=le(_);delete Ee.value,this.options=Ee}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(_){const v=_.params;if(v){const P=this.options.params;Object.keys(v).forEach(X=>{null==P[X]&&(P[X]=v[X])})}}}const ss="void",gr=new Kr(ss);class cs{constructor(_,v,P){this.id=_,this.hostElement=v,this._engine=P,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,Wt(v,this._hostClassName)}listen(_,v,P,X){if(!this._triggers.hasOwnProperty(v))throw function nt(q,_){return new h.vHH(3302,ae)}();if(null==P||0==P.length)throw function Ke(q){return new h.vHH(3303,ae)}();if(!function N(q){return"start"==q||"done"==q}(P))throw function Ue(q,_){return new h.vHH(3400,ae)}();const Ee=pt(this._elementListeners,_,[]),We={name:v,phase:P,callback:X};Ee.push(We);const Ze=pt(this._engine.statesByElement,_,{});return Ze.hasOwnProperty(v)||(Wt(_,yi),Wt(_,yi+"-"+v),Ze[v]=gr),()=>{this._engine.afterFlush(()=>{const Ct=Ee.indexOf(We);Ct>=0&&Ee.splice(Ct,1),this._triggers[v]||delete Ze[v]})}}register(_,v){return!this._triggers[_]&&(this._triggers[_]=v,!0)}_getTrigger(_){const v=this._triggers[_];if(!v)throw function Dt(q){return new h.vHH(3401,ae)}();return v}trigger(_,v,P,X=!0){const Ee=this._getTrigger(v),We=new us(this.id,v,_);let Ze=this._engine.statesByElement.get(_);Ze||(Wt(_,yi),Wt(_,yi+"-"+v),this._engine.statesByElement.set(_,Ze={}));let Ct=Ze[v];const Kt=new Kr(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&Ct&&Kt.absorbOptions(Ct.options),Ze[v]=Kt,Ct||(Ct=gr),Kt.value!==ss&&Ct.value===Kt.value){if(!function ui(q,_){const v=Object.keys(q),P=Object.keys(_);if(v.length!=P.length)return!1;for(let X=0;X<v.length;X++){const Ee=v[X];if(!_.hasOwnProperty(Ee)||q[Ee]!==_[Ee])return!1}return!0}(Ct.params,Kt.params)){const Kn=[],Pi=Ee.matchStyles(Ct.value,Ct.params,Kn),tr=Ee.matchStyles(Kt.value,Kt.params,Kn);Kn.length?this._engine.reportError(Kn):this._engine.afterFlush(()=>{bn(_,Pi),cn(_,tr)})}return}const Gn=pt(this._engine.playersByElement,_,[]);Gn.forEach(Kn=>{Kn.namespaceId==this.id&&Kn.triggerName==v&&Kn.queued&&Kn.destroy()});let oi=Ee.matchTransition(Ct.value,Kt.value,_,Kt.params),Fn=!1;if(!oi){if(!X)return;oi=Ee.fallbackTransition,Fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:v,transition:oi,fromState:Ct,toState:Kt,player:We,isFallbackTransition:Fn}),Fn||(Wt(_,Go),We.onStart(()=>{Tn(_,Go)})),We.onDone(()=>{let Kn=this.players.indexOf(We);Kn>=0&&this.players.splice(Kn,1);const Pi=this._engine.playersByElement.get(_);if(Pi){let tr=Pi.indexOf(We);tr>=0&&Pi.splice(tr,1)}}),this.players.push(We),Gn.push(We),We}deregister(_){delete this._triggers[_],this._engine.statesByElement.forEach((v,P)=>{delete v[_]}),this._elementListeners.forEach((v,P)=>{this._elementListeners.set(P,v.filter(X=>X.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const v=this._engine.playersByElement.get(_);v&&(v.forEach(P=>P.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,v){const P=this._engine.driver.query(_,gn,!0);P.forEach(X=>{if(X[Ri])return;const Ee=this._engine.fetchNamespacesByElement(X);Ee.size?Ee.forEach(We=>We.triggerLeaveAnimation(X,v,!1,!0)):this.clearElementCache(X)}),this._engine.afterFlushAnimationsDone(()=>P.forEach(X=>this.clearElementCache(X)))}triggerLeaveAnimation(_,v,P,X){const Ee=this._engine.statesByElement.get(_),We=new Map;if(Ee){const Ze=[];if(Object.keys(Ee).forEach(Ct=>{if(We.set(Ct,Ee[Ct].value),this._triggers[Ct]){const Kt=this.trigger(_,Ct,ss,X);Kt&&Ze.push(Kt)}}),Ze.length)return this._engine.markElementAsRemoved(this.id,_,!0,v,We),P&&ut(Ze).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const v=this._elementListeners.get(_),P=this._engine.statesByElement.get(_);if(v&&P){const X=new Set;v.forEach(Ee=>{const We=Ee.name;if(X.has(We))return;X.add(We);const Ct=this._triggers[We].fallbackTransition,Kt=P[We]||gr,In=new Kr(ss),Pn=new us(this.id,We,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:We,transition:Ct,fromState:Kt,toState:In,player:Pn,isFallbackTransition:!0})})}}removeNode(_,v){const P=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,v),this.triggerLeaveAnimation(_,v,!0))return;let X=!1;if(P.totalAnimations){const Ee=P.players.length?P.playersByQueriedElement.get(_):[];if(Ee&&Ee.length)X=!0;else{let We=_;for(;We=We.parentNode;)if(P.statesByElement.get(We)){X=!0;break}}}if(this.prepareLeaveAnimationListeners(_),X)P.markElementAsRemoved(this.id,_,!1,v);else{const Ee=_[Ri];(!Ee||Ee===Cs)&&(P.afterFlush(()=>this.clearElementCache(_)),P.destroyInnerAnimations(_),P._onRemovalComplete(_,v))}}insertNode(_,v){Wt(_,this._hostClassName)}drainQueuedTransitions(_){const v=[];return this._queue.forEach(P=>{const X=P.player;if(X.destroyed)return;const Ee=P.element,We=this._elementListeners.get(Ee);We&&We.forEach(Ze=>{if(Ze.name==P.triggerName){const Ct=De(Ee,P.triggerName,P.fromState.value,P.toState.value);Ct._data=_,Te(P.player,Ze.phase,Ct,Ze.callback)}}),X.markedForDestroy?this._engine.afterFlush(()=>{X.destroy()}):v.push(P)}),this._queue=[],v.sort((P,X)=>{const Ee=P.transition.ast.depCount,We=X.transition.ast.depCount;return 0==Ee||0==We?Ee-We:this._engine.driver.containsElement(P.element,X.element)?1:-1})}destroy(_){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let v=!1;return this._elementListeners.has(_)&&(v=!0),v=!!this._queue.find(P=>P.element===_)||v,v}}class Zr{constructor(_,v,P){this.bodyNode=_,this.driver=v,this._normalizer=P,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(X,Ee)=>{}}_onRemovalComplete(_,v){this.onRemovalComplete(_,v)}get queuedPlayers(){const _=[];return this._namespaceList.forEach(v=>{v.players.forEach(P=>{P.queued&&_.push(P)})}),_}createNamespace(_,v){const P=new cs(_,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(P,v):(this.newHostElements.set(v,P),this.collectEnterElement(v)),this._namespaceLookup[_]=P}_balanceNamespaceList(_,v){const P=this._namespaceList,X=this.namespacesByHostElement,Ee=P.length-1;if(Ee>=0){let We=!1;if(void 0!==this.driver.getParentElement){let Ze=this.driver.getParentElement(v);for(;Ze;){const Ct=X.get(Ze);if(Ct){const Kt=P.indexOf(Ct);P.splice(Kt+1,0,_),We=!0;break}Ze=this.driver.getParentElement(Ze)}}else for(let Ze=Ee;Ze>=0;Ze--)if(this.driver.containsElement(P[Ze].hostElement,v)){P.splice(Ze+1,0,_),We=!0;break}We||P.unshift(_)}else P.push(_);return X.set(v,_),_}register(_,v){let P=this._namespaceLookup[_];return P||(P=this.createNamespace(_,v)),P}registerTrigger(_,v,P){let X=this._namespaceLookup[_];X&&X.register(v,P)&&this.totalAnimations++}destroy(_,v){if(!_)return;const P=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(P.hostElement),delete this._namespaceLookup[_];const X=this._namespaceList.indexOf(P);X>=0&&this._namespaceList.splice(X,1)}),this.afterFlushAnimationsDone(()=>P.destroy(v))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const v=new Set,P=this.statesByElement.get(_);if(P){const X=Object.keys(P);for(let Ee=0;Ee<X.length;Ee++){const We=P[X[Ee]].namespaceId;if(We){const Ze=this._fetchNamespace(We);Ze&&v.add(Ze)}}}return v}trigger(_,v,P,X){if(ee(v)){const Ee=this._fetchNamespace(_);if(Ee)return Ee.trigger(v,P,X),!0}return!1}insertNode(_,v,P,X){if(!ee(v))return;const Ee=v[Ri];if(Ee&&Ee.setForRemoval){Ee.setForRemoval=!1,Ee.setForMove=!0;const We=this.collectedLeaveElements.indexOf(v);We>=0&&this.collectedLeaveElements.splice(We,1)}if(_){const We=this._fetchNamespace(_);We&&We.insertNode(v,P)}X&&this.collectEnterElement(v)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,v){v?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Wt(_,wr)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),Tn(_,wr))}removeNode(_,v,P,X){if(ee(v)){const Ee=_?this._fetchNamespace(_):null;if(Ee?Ee.removeNode(v,X):this.markElementAsRemoved(_,v,!1,X),P){const We=this.namespacesByHostElement.get(v);We&&We.id!==_&&We.removeNode(v,X)}}else this._onRemovalComplete(v,X)}markElementAsRemoved(_,v,P,X,Ee){this.collectedLeaveElements.push(v),v[Ri]={namespaceId:_,setForRemoval:X,hasAnimation:P,removedBeforeQueried:!1,previousTriggersValues:Ee}}listen(_,v,P,X,Ee){return ee(v)?this._fetchNamespace(_).listen(v,P,X,Ee):()=>{}}_buildInstruction(_,v,P,X,Ee){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,P,X,_.fromState.options,_.toState.options,v,Ee)}destroyInnerAnimations(_){let v=this.driver.query(_,gn,!0);v.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(_,oe,!0),v.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(_){const v=this.playersByElement.get(_);v&&v.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(_){const v=this.playersByQueriedElement.get(_);v&&v.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return ut(this.players).onDone(()=>_());_()})}processLeaveNode(_){var v;const P=_[Ri];if(P&&P.setForRemoval){if(_[Ri]=Cs,P.namespaceId){this.destroyInnerAnimations(_);const X=this._fetchNamespace(P.namespaceId);X&&X.clearElementCache(_)}this._onRemovalComplete(_,P.setForRemoval)}(null===(v=_.classList)||void 0===v?void 0:v.contains(wr))&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(X=>{this.markElementAsDisabled(X,!1)})}flush(_=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,X)=>this._balanceNamespaceList(P,X)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)Wt(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{v=this._flushAnimations(P,_)}finally{for(let X=0;X<P.length;X++)P[X]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],v.length?ut(v).onDone(()=>{P.forEach(X=>X())}):P.forEach(X=>X())}}reportError(_){throw function Mt(q){return new h.vHH(3402,ae)}()}_flushAnimations(_,v){const P=new zs,X=[],Ee=new Map,We=[],Ze=new Map,Ct=new Map,Kt=new Map,In=new Set;this.disabledNodes.forEach(Mn=>{In.add(Mn);const Cn=this.driver.query(Mn,".ng-animate-queued",!0);for(let Wn=0;Wn<Cn.length;Wn++)In.add(Cn[Wn])});const Pn=this.bodyNode,Gn=Array.from(this.statesByElement.keys()),oi=Ft(Gn,this.collectedEnterElements),Fn=new Map;let Kn=0;oi.forEach((Mn,Cn)=>{const Wn=hi+Kn++;Fn.set(Cn,Wn),Mn.forEach(ai=>Wt(ai,Wn))});const Pi=[],tr=new Set,ir=new Set;for(let Mn=0;Mn<this.collectedLeaveElements.length;Mn++){const Cn=this.collectedLeaveElements[Mn],Wn=Cn[Ri];Wn&&Wn.setForRemoval&&(Pi.push(Cn),tr.add(Cn),Wn.hasAnimation?this.driver.query(Cn,".ng-star-inserted",!0).forEach(ai=>tr.add(ai)):ir.add(Cn))}const Ur=new Map,Ci=Ft(Gn,Array.from(tr));Ci.forEach((Mn,Cn)=>{const Wn=fi+Kn++;Ur.set(Cn,Wn),Mn.forEach(ai=>Wt(ai,Wn))}),_.push(()=>{oi.forEach((Mn,Cn)=>{const Wn=Fn.get(Cn);Mn.forEach(ai=>Tn(ai,Wn))}),Ci.forEach((Mn,Cn)=>{const Wn=Ur.get(Cn);Mn.forEach(ai=>Tn(ai,Wn))}),Pi.forEach(Mn=>{this.processLeaveNode(Mn)})});const Or=[],Li=[];for(let Mn=this._namespaceList.length-1;Mn>=0;Mn--)this._namespaceList[Mn].drainQueuedTransitions(v).forEach(Wn=>{const ai=Wn.player,Bi=Wn.element;if(Or.push(ai),this.collectedEnterElements.length){const Qr=Bi[Ri];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(Wn.triggerName)){const Ao=Qr.previousTriggersValues.get(Wn.triggerName),Wi=this.statesByElement.get(Wn.element);Wi&&Wi[Wn.triggerName]&&(Wi[Wn.triggerName].value=Ao)}return void ai.destroy()}}const Is=!Pn||!this.driver.containsElement(Pn,Bi),rr=Ur.get(Bi),os=Fn.get(Bi),ki=this._buildInstruction(Wn,P,os,rr,Is);if(ki.errors&&ki.errors.length)return void Li.push(ki);if(Is)return ai.onStart(()=>bn(Bi,ki.fromStyles)),ai.onDestroy(()=>cn(Bi,ki.toStyles)),void X.push(ai);if(Wn.isFallbackTransition)return ai.onStart(()=>bn(Bi,ki.fromStyles)),ai.onDestroy(()=>cn(Bi,ki.toStyles)),void X.push(ai);const Zo=[];ki.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||Zo.push(Qr)}),ki.timelines=Zo,P.append(Bi,ki.timelines),We.push({instruction:ki,player:ai,element:Bi}),ki.queriedElements.forEach(Qr=>pt(Ze,Qr,[]).push(ai)),ki.preStyleProps.forEach((Qr,Ao)=>{const Wi=Object.keys(Qr);if(Wi.length){let Ts=Ct.get(Ao);Ts||Ct.set(Ao,Ts=new Set),Wi.forEach(pa=>Ts.add(pa))}}),ki.postStyleProps.forEach((Qr,Ao)=>{const Wi=Object.keys(Qr);let Ts=Kt.get(Ao);Ts||Kt.set(Ao,Ts=new Set),Wi.forEach(pa=>Ts.add(pa))})});if(Li.length){const Mn=[];Li.forEach(Cn=>{Mn.push(function yt(q,_){return new h.vHH(3505,ae)}())}),Or.forEach(Cn=>Cn.destroy()),this.reportError(Mn)}const qr=new Map,Qi=new Map;We.forEach(Mn=>{const Cn=Mn.element;P.has(Cn)&&(Qi.set(Cn,Cn),this._beforeAnimationBuild(Mn.player.namespaceId,Mn.instruction,qr))}),X.forEach(Mn=>{const Cn=Mn.element;this._getPreviousPlayers(Cn,!1,Mn.namespaceId,Mn.triggerName,null).forEach(ai=>{pt(qr,Cn,[]).push(ai),ai.destroy()})});const So=Pi.filter(Mn=>Yi(Mn,Ct,Kt)),io=new Map;He(io,this.driver,ir,Kt,S.l3).forEach(Mn=>{Yi(Mn,Ct,Kt)&&So.push(Mn)});const Mo=new Map;oi.forEach((Mn,Cn)=>{He(Mo,this.driver,new Set(Mn),Ct,S.k1)}),So.forEach(Mn=>{const Cn=io.get(Mn),Wn=Mo.get(Mn);io.set(Mn,Object.assign(Object.assign({},Cn),Wn))});const Yr=[],ro=[],hs={};We.forEach(Mn=>{const{element:Cn,player:Wn,instruction:ai}=Mn;if(P.has(Cn)){if(In.has(Cn))return Wn.onDestroy(()=>cn(Cn,ai.toStyles)),Wn.disabled=!0,Wn.overrideTotalTime(ai.totalTime),void X.push(Wn);let Bi=hs;if(Qi.size>1){let rr=Cn;const os=[];for(;rr=rr.parentNode;){const ki=Qi.get(rr);if(ki){Bi=ki;break}os.push(rr)}os.forEach(ki=>Qi.set(ki,Bi))}const Is=this._buildAnimation(Wn.namespaceId,ai,qr,Ee,Mo,io);if(Wn.setRealPlayer(Is),Bi===hs)Yr.push(Wn);else{const rr=this.playersByElement.get(Bi);rr&&rr.length&&(Wn.parentPlayer=ut(rr)),X.push(Wn)}}else bn(Cn,ai.fromStyles),Wn.onDestroy(()=>cn(Cn,ai.toStyles)),ro.push(Wn),In.has(Cn)&&X.push(Wn)}),ro.forEach(Mn=>{const Cn=Ee.get(Mn.element);if(Cn&&Cn.length){const Wn=ut(Cn);Mn.setRealPlayer(Wn)}}),X.forEach(Mn=>{Mn.parentPlayer?Mn.syncPlayerEvents(Mn.parentPlayer):Mn.destroy()});for(let Mn=0;Mn<Pi.length;Mn++){const Cn=Pi[Mn],Wn=Cn[Ri];if(Tn(Cn,fi),Wn&&Wn.hasAnimation)continue;let ai=[];if(Ze.size){let Is=Ze.get(Cn);Is&&Is.length&&ai.push(...Is);let rr=this.driver.query(Cn,oe,!0);for(let os=0;os<rr.length;os++){let ki=Ze.get(rr[os]);ki&&ki.length&&ai.push(...ki)}}const Bi=ai.filter(Is=>!Is.destroyed);Bi.length?$n(this,Cn,Bi):this.processLeaveNode(Cn)}return Pi.length=0,Yr.forEach(Mn=>{this.players.push(Mn),Mn.onDone(()=>{Mn.destroy();const Cn=this.players.indexOf(Mn);this.players.splice(Cn,1)}),Mn.play()}),Yr}elementContainsData(_,v){let P=!1;const X=v[Ri];return X&&X.setForRemoval&&(P=!0),this.playersByElement.has(v)&&(P=!0),this.playersByQueriedElement.has(v)&&(P=!0),this.statesByElement.has(v)&&(P=!0),this._fetchNamespace(_).elementContainsData(v)||P}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,v,P,X,Ee){let We=[];if(v){const Ze=this.playersByQueriedElement.get(_);Ze&&(We=Ze)}else{const Ze=this.playersByElement.get(_);if(Ze){const Ct=!Ee||Ee==ss;Ze.forEach(Kt=>{Kt.queued||!Ct&&Kt.triggerName!=X||We.push(Kt)})}}return(P||X)&&(We=We.filter(Ze=>!(P&&P!=Ze.namespaceId||X&&X!=Ze.triggerName))),We}_beforeAnimationBuild(_,v,P){const Ee=v.element,We=v.isRemovalTransition?void 0:_,Ze=v.isRemovalTransition?void 0:v.triggerName;for(const Ct of v.timelines){const Kt=Ct.element,In=Kt!==Ee,Pn=pt(P,Kt,[]);this._getPreviousPlayers(Kt,In,We,Ze,v.toState).forEach(oi=>{const Fn=oi.getRealPlayer();Fn.beforeDestroy&&Fn.beforeDestroy(),oi.destroy(),Pn.push(oi)})}bn(Ee,v.fromStyles)}_buildAnimation(_,v,P,X,Ee,We){const Ze=v.triggerName,Ct=v.element,Kt=[],In=new Set,Pn=new Set,Gn=v.timelines.map(Fn=>{const Kn=Fn.element;In.add(Kn);const Pi=Kn[Ri];if(Pi&&Pi.removedBeforeQueried)return new S.ZN(Fn.duration,Fn.delay);const tr=Kn!==Ct,ir=function pi(q){const _=[];return si(q,_),_}((P.get(Kn)||Oi).map(qr=>qr.getRealPlayer())).filter(qr=>!!qr.element&&qr.element===Kn),Ur=Ee.get(Kn),Ci=We.get(Kn),Or=st(0,this._normalizer,0,Fn.keyframes,Ur,Ci),Li=this._buildPlayer(Fn,Or,ir);if(Fn.subTimeline&&X&&Pn.add(Kn),tr){const qr=new us(_,Ze,Kn);qr.setRealPlayer(Li),Kt.push(qr)}return Li});Kt.forEach(Fn=>{pt(this.playersByQueriedElement,Fn.element,[]).push(Fn),Fn.onDone(()=>function gi(q,_,v){let P;if(q instanceof Map){if(P=q.get(_),P){if(P.length){const X=P.indexOf(v);P.splice(X,1)}0==P.length&&q.delete(_)}}else if(P=q[_],P){if(P.length){const X=P.indexOf(v);P.splice(X,1)}0==P.length&&delete q[_]}return P}(this.playersByQueriedElement,Fn.element,Fn))}),In.forEach(Fn=>Wt(Fn,qi));const oi=ut(Gn);return oi.onDestroy(()=>{In.forEach(Fn=>Tn(Fn,qi)),cn(Ct,v.toStyles)}),Pn.forEach(Fn=>{pt(X,Fn,[]).push(oi)}),oi}_buildPlayer(_,v,P){return v.length>0?this.driver.animate(_.element,v,_.duration,_.delay,_.easing,P):new S.ZN(_.duration,_.delay)}}class us{constructor(_,v,P){this.namespaceId=_,this.triggerName=v,this.element=P,this._player=new S.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,Object.keys(this._queuedCallbacks).forEach(v=>{this._queuedCallbacks[v].forEach(P=>Te(_,v,void 0,P))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const v=this._player;v.triggerCallback&&_.onStart(()=>v.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,v){pt(this._queuedCallbacks,_,[]).push(v)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const v=this._player;v.triggerCallback&&v.triggerCallback(_)}}function ee(q){return q&&1===q.nodeType}function ce(q,_){const v=q.style.display;return q.style.display=null!=_?_:"none",v}function He(q,_,v,P,X){const Ee=[];v.forEach(Ct=>Ee.push(ce(Ct)));const We=[];P.forEach((Ct,Kt)=>{const In={};Ct.forEach(Pn=>{const Gn=In[Pn]=_.computeStyle(Kt,Pn,X);(!Gn||0==Gn.length)&&(Kt[Ri]=Cr,We.push(Kt))}),q.set(Kt,In)});let Ze=0;return v.forEach(Ct=>ce(Ct,Ee[Ze++])),We}function Ft(q,_){const v=new Map;if(q.forEach(Ze=>v.set(Ze,[])),0==_.length)return v;const X=new Set(_),Ee=new Map;function We(Ze){if(!Ze)return 1;let Ct=Ee.get(Ze);if(Ct)return Ct;const Kt=Ze.parentNode;return Ct=v.has(Kt)?Kt:X.has(Kt)?1:We(Kt),Ee.set(Ze,Ct),Ct}return _.forEach(Ze=>{const Ct=We(Ze);1!==Ct&&v.get(Ct).push(Ze)}),v}function Wt(q,_){var v;null===(v=q.classList)||void 0===v||v.add(_)}function Tn(q,_){var v;null===(v=q.classList)||void 0===v||v.remove(_)}function $n(q,_,v){ut(v).onDone(()=>q.processLeaveNode(_))}function si(q,_){for(let v=0;v<q.length;v++){const P=q[v];P instanceof S.ZE?si(P.players,_):_.push(P)}}function Yi(q,_,v){const P=v.get(q);if(!P)return!1;let X=_.get(q);return X?P.forEach(Ee=>X.add(Ee)):_.set(q,P),v.delete(q),!0}class wi{constructor(_,v,P){this.bodyNode=_,this._driver=v,this._normalizer=P,this._triggerCache={},this.onRemovalComplete=(X,Ee)=>{},this._transitionEngine=new Zr(_,v,P),this._timelineEngine=new Fs(_,v,P),this._transitionEngine.onRemovalComplete=(X,Ee)=>this.onRemovalComplete(X,Ee)}registerTrigger(_,v,P,X,Ee){const We=_+"-"+X;let Ze=this._triggerCache[We];if(!Ze){const Ct=[],In=_s(this._driver,Ee,Ct,[]);if(Ct.length)throw function qe(q,_){return new h.vHH(3404,ae)}();Ze=function $o(q,_,v){return new ar(q,_,v)}(X,In,this._normalizer),this._triggerCache[We]=Ze}this._transitionEngine.registerTrigger(v,X,Ze)}register(_,v){this._transitionEngine.register(_,v)}destroy(_,v){this._transitionEngine.destroy(_,v)}onInsert(_,v,P,X){this._transitionEngine.insertNode(_,v,P,X)}onRemove(_,v,P,X){this._transitionEngine.removeNode(_,v,X||!1,P)}disableAnimations(_,v){this._transitionEngine.markElementAsDisabled(_,v)}process(_,v,P,X){if("@"==P.charAt(0)){const[Ee,We]=tn(P);this._timelineEngine.command(Ee,v,We,X)}else this._transitionEngine.trigger(_,v,P,X)}listen(_,v,P,X,Ee){if("@"==P.charAt(0)){const[We,Ze]=tn(P);return this._timelineEngine.listen(We,v,Ze,Ee)}return this._transitionEngine.listen(_,v,P,X,Ee)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let j=(()=>{class q{constructor(v,P,X){this._element=v,this._startStyles=P,this._endStyles=X,this._state=0;let Ee=q.initialStylesByElement.get(v);Ee||q.initialStylesByElement.set(v,Ee={}),this._initialStyles=Ee}start(){this._state<1&&(this._startStyles&&cn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cn(this._element,this._initialStyles),this._endStyles&&(cn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(q.initialStylesByElement.delete(this._element),this._startStyles&&(bn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bn(this._element,this._endStyles),this._endStyles=null),cn(this._element,this._initialStyles),this._state=3)}}return q.initialStylesByElement=new WeakMap,q})();function k(q){let _=null;const v=Object.keys(q);for(let P=0;P<v.length;P++){const X=v[P];M(X)&&(_=_||{},_[X]=q[X])}return _}function M(q){return"display"===q||"position"===q}class ne{constructor(_,v,P,X){this.element=_,this.keyframes=v,this.options=P,this._specialStyles=X,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(_,v,P){return _.animate(v,P)}onStart(_){this._onStartFns.push(_)}onDone(_){this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _={};if(this.hasStarted()){const v=this._finalKeyframe;Object.keys(v).forEach(P=>{"offset"!=P&&(_[P]=this._finished?v[P]:_n(this.element,P))})}this.currentSnapshot=_}triggerCallback(_){const v="start"==_?this._onStartFns:this._onDoneFns;v.forEach(P=>P()),v.length=0}}class Bt{validateStyleProperty(_){return dn(_)}matchesElement(_,v){return!1}containsElement(_,v){return bt(_,v)}getParentElement(_){return we(_)}query(_,v,P){return Me(_,v,P)}computeStyle(_,v,P){return window.getComputedStyle(_)[v]}animate(_,v,P,X,Ee,We=[]){const Ct={duration:P,delay:X,fill:0==X?"both":"forwards"};Ee&&(Ct.easing=Ee);const Kt={},In=We.filter(Gn=>Gn instanceof ne);(function Qe(q,_){return 0===q||0===_})(P,X)&&In.forEach(Gn=>{let oi=Gn.currentSnapshot;Object.keys(oi).forEach(Fn=>Kt[Fn]=oi[Fn])}),v=function Nt(q,_,v){const P=Object.keys(v);if(P.length&&_.length){let Ee=_[0],We=[];if(P.forEach(Ze=>{Ee.hasOwnProperty(Ze)||We.push(Ze),Ee[Ze]=v[Ze]}),We.length)for(var X=1;X<_.length;X++){let Ze=_[X];We.forEach(function(Ct){Ze[Ct]=_n(q,Ct)})}}return _}(_,v=v.map(Gn=>ie(Gn,!1)),Kt);const Pn=function zi(q,_){let v=null,P=null;return Array.isArray(_)&&_.length?(v=k(_[0]),_.length>1&&(P=k(_[_.length-1]))):_&&(v=k(_)),v||P?new j(q,v,P):null}(_,v);return new ne(_,v,Ct,Pn)}}var Dn=w(9808);let vi=(()=>{class q extends S._j{constructor(v,P){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(P.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(v){const P=this._nextAnimationId.toString();this._nextAnimationId++;const X=Array.isArray(v)?(0,S.vP)(v):v;return ds(this._renderer,null,P,"register",[X]),new Vr(P,this._renderer)}}return q.\u0275fac=function(v){return new(v||q)(h.LFG(h.FYo),h.LFG(Dn.K0))},q.\u0275prov=h.Yz7({token:q,factory:q.\u0275fac}),q})();class Vr extends S.LC{constructor(_,v){super(),this._id=_,this._renderer=v}create(_,v){return new mo(this._id,_,v||{},this._renderer)}}class mo{constructor(_,v,P,X){this.id=_,this.element=v,this._renderer=X,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",P)}_listen(_,v){return this._renderer.listen(this.element,`@@${this.id}:${_}`,v)}_command(_,...v){return ds(this._renderer,this.element,this.id,_,v)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){var _,v;return null!==(v=null===(_=this._renderer.engine.players[+this.id])||void 0===_?void 0:_.getPosition())&&void 0!==v?v:0}}function ds(q,_,v,P,X){return q.setProperty(_,`@@${v}:${P}`,X)}const _i="@.disabled";let zo=(()=>{class q{constructor(v,P,X){this.delegate=v,this.engine=P,this._zone=X,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),P.onRemovalComplete=(Ee,We)=>{const Ze=null==We?void 0:We.parentNode(Ee);Ze&&We.removeChild(Ze,Ee)}}createRenderer(v,P){const Ee=this.delegate.createRenderer(v,P);if(!(v&&P&&P.data&&P.data.animation)){let In=this._rendererCache.get(Ee);return In||(In=new nr("",Ee,this.engine),this._rendererCache.set(Ee,In)),In}const We=P.id,Ze=P.id+"-"+this._currentId;this._currentId++,this.engine.register(Ze,v);const Ct=In=>{Array.isArray(In)?In.forEach(Ct):this.engine.registerTrigger(We,Ze,v,In.name,In)};return P.data.animation.forEach(Ct),new Wo(this,Ze,Ee,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,P,X){v>=0&&v<this._microtaskId?this._zone.run(()=>P(X)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ee=>{const[We,Ze]=Ee;We(Ze)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([P,X]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return q.\u0275fac=function(v){return new(v||q)(h.LFG(h.FYo),h.LFG(wi),h.LFG(h.R0b))},q.\u0275prov=h.Yz7({token:q,factory:q.\u0275fac}),q})();class nr{constructor(_,v,P){this.namespaceId=_,this.delegate=v,this.engine=P,this.destroyNode=this.delegate.destroyNode?X=>v.destroyNode(X):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(_,v){return this.delegate.createElement(_,v)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,v){this.delegate.appendChild(_,v),this.engine.onInsert(this.namespaceId,v,_,!1)}insertBefore(_,v,P,X=!0){this.delegate.insertBefore(_,v,P),this.engine.onInsert(this.namespaceId,v,_,X)}removeChild(_,v,P){this.engine.onRemove(this.namespaceId,v,this.delegate,P)}selectRootElement(_,v){return this.delegate.selectRootElement(_,v)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,v,P,X){this.delegate.setAttribute(_,v,P,X)}removeAttribute(_,v,P){this.delegate.removeAttribute(_,v,P)}addClass(_,v){this.delegate.addClass(_,v)}removeClass(_,v){this.delegate.removeClass(_,v)}setStyle(_,v,P,X){this.delegate.setStyle(_,v,P,X)}removeStyle(_,v,P){this.delegate.removeStyle(_,v,P)}setProperty(_,v,P){"@"==v.charAt(0)&&v==_i?this.disableAnimations(_,!!P):this.delegate.setProperty(_,v,P)}setValue(_,v){this.delegate.setValue(_,v)}listen(_,v,P){return this.delegate.listen(_,v,P)}disableAnimations(_,v){this.engine.disableAnimations(_,v)}}class Wo extends nr{constructor(_,v,P,X){super(v,P,X),this.factory=_,this.namespaceId=v}setProperty(_,v,P){"@"==v.charAt(0)?"."==v.charAt(1)&&v==_i?this.disableAnimations(_,P=void 0===P||!!P):this.engine.process(this.namespaceId,_,v.substr(1),P):this.delegate.setProperty(_,v,P)}listen(_,v,P){if("@"==v.charAt(0)){const X=function go(q){switch(q){case"body":return document.body;case"document":return document;case"window":return window;default:return q}}(_);let Ee=v.substr(1),We="";return"@"!=Ee.charAt(0)&&([Ee,We]=function Ds(q){const _=q.indexOf(".");return[q.substring(0,_),q.substr(_+1)]}(Ee)),this.engine.listen(this.namespaceId,X,Ee,We,Ze=>{this.factory.scheduleListenerCallback(Ze._data||-1,P,Ze)})}return this.delegate.listen(_,v,P)}}let To=(()=>{class q extends wi{constructor(v,P,X){super(v.body,P,X)}ngOnDestroy(){this.flush()}}return q.\u0275fac=function(v){return new(v||q)(h.LFG(Dn.K0),h.LFG(Ut),h.LFG(ks))},q.\u0275prov=h.Yz7({token:q,factory:q.\u0275fac}),q})();const sa=new h.OlP("AnimationModuleType"),to=[{provide:S._j,useClass:vi},{provide:ks,useFactory:function Da(){return new fo}},{provide:wi,useClass:To},{provide:h.FYo,useFactory:function cl(q,_,v){return new zo(q,_,v)},deps:[C.se,wi,h.R0b]}],no=[{provide:Ut,useFactory:()=>new Bt},{provide:sa,useValue:"BrowserAnimations"},...to],fr=[{provide:Ut,useClass:xt},{provide:sa,useValue:"NoopAnimations"},...to];let Ls=(()=>{class q{static withConfig(v){return{ngModule:q,providers:v.disableAnimations?fr:no}}}return q.\u0275fac=function(v){return new(v||q)},q.\u0275mod=h.oAB({type:q}),q.\u0275inj=h.cJS({providers:no,imports:[C.b2]}),q})()},2313:(Yt,Ge,w)=>{w.d(Ge,{b2:()=>fn,H7:()=>en,q6:()=>pt,se:()=>_t});var h=w(9808),C=w(5e3);class S extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends S{static makeCurrent(){(0,h.HT)(new ae)}onAndCancel(Ye,Re,ct){return Ye.addEventListener(Re,ct,!1),()=>{Ye.removeEventListener(Re,ct,!1)}}dispatchEvent(Ye,Re){Ye.dispatchEvent(Re)}remove(Ye){Ye.parentNode&&Ye.parentNode.removeChild(Ye)}createElement(Ye,Re){return(Re=Re||this.getDefaultDocument()).createElement(Ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ye){return Ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ye){return Ye instanceof DocumentFragment}getGlobalEventTarget(Ye,Re){return"window"===Re?window:"document"===Re?Ye:"body"===Re?Ye.body:null}getBaseHref(Ye){const Re=function ye(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==Re?null:function ge(vt){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",vt);const Ye=Pe.pathname;return"/"===Ye.charAt(0)?Ye:`/${Ye}`}(Re)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ye){return(0,h.Mx)(document.cookie,Ye)}}let Pe,pe=null;const se=new C.OlP("TRANSITION_ID"),me=[{provide:C.ip1,useFactory:function re(vt,Ye,Re){return()=>{Re.get(C.CZH).donePromise.then(()=>{const ct=(0,h.q)(),zt=Ye.querySelectorAll(`style[ng-transition="${vt}"]`);for(let Et=0;Et<zt.length;Et++)ct.remove(zt[Et])})}},deps:[se,h.K0,C.zs3],multi:!0}];class Ce{static init(){(0,C.VLi)(new Ce)}addToWindow(Ye){C.dqk.getAngularTestability=(ct,zt=!0)=>{const Et=Ye.findTestabilityInTree(ct,zt);if(null==Et)throw new Error("Could not find testability for element.");return Et},C.dqk.getAllAngularTestabilities=()=>Ye.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>Ye.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(ct=>{const zt=C.dqk.getAllAngularTestabilities();let Et=zt.length,Ae=!1;const fe=function(Qe){Ae=Ae||Qe,Et--,0==Et&&ct(Ae)};zt.forEach(function(Qe){Qe.whenStable(fe)})})}findTestabilityInTree(Ye,Re,ct){if(null==Re)return null;const zt=Ye.getTestability(Re);return null!=zt?zt:ct?(0,h.q)().isShadowRoot(Re)?this.findTestabilityInTree(Ye,Re.host,!0):this.findTestabilityInTree(Ye,Re.parentElement,!0):null}}let je=(()=>{class vt{build(){return new XMLHttpRequest}}return vt.\u0275fac=function(Re){return new(Re||vt)},vt.\u0275prov=C.Yz7({token:vt,factory:vt.\u0275fac}),vt})();const ke=new C.OlP("EventManagerPlugins");let Fe=(()=>{class vt{constructor(Re,ct){this._zone=ct,this._eventNameToPlugin=new Map,Re.forEach(zt=>zt.manager=this),this._plugins=Re.slice().reverse()}addEventListener(Re,ct,zt){return this._findPluginFor(ct).addEventListener(Re,ct,zt)}addGlobalEventListener(Re,ct,zt){return this._findPluginFor(ct).addGlobalEventListener(Re,ct,zt)}getZone(){return this._zone}_findPluginFor(Re){const ct=this._eventNameToPlugin.get(Re);if(ct)return ct;const zt=this._plugins;for(let Et=0;Et<zt.length;Et++){const Ae=zt[Et];if(Ae.supports(Re))return this._eventNameToPlugin.set(Re,Ae),Ae}throw new Error(`No event manager plugin found for event ${Re}`)}}return vt.\u0275fac=function(Re){return new(Re||vt)(C.LFG(ke),C.LFG(C.R0b))},vt.\u0275prov=C.Yz7({token:vt,factory:vt.\u0275fac}),vt})();class it{constructor(Ye){this._doc=Ye}addGlobalEventListener(Ye,Re,ct){const zt=(0,h.q)().getGlobalEventTarget(this._doc,Ye);if(!zt)throw new Error(`Unsupported event target ${zt} for event ${Re}`);return this.addEventListener(zt,Re,ct)}}let Be=(()=>{class vt{constructor(){this._stylesSet=new Set}addStyles(Re){const ct=new Set;Re.forEach(zt=>{this._stylesSet.has(zt)||(this._stylesSet.add(zt),ct.add(zt))}),this.onStylesAdded(ct)}onStylesAdded(Re){}getAllStyles(){return Array.from(this._stylesSet)}}return vt.\u0275fac=function(Re){return new(Re||vt)},vt.\u0275prov=C.Yz7({token:vt,factory:vt.\u0275fac}),vt})(),et=(()=>{class vt extends Be{constructor(Re){super(),this._doc=Re,this._hostNodes=new Map,this._hostNodes.set(Re.head,[])}_addStylesToHost(Re,ct,zt){Re.forEach(Et=>{const Ae=this._doc.createElement("style");Ae.textContent=Et,zt.push(ct.appendChild(Ae))})}addHost(Re){const ct=[];this._addStylesToHost(this._stylesSet,Re,ct),this._hostNodes.set(Re,ct)}removeHost(Re){const ct=this._hostNodes.get(Re);ct&&ct.forEach(Ie),this._hostNodes.delete(Re)}onStylesAdded(Re){this._hostNodes.forEach((ct,zt)=>{this._addStylesToHost(Re,zt,ct)})}ngOnDestroy(){this._hostNodes.forEach(Re=>Re.forEach(Ie))}}return vt.\u0275fac=function(Re){return new(Re||vt)(C.LFG(h.K0))},vt.\u0275prov=C.Yz7({token:vt,factory:vt.\u0275fac}),vt})();function Ie(vt){(0,h.q)().remove(vt)}const Ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tt=/%COMP%/g;function ve(vt,Ye,Re){for(let ct=0;ct<Ye.length;ct++){let zt=Ye[ct];Array.isArray(zt)?ve(vt,zt,Re):(zt=zt.replace(tt,vt),Re.push(zt))}return Re}function qe(vt){return Ye=>{if("__ngUnwrap__"===Ye)return vt;!1===vt(Ye)&&(Ye.preventDefault(),Ye.returnValue=!1)}}let _t=(()=>{class vt{constructor(Re,ct,zt){this.eventManager=Re,this.sharedStylesHost=ct,this.appId=zt,this.rendererByCompId=new Map,this.defaultRenderer=new dt(Re)}createRenderer(Re,ct){if(!Re||!ct)return this.defaultRenderer;switch(ct.encapsulation){case C.ifc.Emulated:{let zt=this.rendererByCompId.get(ct.id);return zt||(zt=new nt(this.eventManager,this.sharedStylesHost,ct,this.appId),this.rendererByCompId.set(ct.id,zt)),zt.applyToHost(Re),zt}case 1:case C.ifc.ShadowDom:return new Ke(this.eventManager,this.sharedStylesHost,Re,ct);default:if(!this.rendererByCompId.has(ct.id)){const zt=ve(ct.id,ct.styles,[]);this.sharedStylesHost.addStyles(zt),this.rendererByCompId.set(ct.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return vt.\u0275fac=function(Re){return new(Re||vt)(C.LFG(Fe),C.LFG(et),C.LFG(C.AFp))},vt.\u0275prov=C.Yz7({token:vt,factory:vt.\u0275fac}),vt})();class dt{constructor(Ye){this.eventManager=Ye,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ye,Re){return Re?document.createElementNS(Ht[Re]||Re,Ye):document.createElement(Ye)}createComment(Ye){return document.createComment(Ye)}createText(Ye){return document.createTextNode(Ye)}appendChild(Ye,Re){Ye.appendChild(Re)}insertBefore(Ye,Re,ct){Ye&&Ye.insertBefore(Re,ct)}removeChild(Ye,Re){Ye&&Ye.removeChild(Re)}selectRootElement(Ye,Re){let ct="string"==typeof Ye?document.querySelector(Ye):Ye;if(!ct)throw new Error(`The selector "${Ye}" did not match any elements`);return Re||(ct.textContent=""),ct}parentNode(Ye){return Ye.parentNode}nextSibling(Ye){return Ye.nextSibling}setAttribute(Ye,Re,ct,zt){if(zt){Re=zt+":"+Re;const Et=Ht[zt];Et?Ye.setAttributeNS(Et,Re,ct):Ye.setAttribute(Re,ct)}else Ye.setAttribute(Re,ct)}removeAttribute(Ye,Re,ct){if(ct){const zt=Ht[ct];zt?Ye.removeAttributeNS(zt,Re):Ye.removeAttribute(`${ct}:${Re}`)}else Ye.removeAttribute(Re)}addClass(Ye,Re){Ye.classList.add(Re)}removeClass(Ye,Re){Ye.classList.remove(Re)}setStyle(Ye,Re,ct,zt){zt&(C.JOm.DashCase|C.JOm.Important)?Ye.style.setProperty(Re,ct,zt&C.JOm.Important?"important":""):Ye.style[Re]=ct}removeStyle(Ye,Re,ct){ct&C.JOm.DashCase?Ye.style.removeProperty(Re):Ye.style[Re]=""}setProperty(Ye,Re,ct){Ye[Re]=ct}setValue(Ye,Re){Ye.nodeValue=Re}listen(Ye,Re,ct){return"string"==typeof Ye?this.eventManager.addGlobalEventListener(Ye,Re,qe(ct)):this.eventManager.addEventListener(Ye,Re,qe(ct))}}class nt extends dt{constructor(Ye,Re,ct,zt){super(Ye),this.component=ct;const Et=ve(zt+"-"+ct.id,ct.styles,[]);Re.addStyles(Et),this.contentAttr=function Y(vt){return"_ngcontent-%COMP%".replace(tt,vt)}(zt+"-"+ct.id),this.hostAttr=function Ve(vt){return"_nghost-%COMP%".replace(tt,vt)}(zt+"-"+ct.id)}applyToHost(Ye){super.setAttribute(Ye,this.hostAttr,"")}createElement(Ye,Re){const ct=super.createElement(Ye,Re);return super.setAttribute(ct,this.contentAttr,""),ct}}class Ke extends dt{constructor(Ye,Re,ct,zt){super(Ye),this.sharedStylesHost=Re,this.hostEl=ct,this.shadowRoot=ct.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Et=ve(zt.id,zt.styles,[]);for(let Ae=0;Ae<Et.length;Ae++){const fe=document.createElement("style");fe.textContent=Et[Ae],this.shadowRoot.appendChild(fe)}}nodeOrShadowRoot(Ye){return Ye===this.hostEl?this.shadowRoot:Ye}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ye,Re){return super.appendChild(this.nodeOrShadowRoot(Ye),Re)}insertBefore(Ye,Re,ct){return super.insertBefore(this.nodeOrShadowRoot(Ye),Re,ct)}removeChild(Ye,Re){return super.removeChild(this.nodeOrShadowRoot(Ye),Re)}parentNode(Ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ye)))}}let Ue=(()=>{class vt extends it{constructor(Re){super(Re)}supports(Re){return!0}addEventListener(Re,ct,zt){return Re.addEventListener(ct,zt,!1),()=>this.removeEventListener(Re,ct,zt)}removeEventListener(Re,ct,zt){return Re.removeEventListener(ct,zt)}}return vt.\u0275fac=function(Re){return new(Re||vt)(C.LFG(h.K0))},vt.\u0275prov=C.Yz7({token:vt,factory:vt.\u0275fac}),vt})();const Dt=["alt","control","meta","shift"],ze={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},un={alt:vt=>vt.altKey,control:vt=>vt.ctrlKey,meta:vt=>vt.metaKey,shift:vt=>vt.shiftKey};let Ot=(()=>{class vt extends it{constructor(Re){super(Re)}supports(Re){return null!=vt.parseEventName(Re)}addEventListener(Re,ct,zt){const Et=vt.parseEventName(ct),Ae=vt.eventCallback(Et.fullKey,zt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(Re,Et.domEventName,Ae))}static parseEventName(Re){const ct=Re.toLowerCase().split("."),zt=ct.shift();if(0===ct.length||"keydown"!==zt&&"keyup"!==zt)return null;const Et=vt._normalizeKey(ct.pop());let Ae="";if(Dt.forEach(Qe=>{const Nt=ct.indexOf(Qe);Nt>-1&&(ct.splice(Nt,1),Ae+=Qe+".")}),Ae+=Et,0!=ct.length||0===Et.length)return null;const fe={};return fe.domEventName=zt,fe.fullKey=Ae,fe}static getEventFullKey(Re){let ct="",zt=function ut(vt){let Ye=vt.key;if(null==Ye){if(Ye=vt.keyIdentifier,null==Ye)return"Unidentified";Ye.startsWith("U+")&&(Ye=String.fromCharCode(parseInt(Ye.substring(2),16)),3===vt.location&&yt.hasOwnProperty(Ye)&&(Ye=yt[Ye]))}return ze[Ye]||Ye}(Re);return zt=zt.toLowerCase()," "===zt?zt="space":"."===zt&&(zt="dot"),Dt.forEach(Et=>{Et!=zt&&un[Et](Re)&&(ct+=Et+".")}),ct+=zt,ct}static eventCallback(Re,ct,zt){return Et=>{vt.getEventFullKey(Et)===Re&&zt.runGuarded(()=>ct(Et))}}static _normalizeKey(Re){return"esc"===Re?"escape":Re}}return vt.\u0275fac=function(Re){return new(Re||vt)(C.LFG(h.K0))},vt.\u0275prov=C.Yz7({token:vt,factory:vt.\u0275fac}),vt})();const pt=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:h.bD},{provide:C.g9A,useValue:function st(){ae.makeCurrent(),Ce.init()},multi:!0},{provide:h.K0,useFactory:function mt(){return(0,C.RDi)(document),document},deps:[]}]),tn=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function Te(){return new C.qLn},deps:[]},{provide:ke,useClass:Ue,multi:!0,deps:[h.K0,C.R0b,C.Lbi]},{provide:ke,useClass:Ot,multi:!0,deps:[h.K0]},{provide:_t,useClass:_t,deps:[Fe,et,C.AFp]},{provide:C.FYo,useExisting:_t},{provide:Be,useExisting:et},{provide:et,useClass:et,deps:[h.K0]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b]},{provide:Fe,useClass:Fe,deps:[ke,C.R0b]},{provide:h.JF,useClass:je,deps:[]}];let fn=(()=>{class vt{constructor(Re){if(Re)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Re){return{ngModule:vt,providers:[{provide:C.AFp,useValue:Re.appId},{provide:se,useExisting:C.AFp},me]}}}return vt.\u0275fac=function(Re){return new(Re||vt)(C.LFG(vt,12))},vt.\u0275mod=C.oAB({type:vt}),vt.\u0275inj=C.cJS({providers:tn,imports:[h.ez,C.hGG]}),vt})();"undefined"!=typeof window&&window;let en=(()=>{class vt{}return vt.\u0275fac=function(Re){return new(Re||vt)},vt.\u0275prov=C.Yz7({token:vt,factory:function(Re){let ct=null;return ct=Re?new(Re||vt):C.LFG(bn),ct},providedIn:"root"}),vt})(),bn=(()=>{class vt extends en{constructor(Re){super(),this._doc=Re}sanitize(Re,ct){if(null==ct)return null;switch(Re){case C.q3G.NONE:return ct;case C.q3G.HTML:return(0,C.qzn)(ct,"HTML")?(0,C.z3N)(ct):(0,C.EiD)(this._doc,String(ct)).toString();case C.q3G.STYLE:return(0,C.qzn)(ct,"Style")?(0,C.z3N)(ct):ct;case C.q3G.SCRIPT:if((0,C.qzn)(ct,"Script"))return(0,C.z3N)(ct);throw new Error("unsafe value used in a script context");case C.q3G.URL:return(0,C.yhl)(ct),(0,C.qzn)(ct,"URL")?(0,C.z3N)(ct):(0,C.mCW)(String(ct));case C.q3G.RESOURCE_URL:if((0,C.qzn)(ct,"ResourceURL"))return(0,C.z3N)(ct);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Re} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Re){return(0,C.JVY)(Re)}bypassSecurityTrustStyle(Re){return(0,C.L6k)(Re)}bypassSecurityTrustScript(Re){return(0,C.eBb)(Re)}bypassSecurityTrustUrl(Re){return(0,C.LAX)(Re)}bypassSecurityTrustResourceUrl(Re){return(0,C.pB0)(Re)}}return vt.\u0275fac=function(Re){return new(Re||vt)(C.LFG(h.K0))},vt.\u0275prov=C.Yz7({token:vt,factory:function(Re){let ct=null;return ct=Re?new Re:function cn(vt){return new bn(vt.get(h.K0))}(C.LFG(C.zs3)),ct},providedIn:"root"}),vt})()},1402:(Yt,Ge,w)=>{w.d(Ge,{gz:()=>ur,y6:()=>ls,F0:()=>Qi,rH:()=>Bs,Bz:()=>fs,lC:()=>wr});var h=w(5e3),C=w(8306),S=w(727),ae=w(4482),pe=w(5403);function ye(){return(0,ae.e)((A,D)=>{let b=null;A._refCount++;const U=(0,pe.x)(D,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(b=null);const G=A._connection,K=b;b=null,G&&(!K||G===K)&&G.unsubscribe(),D.unsubscribe()});A.subscribe(U),U.closed||(b=A.connect())})}class Pe extends C.y{constructor(D,b){super(),this.source=D,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,ae.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new S.w0;const b=this.getSubject();D.add(this.source.subscribe((0,pe.x)(b,void 0,()=>{this._teardown(),b.complete()},U=>{this._teardown(),b.error(U)},()=>this._teardown()))),D.closed&&(this._connection=null,D=S.w0.EMPTY)}return D}refCount(){return ye()(this)}}var ge=w(8996),se=w(9646),re=w(1135),me=w(9841),Ce=w(2843),je=w(6805),ke=w(7272),Fe=w(9770),it=w(515),Be=w(7579),et=w(9300);function Ie(A){return A<=0?()=>it.E:(0,ae.e)((D,b)=>{let U=[];D.subscribe((0,pe.x)(b,G=>{U.push(G),A<U.length&&U.shift()},()=>{for(const G of U)b.next(G);b.complete()},void 0,()=>{U=null}))})}var Ht=w(8068),tt=w(6590),be=w(4671),Se=w(4004),_e=w(3900),Y=w(5698),Ve=w(8675),ve=w(5026),qe=w(262),Je=w(4351),_t=w(590),dt=w(5577),kt=w(8505),At=w(8746),nt=w(8189),Ke=w(9808);class Ue{constructor(D,b){this.id=D,this.url=b}}class Dt extends Ue{constructor(D,b,U="imperative",G=null){super(D,b),this.navigationTrigger=U,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mt extends Ue{constructor(D,b,U){super(D,b),this.urlAfterRedirects=U}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ze extends Ue{constructor(D,b,U){super(D,b),this.reason=U}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yt extends Ue{constructor(D,b,U){super(D,b),this.error=U}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class un extends Ue{constructor(D,b,U,G){super(D,b),this.urlAfterRedirects=U,this.state=G}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ot extends Ue{constructor(D,b,U,G){super(D,b),this.urlAfterRedirects=U,this.state=G}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut extends Ue{constructor(D,b,U,G,K){super(D,b),this.urlAfterRedirects=U,this.state=G,this.shouldActivate=K}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class st extends Ue{constructor(D,b,U,G){super(D,b),this.urlAfterRedirects=U,this.state=G}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Te extends Ue{constructor(D,b,U,G){super(D,b),this.urlAfterRedirects=U,this.state=G}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mt{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class De{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pt{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tt{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q{constructor(D,b,U){this.routerEvent=D,this.position=b,this.anchor=U}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const we="primary";class at{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const b=this.params[D];return Array.isArray(b)?b[0]:b}return null}getAll(D){if(this.has(D)){const b=this.params[D];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function ht(A){return new at(A)}const Lt="ngNavigationCancelingError";function sn(A){const D=Error("NavigationCancelingError: "+A);return D[Lt]=!0,D}function Vt(A,D,b){const U=b.path.split("/");if(U.length>A.length||"full"===b.pathMatch&&(D.hasChildren()||U.length<A.length))return null;const G={};for(let K=0;K<U.length;K++){const xe=U[K],Xe=A[K];if(xe.startsWith(":"))G[xe.substring(1)]=Xe;else if(xe!==Xe.path)return null}return{consumed:A.slice(0,U.length),posParams:G}}function Me(A,D){const b=A?Object.keys(A):void 0,U=D?Object.keys(D):void 0;if(!b||!U||b.length!=U.length)return!1;let G;for(let K=0;K<b.length;K++)if(G=b[K],!gt(A[G],D[G]))return!1;return!0}function gt(A,D){if(Array.isArray(A)&&Array.isArray(D)){if(A.length!==D.length)return!1;const b=[...A].sort(),U=[...D].sort();return b.every((G,K)=>U[K]===G)}return A===D}function xt(A){return Array.prototype.concat.apply([],A)}function Ut(A){return A.length>0?A[A.length-1]:null}function Nn(A,D){for(const b in A)A.hasOwnProperty(b)&&D(A[b],b)}function hn(A){return(0,h.CqO)(A)?A:(0,h.QGY)(A)?(0,ge.D)(Promise.resolve(A)):(0,se.of)(A)}const fi={exact:function oe(A,D,b){if(!en(A.segments,D.segments)||!Z(A.segments,D.segments,b)||A.numberOfChildren!==D.numberOfChildren)return!1;for(const U in D.children)if(!A.children[U]||!oe(A.children[U],D.children[U],b))return!1;return!0},subset:O},yi={exact:function qi(A,D){return Me(A,D)},subset:function H(A,D){return Object.keys(D).length<=Object.keys(A).length&&Object.keys(D).every(b=>gt(A[b],D[b]))},ignored:()=>!0};function gn(A,D,b){return fi[b.paths](A.root,D.root,b.matrixParams)&&yi[b.queryParams](A.queryParams,D.queryParams)&&!("exact"===b.fragment&&A.fragment!==D.fragment)}function O(A,D,b){return F(A,D,D.segments,b)}function F(A,D,b,U){if(A.segments.length>b.length){const G=A.segments.slice(0,b.length);return!(!en(G,b)||D.hasChildren()||!Z(G,b,U))}if(A.segments.length===b.length){if(!en(A.segments,b)||!Z(A.segments,b,U))return!1;for(const G in D.children)if(!A.children[G]||!O(A.children[G],D.children[G],U))return!1;return!0}{const G=b.slice(0,A.segments.length),K=b.slice(A.segments.length);return!!(en(A.segments,G)&&Z(A.segments,G,U)&&A.children[we])&&F(A.children[we],D,K,U)}}function Z(A,D,b){return D.every((U,G)=>yi[b](A[G].parameters,U.parameters))}class le{constructor(D,b,U){this.root=D,this.queryParams=b,this.fragment=U}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}toString(){return vt.serialize(this)}}class Le{constructor(D,b){this.segments=D,this.children=b,this.parent=null,Nn(b,(U,G)=>U.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ye(this)}}class ie{constructor(D,b){this.path=D,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=ht(this.parameters)),this._parameterMap}toString(){return Nt(this)}}function en(A,D){return A.length===D.length&&A.every((b,U)=>b.path===D[U].path)}class bn{}class bi{parse(D){const b=new Si(D);return new le(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(D){const b=`/${Re(D.root,!0)}`,U=function _n(A){const D=Object.keys(A).map(b=>{const U=A[b];return Array.isArray(U)?U.map(G=>`${zt(b)}=${zt(G)}`).join("&"):`${zt(b)}=${zt(U)}`}).filter(b=>!!b);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${b}${U}${"string"==typeof D.fragment?`#${function Et(A){return encodeURI(A)}(D.fragment)}`:""}`}}const vt=new bi;function Ye(A){return A.segments.map(D=>Nt(D)).join("/")}function Re(A,D){if(!A.hasChildren())return Ye(A);if(D){const b=A.children[we]?Re(A.children[we],!1):"",U=[];return Nn(A.children,(G,K)=>{K!==we&&U.push(`${K}:${Re(G,!1)}`)}),U.length>0?`${b}(${U.join("//")})`:b}{const b=function cn(A,D){let b=[];return Nn(A.children,(U,G)=>{G===we&&(b=b.concat(D(U,G)))}),Nn(A.children,(U,G)=>{G!==we&&(b=b.concat(D(U,G)))}),b}(A,(U,G)=>G===we?[Re(A.children[we],!1)]:[`${G}:${Re(U,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[we]?`${Ye(A)}/${b[0]}`:`${Ye(A)}/(${b.join("//")})`}}function ct(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zt(A){return ct(A).replace(/%3B/gi,";")}function Ae(A){return ct(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fe(A){return decodeURIComponent(A)}function Qe(A){return fe(A.replace(/\+/g,"%20"))}function Nt(A){return`${Ae(A.path)}${function Zt(A){return Object.keys(A).map(D=>`;${Ae(D)}=${Ae(A[D])}`).join("")}(A.parameters)}`}const Rn=/^[^\/()?;=#]+/;function Ln(A){const D=A.match(Rn);return D?D[0]:""}const jn=/^[^=?&#]+/,An=/^[^&#]+/;class Si{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let U={};return this.peekStartsWith("(")&&(U=this.parseParens(!1)),(D.length>0||Object.keys(b).length>0)&&(U[we]=new Le(D,b)),U}parseSegment(){const D=Ln(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new ie(fe(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const b=Ln(this.remaining);if(!b)return;this.capture(b);let U="";if(this.consumeOptional("=")){const G=Ln(this.remaining);G&&(U=G,this.capture(U))}D[fe(b)]=fe(U)}parseQueryParam(D){const b=function nn(A){const D=A.match(jn);return D?D[0]:""}(this.remaining);if(!b)return;this.capture(b);let U="";if(this.consumeOptional("=")){const xe=function ri(A){const D=A.match(An);return D?D[0]:""}(this.remaining);xe&&(U=xe,this.capture(U))}const G=Qe(b),K=Qe(U);if(D.hasOwnProperty(G)){let xe=D[G];Array.isArray(xe)||(xe=[xe],D[G]=xe),xe.push(K)}else D[G]=K}parseParens(D){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const U=Ln(this.remaining),G=this.remaining[U.length];if("/"!==G&&")"!==G&&";"!==G)throw new Error(`Cannot parse url '${this.url}'`);let K;U.indexOf(":")>-1?(K=U.substr(0,U.indexOf(":")),this.capture(K),this.capture(":")):D&&(K=we);const xe=this.parseChildren();b[K]=1===Object.keys(xe).length?xe[we]:new Le([],xe),this.consumeOptional("//")}return b}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class Hi{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const b=this.pathFromRoot(D);return b.length>1?b[b.length-2]:null}children(D){const b=Ai(D,this._root);return b?b.children.map(U=>U.value):[]}firstChild(D){const b=Ai(D,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(D){const b=br(D,this._root);return b.length<2?[]:b[b.length-2].children.map(G=>G.value).filter(G=>G!==D)}pathFromRoot(D){return br(D,this._root).map(b=>b.value)}}function Ai(A,D){if(A===D.value)return D;for(const b of D.children){const U=Ai(A,b);if(U)return U}return null}function br(A,D){if(A===D.value)return[D];for(const b of D.children){const U=br(A,b);if(U.length)return U.unshift(D),U}return[]}class mi{constructor(D,b){this.value=D,this.children=b}toString(){return`TreeNode(${this.value})`}}function $i(A){const D={};return A&&A.children.forEach(b=>D[b.value.outlet]=b),D}class Ti extends Hi{constructor(D,b){super(D),this.snapshot=b,Fr(this,D)}toString(){return this.snapshot.toString()}}function Hn(A,D){const b=function kr(A,D){const xe=new Fi([],{},{},"",{},we,D,null,A.root,-1,{});return new Nr("",new mi(xe,[]))}(A,D),U=new re.X([new ie("",{})]),G=new re.X({}),K=new re.X({}),xe=new re.X({}),Xe=new re.X(""),$t=new ur(U,G,xe,Xe,K,we,D,b.root);return $t.snapshot=b.root,new Ti(new mi($t,[]),b)}class ur{constructor(D,b,U,G,K,xe,Xe,$t){this.url=D,this.params=b,this.queryParams=U,this.fragment=G,this.data=K,this.outlet=xe,this.component=Xe,this._futureSnapshot=$t}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(D=>ht(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(D=>ht(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _s(A,D="emptyOnly"){const b=A.pathFromRoot;let U=0;if("always"!==D)for(U=b.length-1;U>=1;){const G=b[U],K=b[U-1];if(G.routeConfig&&""===G.routeConfig.path)U--;else{if(K.component)break;U--}}return function pr(A){return A.reduce((D,b)=>({params:Object.assign(Object.assign({},D.params),b.params),data:Object.assign(Object.assign({},D.data),b.data),resolve:Object.assign(Object.assign({},D.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(U))}class Fi{constructor(D,b,U,G,K,xe,Xe,$t,Gt,pn,Bn){this.url=D,this.params=b,this.queryParams=U,this.fragment=G,this.data=K,this.outlet=xe,this.component=Xe,this.routeConfig=$t,this._urlSegment=Gt,this._lastPathIndex=pn,this._resolve=Bn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ht(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(U=>U.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nr extends Hi{constructor(D,b){super(b),this.url=D,Fr(this,b)}toString(){return dr(this._root)}}function Fr(A,D){D.value._routerState=A,D.children.forEach(b=>Fr(A,b))}function dr(A){const D=A.children.length>0?` { ${A.children.map(dr).join(", ")} } `:"";return`${A.value}${D}`}function ci(A){if(A.snapshot){const D=A.snapshot,b=A._futureSnapshot;A.snapshot=b,Me(D.queryParams,b.queryParams)||A.queryParams.next(b.queryParams),D.fragment!==b.fragment&&A.fragment.next(b.fragment),Me(D.params,b.params)||A.params.next(b.params),function bt(A,D){if(A.length!==D.length)return!1;for(let b=0;b<A.length;++b)if(!Me(A[b],D[b]))return!1;return!0}(D.url,b.url)||A.url.next(b.url),Me(D.data,b.data)||A.data.next(b.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Lr(A,D){const b=Me(A.params,D.params)&&function ot(A,D){return en(A,D)&&A.every((b,U)=>Me(b.parameters,D[U].parameters))}(A.url,D.url);return b&&!(!A.parent!=!D.parent)&&(!A.parent||Lr(A.parent,D.parent))}function Ui(A,D,b){if(b&&A.shouldReuseRoute(D.value,b.value.snapshot)){const U=b.value;U._futureSnapshot=D.value;const G=function Er(A,D,b){return D.children.map(U=>{for(const G of b.children)if(A.shouldReuseRoute(U.value,G.value.snapshot))return Ui(A,U,G);return Ui(A,U)})}(A,D,b);return new mi(U,G)}{if(A.shouldAttach(D.value)){const K=A.retrieve(D.value);if(null!==K){const xe=K.route;return xe.value._futureSnapshot=D.value,xe.children=D.children.map(Xe=>Ui(A,Xe)),xe}}const U=function Rs(A){return new ur(new re.X(A.url),new re.X(A.params),new re.X(A.queryParams),new re.X(A.fragment),new re.X(A.data),A.outlet,A.component,A)}(D.value),G=D.children.map(K=>Ui(A,K));return new mi(U,G)}}function or(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Ir(A){return"object"==typeof A&&null!=A&&A.outlets}function Ws(A,D,b,U,G){let K={};if(U&&Nn(U,(Xe,$t)=>{K[$t]=Array.isArray(Xe)?Xe.map(Gt=>`${Gt}`):`${Xe}`}),A===D)return new le(b,K,G);const xe=vs(A,D,b);return new le(xe,K,G)}function vs(A,D,b){const U={};return Nn(A.children,(G,K)=>{U[K]=G===D?b:vs(G,D,b)}),new Le(A.segments,U)}class Co{constructor(D,b,U){if(this.isAbsolute=D,this.numberOfDoubleDots=b,this.commands=U,D&&U.length>0&&or(U[0]))throw new Error("Root segment cannot have matrix parameters");const G=U.find(Ir);if(G&&G!==Ut(U))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zr{constructor(D,b,U){this.segmentGroup=D,this.processChildren=b,this.index=U}}function eo(A,D,b){if(A||(A=new Le([],{})),0===A.segments.length&&A.hasChildren())return ts(A,D,b);const U=function Ps(A,D,b){let U=0,G=D;const K={match:!1,pathIndex:0,commandIndex:0};for(;G<A.segments.length;){if(U>=b.length)return K;const xe=A.segments[G],Xe=b[U];if(Ir(Xe))break;const $t=`${Xe}`,Gt=U<b.length-1?b[U+1]:null;if(G>0&&void 0===$t)break;if($t&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!fo($t,Gt,xe))return K;U+=2}else{if(!fo($t,{},xe))return K;U++}G++}return{match:!0,pathIndex:G,commandIndex:U}}(A,D,b),G=b.slice(U.commandIndex);if(U.match&&U.pathIndex<A.segments.length){const K=new Le(A.segments.slice(0,U.pathIndex),{});return K.children[we]=new Le(A.segments.slice(U.pathIndex),A.children),ts(K,0,G)}return U.match&&0===G.length?new Le(A.segments,{}):U.match&&!A.hasChildren()?ns(A,D,b):U.match?ts(A,0,G):ns(A,D,b)}function ts(A,D,b){if(0===b.length)return new Le(A.segments,{});{const U=function xi(A){return Ir(A[0])?A[0].outlets:{[we]:A}}(b),G={};return Nn(U,(K,xe)=>{"string"==typeof K&&(K=[K]),null!==K&&(G[xe]=eo(A.children[xe],D,K))}),Nn(A.children,(K,xe)=>{void 0===U[xe]&&(G[xe]=K)}),new Le(A.segments,G)}}function ns(A,D,b){const U=A.segments.slice(0,D);let G=0;for(;G<b.length;){const K=b[G];if(Ir(K)){const $t=ks(K.outlets);return new Le(U,$t)}if(0===G&&or(b[0])){U.push(new ie(A.segments[D].path,Io(b[0]))),G++;continue}const xe=Ir(K)?K.outlets[we]:`${K}`,Xe=G<b.length-1?b[G+1]:null;xe&&Xe&&or(Xe)?(U.push(new ie(xe,Io(Xe))),G+=2):(U.push(new ie(xe,{})),G++)}return new Le(U,{})}function ks(A){const D={};return Nn(A,(b,U)=>{"string"==typeof b&&(b=[b]),null!==b&&(D[U]=ns(new Le([],{}),0,b))}),D}function Io(A){const D={};return Nn(A,(b,U)=>D[U]=`${b}`),D}function fo(A,D,b){return A==b.path&&Me(D,b.parameters)}class Ks{constructor(D,b,U,G){this.routeReuseStrategy=D,this.futureState=b,this.currState=U,this.forwardEvent=G}activate(D){const b=this.futureState._root,U=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,U,D),ci(this.futureState.root),this.activateChildRoutes(b,U,D)}deactivateChildRoutes(D,b,U){const G=$i(b);D.children.forEach(K=>{const xe=K.value.outlet;this.deactivateRoutes(K,G[xe],U),delete G[xe]}),Nn(G,(K,xe)=>{this.deactivateRouteAndItsChildren(K,U)})}deactivateRoutes(D,b,U){const G=D.value,K=b?b.value:null;if(G===K)if(G.component){const xe=U.getContext(G.outlet);xe&&this.deactivateChildRoutes(D,b,xe.children)}else this.deactivateChildRoutes(D,b,U);else K&&this.deactivateRouteAndItsChildren(b,U)}deactivateRouteAndItsChildren(D,b){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,b):this.deactivateRouteAndOutlet(D,b)}detachAndStoreRouteSubtree(D,b){const U=b.getContext(D.value.outlet),G=U&&D.value.component?U.children:b,K=$i(D);for(const xe of Object.keys(K))this.deactivateRouteAndItsChildren(K[xe],G);if(U&&U.outlet){const xe=U.outlet.detach(),Xe=U.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:xe,route:D,contexts:Xe})}}deactivateRouteAndOutlet(D,b){const U=b.getContext(D.value.outlet),G=U&&D.value.component?U.children:b,K=$i(D);for(const xe of Object.keys(K))this.deactivateRouteAndItsChildren(K[xe],G);U&&U.outlet&&(U.outlet.deactivate(),U.children.onOutletDeactivated(),U.attachRef=null,U.resolver=null,U.route=null)}activateChildRoutes(D,b,U){const G=$i(b);D.children.forEach(K=>{this.activateRoutes(K,G[K.value.outlet],U),this.forwardEvent(new Tt(K.value.snapshot))}),D.children.length&&this.forwardEvent(new tn(D.value.snapshot))}activateRoutes(D,b,U){const G=D.value,K=b?b.value:null;if(ci(G),G===K)if(G.component){const xe=U.getOrCreateContext(G.outlet);this.activateChildRoutes(D,b,xe.children)}else this.activateChildRoutes(D,b,U);else if(G.component){const xe=U.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Xe=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),xe.children.onOutletReAttached(Xe.contexts),xe.attachRef=Xe.componentRef,xe.route=Xe.route.value,xe.outlet&&xe.outlet.attach(Xe.componentRef,Xe.route.value),ci(Xe.route.value),this.activateChildRoutes(D,null,xe.children)}else{const Xe=function is(A){for(let D=A.parent;D;D=D.parent){const b=D.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(G.snapshot),$t=Xe?Xe.module.componentFactoryResolver:null;xe.attachRef=null,xe.route=G,xe.resolver=$t,xe.outlet&&xe.outlet.activateWith(G,$t),this.activateChildRoutes(D,null,xe.children)}}else this.activateChildRoutes(D,null,U)}}class Ns{constructor(D,b){this.routes=D,this.module=b}}function mr(A){return"function"==typeof A}function rs(A){return A instanceof le}const Br=Symbol("INITIAL_VALUE");function Fs(){return(0,_e.w)(A=>(0,me.a)(A.map(D=>D.pipe((0,Y.q)(1),(0,Ve.O)(Br)))).pipe((0,ve.R)((D,b)=>{let U=!1;return b.reduce((G,K,xe)=>G!==Br?G:(K===Br&&(U=!0),U||!1!==K&&xe!==b.length-1&&!rs(K)?G:K),D)},Br),(0,et.h)(D=>D!==Br),(0,Se.U)(D=>rs(D)?D:!0===D),(0,Y.q)(1)))}class Go{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ls,this.attachRef=null}}class ls{constructor(){this.contexts=new Map}onChildOutletCreated(D,b){const U=this.getOrCreateContext(D);U.outlet=b,this.contexts.set(D,U)}onChildOutletDestroyed(D){const b=this.getContext(D);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let b=this.getContext(D);return b||(b=new Go,this.contexts.set(D,b)),b}getContext(D){return this.contexts.get(D)||null}}let wr=(()=>{class A{constructor(b,U,G,K,xe){this.parentContexts=b,this.location=U,this.resolver=G,this.changeDetector=xe,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=K||we,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,U){this.activated=b,this._activatedRoute=U,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,U){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const xe=(U=U||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),Xe=this.parentContexts.getOrCreateContext(this.name).children,$t=new Es(b,Xe,this.location.injector);this.activated=this.location.createComponent(xe,this.location.length,$t),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(b){return new(b||A)(h.Y36(ls),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},A.\u0275dir=h.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),A})();class Es{constructor(D,b,U){this.route=D,this.childContexts=b,this.parent=U}get(D,b){return D===ur?this.route:D===ls?this.childContexts:this.parent.get(D,b)}}let hr=(()=>{class A{}return A.\u0275fac=function(b){return new(b||A)},A.\u0275cmp=h.Xpm({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,U){1&b&&h._UZ(0,"router-outlet")},directives:[wr],encapsulation:2}),A})();function ws(A,D=""){for(let b=0;b<A.length;b++){const U=A[b];Oi(U,Cs(D,U))}}function Oi(A,D){A.children&&ws(A.children,D)}function Cs(A,D){return D?A||D.path?A&&!D.path?`${A}/`:!A&&D.path?D.path:`${A}/${D.path}`:"":A}function Cr(A){const D=A.children&&A.children.map(Cr),b=D?Object.assign(Object.assign({},A),{children:D}):Object.assign({},A);return!b.component&&(D||b.loadChildren)&&b.outlet&&b.outlet!==we&&(b.component=hr),b}function Ri(A){return A.outlet||we}function Kr(A,D){const b=A.filter(U=>Ri(U)===D);return b.push(...A.filter(U=>Ri(U)!==D)),b}const ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gr(A,D,b){var U;if(""===D.path)return"full"===D.pathMatch&&(A.hasChildren()||b.length>0)?Object.assign({},ss):{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const K=(D.matcher||Vt)(b,A,D);if(!K)return Object.assign({},ss);const xe={};Nn(K.posParams,($t,Gt)=>{xe[Gt]=$t.path});const Xe=K.consumed.length>0?Object.assign(Object.assign({},xe),K.consumed[K.consumed.length-1].parameters):xe;return{matched:!0,consumedSegments:K.consumed,remainingSegments:b.slice(K.consumed.length),parameters:Xe,positionalParamSegments:null!==(U=K.posParams)&&void 0!==U?U:{}}}function cs(A,D,b,U,G="corrected"){if(b.length>0&&function gi(A,D,b){return b.some(U=>ee(A,D,U)&&Ri(U)!==we)}(A,b,U)){const xe=new Le(D,function us(A,D,b,U){const G={};G[we]=U,U._sourceSegment=A,U._segmentIndexShift=D.length;for(const K of b)if(""===K.path&&Ri(K)!==we){const xe=new Le([],{});xe._sourceSegment=A,xe._segmentIndexShift=D.length,G[Ri(K)]=xe}return G}(A,D,U,new Le(b,A.children)));return xe._sourceSegment=A,xe._segmentIndexShift=D.length,{segmentGroup:xe,slicedSegments:[]}}if(0===b.length&&function V(A,D,b){return b.some(U=>ee(A,D,U))}(A,b,U)){const xe=new Le(A.segments,function Zr(A,D,b,U,G,K){const xe={};for(const Xe of U)if(ee(A,b,Xe)&&!G[Ri(Xe)]){const $t=new Le([],{});$t._sourceSegment=A,$t._segmentIndexShift="legacy"===K?A.segments.length:D.length,xe[Ri(Xe)]=$t}return Object.assign(Object.assign({},G),xe)}(A,D,b,U,A.children,G));return xe._sourceSegment=A,xe._segmentIndexShift=D.length,{segmentGroup:xe,slicedSegments:b}}const K=new Le(A.segments,A.children);return K._sourceSegment=A,K._segmentIndexShift=D.length,{segmentGroup:K,slicedSegments:b}}function ee(A,D,b){return(!(A.hasChildren()||D.length>0)||"full"!==b.pathMatch)&&""===b.path}function N(A,D,b,U){return!!(Ri(A)===U||U!==we&&ee(D,b,A))&&("**"===A.path||gr(D,A,b).matched)}function ce(A,D,b){return 0===D.length&&!A.children[b]}class He{constructor(D){this.segmentGroup=D||null}}class Ft{constructor(D){this.urlTree=D}}function Wt(A){return(0,Ce._)(new He(A))}function Tn(A){return(0,Ce._)(new Ft(A))}class ui{constructor(D,b,U,G,K){this.configLoader=b,this.urlSerializer=U,this.urlTree=G,this.config=K,this.allowRedirects=!0,this.ngModule=D.get(h.h0i)}apply(){const D=cs(this.urlTree.root,[],[],this.config).segmentGroup,b=new Le(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,b,we).pipe((0,Se.U)(K=>this.createUrlTree(wi(K),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,qe.K)(K=>{if(K instanceof Ft)return this.allowRedirects=!1,this.match(K.urlTree);throw K instanceof He?this.noMatchError(K):K}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,we).pipe((0,Se.U)(G=>this.createUrlTree(wi(G),D.queryParams,D.fragment))).pipe((0,qe.K)(G=>{throw G instanceof He?this.noMatchError(G):G}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,b,U){const G=D.segments.length>0?new Le([],{[we]:D}):D;return new le(G,b,U)}expandSegmentGroup(D,b,U,G){return 0===U.segments.length&&U.hasChildren()?this.expandChildren(D,b,U).pipe((0,Se.U)(K=>new Le([],K))):this.expandSegment(D,U,b,U.segments,G,!0)}expandChildren(D,b,U){const G=[];for(const K of Object.keys(U.children))"primary"===K?G.unshift(K):G.push(K);return(0,ge.D)(G).pipe((0,Je.b)(K=>{const xe=U.children[K],Xe=Kr(b,K);return this.expandSegmentGroup(D,Xe,xe,K).pipe((0,Se.U)($t=>({segment:$t,outlet:K})))}),(0,ve.R)((K,xe)=>(K[xe.outlet]=xe.segment,K),{}),function he(A,D){const b=arguments.length>=2;return U=>U.pipe(A?(0,et.h)((G,K)=>A(G,K,U)):be.y,Ie(1),b?(0,tt.d)(D):(0,Ht.T)(()=>new je.K))}())}expandSegment(D,b,U,G,K,xe){return(0,ge.D)(U).pipe((0,Je.b)(Xe=>this.expandSegmentAgainstRoute(D,b,U,Xe,G,K,xe).pipe((0,qe.K)(Gt=>{if(Gt instanceof He)return(0,se.of)(null);throw Gt}))),(0,_t.P)(Xe=>!!Xe),(0,qe.K)((Xe,$t)=>{if(Xe instanceof je.K||"EmptyError"===Xe.name)return ce(b,G,K)?(0,se.of)(new Le([],{})):Wt(b);throw Xe}))}expandSegmentAgainstRoute(D,b,U,G,K,xe,Xe){return N(G,b,K,xe)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(D,b,G,K,xe):Xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,b,U,G,K,xe):Wt(b):Wt(b)}expandSegmentAgainstRouteUsingRedirect(D,b,U,G,K,xe){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,U,G,xe):this.expandRegularSegmentAgainstRouteUsingRedirect(D,b,U,G,K,xe)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,b,U,G){const K=this.applyRedirectCommands([],U.redirectTo,{});return U.redirectTo.startsWith("/")?Tn(K):this.lineralizeSegments(U,K).pipe((0,dt.z)(xe=>{const Xe=new Le(xe,{});return this.expandSegment(D,Xe,b,xe,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,b,U,G,K,xe){const{matched:Xe,consumedSegments:$t,remainingSegments:Gt,positionalParamSegments:pn}=gr(b,G,K);if(!Xe)return Wt(b);const Bn=this.applyRedirectCommands($t,G.redirectTo,pn);return G.redirectTo.startsWith("/")?Tn(Bn):this.lineralizeSegments(G,Bn).pipe((0,dt.z)(on=>this.expandSegment(D,b,U,on.concat(Gt),xe,!1)))}matchSegmentAgainstRoute(D,b,U,G,K){if("**"===U.path)return U.loadChildren?(U._loadedConfig?(0,se.of)(U._loadedConfig):this.configLoader.load(D.injector,U)).pipe((0,Se.U)(Bn=>(U._loadedConfig=Bn,new Le(G,{})))):(0,se.of)(new Le(G,{}));const{matched:xe,consumedSegments:Xe,remainingSegments:$t}=gr(b,U,G);return xe?this.getChildConfig(D,U,G).pipe((0,dt.z)(pn=>{const Bn=pn.module,on=pn.routes,{segmentGroup:wt,slicedSegments:Jt}=cs(b,Xe,$t,on),Ji=new Le(wt.segments,wt.children);if(0===Jt.length&&Ji.hasChildren())return this.expandChildren(Bn,on,Ji).pipe((0,Se.U)(Nl=>new Le(Xe,Nl)));if(0===on.length&&0===Jt.length)return(0,se.of)(new Le(Xe,{}));const ma=Ri(U)===K;return this.expandSegment(Bn,Ji,on,Jt,ma?we:K,!0).pipe((0,Se.U)(xo=>new Le(Xe.concat(xo.segments),xo.children)))})):Wt(b)}getChildConfig(D,b,U){return b.children?(0,se.of)(new Ns(b.children,D)):b.loadChildren?void 0!==b._loadedConfig?(0,se.of)(b._loadedConfig):this.runCanLoadGuards(D.injector,b,U).pipe((0,dt.z)(G=>G?this.configLoader.load(D.injector,b).pipe((0,Se.U)(K=>(b._loadedConfig=K,K))):function pi(A){return(0,Ce._)(sn(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))}(b))):(0,se.of)(new Ns([],D))}runCanLoadGuards(D,b,U){const G=b.canLoad;if(!G||0===G.length)return(0,se.of)(!0);const K=G.map(xe=>{const Xe=D.get(xe);let $t;if(function $o(A){return A&&mr(A.canLoad)}(Xe))$t=Xe.canLoad(b,U);else{if(!mr(Xe))throw new Error("Invalid CanLoad guard");$t=Xe(b,U)}return hn($t)});return(0,se.of)(K).pipe(Fs(),(0,kt.b)(xe=>{if(!rs(xe))return;const Xe=sn(`Redirecting to "${this.urlSerializer.serialize(xe)}"`);throw Xe.url=xe,Xe}),(0,Se.U)(xe=>!0===xe))}lineralizeSegments(D,b){let U=[],G=b.root;for(;;){if(U=U.concat(G.segments),0===G.numberOfChildren)return(0,se.of)(U);if(G.numberOfChildren>1||!G.children[we])return(0,Ce._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D.redirectTo}'`));G=G.children[we]}}applyRedirectCommands(D,b,U){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),D,U)}applyRedirectCreatreUrlTree(D,b,U,G){const K=this.createSegmentGroup(D,b.root,U,G);return new le(K,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(D,b){const U={};return Nn(D,(G,K)=>{if("string"==typeof G&&G.startsWith(":")){const Xe=G.substring(1);U[K]=b[Xe]}else U[K]=G}),U}createSegmentGroup(D,b,U,G){const K=this.createSegments(D,b.segments,U,G);let xe={};return Nn(b.children,(Xe,$t)=>{xe[$t]=this.createSegmentGroup(D,Xe,U,G)}),new Le(K,xe)}createSegments(D,b,U,G){return b.map(K=>K.path.startsWith(":")?this.findPosParam(D,K,G):this.findOrReturn(K,U))}findPosParam(D,b,U){const G=U[b.path.substring(1)];if(!G)throw new Error(`Cannot redirect to '${D}'. Cannot find '${b.path}'.`);return G}findOrReturn(D,b){let U=0;for(const G of b){if(G.path===D.path)return b.splice(U),G;U++}return D}}function wi(A){const D={};for(const U of Object.keys(A.children)){const K=wi(A.children[U]);(K.segments.length>0||K.hasChildren())&&(D[U]=K)}return function Yi(A){if(1===A.numberOfChildren&&A.children[we]){const D=A.children[we];return new Le(A.segments.concat(D.segments),D.children)}return A}(new Le(A.segments,D))}class j{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class k{constructor(D,b){this.component=D,this.route=b}}function M(A,D,b){const U=A._root;return vi(U,D?D._root:null,b,[U.value])}function Bt(A,D,b){const U=function Dn(A){if(!A)return null;for(let D=A.parent;D;D=D.parent){const b=D.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(D);return(U?U.module.injector:b).get(A)}function vi(A,D,b,U,G={canDeactivateChecks:[],canActivateChecks:[]}){const K=$i(D);return A.children.forEach(xe=>{(function Vr(A,D,b,U,G={canDeactivateChecks:[],canActivateChecks:[]}){const K=A.value,xe=D?D.value:null,Xe=b?b.getContext(A.value.outlet):null;if(xe&&K.routeConfig===xe.routeConfig){const $t=function mo(A,D,b){if("function"==typeof b)return b(A,D);switch(b){case"pathParamsChange":return!en(A.url,D.url);case"pathParamsOrQueryParamsChange":return!en(A.url,D.url)||!Me(A.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lr(A,D)||!Me(A.queryParams,D.queryParams);default:return!Lr(A,D)}}(xe,K,K.routeConfig.runGuardsAndResolvers);$t?G.canActivateChecks.push(new j(U)):(K.data=xe.data,K._resolvedData=xe._resolvedData),vi(A,D,K.component?Xe?Xe.children:null:b,U,G),$t&&Xe&&Xe.outlet&&Xe.outlet.isActivated&&G.canDeactivateChecks.push(new k(Xe.outlet.component,xe))}else xe&&ds(D,Xe,G),G.canActivateChecks.push(new j(U)),vi(A,null,K.component?Xe?Xe.children:null:b,U,G)})(xe,K[xe.value.outlet],b,U.concat([xe.value]),G),delete K[xe.value.outlet]}),Nn(K,(xe,Xe)=>ds(xe,b.getContext(Xe),G)),G}function ds(A,D,b){const U=$i(A),G=A.value;Nn(U,(K,xe)=>{ds(K,G.component?D?D.children.getContext(xe):null:D,b)}),b.canDeactivateChecks.push(new k(G.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,G))}class Da{}function cl(A){return new C.y(D=>D.error(A))}class to{constructor(D,b,U,G,K,xe){this.rootComponentType=D,this.config=b,this.urlTree=U,this.url=G,this.paramsInheritanceStrategy=K,this.relativeLinkResolution=xe}recognize(){const D=cs(this.urlTree.root,[],[],this.config.filter(xe=>void 0===xe.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,D,we);if(null===b)return null;const U=new Fi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},we,this.rootComponentType,null,this.urlTree.root,-1,{}),G=new mi(U,b),K=new Nr(this.url,G);return this.inheritParamsAndData(K._root),K}inheritParamsAndData(D){const b=D.value,U=_s(b,this.paramsInheritanceStrategy);b.params=Object.freeze(U.params),b.data=Object.freeze(U.data),D.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(D,b,U){return 0===b.segments.length&&b.hasChildren()?this.processChildren(D,b):this.processSegment(D,b,b.segments,U)}processChildren(D,b){const U=[];for(const K of Object.keys(b.children)){const xe=b.children[K],Xe=Kr(D,K),$t=this.processSegmentGroup(Xe,xe,K);if(null===$t)return null;U.push(...$t)}const G=Ko(U);return function no(A){A.sort((D,b)=>D.value.outlet===we?-1:b.value.outlet===we?1:D.value.outlet.localeCompare(b.value.outlet))}(G),G}processSegment(D,b,U,G){for(const K of D){const xe=this.processSegmentAgainstRoute(K,b,U,G);if(null!==xe)return xe}return ce(b,U,G)?[]:null}processSegmentAgainstRoute(D,b,U,G){if(D.redirectTo||!N(D,b,U,G))return null;let K,xe=[],Xe=[];if("**"===D.path){const wt=U.length>0?Ut(U).parameters:{};K=new Fi(U,wt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,P(D),Ri(D),D.component,D,_(b),v(b)+U.length,X(D))}else{const wt=gr(b,D,U);if(!wt.matched)return null;xe=wt.consumedSegments,Xe=wt.remainingSegments,K=new Fi(xe,wt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,P(D),Ri(D),D.component,D,_(b),v(b)+xe.length,X(D))}const $t=function fr(A){return A.children?A.children:A.loadChildren?A._loadedConfig.routes:[]}(D),{segmentGroup:Gt,slicedSegments:pn}=cs(b,xe,Xe,$t.filter(wt=>void 0===wt.redirectTo),this.relativeLinkResolution);if(0===pn.length&&Gt.hasChildren()){const wt=this.processChildren($t,Gt);return null===wt?null:[new mi(K,wt)]}if(0===$t.length&&0===pn.length)return[new mi(K,[])];const Bn=Ri(D)===G,on=this.processSegment($t,Gt,pn,Bn?we:G);return null===on?null:[new mi(K,on)]}}function Ls(A){const D=A.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function Ko(A){const D=[],b=new Set;for(const U of A){if(!Ls(U)){D.push(U);continue}const G=D.find(K=>U.value.routeConfig===K.value.routeConfig);void 0!==G?(G.children.push(...U.children),b.add(G)):D.push(U)}for(const U of b){const G=Ko(U.children);D.push(new mi(U.value,G))}return D.filter(U=>!b.has(U))}function _(A){let D=A;for(;D._sourceSegment;)D=D._sourceSegment;return D}function v(A){let D=A,b=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,b+=D._segmentIndexShift?D._segmentIndexShift:0;return b-1}function P(A){return A.data||{}}function X(A){return A.resolve||{}}function Kt(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function Pn(A){return(0,_e.w)(D=>{const b=A(D);return b?(0,ge.D)(b).pipe((0,Se.U)(()=>D)):(0,se.of)(D)})}class Fn extends class oi{shouldDetach(D){return!1}store(D,b){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,b){return D.routeConfig===b.routeConfig}}{}const Kn=new h.OlP("ROUTES");class Pi{constructor(D,b,U,G){this.injector=D,this.compiler=b,this.onLoadStartListener=U,this.onLoadEndListener=G}load(D,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const G=this.loadModuleFactory(b.loadChildren).pipe((0,Se.U)(K=>{this.onLoadEndListener&&this.onLoadEndListener(b);const xe=K.create(D);return new Ns(xt(xe.injector.get(Kn,void 0,h.XFs.Self|h.XFs.Optional)).map(Cr),xe)}),(0,qe.K)(K=>{throw b._loader$=void 0,K}));return b._loader$=new Pe(G,()=>new Be.x).pipe(ye()),b._loader$}loadModuleFactory(D){return hn(D()).pipe((0,dt.z)(b=>b instanceof h.YKP?(0,se.of)(b):(0,ge.D)(this.compiler.compileModuleAsync(b))))}}class ir{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,b){return D}}function Ur(A){throw A}function Ci(A,D,b){return D.parse("/")}function Or(A,D){return(0,se.of)(null)}const Li={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qi=(()=>{class A{constructor(b,U,G,K,xe,Xe,$t){this.rootComponentType=b,this.urlSerializer=U,this.rootContexts=G,this.location=K,this.config=$t,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Be.x,this.errorHandler=Ur,this.malformedUriErrorHandler=Ci,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Or,afterPreactivation:Or},this.urlHandlingStrategy=new ir,this.routeReuseStrategy=new Fn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=xe.get(h.h0i),this.console=xe.get(h.c2e);const Bn=xe.get(h.R0b);this.isNgZoneEnabled=Bn instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig($t),this.currentUrlTree=function hi(){return new le(new Le([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Pi(xe,Xe,on=>this.triggerEvent(new mt(on)),on=>this.triggerEvent(new De(on))),this.routerState=Hn(this.currentUrlTree,this.rootComponentType),this.transitions=new re.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const U=this.events;return b.pipe((0,et.h)(G=>0!==G.id),(0,Se.U)(G=>Object.assign(Object.assign({},G),{extractedUrl:this.urlHandlingStrategy.extract(G.rawUrl)})),(0,_e.w)(G=>{let K=!1,xe=!1;return(0,se.of)(G).pipe((0,kt.b)(Xe=>{this.currentNavigation={id:Xe.id,initialUrl:Xe.currentRawUrl,extractedUrl:Xe.extractedUrl,trigger:Xe.source,extras:Xe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,_e.w)(Xe=>{const $t=this.browserUrlTree.toString(),Gt=!this.navigated||Xe.extractedUrl.toString()!==$t||$t!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Gt)&&this.urlHandlingStrategy.shouldProcessUrl(Xe.rawUrl))return io(Xe.source)&&(this.browserUrlTree=Xe.extractedUrl),(0,se.of)(Xe).pipe((0,_e.w)(Bn=>{const on=this.transitions.getValue();return U.next(new Dt(Bn.id,this.serializeUrl(Bn.extractedUrl),Bn.source,Bn.restoredState)),on!==this.transitions.getValue()?it.E:Promise.resolve(Bn)}),function zi(A,D,b,U){return(0,_e.w)(G=>function si(A,D,b,U,G){return new ui(A,D,b,U,G).apply()}(A,D,b,G.extractedUrl,U).pipe((0,Se.U)(K=>Object.assign(Object.assign({},G),{urlAfterRedirects:K}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,kt.b)(Bn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Bn.urlAfterRedirects})}),function Ee(A,D,b,U,G){return(0,dt.z)(K=>function sa(A,D,b,U,G="emptyOnly",K="legacy"){try{const xe=new to(A,D,b,U,G,K).recognize();return null===xe?cl(new Da):(0,se.of)(xe)}catch(xe){return cl(xe)}}(A,D,K.urlAfterRedirects,b(K.urlAfterRedirects),U,G).pipe((0,Se.U)(xe=>Object.assign(Object.assign({},K),{targetSnapshot:xe}))))}(this.rootComponentType,this.config,Bn=>this.serializeUrl(Bn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,kt.b)(Bn=>{if("eager"===this.urlUpdateStrategy){if(!Bn.extras.skipLocationChange){const wt=this.urlHandlingStrategy.merge(Bn.urlAfterRedirects,Bn.rawUrl);this.setBrowserUrl(wt,Bn)}this.browserUrlTree=Bn.urlAfterRedirects}const on=new un(Bn.id,this.serializeUrl(Bn.extractedUrl),this.serializeUrl(Bn.urlAfterRedirects),Bn.targetSnapshot);U.next(on)}));if(Gt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:on,extractedUrl:wt,source:Jt,restoredState:Ji,extras:ma}=Xe,ga=new Dt(on,this.serializeUrl(wt),Jt,Ji);U.next(ga);const xo=Hn(wt,this.rootComponentType).snapshot;return(0,se.of)(Object.assign(Object.assign({},Xe),{targetSnapshot:xo,urlAfterRedirects:wt,extras:Object.assign(Object.assign({},ma),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Xe.rawUrl,Xe.resolve(null),it.E}),Pn(Xe=>{const{targetSnapshot:$t,id:Gt,extractedUrl:pn,rawUrl:Bn,extras:{skipLocationChange:on,replaceUrl:wt}}=Xe;return this.hooks.beforePreactivation($t,{navigationId:Gt,appliedUrlTree:pn,rawUrlTree:Bn,skipLocationChange:!!on,replaceUrl:!!wt})}),(0,kt.b)(Xe=>{const $t=new Ot(Xe.id,this.serializeUrl(Xe.extractedUrl),this.serializeUrl(Xe.urlAfterRedirects),Xe.targetSnapshot);this.triggerEvent($t)}),(0,Se.U)(Xe=>Object.assign(Object.assign({},Xe),{guards:M(Xe.targetSnapshot,Xe.currentSnapshot,this.rootContexts)})),function rn(A,D){return(0,dt.z)(b=>{const{targetSnapshot:U,currentSnapshot:G,guards:{canActivateChecks:K,canDeactivateChecks:xe}}=b;return 0===xe.length&&0===K.length?(0,se.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function _i(A,D,b,U){return(0,ge.D)(A).pipe((0,dt.z)(G=>function To(A,D,b,U,G){const K=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,se.of)(!0);const xe=K.map(Xe=>{const $t=Bt(Xe,D,G);let Gt;if(function xr(A){return A&&mr(A.canDeactivate)}($t))Gt=hn($t.canDeactivate(A,D,b,U));else{if(!mr($t))throw new Error("Invalid CanDeactivate guard");Gt=hn($t(A,D,b,U))}return Gt.pipe((0,_t.P)())});return(0,se.of)(xe).pipe(Fs())}(G.component,G.route,b,D,U)),(0,_t.P)(G=>!0!==G,!0))}(xe,U,G,A).pipe((0,dt.z)(Xe=>Xe&&function bs(A){return"boolean"==typeof A}(Xe)?function zo(A,D,b,U){return(0,ge.D)(D).pipe((0,Je.b)(G=>(0,ke.z)(function Wo(A,D){return null!==A&&D&&D(new pt(A)),(0,se.of)(!0)}(G.route.parent,U),function nr(A,D){return null!==A&&D&&D(new fn(A)),(0,se.of)(!0)}(G.route,U),function Ds(A,D,b){const U=D[D.length-1],K=D.slice(0,D.length-1).reverse().map(xe=>function ne(A){const D=A.routeConfig?A.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:A,guards:D}:null}(xe)).filter(xe=>null!==xe).map(xe=>(0,Fe.P)(()=>{const Xe=xe.guards.map($t=>{const Gt=Bt($t,xe.node,b);let pn;if(function Wr(A){return A&&mr(A.canActivateChild)}(Gt))pn=hn(Gt.canActivateChild(U,A));else{if(!mr(Gt))throw new Error("Invalid CanActivateChild guard");pn=hn(Gt(U,A))}return pn.pipe((0,_t.P)())});return(0,se.of)(Xe).pipe(Fs())}));return(0,se.of)(K).pipe(Fs())}(A,G.path,b),function go(A,D,b){const U=D.routeConfig?D.routeConfig.canActivate:null;if(!U||0===U.length)return(0,se.of)(!0);const G=U.map(K=>(0,Fe.P)(()=>{const xe=Bt(K,D,b);let Xe;if(function ar(A){return A&&mr(A.canActivate)}(xe))Xe=hn(xe.canActivate(D,A));else{if(!mr(xe))throw new Error("Invalid CanActivate guard");Xe=hn(xe(D,A))}return Xe.pipe((0,_t.P)())}));return(0,se.of)(G).pipe(Fs())}(A,G.route,b))),(0,_t.P)(G=>!0!==G,!0))}(U,K,A,D):(0,se.of)(Xe)),(0,Se.U)(Xe=>Object.assign(Object.assign({},b),{guardsResult:Xe})))})}(this.ngModule.injector,Xe=>this.triggerEvent(Xe)),(0,kt.b)(Xe=>{if(rs(Xe.guardsResult)){const Gt=sn(`Redirecting to "${this.serializeUrl(Xe.guardsResult)}"`);throw Gt.url=Xe.guardsResult,Gt}const $t=new ut(Xe.id,this.serializeUrl(Xe.extractedUrl),this.serializeUrl(Xe.urlAfterRedirects),Xe.targetSnapshot,!!Xe.guardsResult);this.triggerEvent($t)}),(0,et.h)(Xe=>!!Xe.guardsResult||(this.restoreHistory(Xe),this.cancelNavigationTransition(Xe,""),!1)),Pn(Xe=>{if(Xe.guards.canActivateChecks.length)return(0,se.of)(Xe).pipe((0,kt.b)($t=>{const Gt=new st($t.id,this.serializeUrl($t.extractedUrl),this.serializeUrl($t.urlAfterRedirects),$t.targetSnapshot);this.triggerEvent(Gt)}),(0,_e.w)($t=>{let Gt=!1;return(0,se.of)($t).pipe(function We(A,D){return(0,dt.z)(b=>{const{targetSnapshot:U,guards:{canActivateChecks:G}}=b;if(!G.length)return(0,se.of)(b);let K=0;return(0,ge.D)(G).pipe((0,Je.b)(xe=>function Ze(A,D,b,U){return function Ct(A,D,b,U){const G=Kt(A);if(0===G.length)return(0,se.of)({});const K={};return(0,ge.D)(G).pipe((0,dt.z)(xe=>function In(A,D,b,U){const G=Bt(A,D,U);return hn(G.resolve?G.resolve(D,b):G(D,b))}(A[xe],D,b,U).pipe((0,kt.b)(Xe=>{K[xe]=Xe}))),Ie(1),(0,dt.z)(()=>Kt(K).length===G.length?(0,se.of)(K):it.E))}(A._resolve,A,D,U).pipe((0,Se.U)(K=>(A._resolvedData=K,A.data=Object.assign(Object.assign({},A.data),_s(A,b).resolve),null)))}(xe.route,U,A,D)),(0,kt.b)(()=>K++),Ie(1),(0,dt.z)(xe=>K===G.length?(0,se.of)(b):it.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,kt.b)({next:()=>Gt=!0,complete:()=>{Gt||(this.restoreHistory($t),this.cancelNavigationTransition($t,"At least one route resolver didn't emit any value."))}}))}),(0,kt.b)($t=>{const Gt=new Te($t.id,this.serializeUrl($t.extractedUrl),this.serializeUrl($t.urlAfterRedirects),$t.targetSnapshot);this.triggerEvent(Gt)}))}),Pn(Xe=>{const{targetSnapshot:$t,id:Gt,extractedUrl:pn,rawUrl:Bn,extras:{skipLocationChange:on,replaceUrl:wt}}=Xe;return this.hooks.afterPreactivation($t,{navigationId:Gt,appliedUrlTree:pn,rawUrlTree:Bn,skipLocationChange:!!on,replaceUrl:!!wt})}),(0,Se.U)(Xe=>{const $t=function ys(A,D,b){const U=Ui(A,D._root,b?b._root:void 0);return new Ti(U,D)}(this.routeReuseStrategy,Xe.targetSnapshot,Xe.currentRouterState);return Object.assign(Object.assign({},Xe),{targetRouterState:$t})}),(0,kt.b)(Xe=>{this.currentUrlTree=Xe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Xe.urlAfterRedirects,Xe.rawUrl),this.routerState=Xe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Xe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Xe),this.browserUrlTree=Xe.urlAfterRedirects)}),((A,D,b)=>(0,Se.U)(U=>(new Ks(D,U.targetRouterState,U.currentRouterState,b).activate(A),U)))(this.rootContexts,this.routeReuseStrategy,Xe=>this.triggerEvent(Xe)),(0,kt.b)({next(){K=!0},complete(){K=!0}}),(0,At.x)(()=>{var Xe;K||xe||this.cancelNavigationTransition(G,`Navigation ID ${G.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Xe=this.currentNavigation)||void 0===Xe?void 0:Xe.id)===G.id&&(this.currentNavigation=null)}),(0,qe.K)(Xe=>{if(xe=!0,function dn(A){return A&&A[Lt]}(Xe)){const $t=rs(Xe.url);$t||(this.navigated=!0,this.restoreHistory(G,!0));const Gt=new ze(G.id,this.serializeUrl(G.extractedUrl),Xe.message);U.next(Gt),$t?setTimeout(()=>{const pn=this.urlHandlingStrategy.merge(Xe.url,this.rawUrlTree),Bn={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||io(G.source)};this.scheduleNavigation(pn,"imperative",null,Bn,{resolve:G.resolve,reject:G.reject,promise:G.promise})},0):G.resolve(!1)}else{this.restoreHistory(G,!0);const $t=new yt(G.id,this.serializeUrl(G.extractedUrl),Xe);U.next($t);try{G.resolve(this.errorHandler(Xe))}catch(Gt){G.reject(Gt)}}return it.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const U="popstate"===b.type?"popstate":"hashchange";"popstate"===U&&setTimeout(()=>{var G;const K={replaceUrl:!0},xe=(null===(G=b.state)||void 0===G?void 0:G.navigationId)?b.state:null;if(xe){const $t=Object.assign({},xe);delete $t.navigationId,delete $t.\u0275routerPageId,0!==Object.keys($t).length&&(K.state=$t)}const Xe=this.parseUrl(b.url);this.scheduleNavigation(Xe,U,xe,K)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){ws(b),this.config=b.map(Cr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,U={}){const{relativeTo:G,queryParams:K,fragment:xe,queryParamsHandling:Xe,preserveFragment:$t}=U,Gt=G||this.routerState.root,pn=$t?this.currentUrlTree.fragment:xe;let Bn=null;switch(Xe){case"merge":Bn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),K);break;case"preserve":Bn=this.currentUrlTree.queryParams;break;default:Bn=K||null}return null!==Bn&&(Bn=this.removeEmptyProps(Bn)),function zs(A,D,b,U,G){if(0===b.length)return Ws(D.root,D.root,D.root,U,G);const K=function er(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Co(!0,0,A);let D=0,b=!1;const U=A.reduce((G,K,xe)=>{if("object"==typeof K&&null!=K){if(K.outlets){const Xe={};return Nn(K.outlets,($t,Gt)=>{Xe[Gt]="string"==typeof $t?$t.split("/"):$t}),[...G,{outlets:Xe}]}if(K.segmentPath)return[...G,K.segmentPath]}return"string"!=typeof K?[...G,K]:0===xe?(K.split("/").forEach((Xe,$t)=>{0==$t&&"."===Xe||(0==$t&&""===Xe?b=!0:".."===Xe?D++:""!=Xe&&G.push(Xe))}),G):[...G,K]},[]);return new Co(b,D,U)}(b);if(K.toRoot())return Ws(D.root,D.root,new Le([],{}),U,G);const xe=function es(A,D,b){if(A.isAbsolute)return new zr(D.root,!0,0);if(-1===b.snapshot._lastPathIndex){const K=b.snapshot._urlSegment;return new zr(K,K===D.root,0)}const U=or(A.commands[0])?0:1;return function Do(A,D,b){let U=A,G=D,K=b;for(;K>G;){if(K-=G,U=U.parent,!U)throw new Error("Invalid number of '../'");G=U.segments.length}return new zr(U,!1,G-K)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+U,A.numberOfDoubleDots)}(K,D,A),Xe=xe.processChildren?ts(xe.segmentGroup,xe.index,K.commands):eo(xe.segmentGroup,xe.index,K.commands);return Ws(D.root,xe.segmentGroup,Xe,U,G)}(Gt,this.currentUrlTree,b,Bn,null!=pn?pn:null)}navigateByUrl(b,U={skipLocationChange:!1}){const G=rs(b)?b:this.parseUrl(b),K=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(K,"imperative",null,U)}navigate(b,U={skipLocationChange:!1}){return function So(A){for(let D=0;D<A.length;D++){const b=A[D];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${D}`)}}(b),this.navigateByUrl(this.createUrlTree(b,U),U)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let U;try{U=this.urlSerializer.parse(b)}catch(G){U=this.malformedUriErrorHandler(G,this.urlSerializer,b)}return U}isActive(b,U){let G;if(G=!0===U?Object.assign({},Li):!1===U?Object.assign({},qr):U,rs(b))return gn(this.currentUrlTree,b,G);const K=this.parseUrl(b);return gn(this.currentUrlTree,K,G)}removeEmptyProps(b){return Object.keys(b).reduce((U,G)=>{const K=b[G];return null!=K&&(U[G]=K),U},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new Mt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,U,G,K,xe){var Xe,$t;if(this.disposed)return Promise.resolve(!1);let Gt,pn,Bn;xe?(Gt=xe.resolve,pn=xe.reject,Bn=xe.promise):Bn=new Promise((Jt,Ji)=>{Gt=Jt,pn=Ji});const on=++this.navigationId;let wt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(G=this.location.getState()),wt=G&&G.\u0275routerPageId?G.\u0275routerPageId:K.replaceUrl||K.skipLocationChange?null!==(Xe=this.browserPageId)&&void 0!==Xe?Xe:0:(null!==($t=this.browserPageId)&&void 0!==$t?$t:0)+1):wt=0,this.setTransition({id:on,targetPageId:wt,source:U,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:K,resolve:Gt,reject:pn,promise:Bn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Bn.catch(Jt=>Promise.reject(Jt))}setBrowserUrl(b,U){const G=this.urlSerializer.serialize(b),K=Object.assign(Object.assign({},U.extras.state),this.generateNgRouterState(U.id,U.targetPageId));this.location.isCurrentPathEqualTo(G)||U.extras.replaceUrl?this.location.replaceState(G,"",K):this.location.go(G,"",K)}restoreHistory(b,U=!1){var G,K;if("computed"===this.canceledNavigationResolution){const xe=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(G=this.currentNavigation)||void 0===G?void 0:G.finalUrl)||0===xe?this.currentUrlTree===(null===(K=this.currentNavigation)||void 0===K?void 0:K.finalUrl)&&0===xe&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(xe)}else"replace"===this.canceledNavigationResolution&&(U&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,U){const G=new ze(b.id,this.serializeUrl(b.extractedUrl),U);this.triggerEvent(G),b.resolve(!1)}generateNgRouterState(b,U){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:U}:{navigationId:b}}}return A.\u0275fac=function(b){h.$Z()},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();function io(A){return"imperative"!==A}let Bs=(()=>{class A{constructor(b,U,G,K,xe){this.router=b,this.route=U,this.tabIndexAttribute=G,this.renderer=K,this.el=xe,this.commands=null,this.onChanges=new Be.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const U=this.renderer,G=this.el.nativeElement;null!==b?U.setAttribute(G,"tabindex",b):U.removeAttribute(G,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const b={skipLocationChange:Yr(this.skipLocationChange),replaceUrl:Yr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Yr(this.preserveFragment)})}}return A.\u0275fac=function(b){return new(b||A)(h.Y36(Qi),h.Y36(ur),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},A.\u0275dir=h.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,U){1&b&&h.NdJ("click",function(){return U.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),A})();function Yr(A){return""===A||!!A}class Mn{}class Wn{preload(D,b){return(0,se.of)(null)}}let ai=(()=>{class A{constructor(b,U,G,K){this.router=b,this.injector=G,this.preloadingStrategy=K,this.loader=new Pi(G,U,$t=>b.triggerEvent(new mt($t)),$t=>b.triggerEvent(new De($t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.h)(b=>b instanceof Mt),(0,Je.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(h.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,U){const G=[];for(const K of U)if(K.loadChildren&&!K.canLoad&&K._loadedConfig){const xe=K._loadedConfig;G.push(this.processRoutes(xe.module,xe.routes))}else K.loadChildren&&!K.canLoad?G.push(this.preloadConfig(b,K)):K.children&&G.push(this.processRoutes(b,K.children));return(0,ge.D)(G).pipe((0,nt.J)(),(0,Se.U)(K=>{}))}preloadConfig(b,U){return this.preloadingStrategy.preload(U,()=>(U._loadedConfig?(0,se.of)(U._loadedConfig):this.loader.load(b.injector,U)).pipe((0,dt.z)(K=>(U._loadedConfig=K,this.processRoutes(K.module,K.routes)))))}}return A.\u0275fac=function(b){return new(b||A)(h.LFG(Qi),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Mn))},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})(),Bi=(()=>{class A{constructor(b,U,G={}){this.router=b,this.viewportScroller=U,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Dt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Mt&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Q&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,U){this.router.triggerEvent(new Q(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,U))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(b){h.$Z()},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();const rr=new h.OlP("ROUTER_CONFIGURATION"),os=new h.OlP("ROUTER_FORROOT_GUARD"),ki=[Ke.Ye,{provide:bn,useClass:bi},{provide:Qi,useFactory:function pa(A,D,b,U,G,K,xe={},Xe,$t){const Gt=new Qi(null,A,D,b,U,G,xt(K));return Xe&&(Gt.urlHandlingStrategy=Xe),$t&&(Gt.routeReuseStrategy=$t),function Vs(A,D){A.errorHandler&&(D.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(D.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(D.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(D.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(D.urlUpdateStrategy=A.urlUpdateStrategy),A.canceledNavigationResolution&&(D.canceledNavigationResolution=A.canceledNavigationResolution)}(xe,Gt),xe.enableTracing&&Gt.events.subscribe(pn=>{var Bn,on;null===(Bn=console.group)||void 0===Bn||Bn.call(console,`Router Event: ${pn.constructor.name}`),console.log(pn.toString()),console.log(pn),null===(on=console.groupEnd)||void 0===on||on.call(console)}),Gt},deps:[bn,ls,Ke.Ye,h.zs3,h.Sil,Kn,rr,[class tr{},new h.FiY],[class Gn{},new h.FiY]]},ls,{provide:ur,useFactory:function ul(A){return A.routerState.root},deps:[Qi]},ai,Wn,class Cn{preload(D,b){return b().pipe((0,qe.K)(()=>(0,se.of)(null)))}},{provide:rr,useValue:{enableTracing:!1}}];function Zo(){return new h.PXZ("Router",Qi)}let fs=(()=>{class A{constructor(b,U){}static forRoot(b,U){return{ngModule:A,providers:[ki,Ts(b),{provide:os,useFactory:Wi,deps:[[Qi,new h.FiY,new h.tp0]]},{provide:rr,useValue:U||{}},{provide:Ke.S$,useFactory:Ao,deps:[Ke.lw,[new h.tBr(Ke.mr),new h.FiY],rr]},{provide:Bi,useFactory:Qr,deps:[Qi,Ke.EM,rr]},{provide:Mn,useExisting:U&&U.preloadingStrategy?U.preloadingStrategy:Wn},{provide:h.PXZ,multi:!0,useFactory:Zo},[Ha,{provide:h.ip1,multi:!0,useFactory:so,deps:[Ha]},{provide:Xi,useFactory:dl,deps:[Ha]},{provide:h.tb,multi:!0,useExisting:Xi}]]}}static forChild(b){return{ngModule:A,providers:[Ts(b)]}}}return A.\u0275fac=function(b){return new(b||A)(h.LFG(os,8),h.LFG(Qi,8))},A.\u0275mod=h.oAB({type:A}),A.\u0275inj=h.cJS({}),A})();function Qr(A,D,b){return b.scrollOffset&&D.setOffset(b.scrollOffset),new Bi(A,D,b)}function Ao(A,D,b={}){return b.useHash?new Ke.Do(A,D):new Ke.b0(A,D)}function Wi(A){return"guarded"}function Ts(A){return[{provide:h.deG,multi:!0,useValue:A},{provide:Kn,multi:!0,useValue:A}]}let Ha=(()=>{class A{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Be.x}appInitializer(){return this.injector.get(Ke.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let U=null;const G=new Promise(Xe=>U=Xe),K=this.injector.get(Qi),xe=this.injector.get(rr);return"disabled"===xe.initialNavigation?(K.setUpLocationChangeListener(),U(!0)):"enabled"===xe.initialNavigation||"enabledBlocking"===xe.initialNavigation?(K.hooks.afterPreactivation=()=>this.initNavigation?(0,se.of)(null):(this.initNavigation=!0,U(!0),this.resultOfPreactivationDone),K.initialNavigation()):U(!0),G})}bootstrapListener(b){const U=this.injector.get(rr),G=this.injector.get(ai),K=this.injector.get(Bi),xe=this.injector.get(Qi),Xe=this.injector.get(h.z2F);b===Xe.components[0]&&(("enabledNonBlocking"===U.initialNavigation||void 0===U.initialNavigation)&&xe.initialNavigation(),G.setUpPreloading(),K.init(),xe.resetRootComponentType(Xe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(b){return new(b||A)(h.LFG(h.zs3))},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();function so(A){return A.appInitializer.bind(A)}function dl(A){return A.bootstrapListener.bind(A)}const Xi=new h.OlP("Router Initializer")},3942:(Yt,Ge,w)=>{w.d(Ge,{Z:()=>Fe});var h=w(2090),C=w(4859),S=w(9681),ae=w(1877);class pe{constructor(Be,et){this._delegate=Be,this.firebase=et,(0,S._addComponent)(Be,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,S.deleteApp)(this._delegate)))}_getService(Be,et=S._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const Ht=this._delegate.container.getProvider(Be);return!Ht.isInitialized()&&"EXPLICIT"===(null===(Ie=Ht.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&Ht.initialize(),Ht.getImmediate({identifier:et})}_removeServiceInstance(Be,et=S._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(et)}_addComponent(Be){(0,S._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,S._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function se(){const it=function ge(it){const Be={},et={__esModule:!0,initializeApp:function tt(_e,Y={}){const Ve=S.initializeApp(_e,Y);if((0,h.r3)(Be,Ve.name))return Be[Ve.name];const ve=new it(Ve,et);return Be[Ve.name]=ve,ve},app:Ht,registerVersion:S.registerVersion,setLogLevel:S.setLogLevel,onLog:S.onLog,apps:null,SDK_VERSION:S.SDK_VERSION,INTERNAL:{registerComponent:function he(_e){const Y=_e.name,Ve=Y.replace("-compat","");if(S._registerComponent(_e)&&"PUBLIC"===_e.type){const ve=(qe=Ht())=>{if("function"!=typeof qe[Ve])throw Pe.create("invalid-app-argument",{appName:Y});return qe[Ve]()};void 0!==_e.serviceProps&&(0,h.ZB)(ve,_e.serviceProps),et[Ve]=ve,it.prototype[Ve]=function(...qe){return this._getService.bind(this,Y).apply(this,_e.multipleInstances?qe:[])}}return"PUBLIC"===_e.type?et[Ve]:null},removeApp:function Ie(_e){delete Be[_e]},useAsService:function Se(_e,Y){return"serverAuth"===Y?null:Y},modularAPIs:S}};function Ht(_e){if(!(0,h.r3)(Be,_e=_e||S._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:_e});return Be[_e]}return et.default=et,Object.defineProperty(et,"apps",{get:function be(){return Object.keys(Be).map(_e=>Be[_e])}}),Ht.App=it,et}(pe);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function Be(et){(0,h.ZB)(it,et)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),it}(),me=new ae.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=re;!function ke(it){(0,S.registerVersion)("@firebase/app-compat","0.1.33",it)}()},9681:(Yt,Ge,w)=>{w.r(Ge),w.d(Ge,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>pt,_DEFAULT_ENTRY_NAME:()=>Ke,_addComponent:()=>ze,_addOrOverwriteComponent:()=>yt,_apps:()=>Dt,_clearComponents:()=>st,_components:()=>Mt,_getProvider:()=>Ot,_registerComponent:()=>un,_removeServiceInstance:()=>ut,deleteApp:()=>Q,getApp:()=>fn,getApps:()=>Tt,initializeApp:()=>tn,onLog:()=>ht,registerVersion:()=>at,setLogLevel:()=>Lt});var h=w(5861),C=w(4859),S=w(1877),ae=w(2090),pe=w(8766);class ye{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(Z=>{if(function Pe(O){const F=O.getComponent();return"VERSION"===(null==F?void 0:F.type)}(Z)){const le=Z.getImmediate();return`${le.library}/${le.version}`}return null}).filter(Z=>Z).join(" ")}}const ge="@firebase/app",re=new S.Yd("@firebase/app"),Ke="[DEFAULT]",Ue={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dt=new Map,Mt=new Map;function ze(O,F){try{O.container.addComponent(F)}catch(Z){re.debug(`Component ${F.name} failed to register with FirebaseApp ${O.name}`,Z)}}function yt(O,F){O.container.addOrOverwriteComponent(F)}function un(O){const F=O.name;if(Mt.has(F))return re.debug(`There were multiple attempts to register component ${F}.`),!1;Mt.set(F,O);for(const Z of Dt.values())ze(Z,O);return!0}function Ot(O,F){const Z=O.container.getProvider("heartbeat").getImmediate({optional:!0});return Z&&Z.triggerHeartbeat(),O.container.getProvider(F)}function ut(O,F,Z=Ke){Ot(O,F).clearInstance(Z)}function st(){Mt.clear()}const mt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class De{constructor(F,Z,le){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},Z),this._name=Z.name,this._automaticDataCollectionEnabled=Z.automaticDataCollectionEnabled,this._container=le,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}const pt="9.9.4";function tn(O,F={}){"object"!=typeof F&&(F={name:F});const Z=Object.assign({name:Ke,automaticDataCollectionEnabled:!1},F),le=Z.name;if("string"!=typeof le||!le)throw mt.create("bad-app-name",{appName:String(le)});const Le=Dt.get(le);if(Le){if((0,ae.vZ)(O,Le.options)&&(0,ae.vZ)(Z,Le.config))return Le;throw mt.create("duplicate-app",{appName:le})}const ie=new C.H0(le);for(const en of Mt.values())ie.addComponent(en);const ot=new De(O,Z,ie);return Dt.set(le,ot),ot}function fn(O=Ke){const F=Dt.get(O);if(!F)throw mt.create("no-app",{appName:O});return F}function Tt(){return Array.from(Dt.values())}function Q(O){return we.apply(this,arguments)}function we(){return(we=(0,h.Z)(function*(O){const F=O.name;Dt.has(F)&&(Dt.delete(F),yield Promise.all(O.container.getProviders().map(Z=>Z.delete())),O.isDeleted=!0)})).apply(this,arguments)}function at(O,F,Z){var le;let Le=null!==(le=Ue[O])&&void 0!==le?le:O;Z&&(Le+=`-${Z}`);const ie=Le.match(/\s|\//),ot=F.match(/\s|\//);if(ie||ot){const en=[`Unable to register library "${Le}" with version "${F}":`];return ie&&en.push(`library name "${Le}" contains illegal characters (whitespace or "/")`),ie&&ot&&en.push("and"),ot&&en.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void re.warn(en.join(" "))}un(new C.wA(`${Le}-version`,()=>({library:Le,version:F}),"VERSION"))}function ht(O,F){if(null!==O&&"function"!=typeof O)throw mt.create("invalid-log-argument");(0,S.Am)(O,F)}function Lt(O){(0,S.Ub)(O)}const Vt="firebase-heartbeat-store";let bt=null;function Me(){return bt||(bt=(0,pe.X3)("firebase-heartbeat-database",1,{upgrade:(O,F)=>{0===F&&O.createObjectStore(Vt)}}).catch(O=>{throw mt.create("idb-open",{originalErrorMessage:O.message})})),bt}function xt(){return(xt=(0,h.Z)(function*(O){var F;try{return(yield Me()).transaction(Vt).objectStore(Vt).get(Nn(O))}catch(Z){if(Z instanceof ae.ZR)re.warn(Z.message);else{const le=mt.create("idb-get",{originalErrorMessage:null===(F=Z)||void 0===F?void 0:F.message});re.warn(le.message)}}})).apply(this,arguments)}function Ut(O,F){return xn.apply(this,arguments)}function xn(){return(xn=(0,h.Z)(function*(O,F){var Z;try{const Le=(yield Me()).transaction(Vt,"readwrite");return yield Le.objectStore(Vt).put(F,Nn(O)),Le.done}catch(le){if(le instanceof ae.ZR)re.warn(le.message);else{const Le=mt.create("idb-set",{originalErrorMessage:null===(Z=le)||void 0===Z?void 0:Z.message});re.warn(Le.message)}}})).apply(this,arguments)}function Nn(O){return`${O.name}!${O.options.appId}`}class fi{constructor(F){this.container=F,this._heartbeatsCache=null;const Z=this.container.getProvider("app").getImmediate();this._storage=new qi(Z),this._heartbeatsCachePromise=this._storage.read().then(le=>(this._heartbeatsCache=le,le))}triggerHeartbeat(){var F=this;return(0,h.Z)(function*(){const le=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Le=yi();if(null===F._heartbeatsCache&&(F._heartbeatsCache=yield F._heartbeatsCachePromise),F._heartbeatsCache.lastSentHeartbeatDate!==Le&&!F._heartbeatsCache.heartbeats.some(ie=>ie.date===Le))return F._heartbeatsCache.heartbeats.push({date:Le,agent:le}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(ie=>{const ot=new Date(ie.date).valueOf();return Date.now()-ot<=2592e6}),F._storage.overwrite(F._heartbeatsCache)})()}getHeartbeatsHeader(){var F=this;return(0,h.Z)(function*(){if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null===F._heartbeatsCache||0===F._heartbeatsCache.heartbeats.length)return"";const Z=yi(),{heartbeatsToSend:le,unsentEntries:Le}=function gn(O,F=1024){const Z=[];let le=O.slice();for(const Le of O){const ie=Z.find(ot=>ot.agent===Le.agent);if(ie){if(ie.dates.push(Le.date),oe(Z)>F){ie.dates.pop();break}}else if(Z.push({agent:Le.agent,dates:[Le.date]}),oe(Z)>F){Z.pop();break}le=le.slice(1)}return{heartbeatsToSend:Z,unsentEntries:le}}(F._heartbeatsCache.heartbeats),ie=(0,ae.L)(JSON.stringify({version:2,heartbeats:le}));return F._heartbeatsCache.lastSentHeartbeatDate=Z,Le.length>0?(F._heartbeatsCache.heartbeats=Le,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),ie})()}}function yi(){return(new Date).toISOString().substring(0,10)}class qi{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,h.Z)(function*(){return(yield F._canUseIndexedDBPromise)&&(yield function gt(O){return xt.apply(this,arguments)}(F.app))||{heartbeats:[]}})()}overwrite(F){var Z=this;return(0,h.Z)(function*(){var le;if(yield Z._canUseIndexedDBPromise){const ie=yield Z.read();return Ut(Z.app,{lastSentHeartbeatDate:null!==(le=F.lastSentHeartbeatDate)&&void 0!==le?le:ie.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var Z=this;return(0,h.Z)(function*(){var le;if(yield Z._canUseIndexedDBPromise){const ie=yield Z.read();return Ut(Z.app,{lastSentHeartbeatDate:null!==(le=F.lastSentHeartbeatDate)&&void 0!==le?le:ie.lastSentHeartbeatDate,heartbeats:[...ie.heartbeats,...F.heartbeats]})}})()}}function oe(O){return(0,ae.L)(JSON.stringify({version:2,heartbeats:O})).length}!function H(O){un(new C.wA("platform-logger",F=>new ye(F),"PRIVATE")),un(new C.wA("heartbeat",F=>new fi(F),"PRIVATE")),at(ge,"0.7.32",O),at(ge,"0.7.32","esm2017"),at("fire-js","")}("")},4859:(Yt,Ge,w)=>{w.d(Ge,{wA:()=>S,H0:()=>ge});var h=w(5861),C=w(2090);class S{constructor(re,me,Ce){this.name=re,this.instanceFactory=me,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ae="[DEFAULT]";class pe{constructor(re,me){this.name=re,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const me=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(me)){const Ce=new C.BH;if(this.instancesDeferred.set(me,Ce),this.isInitialized(me)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:me});je&&Ce.resolve(je)}catch(je){}}return this.instancesDeferred.get(me).promise}getImmediate(re){var me;const Ce=this.normalizeInstanceIdentifier(null==re?void 0:re.identifier),je=null!==(me=null==re?void 0:re.optional)&&void 0!==me&&me;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(ke){if(je)return null;throw ke}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Pe(se){return"EAGER"===se.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(me){}for(const[me,Ce]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(me);try{const ke=this.getOrInitializeService({instanceIdentifier:je});Ce.resolve(ke)}catch(ke){}}}}clearInstance(re=ae){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,h.Z)(function*(){const me=Array.from(re.instances.values());yield Promise.all([...me.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...me.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ae){return this.instances.has(re)}getOptions(re=ae){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:me={}}=re,Ce=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Ce,options:me});for(const[ke,Fe]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(ke)&&Fe.resolve(je);return je}onInit(re,me){var Ce;const je=this.normalizeInstanceIdentifier(me),ke=null!==(Ce=this.onInitCallbacks.get(je))&&void 0!==Ce?Ce:new Set;ke.add(re),this.onInitCallbacks.set(je,ke);const Fe=this.instances.get(je);return Fe&&re(Fe,je),()=>{ke.delete(re)}}invokeOnInitCallbacks(re,me){const Ce=this.onInitCallbacks.get(me);if(Ce)for(const je of Ce)try{je(re,me)}catch(ke){}}getOrInitializeService({instanceIdentifier:re,options:me={}}){let Ce=this.instances.get(re);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(se=re,se===ae?void 0:se),options:me}),this.instances.set(re,Ce),this.instancesOptions.set(re,me),this.invokeOnInitCallbacks(Ce,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Ce)}catch(je){}var se;return Ce||null}normalizeInstanceIdentifier(re=ae){return this.component?this.component.multipleInstances?re:ae:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const me=this.getProvider(re.name);if(me.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);me.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const me=new pe(re,this);return this.providers.set(re,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(Yt,Ge,w)=>{w.d(Ge,{in:()=>C,Yd:()=>Pe,Ub:()=>ge,Am:()=>se});const h=[];var C=(()=>{return(re=C||(C={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",C;var re})();const S={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},ae=C.INFO,pe={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},ye=(re,me,...Ce)=>{if(me<re.logLevel)return;const je=(new Date).toISOString(),ke=pe[me];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[ke](`[${je}]  ${re.name}:`,...Ce)};class Pe{constructor(me){this.name=me,this._logLevel=ae,this._logHandler=ye,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in C))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?S[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...me),this._logHandler(this,C.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...me),this._logHandler(this,C.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,C.INFO,...me),this._logHandler(this,C.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,C.WARN,...me),this._logHandler(this,C.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...me),this._logHandler(this,C.ERROR,...me)}}function ge(re){h.forEach(me=>{me.setLogLevel(re)})}function se(re,me){for(const Ce of h){let je=null;me&&me.level&&(je=S[me.level]),Ce.userLogHandler=null===re?null:(ke,Fe,...it)=>{const Be=it.map(et=>{if(null==et)return null;if("string"==typeof et)return et;if("number"==typeof et||"boolean"==typeof et)return et.toString();if(et instanceof Error)return et.message;try{return JSON.stringify(et)}catch(Ie){return null}}).filter(et=>et).join(" ");Fe>=(null!=je?je:ke.logLevel)&&re({level:C[Fe].toLowerCase(),message:Be,args:it,type:ke.name})}}}},8766:(Yt,Ge,w)=>{w.d(Ge,{Lj:()=>tt,X3:()=>Ht});var h=w(5861);let S,ae;const Pe=new WeakMap,ge=new WeakMap,se=new WeakMap,re=new WeakMap,me=new WeakMap;let ke={get(Y,Ve,ve){if(Y instanceof IDBTransaction){if("done"===Ve)return ge.get(Y);if("objectStoreNames"===Ve)return Y.objectStoreNames||se.get(Y);if("store"===Ve)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return et(Y[Ve])},set:(Y,Ve,ve)=>(Y[Ve]=ve,!0),has:(Y,Ve)=>Y instanceof IDBTransaction&&("done"===Ve||"store"===Ve)||Ve in Y};function Be(Y){return"function"==typeof Y?function it(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...Ve){return Y.apply(Ie(this),Ve),et(Pe.get(this))}:function(...Ve){return et(Y.apply(Ie(this),Ve))}:function(Ve,...ve){const qe=Y.call(Ie(this),Ve,...ve);return se.set(qe,Ve.sort?Ve.sort():[Ve]),et(qe)}}(Y):(Y instanceof IDBTransaction&&function je(Y){if(ge.has(Y))return;const Ve=new Promise((ve,qe)=>{const Je=()=>{Y.removeEventListener("complete",_t),Y.removeEventListener("error",dt),Y.removeEventListener("abort",dt)},_t=()=>{ve(),Je()},dt=()=>{qe(Y.error||new DOMException("AbortError","AbortError")),Je()};Y.addEventListener("complete",_t),Y.addEventListener("error",dt),Y.addEventListener("abort",dt)});ge.set(Y,Ve)}(Y),((Y,Ve)=>Ve.some(ve=>Y instanceof ve))(Y,function pe(){return S||(S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,ke):Y)}function et(Y){if(Y instanceof IDBRequest)return function Ce(Y){const Ve=new Promise((ve,qe)=>{const Je=()=>{Y.removeEventListener("success",_t),Y.removeEventListener("error",dt)},_t=()=>{ve(et(Y.result)),Je()},dt=()=>{qe(Y.error),Je()};Y.addEventListener("success",_t),Y.addEventListener("error",dt)});return Ve.then(ve=>{ve instanceof IDBCursor&&Pe.set(ve,Y)}).catch(()=>{}),me.set(Ve,Y),Ve}(Y);if(re.has(Y))return re.get(Y);const Ve=Be(Y);return Ve!==Y&&(re.set(Y,Ve),me.set(Ve,Y)),Ve}const Ie=Y=>me.get(Y);function Ht(Y,Ve,{blocked:ve,upgrade:qe,blocking:Je,terminated:_t}={}){const dt=indexedDB.open(Y,Ve),kt=et(dt);return qe&&dt.addEventListener("upgradeneeded",At=>{qe(et(dt.result),At.oldVersion,At.newVersion,et(dt.transaction))}),ve&&dt.addEventListener("blocked",()=>ve()),kt.then(At=>{_t&&At.addEventListener("close",()=>_t()),Je&&At.addEventListener("versionchange",()=>Je())}).catch(()=>{}),kt}function tt(Y,{blocked:Ve}={}){const ve=indexedDB.deleteDatabase(Y);return Ve&&ve.addEventListener("blocked",()=>Ve()),et(ve).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],Se=new Map;function _e(Y,Ve){if(!(Y instanceof IDBDatabase)||Ve in Y||"string"!=typeof Ve)return;if(Se.get(Ve))return Se.get(Ve);const ve=Ve.replace(/FromIndex$/,""),qe=Ve!==ve,Je=he.includes(ve);if(!(ve in(qe?IDBIndex:IDBObjectStore).prototype)||!Je&&!be.includes(ve))return;const _t=function(){var dt=(0,h.Z)(function*(kt,...At){const nt=this.transaction(kt,Je?"readwrite":"readonly");let Ke=nt.store;return qe&&(Ke=Ke.index(At.shift())),(yield Promise.all([Ke[ve](...At),Je&&nt.done]))[0]});return function(At){return dt.apply(this,arguments)}}();return Se.set(Ve,_t),_t}!function Fe(Y){ke=Y(ke)}(Y=>cw(lw({},Y),{get:(Ve,ve,qe)=>_e(Ve,ve)||Y.get(Ve,ve,qe),has:(Ve,ve)=>!!_e(Ve,ve)||Y.has(Ve,ve)}))},5861:(Yt,Ge,w)=>{function h(S,ae,pe,ye,Pe,ge,se){try{var re=S[ge](se),me=re.value}catch(Ce){return void pe(Ce)}re.done?ae(me):Promise.resolve(me).then(ye,Pe)}function C(S){return function(){var ae=this,pe=arguments;return new Promise(function(ye,Pe){var ge=S.apply(ae,pe);function se(me){h(ge,ye,Pe,se,re,"next",me)}function re(me){h(ge,ye,Pe,se,re,"throw",me)}se(void 0)})}}w.d(Ge,{Z:()=>C})}},Yt=>{Yt(Yt.s=2278)}]);