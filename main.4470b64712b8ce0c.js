"use strict";var gw=Object.defineProperty,_w=Object.defineProperties,yw=Object.getOwnPropertyDescriptors,nC=Object.getOwnPropertySymbols,vw=Object.prototype.hasOwnProperty,bw=Object.prototype.propertyIsEnumerable,iC=(Gt,Ze,y)=>Ze in Gt?gw(Gt,Ze,{enumerable:!0,configurable:!0,writable:!0,value:y}):Gt[Ze]=y,rC=(Gt,Ze)=>{for(var y in Ze||(Ze={}))vw.call(Ze,y)&&iC(Gt,y,Ze[y]);if(nC)for(var y of nC(Ze))bw.call(Ze,y)&&iC(Gt,y,Ze[y]);return Gt},sC=(Gt,Ze)=>_w(Gt,yw(Ze));(self.webpackChunkfly_cuadros=self.webpackChunkfly_cuadros||[]).push([[179],{4959:(Gt,Ze,y)=>{y.d(Ze,{ST:()=>op,yb:()=>dv});var h=y(5e3),E=y(4986),g=y(8306),x=y(8996),we=y(9646),be=y(5813),Me=y(4482),pe=y(5403);function ie(){return(0,Me.e)((r,e)=>{let t,s=!1;r.subscribe((0,pe.x)(e,a=>{const d=t;t=a,s&&e.next([d,a]),s=!0}))})}var ne,q=y(8675),fe=y(4004),le=y(5026),He=y(1884),Se=y(9300),$e=y(2011),it=y(9808),rt=(y(2274),y(3942)),Ne=y(5861),Ot=y(9681),et=y(4859),Ee=y(1877),_e=y(2090),xe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},De={},Ye=Ye||{},ce=xe||self;function Ue(){}function oe(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Oe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var yt="closure_uid_"+(1e9*Math.random()>>>0),mt=0;function gt(r,e,t){return r.call.apply(r.bind,arguments)}function Ae(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Qe(r,e,t){return(Qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gt:Ae).apply(null,arguments)}function ee(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Fe(r,e){function t(){}t.prototype=e.prototype,r.Z=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(s,a,d){for(var m=Array(arguments.length-2),M=2;M<arguments.length;M++)m[M-2]=arguments[M];return e.prototype[a].apply(s,m)}}function O(){this.s=this.s,this.o=this.o}var ft={};O.prototype.s=!1,O.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function ze(r){return Object.prototype.hasOwnProperty.call(r,yt)&&r[yt]||(r[yt]=++mt)}(this);delete ft[r]}},O.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ot=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1},Dt=Array.prototype.forEach?function(r,e,t){Array.prototype.forEach.call(r,e,t)}:function(r,e,t){const s=r.length,a="string"==typeof r?r.split(""):r;for(let d=0;d<s;d++)d in a&&e.call(t,a[d],d,r)};function vt(r){return Array.prototype.concat.apply([],arguments)}function Bt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function We(r){return/^[\s\xa0]*$/.test(r)}var Bn,St=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function rn(r,e){return-1!=r.indexOf(e)}function Rn(r,e){return r<e?-1:r>e?1:0}e:{var hn=ce.navigator;if(hn){var gn=hn.userAgent;if(gn){Bn=gn;break e}}Bn=""}function ln(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function dt(r){const e={};for(const t in r)e[t]=r[t];return e}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let d=0;d<R.length;d++)t=R[d],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function K(r){return K[" "](r),r}K[" "]=Ue;var mn,r,Pe=rn(Bn,"Opera"),Xe=rn(Bn,"Trident")||rn(Bn,"MSIE"),Et=rn(Bn,"Edge"),kt=Et||Xe,Zt=rn(Bn,"Gecko")&&!(rn(Bn.toLowerCase(),"webkit")&&!rn(Bn,"Edge"))&&!(rn(Bn,"Trident")||rn(Bn,"MSIE"))&&!rn(Bn,"Edge"),an=rn(Bn.toLowerCase(),"webkit")&&!rn(Bn,"Edge");function sn(){var r=ce.document;return r?r.documentMode:void 0}e:{var yi="",jn=(r=Bn,Zt?/rv:([^\);]+)(\)|;)/.exec(r):Et?/Edge\/([\d\.]+)/.exec(r):Xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):an?/WebKit\/(\S+)/.exec(r):Pe?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(jn&&(yi=jn?jn[1]:""),Xe){var ti=sn();if(null!=ti&&ti>parseFloat(yi)){mn=String(ti);break e}}mn=yi}var on={};var j=ce.document&&Xe&&(sn()||parseInt(mn,10))||void 0,N=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ce.addEventListener("test",Ue,e),ce.removeEventListener("test",Ue,e)}catch(t){}return r}();function k(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}function ye(r,e){if(k.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Zt){e:{try{K(e.nodeName);var a=!0;break e}catch(d){}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:ke[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&ye.Z.h.call(this)}}k.prototype.h=function(){this.defaultPrevented=!0},Fe(ye,k);var ke={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),fn=0;function Cn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++fn,this.ca=this.fa=!1}function Qn(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function vn(r){this.src=r,this.g={},this.h=0}function ai(r,e){var t=e.type;if(t in r.g){var d,s=r.g[t],a=ot(s,e);(d=0<=a)&&Array.prototype.splice.call(s,a,1),d&&(Qn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function _t(r,e,t,s){for(var a=0;a<r.length;++a){var d=r[a];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==s)return a}return-1}vn.prototype.add=function(r,e,t,s,a){var d=r.toString();(r=this.g[d])||(r=this.g[d]=[],this.h++);var m=_t(r,e,s,a);return-1<m?(e=r[m],t||(e.fa=!1)):((e=new Cn(e,this.src,d,!!s,a)).fa=t,r.push(e)),e};var ct="closure_lm_"+(1e6*Math.random()|0),Ve={};function ht(r,e,t,s,a){if(s&&s.once)return Be(r,e,t,s,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)ht(r,e[d],t,s,a);return null}return t=Nn(t),r&&r[It]?r.N(e,t,Oe(s)?!!s.capture:!!s,a):Vt(r,e,t,!1,s,a)}function Vt(r,e,t,s,a,d){if(!e)throw Error("Invalid event type");var m=Oe(a)?!!a.capture:!!a,M=dn(r);if(M||(r[ct]=M=new vn(r)),(t=M.add(e,t,s,m,d)).proxy)return t;if(s=function wt(){var e=Kt;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)N||(a=m),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Nt(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Be(r,e,t,s,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Be(r,e[d],t,s,a);return null}return t=Nn(t),r&&r[It]?r.O(e,t,Oe(s)?!!s.capture:!!s,a):Vt(r,e,t,!0,s,a)}function Ie(r,e,t,s,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)Ie(r,e[d],t,s,a);else s=Oe(s)?!!s.capture:!!s,t=Nn(t),r&&r[It]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=_t(d=r.g[e],t,s,a))&&(Qn(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete r.g[e],r.h--))):r&&(r=dn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=_t(e,t,s,a)),(t=-1<r?e[r]:null)&&at(t))}function at(r){if("number"!=typeof r&&r&&!r.ca){var e=r.src;if(e&&e[It])ai(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Nt(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=dn(e))?(ai(t,r),0==t.h&&(t.src=null,e[ct]=null)):Qn(r)}}}function Nt(r){return r in Ve?Ve[r]:Ve[r]="on"+r}function Kt(r,e){if(r.ca)r=!0;else{e=new ye(e,this);var t=r.listener,s=r.ia||r.src;r.fa&&at(r),r=t.call(s,e)}return r}function dn(r){return(r=r[ct])instanceof vn?r:null}var xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nn(r){return"function"==typeof r?r:(r[xn]||(r[xn]=function(e){return r.handleEvent(e)}),r[xn])}function Un(){O.call(this),this.i=new vn(this),this.P=this,this.I=null}function Xt(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new k(e,r);else if(e instanceof k)e.target=e.target||r;else{var a=e;z(e=new k(s,r),a)}if(a=!0,t)for(var d=t.length-1;0<=d;d--){var m=e.g=t[d];a=Sn(m,s,!0,e)&&a}if(a=Sn(m=e.g=r,s,!0,e)&&a,a=Sn(m,s,!1,e)&&a,t)for(d=0;d<t.length;d++)a=Sn(m=e.g=t[d],s,!1,e)&&a}function Sn(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var m=e[d];if(m&&!m.ca&&m.capture==t){var M=m.listener,H=m.ia||m.src;m.fa&&ai(r.i,m),a=!1!==M.call(H,s)&&a}}return a&&!s.defaultPrevented}Fe(Un,O),Un.prototype[It]=!0,Un.prototype.removeEventListener=function(r,e,t,s){Ie(this,r,e,t,s)},Un.prototype.M=function(){if(Un.Z.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Qn(t[s]);delete r.g[e],r.h--}}this.I=null},Un.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Un.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var si=ce.JSON.stringify;function Ti(){var r=ur;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Di,Ai=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Er,r=>r.reset());class Er{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mi(r){ce.setTimeout(()=>{throw r},0)}function $i(r,e){Di||function Hn(){var r=ce.Promise.resolve(void 0);Di=function(){r.then(_s)}}(),kr||(Di(),kr=!0),ur.add(r,e)}var kr=!1,ur=new class Gi{constructor(){this.h=this.g=null}add(e,t){const s=Ai.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function _s(){for(var r;r=Ti();){try{r.h.call(r.g)}catch(t){mi(t)}var e=Ai;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}kr=!1}function mr(r,e){Un.call(this),this.h=r||1,this.g=e||ce,this.j=Qe(this.kb,this),this.l=Date.now()}function Li(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Nr(r,e,t){if("function"==typeof r)t&&(r=Qe(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Qe(r.handleEvent,r)}return 2147483647<Number(e)?-1:ce.setTimeout(r,e||0)}function Fr(r){r.g=Nr(()=>{r.g=null,r.i&&(r.i=!1,Fr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Fe(mr,Un),(ne=mr.prototype).da=!1,ne.S=null,ne.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xt(this,"tick"),this.da&&(Li(this),this.start()))}},ne.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ne.M=function(){mr.Z.M.call(this),Li(this),delete this.g};class dr extends O{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fr(this)}M(){super.M(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function di(r){O.call(this),this.h=r,this.g={}}Fe(di,O);var Lr=[];function ys(r,e,t,s){Array.isArray(t)||(t&&(Lr[0]=t.toString()),t=Lr);for(var a=0;a<t.length;a++){var d=ht(e,t[a],s||r.handleEvent,!1,r.h||r);if(!d)break;r.g[d.key]=d}}function Bi(r){ln(r.g,function(e,t){this.g.hasOwnProperty(t)&&at(e)},r),r.g={}}function yr(){this.g=!0}function or(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zs(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<a.length;m++)a[m]=""}}}return si(t)}catch(M){return e}}(r,t)+(s?" "+s:"")})}di.prototype.M=function(){di.Z.M.call(this),Bi(this)},di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yr.prototype.Aa=function(){this.g=!1},yr.prototype.info=function(){};var bs={},Io=null;function er(){return Io=Io||new Un}function zr(r){k.call(this,bs.Ma,r)}function es(r){const e=er();Xt(e,new zr(e,r))}function To(r,e){k.call(this,bs.STAT_EVENT,r),this.stat=e}function xi(r){const e=er();Xt(e,new To(e,r))}function to(r,e){k.call(this,bs.Na,r),this.size=e}function ts(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){r()},e)}bs.Ma="serverreachability",Fe(zr,k),bs.STAT_EVENT="statevent",Fe(To,k),bs.Na="timingevent",Fe(to,k);var ks={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ns={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ns(){}function po(){}Ns.prototype.h=null;var Fs,mo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ys(){k.call(this,"d")}function is(){k.call(this,"c")}function hr(){}function Es(r,e,t,s){this.l=r,this.j=e,this.m=t,this.X=s||1,this.V=new di(this),this.P=zo,this.W=new mr(r=kt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}Fe(Ys,k),Fe(is,k),Fe(hr,Ns),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},Fs=new hr;var zo=45e3,ar={},Wr={};function xr(r,e,t){r.K=1,r.v=Ft(gi(e)),r.s=t,r.U=!0,Br(r,null)}function Br(r,e){r.F=Date.now(),Cr(r),r.A=gi(r.v);var t=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),wn(t.h,"t",s),r.C=0,t=r.l.H,r.h=new rs,r.g=os(r.l,t?e:null,!r.s),0<r.O&&(r.L=new dr(Qe(r.Ia,r,r.g),r.O)),ys(r.V,r.g,"readystatechange",r.gb),e=r.H?dt(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),es(1),function vs(r,e,t,s,a,d){r.info(function(){if(r.g)if(d)for(var m="",M=d.split("&"),H=0;H<M.length;H++){var J=M[H].split("=");if(1<J.length){var Te=J[0];J=J[1];var tt=Te.split("_");m=2<=tt.length&&"type"==tt[1]?m+(Te+"=")+J+"&":m+(Te+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+m})}(r.j,r.u,r.A,r.m,r.X,r.s)}function Ls(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function Wo(r,e,t){let a,s=!0;for(;!r.I&&r.C<t.length;){if(a=ls(r,t),a==Wr){4==e&&(r.o=4,xi(14),s=!1),or(r.j,r.m,null,"[Incomplete Response]");break}if(a==ar){r.o=4,xi(15),or(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}or(r.j,r.m,a,null),Ds(r,a)}Ls(r)&&a!=Wr&&a!=ar&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,xi(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.aa&&(r.aa=!0,(e=r.l).g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),hs(e),e.L=!0,xi(11))):(or(r.j,r.m,t,"[Invalid Chunked Response]"),Oi(r),ws(r))}function ls(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Wr:(t=Number(e.substring(t,s)),isNaN(t)?ar:(s+=1)+t>e.length?Wr:(e=e.substr(s,t),r.C=s+t,e))}function Cr(r){r.Y=Date.now()+r.P,Cs(r,r.P)}function Cs(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ts(Qe(r.eb,r),e)}function fr(r){r.B&&(ce.clearTimeout(r.B),r.B=null)}function ws(r){0==r.l.G||r.I||Wn(r.l,r)}function Oi(r){fr(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Li(r.W),Bi(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Ds(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||nr(t.i,r)))if(t.I=r.N,!r.J&&nr(t.i,r)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(J){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=ts(Qe(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;En(t),Or(t)}so(t),xi(18)}if(1>=Ko(t.i)&&t.ka){try{t.ka()}catch(J){}t.ka=void 0}}else Ui(t,11)}else if((r.J||t.g==r)&&En(t),!We(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let J=a[e];if(t.U=J[0],J=J[1],2==t.G)if("c"==J[0]){t.J=J[1],t.la=J[2];const Te=J[3];null!=Te&&(t.ma=Te,t.h.info("VER="+t.ma));const tt=J[4];null!=tt&&(t.za=tt,t.h.info("SVER="+t.za));const xt=J[5];null!=xt&&"number"==typeof xt&&0<xt&&(t.K=s=1.5*xt,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const Wt=r.g;if(Wt){const qt=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qt){var d=s.i;!d.g&&(rn(qt,"spdy")||rn(qt,"quic")||rn(qt,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(Zo(d,d.h),d.h=null))}if(s.D){const yn=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;yn&&(s.sa=yn,Je(s.F,s.D,yn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-r.F,t.h.info("Handshake RTT: "+t.O+"ms"));var m=r;if((s=t).oa=rr(s,s.H?s.la:null,s.W),m.J){_o(s.i,m);var M=m,H=s.K;H&&M.setTimeout(H),M.B&&(fr(M),Cr(M)),s.g=m}else qr(s);0<t.l.length&&Qi(t)}else"stop"!=J[0]&&"close"!=J[0]||Ui(t,7);else 3==t.G&&("stop"==J[0]||"close"==J[0]?"stop"==J[0]?Ui(t,7):Ci(t):"noop"!=J[0]&&t.j&&t.j.wa(J),t.A=0)}es(4)}catch(J){}}function Ri(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(oe(r)||"string"==typeof r)Dt(r,e,void 0);else{if(r.T&&"function"==typeof r.T)var t=r.T();else if(r.R&&"function"==typeof r.R)t=void 0;else if(oe(r)||"string"==typeof r){t=[];for(var s=r.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,r)t[s++]=a;s=function wr(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(oe(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length;for(var d=0;d<a;d++)e.call(void 0,s[d],t&&t[d],r)}}function Kr(r,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Kr)for(t=r.T(),s=0;s<t.length;s++)this.set(t[s],r.get(t[s]));else for(s in r)this.set(s,r[s])}function ss(r){if(r.i!=r.g.length){for(var e=0,t=0;e<r.g.length;){var s=r.g[e];gr(r.h,s)&&(r.g[t++]=s),e++}r.g.length=t}if(r.i!=r.g.length){var a={};for(t=e=0;e<r.g.length;)gr(a,s=r.g[e])||(r.g[t++]=s,a[s]=1),e++;r.g.length=t}}function gr(r,e){return Object.prototype.hasOwnProperty.call(r,e)}(ne=Es.prototype).setTimeout=function(r){this.P=r},ne.gb=function(r){r=r.target;const e=this.L;e&&3==kn(r)?e.l():this.Ia(r)},ne.Ia=function(r){try{if(r==this.g)e:{const Te=kn(this.g);var e=this.g.Da();const tt=this.g.ba();if(!(3>Te)&&(3!=Te||kt||this.g&&(this.h.h||this.g.ga()||Kn(this.g)))){this.I||4!=Te||7==e||es(8==e||0>=tt?3:2),fr(this);var t=this.g.ba();this.N=t;t:if(Ls(this)){var s=Kn(this.g);r="";var a=s.length,d=4==kn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Oi(this),ws(this);var m="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:d&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==t,function Ks(r,e,t,s,a,d,m){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.X,Te,t),this.i){if(this.$&&!this.J){t:{if(this.g){var M,H=this.g;if((M=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!We(M)){var J=M;break t}}J=null}if(!(t=J)){this.i=!1,this.o=3,xi(12),Oi(this),ws(this);break e}or(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ds(this,t)}this.U?(Wo(this,Te,m),kt&&this.i&&3==Te&&(ys(this.V,this.W,"tick",this.fb),this.W.start())):(or(this.j,this.m,m,null),Ds(this,m)),4==Te&&Oi(this),this.i&&!this.I&&(4==Te?Wn(this.l,this):(this.i=!1,Cr(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),Oi(this),ws(this)}}}catch(Te){}},ne.fb=function(){if(this.g){var r=kn(this.g),e=this.g.ga();this.C<e.length&&(fr(this),Wo(this,r,e),this.i&&4!=r&&Cr(this))}},ne.cancel=function(){this.I=!0,Oi(this)},ne.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Ir(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(es(3),xi(17)),Oi(this),this.o=2,ws(this)):Cs(this,this.Y-r)},(ne=Kr.prototype).R=function(){ss(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r},ne.T=function(){return ss(this),this.g.concat()},ne.get=function(r,e){return gr(this.h,r)?this.h[r]:e},ne.set=function(r,e){gr(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e},ne.forEach=function(r,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],d=this.get(a);r.call(e,d,a,this)}};var cs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function us(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof us){this.g=void 0!==e?e:r.g,G(this,r.j),this.s=r.s,de(this,r.i),V(this,r.m),this.l=r.l,e=r.h;var t=new B;t.i=e.i,e.g&&(t.g=new Kr(e.g),t.h=e.h),ve(this,t),this.o=r.o}else r&&(t=String(r).match(cs))?(this.g=!!e,G(this,t[1]||"",!0),this.s=Gn(t[2]||""),de(this,t[3]||"",!0),V(this,t[4]),this.l=Gn(t[5]||"",!0),ve(this,t[6]||"",!0),this.o=Gn(t[7]||"")):(this.g=!!e,this.h=new B(null,this.g))}function gi(r){return new us(r)}function G(r,e,t){r.j=t?Gn(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function de(r,e,t){r.i=t?Gn(e,!0):e}function V(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ve(r,e,t){e instanceof B?(r.h=e,function Vr(r,e){e&&!r.j&&(S(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(me(this,s),wn(this,a,t))},r)),r.j=e}(r.h,r.g)):(t||(e=pi(e,Wi)),r.h=new B(e,r.g))}function Je(r,e,t){r.h.set(e,t)}function Ft(r){return Je(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Gn(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function pi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,oi),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function oi(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}us.prototype.toString=function(){var r=[],e=this.j;e&&r.push(pi(e,hi,!0),":");var t=this.i;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(pi(e,hi,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&r.push("/"),r.push(pi(t,"/"==t.charAt(0)?Ei:qi,!0))),(t=this.h.toString())&&r.push("?",t),(t=this.o)&&r.push("#",pi(t,W)),r.join("")};var hi=/[#\/\?@]/g,qi=/[#\?:]/g,Ei=/[#\?]/g,Wi=/[#\?@]/g,W=/#/g;function B(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function S(r){r.g||(r.g=new Kr,r.h=0,r.i&&function Zr(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var d=r[t].substring(0,s);a=r[t].substring(s+1)}else d=r[t];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function me(r,e){S(r),e=vi(r,e),gr(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,gr((r=r.g).h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&ss(r)))}function Lt(r,e){return S(r),e=vi(r,e),gr(r.g.h,e)}function wn(r,e,t){me(r,e),0<t.length&&(r.i=null,r.g.set(vi(r,e),Bt(t)),r.h+=t.length)}function vi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ds(r){this.l=r||Jt,r=ce.PerformanceNavigationTiming?0<(r=ce.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ce.g&&ce.g.Ea&&ce.g.Ea()&&ce.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ne=B.prototype).add=function(r,e){S(this),this.i=null,r=vi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ne.forEach=function(r,e){S(this),this.g.forEach(function(t,s){Dt(t,function(a){r.call(e,a,s,this)},this)},this)},ne.T=function(){S(this);for(var r=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=r[s],d=0;d<a.length;d++)t.push(e[s]);return t},ne.R=function(r){S(this);var e=[];if("string"==typeof r)Lt(this,r)&&(e=vt(e,this.g.get(vi(this,r))));else{r=this.g.R();for(var t=0;t<r.length;t++)e=vt(e,r[t])}return e},ne.set=function(r,e){return S(this),this.i=null,Lt(this,r=vi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ne.get=function(r,e){return r&&0<(r=this.R(r)).length?String(r[0]):e},ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var m=a;""!==s[d]&&(m+="="+encodeURIComponent(String(s[d]))),r.push(m)}}return this.i=r.join("&")};var Jt=10;function _i(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Ko(r){return r.h?1:r.g?r.g.size:0}function nr(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Zo(r,e){r.g?r.g.add(e):r.h=e}function _o(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Is(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Bt(r.i)}function So(){}function Ta(){this.g=new So}function ul(r,e,t){const s=t||"";try{Ri(r,function(a,d){let m=a;Oe(a)&&(m=si(a)),e.push(s+d+"="+encodeURIComponent(m))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function no(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(d){}}function io(r){this.l=r.$b||null,this.j=r.ib||!1}function pr(r,e){Un.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Bs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ds.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},So.prototype.stringify=function(r){return ce.JSON.stringify(r,void 0)},So.prototype.parse=function(r){return ce.JSON.parse(r,void 0)},Fe(io,Ns),io.prototype.g=function(){return new pr(this.l,this.j)},io.prototype.i=function(r){return function(){return r}}({}),Fe(pr,Un);var Bs=0;function Yo(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function re(r){r.readyState=4,r.l=null,r.j=null,r.A=null,v(r)}function v(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ne=pr.prototype).open=function(r,e){if(this.readyState!=Bs)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,v(this)},ne.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||ce).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,re(this)),this.readyState=Bs},ne.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,v(this)),this.g&&(this.readyState=3,v(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ce.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yo(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},ne.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?re(this):v(this),3==this.readyState&&Yo(this)}},ne.Ua=function(r){this.g&&(this.response=this.responseText=r,re(this))},ne.Ta=function(r){this.g&&(this.response=r,re(this))},ne.ha=function(){this.g&&re(this)},ne.setRequestHeader=function(r,e){this.v.append(r,e)},ne.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ne.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var C=ce.JSON.parse;function L(r){Un.call(this),this.headers=new Kr,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ae,this.K=this.L=!1}Fe(L,Un);var ae="",Re=/^https?$/i,nt=["POST","PUT"];function Mt(r){return"content-type"==r.toLowerCase()}function zt(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Dn(r),$n(r)}function Dn(r){r.D||(r.D=!0,Xt(r,"complete"),Xt(r,"error"))}function On(r){if(r.h&&void 0!==Ye&&(!r.C[1]||4!=kn(r)||2!=r.ba()))if(r.v&&4==kn(r))Nr(r.Fa,0,r);else if(Xt(r,"readystatechange"),4==kn(r)){r.h=!1;try{const M=r.ba();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===M){var a=String(r.H).match(cs)[1]||null;if(!a&&ce.self&&ce.self.location){var d=ce.self.location.protocol;a=d.substr(0,d.length-1)}s=!Re.test(a?a.toLowerCase():"")}t=s}if(t)Xt(r,"complete"),Xt(r,"success");else{r.m=6;try{var m=2<kn(r)?r.g.statusText:""}catch(H){m=""}r.j=m+" ["+r.ba()+"]",Dn(r)}}finally{$n(r)}}}function $n(r,e){if(r.g){li(r);const t=r.g,s=r.C[0]?Ue:null;r.g=null,r.C=null,e||Xt(r,"ready");try{t.onreadystatechange=s}catch(a){}}}function li(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(ce.clearTimeout(r.A),r.A=null)}function kn(r){return r.g?r.g.readyState:0}function Kn(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case ae:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tr(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function Pi(r){let e="";return ln(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Je(r,e,t))}function ir(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ur(r){this.za=0,this.l=[],this.h=new yr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ir("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ir("baseRetryDelayMs",5e3,r),this.$a=ir("retryDelaySeedMs",1e4,r),this.Ya=ir("forwardChannelMaxRetries",2,r),this.ra=ir("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new ds(r&&r.concurrentRequestLimit),this.Ca=new Ta,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function Ci(r){if(Vi(r),3==r.G){var e=r.V++,t=gi(r.F);Je(t,"SID",r.J),Je(t,"RID",e),Je(t,"TYPE","terminate"),Vs(r,t),(e=new Es(r,r.h,e,void 0)).K=2,e.v=Ft(gi(t)),t=!1,ce.navigator&&ce.navigator.sendBeacon&&(t=ce.navigator.sendBeacon(e.v.toString(),"")),!t&&ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=os(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Cr(e)}Ts(r)}function Or(r){r.g&&(hs(r),r.g.cancel(),r.g=null)}function Vi(r){Or(r),r.u&&(ce.clearTimeout(r.u),r.u=null),En(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ce.clearTimeout(r.m),r.m=null)}function Yr(r,e){r.l.push(new class{constructor(r,e){this.h=r,this.g=e}}(r.Za++,e)),3==r.G&&Qi(r)}function Qi(r){_i(r.i)||r.m||(r.m=!0,$i(r.Ha,r),r.C=0)}function ro(r,e){var t;t=e?e.m:r.V++;const s=gi(r.F);Je(s,"SID",r.J),Je(s,"RID",t),Je(s,"AID",r.U),Vs(r,s),r.o&&r.s&&tr(s,r.o,r.s),t=new Es(r,r.h,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.l=e.D.concat(r.l)),e=xo(r,t,1e3),t.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),Zo(r.i,t),xr(t,s,e)}function Vs(r,e){r.j&&Ri({},function(t,s){Je(e,s,t)})}function xo(r,e,t){t=Math.min(r.l.length,t);var s=r.j?Qe(r.j.Oa,r.j,r):null;e:{var a=r.l;let d=-1;for(;;){const m=["count="+t];-1==d?0<t?(d=a[0].h,m.push("ofs="+d)):d=0:m.push("ofs="+d);let M=!0;for(let H=0;H<t;H++){let J=a[H].h;const Te=a[H].g;if(J-=d,0>J)d=Math.max(0,a[H].h-100),M=!1;else try{ul(Te,m,"req"+J+"_")}catch(tt){s&&s(Te)}}if(M){s=m.join("&");break e}}}return r=r.l.splice(0,t),e.D=r,s}function qr(r){r.g||r.u||(r.Y=1,$i(r.Ga,r),r.A=0)}function so(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=ts(Qe(r.Ga,r),ci(r,r.A)),r.A++,0))}function hs(r){null!=r.B&&(ce.clearTimeout(r.B),r.B=null)}function Mn(r){r.g=new Es(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var e=gi(r.oa);Je(e,"RID","rpc"),Je(e,"SID",r.J),Je(e,"CI",r.N?"0":"1"),Je(e,"AID",r.U),Vs(r,e),Je(e,"TYPE","xmlhttp"),r.o&&r.s&&tr(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.la,t.K=1,t.v=Ft(gi(e)),t.s=null,t.U=!0,Br(t,r)}function En(r){null!=r.v&&(ce.clearTimeout(r.v),r.v=null)}function Wn(r,e){var t=null;if(r.g==e){En(r),hs(r),r.g=null;var s=2}else{if(!nr(r.i,e))return;t=e.D,_o(r.i,e),s=1}if(r.I=e.N,0!=r.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=r.C;Xt(s=er(),new to(s,t,e,a)),Qi(r)}else qr(r);else if(3==(a=e.o)||0==a&&0<r.I||!(1==s&&function Ao(r,e){return!(Ko(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=e.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=ts(Qe(r.Ha,r,e),ci(r,r.C)),r.C++,0)))}(r,e)||2==s&&so(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Ui(r,5);break;case 4:Ui(r,10);break;case 3:Ui(r,6);break;default:Ui(r,2)}}function ci(r,e){let t=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(t*=2),t*e}function Ui(r,e){if(r.h.info("Error code "+e),2==e){var t=null;r.j&&(t=null);var s=Qe(r.jb,r);t||(t=new us("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||G(t,"https"),Ft(t)),function aa(r,e){const t=new yr;if(ce.Image){const s=new Image;s.onload=ee(no,t,s,"TestLoadImage: loaded",!0,e),s.onerror=ee(no,t,s,"TestLoadImage: error",!1,e),s.onabort=ee(no,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=ee(no,t,s,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else xi(2);r.G=0,r.j&&r.j.va(e),Ts(r),Vi(r)}function Ts(r){r.G=0,r.I=-1,r.j&&((0!=Is(r.i).length||0!=r.l.length)&&(r.i.i.length=0,Bt(r.l),r.l.length=0),r.j.ua())}function rr(r,e,t){let s=function $t(r){return r instanceof us?gi(r):new us(r,void 0)}(t);if(""!=s.i)e&&de(s,e+"."+s.i),V(s,s.m);else{const a=ce.location;s=function In(r,e,t,s){var a=new us(null,void 0);return r&&G(a,r),e&&de(a,e),t&&V(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return r.aa&&ln(r.aa,function(a,d){Je(s,d,a)}),t=r.sa,(e=r.D)&&t&&Je(s,e,t),Je(s,"VER",r.ma),Vs(r,s),s}function os(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new L(t&&r.Ba&&!r.qa?new io({ib:!0}):r.qa)).L=r.H,e}function ki(){}function qo(){if(Xe&&!(10<=Number(j)))throw Error("Environmental error: no available transport.")}function fs(r,e){Un.call(this),this.g=new Ur(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!We(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!We(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ki(this)}function Qr(r){Ys.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Oo(){is.call(this),this.status=1}function Ki(r){this.g=r}(ne=L.prototype).ea=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fs.g(),this.C=function Mo(r){return r.h||(r.h=r.i())}(this.u?this.u:Fs),this.g.onreadystatechange=Qe(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(d){return void zt(this,d)}r=t||"";const a=new Kr(this.headers);s&&Ri(s,function(d,m){a.set(m,d)}),s=function Ct(r){e:{var e=Mt;const t=r.length,s="string"==typeof r?r.split(""):r;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,r)){e=a;break e}e=-1}return 0>e?null:"string"==typeof r?r.charAt(e):r[e]}(a.T()),t=ce.FormData&&r instanceof ce.FormData,!(0<=ot(nt,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(d,m){this.g.setRequestHeader(m,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{li(this),0<this.B&&((this.K=function st(r){return Xe&&function Si(){return function Z(r){var e=on;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=St(String(mn)).split("."),t=St("9").split("."),s=Math.max(e.length,t.length);for(let m=0;0==r&&m<s;m++){var a=e[m]||"",d=t[m]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==a[0].length&&0==d[0].length)break;r=Rn(0==a[1].length?0:parseInt(a[1],10),0==d[1].length?0:parseInt(d[1],10))||Rn(0==a[2].length,0==d[2].length)||Rn(a[2],d[2]),a=a[3],d=d[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qe(this.pa,this)):this.A=Nr(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(d){zt(this,d)}},ne.pa=function(){void 0!==Ye&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))},ne.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Xt(this,"complete"),Xt(this,"abort"),$n(this))},ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$n(this,!0)),L.Z.M.call(this)},ne.Fa=function(){this.s||(this.F||this.v||this.l?On(this):this.cb())},ne.cb=function(){On(this)},ne.ba=function(){try{return 2<kn(this)?this.g.status:-1}catch(r){return-1}},ne.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ne.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),C(e)}},ne.Da=function(){return this.m},ne.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ne=Ur.prototype).ma=8,ne.G=1,ne.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(e){}},ne.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const a=new Es(this,this.h,r,void 0);let d=this.s;if(this.P&&(d?(d=dt(d),z(d,this.P)):d=this.P),null===this.o&&(a.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xo(this,a,e),Je(t=gi(this.F),"RID",r),Je(t,"CVER",22),this.D&&Je(t,"X-HTTP-Session-Id",this.D),Vs(this,t),this.o&&d&&tr(t,this.o,d),Zo(this.i,a),this.Ra&&Je(t,"TYPE","init"),this.ja?(Je(t,"$req",e),Je(t,"SID","null"),a.$=!0,xr(a,t,null)):xr(a,t,e),this.G=2}}else 3==this.G&&(r?ro(this,r):0==this.l.length||_i(this.i)||ro(this))},ne.Ga=function(){if(this.u=null,Mn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=ts(Qe(this.bb,this),r)}},ne.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xi(10),Or(this),Mn(this))},ne.ab=function(){null!=this.v&&(this.v=null,Or(this),so(this),xi(19))},ne.jb=function(r){r?(this.h.info("Successfully pinged google.com"),xi(2)):(this.h.info("Failed to ping google.com"),xi(1))},(ne=ki.prototype).xa=function(){},ne.wa=function(){},ne.va=function(){},ne.ua=function(){},ne.Oa=function(){},qo.prototype.g=function(r,e){return new fs(r,e)},Fe(fs,Un),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),$i(Qe(r.hb,r,e))),xi(0),r.W=e,r.aa=t||{},r.N=r.X,r.F=rr(r,null,r.W),Qi(r)},fs.prototype.close=function(){Ci(this.g)},fs.prototype.u=function(r){if("string"==typeof r){var e={};e.__data__=r,Yr(this.g,e)}else this.v?((e={}).__data__=si(r),Yr(this.g,e)):Yr(this.g,r)},fs.prototype.M=function(){this.g.j=null,delete this.j,Ci(this.g),delete this.g,fs.Z.M.call(this)},Fe(Qr,Ys),Fe(Oo,is),Fe(Ki,ki),Ki.prototype.xa=function(){Xt(this.g,"a")},Ki.prototype.wa=function(r){Xt(this.g,new Qr(r))},Ki.prototype.va=function(r){Xt(this.g,new Oo(r))},Ki.prototype.ua=function(){Xt(this.g,"b")},qo.prototype.createWebChannel=qo.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,ns.COMPLETE="complete",po.EventType=mo,mo.OPEN="a",mo.CLOSE="b",mo.ERROR="c",mo.MESSAGE="d",Un.prototype.listen=Un.prototype.N,L.prototype.listenOnce=L.prototype.O,L.prototype.getLastError=L.prototype.La,L.prototype.getLastErrorCode=L.prototype.Da,L.prototype.getStatus=L.prototype.ba,L.prototype.getResponseJson=L.prototype.Qa,L.prototype.getResponseText=L.prototype.ga,L.prototype.send=L.prototype.ea;var Ms=De.createWebChannelTransport=function(){return new qo},ga=De.getStatEventTarget=function(){return er()},Us=De.ErrorCode=ks,dl=De.EventType=ns,$a=De.Event=bs,oo=De.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hl=De.FetchXmlHttpFactory=io,Xi=De.WebChannel=po,Ma=De.XhrIo=L;const la="@firebase/firestore";class A{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A.UNAUTHENTICATED=new A(null),A.GOOGLE_CREDENTIALS=new A("google-credentials-uid"),A.FIRST_PARTY=new A("first-party-uid"),A.MOCK_USER=new A("mock-user");let I="9.9.4";const w=new Ee.Yd("@firebase/firestore");function $(){return w.logLevel}function te(r,...e){if(w.logLevel<=Ee.in.DEBUG){const t=e.map(jt);w.debug(`Firestore (${I}): ${r}`,...t)}}function je(r,...e){if(w.logLevel<=Ee.in.ERROR){const t=e.map(jt);w.error(`Firestore (${I}): ${r}`,...t)}}function lt(r,...e){if(w.logLevel<=Ee.in.WARN){const t=e.map(jt);w.warn(`Firestore (${I}): ${r}`,...t)}}function jt(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function Ht(r="Unexpected state"){const e=`FIRESTORE (${I}) INTERNAL ASSERTION FAILED: `+r;throw je(e),new Error(e)}function cn(r,e){r||Ht()}function en(r,e){return r}const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qt extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _a{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ya{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(A.UNAUTHENTICATED))}shutdown(){}}class Ro{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fl{constructor(e){this.t=e,this.currentUser=A.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const d=J=>this.i!==a?(a=this.i,t(J)):Promise.resolve();let m=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ji,e.enqueueRetryable(()=>d(this.currentUser))};const M=()=>{const J=m;e.enqueueRetryable((0,Ne.Z)(function*(){yield J.promise,yield d(s.currentUser)}))},H=J=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(J=>H(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?H(J):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ji)}},0),M()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(cn("string"==typeof s.accessToken),new _a(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return cn(null===e||"string"==typeof e),new A(e)}}class Sa{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a,this.type="FirstParty",this.user=A.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(cn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ll{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a}getToken(){return Promise.resolve(new Sa(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(A.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Aa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qo{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=d=>{null!=d.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.A;return this.A=d.token,te("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const a=d=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>a(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?a(d):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(cn("string"==typeof t.token),this.A=t.token,new Aa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bl(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Po{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Bl(40);for(let d=0;d<a.length;++d)s.length<20&&a[d]<t&&(s+=e.charAt(a[d]%e.length))}return s}}function Xn(r,e){return r<e?-1:r>e?1:0}function yo(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function ko(r){return r+"\0"}class Zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zi.fromMillis(Date.now())}static fromDate(e){return Zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Zi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xn(this.nanoseconds,e.nanoseconds):Xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zn(e)}static min(){return new Zn(new Zi(0,0))}static max(){return new Zn(new Zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vl{constructor(e,t,s){void 0===t?t=0:t>e.length&&Ht(),void 0===s?s=e.length-t:s>e.length-t&&Ht(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Vl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const d=e.get(a),m=t.get(a);if(d<m)return-1;if(d>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ji extends Vl{construct(e,t,s){return new ji(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Qt(Tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new ji(t)}static emptyPath(){return new ji([])}}const Tr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Vl{construct(e,t,s){return new Mr(e,t,s)}static isValidIdentifier(e){return Tr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const d=()=>{if(0===s.length)throw new Qt(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let m=!1;for(;a<e.length;){const M=e[a];if("\\"===M){if(a+1===e.length)throw new Qt(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[a+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new Qt(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=H,a+=2}else"`"===M?(m=!m,a++):"."!==M||m?(s+=M,a++):(d(),a++)}if(d(),m)throw new Qt(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}class bn{constructor(e){this.path=e}static fromPath(e){return new bn(ji.fromString(e))}static fromName(e){return new bn(ji.fromString(e).popFirst(5))}static empty(){return new bn(ji.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ji.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ji.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bn(new ji(e.slice()))}}class pl{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Gu(r){return r.fields.find(e=>2===e.kind)}function ml(r){return r.fields.filter(e=>2!==e.kind)}pl.UNKNOWN_ID=-1;class iu{constructor(e,t){this.fieldPath=e,this.kind=t}}class jl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jl(0,jr.min())}}function Rr(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Zn.fromTimestamp(1e9===s?new Zi(t+1,0):new Zi(t,s));return new jr(a,bn.empty(),e)}function gl(r){return new jr(r.readTime,r.key,-1)}class jr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new jr(Zn.min(),bn.empty(),-1)}static max(){return new jr(Zn.max(),bn.empty(),-1)}}function ru(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=bn.comparator(r.documentKey,e.documentKey),0!==t?t:Xn(r.largestBatchId,e.largestBatchId))}const Hl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ao{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xr(r){return xa.apply(this,arguments)}function xa(){return xa=(0,Ne.Z)(function*(r){if(r.code!==Tt.FAILED_PRECONDITION||r.message!==Hl)throw r;te("LocalStore","Unexpectedly lost primary lease")}),xa.apply(this,arguments)}class Rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rt((s,a)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,a)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Rt?t:Rt.resolve(t)}catch(t){return Rt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Rt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Rt.reject(t)}static resolve(e){return new Rt((t,s)=>{t(e)})}static reject(e){return new Rt((t,s)=>{s(e)})}static waitFor(e){return new Rt((t,s)=>{let a=0,d=0,m=!1;e.forEach(M=>{++a,M.next(()=>{++d,m&&d===a&&t()},H=>s(H))}),m=!0,d===a&&t()})}static or(e){let t=Rt.resolve(!1);for(const s of e)t=t.next(a=>a?Rt.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,d)=>{s.push(t.call(this,a,d))}),this.waitFor(s)}static mapArray(e,t){return new Rt((s,a)=>{const d=e.length,m=new Array(d);let M=0;for(let H=0;H<d;H++){const J=H;t(e[J]).next(Te=>{m[J]=Te,++M,M===d&&s(m)},Te=>a(Te))}})}static doWhile(e,t){return new Rt((s,a)=>{const d=()=>{!0===e()?t().next(()=>{d()},a):s()};d()})}}class Oa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ji,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new No(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const a=ua(s.target.error);this.P.reject(new No(e,a))}}static open(e,t,s,a){try{return new Oa(t,e.transaction(a,s))}catch(d){throw new No(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oh(t)}}class qs{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===qs.D((0,_e.z$)())&&je("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),Xo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,_e.hl)())return!1;if(qs.N())return!0;const e=(0,_e.z$)(),t=qs.D(e),s=0<t&&t<10,a=qs.k(e),d=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(te("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=m=>{s(m.target.result)},d.onblocked=()=>{a(new No(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const M=m.target.error;a("VersionError"===M.name?new Qt(Tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new Qt(Tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new No(e,M))},d.onupgradeneeded=m=>{te("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.S.$(m.target.result,d.transaction,m.oldVersion,t.version).next(()=>{te("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var d=this;return(0,Ne.Z)(function*(){const m="readonly"===t;let M=0;for(;;){++M;try{d.db=yield d.F(e);const H=Oa.open(d.db,e,m?"readonly":"readwrite",s),J=a(H).next(Te=>(H.V(),Te)).catch(Te=>(H.abort(Te),Rt.reject(Te))).toPromise();return J.catch(()=>{}),yield H.v,J}catch(H){const J=H,Te="FirebaseError"!==J.name&&M<3;if(te("SimpleDb","Transaction failed with error:",J.message,"Retrying:",Te),d.close(),!Te)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _l{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Xo(this.U.delete())}}class No extends Qt{constructor(e,t){super(Tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ca(r){return"IndexedDbTransactionError"===r.name}class oh{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(te("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Xo(s)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),Xo(this.store.add(e))}get(e){return Xo(this.store.get(e)).next(t=>(void 0===t&&(t=null),te("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),Xo(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),Xo(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),d=[];return this.H(a,(m,M)=>{d.push(M)}).next(()=>d)}{const a=this.store.getAll(s.range);return new Rt((d,m)=>{a.onerror=M=>{m(M.target.error)},a.onsuccess=M=>{d(M.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Rt((a,d)=>{s.onerror=m=>{d(m.target.error)},s.onsuccess=m=>{a(m.target.result)}})}Y(e,t){te("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const a=this.cursor(s);return this.H(a,(d,m,M)=>M.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.H(a,t)}tt(e){const t=this.cursor({});return new Rt((s,a)=>{t.onerror=d=>{const m=ua(d.target.error);a(m)},t.onsuccess=d=>{const m=d.target.result;m?e(m.primaryKey,m.value).next(M=>{M?m.continue():s()}):s()}})}H(e,t){const s=[];return new Rt((a,d)=>{e.onerror=m=>{d(m.target.error)},e.onsuccess=m=>{const M=m.target.result;if(!M)return void a();const H=new _l(M),J=t(M.primaryKey,M.value,H);if(J instanceof Rt){const Te=J.catch(tt=>(H.done(),Rt.reject(tt)));s.push(Te)}H.isDone?a():null===H.G?M.continue():M.continue(H.G)}}).next(()=>Rt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xo(r){return new Rt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=ua(s.target.error);t(a)}})}let Ss=!1;function ua(r){const e=qs.D((0,_e.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Qt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ss||(Ss=!0,setTimeout(()=>{throw s},0)),s}}return r}class da{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;te("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ne.Z)(function*(){t.task=null;try{te("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){ca(s)?te("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Xr(s)}yield t.nt(1)}))}}class su{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ne.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let a=t,d=!0;return Rt.doWhile(()=>!0===d&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return te("IndexBackiller",`Processing collection: ${m}`),this.rt(e,m,a).next(M=>{a-=M,s.add(m)});d=!1})).next(()=>t-a)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(d=>{const m=d.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.ot(a,d)).next(M=>(te("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,t,M))).next(()=>m.size)}))}ot(e,t){let s=e;return t.changes.forEach((a,d)=>{const m=gl(d);ru(m,s)>0&&(s=m)}),new jr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ps{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>t.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function za(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Wa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function bc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}ps.at=-1;class Pr{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new Pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ka(this.root,e,this.comparator,!0)}}class Ka{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,s,a,d){this.key=e,this.value=t,this.color=null!=s?s:Hr.RED,this.left=null!=a?a:Hr.EMPTY,this.right=null!=d?d:Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,d){return new Hr(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const d=s(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===d?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Hr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const e=this.left.check();if(e!==this.right.check())throw Ht();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Hr(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ni{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jo(this.data.getIterator())}getIteratorFrom(e){return new Jo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ni(this.comparator);return t.data=e,t}}class Jo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yl(r){return r.hasNext()?r.getNext():void 0}class ms{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new ms([])}unionWith(e){let t=new Ni(Mr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let d=0;d<s.length;++d)a+=String.fromCharCode(s[d]);return a}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const ha=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(r){if(cn(!!r),"string"==typeof r){let e=0;const t=ha.exec(r);if(cn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dr(r.seconds),nanos:Dr(r.nanos)}}function Dr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ea(r){return"string"==typeof r?vr.fromBase64String(r):vr.fromUint8Array(r)}function Gl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Za(r){const e=r.mapValue.fields.__previous_value__;return Gl(e)?Za(e):e}function vl(r){const e=Ra(r.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}class F{constructor(e,t,s,a,d,m,M,H){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=M,this.useFetchStreams=H}}class U{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new U("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof U&&e.projectId===this.projectId&&e.database===this.database}}function he(r){return null==r}function Ke(r){return 0===r&&1/r==-1/0}function bt(r){return"number"==typeof r&&Number.isInteger(r)&&!Ke(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Pt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tn={nullValue:"NULL_VALUE"};function _n(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gl(r)?4:Lo(r)?9007199254740991:10:Ht()}function Ln(r,e){if(r===e)return!0;const t=_n(r);if(t!==_n(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return vl(r).isEqual(vl(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const d=Ra(s.timestampValue),m=Ra(a.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,ea(r.bytesValue).isEqual(ea(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Dr(s.geoPointValue.latitude)===Dr(a.geoPointValue.latitude)&&Dr(s.geoPointValue.longitude)===Dr(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Dr(s.integerValue)===Dr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const d=Dr(s.doubleValue),m=Dr(a.doubleValue);return d===m?Ke(d)===Ke(m):isNaN(d)&&isNaN(m)}return!1}(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(s,a){const d=s.mapValue.fields||{},m=a.mapValue.fields||{};if(za(d)!==za(m))return!1;for(const M in d)if(d.hasOwnProperty(M)&&(void 0===m[M]||!Ln(d[M],m[M])))return!1;return!0}(r,e);default:return Ht()}var a}function Jn(r,e){return void 0!==(r.values||[]).find(t=>Ln(t,e))}function ei(r,e){if(r===e)return 0;const t=_n(r),s=_n(e);if(t!==s)return Xn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xn(r.booleanValue,e.booleanValue);case 2:return function(a,d){const m=Dr(a.integerValue||a.doubleValue),M=Dr(d.integerValue||d.doubleValue);return m<M?-1:m>M?1:m===M?0:isNaN(m)?isNaN(M)?0:-1:1}(r,e);case 3:return Yn(r.timestampValue,e.timestampValue);case 4:return Yn(vl(r),vl(e));case 5:return Xn(r.stringValue,e.stringValue);case 6:return function(a,d){const m=ea(a),M=ea(d);return m.compareTo(M)}(r.bytesValue,e.bytesValue);case 7:return function(a,d){const m=a.split("/"),M=d.split("/");for(let H=0;H<m.length&&H<M.length;H++){const J=Xn(m[H],M[H]);if(0!==J)return J}return Xn(m.length,M.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,d){const m=Xn(Dr(a.latitude),Dr(d.latitude));return 0!==m?m:Xn(Dr(a.longitude),Dr(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,d){const m=a.values||[],M=d.values||[];for(let H=0;H<m.length&&H<M.length;++H){const J=ei(m[H],M[H]);if(J)return J}return Xn(m.length,M.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,d){if(a===Pt.mapValue&&d===Pt.mapValue)return 0;if(a===Pt.mapValue)return 1;if(d===Pt.mapValue)return-1;const m=a.fields||{},M=Object.keys(m),H=d.fields||{},J=Object.keys(H);M.sort(),J.sort();for(let Te=0;Te<M.length&&Te<J.length;++Te){const tt=Xn(M[Te],J[Te]);if(0!==tt)return tt;const xt=ei(m[M[Te]],H[J[Te]]);if(0!==xt)return xt}return Xn(M.length,J.length)}(r.mapValue,e.mapValue);default:throw Ht()}}function Yn(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Xn(r,e);const t=Ra(r),s=Ra(e),a=Xn(t.seconds,s.seconds);return 0!==a?a:Xn(t.nanos,s.nanos)}function lr(r){return js(r)}function js(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Ra(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ea(r.bytesValue).toBase64():"referenceValue"in r?bn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",d=!0;for(const m of s.values||[])d?d=!1:a+=",",a+=js(m);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let d="{",m=!0;for(const M of a)m?m=!1:d+=",",d+=`${M}:${js(s.fields[M])}`;return d+"}"}(r.mapValue):Ht();var e}function vo(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ta(r){return!!r&&"integerValue"in r}function Qs(r){return!!r&&"arrayValue"in r}function Ec(r){return!!r&&"nullValue"in r}function bl(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function na(r){return!!r&&"mapValue"in r}function As(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Wa(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=As(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=As(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Lo(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function ou(r){return"nullValue"in r?tn:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?vo(U.empty(),bn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Ht()}function ah(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?vo(U.empty(),bn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Pt:Ht()}function $u(r,e){const t=ei(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function lh(r,e){const t=ei(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Hs{constructor(e){this.value=e}static empty(){return new Hs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!na(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=As(t)}setAll(e){let t=Mr.emptyPath(),s={},a=[];e.forEach((m,M)=>{if(!t.isImmediateParentOf(M)){const H=this.getFieldsMap(t);this.applyChanges(H,s,a),s={},a=[],t=M.popLast()}m?s[M.lastSegment()]=As(m):a.push(M.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,a)}delete(e){const t=this.field(e.popLast());na(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];na(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Wa(t,(a,d)=>e[a]=d);for(const a of s)delete e[a]}clone(){return new Hs(As(this.value))}}function ch(r){const e=[];return Wa(r.fields,(t,s)=>{const a=new Mr([t]);if(na(s)){const d=ch(s.mapValue).fields;if(0===d.length)e.push(a);else for(const m of d)e.push(a.child(m))}else e.push(a)}),new ms(e)}class cr{constructor(e,t,s,a,d,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=d,this.documentState=m}static newInvalidDocument(e){return new cr(e,0,Zn.min(),Zn.min(),Hs.empty(),0)}static newFoundDocument(e,t,s){return new cr(e,1,t,Zn.min(),s,0)}static newNoDocument(e,t){return new cr(e,2,t,Zn.min(),Hs.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,Zn.min(),Hs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lp{constructor(e,t=null,s=[],a=[],d=null,m=null,M=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=d,this.startAt=m,this.endAt=M,this.ht=null}}function Cc(r,e=null,t=[],s=[],a=null,d=null,m=null){return new lp(r,e,t,s,a,d,m)}function Pa(r){const e=en(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(a=s).field.canonicalString()+a.op.toString()+lr(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),he(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>lr(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>lr(s)).join(",")),e.ht=t}return e.ht}function wc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!ph(r.orderBy[a],e.orderBy[a]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if((t=r.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Ln(t.value,s.value))return!1;var t,s;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!mh(r.startAt,e.startAt)&&mh(r.endAt,e.endAt)}function au(r){return bn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function zu(r,e){return r.filters.filter(t=>t instanceof xs&&t.field.isEqual(e))}function Dc(r,e,t){let s=tn,a=!0;for(const d of zu(r,e)){let m=tn,M=!0;switch(d.op){case"<":case"<=":m=ou(d.value);break;case"==":case"in":case">=":m=d.value;break;case">":m=d.value,M=!1;break;case"!=":case"not-in":m=tn}$u({value:s,inclusive:a},{value:m,inclusive:M})<0&&(s=m,a=M)}if(null!==t)for(let d=0;d<r.orderBy.length;++d)if(r.orderBy[d].field.isEqual(e)){const m=t.position[d];$u({value:s,inclusive:a},{value:m,inclusive:t.inclusive})<0&&(s=m,a=t.inclusive);break}return{value:s,inclusive:a}}function zl(r,e,t){let s=Pt,a=!0;for(const d of zu(r,e)){let m=Pt,M=!0;switch(d.op){case">=":case">":m=ah(d.value),M=!1;break;case"==":case"in":case"<=":m=d.value;break;case"<":m=d.value,M=!1;break;case"!=":case"not-in":m=Pt}lh({value:s,inclusive:a},{value:m,inclusive:M})>0&&(s=m,a=M)}if(null!==t)for(let d=0;d<r.orderBy.length;++d)if(r.orderBy[d].field.isEqual(e)){const m=t.position[d];lh({value:s,inclusive:a},{value:m,inclusive:t.inclusive})>0&&(s=m,a=t.inclusive);break}return{value:s,inclusive:a}}class xs extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,s):new uh(e,t,s):"array-contains"===t?new fh(e,s):"in"===t?new cp(e,s):"not-in"===t?new up(e,s):"array-contains-any"===t?new dp(e,s):new xs(e,t,s)}static lt(e,t,s){return"in"===t?new dh(e,s):new El(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ei(t,this.value)):null!==t&&_n(this.value)===_n(t)&&this.ft(ei(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ht()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class uh extends xs{constructor(e,t,s){super(e,t,s),this.key=bn.fromName(s.referenceValue)}matches(e){const t=bn.comparator(e.key,this.key);return this.ft(t)}}class dh extends xs{constructor(e,t){super(e,"in",t),this.keys=hh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class El extends xs{constructor(e,t){super(e,"not-in",t),this.keys=hh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hh(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>bn.fromName(s.referenceValue))}class fh extends xs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qs(t)&&Jn(t.arrayValue,this.value)}}class cp extends xs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jn(this.value.arrayValue,t)}}class up extends xs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jn(this.value.arrayValue,t)}}class dp extends xs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Jn(this.value.arrayValue,s))}}class Xs{constructor(e,t){this.position=e,this.inclusive=t}}class Bo{constructor(e,t="asc"){this.field=e,this.dir=t}}function ph(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function lu(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const d=e[a],m=r.position[a];if(s=d.field.isKeyField()?bn.comparator(bn.fromName(m.referenceValue),t.key):ei(m,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function mh(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ln(r.position[t],e.position[t]))return!1;return!0}class va{constructor(e,t=null,s=[],a=[],d=null,m="F",M=null,H=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=d,this.limitType=m,this.startAt=M,this.endAt=H,this._t=null,this.wt=null}}function gh(r,e,t,s,a,d,m,M){return new va(r,e,t,s,a,d,m,M)}function Ya(r){return new va(r)}function Wu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function cu(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function uu(r){for(const e of r.filters)if(e.dt())return e.field;return null}function Ku(r){return null!==r.collectionGroup}function Wl(r){const e=en(r);if(null===e._t){e._t=[];const t=uu(e),s=cu(e);if(null!==t&&null===s)t.isKeyField()||e._t.push(new Bo(t)),e._t.push(new Bo(Mr.keyField(),"asc"));else{let a=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(a=!0);if(!a){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Bo(Mr.keyField(),d))}}}return e._t}function Vo(r){const e=en(r);if(!e.wt)if("F"===e.limitType)e.wt=Cc(e.path,e.collectionGroup,Wl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Wl(e))t.push(new Bo(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new Xs(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Xs(e.startAt.position,e.startAt.inclusive):null;e.wt=Cc(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.wt}function Zu(r,e,t){return new va(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function lo(r,e){return wc(Vo(r),Vo(e))&&r.limitType===e.limitType}function Yu(r){return`${Pa(Vo(r))}|lt:${r.limitType}`}function ia(r){return`Query(target=${function $l(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${lr(s.value)}`;var s}).join(", ")}]`),he(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>lr(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>lr(t)).join(",")),`Target(${e})`}(Vo(r))}; limitType=${r.limitType})`}function ka(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):bn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,d,m){const M=lu(a,d,m);return a.inclusive?M<=0:M<0}(t.startAt,Wl(t),s)||t.endAt&&!function(a,d,m){const M=lu(a,d,m);return a.inclusive?M>=0:M>0}(t.endAt,Wl(t),s)));var t,s}function qu(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ic(r){return(e,t)=>{let s=!1;for(const a of Wl(r)){const d=_h(a,e,t);if(0!==d)return d;s=s||a.field.isKeyField()}return 0}}function _h(r,e,t){const s=r.field.isKeyField()?bn.comparator(e.key,t.key):function(a,d,m){const M=d.data.field(a),H=m.data.field(a);return null!==M&&null!==H?ei(M,H):Ht()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ht()}}function hp(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ke(e)?"-0":e}}function Qu(r){return{integerValue:""+r}}function fp(r,e){return bt(e)?Qu(e):hp(r,e)}class Kl{constructor(){this._=void 0}}function Tc(r,e,t){return r instanceof Mc?function(s,a){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(d.fields.__previous_value__=a),{mapValue:d}}(t,e):r instanceof qa?yh(r,e):r instanceof Qa?du(r,e):function(s,a){const d=pp(s,a),m=Ju(d)+Ju(s.yt);return ta(d)&&ta(s.yt)?Qu(m):hp(s.It,m)}(r,e)}function Xu(r,e,t){return r instanceof qa?yh(r,e):r instanceof Qa?du(r,e):t}function pp(r,e){return r instanceof Zl?ta(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Mc extends Kl{}class qa extends Kl{constructor(e){super(),this.elements=e}}function yh(r,e){const t=Cl(e);for(const s of r.elements)t.some(a=>Ln(a,s))||t.push(s);return{arrayValue:{values:t}}}class Qa extends Kl{constructor(e){super(),this.elements=e}}function du(r,e){let t=Cl(e);for(const s of r.elements)t=t.filter(a=>!Ln(a,s));return{arrayValue:{values:t}}}class Zl extends Kl{constructor(e,t){super(),this.It=e,this.yt=t}}function Ju(r){return Dr(r.integerValue||r.doubleValue)}function Cl(r){return Qs(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Xa{constructor(e,t){this.field=e,this.transform=t}}class mp{constructor(e,t){this.version=e,this.transformResults=t}}class fi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class hu{}function fu(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new as(r.key,fi.none()):new Yl(r.key,r.data,fi.none());{const t=r.data,s=Hs.empty();let a=new Ni(Mr.comparator);for(let d of e.fields)if(!a.has(d)){let m=t.field(d);null===m&&d.length>1&&(d=d.popLast(),m=t.field(d)),null===m?s.delete(d):s.set(d,m),a=a.add(d)}return new Uo(r.key,s,new ms(a.toArray()),fi.none())}}function td(r,e,t){r instanceof Yl?function(s,a,d){const m=s.value.clone(),M=bh(s.fieldTransforms,a,d.transformResults);m.setAll(M),a.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,t):r instanceof Uo?function(s,a,d){if(!Sc(s.precondition,a))return void a.convertToUnknownDocument(d.version);const m=bh(s.fieldTransforms,a,d.transformResults),M=a.data;M.setAll(_p(s)),M.setAll(m),a.convertToFoundDocument(d.version,M).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ac(r,e,t,s){return r instanceof Yl?function(a,d,m,M){if(!Sc(a.precondition,d))return m;const H=a.value.clone(),J=ql(a.fieldTransforms,M,d);return H.setAll(J),d.convertToFoundDocument(d.version,H).setHasLocalMutations(),null}(r,e,t,s):r instanceof Uo?function(a,d,m,M){if(!Sc(a.precondition,d))return m;const H=ql(a.fieldTransforms,M,d),J=d.data;return J.setAll(_p(a)),J.setAll(H),d.convertToFoundDocument(d.version,J).setHasLocalMutations(),null===m?null:m.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Te=>Te.field))}(r,e,t,s):(m=t,Sc(r.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m);var d,m}function gp(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),d=pp(s.transform,a||null);null!=d&&(null===t&&(t=Hs.empty()),t.set(s.field,d))}return t||null}function vh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&yo(t,s,(a,d)=>function ed(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof qa&&s instanceof qa||t instanceof Qa&&s instanceof Qa?yo(t.elements,s.elements,Ln):t instanceof Zl&&s instanceof Zl?Ln(t.yt,s.yt):t instanceof Mc&&s instanceof Mc);var t,s}(a,d))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Yl extends hu{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Uo extends hu{constructor(e,t,s,a,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function _p(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function bh(r,e,t){const s=new Map;cn(r.length===t.length);for(let a=0;a<t.length;a++){const d=r[a],m=d.transform,M=e.data.field(d.field);s.set(d.field,Xu(m,M,t[a]))}return s}function ql(r,e,t){const s=new Map;for(const a of r){const d=a.transform,m=t.data.field(a.field);s.set(a.field,Tc(d,m,e))}return s}class as extends hu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xc extends hu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Eh{constructor(e){this.count=e}}var Gr,ni;function Ja(r){switch(r){default:return Ht();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0}}function Oc(r){if(void 0===r)return je("GRPC error has no .code"),Tt.UNKNOWN;switch(r){case Gr.OK:return Tt.OK;case Gr.CANCELLED:return Tt.CANCELLED;case Gr.UNKNOWN:return Tt.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return Tt.INTERNAL;case Gr.UNAVAILABLE:return Tt.UNAVAILABLE;case Gr.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case Gr.NOT_FOUND:return Tt.NOT_FOUND;case Gr.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case Gr.ABORTED:return Tt.ABORTED;case Gr.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case Gr.DATA_LOSS:return Tt.DATA_LOSS;default:return Ht()}}(ni=Gr||(Gr={}))[ni.OK=0]="OK",ni[ni.CANCELLED=1]="CANCELLED",ni[ni.UNKNOWN=2]="UNKNOWN",ni[ni.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ni[ni.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ni[ni.NOT_FOUND=5]="NOT_FOUND",ni[ni.ALREADY_EXISTS=6]="ALREADY_EXISTS",ni[ni.PERMISSION_DENIED=7]="PERMISSION_DENIED",ni[ni.UNAUTHENTICATED=16]="UNAUTHENTICATED",ni[ni.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ni[ni.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ni[ni.ABORTED=10]="ABORTED",ni[ni.OUT_OF_RANGE=11]="OUT_OF_RANGE",ni[ni.UNIMPLEMENTED=12]="UNIMPLEMENTED",ni[ni.INTERNAL=13]="INTERNAL",ni[ni.UNAVAILABLE=14]="UNAVAILABLE",ni[ni.DATA_LOSS=15]="DATA_LOSS";class el{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,d]of s)if(this.equalsFn(a,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return void(a[d]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(t,s)=>{for(const[a,d]of s)e(a,d)})}isEmpty(){return bc(this.inner)}size(){return this.innerSize}}const nd=new Pr(bn.comparator);function co(){return nd}const bo=new Pr(bn.comparator);function ba(...r){let e=bo;for(const t of r)e=e.insert(t.key,t);return e}function id(r){let e=bo;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function fa(){return wl()}function pu(){return wl()}function wl(){return new el(r=>r.toString(),(r,e)=>r.isEqual(e))}const rd=new Pr(bn.comparator),Ch=new Ni(bn.comparator);function bi(...r){let e=Ch;for(const t of r)e=e.add(t);return e}const Ea=new Ni(Xn);function Rc(){return Ea}class Pc{constructor(e,t,s,a,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,tl.createSynthesizedTargetChangeForCurrentChange(e,t)),new Pc(Zn.min(),s,Rc(),co(),bi())}}class tl{constructor(e,t,s,a,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new tl(vr.EMPTY_BYTE_STRING,t,bi(),bi(),bi())}}class mu{constructor(e,t,s,a){this.Tt=e,this.removedTargetIds=t,this.key=s,this.Et=a}}class sd{constructor(e,t){this.targetId=e,this.At=t}}class uo{constructor(e,t,s=vr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class gu{constructor(){this.Rt=0,this.bt=Ca(),this.Pt=vr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=bi(),t=bi(),s=bi();return this.bt.forEach((a,d)=>{switch(d){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ht()}}),new tl(this.Pt,this.vt,e,t,s)}Nt(){this.Vt=!1,this.bt=Ca()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class od{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=co(),this.qt=ad(),this.Kt=new Ni(Xn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const s=this.zt(t);switch(e.state){case 0:this.Ht(t)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),s.Ct(e.resumeToken));break;default:Ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((s,a)=>{this.Ht(a)&&t(a)})}Yt(e){const t=e.targetId,s=e.At.count,a=this.Xt(t);if(a){const d=a.target;if(au(d))if(0===s){const m=new bn(d.path);this.jt(t,m,cr.newNoDocument(m,Zn.min()))}else cn(1===s);else this.Zt(t)!==s&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,m)=>{const M=this.Xt(m);if(M){if(d.current&&au(M.target)){const H=new bn(M.target.path);null!==this.Ut.get(H)||this.ee(m,H)||this.jt(m,H,cr.newNoDocument(H,e))}d.Dt&&(t.set(m,d.xt()),d.Nt())}});let s=bi();this.qt.forEach((d,m)=>{let M=!0;m.forEachWhile(H=>{const J=this.Xt(H);return!J||2===J.purpose||(M=!1,!1)}),M&&(s=s.add(d))}),this.Ut.forEach((d,m)=>m.setReadTime(e));const a=new Pc(e,t,this.Kt,this.Ut,s);return this.Ut=co(),this.qt=ad(),this.Kt=new Ni(Xn),a}Qt(e,t){if(!this.Ht(e))return;const s=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,s){if(!this.Ht(e))return;const a=this.zt(e);this.ee(e,t)?a.kt(t,1):a.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new gu,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Ni(Xn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||te("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new gu),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ad(){return new Pr(bn.comparator)}function Ca(){return new Pr(bn.comparator)}const kc={asc:"ASCENDING",desc:"DESCENDING"},wh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Dh{constructor(e,t){this.databaseId=e,this.gt=t}}function Nc(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fc(r,e){return r.gt?e.toBase64():e.toUint8Array()}function yp(r,e){return Nc(r,e.toTimestamp())}function Os(r){return cn(!!r),Zn.fromTimestamp(function(e){const t=Ra(e);return new Zi(t.seconds,t.nanos)}(r))}function nl(r,e){return(t=r,new ji(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function pa(r){const e=ji.fromString(r);return cn(_u(e)),e}function _(r,e){return nl(r.databaseId,e.path)}function u(r,e){const t=pa(e);if(t.get(1)!==r.databaseId.projectId)throw new Qt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Qt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new bn(Ce(t))}function f(r,e){return nl(r.databaseId,e)}function D(r){const e=pa(r);return 4===e.length?ji.emptyPath():Ce(e)}function Y(r){return new ji(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ce(r){return cn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function pt(r,e,t){return{name:_(r,e),fields:t.value.mapValue.fields}}function Ut(r,e,t){const s=u(r,e.name),a=Os(e.updateTime),d=new Hs({mapValue:{fields:e.fields}}),m=cr.newFoundDocument(s,a,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function qn(r,e){let t;if(e instanceof Yl)t={update:pt(r,e.key,e.value)};else if(e instanceof as)t={delete:_(r,e.key)};else if(e instanceof Uo)t={update:pt(r,e.key,e.data),updateMask:vp(e.fieldMask)};else{if(!(e instanceof xc))return Ht();t={verify:_(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,d){const m=d.transform;if(m instanceof Mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof qa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Qa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Zl)return{fieldPath:d.field.canonicalString(),increment:m.yt};throw Ht()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:yp(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Ht()),t;var a}function zn(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?fi.updateTime(Os(a.updateTime)):void 0!==a.exists?fi.exists(a.exists):fi.none():fi.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(d,m){let M=null;"setToServerValue"in m?(cn("REQUEST_TIME"===m.setToServerValue),M=new Mc):"appendMissingElements"in m?M=new qa(m.appendMissingElements.values||[]):"removeAllFromArray"in m?M=new Qa(m.removeAllFromArray.values||[]):"increment"in m?M=new Zl(d,m.increment):Ht();const H=Mr.fromServerFormat(m.fieldPath);return new Xa(H,M)}(r,a)):[];var a;if(e.update){const a=u(r,e.update.name),d=new Hs({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new ms((e.updateMask.fieldPaths||[]).map(J=>Mr.fromServerFormat(J)));return new Uo(a,d,m,t,s)}return new Yl(a,d,t,s)}if(e.delete){const a=u(r,e.delete);return new as(a,t)}if(e.verify){const a=u(r,e.verify);return new xc(a,t)}return Ht()}function Eo(r,e){return{documents:[f(r,e.path)]}}function Ql(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=f(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=f(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(H){if(0===H.length)return;const J=H.map(Te=>function(tt){if("=="===tt.op){if(bl(tt.value))return{unaryFilter:{field:Na(tt.field),op:"IS_NAN"}};if(Ec(tt.value))return{unaryFilter:{field:Na(tt.field),op:"IS_NULL"}}}else if("!="===tt.op){if(bl(tt.value))return{unaryFilter:{field:Na(tt.field),op:"IS_NOT_NAN"}};if(Ec(tt.value))return{unaryFilter:{field:Na(tt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(tt.field),op:cd(tt.op),value:tt.value}}}(Te));return 1===J.length?J[0]:{compositeFilter:{op:"AND",filters:J}}}(e.filters);a&&(t.structuredQuery.where=a);const d=function(H){if(0!==H.length)return H.map(J=>{return{field:Na((Te=J).field),direction:ld(Te.dir)};var Te})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=(J=e.limit,r.gt||he(J)?J:{value:J});var J,M,H;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(t.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),t}function Ih(r){let e=D(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){cn(1===s);const Te=t.from[0];Te.allDescendants?a=Te.collectionId:e=e.child(Te.collectionId)}let d=[];t.where&&(d=Lc(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(Te=>{return new Bo(Dl((tt=Te).field),function(xt){switch(xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction));var tt}));let M=null;t.limit&&(M=function(Te){let tt;return tt="object"==typeof Te?Te.value:Te,he(tt)?null:tt}(t.limit));let H=null;var Te;t.startAt&&(H=new Xs((Te=t.startAt).values||[],!!Te.before));let J=null;return t.endAt&&(J=function(Te){return new Xs(Te.values||[],!Te.before)}(t.endAt)),gh(e,a,m,d,M,"F",H,J)}function Lc(r){return r?void 0!==r.unaryFilter?[Th(r)]:void 0!==r.fieldFilter?[ud(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>Lc(e)).reduce((e,t)=>e.concat(t)):Ht():[]}function ld(r){return kc[r]}function cd(r){return wh[r]}function Na(r){return{fieldPath:r.canonicalString()}}function Dl(r){return Mr.fromServerFormat(r.fieldPath)}function ud(r){return xs.create(Dl(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ht()}}(r.fieldFilter.op),r.fieldFilter.value)}function Th(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Dl(r.unaryFilter.field);return xs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Dl(r.unaryFilter.field);return xs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Dl(r.unaryFilter.field);return xs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Dl(r.unaryFilter.field);return xs.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ht()}}function vp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _u(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function ho(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Mh(e)),e=xg(r.get(t),e);return Mh(e)}function xg(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const d=r.charAt(a);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Mh(r){return r+"\x01\x01"}function Fa(r){const e=r.length;if(cn(e>=2),2===e)return cn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),ji.emptyPath();const t=e-2,s=[];let a="";for(let d=0;d<e;){const m=r.indexOf("\x01",d);switch((m<0||m>t)&&Ht(),r.charAt(m+1)){case"\x01":const M=r.substring(d,m);let H;0===a.length?H=M:(a+=M,H=a,a=""),s.push(H);break;case"\x10":a+=r.substring(d,m),a+="\0";break;case"\x11":a+=r.substring(d,m+1);break;default:Ht()}d=m+2}return new ji(s)}const Sh=["userId","batchId"];function Ah(r,e){return[r,ho(e)]}function Og(r,e,t){return[r,ho(e),t]}const Rg={},Pg=["prefixPath","collectionGroup","readTime","documentId"],Bc=["prefixPath","collectionGroup","documentId"],kg=["collectionGroup","readTime","prefixPath","documentId"],Ng=["canonicalId","targetId"],_v=["targetId","path"],xh=["path","targetId"],yv=["collectionId","parent"],Fg=["indexId","uid"],Lg=["uid","sequenceNumber"],Bg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bp=["indexId","uid","orderedDocumentKey"],Vg=["userId","collectionPath","documentId"],Oh=["userId","collectionPath","largestBatchId"],Rh=["userId","collectionGroup","largestBatchId"],Ep=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cp=[...Ep,"documentOverlays"],wp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ph=wp,dd=[...Ph,"indexConfiguration","indexState","indexEntries"];class Dp extends ao{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Gs(r,e){const t=en(r);return qs.O(t.ie,e)}class Ip{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const d=this.mutations[a];d.key.isEqual(e.key)&&td(d,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ac(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ac(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=pu();return this.mutations.forEach(a=>{const d=e.get(a.key),m=d.overlayedDocument;let M=this.applyToLocalView(m,d.mutatedFields);M=t.has(a.key)?null:M;const H=fu(m,M);null!==H&&s.set(a.key,H),m.isValidDocument()||m.convertToNoDocument(Zn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bi())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(t,s)=>vh(t,s))&&yo(this.baseMutations,e.baseMutations,(t,s)=>vh(t,s))}}class Tp{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){cn(e.mutations.length===s.length);let a=rd;const d=e.mutations;for(let m=0;m<d.length;m++)a=a.insert(d[m].key,s[m].version);return new Tp(e,t,s,a)}}class kh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rl{constructor(e,t,s,a,d=Zn.min(),m=Zn.min(),M=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=M}withSequenceNumber(e){return new rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Mp{constructor(e){this.re=e}}function Sp(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Nh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:_(a=r.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Nc(a,d.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Xl(e.version)};else{if(!e.isUnknownDocument())return Ht();s.unknownDocument={path:t.path.toArray(),version:Xl(e.version)}}var a,d;return s}function Nh(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Xl(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Vc(r){const e=new Zi(r.seconds,r.nanoseconds);return Zn.fromTimestamp(e)}function Uc(r,e){const t=(e.baseMutations||[]).map(d=>zn(r.re,d));for(let d=0;d<e.mutations.length-1;++d){const m=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(m.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>zn(r.re,d)),a=Zi.fromMillis(e.localWriteTimeMs);return new Ip(e.batchId,a,t,s)}function jo(r){const e=Vc(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Vc(r.lastLimboFreeSnapshotVersion):Zn.min();let s;var a;return void 0!==r.query.documents?(cn(1===(a=r.query).documents.length),s=Vo(Ya(D(a.documents[0])))):s=Vo(Ih(r.query)),new rl(s,r.targetId,0,r.lastListenSequenceNumber,e,t,vr.fromBase64String(r.resumeToken))}function Ug(r,e){const t=Xl(e.snapshotVersion),s=Xl(e.lastLimboFreeSnapshotVersion);let a;a=au(e.target)?Eo(r.re,e.target):Ql(r.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pa(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Fh(r){const e=Ih({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Zu(e,e.limit,"L"):e}function Ap(r,e){return new kh(e.largestBatchId,zn(r.re,e.overlayMutation))}function jg(r,e){const t=e.path.lastSegment();return[r,ho(e.path.popLast()),t]}function Hg(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Xl(s.readTime),documentKey:ho(s.documentKey.path),largestBatchId:s.largestBatchId}}class vv{getBundleMetadata(e,t){return xp(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Vc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return xp(e).put({bundleId:(s=t).id,createTime:Xl(Os(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Gg(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Fh(a.bundledQuery),readTime:Vc(a.readTime)};var a})}saveNamedQuery(e,t){return Gg(e).put({name:(s=t).name,readTime:Xl(Os(s.readTime)),bundledQuery:s.bundledQuery});var s}}function xp(r){return Gs(r,"bundles")}function Gg(r){return Gs(r,"namedQueries")}class Lh{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Lh(e,t.uid||"")}getOverlay(e,t){return hd(e).get(jg(this.userId,t)).next(s=>s?Ap(this.It,s):null)}getOverlays(e,t){const s=fa();return Rt.forEach(t,a=>this.getOverlay(e,a).next(d=>{null!==d&&s.set(a,d)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((d,m)=>{const M=new kh(t,m);a.push(this.ue(e,M))}),Rt.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(m=>a.add(ho(m.getCollectionPath())));const d=[];return a.forEach(m=>{const M=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);d.push(hd(e).Y("collectionPathOverlayIndex",M))}),Rt.waitFor(d)}getOverlaysForCollection(e,t,s){const a=fa(),d=ho(t),m=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return hd(e).W("collectionPathOverlayIndex",m).next(M=>{for(const H of M){const J=Ap(this.It,H);a.set(J.getKey(),J)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const d=fa();let m;const M=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hd(e).Z({index:"collectionGroupOverlayIndex",range:M},(H,J,Te)=>{const tt=Ap(this.It,J);d.size()<a||tt.largestBatchId===m?(d.set(tt.getKey(),tt),m=tt.largestBatchId):Te.done()}).next(()=>d)}ue(e,t){return hd(e).put(function(s,a,d){const[m,M,H]=jg(a,d.mutation.key);return{userId:a,collectionPath:M,documentId:H,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:qn(s.re,d.mutation)}}(this.It,this.userId,t))}}function hd(r){return Gs(r,"documentOverlays")}class ui{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Dr(e.integerValue));else if("doubleValue"in e){const s=Dr(e.doubleValue);isNaN(s)?this.le(t,13):(this.le(t,15),Ke(s)?t.fe(0):t.fe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.le(t,20),"string"==typeof s?t.de(s):(t.de(`${s.seconds||""}`),t.fe(s.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(ea(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.le(t,45),t.fe(s.latitude||0),t.fe(s.longitude||0)}else"mapValue"in e?Lo(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Ht()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const s=e.fields||{};this.le(t,55);for(const a of Object.keys(s))this._e(a,t),this.ae(s[a],t)}pe(e,t){const s=e.values||[];this.le(t,50);for(const a of s)this.ae(a,t)}ge(e,t){this.le(t,37),bn.fromName(e).path.forEach(s=>{this.le(t,60),this.Ie(s,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function $g(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Op(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const d=$g(255&t[a]);if(s+=d,8!==d)break}return s}(r);return Math.ceil(e/8)}ui.Te=new ui;class zg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Pe(s.value),s=t.next();this.ve()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const a=t.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}this.Re()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Pe(s);else if(s<2048)this.Pe(960|s>>>6),this.Pe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s);else{const a=t.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}this.ve()}De(e){const t=this.Ce(e),s=Op(t);this.xe(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Ne(e){const t=this.Ce(e),s=Op(t);this.xe(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(a){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,a,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Bh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class La{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class yu{constructor(){this.Be=new zg,this.Le=new Bh(this.Be),this.Ue=new La(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class jc{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new jc(this.indexId,this.documentKey,this.arrayValue,s)}}function Il(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=sl(r.arrayValue,e.arrayValue),0!==t?t:(t=sl(r.directionalValue,e.directionalValue),0!==t?t:bn.comparator(r.documentKey,e.documentKey)))}function sl(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Rp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const s=t;s.dt()?this.je=s:this.Qe.push(s)}}We(e){const t=Gu(e);if(void 0!==t&&!this.ze(t))return!1;const s=ml(e);let a=0,d=0;for(;a<s.length&&this.ze(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.je){const m=s[a];if(!this.He(this.je,m)||!this.Je(this.Ge[d++],m))return!1;++a}for(;a<s.length;++a){const m=s[a];if(d>=this.Ge.length||!this.Je(this.Ge[d++],m))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Wg{constructor(){this.Ye=new fd}addToCollectionParentIndex(e,t){return this.Ye.add(t),Rt.resolve()}getCollectionParents(e,t){return Rt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Rt.resolve()}deleteFieldIndex(e,t){return Rt.resolve()}getDocumentsMatchingTarget(e,t){return Rt.resolve(null)}getIndexType(e,t){return Rt.resolve(0)}getFieldIndexes(e,t){return Rt.resolve([])}getNextCollectionGroupToUpdate(e){return Rt.resolve(null)}getMinOffset(e,t){return Rt.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,t){return Rt.resolve(jr.min())}updateCollectionGroup(e,t,s){return Rt.resolve()}updateIndexEntries(e,t){return Rt.resolve()}}class fd{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ni(ji.comparator),d=!a.has(s);return this.index[t]=a.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ni(ji.comparator)).toArray()}}const Pp=new Uint8Array(0);class Kg{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new fd,this.Ze=new el(s=>Pa(s),(s,a)=>wc(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const d={collectionId:s,parent:ho(a)};return bv(e).put(d)}return Rt.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[ko(t),""],!1,!0);return bv(e).W(a).next(d=>{for(const m of d){if(m.collectionId!==t)break;s.push(Fa(m.parent))}return s})}addFieldIndex(e,t){const s=Hc(e),a={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var m;delete a.indexId;const d=s.add(a);if(t.indexState){const m=Gc(e);return d.next(M=>{m.put(Hg(M,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const s=Hc(e),a=Gc(e),d=Jl(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Jl(e);let a=!0;const d=new Map;return Rt.forEach(this.tn(t),m=>this.en(e,m).next(M=>{a&&(a=!!M),d.set(m,M)})).next(()=>{if(a){let m=bi();const M=[];return Rt.forEach(d,(H,J)=>{var Te;te("IndexedDbIndexManager",`Using index ${Te=H,`id=${Te.indexId}|cg=${Te.collectionGroup}|f=${Te.fields.map(zi=>`${zi.fieldPath}:${zi.kind}`).join(",")}`} to execute ${Pa(t)}`);const tt=function(zi,wi){const Ii=Gu(wi);if(void 0===Ii)return null;for(const Fi of zu(zi,Ii.fieldPath))switch(Fi.op){case"array-contains-any":return Fi.value.arrayValue.values||[];case"array-contains":return[Fi.value]}return null}(J,H),xt=function(zi,wi){const Ii=new Map;for(const Fi of ml(wi))for(const Ps of zu(zi,Fi.fieldPath))switch(Ps.op){case"==":case"in":Ii.set(Fi.fieldPath.canonicalString(),Ps.value);break;case"not-in":case"!=":return Ii.set(Fi.fieldPath.canonicalString(),Ps.value),Array.from(Ii.values())}return null}(J,H),Wt=function(zi,wi){const Ii=[];let Fi=!0;for(const Ps of ml(wi)){const Ws=0===Ps.kind?Dc(zi,Ps.fieldPath,zi.startAt):zl(zi,Ps.fieldPath,zi.startAt);Ii.push(Ws.value),Fi&&(Fi=Ws.inclusive)}return new Xs(Ii,Fi)}(J,H),qt=function(zi,wi){const Ii=[];let Fi=!0;for(const Ps of ml(wi)){const Ws=0===Ps.kind?zl(zi,Ps.fieldPath,zi.endAt):Dc(zi,Ps.fieldPath,zi.endAt);Ii.push(Ws.value),Fi&&(Fi=Ws.inclusive)}return new Xs(Ii,Fi)}(J,H),yn=this.nn(H,J,Wt),Pn=this.nn(H,J,qt),Mi=this.sn(H,J,xt),sr=this.rn(H.indexId,tt,yn,Wt.inclusive,Pn,qt.inclusive,Mi);return Rt.forEach(sr,zi=>s.J(zi,t.limit).next(wi=>{wi.forEach(Ii=>{const Fi=bn.fromSegments(Ii.documentKey);m.has(Fi)||(m=m.add(Fi),M.push(Fi))})}))}).next(()=>M)}return Rt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,s,a,d,m,M){const H=(null!=t?t.length:1)*Math.max(s.length,d.length),J=H/(null!=t?t.length:1),Te=[];for(let tt=0;tt<H;++tt){const xt=t?this.on(t[tt/J]):Pp,Wt=this.un(e,xt,s[tt%J],a),qt=this.cn(e,xt,d[tt%J],m),yn=M.map(Pn=>this.un(e,xt,Pn,!0));Te.push(...this.createRange(Wt,qt,yn))}return Te}un(e,t,s,a){const d=new jc(e,bn.empty(),t,s);return a?d:d.Ke()}cn(e,t,s,a){const d=new jc(e,bn.empty(),t,s);return a?d.Ke():d}en(e,t){const s=new Rp(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(d=>{let m=null;for(const M of d)s.We(M)&&(!m||M.fields.length>m.fields.length)&&(m=M);return m})}getIndexType(e,t){let s=2;return Rt.forEach(this.tn(t),a=>this.en(e,a).next(d=>{d?0!==s&&d.fields.length<function(m){let M=new Ni(Mr.comparator),H=!1;for(const J of m.filters){const Te=J;Te.field.isKeyField()||("array-contains"===Te.op||"array-contains-any"===Te.op?H=!0:M=M.add(Te.field))}for(const J of m.orderBy)J.field.isKeyField()||(M=M.add(J.field));return M.size+(H?1:0)}(a)&&(s=1):s=0})).next(()=>s)}an(e,t){const s=new yu;for(const a of ml(e)){const d=t.data.field(a.fieldPath);if(null==d)return null;const m=s.qe(a.kind);ui.Te.ce(d,m)}return s.$e()}on(e){const t=new yu;return ui.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const s=new yu;return ui.Te.ce(vo(this.databaseId,t),s.qe(function(a){const d=ml(a);return 0===d.length?0:d[d.length-1].kind}(e))),s.$e()}sn(e,t,s){if(null===s)return[];let a=[];a.push(new yu);let d=0;for(const m of ml(e)){const M=s[d++];for(const H of a)if(this.ln(t,m.fieldPath)&&Qs(M))a=this.fn(a,m,M);else{const J=H.qe(m.kind);ui.Te.ce(M,J)}}return this.dn(a)}nn(e,t,s){return this.sn(e,t,s.position)}dn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}fn(e,t,s){const a=[...e],d=[];for(const m of s.arrayValue.values||[])for(const M of a){const H=new yu;H.seed(M.$e()),ui.Te.ce(m,H.qe(t.kind)),d.push(H)}return d}ln(e,t){return!!e.filters.find(s=>s instanceof xs&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Hc(e),a=Gc(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(d=>{const m=[];return Rt.forEach(d,M=>a.get([M.indexId,this.uid]).next(H=>{m.push(function(J,Te){const tt=Te?new jl(Te.sequenceNumber,new jr(Vc(Te.readTime),new bn(Fa(Te.documentKey)),Te.largestBatchId)):jl.empty(),xt=J.fields.map(([Wt,qt])=>new iu(Mr.fromServerFormat(Wt),qt));return new pl(J.indexId,J.collectionGroup,xt,tt)}(M,H))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const d=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==d?d:Xn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Hc(e),d=Gc(e);return this._n(e).next(m=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(M=>Rt.forEach(M,H=>d.put(Hg(H.indexId,this.user,m,s)))))}updateIndexEntries(e,t){const s=new Map;return Rt.forEach(t,(a,d)=>{const m=s.get(a.collectionGroup);return(m?Rt.resolve(m):this.getFieldIndexes(e,a.collectionGroup)).next(M=>(s.set(a.collectionGroup,M),Rt.forEach(M,H=>this.wn(e,a,H).next(J=>{const Te=this.mn(d,H);return J.isEqual(Te)?Rt.resolve():this.gn(e,d,H,J,Te)}))))})}yn(e,t,s,a){return Jl(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.hn(s,t.key),documentKey:t.key.path.toArray()})}pn(e,t,s,a){return Jl(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.hn(s,t.key),t.key.path.toArray()])}wn(e,t,s){const a=Jl(e);let d=new Ni(Il);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.hn(s,t)])},(m,M)=>{d=d.add(new jc(s.indexId,t,M.arrayValue,M.directionalValue))}).next(()=>d)}mn(e,t){let s=new Ni(Il);const a=this.an(t,e);if(null==a)return s;const d=Gu(t);if(null!=d){const m=e.data.field(d.fieldPath);if(Qs(m))for(const M of m.arrayValue.values||[])s=s.add(new jc(t.indexId,e.key,this.on(M),a))}else s=s.add(new jc(t.indexId,e.key,Pp,a));return s}gn(e,t,s,a,d){te("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(M,H,J,Te,tt){const xt=M.getIterator(),Wt=H.getIterator();let qt=yl(xt),yn=yl(Wt);for(;qt||yn;){let Pn=!1,Mi=!1;if(qt&&yn){const sr=J(qt,yn);sr<0?Mi=!0:sr>0&&(Pn=!0)}else null!=qt?Mi=!0:Pn=!0;Pn?(Te(yn),yn=yl(Wt)):Mi?(tt(qt),qt=yl(xt)):(qt=yl(xt),yn=yl(Wt))}}(a,d,Il,M=>{m.push(this.yn(e,t,s,M))},M=>{m.push(this.pn(e,t,s,M))}),Rt.waitFor(m)}_n(e){let t=1;return Gc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,d)=>{d.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((m,M)=>Il(m,M)).filter((m,M,H)=>!M||0!==Il(m,H[M-1]));const a=[];a.push(e);for(const m of s){const M=Il(m,e),H=Il(m,t);if(0===M)a[0]=e.Ke();else if(M>0&&H<0)a.push(m),a.push(m.Ke());else if(H>0)break}a.push(t);const d=[];for(let m=0;m<a.length;m+=2)d.push(IDBKeyRange.bound([a[m].indexId,this.uid,a[m].arrayValue,a[m].directionalValue,Pp,[]],[a[m+1].indexId,this.uid,a[m+1].arrayValue,a[m+1].directionalValue,Pp,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Vh)}getMinOffset(e,t){return Rt.mapArray(this.tn(t),s=>this.en(e,s).next(a=>a||Ht())).next(Vh)}}function bv(r){return Gs(r,"collectionParents")}function Jl(r){return Gs(r,"indexEntries")}function Hc(r){return Gs(r,"indexConfiguration")}function Gc(r){return Gs(r,"indexState")}function Vh(r){cn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;ru(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new jr(e.readTime,e.documentKey,t)}const Uh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ma{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ma(e,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zg(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),d=[],m=IDBKeyRange.only(t.batchId);let M=0;const H=s.Z({range:m},(Te,tt,xt)=>(M++,xt.delete()));d.push(H.next(()=>{cn(1===M)}));const J=[];for(const Te of t.mutations){const tt=Og(e,Te.key.path,t.batchId);d.push(a.delete(tt)),J.push(Te.key)}return Rt.waitFor(d).next(()=>J)}function jh(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Ht();e=r.noDocument}return JSON.stringify(e).length}ma.DEFAULT_COLLECTION_PERCENTILE=10,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ma.DEFAULT=new ma(41943040,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ma.DISABLED=new ma(-1,0,0);class Hh{constructor(e,t,s,a){this.userId=e,this.It=t,this.indexManager=s,this.referenceDelegate=a,this.In={}}static oe(e,t,s,a){cn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Hh(d,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).Z({index:"userMutationsIndex",range:s},(a,d,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const d=pd(e),m=Tl(e);return m.add({}).next(M=>{cn("number"==typeof M);const H=new Ip(M,t,s,a),J=function(xt,Wt,qt){const yn=qt.baseMutations.map(Mi=>qn(xt.re,Mi)),Pn=qt.mutations.map(Mi=>qn(xt.re,Mi));return{userId:Wt,batchId:qt.batchId,localWriteTimeMs:qt.localWriteTime.toMillis(),baseMutations:yn,mutations:Pn}}(this.It,this.userId,H),Te=[];let tt=new Ni((xt,Wt)=>Xn(xt.canonicalString(),Wt.canonicalString()));for(const xt of a){const Wt=Og(this.userId,xt.key.path,M);tt=tt.add(xt.key.path.popLast()),Te.push(m.put(J)),Te.push(d.put(Wt,Rg))}return tt.forEach(xt=>{Te.push(this.indexManager.addToCollectionParentIndex(e,xt))}),e.addOnCommittedListener(()=>{this.In[M]=H.keys()}),Rt.waitFor(Te).next(()=>H)})}lookupMutationBatch(e,t){return Tl(e).get(t).next(s=>s?(cn(s.userId===this.userId),Uc(this.It,s)):null)}Tn(e,t){return this.In[t]?Rt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.In[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Tl(e).Z({index:"userMutationsIndex",range:a},(m,M,H)=>{M.userId===this.userId&&(cn(M.batchId>=s),d=Uc(this.It,M)),H.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Tl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(a,d,m)=>{s=d.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).W("userMutationsIndex",t).next(s=>s.map(a=>Uc(this.It,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Ah(this.userId,t.path),a=IDBKeyRange.lowerBound(s),d=[];return pd(e).Z({range:a},(m,M,H)=>{const[J,Te,tt]=m,xt=Fa(Te);if(J===this.userId&&t.path.isEqual(xt))return Tl(e).get(tt).next(Wt=>{if(!Wt)throw Ht();cn(Wt.userId===this.userId),d.push(Uc(this.It,Wt))});H.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ni(Xn);const a=[];return t.forEach(d=>{const m=Ah(this.userId,d.path),M=IDBKeyRange.lowerBound(m),H=pd(e).Z({range:M},(J,Te,tt)=>{const[xt,Wt,qt]=J,yn=Fa(Wt);xt===this.userId&&d.path.isEqual(yn)?s=s.add(qt):tt.done()});a.push(H)}),Rt.waitFor(a).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,d=Ah(this.userId,s),m=IDBKeyRange.lowerBound(d);let M=new Ni(Xn);return pd(e).Z({range:m},(H,J,Te)=>{const[tt,xt,Wt]=H,qt=Fa(xt);tt===this.userId&&s.isPrefixOf(qt)?qt.length===a&&(M=M.add(Wt)):Te.done()}).next(()=>this.En(e,M))}En(e,t){const s=[],a=[];return t.forEach(d=>{a.push(Tl(e).get(d).next(m=>{if(null===m)throw Ht();cn(m.userId===this.userId),s.push(Uc(this.It,m))}))}),Rt.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Zg(e.ie,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Rt.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Rt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return pd(e).Z({range:s},(d,m,M)=>{if(d[0]===this.userId){const H=Fa(d[1]);a.push(H)}else M.done()}).next(()=>{cn(0===a.length)})})}containsKey(e,t){return Yg(e,this.userId,t)}Rn(e){return qg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Yg(r,e,t){const s=Ah(e,t.path),a=s[1],d=IDBKeyRange.lowerBound(s);let m=!1;return pd(r).Z({range:d,X:!0},(M,H,J)=>{const[Te,tt,xt]=M;Te===e&&tt===a&&(m=!0),J.done()}).next(()=>m)}function Tl(r){return Gs(r,"mutations")}function pd(r){return Gs(r,"documentMutations")}function qg(r){return Gs(r,"mutationQueues")}class vu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new vu(0)}static vn(){return new vu(-1)}}class Qg{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new vu(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Zn.fromTimestamp(new Zi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Sn(e,a)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$c(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(cn(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let a=0;const d=[];return $c(e).Z((m,M)=>{const H=jo(M);H.sequenceNumber<=t&&null===s.get(H.targetId)&&(a++,d.push(this.removeTargetData(e,H)))}).next(()=>Rt.waitFor(d)).next(()=>a)}forEachTarget(e,t){return $c(e).Z((s,a)=>{const d=jo(a);t(d)})}Vn(e){return Xg(e).get("targetGlobalKey").next(t=>(cn(null!==t),t))}Sn(e,t){return Xg(e).put("targetGlobalKey",t)}Dn(e,t){return $c(e).put(Ug(this.It,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Pa(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return $c(e).Z({range:a,index:"queryTargetsIndex"},(m,M,H)=>{const J=jo(M);wc(t,J.target)&&(d=J,H.done())}).next(()=>d)}addMatchingKeys(e,t,s){const a=[],d=ol(e);return t.forEach(m=>{const M=ho(m.path);a.push(d.put({targetId:s,path:M})),a.push(this.referenceDelegate.addReference(e,s,m))}),Rt.waitFor(a)}removeMatchingKeys(e,t,s){const a=ol(e);return Rt.forEach(t,d=>{const m=ho(d.path);return Rt.waitFor([a.delete([s,m]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=ol(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=ol(e);let d=bi();return a.Z({range:s,X:!0},(m,M,H)=>{const J=Fa(m[1]),Te=new bn(J);d=d.add(Te)}).next(()=>d)}containsKey(e,t){const s=ho(t.path),a=IDBKeyRange.bound([s],[ko(s)],!1,!0);let d=0;return ol(e).Z({index:"documentTargetsIndex",X:!0,range:a},([m,M],H,J)=>{0!==m&&(d++,J.done())}).next(()=>d>0)}se(e,t){return $c(e).get(t).next(s=>s?jo(s):null)}}function $c(r){return Gs(r,"targets")}function Xg(r){return Gs(r,"targetGlobal")}function ol(r){return Gs(r,"targetDocuments")}function Ev([r,e],[t,s]){const a=Xn(r,t);return 0===a?Xn(e,s):a}class k0{constructor(e){this.xn=e,this.buffer=new Ni(Ev),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Ev(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class N0{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ne.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){ca(s)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Xr(s)}yield t.Fn(3e5)}))}}class F0{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Rt.resolve(ps.at);const s=new k0(t);return this.$n.forEachTarget(e,a=>s.Mn(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>s.Mn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector","Garbage collection skipped; disabled"),Rt.resolve(Uh)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uh):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let s,a,d,m,M,H,J;const Te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(tt=>(tt>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${tt}`),a=this.params.maximumSequenceNumbersToCollect):a=tt,m=Date.now(),this.nthSequenceNumber(e,a))).next(tt=>(s=tt,M=Date.now(),this.removeTargets(e,s,t))).next(tt=>(d=tt,H=Date.now(),this.removeOrphanedDocuments(e,s))).next(tt=>(J=Date.now(),$()<=Ee.in.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-Te}ms\n\tDetermined least recently used ${a} in `+(M-m)+`ms\n\tRemoved ${d} targets in `+(H-M)+`ms\n\tRemoved ${tt} documents in `+(J-H)+`ms\nTotal Duration: ${J-Te}ms`),Rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:d,documentsRemoved:tt})))}}class L0{constructor(e,t){this.db=e,this.garbageCollector=new F0(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}qn(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,a)=>t(a))}addReference(e,t,s){return kp(e,s)}removeReference(e,t,s){return kp(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return kp(e,t)}Gn(e,t){return function(s,a){let d=!1;return qg(s).tt(m=>Yg(s,m,a).next(M=>(M&&(d=!0),Rt.resolve(!M)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let d=0;return this.Kn(e,(m,M)=>{if(M<=t){const H=this.Gn(e,m).next(J=>{if(!J)return d++,s.getEntry(e,m).next(()=>(s.removeEntry(m,Zn.min()),ol(e).delete([0,ho(m.path)])))});a.push(H)}}).next(()=>Rt.waitFor(a)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return kp(e,t)}Kn(e,t){const s=ol(e);let a,d=ps.at;return s.Z({index:"documentTargetsIndex"},([m,M],{path:H,sequenceNumber:J})=>{0===m?(d!==ps.at&&t(new bn(Fa(a)),d),d=J,a=H):d=ps.at}).next(()=>{d!==ps.at&&t(new bn(Fa(a)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kp(r,e){return ol(r).put((s=r.currentSequenceNumber,{targetId:0,path:ho(e.path),sequenceNumber:s}));var s}class Cv{constructor(){this.changes=new el(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Rt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class B0{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Sl(e).put(s)}removeEntry(e,t,s){return Sl(e).delete(function(a,d){const m=a.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Nh(d),m[m.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=cr.newInvalidDocument(t);return Sl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(md(t))},(a,d)=>{s=this.jn(t,d)}).next(()=>s)}Wn(e,t){let s={size:0,document:cr.newInvalidDocument(t)};return Sl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(md(t))},(a,d)=>{s={document:this.jn(t,d),size:jh(d)}}).next(()=>s)}getEntries(e,t){let s=co();return this.zn(e,t,(a,d)=>{const m=this.jn(a,d);s=s.insert(a,m)}).next(()=>s)}Hn(e,t){let s=co(),a=new Pr(bn.comparator);return this.zn(e,t,(d,m)=>{const M=this.jn(d,m);s=s.insert(d,M),a=a.insert(d,jh(m))}).next(()=>({documents:s,Jn:a}))}zn(e,t,s){if(t.isEmpty())return Rt.resolve();let a=new Ni(Gh);t.forEach(H=>a=a.add(H));const d=IDBKeyRange.bound(md(a.first()),md(a.last())),m=a.getIterator();let M=m.getNext();return Sl(e).Z({index:"documentKeyIndex",range:d},(H,J,Te)=>{const tt=bn.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;M&&Gh(M,tt)<0;)s(M,null),M=m.getNext();M&&M.isEqual(tt)&&(s(M,J),M=m.hasNext()?m.getNext():null),M?Te.j(md(M)):Te.done()}).next(()=>{for(;M;)s(M,null),M=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,s){const a=[t.popLast().toArray(),t.lastSegment(),Nh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sl(e).W(IDBKeyRange.bound(a,d,!0)).next(m=>{let M=co();for(const H of m){const J=this.jn(bn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);M=M.insert(J.key,J)}return M})}getAllFromCollectionGroup(e,t,s,a){let d=co();const m=Np(t,s),M=Np(t,jr.max());return Sl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,M,!0)},(H,J,Te)=>{const tt=this.jn(bn.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);d=d.insert(tt.key,tt),d.size===a&&Te.done()}).next(()=>d)}newChangeBuffer(e){return new V0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ml(e).get("remoteDocumentGlobalKey").next(t=>(cn(!!t),t))}Qn(e,t){return Ml(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function P0(r,e){let t;if(e.document)t=Ut(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=bn.fromSegments(e.noDocument.path),a=Vc(e.noDocument.readTime);t=cr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ht();{const s=bn.fromSegments(e.unknownDocument.path),a=Vc(e.unknownDocument.version);t=cr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Zi(s[0],s[1]);return Zn.fromTimestamp(a)}(e.readTime)),t}(this.It,t);if(!s.isNoDocument()||!s.version.isEqual(Zn.min()))return s}return cr.newInvalidDocument(e)}}function wv(r){return new B0(r)}class V0 extends Cv{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new el(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Ni((d,m)=>Xn(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const M=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,M.readTime)),m.isValidDocument()){const H=Sp(this.Yn.It,m);a=a.add(d.path.popLast()),s+=jh(H)-M.size,t.push(this.Yn.addEntry(e,d,H))}else if(s-=M.size,this.trackRemovals){const H=Sp(this.Yn.It,m.convertToNoDocument(Zn.min()));t.push(this.Yn.addEntry(e,d,H))}}),a.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,s)),Rt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:a})=>(a.forEach((d,m)=>{this.Xn.set(d,{size:m,readTime:s.get(d).readTime})}),s))}}function Ml(r){return Gs(r,"remoteDocumentGlobal")}function Sl(r){return Gs(r,"remoteDocumentsV14")}function md(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Np(r,e){const t=e.documentKey.path.toArray();return[r,Nh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gh(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let d=0;d<t.length-2&&d<s.length-2;++d)if(a=Xn(t[d],s[d]),a)return a;return a=Xn(t.length,s.length),a||(a=Xn(t[t.length-2],s[s.length-2]),a||Xn(t[t.length-1],s[s.length-1]))}class Jg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $h{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.getBaseDocument(e,t,s))).next(a=>(null!==s&&Ac(s.mutation,a,ms.empty(),Zi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,bi()).next(()=>s))}getLocalViewOfDocuments(e,t,s=bi()){const a=fa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(d=>{let m=ba();return d.forEach((M,H)=>{m=m.insert(M,H.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const s=fa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,bi()))}populateOverlays(e,t,s){const a=[];return s.forEach(d=>{t.has(d)||a.push(d)}),this.documentOverlayCache.getOverlays(e,a).next(d=>{d.forEach((m,M)=>{t.set(m,M)})})}computeViews(e,t,s,a){let d=co();const m=wl(),M=wl();return t.forEach((H,J)=>{const Te=s.get(J.key);a.has(J.key)&&(void 0===Te||Te.mutation instanceof Uo)?d=d.insert(J.key,J):void 0!==Te&&(m.set(J.key,Te.mutation.getFieldMask()),Ac(Te.mutation,J,Te.mutation.getFieldMask(),Zi.now()))}),this.recalculateAndSaveOverlays(e,d).next(H=>(H.forEach((J,Te)=>m.set(J,Te)),t.forEach((J,Te)=>{var tt;return M.set(J,new Jg(Te,null!==(tt=m.get(J))&&void 0!==tt?tt:null))}),M))}recalculateAndSaveOverlays(e,t){const s=wl();let a=new Pr((m,M)=>m-M),d=bi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const M of m)M.keys().forEach(H=>{const J=t.get(H);if(null===J)return;let Te=s.get(H)||ms.empty();Te=M.applyToLocalView(J,Te),s.set(H,Te);const tt=(a.get(M.batchId)||bi()).add(H);a=a.insert(M.batchId,tt)})}).next(()=>{const m=[],M=a.getReverseIterator();for(;M.hasNext();){const H=M.getNext(),J=H.key,Te=H.value,tt=pu();Te.forEach(xt=>{if(!d.has(xt)){const Wt=fu(t.get(xt),s.get(xt));null!==Wt&&tt.set(xt,Wt),d=d.add(xt)}}),m.push(this.documentOverlayCache.saveOverlays(e,J,tt))}return Rt.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return bn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ku(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(d=>{const m=a-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-d.size):Rt.resolve(fa());let M=-1,H=d;return m.next(J=>Rt.forEach(J,(Te,tt)=>(M<tt.largestBatchId&&(M=tt.largestBatchId),d.get(Te)?Rt.resolve():this.getBaseDocument(e,Te,tt).next(xt=>{H=H.insert(Te,xt)}))).next(()=>this.populateOverlays(e,J,d)).next(()=>this.computeViews(e,H,J,bi())).next(Te=>({batchId:M,changes:id(Te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bn(t)).next(s=>{let a=ba();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let d=ba();return this.indexManager.getCollectionParents(e,a).next(m=>Rt.forEach(m,M=>{const H=(J=t,Te=M.child(a),new va(Te,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,Te;return this.getDocumentsMatchingCollectionQuery(e,H,s).next(J=>{J.forEach((Te,tt)=>{d=d.insert(Te,tt)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(d=>(a=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(d=>{d.forEach((M,H)=>{const J=H.getKey();null===a.get(J)&&(a=a.insert(J,cr.newInvalidDocument(J)))});let m=ba();return a.forEach((M,H)=>{const J=d.get(M);void 0!==J&&Ac(J.mutation,H,ms.empty(),Zi.now()),ka(t,H)&&(m=m.insert(M,H))}),m})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):Rt.resolve(cr.newInvalidDocument(t))}}class Dv{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Rt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Os(s.createTime)}),Rt.resolve()}getNamedQuery(e,t){return Rt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:Fh(s.bundledQuery),readTime:Os(s.readTime)}),Rt.resolve();var s}}class ec{constructor(){this.overlays=new Pr(bn.comparator),this.es=new Map}getOverlay(e,t){return Rt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=fa();return Rt.forEach(t,a=>this.getOverlay(e,a).next(d=>{null!==d&&s.set(a,d)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,d)=>{this.ue(e,t,d)}),Rt.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.es.get(s);return void 0!==a&&(a.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(s)),Rt.resolve()}getOverlaysForCollection(e,t,s){const a=fa(),d=t.length+1,m=new bn(t.child("")),M=this.overlays.getIteratorFrom(m);for(;M.hasNext();){const H=M.getNext().value,J=H.getKey();if(!t.isPrefixOf(J.path))break;J.path.length===d&&H.largestBatchId>s&&a.set(H.getKey(),H)}return Rt.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let d=new Pr((J,Te)=>J-Te);const m=this.overlays.getIterator();for(;m.hasNext();){const J=m.getNext().value;if(J.getKey().getCollectionGroup()===t&&J.largestBatchId>s){let Te=d.get(J.largestBatchId);null===Te&&(Te=fa(),d=d.insert(J.largestBatchId,Te)),Te.set(J.getKey(),J)}}const M=fa(),H=d.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((J,Te)=>M.set(J,Te)),!(M.size()>=a)););return Rt.resolve(M)}ue(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const m=this.es.get(a.largestBatchId).delete(s.key);this.es.set(a.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new kh(t,s));let d=this.es.get(t);void 0===d&&(d=bi(),this.es.set(t,d)),this.es.set(t,d.add(s.key))}}class zh{constructor(){this.ns=new Ni(Js.ss),this.rs=new Ni(Js.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new Js(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new Js(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new bn(new ji([])),s=new Js(t,e),a=new Js(t,e+1),d=[];return this.rs.forEachInRange([s,a],m=>{this.cs(m),d.push(m.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new bn(new ji([])),s=new Js(t,e),a=new Js(t,e+1);let d=bi();return this.rs.forEachInRange([s,a],m=>{d=d.add(m.key)}),d}containsKey(e){const t=new Js(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Js{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return bn.comparator(e.key,t.key)||Xn(e._s,t._s)}static os(e,t){return Xn(e._s,t._s)||bn.comparator(e.key,t.key)}}class Fp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ni(Js.ss)}checkEmpty(e){return Rt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const d=this.ws;this.ws++;const m=new Ip(d,t,s,a);this.mutationQueue.push(m);for(const M of a)this.gs=this.gs.add(new Js(M.key,d)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return Rt.resolve(m)}lookupMutationBatch(e,t){return Rt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),d=a<0?0:a;return Rt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Rt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Js(t,0),a=new Js(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([s,a],m=>{const M=this.ys(m._s);d.push(M)}),Rt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ni(Xn);return t.forEach(a=>{const d=new Js(a,0),m=new Js(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,m],M=>{s=s.add(M._s)})}),Rt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let d=s;bn.isDocumentKey(d)||(d=d.child(""));const m=new Js(new bn(d),0);let M=new Ni(Xn);return this.gs.forEachWhile(H=>{const J=H.key.path;return!!s.isPrefixOf(J)&&(J.length===a&&(M=M.add(H._s)),!0)},m),Rt.resolve(this.Is(M))}Is(e){const t=[];return e.forEach(s=>{const a=this.ys(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){cn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return Rt.forEach(t.mutations,a=>{const d=new Js(a.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new Js(t,0),a=this.gs.firstAfterOrEqual(s);return Rt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Rt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Iv{constructor(e){this.Es=e,this.docs=new Pr(bn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),d=a?a.size:0,m=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Rt.resolve(s?s.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let s=co();return t.forEach(a=>{const d=this.docs.get(a);s=s.insert(a,d?d.document.mutableCopy():cr.newInvalidDocument(a))}),Rt.resolve(s)}getAllFromCollection(e,t,s){let a=co();const d=new bn(t.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:M,value:{document:H}}=m.getNext();if(!t.isPrefixOf(M.path))break;M.path.length>t.length+1||ru(gl(H),s)<=0||(a=a.insert(H.key,H.mutableCopy()))}return Rt.resolve(a)}getAllFromCollectionGroup(e,t,s,a){Ht()}As(e,t){return Rt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new e_(this)}getSize(e){return Rt.resolve(this.size)}}class e_ extends Cv{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(s)}),Rt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Tv{constructor(e){this.persistence=e,this.Rs=new el(t=>Pa(t),wc),this.lastRemoteSnapshotVersion=Zn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zh,this.targetCount=0,this.vs=vu.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,a)=>t(a)),Rt.resolve()}getLastRemoteSnapshotVersion(e){return Rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Rt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),Rt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new vu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Rt.resolve()}updateTargetData(e,t){return this.Dn(t),Rt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Rt.resolve()}removeTargets(e,t,s){let a=0;const d=[];return this.Rs.forEach((m,M)=>{M.sequenceNumber<=t&&null===s.get(M.targetId)&&(this.Rs.delete(m),d.push(this.removeMatchingKeysForTargetId(e,M.targetId)),a++)}),Rt.waitFor(d).next(()=>a)}getTargetCount(e){return Rt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return Rt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),Rt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const a=this.persistence.referenceDelegate,d=[];return a&&t.forEach(m=>{d.push(a.markPotentiallyOrphaned(e,m))}),Rt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Rt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return Rt.resolve(s)}containsKey(e,t){return Rt.resolve(this.Ps.containsKey(t))}}class t_{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ps(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Tv(this),this.indexManager=new Wg,this.remoteDocumentCache=new Iv(s=>this.referenceDelegate.xs(s)),this.It=new Mp(t),this.Ns=new Dv(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ec,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Fp(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){te("MemoryPersistence","Starting transaction:",e);const a=new gd(this.Ss.next());return this.referenceDelegate.ks(),s(a).next(d=>this.referenceDelegate.Ms(a).next(()=>d)).toPromise().then(d=>(a.raiseOnCommittedEvent(),d))}Os(e,t){return Rt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class gd extends ao{constructor(e){super(),this.currentSequenceNumber=e}}class Al{constructor(e){this.persistence=e,this.Fs=new zh,this.$s=null}static Bs(e){return new Al(e)}get Ls(){if(this.$s)return this.$s;throw Ht()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),Rt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),Rt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Rt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(d=>this.Ls.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rt.forEach(this.Ls,s=>{const a=bn.fromPath(s);return this.Us(e,a).next(d=>{d||t.removeEntry(a,Zn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Rt.or([()=>Rt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Lp{constructor(e){this.It=e}$(e,t,s,a){const d=new Oa("createOrUpgrade",t);var M;s<1&&a>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sh,{unique:!0}),M.createObjectStore("documentMutations"),zc(e),function(M){M.createObjectStore("remoteDocuments")}(e));let m=Rt.resolve();return s<3&&a>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),zc(e)),m=m.next(()=>function(M){const H=M.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zn.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",J)}(d))),s<4&&a>=4&&(0!==s&&(m=m.next(()=>function(M,H){return H.store("mutations").W().next(J=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sh,{unique:!0});const Te=H.store("mutations"),tt=J.map(xt=>Te.put(xt));return Rt.waitFor(tt)})}(e,d))),m=m.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(m=m.next(()=>this.qs(d))),s<6&&a>=6&&(m=m.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),s<7&&a>=7&&(m=m.next(()=>this.Gs(d))),s<8&&a>=8&&(m=m.next(()=>this.Qs(e,d))),s<9&&a>=9&&(m=m.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(m=m.next(()=>this.js(d))),s<11&&a>=11&&(m=m.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(m=m.next(()=>{!function(M){const H=M.createObjectStore("documentOverlays",{keyPath:Vg});H.createIndex("collectionPathOverlayIndex",Oh,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",Rh,{unique:!1})}(e)})),s<13&&a>=13&&(m=m.next(()=>function(M){const H=M.createObjectStore("remoteDocumentsV14",{keyPath:Pg});H.createIndex("documentKeyIndex",Bc),H.createIndex("collectionGroupIndex",kg)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(m=m.next(()=>this.zs(e,d))),s<15&&a>=15&&(m=m.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Fg}).createIndex("sequenceNumberIndex",Lg,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Bg}).createIndex("documentKeyIndex",bp,{unique:!1})}(e))),m}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,a)=>{t+=jh(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(a=>Rt.forEach(a,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",m).next(M=>Rt.forEach(M,H=>{cn(H.userId===d.userId);const J=Uc(this.It,H);return Zg(e,d.userId,J).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const d=[];return s.Z((m,M)=>{const H=new ji(m),J=[0,ho(H)];d.push(t.get(J).next(Te=>Te?Rt.resolve():t.put({targetId:0,path:ho(H),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Rt.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:yv});const s=t.store("collectionParents"),a=new fd,d=m=>{if(a.add(m)){const M=m.lastSegment(),H=m.popLast();return s.put({collectionId:M,parent:ho(H)})}};return t.store("remoteDocuments").Z({X:!0},(m,M)=>{const H=new ji(m);return d(H.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([m,M,H],J)=>{const Te=Fa(M);return d(Te.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,a)=>{const d=jo(a),m=Ug(this.It,d);return t.put(m)})}Ws(e,t){const s=t.store("remoteDocuments"),a=[];return s.Z((d,m)=>{const M=t.store("remoteDocumentsV14"),H=(J=m,J.document?new bn(ji.fromString(J.document.name).popFirst(5)):J.noDocument?bn.fromSegments(J.noDocument.path):J.unknownDocument?bn.fromSegments(J.unknownDocument.path):Ht()).path.toArray();var J;const Te={prefixPath:H.slice(0,H.length-2),collectionGroup:H[H.length-2],documentId:H[H.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};a.push(M.put(Te))}).next(()=>Rt.waitFor(a))}zs(e,t){const s=t.store("mutations"),a=wv(this.It),d=new t_(Al.Bs,this.It.re);return s.W().next(m=>{const M=new Map;return m.forEach(H=>{var J;let Te=null!==(J=M.get(H.userId))&&void 0!==J?J:bi();Uc(this.It,H).keys().forEach(tt=>Te=Te.add(tt)),M.set(H.userId,Te)}),Rt.forEach(M,(H,J)=>{const Te=new A(J),tt=Lh.oe(this.It,Te),xt=d.getIndexManager(Te),Wt=Hh.oe(Te,this.It,xt,d.referenceDelegate);return new $h(a,Wt,tt,xt).recalculateAndSaveOverlaysForDocumentKeys(new Dp(t,ps.at),H).next()})})}}function zc(r){r.createObjectStore("targetDocuments",{keyPath:_v}).createIndex("documentTargetsIndex",xh,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ng,{unique:!0}),r.createObjectStore("targetGlobal")}const Wc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tc{constructor(e,t,s,a,d,m,M,H,J,Te,tt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=d,this.window=m,this.document=M,this.Js=J,this.Ys=Te,this.Xs=tt,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=xt=>Promise.resolve(),!tc.C())throw new Qt(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new L0(this,a),this.ii=t+"main",this.It=new Mp(H),this.ri=new qs(this.ii,this.Xs,new Lp(this.It)),this.Cs=new Qg(this.referenceDelegate,this.It),this.remoteDocumentCache=wv(this.It),this.Ns=new vv,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Te&&je("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Qt(Tt.FAILED_PRECONDITION,Wc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ps(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,Ne.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ne.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ca(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return _d(e).get("owner").next(t=>Rt.resolve(this.mi(t)))}gi(e){return yd(e).delete(this.clientId)}yi(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Gs(s,"clientMetadata");return a.W().next(d=>{const m=e.Ii(d,18e5),M=d.filter(H=>-1===m.indexOf(H));return Rt.forEach(M,H=>a.delete(H.clientId)).next(()=>M)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Rt.resolve(!0):_d(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Qt(Tt.FAILED_PRECONDITION,Wc);return!1}}return!(!this.networkEnabled||!this.inForeground)||yd(e).W().next(s=>void 0===this.Ii(s,5e3).find(a=>{if(this.clientId!==a.clientId){const m=!this.inForeground&&a.inForeground,M=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||m&&M)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&te("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Dp(t,ps.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>yd(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Hh.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Kg(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Lh.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){te("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",d=15===(m=this.Xs)?dd:14===m?Ph:13===m?wp:12===m?Cp:11===m?Ep:void Ht();var m;let M;return this.ri.runTransaction(e,a,d,H=>(M=new Dp(H,this.Ss?this.Ss.next():ps.at),"readwrite-primary"===t?this.fi(M).next(J=>!!J||this.di(M)).next(J=>{if(!J)throw je(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Qt(Tt.FAILED_PRECONDITION,Hl);return s(M)}).next(J=>this.wi(M).next(()=>J)):this.Vi(M).next(()=>s(M)))).then(H=>(M.raiseOnCommittedEvent(),H))}Vi(e){return _d(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Qt(Tt.FAILED_PRECONDITION,Wc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _d(e).put("owner",t)}static C(){return qs.C()}_i(e){const t=_d(e);return t.get("owner").next(s=>this.mi(s)?(te("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Rt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(je(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,_e.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return te("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return je("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){je("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _d(r){return Gs(r,"owner")}function yd(r){return Gs(r,"clientMetadata")}function Wh(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class vd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=a}static Ci(e,t){let s=bi(),a=bi();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}return new vd(e,t.fromCache,s,a)}}class Kh{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.ki(e,t).next(d=>d||this.Mi(e,t,a,s)).next(d=>d||this.Oi(e,t))}ki(e,t){if(Wu(t))return Rt.resolve(null);let s=Vo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Zu(t,null,"F"),s=Vo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const m=bi(...d);return this.Ni.getDocuments(e,m).next(M=>this.indexManager.getMinOffset(e,s).next(H=>{const J=this.Fi(t,M);return this.$i(t,J,m,H.readTime)?this.ki(e,Zu(t,null,"F")):this.Bi(e,J,t,H)}))})))}Mi(e,t,s,a){return Wu(t)||a.isEqual(Zn.min())?this.Oi(e,t):this.Ni.getDocuments(e,s).next(d=>{const m=this.Fi(t,d);return this.$i(t,m,s,a)?this.Oi(e,t):($()<=Ee.in.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ia(t)),this.Bi(e,m,t,Rr(a,-1)))})}Fi(e,t){let s=new Ni(Ic(e));return t.forEach((a,d)=>{ka(e,d)&&(s=s.add(d))}),s}$i(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(a)>0)}Oi(e,t){return $()<=Ee.in.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ia(t)),this.Ni.getDocumentsMatchingQuery(e,t,jr.min())}Bi(e,t,s,a){return this.Ni.getDocumentsMatchingQuery(e,s,a).next(d=>(t.forEach(m=>{d=d.insert(m.key,m)}),d))}}class n_{constructor(e,t,s,a){this.persistence=e,this.Li=t,this.It=a,this.Ui=new Pr(Xn),this.qi=new el(d=>Pa(d),wc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $h(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function bd(r,e,t,s){return new n_(r,e,t,s)}function i_(r,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,Ne.Z)(function*(r,e){const t=en(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(d=>(a=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(d=>{const m=[],M=[];let H=bi();for(const J of a){m.push(J.batchId);for(const Te of J.mutations)H=H.add(Te.key)}for(const J of d){M.push(J.batchId);for(const Te of J.mutations)H=H.add(Te.key)}return t.localDocuments.getDocuments(s,H).next(J=>({ji:J,removedBatchIds:m,addedBatchIds:M}))})})}),Zh.apply(this,arguments)}function U0(r,e){const t=en(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(m,M,H,J){const Te=H.batch,tt=Te.keys();let xt=Rt.resolve();return tt.forEach(Wt=>{xt=xt.next(()=>J.getEntry(M,Wt)).next(qt=>{const yn=H.docVersions.get(Wt);cn(null!==yn),qt.version.compareTo(yn)<0&&(Te.applyToRemoteDocument(qt,H),qt.isValidDocument()&&(qt.setReadTime(H.commitVersion),J.addEntry(qt)))})}),xt.next(()=>m.mutationQueue.removeMutationBatch(M,Te))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let M=bi();for(let H=0;H<m.mutationResults.length;++H)m.mutationResults[H].transformResults.length>0&&(M=M.add(m.batch.mutations[H].key));return M}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function Bp(r){const e=en(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function r_(r,e){const t=en(r),s=e.snapshotVersion;let a=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.Ui;const M=[];e.targetChanges.forEach((Te,tt)=>{const xt=a.get(tt);if(!xt)return;M.push(t.Cs.removeMatchingKeys(d,Te.removedDocuments,tt).next(()=>t.Cs.addMatchingKeys(d,Te.addedDocuments,tt)));let Wt=xt.withSequenceNumber(d.currentSequenceNumber);var qt,yn,Pn;e.targetMismatches.has(tt)?Wt=Wt.withResumeToken(vr.EMPTY_BYTE_STRING,Zn.min()).withLastLimboFreeSnapshotVersion(Zn.min()):Te.resumeToken.approximateByteSize()>0&&(Wt=Wt.withResumeToken(Te.resumeToken,s)),a=a.insert(tt,Wt),yn=Wt,Pn=Te,(0===(qt=xt).resumeToken.approximateByteSize()||yn.snapshotVersion.toMicroseconds()-qt.snapshotVersion.toMicroseconds()>=3e8||Pn.addedDocuments.size+Pn.modifiedDocuments.size+Pn.removedDocuments.size>0)&&M.push(t.Cs.updateTargetData(d,Wt))});let H=co(),J=bi();if(e.documentUpdates.forEach(Te=>{e.resolvedLimboDocuments.has(Te)&&M.push(t.persistence.referenceDelegate.updateLimboDocument(d,Te))}),M.push(s_(d,m,e.documentUpdates).next(Te=>{H=Te.Wi,J=Te.zi})),!s.isEqual(Zn.min())){const Te=t.Cs.getLastRemoteSnapshotVersion(d).next(tt=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,s));M.push(Te)}return Rt.waitFor(M).next(()=>m.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,H,J)).next(()=>H)}).then(d=>(t.Ui=a,d))}function s_(r,e,t){let s=bi(),a=bi();return t.forEach(d=>s=s.add(d)),e.getEntries(r,s).next(d=>{let m=co();return t.forEach((M,H)=>{const J=d.get(M);H.isFoundDocument()!==J.isFoundDocument()&&(a=a.add(M)),H.isNoDocument()&&H.version.isEqual(Zn.min())?(e.removeEntry(M,H.readTime),m=m.insert(M,H)):!J.isValidDocument()||H.version.compareTo(J.version)>0||0===H.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(H),m=m.insert(M,H)):te("LocalStore","Ignoring outdated watch update for ",M,". Current version:",J.version," Watch version:",H.version)}),{Wi:m,zi:a}})}function o_(r,e){const t=en(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bu(r,e){const t=en(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Cs.getTargetData(s,e).next(d=>d?(a=d,Rt.resolve(a)):t.Cs.allocateTargetId(s).next(m=>(a=new rl(e,m,0,s.currentSequenceNumber),t.Cs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ui.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function Eu(r,e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,Ne.Z)(function*(r,e,t){const s=en(r),a=s.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,m=>s.persistence.referenceDelegate.removeTarget(m,a)))}catch(m){if(!ca(m))throw m;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.Ui=s.Ui.remove(e),s.qi.delete(a.target)}),Ho.apply(this,arguments)}function Yh(r,e,t){const s=en(r);let a=Zn.min(),d=bi();return s.persistence.runTransaction("Execute query","readonly",m=>function(M,H,J){const Te=en(M),tt=Te.qi.get(J);return void 0!==tt?Rt.resolve(Te.Ui.get(tt)):Te.Cs.getTargetData(H,J)}(s,m,Vo(e)).next(M=>{if(M)return a=M.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(m,M.targetId).next(H=>{d=H})}).next(()=>s.Li.getDocumentsMatchingQuery(m,e,t?a:Zn.min(),t?d:bi())).next(M=>(Sv(s,qu(e),M),{documents:M,Hi:d})))}function a_(r,e){const t=en(r),s=en(t.Cs),a=t.Ui.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",d=>s.se(d,e).next(m=>m?m.target:null))}function Mv(r,e){const t=en(r),s=t.Ki.get(e)||Zn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Gi.getAllFromCollectionGroup(a,e,Rr(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Sv(t,e,a),a))}function Sv(r,e,t){let s=Zn.min();t.forEach((a,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),r.Ki.set(e,s)}function c_(){return c_=(0,Ne.Z)(function*(r,e,t,s){const a=en(r);let d=bi(),m=co();for(const J of t){const Te=e.Ji(J.metadata.name);J.document&&(d=d.add(Te));const tt=e.Yi(J);tt.setReadTime(e.Xi(J.metadata.readTime)),m=m.insert(Te,tt)}const M=a.Gi.newChangeBuffer({trackRemovals:!0}),H=yield bu(a,(J=s,Vo(Ya(ji.fromString(`__bundle__/docs/${J}`)))));var J;return a.persistence.runTransaction("Apply bundle documents","readwrite",J=>s_(J,M,m).next(Te=>(M.apply(J),Te)).next(Te=>a.Cs.removeMatchingKeysForTargetId(J,H.targetId).next(()=>a.Cs.addMatchingKeys(J,d,H.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(J,Te.Wi,Te.zi)).next(()=>Te.Wi)))}),c_.apply(this,arguments)}function Av(r,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,Ne.Z)(function*(r,e,t=bi()){const s=yield bu(r,Vo(Fh(e.bundledQuery))),a=en(r);return a.persistence.runTransaction("Save named query","readwrite",d=>{const m=Os(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return a.Ns.saveNamedQuery(d,e);const M=s.withResumeToken(vr.EMPTY_BYTE_STRING,m);return a.Ui=a.Ui.insert(M.targetId,M),a.Cs.updateTargetData(d,M).next(()=>a.Cs.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>a.Cs.addMatchingKeys(d,t,s.targetId)).next(()=>a.Ns.saveNamedQuery(d,e))})}),Ed.apply(this,arguments)}function Vp(r,e){return`firestore_clients_${r}_${e}`}function u_(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Up(r,e){return`firestore_targets_${r}_${e}`}class qh{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Zi(e,t,s){const a=JSON.parse(s);let d,m="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(d=new Qt(a.error.code,a.error.message))),m?new qh(e,t,a.state,d):(je("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cu{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let a,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(a=new Qt(s.error.code,s.error.message))),d?new Cu(e,s.state,a):(je("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,d=Rc();for(let m=0;a&&m<s.activeTargetIds.length;++m)a=bt(s.activeTargetIds[m]),d=d.add(s.activeTargetIds[m]);return a?new Qh(e,d):(je("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xh{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xh(t.clientId,t.onlineState):(je("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jp{constructor(){this.activeTargetIds=Rc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hp{constructor(e,t,s,a,d){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Pr(Xn),this.started=!1,this.cr=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Vp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new jp),this.lr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.vi();for(const a of t){if(a===e.sr)continue;const d=e.getItem(Vp(e.persistenceKey,a));if(d){const m=Qh.Zi(a,d);m&&(e.ur=e.ur.insert(m.clientId,m))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const a=e.yr(s);a&&e.pr(a)}for(const a of e.cr)e.rr(a);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Up(this.persistenceKey,e));if(s){const a=Cu.Zi(e,s);a&&(t=a.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Up(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Er(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return te("SharedClientState","READ",e,t),t}setItem(e,t){te("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){te("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(te("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void je("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const a=t.vr(s.key);return t.Vr(a,null)}{const a=t.Sr(s.key,s.newValue);if(a)return t.Vr(a.clientId,a)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const a=t.Dr(s.key,s.newValue);if(a)return t.Cr(a)}}else if(t._r.test(s.key)){if(null!==s.newValue){const a=t.Nr(s.key,s.newValue);if(a)return t.kr(a)}}else if(s.key===t.wr){if(null!==s.newValue){const a=t.yr(s.newValue);if(a)return t.pr(a)}}else if(s.key===t.hr){const a=function(d){let m=ps.at;if(null!=d)try{const M=JSON.parse(d);cn("number"==typeof M),m=M}catch(M){je("SharedClientState","Failed to read sequence number from WebStorage",M)}return m}(s.newValue);a!==ps.at&&t.sequenceNumberHandler(a)}else if(s.key===t.mr){const a=t.Mr(s.newValue);yield Promise.all(a.map(d=>t.syncEngine.Or(d)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const a=new qh(this.currentUser,e,t,s),d=u_(this.persistenceKey,this.currentUser,e);this.setItem(d,a.tr())}Er(e){const t=u_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const a=Up(this.persistenceKey,e),d=new Cu(e,t,s);this.setItem(a,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Qh.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),a=Number(s[1]);return qh.Zi(new A(void 0!==s[2]?s[2]:null),a,t)}Nr(e,t){const s=this._r.exec(e),a=Number(s[1]);return Cu.Zi(a,t)}yr(e){return Xh.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);te("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),a=this.Ir(this.ur),d=this.Ir(s),m=[],M=[];return d.forEach(H=>{a.has(H)||m.push(H)}),a.forEach(H=>{d.has(H)||M.push(H)}),this.syncEngine.Br(m,M).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Rc();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Gp{constructor(){this.Lr=new jp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,s){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new jp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class d_{qr(e){}shutdown(){}}class h_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const al={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $p{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class xv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,s,a,d){const m=this.ao(e,t);te("RestConnection","Sending: ",m,s);const M={};return this.ho(M,a,d),this.lo(e,m,M,s).then(H=>(te("RestConnection","Received: ",H),H),H=>{throw lt("RestConnection",`${e} failed with error: `,H,"url: ",m,"request:",s),H})}fo(e,t,s,a,d,m){return this.co(e,t,s,a,d)}ho(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+I,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,d)=>e[d]=a),s&&s.headers.forEach((a,d)=>e[d]=a)}ao(e,t){return`${this.oo}/v1/${t}:${al[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,s,a){return new Promise((d,m)=>{const M=new Ma;M.listenOnce(dl.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Us.NO_ERROR:const J=M.getResponseJson();te("Connection","XHR received:",JSON.stringify(J)),d(J);break;case Us.TIMEOUT:te("Connection",'RPC "'+e+'" timed out'),m(new Qt(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case Us.HTTP_ERROR:const Te=M.getStatus();if(te("Connection",'RPC "'+e+'" failed with status:',Te,"response text:",M.getResponseText()),Te>0){const tt=M.getResponseJson().error;if(tt&&tt.status&&tt.message){const xt=function(Wt){const qt=Wt.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(qt)>=0?qt:Tt.UNKNOWN}(tt.status);m(new Qt(xt,tt.message))}else m(new Qt(Tt.UNKNOWN,"Server responded with status "+M.getStatus()))}else m(new Qt(Tt.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{te("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(a);M.send(t,"POST",H,s,15)})}_o(e,t,s){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ms(),m=ga(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new hl({})),this.ho(M.initMessageHeaders,t,s),(0,_e.uI)()||(0,_e.b$)()||(0,_e.d)()||(0,_e.w1)()||(0,_e.Mn)()||(0,_e.ru)()||(M.httpHeadersOverwriteParam="$httpHeaders");const H=a.join("");te("Connection","Creating WebChannel: "+H,M);const J=d.createWebChannel(H,M);let Te=!1,tt=!1;const xt=new $p({Hr:qt=>{tt?te("Connection","Not sending because WebChannel is closed:",qt):(Te||(te("Connection","Opening WebChannel transport."),J.open(),Te=!0),te("Connection","WebChannel sending:",qt),J.send(qt))},Jr:()=>J.close()}),Wt=(qt,yn,Pn)=>{qt.listen(yn,Mi=>{try{Pn(Mi)}catch(sr){setTimeout(()=>{throw sr},0)}})};return Wt(J,Xi.EventType.OPEN,()=>{tt||te("Connection","WebChannel transport opened.")}),Wt(J,Xi.EventType.CLOSE,()=>{tt||(tt=!0,te("Connection","WebChannel transport closed"),xt.io())}),Wt(J,Xi.EventType.ERROR,qt=>{tt||(tt=!0,lt("Connection","WebChannel transport errored:",qt),xt.io(new Qt(Tt.UNAVAILABLE,"The operation could not be completed")))}),Wt(J,Xi.EventType.MESSAGE,qt=>{var yn;if(!tt){const Pn=qt.data[0];cn(!!Pn);const Mi=Pn,sr=Mi.error||(null===(yn=Mi[0])||void 0===yn?void 0:yn.error);if(sr){te("Connection","WebChannel received error:",sr);const zi=sr.status;let wi=function(Fi){const Ps=Gr[Fi];if(void 0!==Ps)return Oc(Ps)}(zi),Ii=sr.message;void 0===wi&&(wi=Tt.INTERNAL,Ii="Unknown error status: "+zi+" with message "+sr.message),tt=!0,xt.io(new Qt(wi,Ii)),J.close()}else te("Connection","WebChannel received:",Pn),xt.ro(Pn)}}),Wt(m,$a.STAT_EVENT,qt=>{qt.stat===oo.PROXY?te("Connection","Detected buffering proxy"):qt.stat===oo.NOPROXY&&te("Connection","Detected no buffering proxy")}),setTimeout(()=>{xt.so()},0),xt}}function f_(){return"undefined"!=typeof window?window:null}function zp(){return"undefined"!=typeof document?document:null}function wu(r){return new Dh(r,!0)}class Wp{constructor(e,t,s=1e3,a=1.5,d=6e4){this.Hs=e,this.timerId=t,this.wo=s,this.mo=a,this.yo=d,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),a=Math.max(0,t-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class p_{constructor(e,t,s,a,d,m,M,H){this.Hs=e,this.Po=s,this.vo=a,this.Vo=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=M,this.listener=H,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Wp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Ne.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ne.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,Ne.Z)(function*(){s.Lo(),s.Uo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===Tt.RESOURCE_EXHAUSTED?(je(t.toString()),je("Using maximum backoff delay to prevent overloading the backend."),s.xo.Eo()):t&&t.code===Tt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.So===t&&this.Go(s,a)},s=>{e(()=>{const a=new Qt(Tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(a)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{s(()=>this.Qo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Ne.Z)(function*(){e.state=0,e.start()}))}Qo(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ov extends p_{constructor(e,t,s,a,d,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,m),this.It=d}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function An(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:Ht(),a=e.targetChange.targetIds||[],d=function(H,J){return H.gt?(cn(void 0===J||"string"==typeof J),vr.fromBase64String(J||"")):(cn(void 0===J||J instanceof Uint8Array),vr.fromUint8Array(J||new Uint8Array))}(r,e.targetChange.resumeToken),m=e.targetChange.cause,M=m&&function(H){const J=void 0===H.code?Tt.UNKNOWN:Oc(H.code);return new Qt(J,H.message||"")}(m);t=new uo(s,a,d,M||null)}else if("documentChange"in e){const s=e.documentChange,a=u(r,s.document.name),d=Os(s.document.updateTime),m=new Hs({mapValue:{fields:s.document.fields}}),M=cr.newFoundDocument(a,d,m);t=new mu(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,a=u(r,s.document),d=s.readTime?Os(s.readTime):Zn.min(),m=cr.newNoDocument(a,d);t=new mu([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,a=u(r,s.document);t=new mu([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Ht();{const s=e.filter,d=new Eh(s.count||0);t=new sd(s.targetId,d)}}var H;return t}(this.It,e),s=function(a){if(!("targetChange"in a))return Zn.min();const d=a.targetChange;return d.targetIds&&d.targetIds.length?Zn.min():d.readTime?Os(d.readTime):Zn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=Y(this.It),t.addTarget=function(a,d){let m;const M=d.target;return m=au(M)?{documents:Eo(a,M)}:{query:Ql(a,M)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=Fc(a,d.resumeToken):d.snapshotVersion.compareTo(Zn.min())>0&&(m.readTime=Nc(a,d.snapshotVersion.toTimestamp())),m}(this.It,e);const s=function il(r,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ht()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=Y(this.It),t.removeTarget=e,this.Bo(t)}}class Kp extends p_{constructor(e,t,s,a,d,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,m),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Jr(r,e){return r&&r.length>0?(cn(void 0!==e),r.map(t=>function(s,a){let d=Os(s.updateTime?s.updateTime:a);return d.isEqual(Zn.min())&&(d=Os(a)),new mp(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Os(e.commitTime);return this.listener.Zo(s,t)}return cn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Y(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>qn(this.It,s))};this.Bo(t)}}class Rv extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=s,this.It=a,this.nu=!1}su(){if(this.nu)throw new Qt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.Vo.co(e,t,s,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Qt(Tt.UNKNOWN,a.toString())})}fo(e,t,s,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.Vo.fo(e,t,s,d,m,a)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Qt(Tt.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class Pv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(je(t),this.ou=!1):te("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Jh{constructor(e,t,s,a,d){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(M=>{s.enqueueAndForget((0,Ne.Z)(function*(){var H;xl(m)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,Ne.Z)(function*(J){const Te=en(J);Te._u.add(4),yield nc(Te),Te.gu.set("Unknown"),Te._u.delete(4),yield Kc(Te)}),function(J){return H.apply(this,arguments)})(m))}))}),this.gu=new Pv(s,a)}}function Kc(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Ne.Z)(function*(r){if(xl(r))for(const e of r.wu)yield e(!0)}),Zp.apply(this,arguments)}function nc(r){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,Ne.Z)(function*(r){for(const e of r.wu)yield e(!1)}),Cd.apply(this,arguments)}function wd(r,e){const t=en(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),qp(t)?m_(t):Du(t).ko()&&Yp(t,e))}function Dd(r,e){const t=en(r),s=Du(t);t.du.delete(e),s.ko()&&ef(t,e),0===t.du.size&&(s.ko()?s.Fo():xl(t)&&t.gu.set("Unknown"))}function Yp(r,e){r.yu.Ot(e.targetId),Du(r).zo(e)}function ef(r,e){r.yu.Ot(e),Du(r).Ho(e)}function m_(r){r.yu=new od({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),Du(r).start(),r.gu.uu()}function qp(r){return xl(r)&&!Du(r).No()&&r.du.size>0}function xl(r){return 0===en(r)._u.size}function Qp(r){r.yu=void 0}function g_(r){return tf.apply(this,arguments)}function tf(){return tf=(0,Ne.Z)(function*(r){r.du.forEach((e,t)=>{Yp(r,e)})}),tf.apply(this,arguments)}function __(r,e){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,Ne.Z)(function*(r,e){Qp(r),qp(r)?(r.gu.hu(e),m_(r)):r.gu.set("Unknown")}),Ba.apply(this,arguments)}function nf(r,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,Ne.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof uo&&2===e.state&&e.cause)try{yield(s=(0,Ne.Z)(function*(a,d){const m=d.cause;for(const M of d.targetIds)a.du.has(M)&&(yield a.remoteSyncer.rejectListen(M,m),a.du.delete(M),a.yu.removeTarget(M))}),function(a,d){return s.apply(this,arguments)})(r,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield rf(r,s)}else if(e instanceof mu?r.yu.Gt(e):e instanceof sd?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Zn.min()))try{const s=yield Bp(r.localStore);t.compareTo(s)>=0&&(yield function(a,d){const m=a.yu.te(d);return m.targetChanges.forEach((M,H)=>{if(M.resumeToken.approximateByteSize()>0){const J=a.du.get(H);J&&a.du.set(H,J.withResumeToken(M.resumeToken,d))}}),m.targetMismatches.forEach(M=>{const H=a.du.get(M);if(!H)return;a.du.set(M,H.withResumeToken(vr.EMPTY_BYTE_STRING,H.snapshotVersion)),ef(a,M);const J=new rl(H.target,M,1,H.sequenceNumber);Yp(a,J)}),a.remoteSyncer.applyRemoteEvent(m)}(r,t))}catch(s){te("RemoteStore","Failed to raise snapshot:",s),yield rf(r,s)}var s}),Xp.apply(this,arguments)}function rf(r,e,t){return y_.apply(this,arguments)}function y_(){return y_=(0,Ne.Z)(function*(r,e,t){if(!ca(e))throw e;r._u.add(1),yield nc(r),r.gu.set("Offline"),t||(t=()=>Bp(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){te("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield Kc(r)}))}),y_.apply(this,arguments)}function sf(r,e){return e().catch(t=>rf(r,t,e))}function Zc(r){return Id.apply(this,arguments)}function Id(){return Id=(0,Ne.Z)(function*(r){const e=en(r),t=sc(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Td(e);)try{const a=yield o_(e.localStore,s);if(null===a){0===e.fu.length&&t.Fo();break}s=a.batchId,kv(e,a)}catch(a){yield rf(e,a)}af(e)&&Jp(e)}),Id.apply(this,arguments)}function Td(r){return xl(r)&&r.fu.length<10}function kv(r,e){r.fu.push(e);const t=sc(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function af(r){return xl(r)&&!sc(r).No()&&r.fu.length>0}function Jp(r){sc(r).start()}function v_(r){return lf.apply(this,arguments)}function lf(){return lf=(0,Ne.Z)(function*(r){sc(r).eu()}),lf.apply(this,arguments)}function Nv(r){return Md.apply(this,arguments)}function Md(){return Md=(0,Ne.Z)(function*(r){const e=sc(r);for(const t of r.fu)e.Xo(t.mutations)}),Md.apply(this,arguments)}function Fv(r,e,t){return em.apply(this,arguments)}function em(){return em=(0,Ne.Z)(function*(r,e,t){const s=r.fu.shift(),a=Tp.from(s,e,t);yield sf(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Zc(r)}),em.apply(this,arguments)}function b_(r,e){return ic.apply(this,arguments)}function ic(){return ic=(0,Ne.Z)(function*(r,e){var t;e&&sc(r).Yo&&(yield(t=(0,Ne.Z)(function*(s,a){if(Ja(d=a.code)&&d!==Tt.ABORTED){const m=s.fu.shift();sc(s).Oo(),yield sf(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,a)),yield Zc(s)}var d}),function(s,a){return t.apply(this,arguments)})(r,e)),af(r)&&Jp(r)}),ic.apply(this,arguments)}function tm(r,e){return nm.apply(this,arguments)}function nm(){return nm=(0,Ne.Z)(function*(r,e){const t=en(r);t.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=xl(t);t._u.add(3),yield nc(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Kc(t)}),nm.apply(this,arguments)}function im(r,e){return rc.apply(this,arguments)}function rc(){return rc=(0,Ne.Z)(function*(r,e){const t=en(r);e?(t._u.delete(2),yield Kc(t)):e||(t._u.add(2),yield nc(t),t.gu.set("Unknown"))}),rc.apply(this,arguments)}function Du(r){return r.pu||(r.pu=function(e,t,s){const a=en(e);return a.su(),new Ov(t,a.Vo,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:g_.bind(null,r),Zr:__.bind(null,r),Wo:nf.bind(null,r)}),r.wu.push(function(){var e=(0,Ne.Z)(function*(t){t?(r.pu.Oo(),qp(r)?m_(r):r.gu.set("Unknown")):(yield r.pu.stop(),Qp(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function sc(r){return r.Iu||(r.Iu=function(e,t,s){const a=en(e);return a.su(),new Kp(t,a.Vo,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:v_.bind(null,r),Zr:b_.bind(null,r),tu:Nv.bind(null,r),Zo:Fv.bind(null,r)}),r.wu.push(function(){var e=(0,Ne.Z)(function*(t){t?(r.Iu.Oo(),yield Zc(r)):(yield r.Iu.stop(),r.fu.length>0&&(te("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class rm{constructor(e,t,s,a,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=d,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,s,a,d){const m=Date.now()+s,M=new rm(e,t,m,a,d);return M.start(s),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qt(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iu(r,e){if(je("AsyncQueue",`${e}: ${r}`),ca(r))return new Qt(Tt.UNAVAILABLE,`${e}: ${r}`);throw r}class Co{constructor(e){this.comparator=e?(t,s)=>e(t,s)||bn.comparator(t.key,s.key):(t,s)=>bn.comparator(t.key,s.key),this.keyedMap=ba(),this.sortedSet=new Pr(this.comparator)}static emptySet(e){return new Co(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=s.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class cf{constructor(){this.Tu=new Pr(bn.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ht():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Yc{constructor(e,t,s,a,d,m,M,H){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=M,this.excludesMetadataChanges=H}static fromInitialDocuments(e,t,s,a){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Yc(e,t,Co.emptySet(t),d,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class E_{constructor(){this.Au=void 0,this.listeners=[]}}class C_{constructor(){this.queries=new el(e=>Yu(e),lo),this.onlineState="Unknown",this.Ru=new Set}}function uf(r,e){return sm.apply(this,arguments)}function sm(){return sm=(0,Ne.Z)(function*(r,e){const t=en(r),s=e.query;let a=!1,d=t.queries.get(s);if(d||(a=!0,d=new E_),a)try{d.Au=yield t.onListen(s)}catch(m){const M=Iu(m,`Initialization of query '${ia(e.query)}' failed`);return void e.onError(M)}t.queries.set(s,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&D_(t)}),sm.apply(this,arguments)}function om(r,e){return am.apply(this,arguments)}function am(){return am=(0,Ne.Z)(function*(r,e){const t=en(r),s=e.query;let a=!1;const d=t.queries.get(s);if(d){const m=d.listeners.indexOf(e);m>=0&&(d.listeners.splice(m,1),a=0===d.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),am.apply(this,arguments)}function Lv(r,e){const t=en(r);let s=!1;for(const a of e){const m=t.queries.get(a.query);if(m){for(const M of m.listeners)M.Pu(a)&&(s=!0);m.Au=a}}s&&D_(t)}function w_(r,e,t){const s=en(r),a=s.queries.get(e);if(a)for(const d of a.listeners)d.onError(t);s.queries.delete(e)}function D_(r){r.Ru.forEach(e=>{e.next()})}class df{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Yc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Bv{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class I_{constructor(e){this.It=e}Ji(e){return u(this.It,e)}Yi(e){return e.metadata.exists?Ut(this.It,e.document,!1):cr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Os(e)}}class j0{constructor(e,t,s){this.Mu=e,this.localStore=t,this.It=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Vv(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=ji.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,s=new I_(this.It);for(const a of e)if(a.metadata.queries){const d=s.Ji(a.metadata.name);for(const m of a.metadata.queries){const M=(t.get(m)||bi()).add(d);t.set(m,M)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function l_(r,e,t,s){return c_.apply(this,arguments)}(e.localStore,new I_(e.It),e.documents,e.Mu.id),s=e.Fu(e.documents);for(const a of e.queries)yield Av(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Vv(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class hf{constructor(e){this.key=e}}class T_{constructor(e){this.key=e}}class lm{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=bi(),this.mutatedKeys=bi(),this.Ku=Ic(e),this.Gu=new Co(this.Ku)}get Qu(){return this.Lu}ju(e,t){const s=t?t.Wu:new cf,a=t?t.Gu:this.Gu;let d=t?t.mutatedKeys:this.mutatedKeys,m=a,M=!1;const H="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,J="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Te,tt)=>{const xt=a.get(Te),Wt=ka(this.query,tt)?tt:null,qt=!!xt&&this.mutatedKeys.has(xt.key),yn=!!Wt&&(Wt.hasLocalMutations||this.mutatedKeys.has(Wt.key)&&Wt.hasCommittedMutations);let Pn=!1;xt&&Wt?xt.data.isEqual(Wt.data)?qt!==yn&&(s.track({type:3,doc:Wt}),Pn=!0):this.zu(xt,Wt)||(s.track({type:2,doc:Wt}),Pn=!0,(H&&this.Ku(Wt,H)>0||J&&this.Ku(Wt,J)<0)&&(M=!0)):!xt&&Wt?(s.track({type:0,doc:Wt}),Pn=!0):xt&&!Wt&&(s.track({type:1,doc:xt}),Pn=!0,(H||J)&&(M=!0)),Pn&&(Wt?(m=m.add(Wt),d=yn?d.add(Te):d.delete(Te)):(m=m.delete(Te),d=d.delete(Te)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const Te="F"===this.query.limitType?m.last():m.first();m=m.delete(Te.key),d=d.delete(Te.key),s.track({type:1,doc:Te})}return{Gu:m,Wu:s,$i:M,mutatedKeys:d}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const d=e.Wu.Eu();d.sort((J,Te)=>function(tt,xt){const Wt=qt=>{switch(qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return Wt(tt)-Wt(xt)}(J.type,Te.type)||this.Ku(J.doc,Te.doc)),this.Hu(s);const m=t?this.Ju():[],M=0===this.qu.size&&this.current?1:0,H=M!==this.Uu;return this.Uu=M,0!==d.length||H?{snapshot:new Yc(this.query,e.Gu,a,d,e.mutatedKeys,0===M,H,!1),Yu:m}:{Yu:m}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new cf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=bi(),this.Gu.forEach(s=>{this.Xu(s.key)&&(this.qu=this.qu.add(s.key))});const t=[];return e.forEach(s=>{this.qu.has(s)||t.push(new T_(s))}),this.qu.forEach(s=>{e.has(s)||t.push(new hf(s))}),t}Zu(e){this.Lu=e.Hi,this.qu=bi();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Yc.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class M_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class H0{constructor(e){this.key=e,this.ec=!1}}class Va{constructor(e,t,s,a,d,m){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.nc={},this.sc=new el(M=>Yu(M),lo),this.ic=new Map,this.rc=new Set,this.oc=new Pr(bn.comparator),this.uc=new Map,this.cc=new zh,this.ac={},this.hc=new Map,this.lc=vu.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function G0(r,e){return S_.apply(this,arguments)}function S_(){return S_=(0,Ne.Z)(function*(r,e){const t=wf(r);let s,a;const d=t.sc.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),a=d.view.tc();else{const m=yield bu(t.localStore,Vo(e));t.isPrimaryClient&&wd(t.remoteStore,m);const M=t.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,a=yield ff(t,e,s,"current"===M)}return a}),S_.apply(this,arguments)}function ff(r,e,t,s){return pf.apply(this,arguments)}function pf(){return pf=(0,Ne.Z)(function*(r,e,t,s){r.dc=(Te,tt,xt)=>{return(Wt=(0,Ne.Z)(function*(qt,yn,Pn,Mi){let sr=yn.view.ju(Pn);sr.$i&&(sr=yield Yh(qt.localStore,yn.query,!1).then(({documents:Ii})=>yn.view.ju(Ii,sr)));const zi=Mi&&Mi.targetChanges.get(yn.targetId),wi=yn.view.applyChanges(sr,qt.isPrimaryClient,zi);return Sd(qt,yn.targetId,wi.Yu),wi.snapshot}),function(qt,yn,Pn,Mi){return Wt.apply(this,arguments)})(r,Te,tt,xt);var Wt};const a=yield Yh(r.localStore,e,!0),d=new lm(e,a.Hi),m=d.ju(a.documents),M=tl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState),H=d.applyChanges(m,r.isPrimaryClient,M);Sd(r,t,H.Yu);const J=new M_(e,t,d);return r.sc.set(e,J),r.ic.has(t)?r.ic.get(t).push(e):r.ic.set(t,[e]),H.snapshot}),pf.apply(this,arguments)}function A_(r,e){return cm.apply(this,arguments)}function cm(){return cm=(0,Ne.Z)(function*(r,e){const t=en(r),s=t.sc.get(e),a=t.ic.get(s.targetId);if(a.length>1)return t.ic.set(s.targetId,a.filter(d=>!lo(d,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Eu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Dd(t.remoteStore,s.targetId),Tu(t,s.targetId)}).catch(Xr))):(Tu(t,s.targetId),yield Eu(t.localStore,s.targetId,!0))}),cm.apply(this,arguments)}function mf(){return mf=(0,Ne.Z)(function*(r,e,t){const s=Df(r);try{const a=yield function(d,m){const M=en(d),H=Zi.now(),J=m.reduce((xt,Wt)=>xt.add(Wt.key),bi());let Te,tt;return M.persistence.runTransaction("Locally write mutations","readwrite",xt=>{let Wt=co(),qt=bi();return M.Gi.getEntries(xt,J).next(yn=>{Wt=yn,Wt.forEach((Pn,Mi)=>{Mi.isValidDocument()||(qt=qt.add(Pn))})}).next(()=>M.localDocuments.getOverlayedDocuments(xt,Wt)).next(yn=>{Te=yn;const Pn=[];for(const Mi of m){const sr=gp(Mi,Te.get(Mi.key).overlayedDocument);null!=sr&&Pn.push(new Uo(Mi.key,sr,ch(sr.value.mapValue),fi.exists(!0)))}return M.mutationQueue.addMutationBatch(xt,H,Pn,m)}).next(yn=>{tt=yn;const Pn=yn.applyToLocalDocumentSet(Te,qt);return M.documentOverlayCache.saveOverlays(xt,yn.batchId,Pn)})}).then(()=>({batchId:tt.batchId,changes:id(Te)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,m,M){let H=d.ac[d.currentUser.toKey()];H||(H=new Pr(Xn)),H=H.insert(m,M),d.ac[d.currentUser.toKey()]=H}(s,a.batchId,t),yield $r(s,a.changes),yield Zc(s.remoteStore)}catch(a){const d=Iu(a,"Failed to persist write");t.reject(d)}}),mf.apply(this,arguments)}function gf(r,e){return um.apply(this,arguments)}function um(){return um=(0,Ne.Z)(function*(r,e){const t=en(r);try{const s=yield r_(t.localStore,e);e.targetChanges.forEach((a,d)=>{const m=t.uc.get(d);m&&(cn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?m.ec=!0:a.modifiedDocuments.size>0?cn(m.ec):a.removedDocuments.size>0&&(cn(m.ec),m.ec=!1))}),yield $r(t,s,e)}catch(s){yield Xr(s)}}),um.apply(this,arguments)}function _f(r,e,t){const s=en(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.sc.forEach((d,m)=>{const M=m.view.bu(e);M.snapshot&&a.push(M.snapshot)}),function(d,m){const M=en(d);M.onlineState=m;let H=!1;M.queries.forEach((J,Te)=>{for(const tt of Te.listeners)tt.bu(m)&&(H=!0)}),H&&D_(M)}(s.eventManager,e),a.length&&s.nc.Wo(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Uv(r,e,t){return dm.apply(this,arguments)}function dm(){return dm=(0,Ne.Z)(function*(r,e,t){const s=en(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.uc.get(e),d=a&&a.key;if(d){let m=new Pr(bn.comparator);m=m.insert(d,cr.newNoDocument(d,Zn.min()));const M=bi().add(d),H=new Pc(Zn.min(),new Map,new Ni(Xn),m,M);yield gf(s,H),s.oc=s.oc.remove(d),s.uc.delete(e),Qc(s)}else yield Eu(s.localStore,e,!1).then(()=>Tu(s,e,t)).catch(Xr)}),dm.apply(this,arguments)}function jv(r,e){return hm.apply(this,arguments)}function hm(){return hm=(0,Ne.Z)(function*(r,e){const t=en(r),s=e.batch.batchId;try{const a=yield U0(t.localStore,e);qc(t,s,null),pm(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield $r(t,a)}catch(a){yield Xr(a)}}),hm.apply(this,arguments)}function Hv(r,e,t){return fm.apply(this,arguments)}function fm(){return fm=(0,Ne.Z)(function*(r,e,t){const s=en(r);try{const a=yield function(d,m){const M=en(d);return M.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let J;return M.mutationQueue.lookupMutationBatch(H,m).next(Te=>(cn(null!==Te),J=Te.keys(),M.mutationQueue.removeMutationBatch(H,Te))).next(()=>M.mutationQueue.performConsistencyCheck(H)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(H,J,m)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,J)).next(()=>M.localDocuments.getDocuments(H,J))})}(s.localStore,e);qc(s,e,t),pm(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield $r(s,a)}catch(a){yield Xr(a)}}),fm.apply(this,arguments)}function oc(){return oc=(0,Ne.Z)(function*(r,e){const t=en(r);xl(t.remoteStore)||te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const m=en(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>m.mutationQueue.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===s)return void e.resolve();const a=t.hc.get(s)||[];a.push(e),t.hc.set(s,a)}catch(s){const a=Iu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),oc.apply(this,arguments)}function pm(r,e){(r.hc.get(e)||[]).forEach(t=>{t.resolve()}),r.hc.delete(e)}function qc(r,e,t){const s=en(r);let a=s.ac[s.currentUser.toKey()];if(a){const d=a.get(e);d&&(t?d.reject(t):d.resolve(),a=a.remove(e)),s.ac[s.currentUser.toKey()]=a}}function Tu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.ic.get(e))r.sc.delete(s),t&&r.nc._c(s,t);r.ic.delete(e),r.isPrimaryClient&&r.cc.ls(e).forEach(s=>{r.cc.containsKey(s)||x_(r,s)})}function x_(r,e){r.rc.delete(e.path.canonicalString());const t=r.oc.get(e);null!==t&&(Dd(r.remoteStore,t),r.oc=r.oc.remove(e),r.uc.delete(t),Qc(r))}function Sd(r,e,t){for(const s of t)s instanceof hf?(r.cc.addReference(s.key,e),ll(r,s)):s instanceof T_?(te("SyncEngine","Document no longer in limbo: "+s.key),r.cc.removeReference(s.key,e),r.cc.containsKey(s.key)||x_(r,s.key)):Ht()}function ll(r,e){const t=e.key,s=t.path.canonicalString();r.oc.get(t)||r.rc.has(s)||(te("SyncEngine","New document in limbo: "+t),r.rc.add(s),Qc(r))}function Qc(r){for(;r.rc.size>0&&r.oc.size<r.maxConcurrentLimboResolutions;){const e=r.rc.values().next().value;r.rc.delete(e);const t=new bn(ji.fromString(e)),s=r.lc.next();r.uc.set(s,new H0(t)),r.oc=r.oc.insert(t,s),wd(r.remoteStore,new rl(Vo(Ya(t.path)),s,2,ps.at))}}function $r(r,e,t){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,Ne.Z)(function*(r,e,t){const s=en(r),a=[],d=[],m=[];var M;s.sc.isEmpty()||(s.sc.forEach((M,H)=>{m.push(s.dc(H,e,t).then(J=>{if(J){s.isPrimaryClient&&s.sharedClientState.updateQueryState(H.targetId,J.fromCache?"not-current":"current"),a.push(J);const Te=vd.Ci(H.targetId,J);d.push(Te)}}))}),yield Promise.all(m),s.nc.Wo(a),yield(M=(0,Ne.Z)(function*(H,J){const Te=en(H);try{yield Te.persistence.runTransaction("notifyLocalViewChanges","readwrite",tt=>Rt.forEach(J,xt=>Rt.forEach(xt.Si,Wt=>Te.persistence.referenceDelegate.addReference(tt,xt.targetId,Wt)).next(()=>Rt.forEach(xt.Di,Wt=>Te.persistence.referenceDelegate.removeReference(tt,xt.targetId,Wt)))))}catch(tt){if(!ca(tt))throw tt;te("LocalStore","Failed to update sequence numbers: "+tt)}for(const tt of J){const xt=tt.targetId;if(!tt.fromCache){const Wt=Te.Ui.get(xt),yn=Wt.withLastLimboFreeSnapshotVersion(Wt.snapshotVersion);Te.Ui=Te.Ui.insert(xt,yn)}}}),function(H,J){return M.apply(this,arguments)})(s.localStore,d))}),Ol.apply(this,arguments)}function vf(r,e){return ra.apply(this,arguments)}function ra(){return ra=(0,Ne.Z)(function*(r,e){const t=en(r);if(!t.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=yield i_(t.localStore,e);t.currentUser=e,(a=t).hc.forEach(m=>{m.forEach(M=>{M.reject(new Qt(Tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.hc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield $r(t,s.ji)}var a}),ra.apply(this,arguments)}function mm(r,e){const t=en(r),s=t.uc.get(e);if(s&&s.ec)return bi().add(s.key);{let a=bi();const d=t.ic.get(e);if(!d)return a;for(const m of d){const M=t.sc.get(m);a=a.unionWith(M.view.Qu)}return a}}function Mu(r,e){return ac.apply(this,arguments)}function ac(){return ac=(0,Ne.Z)(function*(r,e){const t=en(r),s=yield Yh(t.localStore,e.query,!0),a=e.view.Zu(s);return t.isPrimaryClient&&Sd(t,e.targetId,a.Yu),a}),ac.apply(this,arguments)}function Su(r,e){return lc.apply(this,arguments)}function lc(){return lc=(0,Ne.Z)(function*(r,e){const t=en(r);return Mv(t.localStore,e).then(s=>$r(t,s))}),lc.apply(this,arguments)}function Au(r,e,t,s){return cc.apply(this,arguments)}function cc(){return cc=(0,Ne.Z)(function*(r,e,t,s){const a=en(r),d=yield function(m,M){const H=en(m),J=en(H.mutationQueue);return H.persistence.runTransaction("Lookup mutation documents","readonly",Te=>J.Tn(Te,M).next(tt=>tt?H.localDocuments.getDocuments(Te,tt):Rt.resolve(null)))}(a.localStore,e);var M;null!==d?("pending"===t?yield Zc(a.remoteStore):"acknowledged"===t||"rejected"===t?(qc(a,e,s||null),pm(a,e),M=e,en(en(a.localStore).mutationQueue).An(M)):Ht(),yield $r(a,d)):te("SyncEngine","Cannot apply mutation batch with id: "+e)}),cc.apply(this,arguments)}function uc(){return uc=(0,Ne.Z)(function*(r,e){const t=en(r);if(wf(t),Df(t),!0===e&&!0!==t.fc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Xc(t,s.toArray());t.fc=!0,yield im(t.remoteStore,!0);for(const d of a)wd(t.remoteStore,d)}else if(!1===e&&!1!==t.fc){const s=[];let a=Promise.resolve();t.ic.forEach((d,m)=>{t.sharedClientState.isLocalQueryTarget(m)?s.push(m):a=a.then(()=>(Tu(t,m),Eu(t.localStore,m,!0))),Dd(t.remoteStore,m)}),yield a,yield Xc(t,s),function(d){const m=en(d);m.uc.forEach((M,H)=>{Dd(m.remoteStore,H)}),m.cc.fs(),m.uc=new Map,m.oc=new Pr(bn.comparator)}(t),t.fc=!1,yield im(t.remoteStore,!1)}}),uc.apply(this,arguments)}function Xc(r,e,t){return bf.apply(this,arguments)}function bf(){return bf=(0,Ne.Z)(function*(r,e,t){const s=en(r),a=[],d=[];for(const m of e){let M;const H=s.ic.get(m);if(H&&0!==H.length){M=yield bu(s.localStore,Vo(H[0]));for(const J of H){const Te=s.sc.get(J),tt=yield Mu(s,Te);tt.snapshot&&d.push(tt.snapshot)}}else{const J=yield a_(s.localStore,m);M=yield bu(s.localStore,J),yield ff(s,gm(J),m,!1)}a.push(M)}return s.nc.Wo(d),a}),bf.apply(this,arguments)}function gm(r){return gh(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function O_(r){const e=en(r);return en(en(e.localStore).persistence).vi()}function R_(r,e,t,s){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Ne.Z)(function*(r,e,t,s){const a=en(r);if(a.fc)return void te("SyncEngine","Ignoring unexpected query state notification.");const d=a.ic.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const m=yield Mv(a.localStore,qu(d[0])),M=Pc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield $r(a,m,M);break}case"rejected":yield Eu(a.localStore,e,!0),Tu(a,e,s);break;default:Ht()}}),Ef.apply(this,arguments)}function P_(r,e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Ne.Z)(function*(r,e,t){const s=wf(r);if(s.fc){for(const a of e){if(s.ic.has(a)){te("SyncEngine","Adding an already active target "+a);continue}const d=yield a_(s.localStore,a),m=yield bu(s.localStore,d);yield ff(s,gm(d),m.targetId,!1),wd(s.remoteStore,m)}for(const a of t)s.ic.has(a)&&(yield Eu(s.localStore,a,!1).then(()=>{Dd(s.remoteStore,a),Tu(s,a)}).catch(Xr))}}),Cf.apply(this,arguments)}function wf(r){const e=en(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uv.bind(null,e),e.nc.Wo=Lv.bind(null,e.eventManager),e.nc._c=w_.bind(null,e.eventManager),e}function Df(r){const e=en(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hv.bind(null,e),e}class _m{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.It=wu(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return bd(this.persistence,new Kh,e.initialUser,this.It)}gc(e){return new t_(Al.Bs,this.It)}mc(e){return new Gp}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class k_ extends _m{constructor(e,t,s){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Ne.Z)(function*(){yield t().call(s,e),yield s.Ec.initialize(s,e),yield Df(s.Ec.syncEngine),yield Zc(s.Ec.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return bd(this.persistence,new Kh,e.initialUser,this.It)}Ic(e,t){return new N0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const s=new su(t,this.persistence);return new da(e.asyncQueue,s)}gc(e){const t=Wh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ma.withCacheSize(this.cacheSizeBytes):ma.DEFAULT;return new tc(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,f_(),zp(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Gp}}class N_ extends k_{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Ne.Z)(function*(){yield t().call(s,e);const a=s.Ec.syncEngine;s.sharedClientState instanceof Hp&&(s.sharedClientState.syncEngine={Fr:Au.bind(null,a),$r:R_.bind(null,a),Br:P_.bind(null,a),vi:O_.bind(null,a),Or:Su.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var d=(0,Ne.Z)(function*(m){yield function xu(r,e){return uc.apply(this,arguments)}(s.Ec.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}mc(e){const t=f_();if(!Hp.C(t))throw new Qt(Tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Wh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class If{initialize(e,t){var s=this;return(0,Ne.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>_f(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=vf.bind(null,s.syncEngine),yield im(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new C_}createDatastore(e){const t=wu(e.databaseInfo.databaseId),s=new xv(e.databaseInfo);return new Rv(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,d=M=>_f(this.syncEngine,M,0),m=h_.C()?new h_:new d_,new Jh(t,s,a,d,m);var t,s,a,d,m}createSyncEngine(e,t){return function(s,a,d,m,M,H,J){const Te=new Va(s,a,d,m,M,H);return J&&(Te.fc=!0),Te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const s=en(t);te("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield nc(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function F_(r,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):je("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class L_{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Ji,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(s=>{s&&s.ku()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const s=e.Pc.decode(t),a=Number(s);isNaN(a)&&e.Sc(`length string (${s}) is not valid number`);const d=yield e.Dc(a);return new Bv(JSON.parse(d),t.length+a)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Ne.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Dc(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const s=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.bc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class $v{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Qt(Tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Ne.Z)(function*(d,m){const M=en(d),H=Y(M.It)+"/documents",J={documents:m.map(Wt=>_(M.It,Wt))},Te=yield M.fo("BatchGetDocuments",H,J,m.length),tt=new Map;Te.forEach(Wt=>{const qt=function un(r,e){return"found"in e?function(t,s){cn(!!s.found);const a=u(t,s.found.name),d=Os(s.found.updateTime),m=new Hs({mapValue:{fields:s.found.fields}});return cr.newFoundDocument(a,d,m)}(r,e):"missing"in e?function(t,s){cn(!!s.missing),cn(!!s.readTime);const a=u(t,s.missing),d=Os(s.readTime);return cr.newNoDocument(a,d)}(r,e):Ht()}(M.It,Wt);tt.set(qt.key.toString(),qt)});const xt=[];return m.forEach(Wt=>{const qt=tt.get(Wt.toString());cn(!!qt),xt.push(qt)}),xt}),function(d,m){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new as(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const d=bn.fromPath(a);e.mutations.push(new xc(d,e.precondition(d)))}),yield(s=(0,Ne.Z)(function*(a,d){const m=en(a),M=Y(m.It)+"/documents",H={writes:d.map(J=>qn(m.It,J))};yield m.co("Commit",M,H)}),function(a,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ht();t=Zn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Qt(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Zn.min())?fi.exists(!1):fi.updateTime(t):fi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zn.min()))throw new Qt(Tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fi.updateTime(t)}return fi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class B_{constructor(e,t,s,a,d){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=d,this.Nc=s.maxAttempts,this.xo=new Wp(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Ne.Z)(function*(){const t=new $v(e.datastore),s=e.Mc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(d=>{e.Oc(d)}))}).catch(a=>{e.Oc(a)})}))}Mc(e){try{const t=this.updateFunction(e);return!he(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ja(t)}return!1}}class zv{constructor(e,t,s,a){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=A.UNAUTHENTICATED,this.clientId=Po.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,Ne.Z)(function*(M){te("FirestoreClient","Received user=",M.uid),yield d.authCredentialListener(M),d.user=M});return function(M){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(te("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Iu(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function V_(r,e){return U_.apply(this,arguments)}function U_(){return U_=(0,Ne.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Ne.Z)(function*(d){s.isEqual(d)||(yield i_(e.localStore,d),s=d)});return function(d){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),U_.apply(this,arguments)}function j_(r,e){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,Ne.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield xd(r);te("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>tm(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,d)=>tm(e.remoteStore,d)),r.onlineComponents=e}),Ad.apply(this,arguments)}function xd(r){return ym.apply(this,arguments)}function ym(){return ym=(0,Ne.Z)(function*(r){return r.offlineComponents||(te("FirestoreClient","Using default OfflineComponentProvider"),yield V_(r,new _m)),r.offlineComponents}),ym.apply(this,arguments)}function vm(r){return H_.apply(this,arguments)}function H_(){return H_=(0,Ne.Z)(function*(r){return r.onlineComponents||(te("FirestoreClient","Using default OnlineComponentProvider"),yield j_(r,new If)),r.onlineComponents}),H_.apply(this,arguments)}function Wv(r){return xd(r).then(e=>e.persistence)}function Mf(r){return xd(r).then(e=>e.localStore)}function bm(r){return vm(r).then(e=>e.remoteStore)}function G_(r){return vm(r).then(e=>e.syncEngine)}function Ou(r){return dc.apply(this,arguments)}function dc(){return dc=(0,Ne.Z)(function*(r){const e=yield vm(r),t=e.eventManager;return t.onListen=G0.bind(null,e.syncEngine),t.onUnlisten=A_.bind(null,e.syncEngine),t}),dc.apply(this,arguments)}function Em(r,e,t={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(a,d,m,M,H){const J=new Tf({next:tt=>{d.enqueueAndForget(()=>om(a,Te));const xt=tt.docs.has(m);!xt&&tt.fromCache?H.reject(new Qt(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):xt&&tt.fromCache&&M&&"server"===M.source?H.reject(new Qt(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(tt)},error:tt=>H.reject(tt)}),Te=new df(Ya(m.path),J,{includeMetadataChanges:!0,Nu:!0});return uf(a,Te)}(yield Ou(r),r.asyncQueue,e,t,s)})),s.promise}function z_(r,e,t={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(a,d,m,M,H){const J=new Tf({next:tt=>{d.enqueueAndForget(()=>om(a,Te)),tt.fromCache&&"server"===M.source?H.reject(new Qt(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(tt)},error:tt=>H.reject(tt)}),Te=new df(m,J,{includeMetadataChanges:!0,Nu:!0});return uf(a,Te)}(yield Ou(r),r.asyncQueue,e,t,s)})),s.promise}const K_=new Map;function Cm(r,e,t){if(!t)throw new Qt(Tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function wm(r,e,t,s){if(!0===e&&!0===s)throw new Qt(Tt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Z_(r){if(!bn.isDocumentKey(r))throw new Qt(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Dm(r){if(bn.isDocumentKey(r))throw new Qt(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Od(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Ht()}function Hi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Qt(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Od(r);throw new Qt(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Xv(r,e){if(e<=0)throw new Qt(Tt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Af{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Qt(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qt(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,wm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Af({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qt(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qt(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Af(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ya;switch(t.type){case"gapi":return new Ll(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Qt(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=K_.get(e);t&&(te("ComponentProvider","Removing Datastore"),K_.delete(e),t.terminate())}(this),Promise.resolve()}}class _r{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class fo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class wa extends fo{constructor(e,t,s){super(e,t,Ya(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new bn(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function xf(r,e,...t){if(r=(0,_e.m9)(r),Cm("collection","path",e),r instanceof Rd){const s=ji.fromString(e,...t);return Dm(s),new wa(r,null,s)}{if(!(r instanceof _r||r instanceof wa))throw new Qt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ji.fromString(e,...t));return Dm(s),new wa(r.firestore,null,s)}}function Jc(r,e,...t){if(r=(0,_e.m9)(r),1===arguments.length&&(e=Po.R()),Cm("doc","path",e),r instanceof Rd){const s=ji.fromString(e,...t);return Z_(s),new _r(r,null,new bn(s))}{if(!(r instanceof _r||r instanceof wa))throw new Qt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ji.fromString(e,...t));return Z_(s),new _r(r.firestore,r instanceof wa?r.converter:null,new bn(s))}}function Pd(r,e){return r=(0,_e.m9)(r),e=(0,_e.m9)(e),(r instanceof _r||r instanceof wa)&&(e instanceof _r||e instanceof wa)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Of(r,e){return r=(0,_e.m9)(r),e=(0,_e.m9)(e),r instanceof fo&&e instanceof fo&&r.firestore===e.firestore&&lo(r._query,e._query)&&r.converter===e.converter}class W0{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Wp(this,"async_queue_retry"),this.jc=()=>{const t=zp();t&&te("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=zp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=zp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ji;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!ca(t))throw t;te("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(s=>{throw this.qc=s,this.Kc=!1,je("INTERNAL UNHANDLED ERROR: ",function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),m}(s)),s}).then(s=>(this.Kc=!1,s))));return this.$c=t,t}enqueueAfterDelay(e,t,s){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const a=rm.createAndSchedule(this,e,t,s,d=>this.Jc(d));return this.Uc.push(a),a}Wc(){this.qc&&Ht()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Im(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Rf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sr extends Rd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new W0,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tm(this),this._firestoreClient.terminate()}}function gs(r){return r._firestoreClient||Tm(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Tm(r){var e;const t=r._freezeSettings(),s=(d=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new F(r._databaseId,d,r._persistenceKey,(M=t).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var d,M;r._firestoreClient=new zv(r._authCredentials,r._appCheckCredentials,r._queue,s)}function q_(r,e,t){const s=new Ji;return r.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield V_(r,t),yield j_(r,e),s.resolve()}catch(a){const d=a;if(!("FirebaseError"===(m=d).name?m.code===Tt.FAILED_PRECONDITION||m.code===Tt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw d;lt("Error enabling offline persistence. Falling back to persistence disabled: "+d),s.reject(d)}var m})).then(()=>s.promise)}function xm(r){if(r._initialized||r._terminated)throw new Qt(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ua{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Qt(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(vr.fromBase64String(e))}catch(t){throw new Qt(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ja(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hc{constructor(e){this._methodName=e}}class kd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qt(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qt(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xn(this._lat,e._lat)||Xn(this._long,e._long)}}const ny=/^__.*__$/;class iy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Uo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yl(e,this.data,t,this.fieldTransforms)}}class Om{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Uo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rm(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class Pm{constructor(e,t,s,a,d,m){this.settings=e,this.databaseId=t,this.It=s,this.ignoreUndefinedProperties=a,void 0===d&&this.ea(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.sa({path:s,ra:!1});return a.oa(e),a}ua(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.sa({path:s,ra:!1});return a.ea(),a}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Ru(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Rm(this.na)&&ny.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class nb{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=s||wu(e)}fa(e,t,s,a=!1){return new Pm({na:e,methodName:t,la:s,path:Mr.emptyPath(),ra:!1,ha:a},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function eu(r){const e=r._freezeSettings(),t=wu(r._databaseId);return new nb(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Nd(r,e,t,s,a,d={}){const m=r.fa(d.merge||d.mergeFields?2:0,e,t,a);Ff("Data must be an object, but it was:",m,s);const M=sy(s,m);let H,J;if(d.merge)H=new ms(m.fieldMask),J=m.fieldTransforms;else if(d.mergeFields){const Te=[];for(const tt of d.mergeFields){const xt=Fm(e,tt,t);if(!m.contains(xt))throw new Qt(Tt.INVALID_ARGUMENT,`Field '${xt}' is specified in your field mask but missing from your input data.`);Lf(Te,xt)||Te.push(xt)}H=new ms(Te),J=m.fieldTransforms.filter(tt=>H.covers(tt.field))}else H=null,J=m.fieldTransforms;return new iy(new Hs(M),H,J)}class Fd extends hc{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function Rs(r,e,t){return new Pm({na:3,la:e.settings.la,methodName:r._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class kf extends hc{_toFieldTransform(e){return new Xa(e.path,new Mc)}isEqual(e){return e instanceof kf}}class ib extends hc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Rs(this,e,!0),s=this.da.map(d=>Da(d,t)),a=new qa(s);return new Xa(e.path,a)}isEqual(e){return this===e}}class rb extends hc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Rs(this,e,!0),s=this.da.map(d=>Da(d,t)),a=new Qa(s);return new Xa(e.path,a)}isEqual(e){return this===e}}class ry extends hc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Zl(e.It,fp(e.It,this._a));return new Xa(e.path,t)}isEqual(e){return this===e}}function km(r,e,t,s){const a=r.fa(1,e,t);Ff("Data must be an object, but it was:",a,s);const d=[],m=Hs.empty();Wa(s,(H,J)=>{const Te=Lm(e,H,t);J=(0,_e.m9)(J);const tt=a.ua(Te);if(J instanceof Fd)d.push(Te);else{const xt=Da(J,tt);null!=xt&&(d.push(Te),m.set(Te,xt))}});const M=new ms(d);return new Om(m,M,a.fieldTransforms)}function Nf(r,e,t,s,a,d){const m=r.fa(1,e,t),M=[Fm(e,s,t)],H=[a];if(d.length%2!=0)throw new Qt(Tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xt=0;xt<d.length;xt+=2)M.push(Fm(e,d[xt])),H.push(d[xt+1]);const J=[],Te=Hs.empty();for(let xt=M.length-1;xt>=0;--xt)if(!Lf(J,M[xt])){const Wt=M[xt];let qt=H[xt];qt=(0,_e.m9)(qt);const yn=m.ua(Wt);if(qt instanceof Fd)J.push(Wt);else{const Pn=Da(qt,yn);null!=Pn&&(J.push(Wt),Te.set(Wt,Pn))}}const tt=new ms(J);return new Om(Te,tt,m.fieldTransforms)}function Nm(r,e,t,s=!1){return Da(t,r.fa(s?4:3,e))}function Da(r,e){if(oy(r=(0,_e.m9)(r)))return Ff("Unsupported field value:",e,r),sy(r,e);if(r instanceof hc)return function(t,s){if(!Rm(s.na))throw s.aa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.aa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,s){const a=[];let d=0;for(const m of t){let M=Da(m,s.ca(d));null==M&&(M={nullValue:"NULL_VALUE"}),a.push(M),d++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fp(s.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Zi.fromDate(t);return{timestampValue:Nc(s.It,a)}}if(t instanceof Zi){const a=new Zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nc(s.It,a)}}if(t instanceof kd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ja)return{bytesValue:Fc(s.It,t._byteString)};if(t instanceof _r){const a=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(a))throw s.aa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:nl(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.aa(`Unsupported field value: ${Od(t)}`)}(r,e)}function sy(r,e){const t={};return bc(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(r,(s,a)=>{const d=Da(a,e.ia(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function oy(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Zi||r instanceof kd||r instanceof ja||r instanceof _r||r instanceof hc)}function Ff(r,e,t){if(!oy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Od(t);throw e.aa("an object"===s?r+" a custom object":r+" "+s)}var s}function Fm(r,e,t){if((e=(0,_e.m9)(e))instanceof Ua)return e._internalPath;if("string"==typeof e)return Lm(r,e);throw Ru("Field path arguments must be of type string or ",r,!1,void 0,t)}const ay=new RegExp("[~\\*/\\[\\]]");function Lm(r,e,t){if(e.search(ay)>=0)throw Ru(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ua(...e.split("."))._internalPath}catch(s){throw Ru(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ru(r,e,t,s,a){const d=s&&!s.isEmpty(),m=void 0!==a;let M=`Function ${e}() called with invalid data`;t&&(M+=" (via `toFirestore()`)"),M+=". ";let H="";return(d||m)&&(H+=" (found",d&&(H+=` in field ${s}`),m&&(H+=` in document ${a}`),H+=")"),new Qt(Tt.INVALID_ARGUMENT,M+r+H)}function Lf(r,e){return r.some(t=>t.isEqual(e))}class sa{constructor(e,t,s,a,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sb extends sa{data(){return super.data()}}function Bf(r,e){return"string"==typeof e?Lm(r,e):e instanceof Ua?e._internalPath:e._delegate._internalPath}class wo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends sa{constructor(e,t,s,a,d,m){super(e,t,s,a,m),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Bf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Go extends $s{data(e={}){return super.data(e)}}class Rl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Go(this._firestore,this._userDataWriter,s.key,s,new wo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qt(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new Go(s._firestore,s._userDataWriter,m.doc.key,m.doc,new wo(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>a||3!==m.type).map(m=>{const M=new Go(s._firestore,s._userDataWriter,m.doc.key,m.doc,new wo(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let H=-1,J=-1;return 0!==m.type&&(H=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),J=d.indexOf(m.doc.key)),{type:ly(m.type),doc:M,oldIndex:H,newIndex:J}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ly(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function cy(r,e){return r instanceof $s&&e instanceof $s?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Rl&&e instanceof Rl&&r._firestore===e._firestore&&Of(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function uy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Qt(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ld{}function fc(r,...e){for(const t of e)r=t._apply(r);return r}class Bm extends Ld{constructor(e,t,s){super(),this.wa=e,this.ma=t,this.ga=s,this.type="where"}_apply(e){const t=eu(e.firestore),s=function(a,d,m,M,H,J,Te){let tt;if(H.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new Qt(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){Hm(Te,J);const Wt=[];for(const qt of Te)Wt.push(jm(M,a,qt));tt={arrayValue:{values:Wt}}}else tt=jm(M,a,Te)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||Hm(Te,J),tt=Nm(m,"where",Te,"in"===J||"not-in"===J);const xt=xs.create(H,J,tt);return function(Wt,qt){if(qt.dt()){const Pn=uu(Wt);if(null!==Pn&&!Pn.isEqual(qt.field))throw new Qt(Tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pn.toString()}' and '${qt.field.toString()}'`);const Mi=cu(Wt);null!==Mi&&Gm(0,qt.field,Mi)}const yn=function(Pn,Mi){for(const sr of Pn.filters)if(Mi.indexOf(sr.op)>=0)return sr.op;return null}(Wt,function(Pn){switch(Pn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(qt.op));if(null!==yn)throw new Qt(Tt.INVALID_ARGUMENT,yn===qt.op?`Invalid query. You cannot use more than one '${qt.op.toString()}' filter.`:`Invalid query. You cannot use '${qt.op.toString()}' filters with '${yn.toString()}' filters.`)}(a,xt),xt}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new fo(e.firestore,e.converter,function(a,d){const m=a.filters.concat([d]);return new va(a.path,a.collectionGroup,a.explicitOrderBy.slice(),m,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class ob extends Ld{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(s,a,d){if(null!==s.startAt)throw new Qt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Qt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Bo(a,d);return function(M,H){if(null===cu(M)){const J=uu(M);null!==J&&Gm(0,J,H.field)}}(s,m),m}(e._query,this.wa,this.ya);return new fo(e.firestore,e.converter,function(s,a){const d=s.explicitOrderBy.concat([a]);return new va(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class hy extends Ld{constructor(e,t,s){super(),this.type=e,this.pa=t,this.Ia=s}_apply(e){return new fo(e.firestore,e.converter,Zu(e._query,this.pa,this.Ia))}}class Vd extends Ld{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=Uf(e,this.type,this.Ta,this.Ea);return new fo(e.firestore,e.converter,(a=t,new va((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Vm extends Ld{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=Uf(e,this.type,this.Ta,this.Ea);return new fo(e.firestore,e.converter,(a=t,new va((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function Uf(r,e,t,s){if(t[0]=(0,_e.m9)(t[0]),t[0]instanceof sa)return function(a,d,m,M,H){if(!M)throw new Qt(Tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const J=[];for(const Te of Wl(a))if(Te.field.isKeyField())J.push(vo(d,M.key));else{const tt=M.data.field(Te.field);if(Gl(tt))throw new Qt(Tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===tt){const xt=Te.field.canonicalString();throw new Qt(Tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${xt}' (used as the orderBy) does not exist.`)}J.push(tt)}return new Xs(J,H)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=eu(r.firestore);return function(d,m,M,H,J,Te){const tt=d.explicitOrderBy;if(J.length>tt.length)throw new Qt(Tt.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const xt=[];for(let Wt=0;Wt<J.length;Wt++){const qt=J[Wt];if(tt[Wt].field.isKeyField()){if("string"!=typeof qt)throw new Qt(Tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof qt}`);if(!Ku(d)&&-1!==qt.indexOf("/"))throw new Qt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${qt}' contains a slash.`);const yn=d.path.child(ji.fromString(qt));if(!bn.isDocumentKey(yn))throw new Qt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${yn}' is not because it contains an odd number of segments.`);const Pn=new bn(yn);xt.push(vo(m,Pn))}else{const yn=Nm(M,H,qt);xt.push(yn)}}return new Xs(xt,Te)}(r._query,r.firestore._databaseId,a,e,t,s)}}function jm(r,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new Qt(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ku(e)&&-1!==t.indexOf("/"))throw new Qt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ji.fromString(t));if(!bn.isDocumentKey(s))throw new Qt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vo(r,new bn(s))}if(t instanceof _r)return vo(r,t._key);throw new Qt(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(t)}.`)}function Hm(r,e){if(!Array.isArray(r)||0===r.length)throw new Qt(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new Qt(Tt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Gm(r,e,t){if(!t.isEqual(e))throw new Qt(Tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const gy={maxAttempts:5};class jf{convertValue(e,t="none"){switch(_n(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ht()}}convertObject(e,t){const s={};return Wa(e.fields,(a,d)=>{s[a]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new kd(Dr(e.latitude),Dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Za(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(vl(e));default:return null}}convertTimestamp(e){const t=Ra(e);return new Zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ji.fromString(e);cn(_u(s));const a=new U(s.get(1),s.get(3)),d=new bn(s.popFirst(5));return a.isEqual(t)||je(`Document ${d} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Ud(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class _y extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}class $m{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=eu(e)}set(e,t,s){this._verifyNotCommitted();const a=pc(e,this._firestore),d=Ud(a.converter,t,s),m=Nd(this._dataReader,"WriteBatch.set",a._key,d,null!==a.converter,s);return this._mutations.push(m.toMutation(a._key,fi.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const d=pc(e,this._firestore);let m;return m="string"==typeof(t=(0,_e.m9)(t))||t instanceof Ua?Nf(this._dataReader,"WriteBatch.update",d._key,t,s,a):km(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(m.toMutation(d._key,fi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pc(e,this._firestore);return this._mutations=this._mutations.concat(new as(t._key,fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qt(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pc(r,e){if((r=(0,_e.m9)(r)).firestore!==e)throw new Qt(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class tu extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}function yy(r,e,t){r=Hi(r,_r);const s=Hi(r.firestore,Sr),a=Ud(r.converter,e,t);return Pu(s,[Nd(eu(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,fi.none())])}function vy(r,e,t,...s){r=Hi(r,_r);const a=Hi(r.firestore,Sr),d=eu(a);let m;return m="string"==typeof(e=(0,_e.m9)(e))||e instanceof Ua?Nf(d,"updateDoc",r._key,e,t,s):km(d,"updateDoc",r._key,e),Pu(a,[m.toMutation(r._key,fi.exists(!0))])}function by(r,...e){var t,s,a;r=(0,_e.m9)(r);let d={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Im(e[m])||(d=e[m],m++);const M={includeMetadataChanges:d.includeMetadataChanges};if(Im(e[m])){const tt=e[m];e[m]=null===(t=tt.next)||void 0===t?void 0:t.bind(tt),e[m+1]=null===(s=tt.error)||void 0===s?void 0:s.bind(tt),e[m+2]=null===(a=tt.complete)||void 0===a?void 0:a.bind(tt)}let H,J,Te;if(r instanceof _r)J=Hi(r.firestore,Sr),Te=Ya(r._key.path),H={next:tt=>{e[m]&&e[m](zm(J,r,tt))},error:e[m+1],complete:e[m+2]};else{const tt=Hi(r,fo);J=Hi(tt.firestore,Sr),Te=tt._query;const xt=new tu(J);H={next:Wt=>{e[m]&&e[m](new Rl(J,xt,tt,Wt))},error:e[m+1],complete:e[m+2]},uy(r._query)}return function(tt,xt,Wt,qt){const yn=new Tf(qt),Pn=new df(xt,yn,Wt);return tt.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return uf(yield Ou(tt),Pn)})),()=>{yn.Rc(),tt.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return om(yield Ou(tt),Pn)}))}}(gs(J),Te,M,H)}function Pu(r,e){return function(t,s){const a=new Ji;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function $0(r,e,t){return mf.apply(this,arguments)}(yield G_(t),s,a)})),a.promise}(gs(r),e)}function zm(r,e,t){const s=t.docs.get(e._key),a=new tu(r);return new $s(r,a,e._key,s,new wo(t.hasPendingWrites,t.fromCache),e.converter)}class _b extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=eu(e)}get(e){const t=pc(e,this._firestore),s=new _y(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Ht();const d=a[0];if(d.isFoundDocument())return new sa(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new sa(this._firestore,s,t._key,null,t.converter);throw Ht()})}set(e,t,s){const a=pc(e,this._firestore),d=Ud(a.converter,t,s),m=Nd(this._dataReader,"Transaction.set",a._key,d,null!==a.converter,s);return this._transaction.set(a._key,m),this}update(e,t,s,...a){const d=pc(e,this._firestore);let m;return m="string"==typeof(t=(0,_e.m9)(t))||t instanceof Ua?Nf(this._dataReader,"Transaction.update",d._key,t,s,a):km(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,m),this}delete(e){const t=pc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pc(e,this._firestore),s=new tu(this._firestore);return super.get(e).then(a=>new $s(this._firestore,s,t._key,a._document,new wo(!1,!1),t.converter))}}function Pl(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Qt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function My(){if("undefined"==typeof Uint8Array)throw new Qt("unimplemented","Uint8Arrays are not available in this environment.")}function Sy(){if(!function Fo(){return"undefined"!=typeof atob}())throw new Qt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){I=Ot.SDK_VERSION,(0,Ot._registerComponent)(new et.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const d=t.getProvider("app").getImmediate(),m=new Sr(new Fl(t.getProvider("auth-internal")),new Qo(t.getProvider("app-check-internal")),function(M,H){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new Qt(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new U(M.options.projectId,H)}(d,s),d);return a=Object.assign({useFetchStreams:e},a),m._setSettings(a),m},"PUBLIC").setMultipleInstances(!0)),(0,Ot.registerVersion)(la,"3.4.15",r),(0,Ot.registerVersion)(la,"3.4.15","esm2017")}();class cl{constructor(e){this._delegate=e}static fromBase64String(e){return Sy(),new cl(ja.fromBase64String(e))}static fromUint8Array(e){return My(),new cl(ja.fromUint8Array(e))}toBase64(){return Sy(),this._delegate.toBase64()}toUint8Array(){return My(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ay(r){return function Ym(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class Z0{enableIndexedDbPersistence(e,t){return function Mm(r,e){xm(r=Hi(r,Sr));const t=gs(r),s=r._freezeSettings(),a=new If;return q_(t,a,new k_(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Sm(r){xm(r=Hi(r,Sr));const e=gs(r),t=r._freezeSettings(),s=new If;return q_(e,s,new N_(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Q_(r){if(r._initialized&&!r._terminated)throw new Qt(Tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ji;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(s){if(!qs.C())return Promise.resolve();const a=s+"main";yield qs.delete(a)}),function(s){return t.apply(this,arguments)})(Wh(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class qm{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof U||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&lt("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function z0(r,e,t,s={}){var a;const d=(r=Hi(r,Rd))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&lt("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let m,M;if("string"==typeof s.mockUserToken)m=s.mockUserToken,M=A.MOCK_USER;else{m=(0,_e.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const H=s.mockUserToken.sub||s.mockUserToken.user_id;if(!H)throw new Qt(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new A(H)}r._authCredentials=new Ro(new _a(m,M))}}(this._delegate,e,t,s)}enableNetwork(){return function Am(r){return function Kv(r){return r.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield Wv(r),t=yield bm(r);return e.setNetworkEnabled(!0),function(s){const a=en(s);return a._u.delete(0),Kc(a)}(t)}))}(gs(r=Hi(r,Sr)))}(this._delegate)}disableNetwork(){return function J_(r){return function $_(r){return r.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield Wv(r),t=yield bm(r);return e.setNetworkEnabled(!1),(s=(0,Ne.Z)(function*(a){const d=en(a);d._u.add(0),yield nc(d),d.gu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(gs(r=Hi(r,Sr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,wm("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function X_(r){return function(e){const t=new Ji;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function yf(r,e){return oc.apply(this,arguments)}(yield G_(e),t)})),t.promise}(gs(r=Hi(r,Sr)))}(this._delegate)}onSnapshotsInSync(e){return function gb(r,e){return function W_(r,e){const t=new Tf(e);return r.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return s=yield Ou(r),a=t,en(s).Ru.add(a),void a.next();var s,a})),()=>{t.Rc(),r.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return s=yield Ou(r),a=t,void en(s).Ru.delete(a);var s,a}))}}(gs(r=Hi(r,Sr)),Im(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Qt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ku(this,xf(this._delegate,e))}catch(t){throw eo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ia(this,Jc(this._delegate,e))}catch(t){throw eo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new oa(this,function Jv(r,e){if(r=Hi(r,Rd),Cm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Qt(Tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fo(r,null,(t=e,new va(ji.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw eo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Ey(r,e,t){r=Hi(r,Sr);const s=Object.assign(Object.assign({},gy),t);return function(a){if(a.maxAttempts<1)throw new Qt(Tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function Yv(r,e,t){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const a=yield(d=r,vm(d).then(m=>m.datastore));var d;new B_(r.asyncQueue,a,t,e,s).run()})),s.promise}(gs(r),a=>e(new _b(r,a)),s)}(this._delegate,t=>e(new ii(this,t)))}batch(){return gs(this._delegate),new xy(new $m(this._delegate,e=>Pu(this._delegate,e)))}loadBundle(e){return function ey(r,e){const t=gs(r=Hi(r,Sr)),s=new Rf;return function qv(r,e,t,s){const a=function(d,m){let M;return M="string"==typeof d?(new TextEncoder).encode(d):d,H=function(H,J){if(H instanceof Uint8Array)return F_(H,J);if(H instanceof ArrayBuffer)return F_(new Uint8Array(H),J);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new L_(H,m);var H}(t,wu(e));r.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function Gv(r,e,t){const s=en(r);var a;(a=(0,Ne.Z)(function*(d,m,M){try{const H=yield m.getMetadata();if(yield function(xt,Wt){const qt=en(xt),yn=Os(Wt.createTime);return qt.persistence.runTransaction("hasNewerBundle","readonly",Pn=>qt.Ns.getBundleMetadata(Pn,Wt.id)).then(Pn=>!!Pn&&Pn.createTime.compareTo(yn)>=0)}(d.localStore,H))return yield m.close(),M._completeWith({taskState:"Success",documentsLoaded:(xt=H).totalDocuments,bytesLoaded:xt.totalBytes,totalDocuments:xt.totalDocuments,totalBytes:xt.totalBytes}),Promise.resolve(new Set);M._updateProgress(Vv(H));const J=new j0(H,d.localStore,m.It);let Te=yield m.wc();for(;Te;){const xt=yield J.Ou(Te);xt&&M._updateProgress(xt),Te=yield m.wc()}const tt=yield J.complete();return yield $r(d,tt.Bu,void 0),yield function(xt,Wt){const qt=en(xt);return qt.persistence.runTransaction("Save bundle","readwrite",yn=>qt.Ns.saveBundleMetadata(yn,Wt))}(d.localStore,H),M._completeWith(tt.progress),Promise.resolve(tt.$u)}catch(H){return lt("SyncEngine",`Loading bundle failed with ${H}`),M._failWith(H),Promise.resolve(new Set)}var xt}),function(d,m,M){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield G_(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function ty(r,e){return function Qv(r,e){return r.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,s){const a=en(t);return a.persistence.runTransaction("Get named query","readonly",d=>a.Ns.getNamedQuery(d,s))}(yield Mf(r),e)}))}(gs(r=Hi(r,Sr)),e).then(t=>t?new fo(r,null,t.query):null)}(this._delegate,e).then(t=>t?new oa(this,t):null)}}class jd extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new cl(new ja(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ia.forKey(t,this.firestore,null)}}class ii{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}get(e){const t=gc(e);return this._delegate.get(t).then(s=>new mc(this._firestore,new $s(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=gc(e);return s?(Pl("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const d=gc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...a),this}delete(e){const t=gc(e);return this._delegate.delete(t),this}}class xy{constructor(e){this._delegate=e}set(e,t,s){const a=gc(e);return s?(Pl("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const d=gc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...a),this}delete(e){const t=gc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class nu{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Go(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ar(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=nu.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let d=a.get(t);return d||(d=new nu(e,new jd(e),t),a.set(t,d)),d}}nu.INSTANCES=new WeakMap;class Ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Qt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ia(t,new _r(t._delegate,s,new bn(e)))}static forKey(e,t,s){return new Ia(t,new _r(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new ku(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ku(this.firestore,xf(this._delegate,e))}catch(t){throw eo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_e.m9)(e))instanceof _r&&Pd(this._delegate,e)}set(e,t){t=Pl("DocumentReference.set",t);try{return t?yy(this._delegate,e,t):yy(this._delegate,e)}catch(s){throw eo(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?vy(this._delegate,e):vy(this._delegate,e,t,...s)}catch(a){throw eo(a,"updateDoc()","DocumentReference.update()")}}delete(){return function pb(r){return Pu(Hi(r.firestore,Sr),[new as(r._key,fi.none())])}(this._delegate)}onSnapshot(...e){const t=Oy(e),s=Hd(e,a=>new mc(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return by(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function cb(r){r=Hi(r,_r);const e=Hi(r.firestore,Sr),t=gs(e),s=new tu(e);return function Zv(r,e){const t=new Ji;return r.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(s=(0,Ne.Z)(function*(a,d,m){try{const M=yield function(H,J){const Te=en(H);return Te.persistence.runTransaction("read document","readonly",tt=>Te.localDocuments.getDocument(tt,J))}(a,d);M.isFoundDocument()?m.resolve(M):M.isNoDocument()?m.resolve(null):m.reject(new Qt(Tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const H=Iu(M,`Failed to get document '${d} from cache`);m.reject(H)}}),function(a,d,m){return s.apply(this,arguments)})(yield Mf(r),e,t);var s})),t.promise}(t,r._key).then(a=>new $s(e,s,r._key,a,new wo(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ub(r){r=Hi(r,_r);const e=Hi(r.firestore,Sr);return Em(gs(e),r._key,{source:"server"}).then(t=>zm(e,r,t))}(this._delegate):function lb(r){r=Hi(r,_r);const e=Hi(r.firestore,Sr);return Em(gs(e),r._key).then(t=>zm(e,r,t))}(this._delegate),t.then(s=>new mc(this.firestore,new $s(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ia(this.firestore,this._delegate.withConverter(e?nu.getInstance(this.firestore,e):null))}}function eo(r,e,t){return r.message=r.message.replace(e,t),r}function Oy(r){for(const e of r)if("object"==typeof e&&!Ay(e))return e;return{}}function Hd(r,e){var t,s;let a;return a=Ay(r[0])?r[0]:Ay(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:d=>{a.next&&a.next(e(d))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class mc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cy(this._delegate,e._delegate)}}class Ar extends mc{data(e){const t=this._delegate.data(e);return function Fn(r,e){r||Ht()}(void 0!==t),t}}class oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}where(e,t,s){try{return new oa(this.firestore,fc(this._delegate,function Bd(r,e,t){const s=e,a=Bf("where",r);return new Bm(a,s,t)}(e,t,s)))}catch(a){throw eo(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new oa(this.firestore,fc(this._delegate,function dy(r,e="asc"){const t=e,s=Bf("orderBy",r);return new ob(s,t)}(e,t)))}catch(s){throw eo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new oa(this.firestore,fc(this._delegate,function fy(r){return Xv("limit",r),new hy("limit",r,"F")}(e)))}catch(t){throw eo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new oa(this.firestore,fc(this._delegate,function py(r){return Xv("limitToLast",r),new hy("limitToLast",r,"L")}(e)))}catch(t){throw eo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new oa(this.firestore,fc(this._delegate,function ab(...r){return new Vd("startAt",r,!0)}(...e)))}catch(t){throw eo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new oa(this.firestore,fc(this._delegate,function my(...r){return new Vd("startAfter",r,!1)}(...e)))}catch(t){throw eo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new oa(this.firestore,fc(this._delegate,function Um(...r){return new Vm("endBefore",r,!1)}(...e)))}catch(t){throw eo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new oa(this.firestore,fc(this._delegate,function Vf(...r){return new Vm("endAt",r,!0)}(...e)))}catch(t){throw eo(t,"endAt()","Query.endAt()")}}isEqual(e){return Of(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function hb(r){r=Hi(r,fo);const e=Hi(r.firestore,Sr),t=gs(e),s=new tu(e);return function Sf(r,e){const t=new Ji;return r.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(s=(0,Ne.Z)(function*(a,d,m){try{const M=yield Yh(a,d,!0),H=new lm(d,M.Hi),J=H.ju(M.documents),Te=H.applyChanges(J,!1);m.resolve(Te.snapshot)}catch(M){const H=Iu(M,`Failed to execute query '${d} against cache`);m.reject(H)}}),function(a,d,m){return s.apply(this,arguments)})(yield Mf(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Rl(e,s,r,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function fb(r){r=Hi(r,fo);const e=Hi(r.firestore,Sr),t=gs(e),s=new tu(e);return z_(t,r._query,{source:"server"}).then(a=>new Rl(e,s,r,a))}(this._delegate):function db(r){r=Hi(r,fo);const e=Hi(r.firestore,Sr),t=gs(e),s=new tu(e);return uy(r._query),z_(t,r._query).then(a=>new Rl(e,s,r,a))}(this._delegate),t.then(s=>new Qm(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Oy(e),s=Hd(e,a=>new Qm(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return by(this._delegate,t,s)}withConverter(e){return new oa(this.firestore,this._delegate.withConverter(e?nu.getInstance(this.firestore,e):null))}}class Ry{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ar(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new oa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ar(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ry(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Ar(this._firestore,s))})}isEqual(e){return cy(this._delegate,e._delegate)}}class ku extends oa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ia(this.firestore,e):null}doc(e){try{return new Ia(this.firestore,void 0===e?Jc(this._delegate):Jc(this._delegate,e))}catch(t){throw eo(t,"doc()","CollectionReference.doc()")}}add(e){return function mb(r,e){const t=Hi(r.firestore,Sr),s=Jc(r),a=Ud(r.converter,e);return Pu(t,[Nd(eu(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,fi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Ia(this.firestore,t))}isEqual(e){return Pd(this._delegate,e._delegate)}withConverter(e){return new ku(this.firestore,this._delegate.withConverter(e?nu.getInstance(this.firestore,e):null))}}function gc(r){return Hi(r,_r)}class Hf{constructor(...e){this._delegate=new Ua(...e)}static documentId(){return new Hf(Mr.keyField().canonicalString())}isEqual(e){return(e=(0,_e.m9)(e))instanceof Ua&&this._delegate._internalPath.isEqual(e._internalPath)}}class _c{constructor(e){this._delegate=e}static serverTimestamp(){const e=function wy(){return new kf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new _c(e)}static delete(){const e=function Cy(){return new Fd("deleteField")}();return e._methodName="FieldValue.delete",new _c(e)}static arrayUnion(...e){const t=function Dy(...r){return new ib("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new _c(t)}static arrayRemove(...e){const t=function Iy(...r){return new rb("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new _c(t)}static increment(e){const t=function Ty(r){return new ry("increment",r)}(e);return t._methodName="FieldValue.increment",new _c(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Py={Firestore:qm,GeoPoint:kd,Timestamp:Zi,Blob:cl,Transaction:ii,WriteBatch:xy,DocumentReference:Ia,DocumentSnapshot:mc,Query:oa,QueryDocumentSnapshot:Ar,QuerySnapshot:Qm,CollectionReference:ku,FieldPath:Hf,FieldValue:_c,setLogLevel:function Y0(r){!function Q(r){w.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function Eb(r){(function bb(r,e){r.INTERNAL.registerComponent(new et.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},Py)))})(r,(e,t)=>new qm(e,t,new Z0)),r.registerVersion("@firebase/firestore-compat","0.1.24")}(rt.Z);var Cb=y(7579),Gd=y(6451),Gf=y(5363),yc=y(3900),ky=y(3151),$f=y(590),Ny=y(576);function Xm(r,e){return(0,Ny.m)(e)?(0,yc.w)(()=>r,e):(0,yc.w)(()=>r)}var zf=y(9468);y(5867);const zd=new Map,Ab={activated:!1,tokenObservers:[]},xb={initialized:!1,enabled:!1};function zs(r){return zd.get(r)||Ab}function $o(r,e){zd.set(r,e)}function Wf(){return xb}class Nb{constructor(e,t,s,a,d){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new _e.BH,yield function Nu(r){return new Promise(e=>{setTimeout(e,r)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _e.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Do=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ng(r){if(!zs(r).activated)throw Do.create("use-before-activation",{appName:r.name})}function rg(r,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,Ne.Z)(function*({url:r,body:e},t){var s,a;const d={"Content-Type":"application/json"},m=t.getImmediate({optional:!0});if(m){const Wt=yield m.getHeartbeatsHeader();Wt&&(d["X-Firebase-Client"]=Wt)}const M={method:"POST",body:JSON.stringify(e),headers:d};let H,J;try{H=yield fetch(r,M)}catch(Wt){throw Do.create("fetch-network-error",{originalErrorMessage:null===(s=Wt)||void 0===s?void 0:s.message})}if(200!==H.status)throw Do.create("fetch-status-error",{httpStatus:H.status});try{J=yield H.json()}catch(Wt){throw Do.create("fetch-parse-error",{originalErrorMessage:null===(a=Wt)||void 0===a?void 0:a.message})}const Te=J.ttl.match(/^([\d.]+)(s)$/);if(!Te||!Te[2]||isNaN(Number(Te[1])))throw Do.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${J.ttl}`});const tt=1e3*Number(Te[1]),xt=Date.now();return{token:J.token,expireTimeMillis:xt+tt,issuedAtTimeMillis:xt}}),Kd.apply(this,arguments)}function Vy(r,e){const{projectId:t,appId:s,apiKey:a}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Zd="firebase-app-check-store";let Yf=null;function sg(){return Yf||(Yf=new Promise((r,e)=>{var t;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{r(a.target.result)},s.onerror=a=>{var d;e(Do.create("storage-open",{originalErrorMessage:null===(d=a.target.error)||void 0===d?void 0:d.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Zd,{keyPath:"compositeKey"})}}catch(s){e(Do.create("storage-open",{originalErrorMessage:null===(t=s)||void 0===t?void 0:t.message}))}}),Yf)}function og(){return og=(0,Ne.Z)(function*(r,e){const s=(yield sg()).transaction(Zd,"readwrite"),d=s.objectStore(Zd).put({compositeKey:r,value:e});return new Promise((m,M)=>{d.onsuccess=H=>{m()},s.onerror=H=>{var J;M(Do.create("storage-set",{originalErrorMessage:null===(J=H.target.error)||void 0===J?void 0:J.message}))}})}),og.apply(this,arguments)}const Fu=new Ee.Yd("@firebase/app-check");function ug(r,e){return(0,_e.hl)()?function jb(r,e){return function Uy(r,e){return og.apply(this,arguments)}(function lg(r){return`${r.options.appId}-${r.name}`}(r),e)}(r,e).catch(t=>{Fu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Hy(){return Wf().enabled}function qf(){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,Ne.Z)(function*(){const r=Wf();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Yd.apply(this,arguments)}const hg={error:"UNKNOWN_ERROR"};function Wb(r){return _e.US.encodeString(JSON.stringify(r),!1)}function Qf(r){return qd.apply(this,arguments)}function qd(){return qd=(0,Ne.Z)(function*(r,e=!1){const t=r.app;ng(t);const s=zs(t);let d,a=s.token;if(!a){const H=yield s.cachedTokenPromise;H&&Qd(H)&&(a=H)}if(!e&&a&&Qd(a))return{token:a.token};let M,m=!1;if(Hy()){s.exchangeTokenPromise||(s.exchangeTokenPromise=rg(Vy(t,yield qf()),r.heartbeatServiceProvider).then(J=>(s.exchangeTokenPromise=void 0,J)),m=!0);const H=yield s.exchangeTokenPromise;return yield ug(t,H),$o(t,Object.assign(Object.assign({},s),{token:H})),{token:H.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(H=>(s.exchangeTokenPromise=void 0,H)),m=!0),a=yield s.exchangeTokenPromise}catch(H){"appCheck/throttled"===H.code?Fu.warn(H.message):Fu.error(H),d=H}return a?(M={token:a.token},$o(t,Object.assign(Object.assign({},s),{token:a})),yield ug(t,a)):M=J0(d),m&&Wy(t,M),M}),qd.apply(this,arguments)}function Xf(r,e){const t=zs(r),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),$o(r,Object.assign(Object.assign({},t),{tokenObservers:s}))}function $y(r){const{app:e}=r,t=zs(e);let s=t.tokenRefresher;s||(s=function zy(r){const{app:e}=r;return new Nb((0,Ne.Z)(function*(){let s;if(s=zs(e).token?yield Qf(r,!0):yield Qf(r),s.error)throw s.error}),()=>!0,()=>{const t=zs(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(r),$o(e,Object.assign(Object.assign({},t),{tokenRefresher:s}))),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function Wy(r,e){const t=zs(r).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function Qd(r){return r.expireTimeMillis-Date.now()>0}function J0(r){return{token:Wb(hg),error:r}}class Kb{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=zs(this.app);for(const t of e)Xf(this.app,t.next);return Promise.resolve()}}const vg="app-check-internal";!function Uu(){(0,Ot._registerComponent)(new et.wA("app-check",r=>function Jf(r,e){return new Kb(r,e)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,t)=>{r.getProvider(vg).initialize()})),(0,Ot._registerComponent)(new et.wA(vg,r=>function Zb(r){return{getToken:e=>Qf(r,e),addTokenListener:e=>function fg(r,e,t,s){const{app:a}=r,d=zs(a),m={next:t,error:s,type:e};if($o(a,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,m]})),d.token&&Qd(d.token)){const M=d.token;Promise.resolve().then(()=>{t({token:M.token}),$y(r)}).catch(()=>{})}d.cachedTokenPromise.then(()=>$y(r))}(r,"INTERNAL",e),removeTokenListener:e=>Xf(r.app,e)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ot.registerVersion)("@firebase/app-check","0.5.12")}();class bg{constructor(){return(0,be.vb)("app-check")}}"undefined"!=typeof window&&window;var Jd=y(127);const Eg=new h.OlP("angularfire2.auth.use-emulator"),Cg=new h.OlP("angularfire2.auth.settings"),wg=new h.OlP("angularfire2.auth.tenant-id"),Dg=new h.OlP("angularfire2.auth.langugage-code"),Ig=new h.OlP("angularfire2.auth.use-device-language"),iv=new h.OlP("angularfire.auth.persistence"),Tg=(r,e,t,s,a,d,m,M)=>(0,$e.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const H=e.runOutsideAngular(()=>r.auth());if(t&&H.useEmulator(...t),s&&(H.tenantId=s),H.languageCode=a,d&&H.useDeviceLanguage(),m)for(const[J,Te]of Object.entries(m))H.settings[J]=Te;return M&&H.setPersistence(M),H},[t,s,a,d,m,M]);let rv=(()=>{class r{constructor(t,s,a,d,m,M,H,J,Te,tt,xt,Wt){const qt=new Cb.x,yn=(0,we.of)(void 0).pipe((0,Gf.Q)(m.outsideAngular),(0,yc.w)(()=>d.runOutsideAngular(()=>Promise.resolve().then(y.bind(y,2274)))),(0,fe.U)(()=>(0,$e.on)(t,d,s)),(0,fe.U)(Pn=>Tg(Pn,d,M,J,Te,tt,H,xt)),(0,ky.d)({bufferSize:1,refCount:!1}));if((0,it.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,we.of)(null);else{yn.pipe((0,$f.P)()).subscribe();const Mi=yn.pipe((0,yc.w)(wi=>wi.getRedirectResult().then(Ii=>Ii,()=>null)),be.iC,(0,ky.d)({bufferSize:1,refCount:!1})),sr=yn.pipe((0,yc.w)(wi=>new g.y(Ii=>({unsubscribe:d.runOutsideAngular(()=>wi.onAuthStateChanged(Fi=>Ii.next(Fi),Fi=>Ii.error(Fi),()=>Ii.complete()))})))),zi=yn.pipe((0,yc.w)(wi=>new g.y(Ii=>({unsubscribe:d.runOutsideAngular(()=>wi.onIdTokenChanged(Fi=>Ii.next(Fi),Fi=>Ii.error(Fi),()=>Ii.complete()))}))));this.authState=Mi.pipe(Xm(sr),(0,zf.R)(m.outsideAngular),(0,Gf.Q)(m.insideAngular)),this.user=Mi.pipe(Xm(zi),(0,zf.R)(m.outsideAngular),(0,Gf.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,yc.w)(wi=>wi?(0,x.D)(wi.getIdToken()):(0,we.of)(null))),this.idTokenResult=this.user.pipe((0,yc.w)(wi=>wi?(0,x.D)(wi.getIdTokenResult()):(0,we.of)(null))),this.credential=(0,Gd.T)(Mi,qt,this.authState.pipe((0,Se.h)(wi=>!wi))).pipe((0,fe.U)(wi=>(null==wi?void 0:wi.user)?wi:null),(0,zf.R)(m.outsideAngular),(0,Gf.Q)(m.insideAngular))}return(0,$e.pX)(this,yn,d,{spy:{apply:(Pn,Mi,sr)=>{(Pn.startsWith("signIn")||Pn.startsWith("createUser"))&&sr.then(zi=>qt.next(zi))}}})}}return r.\u0275fac=function(t){return new(t||r)(h.LFG($e.Dh),h.LFG($e.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(be.HU),h.LFG(Eg,8),h.LFG(Cg,8),h.LFG(wg,8),h.LFG(Dg,8),h.LFG(Ig,8),h.LFG(iv,8),h.LFG(bg,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function sv(r,e){return function e0(r,e=E.z){return new g.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(r,e)}function Mg(r,e){return sv(r,e).pipe((0,fe.U)(t=>({payload:t,type:"query"})))}function ju(r,e){return Mg(r,e).pipe((0,q.O)(void 0),ie(),(0,fe.U)(([t,s])=>{const a=s.payload.docChanges(),d=a.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,M)=>{const H=a.find(Te=>Te.doc.ref.isEqual(m.ref)),J=null==t?void 0:t.payload.docs.find(Te=>Te.ref.isEqual(m.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(m.metadata)||!H&&J&&JSON.stringify(J.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:m}})}),d}))}function Ha(r,e,t){return ju(r,t).pipe((0,le.R)((s,a)=>function t0(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function th(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Hu(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Hu(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Hu(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(d=>d.payload),e),[]),(0,He.x)(),(0,fe.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Hu(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function ov(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class av{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=ju(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,fe.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,q.O)(void 0),ie(),(0,Se.h)(([s,a])=>a.length>0||!s),(0,fe.U)(([s,a])=>a),be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,le.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=ov(e);return Ha(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return Mg(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),be.iC)}get(e){return(0,x.D)(this.query.get(e)).pipe(be.iC)}add(e){return this.ref.add(e)}doc(e){return new lv(this.ref.doc(e),this.afs)}}class lv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:d}=Sg(s,t);return new av(a,d,this.afs)}snapshotChanges(){return function eh(r,e){return sv(r,e).pipe((0,q.O)(void 0),ie(),(0,fe.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,fe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,x.D)(this.ref.get(e)).pipe(be.iC)}}class sp{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ju(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Se.h)(t=>t.length>0),be.iC):ju(this.query,this.afs.schedulers.outsideAngular).pipe(be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,le.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=ov(e);return Ha(this.query,t,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(e={}){return Mg(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),be.iC)}get(e){return(0,x.D)(this.query.get(e)).pipe(be.iC)}}const nh=new h.OlP("angularfire2.enableFirestorePersistence"),cv=new h.OlP("angularfire2.firestore.persistenceSettings"),n0=new h.OlP("angularfire2.firestore.settings"),uv=new h.OlP("angularfire2.firestore.use-emulator");function Sg(r,e=(t=>t)){return{query:e(r),ref:r}}let op=(()=>{class r{constructor(t,s,a,d,m,M,H,J,Te,tt,xt,Wt,qt,yn,Pn,Mi,sr){this.schedulers=H;const zi=(0,$e.on)(t,M,s),wi=Te;tt&&Tg(zi,M,xt,qt,yn,Pn,Wt,Mi),[this.firestore,this.persistenceEnabled$]=(0,$e.cc)(`${zi.name}.firestore`,"AngularFirestore",zi.name,()=>{const Ii=M.runOutsideAngular(()=>zi.firestore());if(d&&Ii.settings(d),wi&&Ii.useEmulator(...wi),a&&!(0,it.PM)(m)){const Fi=()=>{try{return(0,x.D)(Ii.enablePersistence(J||void 0).then(()=>!0,()=>!1))}catch(Ps){return"undefined"!=typeof console&&console.warn(Ps),(0,we.of)(!1)}};return[Ii,M.runOutsideAngular(Fi)]}return[Ii,(0,we.of)(!1)]},[d,wi,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:m}=Sg(a,s),M=this.schedulers.ngZone.run(()=>d);return new av(M,m,this)}collectionGroup(t,s){const a=s||(m=>m),d=this.firestore.collectionGroup(t);return new sp(a(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new lv(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(h.LFG($e.Dh),h.LFG($e.xv,8),h.LFG(nh,8),h.LFG(n0,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(be.HU),h.LFG(cv,8),h.LFG(uv,8),h.LFG(rv,8),h.LFG(Eg,8),h.LFG(Cg,8),h.LFG(wg,8),h.LFG(Dg,8),h.LFG(Ig,8),h.LFG(iv,8),h.LFG(bg,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),dv=(()=>{class r{constructor(){Jd.Z.registerVersion("angularfire",be.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:nh,useValue:!0},{provide:cv,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[op]}),r})()},2011:(Gt,Ze,y)=>{y.d(Ze,{hO:()=>He,xv:()=>ie,Dh:()=>pe,GT:()=>be,cc:()=>Se,on:()=>q,pX:()=>we});var h=y(5e3),E=y(127),g=y(5813);Gt=y.hmd(Gt);const x=["ngOnDestroy"],we=(rt,Ne,Ot,et={})=>new Proxy(rt,{get:(Ee,_e)=>Ot.runOutsideAngular(()=>{var xe;if(rt[_e])return(null===(xe=null==et?void 0:et.spy)||void 0===xe?void 0:xe.get)&&et.spy.get(_e,rt[_e]),rt[_e];if(x.indexOf(_e)>-1)return()=>{};const De=Ne.toPromise().then(ne=>{const Ye=ne&&ne[_e];return"function"==typeof Ye?Ye.bind(ne):Ye&&Ye.then?Ye.then(ce=>Ot.run(()=>ce)):Ot.run(()=>Ye)});return new Proxy(()=>{},{get:(ne,Ye)=>De[Ye],apply:(ne,Ye,ce)=>De.then(Ue=>{var oe;const Oe=Ue&&Ue(...ce);return(null===(oe=null==et?void 0:et.spy)||void 0===oe?void 0:oe.apply)&&et.spy.apply(_e,ce,Oe),Oe})})})}),be=(rt,Ne)=>{Ne.forEach(Ot=>{Object.getOwnPropertyNames(Ot.prototype||Ot).forEach(et=>{Object.defineProperty(rt.prototype,et,Object.getOwnPropertyDescriptor(Ot.prototype||Ot,et))})})};class Me{constructor(Ne){return Ne}}const pe=new h.OlP("angularfire2.app.options"),ie=new h.OlP("angularfire2.app.name");function q(rt,Ne,Ot){const Ee="object"==typeof Ot&&Ot||{};Ee.name=Ee.name||"string"==typeof Ot&&Ot||"[DEFAULT]";const xe=E.Z.apps.filter(De=>De&&De.name===Ee.name)[0]||Ne.runOutsideAngular(()=>E.Z.initializeApp(rt,Ee));try{JSON.stringify(rt)!==JSON.stringify(xe.options)&&fe("error",`${xe.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(De){}return new Me(xe)}const fe=(rt,...Ne)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[rt](...Ne)},le={provide:Me,useFactory:q,deps:[pe,h.R0b,[new h.FiY,ie]]};let He=(()=>{class rt{constructor(Ot){E.Z.registerVersion("angularfire",g.q4.full,"core"),E.Z.registerVersion("angularfire",g.q4.full,"app-compat"),E.Z.registerVersion("angular",h.q4F.full,Ot.toString())}static initializeApp(Ot,et){return{ngModule:rt,providers:[{provide:pe,useValue:Ot},{provide:ie,useValue:et}]}}}return rt.\u0275fac=function(Ot){return new(Ot||rt)(h.LFG(h.Lbi))},rt.\u0275mod=h.oAB({type:rt}),rt.\u0275inj=h.cJS({providers:[le]}),rt})();function Se(rt,Ne,Ot,et,Ee){const[,_e,xe]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===rt)||[];if(_e)return function $e(rt,Ne){try{return rt.toString()===Ne.toString()}catch(Ot){return rt===Ne}}(Ee,xe)||(Le("error",`${Ne} was already initialized on the ${Ot} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:Ee,was:xe})),_e;{const De=et();return globalThis.\u0275AngularfireInstanceCache.push([rt,De,Ee]),De}}const it=!!Gt.hot,Le=(rt,...Ne)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[rt](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Gt,Ze,y)=>{y.d(Ze,{q4:()=>oh,iC:()=>ea,HU:()=>ms,vb:()=>Hr,JM:()=>Ka});var h=y(5e3),E=y(5867),g=y(5861),x=y(9681),we=y(2090),be=y(4859),Me=y(1877),pe=y(8766);const ie="@firebase/installations",q="0.5.12",le=`w:${q}`,He="FIS_v2",Ne=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ot(F){return F instanceof we.ZR&&F.code.includes("request-failed")}function et({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function Ee(F){return{token:F.token,requestStatus:2,expiresIn:Ue(F.expiresIn),creationTime:Date.now()}}function _e(F,U){return xe.apply(this,arguments)}function xe(){return(xe=(0,g.Z)(function*(F,U){const Ke=(yield U.json()).error;return Ne.create("request-failed",{requestName:F,serverCode:Ke.code,serverMessage:Ke.message,serverStatus:Ke.status})})).apply(this,arguments)}function De({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function ne(F,{refreshToken:U}){const he=De(F);return he.append("Authorization",function oe(F){return`${He} ${F}`}(U)),he}function Ye(F){return ce.apply(this,arguments)}function ce(){return(ce=(0,g.Z)(function*(F){const U=yield F();return U.status>=500&&U.status<600?F():U})).apply(this,arguments)}function Ue(F){return Number(F.replace("s","000"))}function Oe(F,U){return ze.apply(this,arguments)}function ze(){return(ze=(0,g.Z)(function*({appConfig:F,heartbeatServiceProvider:U},{fid:he}){const Ke=et(F),bt=De(F),Pt=U.getImmediate({optional:!0});if(Pt){const Jn=yield Pt.getHeartbeatsHeader();Jn&&bt.append("x-firebase-client",Jn)}const _n={method:"POST",headers:bt,body:JSON.stringify({fid:he,authVersion:He,appId:F.appId,sdkVersion:le})},Ln=yield Ye(()=>fetch(Ke,_n));if(Ln.ok){const Jn=yield Ln.json();return{fid:Jn.fid||he,registrationStatus:2,refreshToken:Jn.refreshToken,authToken:Ee(Jn.authToken)}}throw yield _e("Create Installation",Ln)})).apply(this,arguments)}function yt(F){return new Promise(U=>{setTimeout(U,F)})}const gt=/^[cdef][\w-]{21}$/;function Qe(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const he=function ee(F){return function mt(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return gt.test(he)?he:""}catch(F){return""}}function Fe(F){return`${F.appName}!${F.appId}`}const O=new Map;function se(F,U){const he=Fe(F);Dt(he,U),function Ct(F,U){const he=function Bt(){return!vt&&"BroadcastChannel"in self&&(vt=new BroadcastChannel("[Firebase] FID Change"),vt.onmessage=F=>{Dt(F.data.key,F.data.fid)}),vt}();he&&he.postMessage({key:F,fid:U}),function We(){0===O.size&&vt&&(vt.close(),vt=null)}()}(he,U)}function Dt(F,U){const he=O.get(F);if(he)for(const Ke of he)Ke(U)}let vt=null;const Rn="firebase-installations-store";let Bn=null;function hn(){return Bn||(Bn=(0,pe.X3)("firebase-installations-database",1,{upgrade:(F,U)=>{0===U&&F.createObjectStore(Rn)}})),Bn}function gn(F,U){return ln.apply(this,arguments)}function ln(){return(ln=(0,g.Z)(function*(F,U){const he=Fe(F),bt=(yield hn()).transaction(Rn,"readwrite"),Pt=bt.objectStore(Rn),tn=yield Pt.get(he);return yield Pt.put(U,he),yield bt.done,(!tn||tn.fid!==U.fid)&&se(F,U.fid),U})).apply(this,arguments)}function dt(F){return R.apply(this,arguments)}function R(){return(R=(0,g.Z)(function*(F){const U=Fe(F),Ke=(yield hn()).transaction(Rn,"readwrite");yield Ke.objectStore(Rn).delete(U),yield Ke.done})).apply(this,arguments)}function z(F,U){return K.apply(this,arguments)}function K(){return(K=(0,g.Z)(function*(F,U){const he=Fe(F),bt=(yield hn()).transaction(Rn,"readwrite"),Pt=bt.objectStore(Rn),tn=yield Pt.get(he),_n=U(tn);return void 0===_n?yield Pt.delete(he):yield Pt.put(_n,he),yield bt.done,_n&&(!tn||tn.fid!==_n.fid)&&se(F,_n.fid),_n})).apply(this,arguments)}function Z(F){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,g.Z)(function*(F){let U;const he=yield z(F.appConfig,Ke=>{const bt=Xe(Ke),Pt=Et(F,bt);return U=Pt.registrationPromise,Pt.installationEntry});return""===he.fid?{installationEntry:yield U}:{installationEntry:he,registrationPromise:U}})).apply(this,arguments)}function Xe(F){return yi(F||{fid:Qe(),registrationStatus:0})}function Et(F,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(Ne.create("app-offline"))};const he={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},Ke=function kt(F,U){return Zt.apply(this,arguments)}(F,he);return{installationEntry:he,registrationPromise:Ke}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:an(F)}:{installationEntry:U}}function Zt(){return(Zt=(0,g.Z)(function*(F,U){try{const he=yield Oe(F,U);return gn(F.appConfig,he)}catch(he){throw Ot(he)&&409===he.customData.serverCode?yield dt(F.appConfig):yield gn(F.appConfig,{fid:U.fid,registrationStatus:0}),he}})).apply(this,arguments)}function an(F){return sn.apply(this,arguments)}function sn(){return(sn=(0,g.Z)(function*(F){let U=yield mn(F.appConfig);for(;1===U.registrationStatus;)yield yt(100),U=yield mn(F.appConfig);if(0===U.registrationStatus){const{installationEntry:he,registrationPromise:Ke}=yield Z(F);return Ke||he}return U})).apply(this,arguments)}function mn(F){return z(F,U=>{if(!U)throw Ne.create("installation-not-found");return yi(U)})}function yi(F){return function jn(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function ti(F,U){return on.apply(this,arguments)}function on(){return(on=(0,g.Z)(function*({appConfig:F,heartbeatServiceProvider:U},he){const Ke=Si(F,he),bt=ne(F,he),Pt=U.getImmediate({optional:!0});if(Pt){const Jn=yield Pt.getHeartbeatsHeader();Jn&&bt.append("x-firebase-client",Jn)}const _n={method:"POST",headers:bt,body:JSON.stringify({installation:{sdkVersion:le,appId:F.appId}})},Ln=yield Ye(()=>fetch(Ke,_n));if(Ln.ok)return Ee(yield Ln.json());throw yield _e("Generate Auth Token",Ln)})).apply(this,arguments)}function Si(F,{fid:U}){return`${et(F)}/${U}/authTokens:generate`}function qe(F){return ge.apply(this,arguments)}function ge(){return(ge=(0,g.Z)(function*(F,U=!1){let he;const Ke=yield z(F.appConfig,Pt=>{if(!It(Pt))throw Ne.create("not-registered");const tn=Pt.authToken;if(!U&&fn(tn))return Pt;if(1===tn.requestStatus)return he=j(F,U),Pt;{if(!navigator.onLine)throw Ne.create("app-offline");const _n=Qn(Pt);return he=ye(F,_n),_n}});return he?yield he:Ke.authToken})).apply(this,arguments)}function j(F,U){return N.apply(this,arguments)}function N(){return(N=(0,g.Z)(function*(F,U){let he=yield k(F.appConfig);for(;1===he.authToken.requestStatus;)yield yt(100),he=yield k(F.appConfig);const Ke=he.authToken;return 0===Ke.requestStatus?qe(F,U):Ke})).apply(this,arguments)}function k(F){return z(F,U=>{if(!It(U))throw Ne.create("not-registered");return function vn(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function ye(F,U){return ke.apply(this,arguments)}function ke(){return(ke=(0,g.Z)(function*(F,U){try{const he=yield ti(F,U),Ke=Object.assign(Object.assign({},U),{authToken:he});return yield gn(F.appConfig,Ke),he}catch(he){if(!Ot(he)||401!==he.customData.serverCode&&404!==he.customData.serverCode){const Ke=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield gn(F.appConfig,Ke)}else yield dt(F.appConfig);throw he}})).apply(this,arguments)}function It(F){return void 0!==F&&2===F.registrationStatus}function fn(F){return 2===F.requestStatus&&!function Cn(F){const U=Date.now();return U<F.creationTime||F.creationTime+F.expiresIn<U+36e5}(F)}function Qn(F){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:U})}function _t(){return(_t=(0,g.Z)(function*(F){const U=F,{installationEntry:he,registrationPromise:Ke}=yield Z(U);return Ke?Ke.catch(console.error):qe(U).catch(console.error),he.fid})).apply(this,arguments)}function Ve(){return(Ve=(0,g.Z)(function*(F,U=!1){const he=F;return yield ht(he),(yield qe(he,U)).token})).apply(this,arguments)}function ht(F){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,g.Z)(function*(F){const{registrationPromise:U}=yield Z(F);U&&(yield U)})).apply(this,arguments)}function Nn(F){return Ne.create("missing-app-config-values",{valueName:F})}const Un="installations",Sn=F=>{const U=F.getProvider("app").getImmediate(),he=function xn(F){if(!F||!F.options)throw Nn("App Configuration");if(!F.name)throw Nn("App Name");const U=["projectId","apiKey","appId"];for(const he of U)if(!F.options[he])throw Nn(he);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(U);return{app:U,appConfig:he,heartbeatServiceProvider:(0,x._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},si=F=>{const U=F.getProvider("app").getImmediate(),he=(0,x._getProvider)(U,Un).getImmediate();return{getId:()=>function ai(F){return _t.apply(this,arguments)}(he),getToken:bt=>function ct(F){return Ve.apply(this,arguments)}(he,bt)}};(function Ti(){(0,x._registerComponent)(new be.wA(Un,Sn,"PUBLIC")),(0,x._registerComponent)(new be.wA("installations-internal",si,"PRIVATE"))})(),(0,x.registerVersion)(ie,q),(0,x.registerVersion)(ie,q,"esm2017");const Gi="@firebase/remote-config",Di=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bs{constructor(U,he,Ke,bt){this.client=U,this.storage=he,this.storageCache=Ke,this.logger=bt}isCachedDataFresh(U,he){if(!he)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ke=Date.now()-he,bt=Ke<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ke}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${bt}.`),bt}fetch(U){var he=this;return(0,g.Z)(function*(){const[Ke,bt]=yield Promise.all([he.storage.getLastSuccessfulFetchTimestampMillis(),he.storage.getLastSuccessfulFetchResponse()]);if(bt&&he.isCachedDataFresh(U.cacheMaxAgeMillis,Ke))return bt;U.eTag=bt&&bt.eTag;const Pt=yield he.client.fetch(U),tn=[he.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pt.status&&tn.push(he.storage.setLastSuccessfulFetchResponse(Pt)),yield Promise.all(tn),Pt})()}}function Io(F=navigator){return F.languages&&F.languages[0]||F.language}class er{constructor(U,he,Ke,bt,Pt,tn){this.firebaseInstallations=U,this.sdkVersion=he,this.namespace=Ke,this.projectId=bt,this.apiKey=Pt,this.appId=tn}fetch(U){var he=this;return(0,g.Z)(function*(){var Ke,bt,Pt;const[tn,_n]=yield Promise.all([he.firebaseInstallations.getId(),he.firebaseInstallations.getToken()]),Jn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${he.projectId}/namespaces/${he.namespace}:fetch?key=${he.apiKey}`,ei={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},Yn={sdk_version:he.sdkVersion,app_instance_id:tn,app_instance_id_token:_n,app_id:he.appId,language_code:Io()},lr={method:"POST",headers:ei,body:JSON.stringify(Yn)},js=fetch(Jn,lr),vo=new Promise((As,Lo)=>{U.signal.addEventListener(()=>{const ou=new Error("The operation was aborted.");ou.name="AbortError",Lo(ou)})});let ta;try{yield Promise.race([js,vo]),ta=yield js}catch(As){let Lo="fetch-client-network";throw"AbortError"===(null===(Ke=As)||void 0===Ke?void 0:Ke.name)&&(Lo="fetch-timeout"),Di.create(Lo,{originalErrorMessage:null===(bt=As)||void 0===bt?void 0:bt.message})}let Qs=ta.status;const Ec=ta.headers.get("ETag")||void 0;let bl,na;if(200===ta.status){let As;try{As=yield ta.json()}catch(Lo){throw Di.create("fetch-client-parse",{originalErrorMessage:null===(Pt=Lo)||void 0===Pt?void 0:Pt.message})}bl=As.entries,na=As.state}if("INSTANCE_STATE_UNSPECIFIED"===na?Qs=500:"NO_CHANGE"===na?Qs=304:("NO_TEMPLATE"===na||"EMPTY_CONFIG"===na)&&(bl={}),304!==Qs&&200!==Qs)throw Di.create("fetch-status",{httpStatus:Qs});return{status:Qs,eTag:Ec,config:bl}})()}}class To{constructor(U,he){this.client=U,this.storage=he}fetch(U){var he=this;return(0,g.Z)(function*(){const Ke=(yield he.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return he.attemptFetch(U,Ke)})()}attemptFetch(U,{throttleEndTimeMillis:he,backoffCount:Ke}){var bt=this;return(0,g.Z)(function*(){yield function zr(F,U){return new Promise((he,Ke)=>{const bt=Math.max(U-Date.now(),0),Pt=setTimeout(he,bt);F.addEventListener(()=>{clearTimeout(Pt),Ke(Di.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,he);try{const Pt=yield bt.client.fetch(U);return yield bt.storage.deleteThrottleMetadata(),Pt}catch(Pt){if(!function es(F){if(!(F instanceof we.ZR&&F.customData))return!1;const U=Number(F.customData.httpStatus);return 429===U||500===U||503===U||504===U}(Pt))throw Pt;const tn={throttleEndTimeMillis:Date.now()+(0,we.$s)(Ke),backoffCount:Ke+1};return yield bt.storage.setThrottleMetadata(tn),bt.attemptFetch(U,tn)}})()}}class ts{constructor(U,he,Ke,bt,Pt){this.app=U,this._client=he,this._storageCache=Ke,this._storage=bt,this._logger=Pt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ks(F,U){var he;const Ke=F.target.error||void 0;return Di.create(U,{originalErrorMessage:Ke&&(null===(he=Ke)||void 0===he?void 0:he.message)})}const ns="app_namespace_store";class mo{constructor(U,he,Ke,bt=function po(){return new Promise((F,U)=>{var he;try{const Ke=indexedDB.open("firebase_remote_config",1);Ke.onerror=bt=>{U(ks(bt,"storage-open"))},Ke.onsuccess=bt=>{F(bt.target.result)},Ke.onupgradeneeded=bt=>{0===bt.oldVersion&&bt.target.result.createObjectStore(ns,{keyPath:"compositeKey"})}}catch(Ke){U(Di.create("storage-open",{originalErrorMessage:null===(he=Ke)||void 0===he?void 0:he.message}))}})}()){this.appId=U,this.appName=he,this.namespace=Ke,this.openDbPromise=bt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var he=this;return(0,g.Z)(function*(){const Ke=yield he.openDbPromise;return new Promise((bt,Pt)=>{var tn;const Ln=Ke.transaction([ns],"readonly").objectStore(ns),Jn=he.createCompositeKey(U);try{const ei=Ln.get(Jn);ei.onerror=Yn=>{Pt(ks(Yn,"storage-get"))},ei.onsuccess=Yn=>{const lr=Yn.target.result;bt(lr?lr.value:void 0)}}catch(ei){Pt(Di.create("storage-get",{originalErrorMessage:null===(tn=ei)||void 0===tn?void 0:tn.message}))}})})()}set(U,he){var Ke=this;return(0,g.Z)(function*(){const bt=yield Ke.openDbPromise;return new Promise((Pt,tn)=>{var _n;const Jn=bt.transaction([ns],"readwrite").objectStore(ns),ei=Ke.createCompositeKey(U);try{const Yn=Jn.put({compositeKey:ei,value:he});Yn.onerror=lr=>{tn(ks(lr,"storage-set"))},Yn.onsuccess=()=>{Pt()}}catch(Yn){tn(Di.create("storage-set",{originalErrorMessage:null===(_n=Yn)||void 0===_n?void 0:_n.message}))}})})()}delete(U){var he=this;return(0,g.Z)(function*(){const Ke=yield he.openDbPromise;return new Promise((bt,Pt)=>{var tn;const Ln=Ke.transaction([ns],"readwrite").objectStore(ns),Jn=he.createCompositeKey(U);try{const ei=Ln.delete(Jn);ei.onerror=Yn=>{Pt(ks(Yn,"storage-delete"))},ei.onsuccess=()=>{bt()}}catch(ei){Pt(Di.create("storage-delete",{originalErrorMessage:null===(tn=ei)||void 0===tn?void 0:tn.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class Ys{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,g.Z)(function*(){const he=U.storage.getLastFetchStatus(),Ke=U.storage.getLastSuccessfulFetchTimestampMillis(),bt=U.storage.getActiveConfig(),Pt=yield he;Pt&&(U.lastFetchStatus=Pt);const tn=yield Ke;tn&&(U.lastSuccessfulFetchTimestampMillis=tn);const _n=yield bt;_n&&(U.activeConfig=_n)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function Es(){return rs.apply(this,arguments)}function rs(){return(rs=(0,g.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(F){return!1}})).apply(this,arguments)}!function is(){(0,x._registerComponent)(new be.wA("remote-config",function F(U,{instanceIdentifier:he}){const Ke=U.getProvider("app").getImmediate(),bt=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Di.create("registration-window");if(!(0,we.hl)())throw Di.create("indexed-db-unavailable");const{projectId:Pt,apiKey:tn,appId:_n}=Ke.options;if(!Pt)throw Di.create("registration-project-id");if(!tn)throw Di.create("registration-api-key");if(!_n)throw Di.create("registration-app-id");const Ln=new mo(_n,Ke.name,he=he||"firebase"),Jn=new Ys(Ln),ei=new Me.Yd(Gi);ei.logLevel=Me.in.ERROR;const Yn=new er(bt,x.SDK_VERSION,he,Pt,tn,_n),lr=new To(Yn,Ln),js=new bs(lr,Ln,Jn,ei),vo=new ts(Ke,js,Jn,Ln,ei);return function di(F){const U=(0,we.m9)(F);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(vo),vo},"PUBLIC").setMultipleInstances(!0)),(0,x.registerVersion)(Gi,"0.3.11"),(0,x.registerVersion)(Gi,"0.3.11","esm2017")}();const zo="/firebase-messaging-sw.js",ar="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Br="google.c.a.c_id",Ls="google.c.a.c_l",Wo="google.c.a.ts",ls="google.c.a.e";var Cs=(()=>{return(F=Cs||(Cs={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",Cs;var F})();function fr(F){const U=new Uint8Array(F);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ws(F){const he=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ke=atob(he),bt=new Uint8Array(Ke.length);for(let Pt=0;Pt<Ke.length;++Pt)bt[Pt]=Ke.charCodeAt(Pt);return bt}const Oi="fcm_token_details_db",wr="fcm_token_object_Store";function Ri(F){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,g.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pt=>Pt.name).includes(Oi))return null;let U=null;return(yield(0,pe.X3)(Oi,5,{upgrade:(Ke=(0,g.Z)(function*(bt,Pt,tn,_n){var Ln;if(Pt<2||!bt.objectStoreNames.contains(wr))return;const Jn=_n.objectStore(wr),ei=yield Jn.index("fcmSenderId").get(F);if(yield Jn.clear(),ei)if(2===Pt){const Yn=ei;if(!Yn.auth||!Yn.p256dh||!Yn.endpoint)return;U={token:Yn.fcmToken,createTime:null!==(Ln=Yn.createTime)&&void 0!==Ln?Ln:Date.now(),subscriptionOptions:{auth:Yn.auth,p256dh:Yn.p256dh,endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:"string"==typeof Yn.vapidKey?Yn.vapidKey:fr(Yn.vapidKey)}}}else if(3===Pt){const Yn=ei;U={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:fr(Yn.auth),p256dh:fr(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:fr(Yn.vapidKey)}}}else if(4===Pt){const Yn=ei;U={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:fr(Yn.auth),p256dh:fr(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:fr(Yn.vapidKey)}}}}),function(Pt,tn,_n,Ln){return Ke.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Oi),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),ss(U)?U:null;var Ke}),Kr.apply(this,arguments)}function ss(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:U}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const Zr="firebase-messaging-store";let us=null;function gi(){return us||(us=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(F,U)=>{0===U&&F.createObjectStore(Zr)}})),us}function G(F){return de.apply(this,arguments)}function de(){return(de=(0,g.Z)(function*(F){const U=$t(F),Ke=yield(yield gi()).transaction(Zr).objectStore(Zr).get(U);if(Ke)return Ke;{const bt=yield Ri(F.appConfig.senderId);if(bt)return yield V(F,bt),bt}})).apply(this,arguments)}function V(F,U){return ve.apply(this,arguments)}function ve(){return(ve=(0,g.Z)(function*(F,U){const he=$t(F),bt=(yield gi()).transaction(Zr,"readwrite");return yield bt.objectStore(Zr).put(U,he),yield bt.done,U})).apply(this,arguments)}function Je(F){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,g.Z)(function*(F){const U=$t(F),Ke=(yield gi()).transaction(Zr,"readwrite");yield Ke.objectStore(Zr).delete(U),yield Ke.done})).apply(this,arguments)}function $t({appConfig:F}){return F.appId}const Gn=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pi(F,U){return oi.apply(this,arguments)}function oi(){return(oi=(0,g.Z)(function*(F,U){var he;const Ke=yield B(F),bt=me(U),Pt={method:"POST",headers:Ke,body:JSON.stringify(bt)};let tn;try{tn=yield(yield fetch(W(F.appConfig),Pt)).json()}catch(_n){throw Gn.create("token-subscribe-failed",{errorInfo:null===(he=_n)||void 0===he?void 0:he.toString()})}if(tn.error)throw Gn.create("token-subscribe-failed",{errorInfo:tn.error.message});if(!tn.token)throw Gn.create("token-subscribe-no-token");return tn.token})).apply(this,arguments)}function hi(F,U){return qi.apply(this,arguments)}function qi(){return(qi=(0,g.Z)(function*(F,U){var he;const Ke=yield B(F),bt=me(U.subscriptionOptions),Pt={method:"PATCH",headers:Ke,body:JSON.stringify(bt)};let tn;try{tn=yield(yield fetch(`${W(F.appConfig)}/${U.token}`,Pt)).json()}catch(_n){throw Gn.create("token-update-failed",{errorInfo:null===(he=_n)||void 0===he?void 0:he.toString()})}if(tn.error)throw Gn.create("token-update-failed",{errorInfo:tn.error.message});if(!tn.token)throw Gn.create("token-update-no-token");return tn.token})).apply(this,arguments)}function Ei(F,U){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,g.Z)(function*(F,U){var he;const bt={method:"DELETE",headers:yield B(F)};try{const tn=yield(yield fetch(`${W(F.appConfig)}/${U}`,bt)).json();if(tn.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:tn.error.message})}catch(Pt){throw Gn.create("token-unsubscribe-failed",{errorInfo:null===(he=Pt)||void 0===he?void 0:he.toString()})}})).apply(this,arguments)}function W({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function B(F){return S.apply(this,arguments)}function S(){return(S=(0,g.Z)(function*({appConfig:F,installations:U}){const he=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${he}`})})).apply(this,arguments)}function me({p256dh:F,auth:U,endpoint:he,vapidKey:Ke}){const bt={web:{endpoint:he,auth:U,p256dh:F}};return Ke!==Wr&&(bt.web.applicationPubKey=Ke),bt}const Lt=6048e5;function wn(F){return vi.apply(this,arguments)}function vi(){return(vi=(0,g.Z)(function*(F){const U=yield nr(F.swRegistration,F.vapidKey),he={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:U.endpoint,auth:fr(U.getKey("auth")),p256dh:fr(U.getKey("p256dh"))},Ke=yield G(F.firebaseDependencies);if(Ke){if(_o(Ke.subscriptionOptions,he))return Date.now()>=Ke.createTime+Lt?ds(F,{token:Ke.token,createTime:Date.now(),subscriptionOptions:he}):Ke.token;try{yield Ei(F.firebaseDependencies,Ke.token)}catch(bt){console.warn(bt)}return _i(F.firebaseDependencies,he)}return _i(F.firebaseDependencies,he)})).apply(this,arguments)}function Vr(F){return go.apply(this,arguments)}function go(){return(go=(0,g.Z)(function*(F){const U=yield G(F.firebaseDependencies);U&&(yield Ei(F.firebaseDependencies,U.token),yield Je(F.firebaseDependencies));const he=yield F.swRegistration.pushManager.getSubscription();return!he||he.unsubscribe()})).apply(this,arguments)}function ds(F,U){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,g.Z)(function*(F,U){try{const he=yield hi(F.firebaseDependencies,U),Ke=Object.assign(Object.assign({},U),{token:he,createTime:Date.now()});return yield V(F.firebaseDependencies,Ke),he}catch(he){throw yield Vr(F),he}})).apply(this,arguments)}function _i(F,U){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,g.Z)(function*(F,U){const Ke={token:yield pi(F,U),createTime:Date.now(),subscriptionOptions:U};return yield V(F,Ke),Ke.token})).apply(this,arguments)}function nr(F,U){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,g.Z)(function*(F,U){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ws(U)})})).apply(this,arguments)}function _o(F,U){return U.vapidKey===F.vapidKey&&U.endpoint===F.endpoint&&U.auth===F.auth&&U.p256dh===F.p256dh}function Is(F){const U={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function So(F,U){if(!U.notification)return;F.notification={};const he=U.notification.title;he&&(F.notification.title=he);const Ke=U.notification.body;Ke&&(F.notification.body=Ke);const bt=U.notification.image;bt&&(F.notification.image=bt)}(U,F),function Ta(F,U){!U.data||(F.data=U.data)}(U,F),function ul(F,U){var he,Ke,bt,Pt,tn;if(!U.fcmOptions&&!(null===(he=U.notification)||void 0===he?void 0:he.click_action))return;F.fcmOptions={};const _n=null!==(bt=null===(Ke=U.fcmOptions)||void 0===Ke?void 0:Ke.link)&&void 0!==bt?bt:null===(Pt=U.notification)||void 0===Pt?void 0:Pt.click_action;_n&&(F.fcmOptions.link=_n);const Ln=null===(tn=U.fcmOptions)||void 0===tn?void 0:tn.analytics_label;Ln&&(F.fcmOptions.analyticsLabel=Ln)}(U,F),U}function aa(F){return"object"==typeof F&&!!F&&Br in F}function no(F,U){const he=[];for(let Ke=0;Ke<F.length;Ke++)he.push(F.charAt(Ke)),Ke<U.length&&he.push(U.charAt(Ke));return he.join("")}function pr(F){return Gn.create("missing-app-config-values",{valueName:F})}no("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),no("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bs{constructor(U,he,Ke){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const bt=function io(F){if(!F||!F.options)throw pr("App Configuration Object");if(!F.name)throw pr("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:he}=F;for(const Ke of U)if(!he[Ke])throw pr(Ke);return{appName:F.name,projectId:he.projectId,apiKey:he.apiKey,appId:he.appId,senderId:he.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:bt,installations:he,analyticsProvider:Ke}}_delete(){return Promise.resolve()}}function Yo(F){return re.apply(this,arguments)}function re(){return(re=(0,g.Z)(function*(F){var U;try{F.swRegistration=yield navigator.serviceWorker.register(zo,{scope:ar}),F.swRegistration.update().catch(()=>{})}catch(he){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:null===(U=he)||void 0===U?void 0:U.message})}})).apply(this,arguments)}function v(F,U){return C.apply(this,arguments)}function C(){return(C=(0,g.Z)(function*(F,U){if(!U&&!F.swRegistration&&(yield Yo(F)),U||!F.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");F.swRegistration=U}})).apply(this,arguments)}function L(F,U){return ae.apply(this,arguments)}function ae(){return(ae=(0,g.Z)(function*(F,U){U?F.vapidKey=U:F.vapidKey||(F.vapidKey=Wr)})).apply(this,arguments)}function nt(){return(nt=(0,g.Z)(function*(F,U){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield L(F,null==U?void 0:U.vapidKey),yield v(F,null==U?void 0:U.serviceWorkerRegistration),wn(F)})).apply(this,arguments)}function st(F,U,he){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,g.Z)(function*(F,U,he){const Ke=zt(U);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(Ke,{message_id:he[Br],message_name:he[Ls],message_time:he[Wo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zt(F){switch(F){case Cs.NOTIFICATION_CLICKED:return"notification_open";case Cs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function On(){return(On=(0,g.Z)(function*(F,U){const he=U.data;if(!he.isFirebaseMessaging)return;F.onMessageHandler&&he.messageType===Cs.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(Is(he)):F.onMessageHandler.next(Is(he)));const Ke=he.data;aa(Ke)&&"1"===Ke[ls]&&(yield st(F,he.messageType,Ke))})).apply(this,arguments)}const $n="@firebase/messaging",kn=F=>{const U=new Bs(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",he=>function Dn(F,U){return On.apply(this,arguments)}(U,he)),U},Kn=F=>{const U=F.getProvider("messaging").getImmediate();return{getToken:Ke=>function Re(F,U){return nt.apply(this,arguments)}(U,Ke)}};function tr(){return ir.apply(this,arguments)}function ir(){return(ir=(0,g.Z)(function*(){try{yield(0,we.eu)()}catch(F){return!1}return"undefined"!=typeof window&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pi(){(0,x._registerComponent)(new be.wA("messaging",kn,"PUBLIC")),(0,x._registerComponent)(new be.wA("messaging-internal",Kn,"PRIVATE")),(0,x.registerVersion)($n,"0.9.16"),(0,x.registerVersion)($n,"0.9.16","esm2017")}();const Vs="analytics",xo="firebase_id",hs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mn="https://www.googletagmanager.com/gtag/js",En=new Me.Yd("@firebase/analytics");function Wn(F){return Promise.all(F.map(U=>U.catch(he=>he)))}function ci(F,U){const he=document.createElement("script");he.src=`${Mn}?l=${F}&id=${U}`,he.async=!0,document.head.appendChild(he)}function Ts(F,U,he,Ke,bt,Pt){return rr.apply(this,arguments)}function rr(){return(rr=(0,g.Z)(function*(F,U,he,Ke,bt,Pt){const tn=Ke[bt];try{if(tn)yield U[tn];else{const Ln=(yield Wn(he)).find(Jn=>Jn.measurementId===bt);Ln&&(yield U[Ln.appId])}}catch(_n){En.error(_n)}F("config",bt,Pt)})).apply(this,arguments)}function os(F,U,he,Ke,bt){return ki.apply(this,arguments)}function ki(){return(ki=(0,g.Z)(function*(F,U,he,Ke,bt){try{let Pt=[];if(bt&&bt.send_to){let tn=bt.send_to;Array.isArray(tn)||(tn=[tn]);const _n=yield Wn(he);for(const Ln of tn){const Jn=_n.find(Yn=>Yn.measurementId===Ln),ei=Jn&&U[Jn.appId];if(!ei){Pt=[];break}Pt.push(ei)}}0===Pt.length&&(Pt=Object.values(U)),yield Promise.all(Pt),F("event",Ke,bt||{})}catch(Pt){En.error(Pt)}})).apply(this,arguments)}function Qr(){const F=window.document.getElementsByTagName("script");for(const U of Object.values(F))if(U.src&&U.src.includes(Mn))return U;return null}const Ki=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),dl=new class Us{constructor(U={},he=1e3){this.throttleMetadata=U,this.intervalMillis=he}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,he){this.throttleMetadata[U]=he}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function $a(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function oo(F){return hl.apply(this,arguments)}function hl(){return(hl=(0,g.Z)(function*(F){var U;const{appId:he,apiKey:Ke}=F,bt={method:"GET",headers:$a(Ke)},Pt=hs.replace("{app-id}",he),tn=yield fetch(Pt,bt);if(200!==tn.status&&304!==tn.status){let _n="";try{const Ln=yield tn.json();(null===(U=Ln.error)||void 0===U?void 0:U.message)&&(_n=Ln.error.message)}catch(Ln){}throw Ki.create("config-fetch-failed",{httpStatus:tn.status,responseMessage:_n})}return tn.json()})).apply(this,arguments)}function Xi(F){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,g.Z)(function*(F,U=dl,he){const{appId:Ke,apiKey:bt,measurementId:Pt}=F.options;if(!Ke)throw Ki.create("no-app-id");if(!bt){if(Pt)return{measurementId:Pt,appId:Ke};throw Ki.create("no-api-key")}const tn=U.getThrottleMetadata(Ke)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_n=new $;return setTimeout((0,g.Z)(function*(){_n.abort()}),void 0!==he?he:6e4),la({appId:Ke,apiKey:bt,measurementId:Pt},tn,_n,U)})).apply(this,arguments)}function la(F,U,he){return A.apply(this,arguments)}function A(){return(A=(0,g.Z)(function*(F,{throttleEndTimeMillis:U,backoffCount:he},Ke,bt=dl){var Pt,tn;const{appId:_n,measurementId:Ln}=F;try{yield I(Ke,U)}catch(Jn){if(Ln)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ln} provided in the "measurementId" field in the local Firebase config. [${null===(Pt=Jn)||void 0===Pt?void 0:Pt.message}]`),{appId:_n,measurementId:Ln};throw Jn}try{const Jn=yield oo(F);return bt.deleteThrottleMetadata(_n),Jn}catch(Jn){const ei=Jn;if(!w(ei)){if(bt.deleteThrottleMetadata(_n),Ln)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ln} provided in the "measurementId" field in the local Firebase config. [${null==ei?void 0:ei.message}]`),{appId:_n,measurementId:Ln};throw Jn}const Yn=503===Number(null===(tn=null==ei?void 0:ei.customData)||void 0===tn?void 0:tn.httpStatus)?(0,we.$s)(he,bt.intervalMillis,30):(0,we.$s)(he,bt.intervalMillis),lr={throttleEndTimeMillis:Date.now()+Yn,backoffCount:he+1};return bt.setThrottleMetadata(_n,lr),En.debug(`Calling attemptFetch again in ${Yn} millis`),la(F,lr,Ke,bt)}})).apply(this,arguments)}function I(F,U){return new Promise((he,Ke)=>{const bt=Math.max(U-Date.now(),0),Pt=setTimeout(he,bt);F.addEventListener(()=>{clearTimeout(Pt),Ke(Ki.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function w(F){if(!(F instanceof we.ZR&&F.customData))return!1;const U=Number(F.customData.httpStatus);return 429===U||500===U||503===U||504===U}class ${constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let Q,Ji;function je(){return(je=(0,g.Z)(function*(F,U,he,Ke,bt){if(bt&&bt.global)F("event",he,Ke);else{const Pt=yield U;F("event",he,Object.assign(Object.assign({},Ke),{send_to:Pt}))}})).apply(this,arguments)}function _a(F){Ji=F}function ya(F){Q=F}function Ro(){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,g.Z)(function*(){var F;if(!(0,we.hl)())return En.warn(Ki.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(U){return En.warn(Ki.create("indexeddb-unavailable",{errorInfo:null===(F=U)||void 0===F?void 0:F.toString()}).message),!1}return!0})).apply(this,arguments)}function Ll(){return(Ll=(0,g.Z)(function*(F,U,he,Ke,bt,Pt,tn){var _n;const Ln=Xi(F);Ln.then(js=>{he[js.measurementId]=js.appId,F.options.measurementId&&js.measurementId!==F.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${js.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(js=>En.error(js)),U.push(Ln);const Jn=Ro().then(js=>{if(js)return Ke.getId()}),[ei,Yn]=yield Promise.all([Ln,Jn]);Qr()||ci(Pt,ei.measurementId),Ji&&(bt("consent","default",Ji),_a(void 0)),bt("js",new Date);const lr=null!==(_n=null==tn?void 0:tn.config)&&void 0!==_n?_n:{};return lr.origin="firebase",lr.update=!0,null!=Yn&&(lr[xo]=Yn),bt("config",ei.measurementId,lr),Q&&(bt("set",Q),ya(void 0)),ei.measurementId})).apply(this,arguments)}class Aa{constructor(U){this.app=U}_delete(){return delete Qo[this.app.options.appId],Promise.resolve()}}let Qo={},fl=[];const Bl={};let yo,ko,Po="dataLayer",Zi=!1;function ji(F,U,he){!function Vl(){const F=[];if((0,we.ru)()&&F.push("This is a browser extension environment."),(0,we.zI)()||F.push("Cookies are not available."),F.length>0){const U=F.map((Ke,bt)=>`(${bt+1}) ${Ke}`).join(" "),he=Ki.create("invalid-analytics-context",{errorInfo:U});En.warn(he.message)}}();const Ke=F.options.appId;if(!Ke)throw Ki.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw Ki.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qo[Ke])throw Ki.create("already-exists",{id:Ke});if(!Zi){!function Ui(F){let U=[];Array.isArray(window[F])?U=window[F]:window[F]=U}(Po);const{wrappedGtag:Pt,gtagCore:tn}=function fs(F,U,he,Ke,bt){let Pt=function(...tn){window[Ke].push(arguments)};return window[bt]&&"function"==typeof window[bt]&&(Pt=window[bt]),window[bt]=function qo(F,U,he,Ke){function Pt(){return(Pt=(0,g.Z)(function*(tn,_n,Ln){try{"event"===tn?yield os(F,U,he,_n,Ln):"config"===tn?yield Ts(F,U,he,Ke,_n,Ln):"consent"===tn?F("consent","update",Ln):F("set",_n)}catch(Jn){En.error(Jn)}})).apply(this,arguments)}return function bt(tn,_n,Ln){return Pt.apply(this,arguments)}}(Pt,F,U,he),{gtagCore:Pt,wrappedGtag:window[bt]}}(Qo,fl,Bl,Po,"gtag");ko=Pt,yo=tn,Zi=!0}return Qo[Ke]=function Sa(F,U,he,Ke,bt,Pt,tn){return Ll.apply(this,arguments)}(F,fl,Bl,U,yo,Po,he),new Aa(F)}function bn(){return pl.apply(this,arguments)}function pl(){return(pl=(0,g.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(F){return!1}})).apply(this,arguments)}const gl="@firebase/analytics";!function ru(){(0,x._registerComponent)(new be.wA(Vs,(U,{options:he})=>ji(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),he),"PUBLIC")),(0,x._registerComponent)(new be.wA("analytics-internal",function F(U){try{const he=U.getProvider(Vs).getImmediate();return{logEvent:(Ke,bt,Pt)=>function jl(F,U,he,Ke){F=(0,we.m9)(F),function te(F,U,he,Ke,bt){return je.apply(this,arguments)}(ko,Qo[F.app.options.appId],U,he,Ke).catch(bt=>En.error(bt))}(he,Ke,bt,Pt)}}catch(he){throw Ki.create("interop-component-reg-failed",{reason:he})}},"PRIVATE")),(0,x.registerVersion)(gl,"0.8.0"),(0,x.registerVersion)(gl,"0.8.0","esm2017")}();var Hl=y(4408),Xr=y(7565);const Rt=new class xa extends Xr.v{}(class ao extends Hl.o{constructor(U,he){super(U,he),this.scheduler=U,this.work=he}schedule(U,he=0){return he>0?super.schedule(U,he):(this.delay=he,this.state=U,this.scheduler.flush(this),this)}execute(U,he){return he>0||this.closed?super.execute(U,he):this._execute(U,he)}requestAsyncId(U,he,Ke=0){return null!=Ke&&Ke>0||null==Ke&&this.delay>0?super.requestAsyncId(U,he,Ke):U.flush(this)}});var qs=y(4986),_l=y(8505),No=y(9468),ca=y(5363);const oh=new h.GfV("7.4.1"),Xo="__angularfire_symbol__analyticsIsSupportedValue",Ss="__angularfire_symbol__analyticsIsSupported",ua="__angularfire_symbol__remoteConfigIsSupportedValue",da="__angularfire_symbol__remoteConfigIsSupported",su="__angularfire_symbol__messagingIsSupportedValue",ps="__angularfire_symbol__messagingIsSupported";function Ka(F,U,he){if(U){if(1===U.length)return U[0];const Pt=U.filter(tn=>tn.app===he);if(1===Pt.length)return Pt[0]}return he.container.getProvider(F).getImmediate({optional:!0})}globalThis[Ss]||(globalThis[Ss]=bn().then(F=>globalThis[Xo]=F).catch(()=>globalThis[Xo]=!1)),globalThis[ps]||(globalThis[ps]=tr().then(F=>globalThis[su]=F).catch(()=>globalThis[su]=!1)),globalThis[da]||(globalThis[da]=Es().then(F=>globalThis[ua]=F).catch(()=>globalThis[ua]=!1));const Hr=(F,U)=>{const he=U?[U]:(0,E.C6)(),Ke=[];return he.forEach(bt=>{bt.container.getProvider(F).instances.forEach(tn=>{Ke.includes(tn)||Ke.push(tn)})}),Ke};function Ni(){}class Jo{constructor(U,he=Rt){this.zone=U,this.delegate=he}now(){return this.delegate.now()}schedule(U,he,Ke){const bt=this.zone;return this.delegate.schedule(function(tn){bt.runGuarded(()=>{U.apply(this,[tn])})},he,Ke)}}class yl{constructor(U){this.zone=U,this.task=null}call(U,he){const Ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)),he.pipe((0,_l.b)({next:Ke,complete:Ke,error:Ke})).subscribe(U).add(Ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ms=(()=>{class F{constructor(he){this.ngZone=he,this.outsideAngular=he.runOutsideAngular(()=>new Jo(Zone.current)),this.insideAngular=he.run(()=>new Jo(Zone.current,qs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(he){return new(he||F)(h.LFG(h.R0b))},F.\u0275prov=h.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Fo(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function ea(F){return Fo(),function Gl(F){return function(he){return(he=he.lift(new yl(F.ngZone))).pipe((0,No.R)(F.outsideAngular),(0,ca.Q)(F.insideAngular))}}(Fo())(F)}},2090:(Gt,Ze,y)=>{y.d(Ze,{BH:()=>He,LL:()=>ze,ZR:()=>Oe,zI:()=>ce,US:()=>be,tV:()=>ie,L:()=>pe,$s:()=>jn,r3:()=>ft,Sg:()=>Se,ne:()=>hn,vZ:()=>vt,ZB:()=>fe,pd:()=>Rn,m9:()=>Si,z$:()=>$e,jU:()=>rt,ru:()=>Ne,d:()=>et,xb:()=>Dt,w1:()=>Ee,hl:()=>ne,uI:()=>it,UG:()=>Le,b$:()=>Ot,G6:()=>De,Mn:()=>_e,xO:()=>St,zd:()=>rn,eu:()=>Ye});const x=function(qe){const ge=[];let j=0;for(let N=0;N<qe.length;N++){let k=qe.charCodeAt(N);k<128?ge[j++]=k:k<2048?(ge[j++]=k>>6|192,ge[j++]=63&k|128):55296==(64512&k)&&N+1<qe.length&&56320==(64512&qe.charCodeAt(N+1))?(k=65536+((1023&k)<<10)+(1023&qe.charCodeAt(++N)),ge[j++]=k>>18|240,ge[j++]=k>>12&63|128,ge[j++]=k>>6&63|128,ge[j++]=63&k|128):(ge[j++]=k>>12|224,ge[j++]=k>>6&63|128,ge[j++]=63&k|128)}return ge},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(qe,ge){if(!Array.isArray(qe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let k=0;k<qe.length;k+=3){const ye=qe[k],ke=k+1<qe.length,It=ke?qe[k+1]:0,fn=k+2<qe.length,Cn=fn?qe[k+2]:0;let ai=(15&It)<<2|Cn>>6,_t=63&Cn;fn||(_t=64,ke||(ai=64)),N.push(j[ye>>2],j[(3&ye)<<4|It>>4],j[ai],j[_t])}return N.join("")},encodeString(qe,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(qe):this.encodeByteArray(x(qe),ge)},decodeString(qe,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(qe):function(qe){const ge=[];let j=0,N=0;for(;j<qe.length;){const k=qe[j++];if(k<128)ge[N++]=String.fromCharCode(k);else if(k>191&&k<224){const ye=qe[j++];ge[N++]=String.fromCharCode((31&k)<<6|63&ye)}else if(k>239&&k<365){const fn=((7&k)<<18|(63&qe[j++])<<12|(63&qe[j++])<<6|63&qe[j++])-65536;ge[N++]=String.fromCharCode(55296+(fn>>10)),ge[N++]=String.fromCharCode(56320+(1023&fn))}else{const ye=qe[j++],ke=qe[j++];ge[N++]=String.fromCharCode((15&k)<<12|(63&ye)<<6|63&ke)}}return ge.join("")}(this.decodeStringToByteArray(qe,ge))},decodeStringToByteArray(qe,ge){this.init_();const j=ge?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let k=0;k<qe.length;){const ye=j[qe.charAt(k++)],It=k<qe.length?j[qe.charAt(k)]:0;++k;const Cn=k<qe.length?j[qe.charAt(k)]:64;++k;const vn=k<qe.length?j[qe.charAt(k)]:64;if(++k,null==ye||null==It||null==Cn||null==vn)throw Error();N.push(ye<<2|It>>4),64!==Cn&&(N.push(It<<4&240|Cn>>2),64!==vn&&N.push(Cn<<6&192|vn))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let qe=0;qe<this.ENCODED_VALS.length;qe++)this.byteToCharMap_[qe]=this.ENCODED_VALS.charAt(qe),this.charToByteMap_[this.byteToCharMap_[qe]]=qe,this.byteToCharMapWebSafe_[qe]=this.ENCODED_VALS_WEBSAFE.charAt(qe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[qe]]=qe,qe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(qe)]=qe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(qe)]=qe)}}},pe=function(qe){return function(qe){const ge=x(qe);return be.encodeByteArray(ge,!0)}(qe).replace(/\./g,"")},ie=function(qe){try{return be.decodeString(qe,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function fe(qe,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===qe&&(qe={});break;case Array:qe=[];break;default:return ge}for(const j in ge)!ge.hasOwnProperty(j)||!le(j)||(qe[j]=fe(qe[j],ge[j]));return qe}function le(qe){return"__proto__"!==qe}class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,j)=>{this.resolve=ge,this.reject=j})}wrapCallback(ge){return(j,N)=>{j?this.reject(j):this.resolve(N),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge(j):ge(j,N))}}}function Se(qe,ge){if(qe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=ge||"demo-project",k=qe.iat||0,ye=qe.sub||qe.user_id;if(!ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:k,exp:k+3600,auth_time:k,sub:ye,user_id:ye,firebase:{sign_in_provider:"custom",identities:{}}},qe);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(ke)),""].join(".")}function $e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(qe){return!1}}function rt(){return"object"==typeof self&&self.self===self}function Ne(){const qe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof qe&&void 0!==qe.id}function Ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){return $e().indexOf("Electron/")>=0}function Ee(){const qe=$e();return qe.indexOf("MSIE ")>=0||qe.indexOf("Trident/")>=0}function _e(){return $e().indexOf("MSAppHost/")>=0}function De(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){return"object"==typeof indexedDB}function Ye(){return new Promise((qe,ge)=>{try{let j=!0;const N="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(N);k.onsuccess=()=>{k.result.close(),j||self.indexedDB.deleteDatabase(N),qe(!0)},k.onupgradeneeded=()=>{j=!1},k.onerror=()=>{var ye;ge((null===(ye=k.error)||void 0===ye?void 0:ye.message)||"")}}catch(j){ge(j)}})}function ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Oe extends Error{constructor(ge,j,N){super(j),this.code=ge,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(ge,j,N){this.service=ge,this.serviceName=j,this.errors=N}create(ge,...j){const N=j[0]||{},k=`${this.service}/${ge}`,ye=this.errors[ge],ke=ye?function yt(qe,ge){return qe.replace(mt,(j,N)=>{const k=ge[N];return null!=k?String(k):`<${N}?>`})}(ye,N):"Error";return new Oe(k,`${this.serviceName}: ${ke} (${k}).`,N)}}const mt=/\{\$([^}]+)}/g;function ft(qe,ge){return Object.prototype.hasOwnProperty.call(qe,ge)}function Dt(qe){for(const ge in qe)if(Object.prototype.hasOwnProperty.call(qe,ge))return!1;return!0}function vt(qe,ge){if(qe===ge)return!0;const j=Object.keys(qe),N=Object.keys(ge);for(const k of j){if(!N.includes(k))return!1;const ye=qe[k],ke=ge[k];if(Bt(ye)&&Bt(ke)){if(!vt(ye,ke))return!1}else if(ye!==ke)return!1}for(const k of N)if(!j.includes(k))return!1;return!0}function Bt(qe){return null!==qe&&"object"==typeof qe}function St(qe){const ge=[];for(const[j,N]of Object.entries(qe))Array.isArray(N)?N.forEach(k=>{ge.push(encodeURIComponent(j)+"="+encodeURIComponent(k))}):ge.push(encodeURIComponent(j)+"="+encodeURIComponent(N));return ge.length?"&"+ge.join("&"):""}function rn(qe){const ge={};return qe.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[k,ye]=N.split("=");ge[decodeURIComponent(k)]=decodeURIComponent(ye)}}),ge}function Rn(qe){const ge=qe.indexOf("?");if(!ge)return"";const j=qe.indexOf("#",ge);return qe.substring(ge,j>0?j:void 0)}function hn(qe,ge){const j=new gn(qe,ge);return j.subscribe.bind(j)}class gn{constructor(ge,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{ge(this)}).catch(N=>{this.error(N)})}next(ge){this.forEachObserver(j=>{j.next(ge)})}error(ge){this.forEachObserver(j=>{j.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,j,N){let k;if(void 0===ge&&void 0===j&&void 0===N)throw new Error("Missing Observer.");k=function dt(qe,ge){if("object"!=typeof qe||null===qe)return!1;for(const j of ge)if(j in qe&&"function"==typeof qe[j])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:j,complete:N},void 0===k.next&&(k.next=R),void 0===k.error&&(k.error=R),void 0===k.complete&&(k.complete=R);const ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(ke){}}),this.observers.push(k),ye}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,ge)}sendOne(ge,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{j(this.observers[ge])}catch(N){"undefined"!=typeof console&&console.error&&console.error(N)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R(){}function jn(qe,ge=1e3,j=2){const N=ge*Math.pow(j,qe),k=Math.round(.5*N*(Math.random()-.5)*2);return Math.min(144e5,N+k)}function Si(qe){return qe&&qe._delegate?qe._delegate:qe}},7018:(Gt,Ze,y)=>{y.d(Ze,{M:()=>h});var h=(()=>{return(E=h||(h={})).PAINTINGS="cuadros",E.BOX_TYPES="tipo_cuadro",E.MENU="menu",E.MEASURES="medidas",E.PURCHASE="compras",h;var E})()},5651:(Gt,Ze,y)=>{y.d(Ze,{W:()=>we});var h=y(1135),E=y(7018),g=y(5e3),x=y(4959);let we=(()=>{class be{constructor(pe){this.db=pe,this.measures$=new h.X(null)}loadMeasures(){this.db.collection(E.M.MEASURES).valueChanges({idField:"id"}).subscribe(pe=>this.measures$.next(pe))}}return be.\u0275fac=function(pe){return new(pe||be)(g.LFG(x.ST))},be.\u0275prov=g.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},4872:(Gt,Ze,y)=>{y.d(Ze,{q:()=>rt});var h=y(4889),E=y(4594),g=y(8099),x=y(7423),we=y(9224),be=y(4107),Me=y(508),pe=y(7399),ie=y(4623),q=y(6688),fe=y(4834),le=y(149),He=y(8966),Se=y(7261),$e=y(9287),it=y(7238),Le=y(5e3);let rt=(()=>{class Ne{}return Ne.\u0275fac=function(et){return new(et||Ne)},Ne.\u0275mod=Le.oAB({type:Ne}),Ne.\u0275inj=Le.cJS({providers:[{provide:pe.xM,useValue:{panelClass:"bottom-sheet-custom-container",hasBackdrop:!0}}],imports:[it.AV,$e.Iq,Se.ZX,be.LD,le.dp,h.SJ,E.g0,g.Ps,x.ot,we.QW,Me.si,pe._r,ie.ie,q.Hi,fe.t,He.Is]}),Ne})()},2278:(Gt,Ze,y)=>{var h=y(2313),E=y(5e3),g=y(5861),x=y(1402);const we=[{path:"",loadChildren:(Ae=(0,g.Z)(function*(){return(yield Promise.all([y.e(592),y.e(510)]).then(y.bind(y,6510))).DashboardModule}),function(){return Ae.apply(this,arguments)})},{path:"cuadros",loadChildren:function(){var Ae=(0,g.Z)(function*(){return(yield Promise.all([y.e(592),y.e(339)]).then(y.bind(y,3339))).PaintingModule});return function(){return Ae.apply(this,arguments)}}()},{path:"compras",loadChildren:function(){var Ae=(0,g.Z)(function*(){return(yield Promise.all([y.e(592),y.e(30)]).then(y.bind(y,1030))).PurchaseModule});return function(){return Ae.apply(this,arguments)}}()},{path:"**",redirectTo:""}];var Ae;let be=(()=>{class Ae{}return Ae.\u0275fac=function(ee){return new(ee||Ae)},Ae.\u0275mod=E.oAB({type:Ae}),Ae.\u0275inj=E.cJS({imports:[[x.Bz.forRoot(we)],x.Bz]}),Ae})();var Me=y(1777);const pe=(0,Me.X$)("routeAnimations",[(0,Me.eR)("* <=> *",[(0,Me.IO)(":leave",(0,Me.oB)({position:"absolute",left:0,right:0,transform:"translate3d(0%,0,0)",overflow:"hidden"}),{optional:!0}),(0,Me.IO)(":enter",(0,Me.oB)({position:"absolute",left:"15px",right:"15px",transform:"translate3d(-100%,0,0)",overflow:"hidden"}),{optional:!0}),(0,Me.ru)([(0,Me.IO)(":leave",(0,Me.ru)([(0,Me.jt)("0s ease-in-out",(0,Me.oB)({transform:"translate3d(100%,0,0)"}))]),{optional:!0}),(0,Me.IO)(":enter",(0,Me.ru)([(0,Me.jt)("300ms ease-in-out",(0,Me.oB)({transform:"translate3d(0%,0,0)"}))]),{optional:!0})])])]);var ie=y(5651),q=y(4889),fe=y(2379),le=y(149),He=y(7579),Se=y(2722),$e=y(7018),it=y(4959);let Le=(()=>{class Ae{constructor(ee){this.db=ee}getMenu(){return this.db.collection($e.M.MENU).valueChanges({idField:"id"})}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(E.LFG(it.ST))},Ae.\u0275prov=E.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();var rt=y(9808);function Ne(Ae,Qe){if(1&Ae){const ee=E.EpF();E.TgZ(0,"mat-tree-node",4),E.NdJ("click",function(){const se=E.CHM(ee).$implicit;return E.oxw(2).navigate(se)}),E._uU(1),E.qZA()}if(2&Ae){const ee=Qe.$implicit;E.xp6(1),E.hij(" ",ee.nombre," ")}}function Ot(Ae,Qe){if(1&Ae&&(E.TgZ(0,"mat-tree-node",5),E._uU(1),E.qZA()),2&Ae){const ee=Qe.$implicit;E.xp6(1),E.hij(" ",ee.nombre," ")}}function et(Ae,Qe){if(1&Ae&&(E.ynx(0),E.TgZ(1,"mat-tree",1),E.YNc(2,Ne,2,1,"mat-tree-node",2),E.YNc(3,Ot,2,1,"mat-tree-node",3),E.qZA(),E.BQk()),2&Ae){const ee=E.oxw();E.xp6(1),E.Q6J("dataSource",ee.menu)("treeControl",ee.treeControl),E.xp6(2),E.Q6J("matTreeNodeDefWhen",ee.hasChild)}}let Ee=(()=>{class Ae{constructor(ee,Fe){this.router=ee,this.menuService=Fe,this._transformer=(O,se)=>Object.assign({expandable:!!O.children&&O.children.length>0,level:se},O),this.treeControl=new fe.C2(O=>O.level,O=>O.expandable),this.treeFlattener=new le.JZ(this._transformer,O=>O.level,O=>O.expandable,O=>O.children),this.hasChild=(O,se)=>se.expandable,this.menu=new le.kc(this.treeControl,this.treeFlattener),this.onDestroy$=new He.x}ngOnInit(){this.menuService.getMenu().pipe((0,Se.R)(this.onDestroy$)).subscribe(ee=>{this.menu.data=ee,this.tree.treeControl.expandAll()})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}navigate(ee){this.router.navigate([ee.basePath,ee.id])}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(E.Y36(x.F0),E.Y36(Le))},Ae.\u0275cmp=E.Xpm({type:Ae,selectors:[["app-menu"]],viewQuery:function(ee,Fe){if(1&ee&&E.Gf(le.gi,5),2&ee){let O;E.iGM(O=E.CRH())&&(Fe.tree=O.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[1,"tree",3,"dataSource","treeControl"],["class","child","matTreeNodePadding","",3,"click",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"child",3,"click"],["matTreeNodePadding",""]],template:function(ee,Fe){1&ee&&E.YNc(0,et,4,3,"ng-container",0),2&ee&&E.Q6J("ngIf",Fe.menu.data)},directives:[rt.O5,le.gi,le.fQ,le.uo,le.ah],styles:[".tree[_ngcontent-%COMP%]{padding:24px}.tree[_ngcontent-%COMP%]   .mat-tree-node.child[_ngcontent-%COMP%]:hover{background:#eeeeee;cursor:pointer}"]}),Ae})();var _e=y(4594),xe=y(7423),De=y(8099);let ne=(()=>{class Ae{constructor(ee){this.router=ee,this.onDrawerToggle=new E.vpe}ngOnInit(){}goToHome(){this.router.navigate([""])}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(E.Y36(x.F0))},Ae.\u0275cmp=E.Xpm({type:Ae,selectors:[["app-header"]],outputs:{onDrawerToggle:"onDrawerToggle"},decls:6,vars:0,consts:[["mat-icon-button","",3,"click"],[1,"clickable",3,"click"]],template:function(ee,Fe){1&ee&&(E.TgZ(0,"button",0),E.NdJ("click",function(){return Fe.onDrawerToggle.emit()}),E.TgZ(1,"mat-icon"),E._uU(2,"menu"),E.qZA()(),E.TgZ(3,"div",1),E.NdJ("click",function(){return Fe.goToHome()}),E.TgZ(4,"span"),E._uU(5,"Fly cuadros"),E.qZA()())},directives:[xe.lW,De.Hw],styles:["[_nghost-%COMP%]{display:flex;gap:16px}.clickable[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}"]}),Ae})(),Ye=(()=>{class Ae{constructor(ee,Fe){this.contexts=ee,this.measuresService=Fe}ngOnInit(){this.measuresService.loadMeasures()}getRouteAnimationData(){var ee,Fe,O,se;return null===(se=null===(O=null===(Fe=null===(ee=this.contexts.getContext("primary"))||void 0===ee?void 0:ee.route)||void 0===Fe?void 0:Fe.snapshot)||void 0===O?void 0:O.data)||void 0===se?void 0:se.animation}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(E.Y36(x.y6),E.Y36(ie.W))},Ae.\u0275cmp=E.Xpm({type:Ae,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"full-height"],["mode","side",2,"width","300px"],["drawer",""],[3,"onDrawerToggle"],[1,"container"]],template:function(ee,Fe){if(1&ee){const O=E.EpF();E.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),E._UZ(3,"app-menu"),E.qZA(),E.TgZ(4,"mat-drawer-content")(5,"mat-toolbar")(6,"app-header",3),E.NdJ("onDrawerToggle",function(){return E.CHM(O),E.MAs(2).toggle()}),E.qZA()(),E.TgZ(7,"main",4),E._UZ(8,"router-outlet"),E.qZA()()()}2&ee&&(E.xp6(7),E.Q6J("@routeAnimations",Fe.getRouteAnimationData()))},directives:[q.kh,q.jA,Ee,q.LW,_e.Ye,ne,x.lC],styles:[".container[_ngcontent-%COMP%]{padding:15px}@media (max-width: 800px){.container[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}"],data:{animation:[pe]}}),Ae})();var ce=y(6360),Ue=y(4872);let oe=(()=>{class Ae{}return Ae.\u0275fac=function(ee){return new(ee||Ae)},Ae.\u0275mod=E.oAB({type:Ae}),Ae.\u0275inj=E.cJS({providers:[],imports:[[rt.ez,Ue.q]]}),Ae})();var Oe=y(2011);const ze={apiKey:"AIzaSyAPbYmpSoQ3DsOF_u4Lwwm1QAmaamV-gzo",authDomain:"fly-cuadros.firebaseapp.com",projectId:"fly-cuadros",storageBucket:"fly-cuadros.appspot.com",messagingSenderId:"650672944127",appId:"1:650672944127:web:108c938188ad030cb32dca",measurementId:"G-6FVF2K2V30"};var yt=y(1863);let mt=(()=>{class Ae{}return Ae.\u0275fac=function(ee){return new(ee||Ae)},Ae.\u0275mod=E.oAB({type:Ae,bootstrap:[Ye]}),Ae.\u0275inj=E.cJS({imports:[[h.b2,be,ce.PW,Ue.q,oe,Oe.hO.initializeApp(ze),it.yb,yt.i4.forRoot()]]}),Ae})();(0,E.G48)(),h.q6().bootstrapModule(mt).catch(Ae=>console.error(Ae))},5867:(Gt,Ze,y)=>{y.d(Ze,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=y(9681);(0,h.registerVersion)("firebase","9.9.4","app")},127:(Gt,Ze,y)=>{y.d(Ze,{Z:()=>h.Z});var h=y(3942);h.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(Gt,Ze,y)=>{y.r(Ze);var h=y(5861),E=y(3942),g=y(2090),x=y(9681),we=y(655),be=y(1877),Me=y(4859);const $e=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},it=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new be.Yd("@firebase/auth");function Ot(_,...u){Ne.logLevel<=be.in.ERROR&&Ne.error(`Auth (${x.SDK_VERSION}): ${_}`,...u)}function et(_,...u){throw De(_,...u)}function Ee(_,...u){return De(_,...u)}function _e(_,u,f){const D=Object.assign(Object.assign({},it()),{[u]:f});return new g.LL("auth","Firebase",D).create(u,{appName:_.name})}function xe(_,u,f){if(!(u instanceof f))throw f.name!==u.constructor.name&&et(_,"argument-error"),_e(_,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function De(_,...u){if("string"!=typeof _){const f=u[0],D=[...u.slice(1)];return D[0]&&(D[0].appName=_.name),_._errorFactory.create(f,...D)}return Le.create(_,...u)}function ne(_,u,...f){if(!_)throw De(u,...f)}function Ye(_){const u="INTERNAL ASSERTION FAILED: "+_;throw Ot(u),new Error(u)}function ce(_,u){_||Ye(u)}const Ue=new Map;function oe(_){ce(_ instanceof Function,"Expected a class definition");let u=Ue.get(_);return u?(ce(u instanceof _,"Instance stored in cache mismatched with class"),u):(u=new _,Ue.set(_,u),u)}function yt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function mt(){return"http:"===gt()||"https:"===gt()}function gt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ee{constructor(u,f){this.shortDelay=u,this.longDelay=f,ce(f>u,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function Ae(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fe(_,u){ce(_.emulator,"Emulator should always be set here");const{url:f}=_.emulator;return u?`${f}${u.startsWith("/")?u.slice(1):u}`:f}class O{static initialize(u,f,D){this.fetchImpl=u,f&&(this.headersImpl=f),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ft=new ee(3e4,6e4);function ot(_,u){return _.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:_.tenantId}):u}function Dt(_,u,f,D){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,h.Z)(function*(_,u,f,D,Y={}){return vt(_,Y,(0,h.Z)(function*(){let Ce={},pt={};D&&("GET"===u?pt=D:Ce={body:JSON.stringify(D)});const Ut=(0,g.xO)(Object.assign({key:_.config.apiKey},pt)).slice(1),un=yield _._getAdditionalHeaders();return un["Content-Type"]="application/json",_.languageCode&&(un["X-Firebase-Locale"]=_.languageCode),O.fetch()(rn(_,_.config.apiHost,f,Ut),Object.assign({method:u,headers:un,referrerPolicy:"no-referrer"},Ce))}))})).apply(this,arguments)}function vt(_,u,f){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,h.Z)(function*(_,u,f){_._canInitEmulator=!1;const D=Object.assign(Object.assign({},se),u);try{const Y=new Rn(_),Ce=yield Promise.race([f(),Y.promise]);Y.clearNetworkTimeout();const pt=yield Ce.json();if("needConfirmation"in pt)throw Bn(_,"account-exists-with-different-credential",pt);if(Ce.ok&&!("errorMessage"in pt))return pt;{const Ut=Ce.ok?pt.errorMessage:pt.error.message,[un,An]=Ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===un)throw Bn(_,"credential-already-in-use",pt);if("EMAIL_EXISTS"===un)throw Bn(_,"email-already-in-use",pt);if("USER_DISABLED"===un)throw Bn(_,"user-disabled",pt);const qn=D[un]||un.toLowerCase().replace(/[_\s]+/g,"-");if(An)throw _e(_,qn,An);et(_,qn)}}catch(Y){if(Y instanceof g.ZR)throw Y;et(_,"network-request-failed")}})).apply(this,arguments)}function We(_,u,f,D){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(_,u,f,D,Y={}){const Ce=yield Dt(_,u,f,D,Y);return"mfaPendingCredential"in Ce&&et(_,"multi-factor-auth-required",{_serverResponse:Ce}),Ce})).apply(this,arguments)}function rn(_,u,f,D){const Y=`${u}${f}?${D}`;return _.config.emulator?Fe(_.config,Y):`${_.config.apiScheme}://${Y}`}class Rn{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((f,D)=>{this.timer=setTimeout(()=>D(Ee(this.auth,"network-request-failed")),ft.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(_,u,f){const D={appName:_.name};f.email&&(D.email=f.email),f.phoneNumber&&(D.phoneNumber=f.phoneNumber);const Y=Ee(_,u,D);return Y.customData._tokenResponse=f,Y}function gn(){return(gn=(0,h.Z)(function*(_,u){return Dt(_,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function ln(_,u){return dt.apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(_,u){return Dt(_,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function R(_,u){return z.apply(this,arguments)}function z(){return(z=(0,h.Z)(function*(_,u){return Dt(_,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function K(_){if(_)try{const u=new Date(Number(_));if(!isNaN(u.getTime()))return u.toUTCString()}catch(u){}}function Xe(){return(Xe=(0,h.Z)(function*(_,u=!1){const f=(0,g.m9)(_),D=yield f.getIdToken(u),Y=kt(D);ne(Y&&Y.exp&&Y.auth_time&&Y.iat,f.auth,"internal-error");const Ce="object"==typeof Y.firebase?Y.firebase:void 0,pt=null==Ce?void 0:Ce.sign_in_provider;return{claims:Y,token:D,authTime:K(Et(Y.auth_time)),issuedAtTime:K(Et(Y.iat)),expirationTime:K(Et(Y.exp)),signInProvider:pt||null,signInSecondFactor:(null==Ce?void 0:Ce.sign_in_second_factor)||null}})).apply(this,arguments)}function Et(_){return 1e3*Number(_)}function kt(_){var u;const[f,D,Y]=_.split(".");if(void 0===f||void 0===D||void 0===Y)return Ot("JWT malformed, contained fewer than 3 sections"),null;try{const Ce=(0,g.tV)(D);return Ce?JSON.parse(Ce):(Ot("Failed to decode base64 JWT payload"),null)}catch(Ce){return Ot("Caught error parsing JWT payload as JSON",null===(u=Ce)||void 0===u?void 0:u.toString()),null}}function an(_,u){return sn.apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(_,u,f=!1){if(f)return u;try{return yield u}catch(D){throw D instanceof g.ZR&&mn(D)&&_.auth.currentUser===_&&(yield _.auth.signOut()),D}})).apply(this,arguments)}function mn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class yi{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var f;if(u){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const Y=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(u=!1){var f=this;if(!this.isRunning)return;const D=this.getInterval(u);this.timerId=setTimeout((0,h.Z)(function*(){yield f.iteration()}),D)}iteration(){var u=this;return(0,h.Z)(function*(){var f;try{yield u.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(f=D)||void 0===f?void 0:f.code)&&u.schedule(!0))}u.schedule()})()}}class jn{constructor(u,f){this.createdAt=u,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(_){return on.apply(this,arguments)}function on(){return(on=(0,h.Z)(function*(_){var u;const f=_.auth,D=yield _.getIdToken(),Y=yield an(_,R(f,{idToken:D}));ne(null==Y?void 0:Y.users.length,f,"internal-error");const Ce=Y.users[0];_._notifyReloadListener(Ce);const pt=(null===(u=Ce.providerUserInfo)||void 0===u?void 0:u.length)?j(Ce.providerUserInfo):[],Ut=ge(_.providerData,pt),qn=!!_.isAnonymous&&!(_.email&&Ce.passwordHash||(null==Ut?void 0:Ut.length)),zn={uid:Ce.localId,displayName:Ce.displayName||null,photoURL:Ce.photoUrl||null,email:Ce.email||null,emailVerified:Ce.emailVerified||!1,phoneNumber:Ce.phoneNumber||null,tenantId:Ce.tenantId||null,providerData:Ut,metadata:new jn(Ce.createdAt,Ce.lastLoginAt),isAnonymous:qn};Object.assign(_,zn)})).apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(_){const u=(0,g.m9)(_);yield ti(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function ge(_,u){return[..._.filter(D=>!u.some(Y=>Y.providerId===D.providerId)),...u]}function j(_){return _.map(u=>{var{providerId:f}=u,D=(0,we._T)(u,["providerId"]);return{providerId:f,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function k(){return(k=(0,h.Z)(function*(_,u){const f=yield vt(_,{},(0,h.Z)(function*(){const D=(0,g.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:Y,apiKey:Ce}=_.config,pt=rn(_,Y,"/v1/token",`key=${Ce}`),Ut=yield _._getAdditionalHeaders();return Ut["Content-Type"]="application/x-www-form-urlencoded",O.fetch()(pt,{method:"POST",headers:Ut,body:D})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ne(u.idToken,"internal-error"),ne(void 0!==u.idToken,"internal-error"),ne(void 0!==u.refreshToken,"internal-error");const f="expiresIn"in u&&void 0!==u.expiresIn?Number(u.expiresIn):function Zt(_){const u=kt(_);return ne(u,"internal-error"),ne(void 0!==u.exp,"internal-error"),ne(void 0!==u.iat,"internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,f)}getToken(u,f=!1){var D=this;return(0,h.Z)(function*(){return ne(!D.accessToken||D.refreshToken,u,"user-token-expired"),f||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(u,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,f){var D=this;return(0,h.Z)(function*(){const{accessToken:Y,refreshToken:Ce,expiresIn:pt}=yield function N(_,u){return k.apply(this,arguments)}(u,f);D.updateTokensAndExpiration(Y,Ce,Number(pt))})()}updateTokensAndExpiration(u,f,D){this.refreshToken=f||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(u,f){const{refreshToken:D,accessToken:Y,expirationTime:Ce}=f,pt=new ye;return D&&(ne("string"==typeof D,"internal-error",{appName:u}),pt.refreshToken=D),Y&&(ne("string"==typeof Y,"internal-error",{appName:u}),pt.accessToken=Y),Ce&&(ne("number"==typeof Ce,"internal-error",{appName:u}),pt.expirationTime=Ce),pt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new ye,this.toJSON())}_performRefresh(){return Ye("not implemented")}}function ke(_,u){ne("string"==typeof _||void 0===_,"internal-error",{appName:u})}class It{constructor(u){var{uid:f,auth:D,stsTokenManager:Y}=u,Ce=(0,we._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=D,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=Ce.displayName||null,this.email=Ce.email||null,this.emailVerified=Ce.emailVerified||!1,this.phoneNumber=Ce.phoneNumber||null,this.photoURL=Ce.photoURL||null,this.isAnonymous=Ce.isAnonymous||!1,this.tenantId=Ce.tenantId||null,this.providerData=Ce.providerData?[...Ce.providerData]:[],this.metadata=new jn(Ce.createdAt||void 0,Ce.lastLoginAt||void 0)}getIdToken(u){var f=this;return(0,h.Z)(function*(){const D=yield an(f,f.stsTokenManager.getToken(f.auth,u));return ne(D,f.auth,"internal-error"),f.accessToken!==D&&(f.accessToken=D,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),D})()}getIdTokenResult(u){return function Pe(_){return Xe.apply(this,arguments)}(this,u)}reload(){return function Si(_){return qe.apply(this,arguments)}(this)}_assign(u){this!==u&&(ne(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(f=>Object.assign({},f)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){return new It(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(u){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,f=!1){var D=this;return(0,h.Z)(function*(){let Y=!1;u.idToken&&u.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(u),Y=!0),f&&(yield ti(D)),yield D.auth._persistUserIfCurrent(D),Y&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var u=this;return(0,h.Z)(function*(){const f=yield u.getIdToken();return yield an(u,function hn(_,u){return gn.apply(this,arguments)}(u.auth,{idToken:f})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,f){var D,Y,Ce,pt,Ut,un,An,qn;const zn=null!==(D=f.displayName)&&void 0!==D?D:void 0,Jr=null!==(Y=f.email)&&void 0!==Y?Y:void 0,Eo=null!==(Ce=f.phoneNumber)&&void 0!==Ce?Ce:void 0,Ql=null!==(pt=f.photoURL)&&void 0!==pt?pt:void 0,Ih=null!==(Ut=f.tenantId)&&void 0!==Ut?Ut:void 0,il=null!==(un=f._redirectEventId)&&void 0!==un?un:void 0,Lc=null!==(An=f.createdAt)&&void 0!==An?An:void 0,ld=null!==(qn=f.lastLoginAt)&&void 0!==qn?qn:void 0,{uid:cd,emailVerified:Na,isAnonymous:Dl,providerData:ud,stsTokenManager:Th}=f;ne(cd&&Th,u,"internal-error");const vp=ye.fromJSON(this.name,Th);ne("string"==typeof cd,u,"internal-error"),ke(zn,u.name),ke(Jr,u.name),ne("boolean"==typeof Na,u,"internal-error"),ne("boolean"==typeof Dl,u,"internal-error"),ke(Eo,u.name),ke(Ql,u.name),ke(Ih,u.name),ke(il,u.name),ke(Lc,u.name),ke(ld,u.name);const _u=new It({uid:cd,auth:u,email:Jr,emailVerified:Na,displayName:zn,isAnonymous:Dl,photoURL:Ql,phoneNumber:Eo,tenantId:Ih,stsTokenManager:vp,createdAt:Lc,lastLoginAt:ld});return ud&&Array.isArray(ud)&&(_u.providerData=ud.map(ho=>Object.assign({},ho))),il&&(_u._redirectEventId=il),_u}static _fromIdTokenResponse(u,f,D=!1){return(0,h.Z)(function*(){const Y=new ye;Y.updateFromServerResponse(f);const Ce=new It({uid:f.localId,auth:u,stsTokenManager:Y,isAnonymous:D});return yield ti(Ce),Ce})()}}const Cn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(f,D){var Y=this;return(0,h.Z)(function*(){Y.storage[f]=D})()}_get(f){var D=this;return(0,h.Z)(function*(){const Y=D.storage[f];return void 0===Y?null:Y})()}_remove(f){var D=this;return(0,h.Z)(function*(){delete D.storage[f]})()}_addListener(f,D){}_removeListener(f,D){}}return _.type="NONE",_})();function Qn(_,u,f){return`firebase:${_}:${u}:${f}`}class vn{constructor(u,f,D){this.persistence=u,this.auth=f,this.userKey=D;const{config:Y,name:Ce}=this.auth;this.fullUserKey=Qn(this.userKey,Y.apiKey,Ce),this.fullPersistenceKey=Qn("persistence",Y.apiKey,Ce),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,h.Z)(function*(){const f=yield u.persistence._get(u.fullUserKey);return f?It._fromJSON(u.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var f=this;return(0,h.Z)(function*(){if(f.persistence===u)return;const D=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=u,D?f.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,f,D="authUser"){return(0,h.Z)(function*(){if(!f.length)return new vn(oe(Cn),u,D);const Y=(yield Promise.all(f.map(function(){var An=(0,h.Z)(function*(qn){if(yield qn._isAvailable())return qn});return function(qn){return An.apply(this,arguments)}}()))).filter(An=>An);let Ce=Y[0]||oe(Cn);const pt=Qn(D,u.config.apiKey,u.name);let Ut=null;for(const An of f)try{const qn=yield An._get(pt);if(qn){const zn=It._fromJSON(u,qn);An!==Ce&&(Ut=zn),Ce=An;break}}catch(qn){}const un=Y.filter(An=>An._shouldAllowMigration);return Ce._shouldAllowMigration&&un.length?(Ce=un[0],Ut&&(yield Ce._set(pt,Ut.toJSON())),yield Promise.all(f.map(function(){var An=(0,h.Z)(function*(qn){if(qn!==Ce)try{yield qn._remove(pt)}catch(zn){}});return function(qn){return An.apply(this,arguments)}}())),new vn(Ce,u,D)):new vn(Ce,u,D)})()}}function ai(_){const u=_.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(ht(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(_t(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(wt(u))return"Blackberry";if(Be(u))return"Webos";if(ct(u))return"Safari";if((u.includes("chrome/")||Ve(u))&&!u.includes("edge/"))return"Chrome";if(Vt(u))return"Android";{const D=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function _t(_=(0,g.z$)()){return/firefox\//i.test(_)}function ct(_=(0,g.z$)()){const u=_.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Ve(_=(0,g.z$)()){return/crios\//i.test(_)}function ht(_=(0,g.z$)()){return/iemobile/i.test(_)}function Vt(_=(0,g.z$)()){return/android/i.test(_)}function wt(_=(0,g.z$)()){return/blackberry/i.test(_)}function Be(_=(0,g.z$)()){return/webos/i.test(_)}function Ie(_=(0,g.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function dn(_=(0,g.z$)()){return Ie(_)||Vt(_)||Be(_)||wt(_)||/windows phone/i.test(_)||ht(_)}function Nn(_,u=[]){let f;switch(_){case"Browser":f=ai((0,g.z$)());break;case"Worker":f=`${ai((0,g.z$)())}-${_}`;break;default:f=_}const D=u.length?u.join(","):"FirebaseCore-web";return`${f}/JsCore/${x.SDK_VERSION}/${D}`}class Un{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,f){const D=Ce=>new Promise((pt,Ut)=>{try{pt(u(Ce))}catch(un){Ut(un)}});D.onAbort=f,this.queue.push(D);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(u){var f=this;return(0,h.Z)(function*(){var D;if(f.auth.currentUser===u)return;const Y=[];try{for(const Ce of f.queue)yield Ce(u),Ce.onAbort&&Y.push(Ce.onAbort)}catch(Ce){Y.reverse();for(const pt of Y)try{pt()}catch(Ut){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=Ce)||void 0===D?void 0:D.message})}})()}}class Xt{constructor(u,f,D){this.app=u,this.heartbeatServiceProvider=f,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new si(this),this.idTokenSubscription=new si(this),this.beforeStateQueue=new Un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(u,f){var D=this;return f&&(this._popupRedirectResolver=oe(f)),this._initializationPromise=this.queue((0,h.Z)(function*(){var Y,Ce;if(!D._deleted&&(D.persistenceManager=yield vn.create(D,u),!D._deleted)){if(null===(Y=D._popupRedirectResolver)||void 0===Y?void 0:Y._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(pt){}yield D.initializeCurrentUser(f),D.lastNotifiedUid=(null===(Ce=D.currentUser)||void 0===Ce?void 0:Ce.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,h.Z)(function*(){if(u._deleted)return;const f=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||f){if(u.currentUser&&f&&u.currentUser.uid===f.uid)return u._currentUser._assign(f),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(f,!0)}})()}initializeCurrentUser(u){var f=this;return(0,h.Z)(function*(){var D;const Y=yield f.assertedPersistence.getCurrentUser();let Ce=Y,pt=!1;if(u&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Ut=null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId,un=null==Ce?void 0:Ce._redirectEventId,An=yield f.tryRedirectSignIn(u);(!Ut||Ut===un)&&(null==An?void 0:An.user)&&(Ce=An.user,pt=!0)}if(!Ce)return f.directlySetCurrentUser(null);if(!Ce._redirectEventId){if(pt)try{yield f.beforeStateQueue.runMiddleware(Ce)}catch(Ut){Ce=Y,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Ut))}return Ce?f.reloadAndSetCurrentUserOrClear(Ce):f.directlySetCurrentUser(null)}return ne(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===Ce._redirectEventId?f.directlySetCurrentUser(Ce):f.reloadAndSetCurrentUserOrClear(Ce)})()}tryRedirectSignIn(u){var f=this;return(0,h.Z)(function*(){let D=null;try{D=yield f._popupRedirectResolver._completeRedirectFn(f,u,!0)}catch(Y){yield f._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(u){var f=this;return(0,h.Z)(function*(){var D;try{yield ti(u)}catch(Y){if("auth/network-request-failed"!==(null===(D=Y)||void 0===D?void 0:D.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Qe(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var u=this;return(0,h.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var f=this;return(0,h.Z)(function*(){const D=u?(0,g.m9)(u):null;return D&&ne(D.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(D&&D._clone(f))})()}_updateCurrentUser(u,f=!1){var D=this;return(0,h.Z)(function*(){if(!D._deleted)return u&&ne(D.tenantId===u.tenantId,D,"tenant-id-mismatch"),f||(yield D.beforeStateQueue.runMiddleware(u)),D.queue((0,h.Z)(function*(){yield D.directlySetCurrentUser(u),D.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,h.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var f=this;return this.queue((0,h.Z)(function*(){yield f.assertedPersistence.setPersistence(oe(u))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new g.LL("auth","Firebase",u())}onAuthStateChanged(u,f,D){return this.registerStateListener(this.authStateSubscription,u,f,D)}beforeAuthStateChanged(u,f){return this.beforeStateQueue.pushCallback(u,f)}onIdTokenChanged(u,f,D){return this.registerStateListener(this.idTokenSubscription,u,f,D)}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,f){var D=this;return(0,h.Z)(function*(){const Y=yield D.getOrInitRedirectPersistenceManager(f);return null===u?Y.removeCurrentUser():Y.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var f=this;return(0,h.Z)(function*(){if(!f.redirectPersistenceManager){const D=u&&oe(u)||f._popupRedirectResolver;ne(D,f,"argument-error"),f.redirectPersistenceManager=yield vn.create(f,[oe(D._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(u){var f=this;return(0,h.Z)(function*(){var D,Y;return f._isInitialized&&(yield f.queue((0,h.Z)(function*(){}))),(null===(D=f._currentUser)||void 0===D?void 0:D._redirectEventId)===u?f._currentUser:(null===(Y=f.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===u?f.redirectUser:null})()}_persistUserIfCurrent(u){var f=this;return(0,h.Z)(function*(){if(u===f.currentUser)return f.queue((0,h.Z)(function*(){return f.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(f=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,f,D,Y){if(this._deleted)return()=>{};const Ce="function"==typeof f?f:f.next.bind(f),pt=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(pt,this,"internal-error"),pt.then(()=>Ce(this.currentUser)),"function"==typeof f?u.addObserver(f,D,Y):u.addObserver(f)}directlySetCurrentUser(u){var f=this;return(0,h.Z)(function*(){f.currentUser&&f.currentUser!==u&&f._currentUser._stopProactiveRefresh(),u&&f.isProactiveRefreshEnabled&&u._startProactiveRefresh(),f.currentUser=u,u?yield f.assertedPersistence.setCurrentUser(u):yield f.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,h.Z)(function*(){var f;const D={"X-Client-Version":u.clientVersion};u.app.options.appId&&(D["X-Firebase-gmpid"]=u.app.options.appId);const Y=yield null===(f=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return Y&&(D["X-Firebase-Client"]=Y),D})()}}function Sn(_){return(0,g.m9)(_)}class si{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,g.ne)(f=>this.observer=f)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gi(_){const u=_.indexOf(":");return u<0?"":_.substr(0,u+1)}function Er(_){if(!_)return null;const u=Number(_);return isNaN(u)?null:u}class $i{constructor(u,f){this.providerId=u,this.signInMethod=f}toJSON(){return Ye("not implemented")}_getIdTokenResponse(u){return Ye("not implemented")}_linkToIdToken(u,f){return Ye("not implemented")}_getReauthenticationResolver(u){return Ye("not implemented")}}function Di(_,u){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(_,u){return Dt(_,"POST","/v1/accounts:resetPassword",ot(_,u))})).apply(this,arguments)}function kr(_,u){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(_,u){return Dt(_,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function _s(_,u){return mr.apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(_,u){return Dt(_,"POST","/v1/accounts:update",ot(_,u))})).apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(_,u){return We(_,"POST","/v1/accounts:signInWithPassword",ot(_,u))})).apply(this,arguments)}function Fr(_,u){return dr.apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(_,u){return Dt(_,"POST","/v1/accounts:sendOobCode",ot(_,u))})).apply(this,arguments)}function di(_,u){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(_,u){return Fr(_,u)})).apply(this,arguments)}function ys(_,u){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,h.Z)(function*(_,u){return Fr(_,u)})).apply(this,arguments)}function yr(_,u){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(_,u){return Fr(_,u)})).apply(this,arguments)}function Ks(_,u){return or.apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(_,u){return Fr(_,u)})).apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(_,u){return We(_,"POST","/v1/accounts:signInWithEmailLink",ot(_,u))})).apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(_,u){return We(_,"POST","/v1/accounts:signInWithEmailLink",ot(_,u))})).apply(this,arguments)}class er extends $i{constructor(u,f,D,Y=null){super("password",D),this._email=u,this._password=f,this._tenantId=Y}static _fromEmailAndPassword(u,f){return new er(u,f,"password")}static _fromEmailAndCode(u,f,D=null){return new er(u,f,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const f="string"==typeof u?JSON.parse(u):u;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(u){var f=this;return(0,h.Z)(function*(){switch(f.signInMethod){case"password":return function Li(_,u){return Nr.apply(this,arguments)}(u,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Ir(_,u){return Zs.apply(this,arguments)}(u,{email:f._email,oobCode:f._password});default:et(u,"internal-error")}})()}_linkToIdToken(u,f){var D=this;return(0,h.Z)(function*(){switch(D.signInMethod){case"password":return kr(u,{idToken:f,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function bs(_,u){return Io.apply(this,arguments)}(u,{idToken:f,email:D._email,oobCode:D._password});default:et(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function zr(_,u){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(_,u){return We(_,"POST","/v1/accounts:signInWithIdp",ot(_,u))})).apply(this,arguments)}class xi extends $i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const f=new xi(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(f.idToken=u.idToken),u.accessToken&&(f.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(f.nonce=u.nonce),u.pendingToken&&(f.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(f.accessToken=u.oauthToken,f.secret=u.oauthTokenSecret):et("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const f="string"==typeof u?JSON.parse(u):u,{providerId:D,signInMethod:Y}=f,Ce=(0,we._T)(f,["providerId","signInMethod"]);if(!D||!Y)return null;const pt=new xi(D,Y);return pt.idToken=Ce.idToken||void 0,pt.accessToken=Ce.accessToken||void 0,pt.secret=Ce.secret,pt.nonce=Ce.nonce,pt.pendingToken=Ce.pendingToken||null,pt}_getIdTokenResponse(u){return zr(u,this.buildRequest())}_linkToIdToken(u,f){const D=this.buildRequest();return D.idToken=f,zr(u,D)}_getReauthenticationResolver(u){const f=this.buildRequest();return f.autoCreate=!1,zr(u,f)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),u.postBody=(0,g.xO)(f)}return u}}function to(_,u){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(_,u){return Dt(_,"POST","/v1/accounts:sendVerificationCode",ot(_,u))})).apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(_,u){return We(_,"POST","/v1/accounts:signInWithPhoneNumber",ot(_,u))})).apply(this,arguments)}function Mo(){return(Mo=(0,h.Z)(function*(_,u){const f=yield We(_,"POST","/v1/accounts:signInWithPhoneNumber",ot(_,u));if(f.temporaryProof)throw Bn(_,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const po={USER_NOT_FOUND:"user-not-found"};function Ys(){return(Ys=(0,h.Z)(function*(_,u){return We(_,"POST","/v1/accounts:signInWithPhoneNumber",ot(_,Object.assign(Object.assign({},u),{operation:"REAUTH"})),po)})).apply(this,arguments)}class is extends $i{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,f){return new is({verificationId:u,verificationCode:f})}static _fromTokenResponse(u,f){return new is({phoneNumber:u,temporaryProof:f})}_getIdTokenResponse(u){return function ks(_,u){return ns.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,f){return function Ns(_,u){return Mo.apply(this,arguments)}(u,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function mo(_,u){return Ys.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:f,verificationId:D,verificationCode:Y}=this.params;return u&&f?{temporaryProof:u,phoneNumber:f}:{sessionInfo:D,code:Y}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:f,verificationCode:D,phoneNumber:Y,temporaryProof:Ce}=u;return D||f||Y||Ce?new is({verificationId:f,verificationCode:D,phoneNumber:Y,temporaryProof:Ce}):null}}class Es{constructor(u){var f,D,Y,Ce,pt,Ut;const un=(0,g.zd)((0,g.pd)(u)),An=null!==(f=un.apiKey)&&void 0!==f?f:null,qn=null!==(D=un.oobCode)&&void 0!==D?D:null,zn=function Fs(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=un.mode)&&void 0!==Y?Y:null);ne(An&&qn&&zn,"argument-error"),this.apiKey=An,this.operation=zn,this.code=qn,this.continueUrl=null!==(Ce=un.continueUrl)&&void 0!==Ce?Ce:null,this.languageCode=null!==(pt=un.languageCode)&&void 0!==pt?pt:null,this.tenantId=null!==(Ut=un.tenantId)&&void 0!==Ut?Ut:null}static parseLink(u){const f=function hr(_){const u=(0,g.zd)((0,g.pd)(_)).link,f=u?(0,g.zd)((0,g.pd)(u)).deep_link_id:null,D=(0,g.zd)((0,g.pd)(_)).deep_link_id;return(D?(0,g.zd)((0,g.pd)(D)).link:null)||D||f||u||_}(u);try{return new Es(f)}catch(D){return null}}}let zo=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(f,D){return er._fromEmailAndPassword(f,D)}static credentialWithLink(f,D){const Y=Es.parseLink(D);return ne(Y,"argument-error"),er._fromEmailAndCode(f,Y.code,Y.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ar{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Wr extends ar{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class xr extends Wr{static credentialFromJSON(u){const f="string"==typeof u?JSON.parse(u):u;return ne("providerId"in f&&"signInMethod"in f,"argument-error"),xi._fromParams(f)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ne(u.idToken||u.accessToken,"argument-error"),xi._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return xr.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return xr.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:f,oauthAccessToken:D,oauthTokenSecret:Y,pendingToken:Ce,nonce:pt,providerId:Ut}=u;if(!D&&!Y&&!f&&!Ce||!Ut)return null;try{return new xr(Ut)._credential({idToken:f,accessToken:D,nonce:pt,pendingToken:Ce})}catch(un){return null}}}let Br=(()=>{class _ extends Wr{constructor(){super("facebook.com")}static credential(f){return xi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch(D){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ls=(()=>{class _ extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,D){return xi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:D})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:D,oauthAccessToken:Y}=f;if(!D&&!Y)return null;try{return _.credential(D,Y)}catch(Ce){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Wo=(()=>{class _ extends Wr{constructor(){super("github.com")}static credential(f){return xi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch(D){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Cr extends $i{constructor(u,f){super(u,u),this.pendingToken=f}_getIdTokenResponse(u){return zr(u,this.buildRequest())}_linkToIdToken(u,f){const D=this.buildRequest();return D.idToken=f,zr(u,D)}_getReauthenticationResolver(u){const f=this.buildRequest();return f.autoCreate=!1,zr(u,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const f="string"==typeof u?JSON.parse(u):u,{providerId:D,signInMethod:Y,pendingToken:Ce}=f;return D&&Y&&Ce&&D===Y?new Cr(D,Ce):null}static _create(u,f){return new Cr(u,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fr extends ar{constructor(u){ne(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return fr.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return fr.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const f=Cr.fromJSON(u);return ne(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:f,providerId:D}=u;if(!f||!D)return null;try{return Cr._create(D,f)}catch(Y){return null}}}let ws=(()=>{class _ extends Wr{constructor(){super("twitter.com")}static credential(f,D){return xi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:D})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:D,oauthTokenSecret:Y}=f;if(!D||!Y)return null;try{return _.credential(D,Y)}catch(Ce){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Oi(_,u){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(_,u){return We(_,"POST","/v1/accounts:signUp",ot(_,u))})).apply(this,arguments)}class wr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,f,D,Y=!1){return(0,h.Z)(function*(){const Ce=yield It._fromIdTokenResponse(u,D,Y),pt=Ri(D);return new wr({user:Ce,providerId:pt,_tokenResponse:D,operationType:f})})()}static _forOperation(u,f,D){return(0,h.Z)(function*(){yield u._updateTokensIfNecessary(D,!0);const Y=Ri(D);return new wr({user:u,providerId:Y,_tokenResponse:D,operationType:f})})()}}function Ri(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ss(){return(ss=(0,h.Z)(function*(_){var u;const f=Sn(_);if(yield f._initializationPromise,null===(u=f.currentUser)||void 0===u?void 0:u.isAnonymous)return new wr({user:f.currentUser,providerId:null,operationType:"signIn"});const D=yield Oi(f,{returnSecureToken:!0}),Y=yield wr._fromIdTokenResponse(f,"signIn",D,!0);return yield f._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class gr extends g.ZR{constructor(u,f,D,Y){var Ce;super(f.code,f.message),this.operationType=D,this.user=Y,Object.setPrototypeOf(this,gr.prototype),this.customData={appName:u.name,tenantId:null!==(Ce=u.tenantId)&&void 0!==Ce?Ce:void 0,_serverResponse:f.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(u,f,D,Y){return new gr(u,f,D,Y)}}function cs(_,u,f,D){return("reauthenticate"===u?f._getReauthenticationResolver(_):f._getIdTokenResponse(_)).catch(Ce=>{throw"auth/multi-factor-auth-required"===Ce.code?gr._fromErrorAndOperation(_,Ce,u,D):Ce})}function Zr(_){return new Set(_.map(({providerId:u})=>u).filter(u=>!!u))}function gi(){return(gi=(0,h.Z)(function*(_,u){const f=(0,g.m9)(_);yield V(!0,f,u);const{providerUserInfo:D}=yield ln(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[u]}),Y=Zr(D||[]);return f.providerData=f.providerData.filter(Ce=>Y.has(Ce.providerId)),Y.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function G(_,u){return de.apply(this,arguments)}function de(){return(de=(0,h.Z)(function*(_,u,f=!1){const D=yield an(_,u._linkToIdToken(_.auth,yield _.getIdToken()),f);return wr._forOperation(_,"link",D)})).apply(this,arguments)}function V(_,u,f){return ve.apply(this,arguments)}function ve(){return(ve=(0,h.Z)(function*(_,u,f){yield ti(u);const Y=!1===_?"provider-already-linked":"no-such-provider";ne(Zr(u.providerData).has(f)===_,u.auth,Y)})).apply(this,arguments)}function Je(_,u){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(_,u,f=!1){var D;const{auth:Y}=_,Ce="reauthenticate";try{const pt=yield an(_,cs(Y,Ce,u,_),f);ne(pt.idToken,Y,"internal-error");const Ut=kt(pt.idToken);ne(Ut,Y,"internal-error");const{sub:un}=Ut;return ne(_.uid===un,Y,"user-mismatch"),wr._forOperation(_,Ce,pt)}catch(pt){throw"auth/user-not-found"===(null===(D=pt)||void 0===D?void 0:D.code)&&et(Y,"user-mismatch"),pt}})).apply(this,arguments)}function $t(_,u){return In.apply(this,arguments)}function In(){return(In=(0,h.Z)(function*(_,u,f=!1){const D="signIn",Y=yield cs(_,D,u),Ce=yield wr._fromIdTokenResponse(_,D,Y);return f||(yield _._updateCurrentUser(Ce.user)),Ce})).apply(this,arguments)}function Gn(_,u){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(_,u){return $t(Sn(_),u)})).apply(this,arguments)}function oi(_,u){return hi.apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(_,u){const f=(0,g.m9)(_);return yield V(!1,f,u.providerId),G(f,u)})).apply(this,arguments)}function qi(_,u){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,h.Z)(function*(_,u){return Je((0,g.m9)(_),u)})).apply(this,arguments)}function Wi(_,u){return W.apply(this,arguments)}function W(){return(W=(0,h.Z)(function*(_,u){return We(_,"POST","/v1/accounts:signInWithCustomToken",ot(_,u))})).apply(this,arguments)}function S(){return(S=(0,h.Z)(function*(_,u){const f=Sn(_),D=yield Wi(f,{token:u,returnSecureToken:!0}),Y=yield wr._fromIdTokenResponse(f,"signIn",D);return yield f._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class me{constructor(u,f){this.factorId=u,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(u,f){return"phoneInfo"in f?Lt._fromServerResponse(u,f):et(u,"internal-error")}}class Lt extends me{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,f){return new Lt(f)}}function wn(_,u,f){var D;ne((null===(D=f.url)||void 0===D?void 0:D.length)>0,_,"invalid-continue-uri"),ne(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),u.continueUrl=f.url,u.dynamicLinkDomain=f.dynamicLinkDomain,u.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ne(f.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),u.iOSBundleId=f.iOS.bundleId),f.android&&(ne(f.android.packageName.length>0,_,"missing-android-pkg-name"),u.androidInstallApp=f.android.installApp,u.androidMinimumVersionCode=f.android.minimumVersion,u.androidPackageName=f.android.packageName)}function Vr(){return(Vr=(0,h.Z)(function*(_,u,f){const D=(0,g.m9)(_),Y={requestType:"PASSWORD_RESET",email:u};f&&wn(D,Y,f),yield ys(D,Y)})).apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(_,u,f){yield Di((0,g.m9)(_),{oobCode:u,newPassword:f})})).apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(_,u){yield _s((0,g.m9)(_),{oobCode:u})})).apply(this,arguments)}function Ko(_,u){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(_,u){const f=(0,g.m9)(_),D=yield Di(f,{oobCode:u}),Y=D.requestType;switch(ne(Y,f,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(D.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(D.mfaInfo,f,"internal-error");default:ne(D.email,f,"internal-error")}let Ce=null;return D.mfaInfo&&(Ce=me._fromServerResponse(Sn(f),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:Ce},operation:Y}})).apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(_,u){const{data:f}=yield Ko((0,g.m9)(_),u);return f.email})).apply(this,arguments)}function So(){return(So=(0,h.Z)(function*(_,u,f){const D=Sn(_),Y=yield Oi(D,{returnSecureToken:!0,email:u,password:f}),Ce=yield wr._fromIdTokenResponse(D,"signIn",Y);return yield D._updateCurrentUser(Ce.user),Ce})).apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(_,u,f){const D=(0,g.m9)(_),Y={requestType:"EMAIL_SIGNIN",email:u};ne(f.handleCodeInApp,D,"argument-error"),f&&wn(D,Y,f),yield yr(D,Y)})).apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(_,u,f){const D=(0,g.m9)(_),Y=zo.credentialWithLink(u,f||yt());return ne(Y._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Gn(D,Y)})).apply(this,arguments)}function Bs(_,u){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,h.Z)(function*(_,u){return Dt(_,"POST","/v1/accounts:createAuthUri",ot(_,u))})).apply(this,arguments)}function v(){return(v=(0,h.Z)(function*(_,u){const D={identifier:u,continueUri:mt()?yt():"http://localhost"},{signinMethods:Y}=yield Bs((0,g.m9)(_),D);return Y||[]})).apply(this,arguments)}function L(){return(L=(0,h.Z)(function*(_,u){const f=(0,g.m9)(_),Y={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};u&&wn(f.auth,Y,u);const{email:Ce}=yield di(f.auth,Y);Ce!==_.email&&(yield _.reload())})).apply(this,arguments)}function Re(){return(Re=(0,h.Z)(function*(_,u,f){const D=(0,g.m9)(_),Ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:u};f&&wn(D.auth,Ce,f);const{email:pt}=yield Ks(D.auth,Ce);pt!==_.email&&(yield _.reload())})).apply(this,arguments)}function nt(_,u){return st.apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(_,u){return Dt(_,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function zt(){return(zt=(0,h.Z)(function*(_,{displayName:u,photoURL:f}){if(void 0===u&&void 0===f)return;const D=(0,g.m9)(_),Ce={idToken:yield D.getIdToken(),displayName:u,photoUrl:f,returnSecureToken:!0},pt=yield an(D,nt(D.auth,Ce));D.displayName=pt.displayName||null,D.photoURL=pt.photoUrl||null;const Ut=D.providerData.find(({providerId:un})=>"password"===un);Ut&&(Ut.displayName=D.displayName,Ut.photoURL=D.photoURL),yield D._updateTokensIfNecessary(pt)})).apply(this,arguments)}function $n(_,u,f){return li.apply(this,arguments)}function li(){return(li=(0,h.Z)(function*(_,u,f){const{auth:D}=_,Ce={idToken:yield _.getIdToken(),returnSecureToken:!0};u&&(Ce.email=u),f&&(Ce.password=f);const pt=yield an(_,kr(D,Ce));yield _._updateTokensIfNecessary(pt,!0)})).apply(this,arguments)}class Kn{constructor(u,f,D={}){this.isNewUser=u,this.providerId=f,this.profile=D}}class Pi extends Kn{constructor(u,f,D,Y){super(u,f,D),this.username=Y}}class tr extends Kn{constructor(u,f){super(u,"facebook.com",f)}}class ir extends Pi{constructor(u,f){super(u,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Ur extends Kn{constructor(u,f){super(u,"google.com",f)}}class Ci extends Pi{constructor(u,f,D){super(u,"twitter.com",f,D)}}function Or(_){const{user:u,_tokenResponse:f}=_;return u.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function kn(_){var u,f;if(!_)return null;const{providerId:D}=_,Y=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},Ce=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!D&&(null==_?void 0:_.idToken)){const pt=null===(f=null===(u=kt(_.idToken))||void 0===u?void 0:u.firebase)||void 0===f?void 0:f.sign_in_provider;if(pt)return new Kn(Ce,"anonymous"!==pt&&"custom"!==pt?pt:null)}if(!D)return null;switch(D){case"facebook.com":return new tr(Ce,Y);case"github.com":return new ir(Ce,Y);case"google.com":return new Ur(Ce,Y);case"twitter.com":return new Ci(Ce,Y,_.screenName||null);case"custom":case"anonymous":return new Kn(Ce,null);default:return new Kn(Ce,D,Y)}}(f)}class hs{constructor(u,f){this.type=u,this.credential=f}static _fromIdtoken(u){return new hs("enroll",u)}static _fromMfaPendingCredential(u){return new hs("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var f,D;if(null==u?void 0:u.multiFactorSession){if(null===(f=u.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return hs._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null===(D=u.multiFactorSession)||void 0===D?void 0:D.idToken)return hs._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Mn{constructor(u,f,D){this.session=u,this.hints=f,this.signInResolver=D}static _fromError(u,f){const D=Sn(u),Y=f.customData._serverResponse,Ce=(Y.mfaInfo||[]).map(Ut=>me._fromServerResponse(D,Ut));ne(Y.mfaPendingCredential,D,"internal-error");const pt=hs._fromMfaPendingCredential(Y.mfaPendingCredential);return new Mn(pt,Ce,function(){var Ut=(0,h.Z)(function*(un){const An=yield un._process(D,pt);delete Y.mfaInfo,delete Y.mfaPendingCredential;const qn=Object.assign(Object.assign({},Y),{idToken:An.idToken,refreshToken:An.refreshToken});switch(f.operationType){case"signIn":const zn=yield wr._fromIdTokenResponse(D,f.operationType,qn);return yield D._updateCurrentUser(zn.user),zn;case"reauthenticate":return ne(f.user,D,"internal-error"),wr._forOperation(f.user,f.operationType,qn);default:et(D,"internal-error")}});return function(un){return Ut.apply(this,arguments)}}())}resolveSignIn(u){var f=this;return(0,h.Z)(function*(){return f.signInResolver(u)})()}}function Wn(_,u){return Dt(_,"POST","/v2/accounts/mfaEnrollment:start",ot(_,u))}class Ts{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(D=>me._fromServerResponse(u.auth,D)))})}static _fromUser(u){return new Ts(u)}getSession(){var u=this;return(0,h.Z)(function*(){return hs._fromIdtoken(yield u.user.getIdToken())})()}enroll(u,f){var D=this;return(0,h.Z)(function*(){const Y=u,Ce=yield D.getSession(),pt=yield an(D.user,Y._process(D.user.auth,Ce,f));return yield D.user._updateTokensIfNecessary(pt),D.user.reload()})()}unenroll(u){var f=this;return(0,h.Z)(function*(){var D;const Y="string"==typeof u?u:u.uid,Ce=yield f.user.getIdToken(),pt=yield an(f.user,function Ui(_,u){return Dt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(_,u))}(f.user.auth,{idToken:Ce,mfaEnrollmentId:Y}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Ut})=>Ut!==Y),yield f.user._updateTokensIfNecessary(pt);try{yield f.user.reload()}catch(Ut){if("auth/user-token-expired"!==(null===(D=Ut)||void 0===D?void 0:D.code))throw Ut}})()}}const rr=new WeakMap,ki="__sak";class qo{constructor(u,f){this.storageRetriever=u,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(ki,"1"),this.storage.removeItem(ki),Promise.resolve(!0)):Promise.resolve(!1)}catch(u){return Promise.resolve(!1)}}_set(u,f){return this.storage.setItem(u,JSON.stringify(f)),Promise.resolve()}_get(u){const f=this.storage.getItem(u);return Promise.resolve(f?JSON.parse(f):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ms=(()=>{class _ extends qo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,D)=>this.onStorageEvent(f,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fs(){const _=(0,g.z$)();return ct(_)||Ie(_)}()&&function xn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=dn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const D of Object.keys(this.listeners)){const Y=this.storage.getItem(D),Ce=this.localCache[D];Y!==Ce&&f(D,Ce,Y)}}onStorageEvent(f,D=!1){if(!f.key)return void this.forAllChangedKeys((Ut,un,An)=>{this.notifyListeners(Ut,An)});const Y=f.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ut=this.storage.getItem(Y);if(f.newValue!==Ut)null!==f.newValue?this.storage.setItem(Y,f.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===f.newValue&&!D)return}const Ce=()=>{const Ut=this.storage.getItem(Y);!D&&this.localCache[Y]===Ut||this.notifyListeners(Y,Ut)},pt=this.storage.getItem(Y);!function Kt(){return(0,g.w1)()&&10===document.documentMode}()||pt===f.newValue||f.newValue===f.oldValue?Ce():setTimeout(Ce,10)}notifyListeners(f,D){this.localCache[f]=D;const Y=this.listeners[f];if(Y)for(const Ce of Array.from(Y))Ce(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,D,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:D,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,D){var Y=()=>super._set,Ce=this;return(0,h.Z)(function*(){yield Y().call(Ce,f,D),Ce.localCache[f]=JSON.stringify(D)})()}_get(f){var D=()=>super._get,Y=this;return(0,h.Z)(function*(){const Ce=yield D().call(Y,f);return Y.localCache[f]=JSON.stringify(Ce),Ce})()}_remove(f){var D=()=>super._remove,Y=this;return(0,h.Z)(function*(){yield D().call(Y,f),delete Y.localCache[f]})()}}return _.type="LOCAL",_})(),Us=(()=>{class _ extends qo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,D){}_removeListener(f,D){}}return _.type="SESSION",_})();let $a=(()=>{class _{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const D=this.receivers.find(Ce=>Ce.isListeningto(f));if(D)return D;const Y=new _(f);return this.receivers.push(Y),Y}isListeningto(f){return this.eventTarget===f}handleEvent(f){var D=this;return(0,h.Z)(function*(){const Y=f,{eventId:Ce,eventType:pt,data:Ut}=Y.data,un=D.handlersMap[pt];if(!(null==un?void 0:un.size))return;Y.ports[0].postMessage({status:"ack",eventId:Ce,eventType:pt});const An=Array.from(un).map(function(){var zn=(0,h.Z)(function*(Jr){return Jr(Y.origin,Ut)});return function(Jr){return zn.apply(this,arguments)}}()),qn=yield function dl(_){return Promise.all(_.map(function(){var u=(0,h.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(D){return{fulfilled:!1,reason:D}}});return function(f){return u.apply(this,arguments)}}()))}(An);Y.ports[0].postMessage({status:"done",eventId:Ce,eventType:pt,response:qn})})()}_subscribe(f,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(D)}_unsubscribe(f,D){this.handlersMap[f]&&D&&this.handlersMap[f].delete(D),(!D||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function oo(_="",u=10){let f="";for(let D=0;D<u;D++)f+=Math.floor(10*Math.random());return _+f}class hl{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,f,D=50){var Y=this;return(0,h.Z)(function*(){const Ce="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Ce)throw new Error("connection_unavailable");let pt,Ut;return new Promise((un,An)=>{const qn=oo("",20);Ce.port1.start();const zn=setTimeout(()=>{An(new Error("unsupported_event"))},D);Ut={messageChannel:Ce,onMessage(Jr){const Eo=Jr;if(Eo.data.eventId===qn)switch(Eo.data.status){case"ack":clearTimeout(zn),pt=setTimeout(()=>{An(new Error("timeout"))},3e3);break;case"done":clearTimeout(pt),un(Eo.data.response);break;default:clearTimeout(zn),clearTimeout(pt),An(new Error("invalid_response"))}}},Y.handlers.add(Ut),Ce.port1.addEventListener("message",Ut.onMessage),Y.target.postMessage({eventType:u,eventId:qn,data:f},[Ce.port2])}).finally(()=>{Ut&&Y.removeMessageHandler(Ut)})})()}}function Xi(){return window}function la(){return void 0!==Xi().WorkerGlobalScope&&"function"==typeof Xi().importScripts}function I(){return(I=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Q="firebaseLocalStorageDb",je="firebaseLocalStorage",lt="fbase_key";class jt{constructor(u){this.request=u}toPromise(){return new Promise((u,f)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ht(_,u){return _.transaction([je],u?"readwrite":"readonly").objectStore(je)}function Fn(){const _=indexedDB.open(Q,1);return new Promise((u,f)=>{_.addEventListener("error",()=>{f(_.error)}),_.addEventListener("upgradeneeded",()=>{const D=_.result;try{D.createObjectStore(je,{keyPath:lt})}catch(Y){f(Y)}}),_.addEventListener("success",(0,h.Z)(function*(){const D=_.result;D.objectStoreNames.contains(je)?u(D):(D.close(),yield function cn(){const _=indexedDB.deleteDatabase(Q);return new jt(_).toPromise()}(),u(yield Fn()))}))})}function en(_,u,f){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,h.Z)(function*(_,u,f){const D=Ht(_,!0).put({[lt]:u,value:f});return new jt(D).toPromise()})).apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(_,u){const f=Ht(_,!1).get(u),D=yield new jt(f).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function _a(_,u){const f=Ht(_,!0).delete(u);return new jt(f).toPromise()}const Sa=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,h.Z)(function*(){return f.db||(f.db=yield Fn()),f.db})()}_withRetries(f){var D=this;return(0,h.Z)(function*(){let Y=0;for(;;)try{const Ce=yield D._openDb();return yield f(Ce)}catch(Ce){if(Y++>3)throw Ce;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,h.Z)(function*(){return la()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,h.Z)(function*(){f.receiver=$a._getInstance(function $(){return la()?self:null}()),f.receiver._subscribe("keyChanged",function(){var D=(0,h.Z)(function*(Y,Ce){return{keyProcessed:(yield f._poll()).includes(Ce.key)}});return function(Y,Ce){return D.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var D=(0,h.Z)(function*(Y,Ce){return["keyChanged"]});return function(Y,Ce){return D.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,h.Z)(function*(){var D,Y;if(f.activeServiceWorker=yield function A(){return I.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new hl(f.activeServiceWorker);const Ce=yield f.sender._send("ping",{},800);!Ce||(null===(D=Ce[0])||void 0===D?void 0:D.fulfilled)&&(null===(Y=Ce[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var D=this;return(0,h.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function w(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:f},D.serviceWorkerReceiverAvailable?800:50)}catch(Y){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Fn();return yield en(f,ki,"1"),yield _a(f,ki),!0}catch(f){}return!1})()}_withPendingWrite(f){var D=this;return(0,h.Z)(function*(){D.pendingWrites++;try{yield f()}finally{D.pendingWrites--}})()}_set(f,D){var Y=this;return(0,h.Z)(function*(){return Y._withPendingWrite((0,h.Z)(function*(){return yield Y._withRetries(Ce=>en(Ce,f,D)),Y.localCache[f]=D,Y.notifyServiceWorker(f)}))})()}_get(f){var D=this;return(0,h.Z)(function*(){const Y=yield D._withRetries(Ce=>function Qt(_,u){return Ji.apply(this,arguments)}(Ce,f));return D.localCache[f]=Y,Y})()}_remove(f){var D=this;return(0,h.Z)(function*(){return D._withPendingWrite((0,h.Z)(function*(){return yield D._withRetries(Y=>_a(Y,f)),delete D.localCache[f],D.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,h.Z)(function*(){const D=yield f._withRetries(pt=>{const Ut=Ht(pt,!1).getAll();return new jt(Ut).toPromise()});if(!D)return[];if(0!==f.pendingWrites)return[];const Y=[],Ce=new Set;for(const{fbase_key:pt,value:Ut}of D)Ce.add(pt),JSON.stringify(f.localCache[pt])!==JSON.stringify(Ut)&&(f.notifyListeners(pt,Ut),Y.push(pt));for(const pt of Object.keys(f.localCache))f.localCache[pt]&&!Ce.has(pt)&&(f.notifyListeners(pt,null),Y.push(pt));return Y})()}notifyListeners(f,D){this.localCache[f]=D;const Y=this.listeners[f];if(Y)for(const Ce of Array.from(Y))Ce(D)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Ll(_,u){return Dt(_,"POST","/v2/accounts/mfaSignIn:start",ot(_,u))}function fl(){return(fl=(0,h.Z)(function*(_){return(yield Dt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Po(_){return new Promise((u,f)=>{const D=document.createElement("script");D.setAttribute("src",_),D.onload=u,D.onerror=Y=>{const Ce=Ee("internal-error");Ce.customData=Y,f(Ce)},D.type="text/javascript",D.charset="UTF-8",function Bl(){var _,u;return null!==(u=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==u?u:document}().appendChild(D)})}function Xn(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Zi=1e12;class Zn{constructor(u){this.auth=u,this.counter=Zi,this._widgets=new Map}render(u,f){const D=this.counter;return this._widgets.set(D,new Vl(u,this.auth.name,f||{})),this.counter++,D}reset(u){var f;const D=u||Zi;null===(f=this._widgets.get(D))||void 0===f||f.delete(),this._widgets.delete(D)}getResponse(u){var f;return(null===(f=this._widgets.get(u||Zi))||void 0===f?void 0:f.getResponse())||""}execute(u){var f=this;return(0,h.Z)(function*(){var D;return null===(D=f._widgets.get(u||Zi))||void 0===D||D.execute(),""})()}}class Vl{constructor(u,f,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof u?document.getElementById(u):u;ne(Y,"argument-error",{appName:f}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ji(_){const u=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<_;D++)u.push(f.charAt(Math.floor(Math.random()*f.length)));return u.join("")}(50);const{callback:u,"expired-callback":f}=this.params;if(u)try{u(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Tr=Xn("rcb"),Mr=new ee(3e4,6e4);class pl{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(u=Xi().grecaptcha)||void 0===u?void 0:u.render)}load(u,f=""){return ne(function Gu(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(f),u,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Xi().grecaptcha):new Promise((D,Y)=>{const Ce=Xi().setTimeout(()=>{Y(Ee(u,"network-request-failed"))},Mr.get());Xi()[Tr]=()=>{Xi().clearTimeout(Ce),delete Xi()[Tr];const Ut=Xi().grecaptcha;if(!Ut)return void Y(Ee(u,"internal-error"));const un=Ut.render;Ut.render=(An,qn)=>{const zn=un(An,qn);return this.counter++,zn},this.hostLanguage=f,D(Ut)},Po(`https://www.google.com/recaptcha/api.js??${(0,g.xO)({onload:Tr,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(Ce),Y(Ee(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var f;return!!(null===(f=Xi().grecaptcha)||void 0===f?void 0:f.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ml{load(u){return(0,h.Z)(function*(){return new Zn(u)})()}clearedOneInstance(){}}const sh="recaptcha",iu={theme:"light",type:"image"};class Ul{constructor(u,f=Object.assign({},iu),D){this.parameters=f,this.type=sh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(D),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof u?document.getElementById(u):u;ne(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ml:new pl,this.validateStartingState()}verify(){var u=this;return(0,h.Z)(function*(){u.assertNotDestroyed();const f=yield u.render(),D=u.getAssertedRecaptcha();return D.getResponse(f)||new Promise(Ce=>{const pt=Ut=>{!Ut||(u.tokenChangeListeners.delete(pt),Ce(Ut))};u.tokenChangeListeners.add(pt),u.isInvisible&&D.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return f=>{if(this.tokenChangeListeners.forEach(D=>D(f)),"function"==typeof u)u(f);else if("string"==typeof u){const D=Xi()[u];"function"==typeof D&&D(f)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,h.Z)(function*(){if(yield u.init(),!u.widgetId){let f=u.container;if(!u.isInvisible){const D=document.createElement("div");f.appendChild(D),f=D}u.widgetId=u.getAssertedRecaptcha().render(f,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,h.Z)(function*(){ne(mt()&&!la(),u.auth,"internal-error"),yield function jl(){let _=null;return new Promise(u=>{"complete"!==document.readyState?(_=()=>u(),window.addEventListener("load",_)):u()}).catch(u=>{throw _&&window.removeEventListener("load",_),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const f=yield function Qo(_){return fl.apply(this,arguments)}(u.auth);ne(f,u.auth,"internal-error"),u.parameters.sitekey=f})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rr{constructor(u,f){this.verificationId=u,this.onConfirmation=f}confirm(u){const f=is._fromVerification(this.verificationId,u);return this.onConfirmation(f)}}function jr(){return(jr=(0,h.Z)(function*(_,u,f){const D=Sn(_),Y=yield xa(D,u,(0,g.m9)(f));return new Rr(Y,Ce=>Gn(D,Ce))})).apply(this,arguments)}function Hl(){return(Hl=(0,h.Z)(function*(_,u,f){const D=(0,g.m9)(_);yield V(!1,D,"phone");const Y=yield xa(D.auth,u,(0,g.m9)(f));return new Rr(Y,Ce=>oi(D,Ce))})).apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(_,u,f){const D=(0,g.m9)(_),Y=yield xa(D.auth,u,(0,g.m9)(f));return new Rr(Y,Ce=>qi(D,Ce))})).apply(this,arguments)}function xa(_,u,f){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,h.Z)(function*(_,u,f){var D;const Y=yield f.verify();try{let Ce;if(ne("string"==typeof Y,_,"argument-error"),ne(f.type===sh,_,"argument-error"),Ce="string"==typeof u?{phoneNumber:u}:u,"session"in Ce){const pt=Ce.session;if("phoneNumber"in Ce)return ne("enroll"===pt.type,_,"internal-error"),(yield Wn(_,{idToken:pt.credential,phoneEnrollmentInfo:{phoneNumber:Ce.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{ne("signin"===pt.type,_,"internal-error");const Ut=(null===(D=Ce.multiFactorHint)||void 0===D?void 0:D.uid)||Ce.multiFactorUid;return ne(Ut,_,"missing-multi-factor-info"),(yield Ll(_,{mfaPendingCredential:pt.credential,mfaEnrollmentId:Ut,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pt}=yield to(_,{phoneNumber:Ce.phoneNumber,recaptchaToken:Y});return pt}}finally{f._reset()}})).apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(_,u){yield G((0,g.m9)(_),u)})).apply(this,arguments)}let _l=(()=>{class _{constructor(f){this.providerId=_.PROVIDER_ID,this.auth=Sn(f)}verifyPhoneNumber(f,D){return xa(this.auth,f,(0,g.m9)(D))}static credential(f,D){return is._fromVerification(f,D)}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:D,temporaryProof:Y}=f;return D&&Y?is._fromTokenResponse(D,Y):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function No(_,u){return u?oe(u):(ne(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ca extends $i{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return zr(u,this._buildIdpRequest())}_linkToIdToken(u,f){return zr(u,this._buildIdpRequest(f))}_getReauthenticationResolver(u){return zr(u,this._buildIdpRequest())}_buildIdpRequest(u){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(f.idToken=u),f}}function oh(_){return $t(_.auth,new ca(_),_.bypassAuthState)}function Xo(_){const{auth:u,user:f}=_;return ne(f,u,"internal-error"),Je(f,new ca(_),_.bypassAuthState)}function Ss(_){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(_){const{auth:u,user:f}=_;return ne(f,u,"internal-error"),G(f,new ca(_),_.bypassAuthState)})).apply(this,arguments)}class da{constructor(u,f,D,Y,Ce=!1){this.auth=u,this.resolver=D,this.user=Y,this.bypassAuthState=Ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var u=this;return new Promise(function(){var f=(0,h.Z)(function*(D,Y){u.pendingPromise={resolve:D,reject:Y};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(Ce){u.reject(Ce)}});return function(D,Y){return f.apply(this,arguments)}}())}onAuthEvent(u){var f=this;return(0,h.Z)(function*(){const{urlResponse:D,sessionId:Y,postBody:Ce,tenantId:pt,error:Ut,type:un}=u;if(Ut)return void f.reject(Ut);const An={auth:f.auth,requestUri:D,sessionId:Y,tenantId:pt||void 0,postBody:Ce||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(un)(An))}catch(qn){f.reject(qn)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return oh;case"linkViaPopup":case"linkViaRedirect":return Ss;case"reauthViaPopup":case"reauthViaRedirect":return Xo;default:et(this.auth,"internal-error")}}resolve(u){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const su=new ee(2e3,1e4);function za(){return(za=(0,h.Z)(function*(_,u,f){const D=Sn(_);xe(_,u,ar);const Y=No(D,f);return new Hr(D,"signInViaPopup",u,Y).executeNotNull()})).apply(this,arguments)}function bc(){return(bc=(0,h.Z)(function*(_,u,f){const D=(0,g.m9)(_);xe(D.auth,u,ar);const Y=No(D.auth,f);return new Hr(D.auth,"reauthViaPopup",u,Y,D).executeNotNull()})).apply(this,arguments)}function Ka(){return(Ka=(0,h.Z)(function*(_,u,f){const D=(0,g.m9)(_);xe(D.auth,u,ar);const Y=No(D.auth,f);return new Hr(D.auth,"linkViaPopup",u,Y,D).executeNotNull()})).apply(this,arguments)}let Hr=(()=>{class _ extends da{constructor(f,D,Y,Ce,pt){super(f,D,Ce,pt),this.provider=Y,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var f=this;return(0,h.Z)(function*(){const D=yield f.execute();return ne(D,f.auth,"internal-error"),D})()}onExecution(){var f=this;return(0,h.Z)(function*(){ce(1===f.filter.length,"Popup operations only handle one event");const D=oo();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],D),f.authWindow.associatedEvent=D,f.resolver._originValidation(f.auth).catch(Y=>{f.reject(Y)}),f.resolver._isIframeWebStorageSupported(f.auth,Y=>{Y||f.reject(Ee(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const f=()=>{var D,Y;this.pollId=(null===(Y=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===Y?void 0:Y.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,su.get())};f()}}return _.currentPopupAction=null,_})();const Jo=new Map;class yl extends da{constructor(u,f,D=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,D),this.eventId=null}execute(){var u=()=>super.execute,f=this;return(0,h.Z)(function*(){let D=Jo.get(f.auth._key());if(!D){try{const Ce=(yield function ms(_,u){return Fo.apply(this,arguments)}(f.resolver,f.auth))?yield u().call(f):null;D=()=>Promise.resolve(Ce)}catch(Y){D=()=>Promise.reject(Y)}Jo.set(f.auth._key(),D)}return f.bypassAuthState||Jo.set(f.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(u){var f=()=>super.onAuthEvent,D=this;return(0,h.Z)(function*(){if("signInViaRedirect"===u.type)return f().call(D,u);if("unknown"!==u.type){if(u.eventId){const Y=yield D.auth._redirectUserForId(u.eventId);if(Y)return D.user=Y,f().call(D,u);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Fo(){return(Fo=(0,h.Z)(function*(_,u){const f=Gl(u),D=ea(_);if(!(yield D._isAvailable()))return!1;const Y="true"===(yield D._get(f));return yield D._remove(f),Y})).apply(this,arguments)}function vr(_,u){return ha.apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(_,u){return ea(_)._set(Gl(u),"true")})).apply(this,arguments)}function Dr(_,u){Jo.set(_._key(),u)}function ea(_){return oe(_._redirectPersistence)}function Gl(_){return Qn("pendingRedirect",_.config.apiKey,_.name)}function F(){return(F=(0,h.Z)(function*(_,u,f){const D=Sn(_);xe(_,u,ar);const Y=No(D,f);return yield vr(Y,D),Y._openRedirect(D,u,"signInViaRedirect")})).apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(_,u,f){const D=(0,g.m9)(_);xe(D.auth,u,ar);const Y=No(D.auth,f);yield vr(Y,D.auth);const Ce=yield Yn(D);return Y._openRedirect(D.auth,u,"reauthViaRedirect",Ce)})).apply(this,arguments)}function tn(){return(tn=(0,h.Z)(function*(_,u,f){const D=(0,g.m9)(_);xe(D.auth,u,ar);const Y=No(D.auth,f);yield V(!1,D,u.providerId),yield vr(Y,D.auth);const Ce=yield Yn(D);return Y._openRedirect(D.auth,u,"linkViaRedirect",Ce)})).apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(_,u){return yield Sn(_)._initializationPromise,Jn(_,u,!1)})).apply(this,arguments)}function Jn(_,u){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(_,u,f=!1){const D=Sn(_),Y=No(D,u),pt=yield new yl(D,Y,f).execute();return pt&&!f&&(delete pt.user._redirectEventId,yield D._persistUserIfCurrent(pt.user),yield D._setRedirectUser(null,u)),pt})).apply(this,arguments)}function Yn(_){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(_){const u=oo(`${_.uid}:::`);return _._redirectEventId=u,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),u})).apply(this,arguments)}class vo{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let f=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(u,D)&&(f=!0,this.sendToConsumer(u,D),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Ec(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qs(_);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=u,f=!0)),f}sendToConsumer(u,f){var D;if(u.error&&!Qs(u)){const Y=(null===(D=u.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";f.onError(Ee(this.auth,Y))}else f.onAuthEvent(u)}isEventForConsumer(u,f){const D=null===f.eventId||!!u.eventId&&u.eventId===f.eventId;return f.filter.includes(u.type)&&D}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ta(u))}saveEventToCache(u){this.cachedEventUids.add(ta(u)),this.lastProcessedEventTime=Date.now()}}function ta(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(u=>u).join("-")}function Qs({type:_,error:u}){return"unknown"===_&&"auth/no-auth-event"===(null==u?void 0:u.code)}function bl(_){return na.apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(_,u={}){return Dt(_,"GET","/v1/projects",u)})).apply(this,arguments)}const As=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lo=/^https?/;function ah(){return(ah=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:u}=yield bl(_);for(const f of u)try{if($u(f))return}catch(D){}et(_,"unauthorized-domain")})).apply(this,arguments)}function $u(_){const u=yt(),{protocol:f,hostname:D}=new URL(u);if(_.startsWith("chrome-extension://")){const pt=new URL(_);return""===pt.hostname&&""===D?"chrome-extension:"===f&&_.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===f&&pt.hostname===D}if(!Lo.test(f))return!1;if(As.test(_))return D===_;const Y=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(D)}const lh=new ee(3e4,6e4);function Hs(){const _=Xi().___jsl;if(null==_?void 0:_.H)for(const u of Object.keys(_.H))if(_.H[u].r=_.H[u].r||[],_.H[u].L=_.H[u].L||[],_.H[u].r=[..._.H[u].L],_.CP)for(let f=0;f<_.CP.length;f++)_.CP[f]=null}let cr=null;function lp(_){return cr=cr||function ch(_){return new Promise((u,f)=>{var D,Y,Ce;function pt(){Hs(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Hs(),f(Ee(_,"network-request-failed"))},timeout:lh.get()})}if(null===(Y=null===(D=Xi().gapi)||void 0===D?void 0:D.iframes)||void 0===Y?void 0:Y.Iframe)u(gapi.iframes.getContext());else{if(!(null===(Ce=Xi().gapi)||void 0===Ce?void 0:Ce.load)){const Ut=Xn("iframefcb");return Xi()[Ut]=()=>{gapi.load?pt():f(Ee(_,"network-request-failed"))},Po(`https://apis.google.com/js/api.js?onload=${Ut}`).catch(un=>f(un))}pt()}}).catch(u=>{throw cr=null,u})}(_),cr}const Cc=new ee(5e3,15e3),wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},au=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zu(_){const u=_.config;ne(u.authDomain,_,"auth-domain-config-required");const f=u.emulator?Fe(u,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,D={apiKey:u.apiKey,appName:_.name,v:x.SDK_VERSION},Y=au.get(_.config.apiHost);Y&&(D.eid=Y);const Ce=_._getFrameworks();return Ce.length&&(D.fw=Ce.join(",")),`${f}?${(0,g.xO)(D).slice(1)}`}function zl(){return zl=(0,h.Z)(function*(_){const u=yield lp(_),f=Xi().gapi;return ne(f,_,"internal-error"),u.open({where:document.body,url:zu(_),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wc,dontclear:!0},D=>new Promise(function(){var Y=(0,h.Z)(function*(Ce,pt){yield D.restyle({setHideOnLeave:!1});const Ut=Ee(_,"network-request-failed"),un=Xi().setTimeout(()=>{pt(Ut)},Cc.get());function An(){Xi().clearTimeout(un),Ce(D)}D.ping(An).then(An,()=>{pt(Ut)})});return function(Ce,pt){return Y.apply(this,arguments)}}()))}),zl.apply(this,arguments)}const xs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fh{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(u){}}}function Bo(_,u,f,D,Y,Ce){ne(_.config.authDomain,_,"auth-domain-config-required"),ne(_.config.apiKey,_,"invalid-api-key");const pt={apiKey:_.config.apiKey,appName:_.name,authType:f,redirectUrl:D,v:x.SDK_VERSION,eventId:Y};if(u instanceof ar){u.setDefaultLanguage(_.languageCode),pt.providerId=u.providerId||"",(0,g.xb)(u.getCustomParameters())||(pt.customParameters=JSON.stringify(u.getCustomParameters()));for(const[un,An]of Object.entries(Ce||{}))pt[un]=An}if(u instanceof Wr){const un=u.getScopes().filter(An=>""!==An);un.length>0&&(pt.scopes=un.join(","))}_.tenantId&&(pt.tid=_.tenantId);const Ut=pt;for(const un of Object.keys(Ut))void 0===Ut[un]&&delete Ut[un];return`${function ph({config:_}){return _.emulator?Fe(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,g.xO)(Ut).slice(1)}`}const lu="webStorageSupport";class Ya extends class gh{constructor(u){this.factorId=u}_process(u,f,D){switch(f.type){case"enroll":return this._finalizeEnroll(u,f.credential,D);case"signin":return this._finalizeSignIn(u,f.credential);default:return Ye("unexpected MultiFactorSessionType")}}}{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Ya(u)}_finalizeEnroll(u,f,D){return function ci(_,u){return Dt(_,"POST","/v2/accounts/mfaEnrollment:finalize",ot(_,u))}(u,{idToken:f,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,f){return function Aa(_,u){return Dt(_,"POST","/v2/accounts/mfaSignIn:finalize",ot(_,u))}(u,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wu=(()=>{class _{constructor(){}static assertion(f){return Ya._fromCredential(f)}}return _.FACTOR_ID="phone",_})();var cu="@firebase/auth";class Ku{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var f=this;return(0,h.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const f=this.auth.onIdTokenChanged(D=>{var Y;u((null===(Y=D)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(u,f),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const f=this.internalListeners.get(u);!f||(this.internalListeners.delete(u),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lo(){return window}function ka(){return(ka=(0,h.Z)(function*(_,u,f){var D;const{BuildInfo:Y}=lo();ce(u.sessionId,"AuthEvent did not contain a session ID");const Ce=yield Kl(u.sessionId),pt={};return Ie()?pt.ibi=Y.packageName:Vt()?pt.apn=Y.packageName:et(_,"operation-not-supported-in-this-environment"),Y.displayName&&(pt.appDisplayName=Y.displayName),pt.sessionId=Ce,Bo(_,f,u.type,void 0,null!==(D=u.eventId)&&void 0!==D?D:void 0,pt)})).apply(this,arguments)}function Ic(){return(Ic=(0,h.Z)(function*(_){const{BuildInfo:u}=lo(),f={};Ie()?f.iosBundleId=u.packageName:Vt()?f.androidPackageName=u.packageName:et(_,"operation-not-supported-in-this-environment"),yield bl(_,f)})).apply(this,arguments)}function Qu(){return(Qu=(0,h.Z)(function*(_,u,f){const{cordova:D}=lo();let Y=()=>{};try{yield new Promise((Ce,pt)=>{let Ut=null;function un(){var zn;Ce();const Jr=null===(zn=D.plugins.browsertab)||void 0===zn?void 0:zn.close;"function"==typeof Jr&&Jr(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function An(){Ut||(Ut=window.setTimeout(()=>{pt(Ee(_,"redirect-cancelled-by-user"))},2e3))}function qn(){"visible"===(null==document?void 0:document.visibilityState)&&An()}u.addPassiveListener(un),document.addEventListener("resume",An,!1),Vt()&&document.addEventListener("visibilitychange",qn,!1),Y=()=>{u.removePassiveListener(un),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",qn,!1),Ut&&window.clearTimeout(Ut)}})}finally{Y()}})).apply(this,arguments)}function Kl(_){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,h.Z)(function*(_){const u=Xu(_),f=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(f)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xu(_){if(ce(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const u=new ArrayBuffer(_.length),f=new Uint8Array(u);for(let D=0;D<_.length;D++)f[D]=_.charCodeAt(D);return f}!function Vo(_){(0,x._registerComponent)(new Me.wA("auth",(u,{options:f})=>{const D=u.getProvider("app").getImmediate(),Y=u.getProvider("heartbeat"),{apiKey:Ce,authDomain:pt}=D.options;return((Ut,un)=>{ne(Ce&&!Ce.includes(":"),"invalid-api-key",{appName:Ut.name}),ne(!(null==pt?void 0:pt.includes(":")),"argument-error",{appName:Ut.name});const An={apiKey:Ce,authDomain:pt,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nn(_)},qn=new Xt(Ut,un,An);return function ze(_,u){const f=(null==u?void 0:u.persistence)||[],D=(Array.isArray(f)?f:[f]).map(oe);(null==u?void 0:u.errorMap)&&_._updateErrorMap(u.errorMap),_._initializeWithPersistence(D,null==u?void 0:u.popupRedirectResolver)}(qn,f),qn})(D,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,f,D)=>{u.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new Me.wA("auth-internal",u=>{const f=Sn(u.getProvider("auth").getImmediate());return new Ku(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(cu,"0.20.6",function Wl(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,x.registerVersion)(cu,"0.20.6","esm2017")}("Browser");class Mc extends vo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(u)),super.onEvent(u)}initialized(){var u=this;return(0,h.Z)(function*(){yield u.initPromise})()}}function Qa(_){return du.apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(_){const u=yield Cl()._get(Xa(_));return u&&(yield Cl()._remove(Xa(_))),u})).apply(this,arguments)}function Ju(){const _=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const D=Math.floor(Math.random()*u.length);_.push(u.charAt(D))}return _.join("")}function Cl(){return oe(Ms)}function Xa(_){return Qn("authEvent",_.config.apiKey,_.name)}function fi(_){if(!(null==_?void 0:_.includes("?")))return{};const[u,...f]=_.split("?");return(0,g.zd)(f.join("?"))}function td(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Uo(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function bh(_=(0,g.z$)()){return!("file:"!==Uo()&&"ionic:"!==Uo()&&"capacitor:"!==Uo()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gr(){try{const _=self.localStorage,u=oo();if(_)return _.setItem(u,"1"),_.removeItem(u),!function Eh(_=(0,g.z$)()){return function as(){return(0,g.w1)()&&11===(null==document?void 0:document.documentMode)}()||function xc(_=(0,g.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,g.hl)()}catch(_){return ni()&&(0,g.hl)()}return!1}function ni(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ja(){return(function _p(){return"http:"===Uo()||"https:"===Uo()}()||(0,g.ru)()||bh())&&!function ql(){return(0,g.b$)()||(0,g.UG)()}()&&Gr()&&!ni()}function Oc(){return bh()&&"undefined"!=typeof document}function nd(){return(nd=(0,h.Z)(function*(){return!!Oc()&&new Promise(_=>{const u=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),_(!0)})})})).apply(this,arguments)}const bo={LOCAL:"local",NONE:"none",SESSION:"session"},ba=ne,id="persistence";function pu(_){return wl.apply(this,arguments)}function wl(){return(wl=(0,h.Z)(function*(_){yield _._initializationPromise;const u=Ch(),f=Qn(id,_.config.apiKey,_.name);u&&u.setItem(f,_._getPersistence())})).apply(this,arguments)}function Ch(){var _;try{return(null===(_=function co(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(u){return null}}const bi=ne;class Ea{constructor(){this.browserResolver=oe(class mh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Us,this._completeRedirectFn=Jn,this._overrideRedirectResult=Dr}_openPopup(u,f,D,Y){var Ce=this;return(0,h.Z)(function*(){var pt;ce(null===(pt=Ce.eventManagers[u._key()])||void 0===pt?void 0:pt.manager,"_initialize() not called before _openPopup()");const Ut=Bo(u,f,D,yt(),Y);return function cp(_,u,f,D=500,Y=600){const Ce=Math.max((window.screen.availHeight-Y)/2,0).toString(),pt=Math.max((window.screen.availWidth-D)/2,0).toString();let Ut="";const un=Object.assign(Object.assign({},xs),{width:D.toString(),height:Y.toString(),top:Ce,left:pt}),An=(0,g.z$)().toLowerCase();f&&(Ut=Ve(An)?"_blank":f),_t(An)&&(u=u||"http://localhost",un.scrollbars="yes");const qn=Object.entries(un).reduce((Jr,[Eo,Ql])=>`${Jr}${Eo}=${Ql},`,"");if(function Nt(_=(0,g.z$)()){var u;return Ie(_)&&!!(null===(u=window.navigator)||void 0===u?void 0:u.standalone)}(An)&&"_self"!==Ut)return function up(_,u){const f=document.createElement("a");f.href=_,f.target=u;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(D)}(u||"",Ut),new fh(null);const zn=window.open(u||"",Ut,qn);ne(zn,_,"popup-blocked");try{zn.focus()}catch(Jr){}return new fh(zn)}(u,Ut,oo())})()}_openRedirect(u,f,D,Y){var Ce=this;return(0,h.Z)(function*(){return yield Ce._originValidation(u),function Ma(_){Xi().location.href=_}(Bo(u,f,D,yt(),Y)),new Promise(()=>{})})()}_initialize(u){const f=u._key();if(this.eventManagers[f]){const{manager:Y,promise:Ce}=this.eventManagers[f];return Y?Promise.resolve(Y):(ce(Ce,"If manager is not set, promise should be"),Ce)}const D=this.initAndGetManager(u);return this.eventManagers[f]={promise:D},D.catch(()=>{delete this.eventManagers[f]}),D}initAndGetManager(u){var f=this;return(0,h.Z)(function*(){const D=yield function Dc(_){return zl.apply(this,arguments)}(u),Y=new vo(u);return D.register("authEvent",Ce=>(ne(null==Ce?void 0:Ce.authEvent,u,"invalid-auth-event"),{status:Y.onEvent(Ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[u._key()]={manager:Y},f.iframes[u._key()]=D,Y})()}_isIframeWebStorageSupported(u,f){this.iframes[u._key()].send(lu,{type:lu},Y=>{var Ce;const pt=null===(Ce=null==Y?void 0:Y[0])||void 0===Ce?void 0:Ce[lu];void 0!==pt&&f(!!pt),et(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const f=u._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function ou(_){return ah.apply(this,arguments)}(u)),this.originValidationPromises[f]}get _shouldInitProactively(){return dn()||ct()||Ie()}}),this.cordovaResolver=oe(class hu{constructor(){this._redirectPersistence=Us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jn,this._overrideRedirectResult=Dr}_initialize(u){var f=this;return(0,h.Z)(function*(){const D=u._key();let Y=f.eventManagers.get(D);return Y||(Y=new Mc(u),f.eventManagers.set(D,Y),f.attachCallbackListeners(u,Y)),Y})()}_openPopup(u){et(u,"operation-not-supported-in-this-environment")}_openRedirect(u,f,D,Y){var Ce=this;return(0,h.Z)(function*(){!function fp(_){var u,f,D,Y,Ce,pt,Ut,un,An,qn;const zn=lo();ne("function"==typeof(null===(u=null==zn?void 0:zn.universalLinks)||void 0===u?void 0:u.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(void 0!==(null===(f=null==zn?void 0:zn.BuildInfo)||void 0===f?void 0:f.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(Ce=null===(Y=null===(D=null==zn?void 0:zn.cordova)||void 0===D?void 0:D.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===Ce?void 0:Ce.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(un=null===(Ut=null===(pt=null==zn?void 0:zn.cordova)||void 0===pt?void 0:pt.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===un?void 0:un.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(qn=null===(An=null==zn?void 0:zn.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===qn?void 0:qn.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const pt=yield Ce._initialize(u);yield pt.initialized(),pt.resetRedirect(),function Ra(){Jo.clear()}(),yield Ce._originValidation(u);const Ut=function qa(_,u,f=null){return{type:u,eventId:f,urlResponse:null,sessionId:Ju(),postBody:null,tenantId:_.tenantId,error:Ee(_,"no-auth-event")}}(u,D,Y);yield function yh(_,u){return Cl()._set(Xa(_),u)}(u,Ut);const un=yield function ia(_,u,f){return ka.apply(this,arguments)}(u,Ut,f),An=yield function _h(_){const{cordova:u}=lo();return new Promise(f=>{u.plugins.browsertab.isAvailable(D=>{let Y=null;D?u.plugins.browsertab.openUrl(_):Y=u.InAppBrowser.open(_,function at(_=(0,g.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),f(Y)})})}(un);return function hp(_,u,f){return Qu.apply(this,arguments)}(u,pt,An)})()}_isIframeWebStorageSupported(u,f){throw new Error("Method not implemented.")}_originValidation(u){const f=u._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function qu(_){return Ic.apply(this,arguments)}(u)),this.originValidationPromises[f]}attachCallbackListeners(u,f){const{universalLinks:D,handleOpenURL:Y,BuildInfo:Ce}=lo(),pt=setTimeout((0,h.Z)(function*(){yield Qa(u),f.onEvent(td())}),500),Ut=function(){var qn=(0,h.Z)(function*(zn){clearTimeout(pt);const Jr=yield Qa(u);let Eo=null;Jr&&(null==zn?void 0:zn.url)&&(Eo=function Zl(_,u){var f,D;const Y=function mp(_){const u=fi(_),f=u.link?decodeURIComponent(u.link):void 0,D=fi(f).link,Y=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return fi(Y).link||Y||D||f||_}(u);if(Y.includes("/__/auth/callback")){const Ce=fi(Y),pt=Ce.firebaseError?function ed(_){try{return JSON.parse(_)}catch(u){return null}}(decodeURIComponent(Ce.firebaseError)):null,Ut=null===(D=null===(f=null==pt?void 0:pt.code)||void 0===f?void 0:f.split("auth/"))||void 0===D?void 0:D[1],un=Ut?Ee(Ut):null;return un?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:un,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:Y,postBody:null}}return null}(Jr,zn.url)),f.onEvent(Eo||td())});return function(Jr){return qn.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,Ut);const un=Y,An=`${Ce.packageName.toLowerCase()}://`;lo().handleOpenURL=function(){var qn=(0,h.Z)(function*(zn){if(zn.toLowerCase().startsWith(An)&&Ut({url:zn}),"function"==typeof un)try{un(zn)}catch(Jr){console.error(Jr)}});return function(zn){return qn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Us,this._completeRedirectFn=Jn,this._overrideRedirectResult=Dr}_initialize(u){var f=this;return(0,h.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,f,D,Y){var Ce=this;return(0,h.Z)(function*(){return yield Ce.selectUnderlyingResolver(),Ce.assertedUnderlyingResolver._openPopup(u,f,D,Y)})()}_openRedirect(u,f,D,Y){var Ce=this;return(0,h.Z)(function*(){return yield Ce.selectUnderlyingResolver(),Ce.assertedUnderlyingResolver._openRedirect(u,f,D,Y)})()}_isIframeWebStorageSupported(u,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,f)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return Oc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,h.Z)(function*(){if(u.underlyingResolver)return;const f=yield function el(){return nd.apply(this,arguments)}();u.underlyingResolver=f?u.cordovaResolver:u.browserResolver})()}}function Rc(_){return _.unwrap()}function tl(_){return sd(_)}function sd(_){const{_tokenResponse:u}=_ instanceof g.ZR?_.customData:_;if(!u)return null;if(!(_ instanceof g.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return _l.credentialFromResult(_);const f=u.providerId;if(!f||"password"===f)return null;let D;switch(f){case"google.com":D=Ls;break;case"facebook.com":D=Br;break;case"github.com":D=Wo;break;case"twitter.com":D=ws;break;default:const{oauthIdToken:Y,oauthAccessToken:Ce,oauthTokenSecret:pt,pendingToken:Ut,nonce:un}=u;return Ce||pt||Y||Ut?Ut?f.startsWith("saml.")?Cr._create(f,Ut):xi._fromParams({providerId:f,signInMethod:f,pendingToken:Ut,idToken:Y,accessToken:Ce}):new xr(f).credential({idToken:Y,accessToken:Ce,rawNonce:un}):null}return _ instanceof g.ZR?D.credentialFromError(_):D.credentialFromResult(_)}function uo(_,u){return u.catch(f=>{throw f instanceof g.ZR&&function mu(_,u){var f,D;const Y=null===(f=u.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(D=u)||void 0===D?void 0:D.code))u.resolver=new ad(_,function En(_,u){var f;const D=(0,g.m9)(_),Y=u;return ne(u.customData.operationType,D,"argument-error"),ne(null===(f=Y.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,D,"argument-error"),Mn._fromError(D,Y)}(_,u));else if(Y){const Ce=sd(u),pt=u;Ce&&(pt.credential=Ce,pt.tenantId=Y.tenantId||void 0,pt.email=Y.email||void 0,pt.phoneNumber=Y.phoneNumber||void 0)}}(_,f),f}).then(f=>{const Y=f.user;return{operationType:f.operationType,credential:tl(f),additionalUserInfo:Or(f),user:Ca.getOrCreate(Y)}})}function gu(_,u){return od.apply(this,arguments)}function od(){return(od=(0,h.Z)(function*(_,u){const f=yield u;return{verificationId:f.verificationId,confirm:D=>uo(_,f.confirm(D))}})).apply(this,arguments)}class ad{constructor(u,f){this.resolver=f,this.auth=function Pc(_){return _.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return uo(Rc(this.auth),this.resolver.resolveSignIn(u))}}class Ca{constructor(u){this._delegate=u,this.multiFactor=function os(_){const u=(0,g.m9)(_);return rr.has(u)||rr.set(u,Ts._fromUser(u)),rr.get(u)}(u)}static getOrCreate(u){return Ca.USER_MAP.has(u)||Ca.USER_MAP.set(u,new Ca(u)),Ca.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var f=this;return(0,h.Z)(function*(){return uo(f.auth,oi(f._delegate,u))})()}linkWithPhoneNumber(u,f){var D=this;return(0,h.Z)(function*(){return gu(D.auth,function ru(_,u,f){return Hl.apply(this,arguments)}(D._delegate,u,f))})()}linkWithPopup(u){var f=this;return(0,h.Z)(function*(){return uo(f.auth,function Pr(_,u,f){return Ka.apply(this,arguments)}(f._delegate,u,Ea))})()}linkWithRedirect(u){var f=this;return(0,h.Z)(function*(){return yield pu(Sn(f.auth)),function bt(_,u,f){return function Pt(_,u,f){return tn.apply(this,arguments)}(_,u,f)}(f._delegate,u,Ea)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var f=this;return(0,h.Z)(function*(){return uo(f.auth,qi(f._delegate,u))})()}reauthenticateWithPhoneNumber(u,f){return gu(this.auth,function ao(_,u,f){return Xr.apply(this,arguments)}(this._delegate,u,f))}reauthenticateWithPopup(u){return uo(this.auth,function Wa(_,u,f){return bc.apply(this,arguments)}(this._delegate,u,Ea))}reauthenticateWithRedirect(u){var f=this;return(0,h.Z)(function*(){return yield pu(Sn(f.auth)),function U(_,u,f){return function he(_,u,f){return Ke.apply(this,arguments)}(_,u,f)}(f._delegate,u,Ea)})()}sendEmailVerification(u){return function C(_,u){return L.apply(this,arguments)}(this._delegate,u)}unlink(u){var f=this;return(0,h.Z)(function*(){return yield function us(_,u){return gi.apply(this,arguments)}(f._delegate,u),f})()}updateEmail(u){return function Dn(_,u){return $n((0,g.m9)(_),u,null)}(this._delegate,u)}updatePassword(u){return function On(_,u){return $n((0,g.m9)(_),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function Oa(_,u){return qs.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Mt(_,u){return zt.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,f){return function ae(_,u,f){return Re.apply(this,arguments)}(this._delegate,u,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ca.USER_MAP=new WeakMap;const kc=ne;let wh=(()=>{class _{constructor(f,D){if(this.app=f,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=f.options;kc(Y,"invalid-api-key",{appName:f.name}),kc(Y,"invalid-api-key",{appName:f.name});const Ce="undefined"!=typeof window?Ea:void 0;this._delegate=D.initialize({options:{persistence:Nc(Y,f.name),popupRedirectResolver:Ce}}),this._delegate._updateErrorMap($e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ca.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,D){!function Ti(_,u,f){const D=Sn(_);ne(D._canInitEmulator,D,"emulator-config-failed"),ne(/^https?:\/\//.test(u),D,"invalid-emulator-scheme");const Y=!!(null==f?void 0:f.disableWarnings),Ce=Gi(u),{host:pt,port:Ut}=function Ai(_){const u=Gi(_),f=/(\/\/)?([^?#/]+)/.exec(_.substr(u.length));if(!f)return{host:"",port:null};const D=f[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(D);if(Y){const Ce=Y[1];return{host:Ce,port:Er(D.substr(Ce.length+1))}}{const[Ce,pt]=D.split(":");return{host:Ce,port:Er(pt)}}}(u);D.config.emulator={url:`${Ce}//${pt}${null===Ut?"":`:${Ut}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:pt,port:Ut,protocol:Ce.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function mi(){function _(){const u=document.createElement("p"),f=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,f,D)}applyActionCode(f){return function Jt(_,u){return _i.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Ko(this._delegate,f)}confirmPasswordReset(f,D){return function go(_,u,f){return ds.apply(this,arguments)}(this._delegate,f,D)}createUserWithEmailAndPassword(f,D){var Y=this;return(0,h.Z)(function*(){return uo(Y._delegate,function Is(_,u,f){return So.apply(this,arguments)}(Y._delegate,f,D))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function re(_,u){return v.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function no(_,u){const f=Es.parseLink(u);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,h.Z)(function*(){kc(Ja(),f._delegate,"operation-not-supported-in-this-environment");const D=yield function _n(_,u){return Ln.apply(this,arguments)}(f._delegate,Ea);return D?uo(f._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Ac(_,u){Sn(_)._logFramework(u)}(this._delegate,f)}onAuthStateChanged(f,D,Y){const{next:Ce,error:pt,complete:Ut}=Dh(f,D,Y);return this._delegate.onAuthStateChanged(Ce,pt,Ut)}onIdTokenChanged(f,D,Y){const{next:Ce,error:pt,complete:Ut}=Dh(f,D,Y);return this._delegate.onIdTokenChanged(Ce,pt,Ut)}sendSignInLinkToEmail(f,D){return function ul(_,u,f){return aa.apply(this,arguments)}(this._delegate,f,D)}sendPasswordResetEmail(f,D){return function vi(_,u,f){return Vr.apply(this,arguments)}(this._delegate,f,D||void 0)}setPersistence(f){var D=this;return(0,h.Z)(function*(){let Y;switch(function fa(_,u){ba(Object.values(bo).includes(u),_,"invalid-persistence-type"),(0,g.b$)()?ba(u!==bo.SESSION,_,"unsupported-persistence-type"):(0,g.UG)()?ba(u===bo.NONE,_,"unsupported-persistence-type"):ni()?ba(u===bo.NONE||u===bo.LOCAL&&(0,g.hl)(),_,"unsupported-persistence-type"):ba(u===bo.NONE||Gr(),_,"unsupported-persistence-type")}(D._delegate,f),f){case bo.SESSION:Y=Us;break;case bo.LOCAL:Y=(yield oe(Sa)._isAvailable())?Sa:Ms;break;case bo.NONE:Y=Cn;break;default:return et("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return uo(this._delegate,function Kr(_){return ss.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return uo(this._delegate,Gn(this._delegate,f))}signInWithCustomToken(f){return uo(this._delegate,function B(_,u){return S.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,D){return uo(this._delegate,function Ta(_,u,f){return Gn((0,g.m9)(_),zo.credential(u,f))}(this._delegate,f,D))}signInWithEmailLink(f,D){return uo(this._delegate,function io(_,u,f){return pr.apply(this,arguments)}(this._delegate,f,D))}signInWithPhoneNumber(f,D){return gu(this._delegate,function gl(_,u,f){return jr.apply(this,arguments)}(this._delegate,f,D))}signInWithPopup(f){var D=this;return(0,h.Z)(function*(){return kc(Ja(),D._delegate,"operation-not-supported-in-this-environment"),uo(D._delegate,function ps(_,u,f){return za.apply(this,arguments)}(D._delegate,f,Ea))})()}signInWithRedirect(f){var D=this;return(0,h.Z)(function*(){return kc(Ja(),D._delegate,"operation-not-supported-in-this-environment"),yield pu(D._delegate),function Za(_,u,f){return function vl(_,u,f){return F.apply(this,arguments)}(_,u,f)}(D._delegate,f,Ea)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Zo(_,u){return _o.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=bo,_})();function Dh(_,u,f){let D=_;"function"!=typeof _&&({next:D,error:u,complete:f}=_);const Y=D;return{next:pt=>Y(pt&&Ca.getOrCreate(pt)),error:u,complete:f}}function Nc(_,u){const f=function rd(_,u){const f=Ch();if(!f)return[];const D=Qn(id,_,u);switch(f.getItem(D)){case bo.NONE:return[Cn];case bo.LOCAL:return[Sa,Us];case bo.SESSION:return[Us];default:return[]}}(_,u);if("undefined"!=typeof self&&!f.includes(Sa)&&f.push(Sa),"undefined"!=typeof window)for(const D of[Ms,Us])f.includes(D)||f.push(D);return f.includes(Cn)||f.push(Cn),f}class Fc{constructor(){this.providerId="phone",this._delegate=new _l(Rc(E.Z.auth()))}static credential(u,f){return _l.credential(u,f)}verifyPhoneNumber(u,f){return this._delegate.verifyPhoneNumber(u,f)}unwrap(){return this._delegate}}Fc.PHONE_SIGN_IN_METHOD=_l.PHONE_SIGN_IN_METHOD,Fc.PROVIDER_ID=_l.PROVIDER_ID;const yp=ne;class Os{constructor(u,f,D=E.Z.app()){var Y;yp(null===(Y=D.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Ul(u,f,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pa(_){_.INTERNAL.registerComponent(new Me.wA("auth-compat",u=>{const f=u.getProvider("app-compat").getImmediate(),D=u.getProvider("auth");return new wh(f,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zo,FacebookAuthProvider:Br,GithubAuthProvider:Wo,GoogleAuthProvider:Ls,OAuthProvider:xr,SAMLAuthProvider:fr,PhoneAuthProvider:Fc,PhoneMultiFactorGenerator:Wu,RecaptchaVerifier:Os,TwitterAuthProvider:ws,Auth:wh,AuthCredential:$i,Error:g.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.19")}(E.Z)},1863:(Gt,Ze,y)=>{y.d(Ze,{m8:()=>ze,i4:()=>mt,$S:()=>oe});var h=y(1777),E=y(5664),g=y(9808),x=y(5e3),we=y(4986),be=y(5963),pe=y(7579),ie=y(1135),q=y(2722),fe=y(9300),le=y(2313),He=y(7423),Se=y(8099);function $e(ee,Fe){if(1&ee&&x._UZ(0,"div",3),2&ee){const O=x.oxw(2);x.Udp("background-color",O.overlayColor),x.uIk("aria-label",O.ariaLabel)}}function it(ee,Fe){if(1&ee&&(x.TgZ(0,"div",0)(1,"div",1),x.Hsn(2),x.qZA(),x.YNc(3,$e,1,3,"div",2),x.qZA()),2&ee){const O=x.oxw();x.Udp("background-image",O.image),x.xp6(3),x.Q6J("ngIf",!O.hideOverlay)}}const Le=["*"],rt=["carouselContainer"],Ne=["carouselList"];function Ot(ee,Fe){if(1&ee&&x.GkF(0,11),2&ee){const O=x.oxw().$implicit;x.Q6J("ngTemplateOutlet",O.templateRef)}}function et(ee,Fe){if(1&ee){const O=x.EpF();x.TgZ(0,"li",8,9),x.NdJ("panleft",function(ft){x.CHM(O);const ot=x.MAs(1);return x.oxw().onPan(ft,ot)})("panright",function(ft){x.CHM(O);const ot=x.MAs(1);return x.oxw().onPan(ft,ot)})("panend",function(ft){x.CHM(O);const ot=x.MAs(1);return x.oxw().onPanEnd(ft,ot)})("pancancel",function(ft){x.CHM(O);const ot=x.MAs(1);return x.oxw().onPanEnd(ft,ot)}),x.YNc(2,Ot,1,1,"ng-container",10),x.qZA()}if(2&ee){const O=Fe.$implicit,se=x.oxw();x.Udp("padding-bottom",se.maintainAspectRatio&&se.proportion?se.proportion+"%":"0px")("height",!se.maintainAspectRatio&&se.slideHeight?se.slideHeight:"0px"),x.xp6(2),x.Q6J("ngIf",O.load)}}function Ee(ee,Fe){if(1&ee&&x._UZ(0,"mat-icon",15),2&ee){const O=x.oxw(2);x.Q6J("svgIcon",O.svgIconOverrides.arrowBack)}}function _e(ee,Fe){1&ee&&(x.TgZ(0,"mat-icon"),x._uU(1,"arrow_back"),x.qZA())}function xe(ee,Fe){if(1&ee){const O=x.EpF();x.TgZ(0,"button",12),x.NdJ("click",function(){return x.CHM(O),x.oxw().previous()}),x.YNc(1,Ee,1,1,"mat-icon",13),x.YNc(2,_e,2,0,"ng-template",null,14,x.W1O),x.qZA()}if(2&ee){const O=x.MAs(3),se=x.oxw();x.Q6J("color",se.color)("disabled",!se.loop&&0==se.currentIndex),x.xp6(1),x.Q6J("ngIf",null==se.svgIconOverrides?null:se.svgIconOverrides.arrowBack)("ngIfElse",O)}}function De(ee,Fe){if(1&ee&&x._UZ(0,"mat-icon",15),2&ee){const O=x.oxw(2);x.Q6J("svgIcon",O.svgIconOverrides.arrowForward)}}function ne(ee,Fe){1&ee&&(x.TgZ(0,"mat-icon"),x._uU(1,"arrow_forward"),x.qZA())}function Ye(ee,Fe){if(1&ee){const O=x.EpF();x.TgZ(0,"button",16),x.NdJ("click",function(){return x.CHM(O),x.oxw().next()}),x.YNc(1,De,1,1,"mat-icon",13),x.YNc(2,ne,2,0,"ng-template",null,17,x.W1O),x.qZA()}if(2&ee){const O=x.MAs(3),se=x.oxw();x.Q6J("color",se.color)("disabled",!se.loop&&se.currentIndex==se.slidesList.length-1),x.xp6(1),x.Q6J("ngIf",null==se.svgIconOverrides?null:se.svgIconOverrides.arrowForward)("ngIfElse",O)}}function ce(ee,Fe){if(1&ee){const O=x.EpF();x.TgZ(0,"button",20),x.NdJ("click",function(){const ot=x.CHM(O).index;return x.oxw(2).slideTo(ot)})("focus",function(){return x.CHM(O),x.oxw(2),x.MAs(1).focus()}),x.qZA()}if(2&ee){const O=Fe.index,se=x.oxw(2);x.Q6J("color",se.color)("disabled",O==se.currentIndex),x.uIk("aria-label","Slide #"+O)}}function Ue(ee,Fe){if(1&ee&&(x.TgZ(0,"div",18),x.YNc(1,ce,1,3,"button",19),x.qZA()),2&ee){const O=x.oxw();x.Udp("flex-direction","rtl"===O.orientation?"row-reverse":"row"),x.xp6(1),x.Q6J("ngForOf",O.slidesList)}}let oe=(()=>{class ee{constructor(O){this.sanitizer=O,this.overlayColor="#00000040",this.hideOverlay=!1,this.ariaLabel="",this.disabled=!1,this.load=!1}ngOnInit(){this.image&&(this.image=this.sanitizer.bypassSecurityTrustStyle(`url("${this.image}")`))}}return ee.\u0275fac=function(O){return new(O||ee)(x.Y36(le.H7))},ee.\u0275cmp=x.Xpm({type:ee,selectors:[["mat-carousel-slide"]],viewQuery:function(O,se){if(1&O&&x.Gf(x.Rgc,5),2&O){let ft;x.iGM(ft=x.CRH())&&(se.templateRef=ft.first)}},inputs:{overlayColor:"overlayColor",hideOverlay:"hideOverlay",ariaLabel:"ariaLabel",disabled:"disabled",load:"load",image:"image"},ngContentSelectors:Le,decls:1,vars:0,consts:[[1,"carousel-slide"],[1,"carousel-slide-content"],["class","carousel-slide-overlay",3,"background-color",4,"ngIf"],[1,"carousel-slide-overlay"]],template:function(O,se){1&O&&(x.F$t(),x.YNc(0,it,4,3,"ng-template"))},directives:[g.O5],styles:[".carousel-slide[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat;background-size:cover}.carousel-slide[_ngcontent-%COMP%], .carousel-slide-overlay[_ngcontent-%COMP%]{height:100%;position:absolute;width:100%;z-index:auto}.carousel-slide-content[_ngcontent-%COMP%]{height:100%;position:absolute;width:100%;z-index:1}"]}),ee})();const Oe={left:0,right:1,index:2};Oe[Oe.left]="left",Oe[Oe.right]="right",Oe[Oe.index]="index";let ze=(()=>{class ee{constructor(O,se,ft){this.animationBuilder=O,this.renderer=se,this.platformId=ft,this.timings="250ms ease-in",this.lazyLoad=!1,this.hideArrows=!0,this.hideIndicators=!0,this.ariaLabel="Sliding carousel",this.color="accent",this.maintainAspectRatio=!0,this.proportion=25,this.slideHeight="100%",this.useKeyboard=!1,this.useMouseWheel=!1,this.changeEmitter=new x.vpe,this._autoplay=!0,this.autoplay$=new pe.x,this.interval$=new ie.X(5e3),this.slides$=new ie.X(null),this._maxWidth="auto",this.maxWidth$=new pe.x,this._loop=!0,this.loop$=new pe.x,this._orientation="ltr",this.orientation$=new pe.x,this.timerStop$=new pe.x,this.destroy$=new pe.x,this.playing=!1}set autoplay(O){this.autoplay$.next(O),this._autoplay=O}set interval(O){this.interval$.next(O)}get loop(){return this._loop}set loop(O){this.loop$.next(O),this._loop=O}get maxWidth(){return this._maxWidth}set maxWidth(O){this._maxWidth=O,this.maxWidth$.next()}set slides(O){this.slides$.next(O)}get orientation(){return this._orientation}set orientation(O){this.orientation$.next(O),this._orientation=O}get currentIndex(){return this.listKeyManager?this.listKeyManager.activeItemIndex:0}get currentSlide(){return this.listKeyManager?this.listKeyManager.activeItem:null}onKeyUp(O){this.useKeyboard&&!this.playing&&this.listKeyManager.onKeydown(O)}onMouseEnter(){this.stopTimer()}onMouseLeave(){this.startTimer(this._autoplay)}onMouseWheel(O){if(this.useMouseWheel){O.preventDefault();const se=Math.sign(O.deltaY);se>0?this.next():se<0&&this.previous()}}onResize(O){const se=this.getWidth();se!==this.width&&(this.width=se,this.slideTo(0))}ngAfterContentInit(){this.lazyLoad?(this.slidesList.first.load=!0,setTimeout(()=>{this.slidesList.find((O,se)=>se===1%this.slidesList.length).load=!0,this.slidesList.find((O,se)=>se===(this.slidesList.length-1)%this.slidesList.length).load=!0},this.interval$.getValue()/2)):this.slidesList.forEach(O=>O.load=!0),this.listKeyManager=new E.cS(this.slidesList).withVerticalOrientation(!1).withHorizontalOrientation(this._orientation).withWrap(this._loop),this.listKeyManager.updateActiveItem(0),this.listKeyManager.change.pipe((0,q.R)(this.destroy$)).subscribe(()=>this.playAnimation())}ngAfterViewInit(){this.width=this.getWidth(),this.autoplay$.pipe((0,q.R)(this.destroy$)).subscribe(O=>{this.stopTimer(),this.startTimer(O)}),this.interval$.pipe((0,q.R)(this.destroy$)).subscribe(O=>{this.stopTimer(),this.resetTimer(O),this.startTimer(this._autoplay)}),this.maxWidth$.pipe((0,q.R)(this.destroy$)).subscribe(()=>this.slideTo(0)),this.loop$.pipe((0,q.R)(this.destroy$)).subscribe(O=>this.listKeyManager.withWrap(O)),this.orientation$.pipe((0,q.R)(this.destroy$)).subscribe(O=>this.listKeyManager.withHorizontalOrientation(O)),this.slides$.pipe((0,q.R)(this.destroy$),(0,fe.h)(O=>O&&O<this.slidesList.length)).subscribe(O=>this.resetSlides(O))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}next(){this.goto(Oe.right)}previous(){this.goto(Oe.left)}slideTo(O){this.goto(Oe.index,O)}onPan(O,se){if(Math.abs(O.velocityY)>Math.abs(O.velocityX))return;let ft=O.deltaX;this.isOutOfBounds()&&(ft*=.2),this.renderer.setStyle(se,"cursor","grabbing"),this.renderer.setStyle(this.carouselList.nativeElement,"transform",this.getTranslation(this.getOffset()+ft))}onPanEnd(O,se){if(this.renderer.removeStyle(se,"cursor"),!this.isOutOfBounds()&&Math.abs(O.deltaX)>.25*this.getWidth())return O.deltaX<=0?void this.next():void this.previous();this.playAnimation()}isOutOfBounds(){const se=("rtl"===this.orientation?-1:1)*(this.carouselList.nativeElement.getBoundingClientRect().left-this.carouselList.nativeElement.offsetParent.getBoundingClientRect().left),ft=this.slidesList.length-1,ot=-this.getWidth()*ft;return 0===this.listKeyManager.activeItemIndex&&se>=0||this.listKeyManager.activeItemIndex===ft&&se<=ot}isVisible(){if(!(0,g.NF)(this.platformId))return!1;const se=window.pageYOffset,ft=se+window.innerHeight,ot=this.carouselContainer.nativeElement.getBoundingClientRect(),Dt=se+ot.top;return Dt+ot.height<=ft||Dt>=se}getOffset(){const O=this.listKeyManager.activeItemIndex*this.getWidth();return("rtl"===this.orientation?1:-1)*O}getTranslation(O){return`translateX(${O}px)`}getWidth(){return this.carouselContainer.nativeElement.clientWidth}goto(O,se){if(!this.playing){const ft="rtl"===this.orientation;switch(O){case Oe.left:return ft?this.listKeyManager.setNextItemActive():this.listKeyManager.setPreviousItemActive();case Oe.right:return ft?this.listKeyManager.setPreviousItemActive():this.listKeyManager.setNextItemActive();case Oe.index:return this.listKeyManager.setActiveItem(se)}}}playAnimation(){const O=this.getTranslation(this.getOffset()),ft=this.animationBuilder.build((0,h.jt)(this.timings,(0,h.oB)({transform:O}))).create(this.carouselList.nativeElement);ft.onStart(()=>{this.playing=!0}),ft.onDone(()=>{this.changeEmitter.emit(this.currentIndex),this.playing=!1,this.lazyLoad&&(this.slidesList.find((ot,Dt)=>Dt===(this.currentIndex+1)%this.slidesList.length).load=!0,this.slidesList.find((ot,Dt)=>Dt===(this.currentIndex-1+this.slidesList.length)%this.slidesList.length).load=!0,this.slidesList.find((ot,Dt)=>Dt===this.currentIndex).load=!0),this.renderer.setStyle(this.carouselList.nativeElement,"transform",O),ft.destroy()}),ft.play()}resetSlides(O){this.slidesList.reset(this.slidesList.toArray().slice(0,O))}resetTimer(O){this.timer$=function Me(ee=0,Fe=we.z){return ee<0&&(ee=0),(0,be.H)(ee,ee,Fe)}(O)}startTimer(O){!O||this.timer$.pipe((0,q.R)(this.timerStop$),(0,q.R)(this.destroy$),(0,fe.h)(()=>this.isVisible())).subscribe(()=>{this.listKeyManager.withWrap(!0).setNextItemActive(),this.listKeyManager.withWrap(this.loop)})}stopTimer(){this.timerStop$.next()}}return ee.\u0275fac=function(O){return new(O||ee)(x.Y36(h._j),x.Y36(x.Qsj),x.Y36(x.Lbi))},ee.\u0275cmp=x.Xpm({type:ee,selectors:[["mat-carousel"]],contentQueries:function(O,se,ft){if(1&O&&x.Suo(ft,oe,4),2&O){let ot;x.iGM(ot=x.CRH())&&(se.slidesList=ot)}},viewQuery:function(O,se){if(1&O&&(x.Gf(rt,5),x.Gf(Ne,5)),2&O){let ft;x.iGM(ft=x.CRH())&&(se.carouselContainer=ft.first),x.iGM(ft=x.CRH())&&(se.carouselList=ft.first)}},hostBindings:function(O,se){1&O&&x.NdJ("keyup",function(ot){return se.onKeyUp(ot)})("mouseenter",function(){return se.onMouseEnter()})("mouseleave",function(){return se.onMouseLeave()})("mousewheel",function(ot){return se.onMouseWheel(ot)})("resize",function(ot){return se.onResize(ot)},!1,x.Jf7)},inputs:{timings:"timings",lazyLoad:"lazyLoad",hideArrows:"hideArrows",hideIndicators:"hideIndicators",ariaLabel:"ariaLabel",color:"color",maintainAspectRatio:"maintainAspectRatio",proportion:"proportion",slideHeight:"slideHeight",useKeyboard:"useKeyboard",useMouseWheel:"useMouseWheel",autoplay:"autoplay",interval:"interval",loop:"loop",maxWidth:"maxWidth",slides:"slides",orientation:"orientation",svgIconOverrides:"svgIconOverrides"},outputs:{changeEmitter:"changeEmitter"},decls:8,vars:13,consts:[["tabindex","0",1,"carousel"],["carouselContainer",""],["role","listbox",1,"carousel-list"],["carouselList",""],["class","carousel-slide","role","option",3,"padding-bottom","height","panleft","panright","panend","pancancel",4,"ngFor","ngForOf"],["mat-icon-button","","type","button","tabindex","-1","aria-label","Previous slide",3,"color","disabled","click",4,"ngIf"],["mat-icon-button","","type","button","tabindex","-1","aria-label","Next slide",3,"color","disabled","click",4,"ngIf"],["class","carousel-indicators","tabindex","-1",3,"flex-direction",4,"ngIf"],["role","option",1,"carousel-slide",3,"panleft","panright","panend","pancancel"],["carouselSlide",""],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],["mat-icon-button","","type","button","tabindex","-1","aria-label","Previous slide",3,"color","disabled","click"],[3,"svgIcon",4,"ngIf","ngIfElse"],["defaultArrowBack",""],[3,"svgIcon"],["mat-icon-button","","type","button","tabindex","-1","aria-label","Next slide",3,"color","disabled","click"],["defaultArrowForward",""],["tabindex","-1",1,"carousel-indicators"],["type","button","tabindex","-1","mat-mini-fab","",3,"color","disabled","click","focus",4,"ngFor","ngForOf"],["type","button","tabindex","-1","mat-mini-fab","",3,"color","disabled","click","focus"]],template:function(O,se){1&O&&(x.TgZ(0,"div",0,1)(2,"ul",2,3),x.YNc(4,et,3,5,"li",4),x.qZA(),x.YNc(5,xe,4,4,"button",5),x.YNc(6,Ye,4,4,"button",6),x.YNc(7,Ue,2,3,"div",7),x.qZA()),2&O&&(x.Udp("max-width",se.maxWidth)("height",se.maintainAspectRatio?"auto":"100%"),x.xp6(2),x.Udp("flex-direction","rtl"===se.orientation?"row-reverse":"row")("height",se.maintainAspectRatio?"auto":"100%"),x.uIk("aria-label",se.ariaLabel),x.xp6(2),x.Q6J("ngForOf",se.slidesList),x.xp6(1),x.Q6J("ngIf",!se.hideArrows),x.xp6(1),x.Q6J("ngIf",!se.hideArrows),x.xp6(1),x.Q6J("ngIf",!se.hideIndicators))},directives:[g.sg,g.O5,g.tP,He.lW,Se.Hw],styles:[".carousel[_ngcontent-%COMP%]{outline:none;overflow:hidden;position:relative;width:100%}.carousel[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:1}.carousel[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-of-type{left:30px}.carousel[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-of-type{right:30px}.carousel-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.carousel-list[_ngcontent-%COMP%], .carousel-slide[_ngcontent-%COMP%]{display:flex;position:relative;width:100%}.carousel-slide[_ngcontent-%COMP%]{flex-shrink:0;height:0}.carousel-slide[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}.carousel-indicators[_ngcontent-%COMP%]{bottom:15px;display:flex;left:50%;outline:none;position:absolute;transform:translateX(-50%);z-index:1}.carousel-indicators[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:10px;margin:7.5px;width:10px}"]}),ee})(),yt=(()=>{class ee extends le.hm{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return ee.\u0275fac=function(){let Fe;return function(se){return(Fe||(Fe=x.n5z(ee)))(se||ee)}}(),ee.\u0275prov=x.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),mt=(()=>{class ee{static forRoot(){return{ngModule:ee,providers:[{provide:le.ok,useClass:yt}]}}}return ee.\u0275fac=function(O){return new(O||ee)},ee.\u0275mod=x.oAB({type:ee}),ee.\u0275inj=x.cJS({imports:[[g.ez,He.ot,Se.Ps,le.t6]]}),ee})()},1135:(Gt,Ze,y)=>{y.d(Ze,{X:()=>E});var h=y(7579);class E extends h.x{constructor(x){super(),this._value=x}get value(){return this.getValue()}_subscribe(x){const we=super._subscribe(x);return!we.closed&&x.next(this._value),we}getValue(){const{hasError:x,thrownError:we,_value:be}=this;if(x)throw we;return this._throwIfClosed(),be}next(x){super.next(this._value=x)}}},8306:(Gt,Ze,y)=>{y.d(Ze,{y:()=>q});var h=y(930),E=y(727),g=y(8822),x=y(4671);var Me=y(2416),pe=y(576),ie=y(2806);let q=(()=>{class Se{constructor(it){it&&(this._subscribe=it)}lift(it){const Le=new Se;return Le.source=this,Le.operator=it,Le}subscribe(it,Le,rt){const Ne=function He(Se){return Se&&Se instanceof h.Lv||function le(Se){return Se&&(0,pe.m)(Se.next)&&(0,pe.m)(Se.error)&&(0,pe.m)(Se.complete)}(Se)&&(0,E.Nn)(Se)}(it)?it:new h.Hp(it,Le,rt);return(0,ie.x)(()=>{const{operator:Ot,source:et}=this;Ne.add(Ot?Ot.call(Ne,et):et?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe(it){try{return this._subscribe(it)}catch(Le){it.error(Le)}}forEach(it,Le){return new(Le=fe(Le))((rt,Ne)=>{const Ot=new h.Hp({next:et=>{try{it(et)}catch(Ee){Ne(Ee),Ot.unsubscribe()}},error:Ne,complete:rt});this.subscribe(Ot)})}_subscribe(it){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(it)}[g.L](){return this}pipe(...it){return function be(Se){return 0===Se.length?x.y:1===Se.length?Se[0]:function(it){return Se.reduce((Le,rt)=>rt(Le),it)}}(it)(this)}toPromise(it){return new(it=fe(it))((Le,rt)=>{let Ne;this.subscribe(Ot=>Ne=Ot,Ot=>rt(Ot),()=>Le(Ne))})}}return Se.create=$e=>new Se($e),Se})();function fe(Se){var $e;return null!==($e=null!=Se?Se:Me.v.Promise)&&void 0!==$e?$e:Promise}},7579:(Gt,Ze,y)=>{y.d(Ze,{x:()=>Me});var h=y(8306),E=y(727);const x=(0,y(3888).d)(ie=>function(){ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=y(8737),be=y(2806);let Me=(()=>{class ie extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const le=new pe(this,this);return le.operator=fe,le}_throwIfClosed(){if(this.closed)throw new x}next(fe){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const le of this.currentObservers)le.next(fe)}})}error(fe){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:le}=this;for(;le.length;)le.shift().error(fe)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:le,isStopped:He,observers:Se}=this;return le||He?E.Lc:(this.currentObservers=null,Se.push(fe),new E.w0(()=>{this.currentObservers=null,(0,we.P)(Se,fe)}))}_checkFinalizedStatuses(fe){const{hasError:le,thrownError:He,isStopped:Se}=this;le?fe.error(He):Se&&fe.complete()}asObservable(){const fe=new h.y;return fe.source=this,fe}}return ie.create=(q,fe)=>new pe(q,fe),ie})();class pe extends Me{constructor(q,fe){super(),this.destination=q,this.source=fe}next(q){var fe,le;null===(le=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===le||le.call(fe,q)}error(q){var fe,le;null===(le=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===le||le.call(fe,q)}complete(){var q,fe;null===(fe=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===fe||fe.call(q)}_subscribe(q){var fe,le;return null!==(le=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(q))&&void 0!==le?le:E.Lc}}},930:(Gt,Ze,y)=>{y.d(Ze,{Hp:()=>it,Lv:()=>le});var h=y(576),E=y(727),g=y(2416),x=y(7849),we=y(5032);const be=ie("C",void 0,void 0);function ie(et,Ee,_e){return{kind:et,value:Ee,error:_e}}var q=y(3410),fe=y(2806);class le extends E.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,E.Nn)(Ee)&&Ee.add(this)):this.destination=Ot}static create(Ee,_e,xe){return new it(Ee,_e,xe)}next(Ee){this.isStopped?Ne(function pe(et){return ie("N",et,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Ne(function Me(et){return ie("E",void 0,et)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ne(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Se(et,Ee){return He.call(et,Ee)}class $e{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:_e}=this;if(_e.next)try{_e.next(Ee)}catch(xe){Le(xe)}}error(Ee){const{partialObserver:_e}=this;if(_e.error)try{_e.error(Ee)}catch(xe){Le(xe)}else Le(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(_e){Le(_e)}}}class it extends le{constructor(Ee,_e,xe){let De;if(super(),(0,h.m)(Ee)||!Ee)De={next:null!=Ee?Ee:void 0,error:null!=_e?_e:void 0,complete:null!=xe?xe:void 0};else{let ne;this&&g.v.useDeprecatedNextContext?(ne=Object.create(Ee),ne.unsubscribe=()=>this.unsubscribe(),De={next:Ee.next&&Se(Ee.next,ne),error:Ee.error&&Se(Ee.error,ne),complete:Ee.complete&&Se(Ee.complete,ne)}):De=Ee}this.destination=new $e(De)}}function Le(et){g.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(et):(0,x.h)(et)}function Ne(et,Ee){const{onStoppedNotification:_e}=g.v;_e&&q.z.setTimeout(()=>_e(et,Ee))}const Ot={closed:!0,next:we.Z,error:function rt(et){throw et},complete:we.Z}},727:(Gt,Ze,y)=>{y.d(Ze,{Lc:()=>be,w0:()=>we,Nn:()=>Me});var h=y(576);const g=(0,y(3888).d)(ie=>function(fe){ie(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((le,He)=>`${He+1}) ${le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var x=y(8737);class we{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const Se of fe)Se.remove(this);else fe.remove(this);const{initialTeardown:le}=this;if((0,h.m)(le))try{le()}catch(Se){q=Se instanceof g?Se.errors:[Se]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Se of He)try{pe(Se)}catch($e){q=null!=q?q:[],$e instanceof g?q=[...q,...$e.errors]:q.push($e)}}if(q)throw new g(q)}}add(q){var fe;if(q&&q!==this)if(this.closed)pe(q);else{if(q instanceof we){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(q)}}_hasParent(q){const{_parentage:fe}=this;return fe===q||Array.isArray(fe)&&fe.includes(q)}_addParent(q){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(q),fe):fe?[fe,q]:q}_removeParent(q){const{_parentage:fe}=this;fe===q?this._parentage=null:Array.isArray(fe)&&(0,x.P)(fe,q)}remove(q){const{_finalizers:fe}=this;fe&&(0,x.P)(fe,q),q instanceof we&&q._removeParent(this)}}we.EMPTY=(()=>{const ie=new we;return ie.closed=!0,ie})();const be=we.EMPTY;function Me(ie){return ie instanceof we||ie&&"closed"in ie&&(0,h.m)(ie.remove)&&(0,h.m)(ie.add)&&(0,h.m)(ie.unsubscribe)}function pe(ie){(0,h.m)(ie)?ie():ie.unsubscribe()}},2416:(Gt,Ze,y)=>{y.d(Ze,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Gt,Ze,y)=>{y.d(Ze,{a:()=>q});var h=y(8306),E=y(4742),g=y(8996),x=y(4671),we=y(3268),be=y(3269),Me=y(1810),pe=y(5403),ie=y(9672);function q(...He){const Se=(0,be.yG)(He),$e=(0,be.jO)(He),{args:it,keys:Le}=(0,E.D)(He);if(0===it.length)return(0,g.D)([],Se);const rt=new h.y(function fe(He,Se,$e=x.y){return it=>{le(Se,()=>{const{length:Le}=He,rt=new Array(Le);let Ne=Le,Ot=Le;for(let et=0;et<Le;et++)le(Se,()=>{const Ee=(0,g.D)(He[et],Se);let _e=!1;Ee.subscribe((0,pe.x)(it,xe=>{rt[et]=xe,_e||(_e=!0,Ot--),Ot||it.next($e(rt.slice()))},()=>{--Ne||it.complete()}))},it)},it)}}(it,Se,Le?Ne=>(0,Me.n)(Le,Ne):x.y));return $e?rt.pipe((0,we.Z)($e)):rt}function le(He,Se,$e){He?(0,ie.f)($e,He,Se):Se()}},7272:(Gt,Ze,y)=>{y.d(Ze,{z:()=>we});var h=y(8189),g=y(3269),x=y(8996);function we(...be){return function E(){return(0,h.J)(1)}()((0,x.D)(be,(0,g.yG)(be)))}},9770:(Gt,Ze,y)=>{y.d(Ze,{P:()=>g});var h=y(8306),E=y(8421);function g(x){return new h.y(we=>{(0,E.Xf)(x()).subscribe(we)})}},515:(Gt,Ze,y)=>{y.d(Ze,{E:()=>E});const E=new(y(8306).y)(we=>we.complete())},4128:(Gt,Ze,y)=>{y.d(Ze,{D:()=>pe});var h=y(8306),E=y(4742),g=y(8421),x=y(3269),we=y(5403),be=y(3268),Me=y(1810);function pe(...ie){const q=(0,x.jO)(ie),{args:fe,keys:le}=(0,E.D)(ie),He=new h.y(Se=>{const{length:$e}=fe;if(!$e)return void Se.complete();const it=new Array($e);let Le=$e,rt=$e;for(let Ne=0;Ne<$e;Ne++){let Ot=!1;(0,g.Xf)(fe[Ne]).subscribe((0,we.x)(Se,et=>{Ot||(Ot=!0,rt--),it[Ne]=et},()=>Le--,void 0,()=>{(!Le||!Ot)&&(rt||Se.next(le?(0,Me.n)(le,it):it),Se.complete())}))}});return q?He.pipe((0,be.Z)(q)):He}},8996:(Gt,Ze,y)=>{y.d(Ze,{D:()=>Ee});var h=y(8421),E=y(5363),g=y(9468),be=y(8306),pe=y(2202),ie=y(576),q=y(9672);function le(_e,xe){if(!_e)throw new Error("Iterable cannot be null");return new be.y(De=>{(0,q.f)(De,xe,()=>{const ne=_e[Symbol.asyncIterator]();(0,q.f)(De,xe,()=>{ne.next().then(Ye=>{Ye.done?De.complete():De.next(Ye.value)})},0,!0)})})}var He=y(3670),Se=y(8239),$e=y(1144),it=y(6495),Le=y(2206),rt=y(4532),Ne=y(3260);function Ee(_e,xe){return xe?function et(_e,xe){if(null!=_e){if((0,He.c)(_e))return function x(_e,xe){return(0,h.Xf)(_e).pipe((0,g.R)(xe),(0,E.Q)(xe))}(_e,xe);if((0,$e.z)(_e))return function Me(_e,xe){return new be.y(De=>{let ne=0;return xe.schedule(function(){ne===_e.length?De.complete():(De.next(_e[ne++]),De.closed||this.schedule())})})}(_e,xe);if((0,Se.t)(_e))return function we(_e,xe){return(0,h.Xf)(_e).pipe((0,g.R)(xe),(0,E.Q)(xe))}(_e,xe);if((0,Le.D)(_e))return le(_e,xe);if((0,it.T)(_e))return function fe(_e,xe){return new be.y(De=>{let ne;return(0,q.f)(De,xe,()=>{ne=_e[pe.h](),(0,q.f)(De,xe,()=>{let Ye,ce;try{({value:Ye,done:ce}=ne.next())}catch(Ue){return void De.error(Ue)}ce?De.complete():De.next(Ye)},0,!0)}),()=>(0,ie.m)(null==ne?void 0:ne.return)&&ne.return()})}(_e,xe);if((0,Ne.L)(_e))return function Ot(_e,xe){return le((0,Ne.Q)(_e),xe)}(_e,xe)}throw(0,rt.z)(_e)}(_e,xe):(0,h.Xf)(_e)}},4968:(Gt,Ze,y)=>{y.d(Ze,{R:()=>q});var h=y(8421),E=y(8306),g=y(5577),x=y(1144),we=y(576),be=y(3268);const Me=["addListener","removeListener"],pe=["addEventListener","removeEventListener"],ie=["on","off"];function q($e,it,Le,rt){if((0,we.m)(Le)&&(rt=Le,Le=void 0),rt)return q($e,it,Le).pipe((0,be.Z)(rt));const[Ne,Ot]=function Se($e){return(0,we.m)($e.addEventListener)&&(0,we.m)($e.removeEventListener)}($e)?pe.map(et=>Ee=>$e[et](it,Ee,Le)):function le($e){return(0,we.m)($e.addListener)&&(0,we.m)($e.removeListener)}($e)?Me.map(fe($e,it)):function He($e){return(0,we.m)($e.on)&&(0,we.m)($e.off)}($e)?ie.map(fe($e,it)):[];if(!Ne&&(0,x.z)($e))return(0,g.z)(et=>q(et,it,Le))((0,h.Xf)($e));if(!Ne)throw new TypeError("Invalid event target");return new E.y(et=>{const Ee=(..._e)=>et.next(1<_e.length?_e:_e[0]);return Ne(Ee),()=>Ot(Ee)})}function fe($e,it){return Le=>rt=>$e[Le](it,rt)}},8421:(Gt,Ze,y)=>{y.d(Ze,{Xf:()=>He});var h=y(655),E=y(1144),g=y(8239),x=y(8306),we=y(3670),be=y(2206),Me=y(4532),pe=y(6495),ie=y(3260),q=y(576),fe=y(7849),le=y(8822);function He(et){if(et instanceof x.y)return et;if(null!=et){if((0,we.c)(et))return function Se(et){return new x.y(Ee=>{const _e=et[le.L]();if((0,q.m)(_e.subscribe))return _e.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(et);if((0,E.z)(et))return function $e(et){return new x.y(Ee=>{for(let _e=0;_e<et.length&&!Ee.closed;_e++)Ee.next(et[_e]);Ee.complete()})}(et);if((0,g.t)(et))return function it(et){return new x.y(Ee=>{et.then(_e=>{Ee.closed||(Ee.next(_e),Ee.complete())},_e=>Ee.error(_e)).then(null,fe.h)})}(et);if((0,be.D)(et))return rt(et);if((0,pe.T)(et))return function Le(et){return new x.y(Ee=>{for(const _e of et)if(Ee.next(_e),Ee.closed)return;Ee.complete()})}(et);if((0,ie.L)(et))return function Ne(et){return rt((0,ie.Q)(et))}(et)}throw(0,Me.z)(et)}function rt(et){return new x.y(Ee=>{(function Ot(et,Ee){var _e,xe,De,ne;return(0,h.mG)(this,void 0,void 0,function*(){try{for(_e=(0,h.KL)(et);!(xe=yield _e.next()).done;)if(Ee.next(xe.value),Ee.closed)return}catch(Ye){De={error:Ye}}finally{try{xe&&!xe.done&&(ne=_e.return)&&(yield ne.call(_e))}finally{if(De)throw De.error}}Ee.complete()})})(et,Ee).catch(_e=>Ee.error(_e))})}},6451:(Gt,Ze,y)=>{y.d(Ze,{T:()=>be});var h=y(8189),E=y(8421),g=y(515),x=y(3269),we=y(8996);function be(...Me){const pe=(0,x.yG)(Me),ie=(0,x._6)(Me,1/0),q=Me;return q.length?1===q.length?(0,E.Xf)(q[0]):(0,h.J)(ie)((0,we.D)(q,pe)):g.E}},9646:(Gt,Ze,y)=>{y.d(Ze,{of:()=>g});var h=y(3269),E=y(8996);function g(...x){const we=(0,h.yG)(x);return(0,E.D)(x,we)}},2843:(Gt,Ze,y)=>{y.d(Ze,{_:()=>g});var h=y(8306),E=y(576);function g(x,we){const be=(0,E.m)(x)?x:()=>x,Me=pe=>pe.error(be());return new h.y(we?pe=>we.schedule(Me,0,pe):Me)}},5963:(Gt,Ze,y)=>{y.d(Ze,{H:()=>we});var h=y(8306),E=y(4986),g=y(3532);function we(be=0,Me,pe=E.P){let ie=-1;return null!=Me&&((0,g.K)(Me)?pe=Me:ie=Me),new h.y(q=>{let fe=function x(be){return be instanceof Date&&!isNaN(be)}(be)?+be-pe.now():be;fe<0&&(fe=0);let le=0;return pe.schedule(function(){q.closed||(q.next(le++),0<=ie?this.schedule(void 0,ie):q.complete())},fe)})}},5403:(Gt,Ze,y)=>{y.d(Ze,{x:()=>E});var h=y(930);function E(x,we,be,Me,pe){return new g(x,we,be,Me,pe)}class g extends h.Lv{constructor(we,be,Me,pe,ie,q){super(we),this.onFinalize=ie,this.shouldUnsubscribe=q,this._next=be?function(fe){try{be(fe)}catch(le){we.error(le)}}:super._next,this._error=pe?function(fe){try{pe(fe)}catch(le){we.error(le)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(fe){we.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},262:(Gt,Ze,y)=>{y.d(Ze,{K:()=>x});var h=y(8421),E=y(5403),g=y(4482);function x(we){return(0,g.e)((be,Me)=>{let q,pe=null,ie=!1;pe=be.subscribe((0,E.x)(Me,void 0,void 0,fe=>{q=(0,h.Xf)(we(fe,x(we)(be))),pe?(pe.unsubscribe(),pe=null,q.subscribe(Me)):ie=!0})),ie&&(pe.unsubscribe(),pe=null,q.subscribe(Me))})}},4351:(Gt,Ze,y)=>{y.d(Ze,{b:()=>g});var h=y(5577),E=y(576);function g(x,we){return(0,E.m)(we)?(0,h.z)(x,we,1):(0,h.z)(x,1)}},8372:(Gt,Ze,y)=>{y.d(Ze,{b:()=>x});var h=y(4986),E=y(4482),g=y(5403);function x(we,be=h.z){return(0,E.e)((Me,pe)=>{let ie=null,q=null,fe=null;const le=()=>{if(ie){ie.unsubscribe(),ie=null;const Se=q;q=null,pe.next(Se)}};function He(){const Se=fe+we,$e=be.now();if($e<Se)return ie=this.schedule(void 0,Se-$e),void pe.add(ie);le()}Me.subscribe((0,g.x)(pe,Se=>{q=Se,fe=be.now(),ie||(ie=be.schedule(He,we),pe.add(ie))},()=>{le(),pe.complete()},void 0,()=>{q=ie=null}))})}},6590:(Gt,Ze,y)=>{y.d(Ze,{d:()=>g});var h=y(4482),E=y(5403);function g(x){return(0,h.e)((we,be)=>{let Me=!1;we.subscribe((0,E.x)(be,pe=>{Me=!0,be.next(pe)},()=>{Me||be.next(x),be.complete()}))})}},1884:(Gt,Ze,y)=>{y.d(Ze,{x:()=>x});var h=y(4671),E=y(4482),g=y(5403);function x(be,Me=h.y){return be=null!=be?be:we,(0,E.e)((pe,ie)=>{let q,fe=!0;pe.subscribe((0,g.x)(ie,le=>{const He=Me(le);(fe||!be(q,He))&&(fe=!1,q=He,ie.next(le))}))})}function we(be,Me){return be===Me}},9300:(Gt,Ze,y)=>{y.d(Ze,{h:()=>g});var h=y(4482),E=y(5403);function g(x,we){return(0,h.e)((be,Me)=>{let pe=0;be.subscribe((0,E.x)(Me,ie=>x.call(we,ie,pe++)&&Me.next(ie)))})}},8746:(Gt,Ze,y)=>{y.d(Ze,{x:()=>E});var h=y(4482);function E(g){return(0,h.e)((x,we)=>{try{x.subscribe(we)}finally{we.add(g)}})}},590:(Gt,Ze,y)=>{y.d(Ze,{P:()=>Me});var h=y(6805),E=y(9300),g=y(5698),x=y(6590),we=y(8068),be=y(4671);function Me(pe,ie){const q=arguments.length>=2;return fe=>fe.pipe(pe?(0,E.h)((le,He)=>pe(le,He,fe)):be.y,(0,g.q)(1),q?(0,x.d)(ie):(0,we.T)(()=>new h.K))}},4004:(Gt,Ze,y)=>{y.d(Ze,{U:()=>g});var h=y(4482),E=y(5403);function g(x,we){return(0,h.e)((be,Me)=>{let pe=0;be.subscribe((0,E.x)(Me,ie=>{Me.next(x.call(we,ie,pe++))}))})}},8189:(Gt,Ze,y)=>{y.d(Ze,{J:()=>g});var h=y(5577),E=y(4671);function g(x=1/0){return(0,h.z)(E.y,x)}},5577:(Gt,Ze,y)=>{y.d(Ze,{z:()=>pe});var h=y(4004),E=y(8421),g=y(4482),x=y(9672),we=y(5403),Me=y(576);function pe(ie,q,fe=1/0){return(0,Me.m)(q)?pe((le,He)=>(0,h.U)((Se,$e)=>q(le,Se,He,$e))((0,E.Xf)(ie(le,He))),fe):("number"==typeof q&&(fe=q),(0,g.e)((le,He)=>function be(ie,q,fe,le,He,Se,$e,it){const Le=[];let rt=0,Ne=0,Ot=!1;const et=()=>{Ot&&!Le.length&&!rt&&q.complete()},Ee=xe=>rt<le?_e(xe):Le.push(xe),_e=xe=>{Se&&q.next(xe),rt++;let De=!1;(0,E.Xf)(fe(xe,Ne++)).subscribe((0,we.x)(q,ne=>{null==He||He(ne),Se?Ee(ne):q.next(ne)},()=>{De=!0},void 0,()=>{if(De)try{for(rt--;Le.length&&rt<le;){const ne=Le.shift();$e?(0,x.f)(q,$e,()=>_e(ne)):_e(ne)}et()}catch(ne){q.error(ne)}}))};return ie.subscribe((0,we.x)(q,Ee,()=>{Ot=!0,et()})),()=>{null==it||it()}}(le,He,ie,fe)))}},5363:(Gt,Ze,y)=>{y.d(Ze,{Q:()=>x});var h=y(9672),E=y(4482),g=y(5403);function x(we,be=0){return(0,E.e)((Me,pe)=>{Me.subscribe((0,g.x)(pe,ie=>(0,h.f)(pe,we,()=>pe.next(ie),be),()=>(0,h.f)(pe,we,()=>pe.complete(),be),ie=>(0,h.f)(pe,we,()=>pe.error(ie),be)))})}},5026:(Gt,Ze,y)=>{y.d(Ze,{R:()=>x});var h=y(4482),E=y(5403);function g(we,be,Me,pe,ie){return(q,fe)=>{let le=Me,He=be,Se=0;q.subscribe((0,E.x)(fe,$e=>{const it=Se++;He=le?we(He,$e,it):(le=!0,$e),pe&&fe.next(He)},ie&&(()=>{le&&fe.next(He),fe.complete()})))}}function x(we,be){return(0,h.e)(g(we,be,arguments.length>=2,!0))}},3099:(Gt,Ze,y)=>{y.d(Ze,{B:()=>we});var h=y(8421),E=y(7579),g=y(930),x=y(4482);function we(Me={}){const{connector:pe=(()=>new E.x),resetOnError:ie=!0,resetOnComplete:q=!0,resetOnRefCountZero:fe=!0}=Me;return le=>{let He,Se,$e,it=0,Le=!1,rt=!1;const Ne=()=>{null==Se||Se.unsubscribe(),Se=void 0},Ot=()=>{Ne(),He=$e=void 0,Le=rt=!1},et=()=>{const Ee=He;Ot(),null==Ee||Ee.unsubscribe()};return(0,x.e)((Ee,_e)=>{it++,!rt&&!Le&&Ne();const xe=$e=null!=$e?$e:pe();_e.add(()=>{it--,0===it&&!rt&&!Le&&(Se=be(et,fe))}),xe.subscribe(_e),!He&&it>0&&(He=new g.Hp({next:De=>xe.next(De),error:De=>{rt=!0,Ne(),Se=be(Ot,ie,De),xe.error(De)},complete:()=>{Le=!0,Ne(),Se=be(Ot,q),xe.complete()}}),(0,h.Xf)(Ee).subscribe(He))})(le)}}function be(Me,pe,...ie){if(!0===pe)return void Me();if(!1===pe)return;const q=new g.Hp({next:()=>{q.unsubscribe(),Me()}});return pe(...ie).subscribe(q)}},3151:(Gt,Ze,y)=>{y.d(Ze,{d:()=>we});var h=y(7579),E=y(6063);class g extends h.x{constructor(Me=1/0,pe=1/0,ie=E.l){super(),this._bufferSize=Me,this._windowTime=pe,this._timestampProvider=ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=pe===1/0,this._bufferSize=Math.max(1,Me),this._windowTime=Math.max(1,pe)}next(Me){const{isStopped:pe,_buffer:ie,_infiniteTimeWindow:q,_timestampProvider:fe,_windowTime:le}=this;pe||(ie.push(Me),!q&&ie.push(fe.now()+le)),this._trimBuffer(),super.next(Me)}_subscribe(Me){this._throwIfClosed(),this._trimBuffer();const pe=this._innerSubscribe(Me),{_infiniteTimeWindow:ie,_buffer:q}=this,fe=q.slice();for(let le=0;le<fe.length&&!Me.closed;le+=ie?1:2)Me.next(fe[le]);return this._checkFinalizedStatuses(Me),pe}_trimBuffer(){const{_bufferSize:Me,_timestampProvider:pe,_buffer:ie,_infiniteTimeWindow:q}=this,fe=(q?1:2)*Me;if(Me<1/0&&fe<ie.length&&ie.splice(0,ie.length-fe),!q){const le=pe.now();let He=0;for(let Se=1;Se<ie.length&&ie[Se]<=le;Se+=2)He=Se;He&&ie.splice(0,He+1)}}}var x=y(3099);function we(be,Me,pe){let ie,q=!1;return be&&"object"==typeof be?({bufferSize:ie=1/0,windowTime:Me=1/0,refCount:q=!1,scheduler:pe}=be):ie=null!=be?be:1/0,(0,x.B)({connector:()=>new g(ie,Me,pe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:q})}},5684:(Gt,Ze,y)=>{y.d(Ze,{T:()=>E});var h=y(9300);function E(g){return(0,h.h)((x,we)=>g<=we)}},8675:(Gt,Ze,y)=>{y.d(Ze,{O:()=>x});var h=y(7272),E=y(3269),g=y(4482);function x(...we){const be=(0,E.yG)(we);return(0,g.e)((Me,pe)=>{(be?(0,h.z)(we,Me,be):(0,h.z)(we,Me)).subscribe(pe)})}},9468:(Gt,Ze,y)=>{y.d(Ze,{R:()=>E});var h=y(4482);function E(g,x=0){return(0,h.e)((we,be)=>{be.add(g.schedule(()=>we.subscribe(be),x))})}},3900:(Gt,Ze,y)=>{y.d(Ze,{w:()=>x});var h=y(8421),E=y(4482),g=y(5403);function x(we,be){return(0,E.e)((Me,pe)=>{let ie=null,q=0,fe=!1;const le=()=>fe&&!ie&&pe.complete();Me.subscribe((0,g.x)(pe,He=>{null==ie||ie.unsubscribe();let Se=0;const $e=q++;(0,h.Xf)(we(He,$e)).subscribe(ie=(0,g.x)(pe,it=>pe.next(be?be(He,it,$e,Se++):it),()=>{ie=null,le()}))},()=>{fe=!0,le()}))})}},5698:(Gt,Ze,y)=>{y.d(Ze,{q:()=>x});var h=y(515),E=y(4482),g=y(5403);function x(we){return we<=0?()=>h.E:(0,E.e)((be,Me)=>{let pe=0;be.subscribe((0,g.x)(Me,ie=>{++pe<=we&&(Me.next(ie),we<=pe&&Me.complete())}))})}},2722:(Gt,Ze,y)=>{y.d(Ze,{R:()=>we});var h=y(4482),E=y(5403),g=y(8421),x=y(5032);function we(be){return(0,h.e)((Me,pe)=>{(0,g.Xf)(be).subscribe((0,E.x)(pe,()=>pe.complete(),x.Z)),!pe.closed&&Me.subscribe(pe)})}},8505:(Gt,Ze,y)=>{y.d(Ze,{b:()=>we});var h=y(576),E=y(4482),g=y(5403),x=y(4671);function we(be,Me,pe){const ie=(0,h.m)(be)||Me||pe?{next:be,error:Me,complete:pe}:be;return ie?(0,E.e)((q,fe)=>{var le;null===(le=ie.subscribe)||void 0===le||le.call(ie);let He=!0;q.subscribe((0,g.x)(fe,Se=>{var $e;null===($e=ie.next)||void 0===$e||$e.call(ie,Se),fe.next(Se)},()=>{var Se;He=!1,null===(Se=ie.complete)||void 0===Se||Se.call(ie),fe.complete()},Se=>{var $e;He=!1,null===($e=ie.error)||void 0===$e||$e.call(ie,Se),fe.error(Se)},()=>{var Se,$e;He&&(null===(Se=ie.unsubscribe)||void 0===Se||Se.call(ie)),null===($e=ie.finalize)||void 0===$e||$e.call(ie)}))}):x.y}},8068:(Gt,Ze,y)=>{y.d(Ze,{T:()=>x});var h=y(6805),E=y(4482),g=y(5403);function x(be=we){return(0,E.e)((Me,pe)=>{let ie=!1;Me.subscribe((0,g.x)(pe,q=>{ie=!0,pe.next(q)},()=>ie?pe.complete():pe.error(be())))})}function we(){return new h.K}},4408:(Gt,Ze,y)=>{y.d(Ze,{o:()=>we});var h=y(727);class E extends h.w0{constructor(Me,pe){super()}schedule(Me,pe=0){return this}}const g={setInterval(be,Me,...pe){const{delegate:ie}=g;return(null==ie?void 0:ie.setInterval)?ie.setInterval(be,Me,...pe):setInterval(be,Me,...pe)},clearInterval(be){const{delegate:Me}=g;return((null==Me?void 0:Me.clearInterval)||clearInterval)(be)},delegate:void 0};var x=y(8737);class we extends E{constructor(Me,pe){super(Me,pe),this.scheduler=Me,this.work=pe,this.pending=!1}schedule(Me,pe=0){if(this.closed)return this;this.state=Me;const ie=this.id,q=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(q,ie,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(q,this.id,pe),this}requestAsyncId(Me,pe,ie=0){return g.setInterval(Me.flush.bind(Me,this),ie)}recycleAsyncId(Me,pe,ie=0){if(null!=ie&&this.delay===ie&&!1===this.pending)return pe;g.clearInterval(pe)}execute(Me,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(Me,pe);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,pe){let q,ie=!1;try{this.work(Me)}catch(fe){ie=!0,q=fe||new Error("Scheduled action threw falsy error")}if(ie)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:Me,scheduler:pe}=this,{actions:ie}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,x.P)(ie,this),null!=Me&&(this.id=this.recycleAsyncId(pe,Me,null)),this.delay=null,super.unsubscribe()}}}},7565:(Gt,Ze,y)=>{y.d(Ze,{v:()=>g});var h=y(6063);class E{constructor(we,be=E.now){this.schedulerActionCtor=we,this.now=be}schedule(we,be=0,Me){return new this.schedulerActionCtor(this,we).schedule(Me,be)}}E.now=h.l.now;class g extends E{constructor(we,be=E.now){super(we,be),this.actions=[],this._active=!1,this._scheduled=void 0}flush(we){const{actions:be}=this;if(this._active)return void be.push(we);let Me;this._active=!0;do{if(Me=we.execute(we.state,we.delay))break}while(we=be.shift());if(this._active=!1,Me){for(;we=be.shift();)we.unsubscribe();throw Me}}}},4986:(Gt,Ze,y)=>{y.d(Ze,{z:()=>g,P:()=>x});var h=y(4408);const g=new(y(7565).v)(h.o),x=g},6063:(Gt,Ze,y)=>{y.d(Ze,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Gt,Ze,y)=>{y.d(Ze,{z:()=>h});const h={setTimeout(E,g,...x){const{delegate:we}=h;return(null==we?void 0:we.setTimeout)?we.setTimeout(E,g,...x):setTimeout(E,g,...x)},clearTimeout(E){const{delegate:g}=h;return((null==g?void 0:g.clearTimeout)||clearTimeout)(E)},delegate:void 0}},2202:(Gt,Ze,y)=>{y.d(Ze,{h:()=>E});const E=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Gt,Ze,y)=>{y.d(Ze,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Gt,Ze,y)=>{y.d(Ze,{K:()=>E});const E=(0,y(3888).d)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Gt,Ze,y)=>{y.d(Ze,{jO:()=>x,yG:()=>we,_6:()=>be});var h=y(576),E=y(3532);function g(Me){return Me[Me.length-1]}function x(Me){return(0,h.m)(g(Me))?Me.pop():void 0}function we(Me){return(0,E.K)(g(Me))?Me.pop():void 0}function be(Me,pe){return"number"==typeof g(Me)?Me.pop():pe}},4742:(Gt,Ze,y)=>{y.d(Ze,{D:()=>we});const{isArray:h}=Array,{getPrototypeOf:E,prototype:g,keys:x}=Object;function we(Me){if(1===Me.length){const pe=Me[0];if(h(pe))return{args:pe,keys:null};if(function be(Me){return Me&&"object"==typeof Me&&E(Me)===g}(pe)){const ie=x(pe);return{args:ie.map(q=>pe[q]),keys:ie}}}return{args:Me,keys:null}}},8737:(Gt,Ze,y)=>{function h(E,g){if(E){const x=E.indexOf(g);0<=x&&E.splice(x,1)}}y.d(Ze,{P:()=>h})},3888:(Gt,Ze,y)=>{function h(E){const x=E(we=>{Error.call(we),we.stack=(new Error).stack});return x.prototype=Object.create(Error.prototype),x.prototype.constructor=x,x}y.d(Ze,{d:()=>h})},1810:(Gt,Ze,y)=>{function h(E,g){return E.reduce((x,we,be)=>(x[we]=g[be],x),{})}y.d(Ze,{n:()=>h})},2806:(Gt,Ze,y)=>{y.d(Ze,{x:()=>g,O:()=>x});var h=y(2416);let E=null;function g(we){if(h.v.useDeprecatedSynchronousErrorHandling){const be=!E;if(be&&(E={errorThrown:!1,error:null}),we(),be){const{errorThrown:Me,error:pe}=E;if(E=null,Me)throw pe}}else we()}function x(we){h.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=we)}},9672:(Gt,Ze,y)=>{function h(E,g,x,we=0,be=!1){const Me=g.schedule(function(){x(),be?E.add(this.schedule(null,we)):this.unsubscribe()},we);if(E.add(Me),!be)return Me}y.d(Ze,{f:()=>h})},4671:(Gt,Ze,y)=>{function h(E){return E}y.d(Ze,{y:()=>h})},1144:(Gt,Ze,y)=>{y.d(Ze,{z:()=>h});const h=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(Gt,Ze,y)=>{y.d(Ze,{D:()=>E});var h=y(576);function E(g){return Symbol.asyncIterator&&(0,h.m)(null==g?void 0:g[Symbol.asyncIterator])}},576:(Gt,Ze,y)=>{function h(E){return"function"==typeof E}y.d(Ze,{m:()=>h})},3670:(Gt,Ze,y)=>{y.d(Ze,{c:()=>g});var h=y(8822),E=y(576);function g(x){return(0,E.m)(x[h.L])}},6495:(Gt,Ze,y)=>{y.d(Ze,{T:()=>g});var h=y(2202),E=y(576);function g(x){return(0,E.m)(null==x?void 0:x[h.h])}},8239:(Gt,Ze,y)=>{y.d(Ze,{t:()=>E});var h=y(576);function E(g){return(0,h.m)(null==g?void 0:g.then)}},3260:(Gt,Ze,y)=>{y.d(Ze,{Q:()=>g,L:()=>x});var h=y(655),E=y(576);function g(we){return(0,h.FC)(this,arguments,function*(){const Me=we.getReader();try{for(;;){const{value:pe,done:ie}=yield(0,h.qq)(Me.read());if(ie)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(pe)}}finally{Me.releaseLock()}})}function x(we){return(0,E.m)(null==we?void 0:we.getReader)}},3532:(Gt,Ze,y)=>{y.d(Ze,{K:()=>E});var h=y(576);function E(g){return g&&(0,h.m)(g.schedule)}},4482:(Gt,Ze,y)=>{y.d(Ze,{A:()=>E,e:()=>g});var h=y(576);function E(x){return(0,h.m)(null==x?void 0:x.lift)}function g(x){return we=>{if(E(we))return we.lift(function(be){try{return x(be,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Gt,Ze,y)=>{y.d(Ze,{Z:()=>x});var h=y(4004);const{isArray:E}=Array;function x(we){return(0,h.U)(be=>function g(we,be){return E(be)?we(...be):we(be)}(we,be))}},5032:(Gt,Ze,y)=>{function h(){}y.d(Ze,{Z:()=>h})},7849:(Gt,Ze,y)=>{y.d(Ze,{h:()=>g});var h=y(2416),E=y(3410);function g(x){E.z.setTimeout(()=>{const{onUnhandledError:we}=h.v;if(!we)throw x;we(x)})}},4532:(Gt,Ze,y)=>{function h(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}y.d(Ze,{z:()=>h})},655:(Gt,Ze,y)=>{function x(ce,Ue){var oe={};for(var Oe in ce)Object.prototype.hasOwnProperty.call(ce,Oe)&&Ue.indexOf(Oe)<0&&(oe[Oe]=ce[Oe]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(Oe=Object.getOwnPropertySymbols(ce);ze<Oe.length;ze++)Ue.indexOf(Oe[ze])<0&&Object.prototype.propertyIsEnumerable.call(ce,Oe[ze])&&(oe[Oe[ze]]=ce[Oe[ze]])}return oe}function pe(ce,Ue,oe,Oe){return new(oe||(oe=Promise))(function(yt,mt){function gt(ee){try{Qe(Oe.next(ee))}catch(Fe){mt(Fe)}}function Ae(ee){try{Qe(Oe.throw(ee))}catch(Fe){mt(Fe)}}function Qe(ee){ee.done?yt(ee.value):function ze(yt){return yt instanceof oe?yt:new oe(function(mt){mt(yt)})}(ee.value).then(gt,Ae)}Qe((Oe=Oe.apply(ce,Ue||[])).next())})}function Le(ce){return this instanceof Le?(this.v=ce,this):new Le(ce)}function rt(ce,Ue,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,Oe=oe.apply(ce,Ue||[]),yt=[];return ze={},mt("next"),mt("throw"),mt("return"),ze[Symbol.asyncIterator]=function(){return this},ze;function mt(O){Oe[O]&&(ze[O]=function(se){return new Promise(function(ft,ot){yt.push([O,se,ft,ot])>1||gt(O,se)})})}function gt(O,se){try{!function Ae(O){O.value instanceof Le?Promise.resolve(O.value.v).then(Qe,ee):Fe(yt[0][2],O)}(Oe[O](se))}catch(ft){Fe(yt[0][3],ft)}}function Qe(O){gt("next",O)}function ee(O){gt("throw",O)}function Fe(O,se){O(se),yt.shift(),yt.length&&gt(yt[0][0],yt[0][1])}}function Ot(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,Ue=ce[Symbol.asyncIterator];return Ue?Ue.call(ce):(ce=function le(ce){var Ue="function"==typeof Symbol&&Symbol.iterator,oe=Ue&&ce[Ue],Oe=0;if(oe)return oe.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Oe>=ce.length&&(ce=void 0),{value:ce&&ce[Oe++],done:!ce}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),oe={},Oe("next"),Oe("throw"),Oe("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function Oe(yt){oe[yt]=ce[yt]&&function(mt){return new Promise(function(gt,Ae){!function ze(yt,mt,gt,Ae){Promise.resolve(Ae).then(function(Qe){yt({value:Qe,done:gt})},mt)}(gt,Ae,(mt=ce[yt](mt)).done,mt.value)})}}}y.d(Ze,{_T:()=>x,mG:()=>pe,qq:()=>Le,FC:()=>rt,KL:()=>Ot})},1777:(Gt,Ze,y)=>{y.d(Ze,{l3:()=>g,_j:()=>h,LC:()=>E,ZN:()=>rt,jt:()=>we,pV:()=>He,ru:()=>be,F4:()=>q,IO:()=>$e,vP:()=>Me,SB:()=>ie,oB:()=>pe,eR:()=>fe,X$:()=>x,ZE:()=>Ne,k1:()=>Ot});class h{}class E{}const g="*";function x(et,Ee){return{type:7,name:et,definitions:Ee,options:{}}}function we(et,Ee=null){return{type:4,styles:Ee,timings:et}}function be(et,Ee=null){return{type:3,steps:et,options:Ee}}function Me(et,Ee=null){return{type:2,steps:et,options:Ee}}function pe(et){return{type:6,styles:et,offset:null}}function ie(et,Ee,_e){return{type:0,name:et,styles:Ee,options:_e}}function q(et){return{type:5,steps:et}}function fe(et,Ee,_e=null){return{type:1,expr:et,animation:Ee,options:_e}}function He(et=null){return{type:9,options:et}}function $e(et,Ee,_e=null){return{type:11,selector:et,animation:Ee,options:_e}}function Le(et){Promise.resolve(null).then(et)}class rt{constructor(Ee=0,_e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ee+_e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}onStart(Ee){this._onStartFns.push(Ee)}onDone(Ee){this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Ee){this._position=this.totalTime?Ee*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ee){const _e="start"==Ee?this._onStartFns:this._onDoneFns;_e.forEach(xe=>xe()),_e.length=0}}class Ne{constructor(Ee){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ee;let _e=0,xe=0,De=0;const ne=this.players.length;0==ne?Le(()=>this._onFinish()):this.players.forEach(Ye=>{Ye.onDone(()=>{++_e==ne&&this._onFinish()}),Ye.onDestroy(()=>{++xe==ne&&this._onDestroy()}),Ye.onStart(()=>{++De==ne&&this._onStart()})}),this.totalTime=this.players.reduce((Ye,ce)=>Math.max(Ye,ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}init(){this.players.forEach(Ee=>Ee.init())}onStart(Ee){this._onStartFns.push(Ee)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[])}onDone(Ee){this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ee=>Ee.play())}pause(){this.players.forEach(Ee=>Ee.pause())}restart(){this.players.forEach(Ee=>Ee.restart())}finish(){this._onFinish(),this.players.forEach(Ee=>Ee.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ee=>Ee.destroy()),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this.players.forEach(Ee=>Ee.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ee){const _e=Ee*this.totalTime;this.players.forEach(xe=>{const De=xe.totalTime?Math.min(1,_e/xe.totalTime):1;xe.setPosition(De)})}getPosition(){const Ee=this.players.reduce((_e,xe)=>null===_e||xe.totalTime>_e.totalTime?xe:_e,null);return null!=Ee?Ee.getPosition():0}beforeDestroy(){this.players.forEach(Ee=>{Ee.beforeDestroy&&Ee.beforeDestroy()})}triggerCallback(Ee){const _e="start"==Ee?this._onStartFns:this._onDoneFns;_e.forEach(xe=>xe()),_e.length=0}}const Ot="!"},5664:(Gt,Ze,y)=>{y.d(Ze,{rt:()=>ge,s1:()=>Oe,$s:()=>Ye,Em:()=>ze,tE:()=>yi,qV:()=>We,qm:()=>qe,ic:()=>mt,cS:()=>oe,Kd:()=>Zt,X6:()=>ln,yG:()=>dt});var h=y(9808),E=y(5e3),g=y(925),x=y(7579),we=y(727),be=y(1135),Me=y(9646),pe=y(1159),ie=y(8505),q=y(8372),fe=y(9300),le=y(4004),He=y(5698),Se=y(5684),$e=y(1884),it=y(2722),Le=y(3191),rt=y(7144);function Ee(j,N){return(j.getAttribute(N)||"").match(/\S+/g)||[]}const xe="cdk-describedby-message",De="cdk-describedby-host";let ne=0,Ye=(()=>{class j{constructor(k,ye){this._platform=ye,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ne++,this._document=k}describe(k,ye,ke){if(!this._canBeDescribed(k,ye))return;const It=ce(ye,ke);"string"!=typeof ye?(Ue(ye),this._messageRegistry.set(It,{messageElement:ye,referenceCount:0})):this._messageRegistry.has(It)||this._createMessageElement(ye,ke),this._isElementDescribedByMessage(k,It)||this._addMessageReference(k,It)}removeDescription(k,ye,ke){var It;if(!ye||!this._isElementNode(k))return;const fn=ce(ye,ke);if(this._isElementDescribedByMessage(k,fn)&&this._removeMessageReference(k,fn),"string"==typeof ye){const Cn=this._messageRegistry.get(fn);Cn&&0===Cn.referenceCount&&this._deleteMessageElement(fn)}0===(null===(It=this._messagesContainer)||void 0===It?void 0:It.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var k;const ye=this._document.querySelectorAll(`[${De}="${this._id}"]`);for(let ke=0;ke<ye.length;ke++)this._removeCdkDescribedByReferenceIds(ye[ke]),ye[ke].removeAttribute(De);null===(k=this._messagesContainer)||void 0===k||k.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(k,ye){const ke=this._document.createElement("div");Ue(ke),ke.textContent=k,ye&&ke.setAttribute("role",ye),this._createMessagesContainer(),this._messagesContainer.appendChild(ke),this._messageRegistry.set(ce(k,ye),{messageElement:ke,referenceCount:0})}_deleteMessageElement(k){var ye,ke;null===(ke=null===(ye=this._messageRegistry.get(k))||void 0===ye?void 0:ye.messageElement)||void 0===ke||ke.remove(),this._messageRegistry.delete(k)}_createMessagesContainer(){if(this._messagesContainer)return;const k="cdk-describedby-message-container",ye=this._document.querySelectorAll(`.${k}[platform="server"]`);for(let It=0;It<ye.length;It++)ye[It].remove();const ke=this._document.createElement("div");ke.style.visibility="hidden",ke.classList.add(k),ke.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&ke.setAttribute("platform","server"),this._document.body.appendChild(ke),this._messagesContainer=ke}_removeCdkDescribedByReferenceIds(k){const ye=Ee(k,"aria-describedby").filter(ke=>0!=ke.indexOf(xe));k.setAttribute("aria-describedby",ye.join(" "))}_addMessageReference(k,ye){const ke=this._messageRegistry.get(ye);(function Ot(j,N,k){const ye=Ee(j,N);ye.some(ke=>ke.trim()==k.trim())||(ye.push(k.trim()),j.setAttribute(N,ye.join(" ")))})(k,"aria-describedby",ke.messageElement.id),k.setAttribute(De,this._id),ke.referenceCount++}_removeMessageReference(k,ye){const ke=this._messageRegistry.get(ye);ke.referenceCount--,function et(j,N,k){const ke=Ee(j,N).filter(It=>It!=k.trim());ke.length?j.setAttribute(N,ke.join(" ")):j.removeAttribute(N)}(k,"aria-describedby",ke.messageElement.id),k.removeAttribute(De)}_isElementDescribedByMessage(k,ye){const ke=Ee(k,"aria-describedby"),It=this._messageRegistry.get(ye),fn=It&&It.messageElement.id;return!!fn&&-1!=ke.indexOf(fn)}_canBeDescribed(k,ye){if(!this._isElementNode(k))return!1;if(ye&&"object"==typeof ye)return!0;const ke=null==ye?"":`${ye}`.trim(),It=k.getAttribute("aria-label");return!(!ke||It&&It.trim()===ke)}_isElementNode(k){return k.nodeType===this._document.ELEMENT_NODE}}return j.\u0275fac=function(k){return new(k||j)(E.LFG(h.K0),E.LFG(g.t4))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();function ce(j,N){return"string"==typeof j?`${N||""}/${j}`:j}function Ue(j){j.id||(j.id=`${xe}-${ne++}`)}class oe{constructor(N){this._items=N,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new x.x,this._typeaheadSubscription=we.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=k=>k.disabled,this._pressedLetters=[],this.tabOut=new x.x,this.change=new x.x,N instanceof E.n_E&&N.changes.subscribe(k=>{if(this._activeItem){const ke=k.toArray().indexOf(this._activeItem);ke>-1&&ke!==this._activeItemIndex&&(this._activeItemIndex=ke)}})}skipPredicate(N){return this._skipPredicateFn=N,this}withWrap(N=!0){return this._wrap=N,this}withVerticalOrientation(N=!0){return this._vertical=N,this}withHorizontalOrientation(N){return this._horizontal=N,this}withAllowedModifierKeys(N){return this._allowedModifierKeys=N,this}withTypeAhead(N=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ie.b)(k=>this._pressedLetters.push(k)),(0,q.b)(N),(0,fe.h)(()=>this._pressedLetters.length>0),(0,le.U)(()=>this._pressedLetters.join(""))).subscribe(k=>{const ye=this._getItemsArray();for(let ke=1;ke<ye.length+1;ke++){const It=(this._activeItemIndex+ke)%ye.length,fn=ye[It];if(!this._skipPredicateFn(fn)&&0===fn.getLabel().toUpperCase().trim().indexOf(k)){this.setActiveItem(It);break}}this._pressedLetters=[]}),this}withHomeAndEnd(N=!0){return this._homeAndEnd=N,this}setActiveItem(N){const k=this._activeItem;this.updateActiveItem(N),this._activeItem!==k&&this.change.next(this._activeItemIndex)}onKeydown(N){const k=N.keyCode,ke=["altKey","ctrlKey","metaKey","shiftKey"].every(It=>!N[It]||this._allowedModifierKeys.indexOf(It)>-1);switch(k){case pe.Mf:return void this.tabOut.next();case pe.JH:if(this._vertical&&ke){this.setNextItemActive();break}return;case pe.LH:if(this._vertical&&ke){this.setPreviousItemActive();break}return;case pe.SV:if(this._horizontal&&ke){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case pe.oh:if(this._horizontal&&ke){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case pe.Sd:if(this._homeAndEnd&&ke){this.setFirstItemActive();break}return;case pe.uR:if(this._homeAndEnd&&ke){this.setLastItemActive();break}return;default:return void((ke||(0,pe.Vb)(N,"shiftKey"))&&(N.key&&1===N.key.length?this._letterKeyStream.next(N.key.toLocaleUpperCase()):(k>=pe.A&&k<=pe.Z||k>=pe.xE&&k<=pe.aO)&&this._letterKeyStream.next(String.fromCharCode(k))))}this._pressedLetters=[],N.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(N){const k=this._getItemsArray(),ye="number"==typeof N?N:k.indexOf(N),ke=k[ye];this._activeItem=null==ke?null:ke,this._activeItemIndex=ye}_setActiveItemByDelta(N){this._wrap?this._setActiveInWrapMode(N):this._setActiveInDefaultMode(N)}_setActiveInWrapMode(N){const k=this._getItemsArray();for(let ye=1;ye<=k.length;ye++){const ke=(this._activeItemIndex+N*ye+k.length)%k.length;if(!this._skipPredicateFn(k[ke]))return void this.setActiveItem(ke)}}_setActiveInDefaultMode(N){this._setActiveItemByIndex(this._activeItemIndex+N,N)}_setActiveItemByIndex(N,k){const ye=this._getItemsArray();if(ye[N]){for(;this._skipPredicateFn(ye[N]);)if(!ye[N+=k])return;this.setActiveItem(N)}}_getItemsArray(){return this._items instanceof E.n_E?this._items.toArray():this._items}}class Oe extends oe{setActiveItem(N){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(N),this.activeItem&&this.activeItem.setActiveStyles()}}class ze extends oe{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(N){return this._origin=N,this}setActiveItem(N){super.setActiveItem(N),this.activeItem&&this.activeItem.focus(this._origin)}}let mt=(()=>{class j{constructor(k){this._platform=k}isDisabled(k){return k.hasAttribute("disabled")}isVisible(k){return function Ae(j){return!!(j.offsetWidth||j.offsetHeight||"function"==typeof j.getClientRects&&j.getClientRects().length)}(k)&&"visible"===getComputedStyle(k).visibility}isTabbable(k){if(!this._platform.isBrowser)return!1;const ye=function gt(j){try{return j.frameElement}catch(N){return null}}(function vt(j){return j.ownerDocument&&j.ownerDocument.defaultView||window}(k));if(ye&&(-1===ot(ye)||!this.isVisible(ye)))return!1;let ke=k.nodeName.toLowerCase(),It=ot(k);return k.hasAttribute("contenteditable")?-1!==It:!("iframe"===ke||"object"===ke||this._platform.WEBKIT&&this._platform.IOS&&!function Dt(j){let N=j.nodeName.toLowerCase(),k="input"===N&&j.type;return"text"===k||"password"===k||"select"===N||"textarea"===N}(k))&&("audio"===ke?!!k.hasAttribute("controls")&&-1!==It:"video"===ke?-1!==It&&(null!==It||this._platform.FIREFOX||k.hasAttribute("controls")):k.tabIndex>=0)}isFocusable(k,ye){return function Ct(j){return!function ee(j){return function O(j){return"input"==j.nodeName.toLowerCase()}(j)&&"hidden"==j.type}(j)&&(function Qe(j){let N=j.nodeName.toLowerCase();return"input"===N||"select"===N||"button"===N||"textarea"===N}(j)||function Fe(j){return function se(j){return"a"==j.nodeName.toLowerCase()}(j)&&j.hasAttribute("href")}(j)||j.hasAttribute("contenteditable")||ft(j))}(k)&&!this.isDisabled(k)&&((null==ye?void 0:ye.ignoreVisibility)||this.isVisible(k))}}return j.\u0275fac=function(k){return new(k||j)(E.LFG(g.t4))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();function ft(j){if(!j.hasAttribute("tabindex")||void 0===j.tabIndex)return!1;let N=j.getAttribute("tabindex");return!(!N||isNaN(parseInt(N,10)))}function ot(j){if(!ft(j))return null;const N=parseInt(j.getAttribute("tabindex")||"",10);return isNaN(N)?-1:N}class Bt{constructor(N,k,ye,ke,It=!1){this._element=N,this._checker=k,this._ngZone=ye,this._document=ke,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,It||this.attachAnchors()}get enabled(){return this._enabled}set enabled(N){this._enabled=N,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(N,this._startAnchor),this._toggleAnchorTabIndex(N,this._endAnchor))}destroy(){const N=this._startAnchor,k=this._endAnchor;N&&(N.removeEventListener("focus",this.startAnchorListener),N.remove()),k&&(k.removeEventListener("focus",this.endAnchorListener),k.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(N){return new Promise(k=>{this._executeOnStable(()=>k(this.focusInitialElement(N)))})}focusFirstTabbableElementWhenReady(N){return new Promise(k=>{this._executeOnStable(()=>k(this.focusFirstTabbableElement(N)))})}focusLastTabbableElementWhenReady(N){return new Promise(k=>{this._executeOnStable(()=>k(this.focusLastTabbableElement(N)))})}_getRegionBoundary(N){const k=this._element.querySelectorAll(`[cdk-focus-region-${N}], [cdkFocusRegion${N}], [cdk-focus-${N}]`);return"start"==N?k.length?k[0]:this._getFirstTabbableElement(this._element):k.length?k[k.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(N){const k=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(k){if(!this._checker.isFocusable(k)){const ye=this._getFirstTabbableElement(k);return null==ye||ye.focus(N),!!ye}return k.focus(N),!0}return this.focusFirstTabbableElement(N)}focusFirstTabbableElement(N){const k=this._getRegionBoundary("start");return k&&k.focus(N),!!k}focusLastTabbableElement(N){const k=this._getRegionBoundary("end");return k&&k.focus(N),!!k}hasAttached(){return this._hasAttached}_getFirstTabbableElement(N){if(this._checker.isFocusable(N)&&this._checker.isTabbable(N))return N;const k=N.children;for(let ye=0;ye<k.length;ye++){const ke=k[ye].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(k[ye]):null;if(ke)return ke}return null}_getLastTabbableElement(N){if(this._checker.isFocusable(N)&&this._checker.isTabbable(N))return N;const k=N.children;for(let ye=k.length-1;ye>=0;ye--){const ke=k[ye].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(k[ye]):null;if(ke)return ke}return null}_createAnchor(){const N=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,N),N.classList.add("cdk-visually-hidden"),N.classList.add("cdk-focus-trap-anchor"),N.setAttribute("aria-hidden","true"),N}_toggleAnchorTabIndex(N,k){N?k.setAttribute("tabindex","0"):k.removeAttribute("tabindex")}toggleAnchors(N){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(N,this._startAnchor),this._toggleAnchorTabIndex(N,this._endAnchor))}_executeOnStable(N){this._ngZone.isStable?N():this._ngZone.onStable.pipe((0,He.q)(1)).subscribe(N)}}let We=(()=>{class j{constructor(k,ye,ke){this._checker=k,this._ngZone=ye,this._document=ke}create(k,ye=!1){return new Bt(k,this._checker,this._ngZone,this._document,ye)}}return j.\u0275fac=function(k){return new(k||j)(E.LFG(mt),E.LFG(E.R0b),E.LFG(h.K0))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();function ln(j){return 0===j.buttons||0===j.offsetX&&0===j.offsetY}function dt(j){const N=j.touches&&j.touches[0]||j.changedTouches&&j.changedTouches[0];return!(!N||-1!==N.identifier||null!=N.radiusX&&1!==N.radiusX||null!=N.radiusY&&1!==N.radiusY)}const R=new E.OlP("cdk-input-modality-detector-options"),z={ignoreKeys:[pe.zL,pe.jx,pe.b2,pe.MW,pe.JU]},Z=(0,g.i$)({passive:!0,capture:!0});let Pe=(()=>{class j{constructor(k,ye,ke,It){this._platform=k,this._mostRecentTarget=null,this._modality=new be.X(null),this._lastTouchMs=0,this._onKeydown=fn=>{var Cn,Qn;(null===(Qn=null===(Cn=this._options)||void 0===Cn?void 0:Cn.ignoreKeys)||void 0===Qn?void 0:Qn.some(vn=>vn===fn.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,g.sA)(fn))},this._onMousedown=fn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ln(fn)?"keyboard":"mouse"),this._mostRecentTarget=(0,g.sA)(fn))},this._onTouchstart=fn=>{dt(fn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,g.sA)(fn))},this._options=Object.assign(Object.assign({},z),It),this.modalityDetected=this._modality.pipe((0,Se.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,$e.x)()),k.isBrowser&&ye.runOutsideAngular(()=>{ke.addEventListener("keydown",this._onKeydown,Z),ke.addEventListener("mousedown",this._onMousedown,Z),ke.addEventListener("touchstart",this._onTouchstart,Z)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Z),document.removeEventListener("mousedown",this._onMousedown,Z),document.removeEventListener("touchstart",this._onTouchstart,Z))}}return j.\u0275fac=function(k){return new(k||j)(E.LFG(g.t4),E.LFG(E.R0b),E.LFG(h.K0),E.LFG(R,8))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();const Xe=new E.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Et(){return null}}),kt=new E.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Zt=(()=>{class j{constructor(k,ye,ke,It){this._ngZone=ye,this._defaultOptions=It,this._document=ke,this._liveElement=k||this._createLiveElement()}announce(k,...ye){const ke=this._defaultOptions;let It,fn;return 1===ye.length&&"number"==typeof ye[0]?fn=ye[0]:[It,fn]=ye,this.clear(),clearTimeout(this._previousTimeout),It||(It=ke&&ke.politeness?ke.politeness:"polite"),null==fn&&ke&&(fn=ke.duration),this._liveElement.setAttribute("aria-live",It),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Cn=>this._currentResolve=Cn)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=k,"number"==typeof fn&&(this._previousTimeout=setTimeout(()=>this.clear(),fn)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var k,ye;clearTimeout(this._previousTimeout),null===(k=this._liveElement)||void 0===k||k.remove(),this._liveElement=null,null===(ye=this._currentResolve)||void 0===ye||ye.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const k="cdk-live-announcer-element",ye=this._document.getElementsByClassName(k),ke=this._document.createElement("div");for(let It=0;It<ye.length;It++)ye[It].remove();return ke.classList.add(k),ke.classList.add("cdk-visually-hidden"),ke.setAttribute("aria-atomic","true"),ke.setAttribute("aria-live","polite"),this._document.body.appendChild(ke),ke}}return j.\u0275fac=function(k){return new(k||j)(E.LFG(Xe,8),E.LFG(E.R0b),E.LFG(h.K0),E.LFG(kt,8))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();const sn=new E.OlP("cdk-focus-monitor-default-options"),mn=(0,g.i$)({passive:!0,capture:!0});let yi=(()=>{class j{constructor(k,ye,ke,It,fn){this._ngZone=k,this._platform=ye,this._inputModalityDetector=ke,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new x.x,this._rootNodeFocusAndBlurListener=Cn=>{const Qn=(0,g.sA)(Cn),vn="focus"===Cn.type?this._onFocus:this._onBlur;for(let ai=Qn;ai;ai=ai.parentElement)vn.call(this,Cn,ai)},this._document=It,this._detectionMode=(null==fn?void 0:fn.detectionMode)||0}monitor(k,ye=!1){const ke=(0,Le.fI)(k);if(!this._platform.isBrowser||1!==ke.nodeType)return(0,Me.of)(null);const It=(0,g.kV)(ke)||this._getDocument(),fn=this._elementInfo.get(ke);if(fn)return ye&&(fn.checkChildren=!0),fn.subject;const Cn={checkChildren:ye,subject:new x.x,rootNode:It};return this._elementInfo.set(ke,Cn),this._registerGlobalListeners(Cn),Cn.subject}stopMonitoring(k){const ye=(0,Le.fI)(k),ke=this._elementInfo.get(ye);ke&&(ke.subject.complete(),this._setClasses(ye),this._elementInfo.delete(ye),this._removeGlobalListeners(ke))}focusVia(k,ye,ke){const It=(0,Le.fI)(k);It===this._getDocument().activeElement?this._getClosestElementsInfo(It).forEach(([Cn,Qn])=>this._originChanged(Cn,ye,Qn)):(this._setOrigin(ye),"function"==typeof It.focus&&It.focus(ke))}ngOnDestroy(){this._elementInfo.forEach((k,ye)=>this.stopMonitoring(ye))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(k){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(k)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(k){return 1===this._detectionMode||!!(null==k?void 0:k.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(k,ye){k.classList.toggle("cdk-focused",!!ye),k.classList.toggle("cdk-touch-focused","touch"===ye),k.classList.toggle("cdk-keyboard-focused","keyboard"===ye),k.classList.toggle("cdk-mouse-focused","mouse"===ye),k.classList.toggle("cdk-program-focused","program"===ye)}_setOrigin(k,ye=!1){this._ngZone.runOutsideAngular(()=>{this._origin=k,this._originFromTouchInteraction="touch"===k&&ye,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(k,ye){const ke=this._elementInfo.get(ye),It=(0,g.sA)(k);!ke||!ke.checkChildren&&ye!==It||this._originChanged(ye,this._getFocusOrigin(It),ke)}_onBlur(k,ye){const ke=this._elementInfo.get(ye);!ke||ke.checkChildren&&k.relatedTarget instanceof Node&&ye.contains(k.relatedTarget)||(this._setClasses(ye),this._emitOrigin(ke.subject,null))}_emitOrigin(k,ye){this._ngZone.run(()=>k.next(ye))}_registerGlobalListeners(k){if(!this._platform.isBrowser)return;const ye=k.rootNode,ke=this._rootNodeFocusListenerCount.get(ye)||0;ke||this._ngZone.runOutsideAngular(()=>{ye.addEventListener("focus",this._rootNodeFocusAndBlurListener,mn),ye.addEventListener("blur",this._rootNodeFocusAndBlurListener,mn)}),this._rootNodeFocusListenerCount.set(ye,ke+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,it.R)(this._stopInputModalityDetector)).subscribe(It=>{this._setOrigin(It,!0)}))}_removeGlobalListeners(k){const ye=k.rootNode;if(this._rootNodeFocusListenerCount.has(ye)){const ke=this._rootNodeFocusListenerCount.get(ye);ke>1?this._rootNodeFocusListenerCount.set(ye,ke-1):(ye.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mn),ye.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mn),this._rootNodeFocusListenerCount.delete(ye))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(k,ye,ke){this._setClasses(k,ye),this._emitOrigin(ke.subject,ye),this._lastFocusOrigin=ye}_getClosestElementsInfo(k){const ye=[];return this._elementInfo.forEach((ke,It)=>{(It===k||ke.checkChildren&&It.contains(k))&&ye.push([It,ke])}),ye}}return j.\u0275fac=function(k){return new(k||j)(E.LFG(E.R0b),E.LFG(g.t4),E.LFG(Pe),E.LFG(h.K0,8),E.LFG(sn,8))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();const ti="cdk-high-contrast-black-on-white",on="cdk-high-contrast-white-on-black",Si="cdk-high-contrast-active";let qe=(()=>{class j{constructor(k,ye){this._platform=k,this._document=ye}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const k=this._document.createElement("div");k.style.backgroundColor="rgb(1,2,3)",k.style.position="absolute",this._document.body.appendChild(k);const ye=this._document.defaultView||window,ke=ye&&ye.getComputedStyle?ye.getComputedStyle(k):null,It=(ke&&ke.backgroundColor||"").replace(/ /g,"");switch(k.remove(),It){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const k=this._document.body.classList;k.remove(Si),k.remove(ti),k.remove(on),this._hasCheckedHighContrastMode=!0;const ye=this.getHighContrastMode();1===ye?(k.add(Si),k.add(ti)):2===ye&&(k.add(Si),k.add(on))}}}return j.\u0275fac=function(k){return new(k||j)(E.LFG(g.t4),E.LFG(h.K0))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})(),ge=(()=>{class j{constructor(k){k._applyBodyHighContrastModeCssClasses()}}return j.\u0275fac=function(k){return new(k||j)(E.LFG(qe))},j.\u0275mod=E.oAB({type:j}),j.\u0275inj=E.cJS({imports:[[rt.Q8]]}),j})()},226:(Gt,Ze,y)=>{y.d(Ze,{vT:()=>ie,Is:()=>Me});var h=y(5e3),E=y(9808);const g=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function x(){return(0,h.f3M)(E.K0)}}),we=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Me=(()=>{class q{constructor(le){if(this.value="ltr",this.change=new h.vpe,le){const Se=le.documentElement?le.documentElement.dir:null;this.value=function be(q){const fe=(null==q?void 0:q.toLowerCase())||"";return"auto"===fe&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?we.test(navigator.language)?"rtl":"ltr":"rtl"===fe?"rtl":"ltr"}((le.body?le.body.dir:null)||Se||"ltr")}}ngOnDestroy(){this.change.complete()}}return q.\u0275fac=function(le){return new(le||q)(h.LFG(g,8))},q.\u0275prov=h.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),ie=(()=>{class q{}return q.\u0275fac=function(le){return new(le||q)},q.\u0275mod=h.oAB({type:q}),q.\u0275inj=h.cJS({}),q})()},9287:(Gt,Ze,y)=>{y.d(Ze,{i3:()=>be,Iq:()=>Me});var h=y(9808),E=y(5e3);class g{constructor(ie,q){this._document=q;const fe=this._textarea=this._document.createElement("textarea"),le=fe.style;le.position="fixed",le.top=le.opacity="0",le.left="-999em",fe.setAttribute("aria-hidden","true"),fe.value=ie,this._document.body.appendChild(fe)}copy(){const ie=this._textarea;let q=!1;try{if(ie){const fe=this._document.activeElement;ie.select(),ie.setSelectionRange(0,ie.value.length),q=this._document.execCommand("copy"),fe&&fe.focus()}}catch(fe){}return q}destroy(){const ie=this._textarea;ie&&(ie.remove(),this._textarea=void 0)}}let x=(()=>{class pe{constructor(q){this._document=q}copy(q){const fe=this.beginCopy(q),le=fe.copy();return fe.destroy(),le}beginCopy(q){return new g(q,this._document)}}return pe.\u0275fac=function(q){return new(q||pe)(E.LFG(h.K0))},pe.\u0275prov=E.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const we=new E.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let be=(()=>{class pe{constructor(q,fe,le){this._clipboard=q,this._ngZone=fe,this.text="",this.attempts=1,this.copied=new E.vpe,this._pending=new Set,le&&null!=le.attempts&&(this.attempts=le.attempts)}copy(q=this.attempts){if(q>1){let fe=q;const le=this._clipboard.beginCopy(this.text);this._pending.add(le);const He=()=>{const Se=le.copy();Se||!--fe||this._destroyed?(this._currentTimeout=null,this._pending.delete(le),le.destroy(),this.copied.emit(Se)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(He,1))};He()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(q=>q.destroy()),this._pending.clear(),this._destroyed=!0}}return pe.\u0275fac=function(q){return new(q||pe)(E.Y36(x),E.Y36(E.R0b),E.Y36(we,8))},pe.\u0275dir=E.lG2({type:pe,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(q,fe){1&q&&E.NdJ("click",function(){return fe.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),pe})(),Me=(()=>{class pe{}return pe.\u0275fac=function(q){return new(q||pe)},pe.\u0275mod=E.oAB({type:pe}),pe.\u0275inj=E.cJS({}),pe})()},3191:(Gt,Ze,y)=>{y.d(Ze,{Eq:()=>we,Ig:()=>E,HM:()=>be,fI:()=>Me,su:()=>g});var h=y(5e3);function E(ie){return null!=ie&&"false"!=`${ie}`}function g(ie,q=0){return function x(ie){return!isNaN(parseFloat(ie))&&!isNaN(Number(ie))}(ie)?Number(ie):q}function we(ie){return Array.isArray(ie)?ie:[ie]}function be(ie){return null==ie?"":"string"==typeof ie?ie:`${ie}px`}function Me(ie){return ie instanceof h.SBq?ie.nativeElement:ie}},449:(Gt,Ze,y)=>{y.d(Ze,{o2:()=>g,Ov:()=>pe,Z9:()=>x});var h=y(7579);y(5e3);class g{}function x(le){return le&&"function"==typeof le.connect}class pe{constructor(He=!1,Se,$e=!0){this._multiple=He,this._emitChanges=$e,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new h.x,Se&&Se.length&&(He?Se.forEach(it=>this._markSelected(it)):this._markSelected(Se[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...He){this._verifyValueAssignment(He),He.forEach(Se=>this._markSelected(Se)),this._emitChangeEvent()}deselect(...He){this._verifyValueAssignment(He),He.forEach(Se=>this._unmarkSelected(Se)),this._emitChangeEvent()}toggle(He){this.isSelected(He)?this.deselect(He):this.select(He)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(He){return this._selection.has(He)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(He){this._multiple&&this.selected&&this._selected.sort(He)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(He){this.isSelected(He)||(this._multiple||this._unmarkAll(),this._selection.add(He),this._emitChanges&&this._selectedToEmit.push(He))}_unmarkSelected(He){this.isSelected(He)&&(this._selection.delete(He),this._emitChanges&&this._deselectedToEmit.push(He))}_unmarkAll(){this.isEmpty()||this._selection.forEach(He=>this._unmarkSelected(He))}_verifyValueAssignment(He){}}},1159:(Gt,Ze,y)=>{y.d(Ze,{A:()=>Fe,zL:()=>pe,ZH:()=>E,jx:()=>Me,yY:()=>xe,JH:()=>Ot,uR:()=>$e,K5:()=>we,hY:()=>fe,Sd:()=>it,oh:()=>Le,b2:()=>Fr,MW:()=>Zt,aO:()=>mt,SV:()=>Ne,JU:()=>be,L_:()=>le,Mf:()=>g,LH:()=>rt,Z:()=>kt,xE:()=>De,Vb:()=>dr});const E=8,g=9,we=13,be=16,Me=17,pe=18,fe=27,le=32,$e=35,it=36,Le=37,rt=38,Ne=39,Ot=40,xe=46,De=48,mt=57,Fe=65,kt=90,Zt=91,Fr=224;function dr(di,...Lr){return Lr.length?Lr.some(ys=>di[ys]):di.altKey||di.shiftKey||di.ctrlKey||di.metaKey}},5113:(Gt,Ze,y)=>{y.d(Ze,{Yg:()=>Ot,u3:()=>Ee});var h=y(5e3),E=y(3191),g=y(7579),x=y(9841),we=y(7272),be=y(8306),Me=y(5698),pe=y(5684),ie=y(8372),q=y(4004),fe=y(8675),le=y(2722),He=y(925);const $e=new Set;let it,Le=(()=>{class _e{constructor(De){this._platform=De,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ne}matchMedia(De){return(this._platform.WEBKIT||this._platform.BLINK)&&function rt(_e){if(!$e.has(_e))try{it||(it=document.createElement("style"),it.setAttribute("type","text/css"),document.head.appendChild(it)),it.sheet&&(it.sheet.insertRule(`@media ${_e} {body{ }}`,0),$e.add(_e))}catch(xe){console.error(xe)}}(De),this._matchMedia(De)}}return _e.\u0275fac=function(De){return new(De||_e)(h.LFG(He.t4))},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();function Ne(_e){return{matches:"all"===_e||""===_e,media:_e,addListener:()=>{},removeListener:()=>{}}}let Ot=(()=>{class _e{constructor(De,ne){this._mediaMatcher=De,this._zone=ne,this._queries=new Map,this._destroySubject=new g.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(De){return et((0,E.Eq)(De)).some(Ye=>this._registerQuery(Ye).mql.matches)}observe(De){const Ye=et((0,E.Eq)(De)).map(Ue=>this._registerQuery(Ue).observable);let ce=(0,x.a)(Ye);return ce=(0,we.z)(ce.pipe((0,Me.q)(1)),ce.pipe((0,pe.T)(1),(0,ie.b)(0))),ce.pipe((0,q.U)(Ue=>{const oe={matches:!1,breakpoints:{}};return Ue.forEach(({matches:Oe,query:ze})=>{oe.matches=oe.matches||Oe,oe.breakpoints[ze]=Oe}),oe}))}_registerQuery(De){if(this._queries.has(De))return this._queries.get(De);const ne=this._mediaMatcher.matchMedia(De),ce={observable:new be.y(Ue=>{const oe=Oe=>this._zone.run(()=>Ue.next(Oe));return ne.addListener(oe),()=>{ne.removeListener(oe)}}).pipe((0,fe.O)(ne),(0,q.U)(({matches:Ue})=>({query:De,matches:Ue})),(0,le.R)(this._destroySubject)),mql:ne};return this._queries.set(De,ce),ce}}return _e.\u0275fac=function(De){return new(De||_e)(h.LFG(Le),h.LFG(h.R0b))},_e.\u0275prov=h.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();function et(_e){return _e.map(xe=>xe.split(",")).reduce((xe,De)=>xe.concat(De)).map(xe=>xe.trim())}const Ee={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7144:(Gt,Ze,y)=>{y.d(Ze,{wD:()=>pe,Q8:()=>ie});var h=y(3191),E=y(5e3),g=y(8306),x=y(7579),we=y(8372);let be=(()=>{class q{create(le){return"undefined"==typeof MutationObserver?null:new MutationObserver(le)}}return q.\u0275fac=function(le){return new(le||q)},q.\u0275prov=E.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),Me=(()=>{class q{constructor(le){this._mutationObserverFactory=le,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((le,He)=>this._cleanupObserver(He))}observe(le){const He=(0,h.fI)(le);return new g.y(Se=>{const it=this._observeElement(He).subscribe(Se);return()=>{it.unsubscribe(),this._unobserveElement(He)}})}_observeElement(le){if(this._observedElements.has(le))this._observedElements.get(le).count++;else{const He=new x.x,Se=this._mutationObserverFactory.create($e=>He.next($e));Se&&Se.observe(le,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(le,{observer:Se,stream:He,count:1})}return this._observedElements.get(le).stream}_unobserveElement(le){this._observedElements.has(le)&&(this._observedElements.get(le).count--,this._observedElements.get(le).count||this._cleanupObserver(le))}_cleanupObserver(le){if(this._observedElements.has(le)){const{observer:He,stream:Se}=this._observedElements.get(le);He&&He.disconnect(),Se.complete(),this._observedElements.delete(le)}}}return q.\u0275fac=function(le){return new(le||q)(E.LFG(be))},q.\u0275prov=E.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),pe=(()=>{class q{constructor(le,He,Se){this._contentObserver=le,this._elementRef=He,this._ngZone=Se,this.event=new E.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(le){this._disabled=(0,h.Ig)(le),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(le){this._debounce=(0,h.su)(le),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const le=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?le.pipe((0,we.b)(this.debounce)):le).subscribe(this.event)})}_unsubscribe(){var le;null===(le=this._currentSubscription)||void 0===le||le.unsubscribe()}}return q.\u0275fac=function(le){return new(le||q)(E.Y36(Me),E.Y36(E.SBq),E.Y36(E.R0b))},q.\u0275dir=E.lG2({type:q,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),q})(),ie=(()=>{class q{}return q.\u0275fac=function(le){return new(le||q)},q.\u0275mod=E.oAB({type:q}),q.\u0275inj=E.cJS({providers:[be]}),q})()},9776:(Gt,Ze,y)=>{y.d(Ze,{pI:()=>Rn,xu:()=>rn,aV:()=>Bt,X_:()=>ne,Xj:()=>yt,U8:()=>gn});var h=y(8962),E=y(9808),g=y(5e3),x=y(3191),we=y(925),be=y(226),Me=y(7429),pe=y(7579),ie=y(727),q=y(6451),fe=y(4482),le=y(5403),Se=y(5698),$e=y(2722),it=y(1159);const Le=(0,we.Mq)();class rt{constructor(R,z){this._viewportRuler=R,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=z}attach(){}enable(){if(this._canBeEnabled()){const R=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=R.style.left||"",this._previousHTMLStyles.top=R.style.top||"",R.style.left=(0,x.HM)(-this._previousScrollPosition.left),R.style.top=(0,x.HM)(-this._previousScrollPosition.top),R.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const R=this._document.documentElement,K=R.style,Z=this._document.body.style,Pe=K.scrollBehavior||"",Xe=Z.scrollBehavior||"";this._isEnabled=!1,K.left=this._previousHTMLStyles.left,K.top=this._previousHTMLStyles.top,R.classList.remove("cdk-global-scrollblock"),Le&&(K.scrollBehavior=Z.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Le&&(K.scrollBehavior=Pe,Z.scrollBehavior=Xe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const z=this._document.body,K=this._viewportRuler.getViewportSize();return z.scrollHeight>K.height||z.scrollWidth>K.width}}class Ot{constructor(R,z,K,Z){this._scrollDispatcher=R,this._ngZone=z,this._viewportRuler=K,this._config=Z,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(R){this._overlayRef=R}enable(){if(this._scrollSubscription)return;const R=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=R.subscribe(()=>{const z=this._viewportRuler.getViewportScrollPosition().top;Math.abs(z-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=R.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class et{enable(){}disable(){}attach(){}}function Ee(dt,R){return R.some(z=>dt.bottom<z.top||dt.top>z.bottom||dt.right<z.left||dt.left>z.right)}function _e(dt,R){return R.some(z=>dt.top<z.top||dt.bottom>z.bottom||dt.left<z.left||dt.right>z.right)}class xe{constructor(R,z,K,Z){this._scrollDispatcher=R,this._viewportRuler=z,this._ngZone=K,this._config=Z,this._scrollSubscription=null}attach(R){this._overlayRef=R}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const z=this._overlayRef.overlayElement.getBoundingClientRect(),{width:K,height:Z}=this._viewportRuler.getViewportSize();Ee(z,[{width:K,height:Z,bottom:Z,right:K,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let De=(()=>{class dt{constructor(z,K,Z,Pe){this._scrollDispatcher=z,this._viewportRuler=K,this._ngZone=Z,this.noop=()=>new et,this.close=Xe=>new Ot(this._scrollDispatcher,this._ngZone,this._viewportRuler,Xe),this.block=()=>new rt(this._viewportRuler,this._document),this.reposition=Xe=>new xe(this._scrollDispatcher,this._viewportRuler,this._ngZone,Xe),this._document=Pe}}return dt.\u0275fac=function(z){return new(z||dt)(g.LFG(h.mF),g.LFG(h.rL),g.LFG(g.R0b),g.LFG(E.K0))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})();class ne{constructor(R){if(this.scrollStrategy=new et,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,R){const z=Object.keys(R);for(const K of z)void 0!==R[K]&&(this[K]=R[K])}}}class Ue{constructor(R,z){this.connectionPair=R,this.scrollableViewProperties=z}}class ze{constructor(R,z,K,Z,Pe,Xe,Et,kt,Zt){this._portalOutlet=R,this._host=z,this._pane=K,this._config=Z,this._ngZone=Pe,this._keyboardDispatcher=Xe,this._document=Et,this._location=kt,this._outsideClickDispatcher=Zt,this._backdropElement=null,this._backdropClick=new pe.x,this._attachments=new pe.x,this._detachments=new pe.x,this._locationChanges=ie.w0.EMPTY,this._backdropClickHandler=an=>this._backdropClick.next(an),this._backdropTransitionendHandler=an=>{this._disposeBackdrop(an.target)},this._keydownEvents=new pe.x,this._outsidePointerEvents=new pe.x,Z.scrollStrategy&&(this._scrollStrategy=Z.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Z.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(R){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const z=this._portalOutlet.attach(R);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Se.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),z}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const R=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),R}dispose(){var R;const z=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(R=this._host)||void 0===R||R.remove(),this._previousHostParent=this._pane=this._host=null,z&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(R){R!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=R,this.hasAttached()&&(R.attach(this),this.updatePosition()))}updateSize(R){this._config=Object.assign(Object.assign({},this._config),R),this._updateElementSize()}setDirection(R){this._config=Object.assign(Object.assign({},this._config),{direction:R}),this._updateElementDirection()}addPanelClass(R){this._pane&&this._toggleClasses(this._pane,R,!0)}removePanelClass(R){this._pane&&this._toggleClasses(this._pane,R,!1)}getDirection(){const R=this._config.direction;return R?"string"==typeof R?R:R.value:"ltr"}updateScrollStrategy(R){R!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=R,this.hasAttached()&&(R.attach(this),R.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const R=this._pane.style;R.width=(0,x.HM)(this._config.width),R.height=(0,x.HM)(this._config.height),R.minWidth=(0,x.HM)(this._config.minWidth),R.minHeight=(0,x.HM)(this._config.minHeight),R.maxWidth=(0,x.HM)(this._config.maxWidth),R.maxHeight=(0,x.HM)(this._config.maxHeight)}_togglePointerEvents(R){this._pane.style.pointerEvents=R?"":"none"}_attachBackdrop(){const R="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(R)})}):this._backdropElement.classList.add(R)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const R=this._backdropElement;!R||(R.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{R.addEventListener("transitionend",this._backdropTransitionendHandler)}),R.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(R)},500)))}_toggleClasses(R,z,K){const Z=(0,x.Eq)(z||[]).filter(Pe=>!!Pe);Z.length&&(K?R.classList.add(...Z):R.classList.remove(...Z))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const R=this._ngZone.onStable.pipe((0,$e.R)((0,q.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),R.unsubscribe())})})}_disposeScrollStrategy(){const R=this._scrollStrategy;R&&(R.disable(),R.detach&&R.detach())}_disposeBackdrop(R){R&&(R.removeEventListener("click",this._backdropClickHandler),R.removeEventListener("transitionend",this._backdropTransitionendHandler),R.remove(),this._backdropElement===R&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let yt=(()=>{class dt{constructor(z,K){this._platform=K,this._document=z}ngOnDestroy(){var z;null===(z=this._containerElement)||void 0===z||z.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const z="cdk-overlay-container";if(this._platform.isBrowser||(0,we.Oy)()){const Z=this._document.querySelectorAll(`.${z}[platform="server"], .${z}[platform="test"]`);for(let Pe=0;Pe<Z.length;Pe++)Z[Pe].remove()}const K=this._document.createElement("div");K.classList.add(z),(0,we.Oy)()?K.setAttribute("platform","test"):this._platform.isBrowser||K.setAttribute("platform","server"),this._document.body.appendChild(K),this._containerElement=K}}return dt.\u0275fac=function(z){return new(z||dt)(g.LFG(E.K0),g.LFG(we.t4))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})();const mt="cdk-overlay-connected-position-bounding-box",gt=/([A-Za-z%]+)$/;class Ae{constructor(R,z,K,Z,Pe){this._viewportRuler=z,this._document=K,this._platform=Z,this._overlayContainer=Pe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pe.x,this._resizeSubscription=ie.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(R)}get positions(){return this._preferredPositions}attach(R){this._validatePositions(),R.hostElement.classList.add(mt),this._overlayRef=R,this._boundingBox=R.hostElement,this._pane=R.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const R=this._originRect,z=this._overlayRect,K=this._viewportRect,Z=this._containerRect,Pe=[];let Xe;for(let Et of this._preferredPositions){let kt=this._getOriginPoint(R,Z,Et),Zt=this._getOverlayPoint(kt,z,Et),an=this._getOverlayFit(Zt,z,K,Et);if(an.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Et,kt);this._canFitWithFlexibleDimensions(an,Zt,K)?Pe.push({position:Et,origin:kt,overlayRect:z,boundingBoxRect:this._calculateBoundingBoxRect(kt,Et)}):(!Xe||Xe.overlayFit.visibleArea<an.visibleArea)&&(Xe={overlayFit:an,overlayPoint:Zt,originPoint:kt,position:Et,overlayRect:z})}if(Pe.length){let Et=null,kt=-1;for(const Zt of Pe){const an=Zt.boundingBoxRect.width*Zt.boundingBoxRect.height*(Zt.position.weight||1);an>kt&&(kt=an,Et=Zt)}return this._isPushed=!1,void this._applyPosition(Et.position,Et.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Xe.position,Xe.originPoint);this._applyPosition(Xe.position,Xe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(mt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const R=this._lastPosition;if(R){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const z=this._getOriginPoint(this._originRect,this._containerRect,R);this._applyPosition(R,z)}else this.apply()}withScrollableContainers(R){return this._scrollables=R,this}withPositions(R){return this._preferredPositions=R,-1===R.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(R){return this._viewportMargin=R,this}withFlexibleDimensions(R=!0){return this._hasFlexibleDimensions=R,this}withGrowAfterOpen(R=!0){return this._growAfterOpen=R,this}withPush(R=!0){return this._canPush=R,this}withLockedPosition(R=!0){return this._positionLocked=R,this}setOrigin(R){return this._origin=R,this}withDefaultOffsetX(R){return this._offsetX=R,this}withDefaultOffsetY(R){return this._offsetY=R,this}withTransformOriginOn(R){return this._transformOriginSelector=R,this}_getOriginPoint(R,z,K){let Z,Pe;if("center"==K.originX)Z=R.left+R.width/2;else{const Xe=this._isRtl()?R.right:R.left,Et=this._isRtl()?R.left:R.right;Z="start"==K.originX?Xe:Et}return z.left<0&&(Z-=z.left),Pe="center"==K.originY?R.top+R.height/2:"top"==K.originY?R.top:R.bottom,z.top<0&&(Pe-=z.top),{x:Z,y:Pe}}_getOverlayPoint(R,z,K){let Z,Pe;return Z="center"==K.overlayX?-z.width/2:"start"===K.overlayX?this._isRtl()?-z.width:0:this._isRtl()?0:-z.width,Pe="center"==K.overlayY?-z.height/2:"top"==K.overlayY?0:-z.height,{x:R.x+Z,y:R.y+Pe}}_getOverlayFit(R,z,K,Z){const Pe=Fe(z);let{x:Xe,y:Et}=R,kt=this._getOffset(Z,"x"),Zt=this._getOffset(Z,"y");kt&&(Xe+=kt),Zt&&(Et+=Zt);let mn=0-Et,yi=Et+Pe.height-K.height,jn=this._subtractOverflows(Pe.width,0-Xe,Xe+Pe.width-K.width),ti=this._subtractOverflows(Pe.height,mn,yi),on=jn*ti;return{visibleArea:on,isCompletelyWithinViewport:Pe.width*Pe.height===on,fitsInViewportVertically:ti===Pe.height,fitsInViewportHorizontally:jn==Pe.width}}_canFitWithFlexibleDimensions(R,z,K){if(this._hasFlexibleDimensions){const Z=K.bottom-z.y,Pe=K.right-z.x,Xe=ee(this._overlayRef.getConfig().minHeight),Et=ee(this._overlayRef.getConfig().minWidth),Zt=R.fitsInViewportHorizontally||null!=Et&&Et<=Pe;return(R.fitsInViewportVertically||null!=Xe&&Xe<=Z)&&Zt}return!1}_pushOverlayOnScreen(R,z,K){if(this._previousPushAmount&&this._positionLocked)return{x:R.x+this._previousPushAmount.x,y:R.y+this._previousPushAmount.y};const Z=Fe(z),Pe=this._viewportRect,Xe=Math.max(R.x+Z.width-Pe.width,0),Et=Math.max(R.y+Z.height-Pe.height,0),kt=Math.max(Pe.top-K.top-R.y,0),Zt=Math.max(Pe.left-K.left-R.x,0);let an=0,sn=0;return an=Z.width<=Pe.width?Zt||-Xe:R.x<this._viewportMargin?Pe.left-K.left-R.x:0,sn=Z.height<=Pe.height?kt||-Et:R.y<this._viewportMargin?Pe.top-K.top-R.y:0,this._previousPushAmount={x:an,y:sn},{x:R.x+an,y:R.y+sn}}_applyPosition(R,z){if(this._setTransformOrigin(R),this._setOverlayElementStyles(z,R),this._setBoundingBoxStyles(z,R),R.panelClass&&this._addPanelClasses(R.panelClass),this._lastPosition=R,this._positionChanges.observers.length){const K=this._getScrollVisibility(),Z=new Ue(R,K);this._positionChanges.next(Z)}this._isInitialRender=!1}_setTransformOrigin(R){if(!this._transformOriginSelector)return;const z=this._boundingBox.querySelectorAll(this._transformOriginSelector);let K,Z=R.overlayY;K="center"===R.overlayX?"center":this._isRtl()?"start"===R.overlayX?"right":"left":"start"===R.overlayX?"left":"right";for(let Pe=0;Pe<z.length;Pe++)z[Pe].style.transformOrigin=`${K} ${Z}`}_calculateBoundingBoxRect(R,z){const K=this._viewportRect,Z=this._isRtl();let Pe,Xe,Et,an,sn,mn;if("top"===z.overlayY)Xe=R.y,Pe=K.height-Xe+this._viewportMargin;else if("bottom"===z.overlayY)Et=K.height-R.y+2*this._viewportMargin,Pe=K.height-Et+this._viewportMargin;else{const yi=Math.min(K.bottom-R.y+K.top,R.y),jn=this._lastBoundingBoxSize.height;Pe=2*yi,Xe=R.y-yi,Pe>jn&&!this._isInitialRender&&!this._growAfterOpen&&(Xe=R.y-jn/2)}if("end"===z.overlayX&&!Z||"start"===z.overlayX&&Z)mn=K.width-R.x+this._viewportMargin,an=R.x-this._viewportMargin;else if("start"===z.overlayX&&!Z||"end"===z.overlayX&&Z)sn=R.x,an=K.right-R.x;else{const yi=Math.min(K.right-R.x+K.left,R.x),jn=this._lastBoundingBoxSize.width;an=2*yi,sn=R.x-yi,an>jn&&!this._isInitialRender&&!this._growAfterOpen&&(sn=R.x-jn/2)}return{top:Xe,left:sn,bottom:Et,right:mn,width:an,height:Pe}}_setBoundingBoxStyles(R,z){const K=this._calculateBoundingBoxRect(R,z);!this._isInitialRender&&!this._growAfterOpen&&(K.height=Math.min(K.height,this._lastBoundingBoxSize.height),K.width=Math.min(K.width,this._lastBoundingBoxSize.width));const Z={};if(this._hasExactPosition())Z.top=Z.left="0",Z.bottom=Z.right=Z.maxHeight=Z.maxWidth="",Z.width=Z.height="100%";else{const Pe=this._overlayRef.getConfig().maxHeight,Xe=this._overlayRef.getConfig().maxWidth;Z.height=(0,x.HM)(K.height),Z.top=(0,x.HM)(K.top),Z.bottom=(0,x.HM)(K.bottom),Z.width=(0,x.HM)(K.width),Z.left=(0,x.HM)(K.left),Z.right=(0,x.HM)(K.right),Z.alignItems="center"===z.overlayX?"center":"end"===z.overlayX?"flex-end":"flex-start",Z.justifyContent="center"===z.overlayY?"center":"bottom"===z.overlayY?"flex-end":"flex-start",Pe&&(Z.maxHeight=(0,x.HM)(Pe)),Xe&&(Z.maxWidth=(0,x.HM)(Xe))}this._lastBoundingBoxSize=K,Qe(this._boundingBox.style,Z)}_resetBoundingBoxStyles(){Qe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(R,z){const K={},Z=this._hasExactPosition(),Pe=this._hasFlexibleDimensions,Xe=this._overlayRef.getConfig();if(Z){const an=this._viewportRuler.getViewportScrollPosition();Qe(K,this._getExactOverlayY(z,R,an)),Qe(K,this._getExactOverlayX(z,R,an))}else K.position="static";let Et="",kt=this._getOffset(z,"x"),Zt=this._getOffset(z,"y");kt&&(Et+=`translateX(${kt}px) `),Zt&&(Et+=`translateY(${Zt}px)`),K.transform=Et.trim(),Xe.maxHeight&&(Z?K.maxHeight=(0,x.HM)(Xe.maxHeight):Pe&&(K.maxHeight="")),Xe.maxWidth&&(Z?K.maxWidth=(0,x.HM)(Xe.maxWidth):Pe&&(K.maxWidth="")),Qe(this._pane.style,K)}_getExactOverlayY(R,z,K){let Z={top:"",bottom:""},Pe=this._getOverlayPoint(z,this._overlayRect,R);return this._isPushed&&(Pe=this._pushOverlayOnScreen(Pe,this._overlayRect,K)),"bottom"===R.overlayY?Z.bottom=this._document.documentElement.clientHeight-(Pe.y+this._overlayRect.height)+"px":Z.top=(0,x.HM)(Pe.y),Z}_getExactOverlayX(R,z,K){let Xe,Z={left:"",right:""},Pe=this._getOverlayPoint(z,this._overlayRect,R);return this._isPushed&&(Pe=this._pushOverlayOnScreen(Pe,this._overlayRect,K)),Xe=this._isRtl()?"end"===R.overlayX?"left":"right":"end"===R.overlayX?"right":"left","right"===Xe?Z.right=this._document.documentElement.clientWidth-(Pe.x+this._overlayRect.width)+"px":Z.left=(0,x.HM)(Pe.x),Z}_getScrollVisibility(){const R=this._getOriginRect(),z=this._pane.getBoundingClientRect(),K=this._scrollables.map(Z=>Z.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_e(R,K),isOriginOutsideView:Ee(R,K),isOverlayClipped:_e(z,K),isOverlayOutsideView:Ee(z,K)}}_subtractOverflows(R,...z){return z.reduce((K,Z)=>K-Math.max(Z,0),R)}_getNarrowedViewportRect(){const R=this._document.documentElement.clientWidth,z=this._document.documentElement.clientHeight,K=this._viewportRuler.getViewportScrollPosition();return{top:K.top+this._viewportMargin,left:K.left+this._viewportMargin,right:K.left+R-this._viewportMargin,bottom:K.top+z-this._viewportMargin,width:R-2*this._viewportMargin,height:z-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(R,z){return"x"===z?null==R.offsetX?this._offsetX:R.offsetX:null==R.offsetY?this._offsetY:R.offsetY}_validatePositions(){}_addPanelClasses(R){this._pane&&(0,x.Eq)(R).forEach(z=>{""!==z&&-1===this._appliedPanelClasses.indexOf(z)&&(this._appliedPanelClasses.push(z),this._pane.classList.add(z))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(R=>{this._pane.classList.remove(R)}),this._appliedPanelClasses=[])}_getOriginRect(){const R=this._origin;if(R instanceof g.SBq)return R.nativeElement.getBoundingClientRect();if(R instanceof Element)return R.getBoundingClientRect();const z=R.width||0,K=R.height||0;return{top:R.y,bottom:R.y+K,left:R.x,right:R.x+z,height:K,width:z}}}function Qe(dt,R){for(let z in R)R.hasOwnProperty(z)&&(dt[z]=R[z]);return dt}function ee(dt){if("number"!=typeof dt&&null!=dt){const[R,z]=dt.split(gt);return z&&"px"!==z?null:parseFloat(R)}return dt||null}function Fe(dt){return{top:Math.floor(dt.top),right:Math.floor(dt.right),bottom:Math.floor(dt.bottom),left:Math.floor(dt.left),width:Math.floor(dt.width),height:Math.floor(dt.height)}}const O="cdk-global-overlay-wrapper";class se{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(R){const z=R.getConfig();this._overlayRef=R,this._width&&!z.width&&R.updateSize({width:this._width}),this._height&&!z.height&&R.updateSize({height:this._height}),R.hostElement.classList.add(O),this._isDisposed=!1}top(R=""){return this._bottomOffset="",this._topOffset=R,this._alignItems="flex-start",this}left(R=""){return this._rightOffset="",this._leftOffset=R,this._justifyContent="flex-start",this}bottom(R=""){return this._topOffset="",this._bottomOffset=R,this._alignItems="flex-end",this}right(R=""){return this._leftOffset="",this._rightOffset=R,this._justifyContent="flex-end",this}width(R=""){return this._overlayRef?this._overlayRef.updateSize({width:R}):this._width=R,this}height(R=""){return this._overlayRef?this._overlayRef.updateSize({height:R}):this._height=R,this}centerHorizontally(R=""){return this.left(R),this._justifyContent="center",this}centerVertically(R=""){return this.top(R),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const R=this._overlayRef.overlayElement.style,z=this._overlayRef.hostElement.style,K=this._overlayRef.getConfig(),{width:Z,height:Pe,maxWidth:Xe,maxHeight:Et}=K,kt=!("100%"!==Z&&"100vw"!==Z||Xe&&"100%"!==Xe&&"100vw"!==Xe),Zt=!("100%"!==Pe&&"100vh"!==Pe||Et&&"100%"!==Et&&"100vh"!==Et);R.position=this._cssPosition,R.marginLeft=kt?"0":this._leftOffset,R.marginTop=Zt?"0":this._topOffset,R.marginBottom=this._bottomOffset,R.marginRight=this._rightOffset,kt?z.justifyContent="flex-start":"center"===this._justifyContent?z.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?z.justifyContent="flex-end":"flex-end"===this._justifyContent&&(z.justifyContent="flex-start"):z.justifyContent=this._justifyContent,z.alignItems=Zt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const R=this._overlayRef.overlayElement.style,z=this._overlayRef.hostElement,K=z.style;z.classList.remove(O),K.justifyContent=K.alignItems=R.marginTop=R.marginBottom=R.marginLeft=R.marginRight=R.position="",this._overlayRef=null,this._isDisposed=!0}}let ft=(()=>{class dt{constructor(z,K,Z,Pe){this._viewportRuler=z,this._document=K,this._platform=Z,this._overlayContainer=Pe}global(){return new se}flexibleConnectedTo(z){return new Ae(z,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return dt.\u0275fac=function(z){return new(z||dt)(g.LFG(h.rL),g.LFG(E.K0),g.LFG(we.t4),g.LFG(yt))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),ot=(()=>{class dt{constructor(z){this._attachedOverlays=[],this._document=z}ngOnDestroy(){this.detach()}add(z){this.remove(z),this._attachedOverlays.push(z)}remove(z){const K=this._attachedOverlays.indexOf(z);K>-1&&this._attachedOverlays.splice(K,1),0===this._attachedOverlays.length&&this.detach()}}return dt.\u0275fac=function(z){return new(z||dt)(g.LFG(E.K0))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),Dt=(()=>{class dt extends ot{constructor(z,K){super(z),this._ngZone=K,this._keydownListener=Z=>{const Pe=this._attachedOverlays;for(let Xe=Pe.length-1;Xe>-1;Xe--)if(Pe[Xe]._keydownEvents.observers.length>0){const Et=Pe[Xe]._keydownEvents;this._ngZone?this._ngZone.run(()=>Et.next(Z)):Et.next(Z);break}}}add(z){super.add(z),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return dt.\u0275fac=function(z){return new(z||dt)(g.LFG(E.K0),g.LFG(g.R0b,8))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),Ct=(()=>{class dt extends ot{constructor(z,K,Z){super(z),this._platform=K,this._ngZone=Z,this._cursorStyleIsSet=!1,this._pointerDownListener=Pe=>{this._pointerDownEventTarget=(0,we.sA)(Pe)},this._clickListener=Pe=>{const Xe=(0,we.sA)(Pe),Et="click"===Pe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Xe;this._pointerDownEventTarget=null;const kt=this._attachedOverlays.slice();for(let Zt=kt.length-1;Zt>-1;Zt--){const an=kt[Zt];if(an._outsidePointerEvents.observers.length<1||!an.hasAttached())continue;if(an.overlayElement.contains(Xe)||an.overlayElement.contains(Et))break;const sn=an._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>sn.next(Pe)):sn.next(Pe)}}}add(z){if(super.add(z),!this._isAttached){const K=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(K)):this._addEventListeners(K),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=K.style.cursor,K.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const z=this._document.body;z.removeEventListener("pointerdown",this._pointerDownListener,!0),z.removeEventListener("click",this._clickListener,!0),z.removeEventListener("auxclick",this._clickListener,!0),z.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(z.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(z){z.addEventListener("pointerdown",this._pointerDownListener,!0),z.addEventListener("click",this._clickListener,!0),z.addEventListener("auxclick",this._clickListener,!0),z.addEventListener("contextmenu",this._clickListener,!0)}}return dt.\u0275fac=function(z){return new(z||dt)(g.LFG(E.K0),g.LFG(we.t4),g.LFG(g.R0b,8))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),vt=0,Bt=(()=>{class dt{constructor(z,K,Z,Pe,Xe,Et,kt,Zt,an,sn,mn){this.scrollStrategies=z,this._overlayContainer=K,this._componentFactoryResolver=Z,this._positionBuilder=Pe,this._keyboardDispatcher=Xe,this._injector=Et,this._ngZone=kt,this._document=Zt,this._directionality=an,this._location=sn,this._outsideClickDispatcher=mn}create(z){const K=this._createHostElement(),Z=this._createPaneElement(K),Pe=this._createPortalOutlet(Z),Xe=new ne(z);return Xe.direction=Xe.direction||this._directionality.value,new ze(Pe,K,Z,Xe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(z){const K=this._document.createElement("div");return K.id="cdk-overlay-"+vt++,K.classList.add("cdk-overlay-pane"),z.appendChild(K),K}_createHostElement(){const z=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(z),z}_createPortalOutlet(z){return this._appRef||(this._appRef=this._injector.get(g.z2F)),new Me.u0(z,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return dt.\u0275fac=function(z){return new(z||dt)(g.LFG(De),g.LFG(yt),g.LFG(g._Vd),g.LFG(ft),g.LFG(Dt),g.LFG(g.zs3),g.LFG(g.R0b),g.LFG(E.K0),g.LFG(be.Is),g.LFG(E.Ye),g.LFG(Ct))},dt.\u0275prov=g.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const We=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],St=new g.OlP("cdk-connected-overlay-scroll-strategy");let rn=(()=>{class dt{constructor(z){this.elementRef=z}}return dt.\u0275fac=function(z){return new(z||dt)(g.Y36(g.SBq))},dt.\u0275dir=g.lG2({type:dt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),dt})(),Rn=(()=>{class dt{constructor(z,K,Z,Pe,Xe){this._overlay=z,this._dir=Xe,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ie.w0.EMPTY,this._attachSubscription=ie.w0.EMPTY,this._detachSubscription=ie.w0.EMPTY,this._positionSubscription=ie.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new g.vpe,this.positionChange=new g.vpe,this.attach=new g.vpe,this.detach=new g.vpe,this.overlayKeydown=new g.vpe,this.overlayOutsideClick=new g.vpe,this._templatePortal=new Me.UE(K,Z),this._scrollStrategyFactory=Pe,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(z){this._offsetX=z,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(z){this._offsetY=z,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(z){this._hasBackdrop=(0,x.Ig)(z)}get lockPosition(){return this._lockPosition}set lockPosition(z){this._lockPosition=(0,x.Ig)(z)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(z){this._flexibleDimensions=(0,x.Ig)(z)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(z){this._growAfterOpen=(0,x.Ig)(z)}get push(){return this._push}set push(z){this._push=(0,x.Ig)(z)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(z){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),z.origin&&this.open&&this._position.apply()),z.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=We);const z=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=z.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=z.detachments().subscribe(()=>this.detach.emit()),z.keydownEvents().subscribe(K=>{this.overlayKeydown.next(K),K.keyCode===it.hY&&!this.disableClose&&!(0,it.Vb)(K)&&(K.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(K=>{this.overlayOutsideClick.next(K)})}_buildConfig(){const z=this._position=this.positionStrategy||this._createPositionStrategy(),K=new ne({direction:this._dir,positionStrategy:z,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(K.width=this.width),(this.height||0===this.height)&&(K.height=this.height),(this.minWidth||0===this.minWidth)&&(K.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(K.minHeight=this.minHeight),this.backdropClass&&(K.backdropClass=this.backdropClass),this.panelClass&&(K.panelClass=this.panelClass),K}_updatePositionStrategy(z){const K=this.positions.map(Z=>({originX:Z.originX,originY:Z.originY,overlayX:Z.overlayX,overlayY:Z.overlayY,offsetX:Z.offsetX||this.offsetX,offsetY:Z.offsetY||this.offsetY,panelClass:Z.panelClass||void 0}));return z.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(K).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const z=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(z),z}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof rn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(z=>{this.backdropClick.emit(z)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function He(dt,R=!1){return(0,fe.e)((z,K)=>{let Z=0;z.subscribe((0,le.x)(K,Pe=>{const Xe=dt(Pe,Z++);(Xe||R)&&K.next(Pe),!Xe&&K.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(z=>{this.positionChange.emit(z),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return dt.\u0275fac=function(z){return new(z||dt)(g.Y36(Bt),g.Y36(g.Rgc),g.Y36(g.s_b),g.Y36(St),g.Y36(be.Is,8))},dt.\u0275dir=g.lG2({type:dt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[g.TTD]}),dt})();const hn={provide:St,deps:[Bt],useFactory:function Bn(dt){return()=>dt.scrollStrategies.reposition()}};let gn=(()=>{class dt{}return dt.\u0275fac=function(z){return new(z||dt)},dt.\u0275mod=g.oAB({type:dt}),dt.\u0275inj=g.cJS({providers:[Bt,hn],imports:[[be.vT,Me.eL,h.Cl],h.Cl]}),dt})()},925:(Gt,Ze,y)=>{y.d(Ze,{t4:()=>x,sA:()=>Ot,ht:()=>Ne,kV:()=>rt,Oy:()=>et,_i:()=>$e,i$:()=>fe,Mq:()=>Se});var h=y(5e3),E=y(9808);let g;try{g="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Ee){g=!1}let ie,le,He,it,x=(()=>{class Ee{constructor(xe){this._platformId=xe,this.isBrowser=this._platformId?(0,E.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!g)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ee.\u0275fac=function(xe){return new(xe||Ee)(h.LFG(h.Lbi))},Ee.\u0275prov=h.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();function fe(Ee){return function q(){if(null==ie&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ie=!0}))}finally{ie=ie||!1}return ie}()?Ee:!!Ee.capture}function Se(){if(null==He){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return He=!1,He;if("scrollBehavior"in document.documentElement.style)He=!0;else{const Ee=Element.prototype.scrollTo;He=!!Ee&&!/\{\s*\[native code\]\s*\}/.test(Ee.toString())}}return He}function $e(){if("object"!=typeof document||!document)return 0;if(null==le){const Ee=document.createElement("div"),_e=Ee.style;Ee.dir="rtl",_e.width="1px",_e.overflow="auto",_e.visibility="hidden",_e.pointerEvents="none",_e.position="absolute";const xe=document.createElement("div"),De=xe.style;De.width="2px",De.height="1px",Ee.appendChild(xe),document.body.appendChild(Ee),le=0,0===Ee.scrollLeft&&(Ee.scrollLeft=1,le=0===Ee.scrollLeft?1:2),Ee.remove()}return le}function rt(Ee){if(function Le(){if(null==it){const Ee="undefined"!=typeof document?document.head:null;it=!(!Ee||!Ee.createShadowRoot&&!Ee.attachShadow)}return it}()){const _e=Ee.getRootNode?Ee.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&_e instanceof ShadowRoot)return _e}return null}function Ne(){let Ee="undefined"!=typeof document&&document?document.activeElement:null;for(;Ee&&Ee.shadowRoot;){const _e=Ee.shadowRoot.activeElement;if(_e===Ee)break;Ee=_e}return Ee}function Ot(Ee){return Ee.composedPath?Ee.composedPath()[0]:Ee.target}function et(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:(Gt,Ze,y)=>{y.d(Ze,{en:()=>He,Pl:()=>Ne,C5:()=>q,u0:()=>$e,eL:()=>et,UE:()=>fe});var h=y(5e3),E=y(9808);class ie{attach(xe){return this._attachedHost=xe,xe.attach(this)}detach(){let xe=this._attachedHost;null!=xe&&(this._attachedHost=null,xe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(xe){this._attachedHost=xe}}class q extends ie{constructor(xe,De,ne,Ye){super(),this.component=xe,this.viewContainerRef=De,this.injector=ne,this.componentFactoryResolver=Ye}}class fe extends ie{constructor(xe,De,ne){super(),this.templateRef=xe,this.viewContainerRef=De,this.context=ne}get origin(){return this.templateRef.elementRef}attach(xe,De=this.context){return this.context=De,super.attach(xe)}detach(){return this.context=void 0,super.detach()}}class le extends ie{constructor(xe){super(),this.element=xe instanceof h.SBq?xe.nativeElement:xe}}class He{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(xe){return xe instanceof q?(this._attachedPortal=xe,this.attachComponentPortal(xe)):xe instanceof fe?(this._attachedPortal=xe,this.attachTemplatePortal(xe)):this.attachDomPortal&&xe instanceof le?(this._attachedPortal=xe,this.attachDomPortal(xe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(xe){this._disposeFn=xe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $e extends He{constructor(xe,De,ne,Ye,ce){super(),this.outletElement=xe,this._componentFactoryResolver=De,this._appRef=ne,this._defaultInjector=Ye,this.attachDomPortal=Ue=>{const oe=Ue.element,Oe=this._document.createComment("dom-portal");oe.parentNode.insertBefore(Oe,oe),this.outletElement.appendChild(oe),this._attachedPortal=Ue,super.setDisposeFn(()=>{Oe.parentNode&&Oe.parentNode.replaceChild(oe,Oe)})},this._document=ce}attachComponentPortal(xe){const ne=(xe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(xe.component);let Ye;return xe.viewContainerRef?(Ye=xe.viewContainerRef.createComponent(ne,xe.viewContainerRef.length,xe.injector||xe.viewContainerRef.injector),this.setDisposeFn(()=>Ye.destroy())):(Ye=ne.create(xe.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(Ye.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ye.hostView),Ye.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ye)),this._attachedPortal=xe,Ye}attachTemplatePortal(xe){let De=xe.viewContainerRef,ne=De.createEmbeddedView(xe.templateRef,xe.context);return ne.rootNodes.forEach(Ye=>this.outletElement.appendChild(Ye)),ne.detectChanges(),this.setDisposeFn(()=>{let Ye=De.indexOf(ne);-1!==Ye&&De.remove(Ye)}),this._attachedPortal=xe,ne}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(xe){return xe.hostView.rootNodes[0]}}let Ne=(()=>{class _e extends He{constructor(De,ne,Ye){super(),this._componentFactoryResolver=De,this._viewContainerRef=ne,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=ce=>{const Ue=ce.element,oe=this._document.createComment("dom-portal");ce.setAttachedHost(this),Ue.parentNode.insertBefore(oe,Ue),this._getRootNode().appendChild(Ue),this._attachedPortal=ce,super.setDisposeFn(()=>{oe.parentNode&&oe.parentNode.replaceChild(Ue,oe)})},this._document=Ye}get portal(){return this._attachedPortal}set portal(De){this.hasAttached()&&!De&&!this._isInitialized||(this.hasAttached()&&super.detach(),De&&super.attach(De),this._attachedPortal=De||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(De){De.setAttachedHost(this);const ne=null!=De.viewContainerRef?De.viewContainerRef:this._viewContainerRef,ce=(De.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(De.component),Ue=ne.createComponent(ce,ne.length,De.injector||ne.injector);return ne!==this._viewContainerRef&&this._getRootNode().appendChild(Ue.hostView.rootNodes[0]),super.setDisposeFn(()=>Ue.destroy()),this._attachedPortal=De,this._attachedRef=Ue,this.attached.emit(Ue),Ue}attachTemplatePortal(De){De.setAttachedHost(this);const ne=this._viewContainerRef.createEmbeddedView(De.templateRef,De.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=De,this._attachedRef=ne,this.attached.emit(ne),ne}_getRootNode(){const De=this._viewContainerRef.element.nativeElement;return De.nodeType===De.ELEMENT_NODE?De:De.parentNode}}return _e.\u0275fac=function(De){return new(De||_e)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(E.K0))},_e.\u0275dir=h.lG2({type:_e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),_e})(),et=(()=>{class _e{}return _e.\u0275fac=function(De){return new(De||_e)},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({}),_e})()},8962:(Gt,Ze,y)=>{y.d(Ze,{PQ:()=>We,ZD:()=>dt,mF:()=>Bt,Cl:()=>R,rL:()=>rn});var h=y(3191),E=y(5e3),g=y(4408),x=y(727);const we={schedule(z){let K=requestAnimationFrame,Z=cancelAnimationFrame;const{delegate:Pe}=we;Pe&&(K=Pe.requestAnimationFrame,Z=Pe.cancelAnimationFrame);const Xe=K(Et=>{Z=void 0,z(Et)});return new x.w0(()=>null==Z?void 0:Z(Xe))},requestAnimationFrame(...z){const{delegate:K}=we;return((null==K?void 0:K.requestAnimationFrame)||requestAnimationFrame)(...z)},cancelAnimationFrame(...z){const{delegate:K}=we;return((null==K?void 0:K.cancelAnimationFrame)||cancelAnimationFrame)(...z)},delegate:void 0};var Me=y(7565);new class pe extends Me.v{flush(K){this._active=!0;const Z=this._scheduled;this._scheduled=void 0;const{actions:Pe}=this;let Xe;K=K||Pe.shift();do{if(Xe=K.execute(K.state,K.delay))break}while((K=Pe[0])&&K.id===Z&&Pe.shift());if(this._active=!1,Xe){for(;(K=Pe[0])&&K.id===Z&&Pe.shift();)K.unsubscribe();throw Xe}}}(class be extends g.o{constructor(K,Z){super(K,Z),this.scheduler=K,this.work=Z}requestAsyncId(K,Z,Pe=0){return null!==Pe&&Pe>0?super.requestAsyncId(K,Z,Pe):(K.actions.push(this),K._scheduled||(K._scheduled=we.requestAnimationFrame(()=>K.flush(void 0))))}recycleAsyncId(K,Z,Pe=0){if(null!=Pe&&Pe>0||null==Pe&&this.delay>0)return super.recycleAsyncId(K,Z,Pe);K.actions.some(Xe=>Xe.id===Z)||(we.cancelAnimationFrame(Z),K._scheduled=void 0)}});let le,fe=1;const He={};function Se(z){return z in He&&(delete He[z],!0)}const $e={setImmediate(z){const K=fe++;return He[K]=!0,le||(le=Promise.resolve()),le.then(()=>Se(K)&&z()),K},clearImmediate(z){Se(z)}},{setImmediate:Le,clearImmediate:rt}=$e,Ne={setImmediate(...z){const{delegate:K}=Ne;return((null==K?void 0:K.setImmediate)||Le)(...z)},clearImmediate(z){const{delegate:K}=Ne;return((null==K?void 0:K.clearImmediate)||rt)(z)},delegate:void 0};new class et extends Me.v{flush(K){this._active=!0;const Z=this._scheduled;this._scheduled=void 0;const{actions:Pe}=this;let Xe;K=K||Pe.shift();do{if(Xe=K.execute(K.state,K.delay))break}while((K=Pe[0])&&K.id===Z&&Pe.shift());if(this._active=!1,Xe){for(;(K=Pe[0])&&K.id===Z&&Pe.shift();)K.unsubscribe();throw Xe}}}(class Ot extends g.o{constructor(K,Z){super(K,Z),this.scheduler=K,this.work=Z}requestAsyncId(K,Z,Pe=0){return null!==Pe&&Pe>0?super.requestAsyncId(K,Z,Pe):(K.actions.push(this),K._scheduled||(K._scheduled=Ne.setImmediate(K.flush.bind(K,void 0))))}recycleAsyncId(K,Z,Pe=0){if(null!=Pe&&Pe>0||null==Pe&&this.delay>0)return super.recycleAsyncId(K,Z,Pe);K.actions.some(Xe=>Xe.id===Z)||(Ne.clearImmediate(Z),K._scheduled=void 0)}});var xe=y(7579),De=y(9646),ne=y(8306),Ye=y(4968),ce=y(4986),Ue=y(4482),oe=y(8421),Oe=y(5403),yt=y(5963);function mt(z,K=ce.z){return function ze(z){return(0,Ue.e)((K,Z)=>{let Pe=!1,Xe=null,Et=null,kt=!1;const Zt=()=>{if(null==Et||Et.unsubscribe(),Et=null,Pe){Pe=!1;const sn=Xe;Xe=null,Z.next(sn)}kt&&Z.complete()},an=()=>{Et=null,kt&&Z.complete()};K.subscribe((0,Oe.x)(Z,sn=>{Pe=!0,Xe=sn,Et||(0,oe.Xf)(z(sn)).subscribe(Et=(0,Oe.x)(Z,Zt,an))},()=>{kt=!0,(!Pe||!Et||Et.closed)&&Z.complete()}))})}(()=>(0,yt.H)(z,K))}var gt=y(9300),Ae=y(2722),Qe=y(9808),ee=y(925),Fe=y(226);let Bt=(()=>{class z{constructor(Z,Pe,Xe){this._ngZone=Z,this._platform=Pe,this._scrolled=new xe.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Xe}register(Z){this.scrollContainers.has(Z)||this.scrollContainers.set(Z,Z.elementScrolled().subscribe(()=>this._scrolled.next(Z)))}deregister(Z){const Pe=this.scrollContainers.get(Z);Pe&&(Pe.unsubscribe(),this.scrollContainers.delete(Z))}scrolled(Z=20){return this._platform.isBrowser?new ne.y(Pe=>{this._globalSubscription||this._addGlobalListener();const Xe=Z>0?this._scrolled.pipe(mt(Z)).subscribe(Pe):this._scrolled.subscribe(Pe);return this._scrolledCount++,()=>{Xe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,De.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Z,Pe)=>this.deregister(Pe)),this._scrolled.complete()}ancestorScrolled(Z,Pe){const Xe=this.getAncestorScrollContainers(Z);return this.scrolled(Pe).pipe((0,gt.h)(Et=>!Et||Xe.indexOf(Et)>-1))}getAncestorScrollContainers(Z){const Pe=[];return this.scrollContainers.forEach((Xe,Et)=>{this._scrollableContainsElement(Et,Z)&&Pe.push(Et)}),Pe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Z,Pe){let Xe=(0,h.fI)(Pe),Et=Z.getElementRef().nativeElement;do{if(Xe==Et)return!0}while(Xe=Xe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Z=this._getWindow();return(0,Ye.R)(Z.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return z.\u0275fac=function(Z){return new(Z||z)(E.LFG(E.R0b),E.LFG(ee.t4),E.LFG(Qe.K0,8))},z.\u0275prov=E.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),We=(()=>{class z{constructor(Z,Pe,Xe,Et){this.elementRef=Z,this.scrollDispatcher=Pe,this.ngZone=Xe,this.dir=Et,this._destroyed=new xe.x,this._elementScrolled=new ne.y(kt=>this.ngZone.runOutsideAngular(()=>(0,Ye.R)(this.elementRef.nativeElement,"scroll").pipe((0,Ae.R)(this._destroyed)).subscribe(kt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Z){const Pe=this.elementRef.nativeElement,Xe=this.dir&&"rtl"==this.dir.value;null==Z.left&&(Z.left=Xe?Z.end:Z.start),null==Z.right&&(Z.right=Xe?Z.start:Z.end),null!=Z.bottom&&(Z.top=Pe.scrollHeight-Pe.clientHeight-Z.bottom),Xe&&0!=(0,ee._i)()?(null!=Z.left&&(Z.right=Pe.scrollWidth-Pe.clientWidth-Z.left),2==(0,ee._i)()?Z.left=Z.right:1==(0,ee._i)()&&(Z.left=Z.right?-Z.right:Z.right)):null!=Z.right&&(Z.left=Pe.scrollWidth-Pe.clientWidth-Z.right),this._applyScrollToOptions(Z)}_applyScrollToOptions(Z){const Pe=this.elementRef.nativeElement;(0,ee.Mq)()?Pe.scrollTo(Z):(null!=Z.top&&(Pe.scrollTop=Z.top),null!=Z.left&&(Pe.scrollLeft=Z.left))}measureScrollOffset(Z){const Pe="left",Et=this.elementRef.nativeElement;if("top"==Z)return Et.scrollTop;if("bottom"==Z)return Et.scrollHeight-Et.clientHeight-Et.scrollTop;const kt=this.dir&&"rtl"==this.dir.value;return"start"==Z?Z=kt?"right":Pe:"end"==Z&&(Z=kt?Pe:"right"),kt&&2==(0,ee._i)()?Z==Pe?Et.scrollWidth-Et.clientWidth-Et.scrollLeft:Et.scrollLeft:kt&&1==(0,ee._i)()?Z==Pe?Et.scrollLeft+Et.scrollWidth-Et.clientWidth:-Et.scrollLeft:Z==Pe?Et.scrollLeft:Et.scrollWidth-Et.clientWidth-Et.scrollLeft}}return z.\u0275fac=function(Z){return new(Z||z)(E.Y36(E.SBq),E.Y36(Bt),E.Y36(E.R0b),E.Y36(Fe.Is,8))},z.\u0275dir=E.lG2({type:z,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),z})(),rn=(()=>{class z{constructor(Z,Pe,Xe){this._platform=Z,this._change=new xe.x,this._changeListener=Et=>{this._change.next(Et)},this._document=Xe,Pe.runOutsideAngular(()=>{if(Z.isBrowser){const Et=this._getWindow();Et.addEventListener("resize",this._changeListener),Et.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Z=this._getWindow();Z.removeEventListener("resize",this._changeListener),Z.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Z={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Z}getViewportRect(){const Z=this.getViewportScrollPosition(),{width:Pe,height:Xe}=this.getViewportSize();return{top:Z.top,left:Z.left,bottom:Z.top+Xe,right:Z.left+Pe,height:Xe,width:Pe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Z=this._document,Pe=this._getWindow(),Xe=Z.documentElement,Et=Xe.getBoundingClientRect();return{top:-Et.top||Z.body.scrollTop||Pe.scrollY||Xe.scrollTop||0,left:-Et.left||Z.body.scrollLeft||Pe.scrollX||Xe.scrollLeft||0}}change(Z=20){return Z>0?this._change.pipe(mt(Z)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Z=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Z.innerWidth,height:Z.innerHeight}:{width:0,height:0}}}return z.\u0275fac=function(Z){return new(Z||z)(E.LFG(ee.t4),E.LFG(E.R0b),E.LFG(Qe.K0,8))},z.\u0275prov=E.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),dt=(()=>{class z{}return z.\u0275fac=function(Z){return new(Z||z)},z.\u0275mod=E.oAB({type:z}),z.\u0275inj=E.cJS({}),z})(),R=(()=>{class z{}return z.\u0275fac=function(Z){return new(Z||z)},z.\u0275mod=E.oAB({type:z}),z.\u0275inj=E.cJS({imports:[[Fe.vT,dt],Fe.vT,dt]}),z})()},2379:(Gt,Ze,y)=>{y.d(Ze,{HI:()=>$e,Xx:()=>ce,_0:()=>xe,nZ:()=>yt,Hs:()=>De,rO:()=>rt,cu:()=>it,XJ:()=>oe,Ud:()=>Oe,C2:()=>He});var h=y(449),E=y(8306),g=y(576);function x(mt){return!!mt&&(mt instanceof E.y||(0,g.m)(mt.lift)&&(0,g.m)(mt.subscribe))}var we=y(7579),be=y(1135),Me=y(9646),pe=y(2722),ie=y(5e3),q=y(3191),fe=y(226);class He extends class le{constructor(){this.expansionModel=new h.Ov(!0)}toggle(gt){this.expansionModel.toggle(this._trackByValue(gt))}expand(gt){this.expansionModel.select(this._trackByValue(gt))}collapse(gt){this.expansionModel.deselect(this._trackByValue(gt))}isExpanded(gt){return this.expansionModel.isSelected(this._trackByValue(gt))}toggleDescendants(gt){this.expansionModel.isSelected(this._trackByValue(gt))?this.collapseDescendants(gt):this.expandDescendants(gt)}collapseAll(){this.expansionModel.clear()}expandDescendants(gt){let Ae=[gt];Ae.push(...this.getDescendants(gt)),this.expansionModel.select(...Ae.map(Qe=>this._trackByValue(Qe)))}collapseDescendants(gt){let Ae=[gt];Ae.push(...this.getDescendants(gt)),this.expansionModel.deselect(...Ae.map(Qe=>this._trackByValue(Qe)))}_trackByValue(gt){return this.trackBy?this.trackBy(gt):gt}}{constructor(gt,Ae,Qe){super(),this.getLevel=gt,this.isExpandable=Ae,this.options=Qe,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(gt){const Qe=[];for(let ee=this.dataNodes.indexOf(gt)+1;ee<this.dataNodes.length&&this.getLevel(gt)<this.getLevel(this.dataNodes[ee]);ee++)Qe.push(this.dataNodes[ee]);return Qe}expandAll(){this.expansionModel.select(...this.dataNodes.map(gt=>this._trackByValue(gt)))}}const $e=new ie.OlP("CDK_TREE_NODE_OUTLET_NODE");let it=(()=>{class mt{constructor(Ae,Qe){this.viewContainer=Ae,this._node=Qe}}return mt.\u0275fac=function(Ae){return new(Ae||mt)(ie.Y36(ie.s_b),ie.Y36($e,8))},mt.\u0275dir=ie.lG2({type:mt,selectors:[["","cdkTreeNodeOutlet",""]]}),mt})();class Le{constructor(gt){this.$implicit=gt}}let rt=(()=>{class mt{constructor(Ae){this.template=Ae}}return mt.\u0275fac=function(Ae){return new(Ae||mt)(ie.Y36(ie.Rgc))},mt.\u0275dir=ie.lG2({type:mt,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),mt})(),xe=(()=>{class mt{constructor(Ae,Qe){this._differs=Ae,this._changeDetectorRef=Qe,this._onDestroy=new we.x,this._levels=new Map,this.viewChange=new be.X({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(Ae){this._dataSource!==Ae&&this._switchDataSource(Ae)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const Ae=this._nodeDefs.filter(Qe=>!Qe.when);this._defaultNodeDef=Ae[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(Ae){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),Ae||this._nodeOutlet.viewContainer.clear(),this._dataSource=Ae,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let Ae;(0,h.Z9)(this._dataSource)?Ae=this._dataSource.connect(this):x(this._dataSource)?Ae=this._dataSource:Array.isArray(this._dataSource)&&(Ae=(0,Me.of)(this._dataSource)),Ae&&(this._dataSubscription=Ae.pipe((0,pe.R)(this._onDestroy)).subscribe(Qe=>this.renderNodeChanges(Qe)))}renderNodeChanges(Ae,Qe=this._dataDiffer,ee=this._nodeOutlet.viewContainer,Fe){const O=Qe.diff(Ae);!O||(O.forEachOperation((se,ft,ot)=>{if(null==se.previousIndex)this.insertNode(Ae[ot],ot,ee,Fe);else if(null==ot)ee.remove(ft),this._levels.delete(se.item);else{const Dt=ee.get(ft);ee.move(Dt,ot)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(Ae,Qe){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(Fe=>Fe.when&&Fe.when(Qe,Ae))||this._defaultNodeDef}insertNode(Ae,Qe,ee,Fe){const O=this._getNodeDef(Ae,Qe),se=new Le(Ae);se.level=this.treeControl.getLevel?this.treeControl.getLevel(Ae):void 0!==Fe&&this._levels.has(Fe)?this._levels.get(Fe)+1:0,this._levels.set(Ae,se.level),(ee||this._nodeOutlet.viewContainer).createEmbeddedView(O.template,se,Qe),De.mostRecentTreeNode&&(De.mostRecentTreeNode.data=Ae)}}return mt.\u0275fac=function(Ae){return new(Ae||mt)(ie.Y36(ie.ZZ4),ie.Y36(ie.sBO))},mt.\u0275cmp=ie.Xpm({type:mt,selectors:[["cdk-tree"]],contentQueries:function(Ae,Qe,ee){if(1&Ae&&ie.Suo(ee,rt,5),2&Ae){let Fe;ie.iGM(Fe=ie.CRH())&&(Qe._nodeDefs=Fe)}},viewQuery:function(Ae,Qe){if(1&Ae&&ie.Gf(it,7),2&Ae){let ee;ie.iGM(ee=ie.CRH())&&(Qe._nodeOutlet=ee.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(Ae,Qe){1&Ae&&ie.GkF(0,0)},directives:[it],encapsulation:2}),mt})(),De=(()=>{class mt{constructor(Ae,Qe){this._elementRef=Ae,this._tree=Qe,this._destroyed=new we.x,this._dataChanges=new we.x,mt.mostRecentTreeNode=this,this.role="treeitem"}get role(){return"treeitem"}set role(Ae){this._elementRef.nativeElement.setAttribute("role",Ae)}get data(){return this._data}set data(Ae){Ae!==this._data&&(this._data=Ae,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function ne(mt){let gt=mt.parentElement;for(;gt&&!Ye(gt);)gt=gt.parentElement;return gt?gt.classList.contains("cdk-nested-tree-node")?(0,q.su)(gt.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){mt.mostRecentTreeNode===this&&(mt.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return mt.mostRecentTreeNode=null,mt.\u0275fac=function(Ae){return new(Ae||mt)(ie.Y36(ie.SBq),ie.Y36(xe))},mt.\u0275dir=ie.lG2({type:mt,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(Ae,Qe){2&Ae&&ie.uIk("aria-expanded",Qe.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),mt})();function Ye(mt){const gt=mt.classList;return!(!(null==gt?void 0:gt.contains("cdk-nested-tree-node"))&&!(null==gt?void 0:gt.contains("cdk-tree")))}let ce=(()=>{class mt extends De{constructor(Ae,Qe,ee){super(Ae,Qe),this._differs=ee}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const Ae=this._tree.treeControl.getChildren(this.data);Array.isArray(Ae)?this.updateChildrenNodes(Ae):x(Ae)&&Ae.pipe((0,pe.R)(this._destroyed)).subscribe(Qe=>this.updateChildrenNodes(Qe)),this.nodeOutlet.changes.pipe((0,pe.R)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(Ae){const Qe=this._getNodeOutlet();Ae&&(this._children=Ae),Qe&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,Qe.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const Ae=this._getNodeOutlet();Ae&&(Ae.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const Ae=this.nodeOutlet;return Ae&&Ae.find(Qe=>!Qe._node||Qe._node===this)}}return mt.\u0275fac=function(Ae){return new(Ae||mt)(ie.Y36(ie.SBq),ie.Y36(xe),ie.Y36(ie.ZZ4))},mt.\u0275dir=ie.lG2({type:mt,selectors:[["cdk-nested-tree-node"]],contentQueries:function(Ae,Qe,ee){if(1&Ae&&ie.Suo(ee,it,5),2&Ae){let Fe;ie.iGM(Fe=ie.CRH())&&(Qe.nodeOutlet=Fe)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[ie._Bn([{provide:De,useExisting:mt},{provide:$e,useExisting:mt}]),ie.qOj]}),mt})();const Ue=/([A-Za-z%]+)$/;let oe=(()=>{class mt{constructor(Ae,Qe,ee,Fe){this._treeNode=Ae,this._tree=Qe,this._element=ee,this._dir=Fe,this._destroyed=new we.x,this.indentUnits="px",this._indent=40,this._setPadding(),Fe&&Fe.change.pipe((0,pe.R)(this._destroyed)).subscribe(()=>this._setPadding(!0)),Ae._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(Ae){this._setLevelInput(Ae)}get indent(){return this._indent}set indent(Ae){this._setIndentInput(Ae)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const Ae=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,Qe=null==this._level?Ae:this._level;return"number"==typeof Qe?`${Qe*this._indent}${this.indentUnits}`:null}_setPadding(Ae=!1){const Qe=this._paddingIndent();if(Qe!==this._currentPadding||Ae){const ee=this._element.nativeElement,Fe=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",O="paddingLeft"===Fe?"paddingRight":"paddingLeft";ee.style[Fe]=Qe||"",ee.style[O]="",this._currentPadding=Qe}}_setLevelInput(Ae){this._level=(0,q.su)(Ae,null),this._setPadding()}_setIndentInput(Ae){let Qe=Ae,ee="px";if("string"==typeof Ae){const Fe=Ae.split(Ue);Qe=Fe[0],ee=Fe[1]||ee}this.indentUnits=ee,this._indent=(0,q.su)(Qe),this._setPadding()}}return mt.\u0275fac=function(Ae){return new(Ae||mt)(ie.Y36(De),ie.Y36(xe),ie.Y36(ie.SBq),ie.Y36(fe.Is,8))},mt.\u0275dir=ie.lG2({type:mt,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),mt})(),Oe=(()=>{class mt{constructor(Ae,Qe){this._tree=Ae,this._treeNode=Qe,this._recursive=!1}get recursive(){return this._recursive}set recursive(Ae){this._recursive=(0,q.Ig)(Ae)}_toggle(Ae){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),Ae.stopPropagation()}}return mt.\u0275fac=function(Ae){return new(Ae||mt)(ie.Y36(xe),ie.Y36(De))},mt.\u0275dir=ie.lG2({type:mt,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(Ae,Qe){1&Ae&&ie.NdJ("click",function(Fe){return Qe._toggle(Fe)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),mt})(),yt=(()=>{class mt{}return mt.\u0275fac=function(Ae){return new(Ae||mt)},mt.\u0275mod=ie.oAB({type:mt}),mt.\u0275inj=ie.cJS({}),mt})()},9808:(Gt,Ze,y)=>{y.d(Ze,{mr:()=>Ne,Ov:()=>to,ez:()=>ls,H9:()=>Wr,K0:()=>Me,Do:()=>et,V_:()=>q,Ye:()=>Ee,S$:()=>Le,mk:()=>ur,sg:()=>Li,O5:()=>dr,RF:()=>Bi,n9:()=>yr,ED:()=>vs,tP:()=>bs,b0:()=>Ot,lw:()=>pe,EM:()=>ss,JF:()=>gi,NF:()=>Oi,PM:()=>Ds,w_:()=>be,bD:()=>Cr,q:()=>g,Mx:()=>kr,HT:()=>we});var h=y(5e3);let E=null;function g(){return E}function we(G){E||(E=G)}class be{}const Me=new h.OlP("DocumentToken");let pe=(()=>{class G{historyGo(V){throw new Error("Not implemented")}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=h.Yz7({token:G,factory:function(){return function ie(){return(0,h.LFG)(fe)}()},providedIn:"platform"}),G})();const q=new h.OlP("Location Initialized");let fe=(()=>{class G extends pe{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(V){const ve=g().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("popstate",V,!1),()=>ve.removeEventListener("popstate",V)}onHashChange(V){const ve=g().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("hashchange",V,!1),()=>ve.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,ve,Je){le()?this._history.pushState(V,ve,Je):this.location.hash=Je}replaceState(V,ve,Je){le()?this._history.replaceState(V,ve,Je):this.location.hash=Je}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return G.\u0275fac=function(V){return new(V||G)(h.LFG(Me))},G.\u0275prov=h.Yz7({token:G,factory:function(){return function He(){return new fe((0,h.LFG)(Me))}()},providedIn:"platform"}),G})();function le(){return!!window.history.pushState}function Se(G,de){if(0==G.length)return de;if(0==de.length)return G;let V=0;return G.endsWith("/")&&V++,de.startsWith("/")&&V++,2==V?G+de.substring(1):1==V?G+de:G+"/"+de}function $e(G){const de=G.match(/#|\?|$/),V=de&&de.index||G.length;return G.slice(0,V-("/"===G[V-1]?1:0))+G.slice(V)}function it(G){return G&&"?"!==G[0]?"?"+G:G}let Le=(()=>{class G{historyGo(V){throw new Error("Not implemented")}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=h.Yz7({token:G,factory:function(){return function rt(G){const de=(0,h.LFG)(Me).location;return new Ot((0,h.LFG)(pe),de&&de.origin||"")}()},providedIn:"root"}),G})();const Ne=new h.OlP("appBaseHref");let Ot=(()=>{class G extends Le{constructor(V,ve){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==ve&&(ve=this._platformLocation.getBaseHrefFromDOM()),null==ve)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ve}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return Se(this._baseHref,V)}path(V=!1){const ve=this._platformLocation.pathname+it(this._platformLocation.search),Je=this._platformLocation.hash;return Je&&V?`${ve}${Je}`:ve}pushState(V,ve,Je,Ft){const $t=this.prepareExternalUrl(Je+it(Ft));this._platformLocation.pushState(V,ve,$t)}replaceState(V,ve,Je,Ft){const $t=this.prepareExternalUrl(Je+it(Ft));this._platformLocation.replaceState(V,ve,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var ve,Je;null===(Je=(ve=this._platformLocation).historyGo)||void 0===Je||Je.call(ve,V)}}return G.\u0275fac=function(V){return new(V||G)(h.LFG(pe),h.LFG(Ne,8))},G.\u0275prov=h.Yz7({token:G,factory:G.\u0275fac}),G})(),et=(()=>{class G extends Le{constructor(V,ve){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=ve&&(this._baseHref=ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let ve=this._platformLocation.hash;return null==ve&&(ve="#"),ve.length>0?ve.substring(1):ve}prepareExternalUrl(V){const ve=Se(this._baseHref,V);return ve.length>0?"#"+ve:ve}pushState(V,ve,Je,Ft){let $t=this.prepareExternalUrl(Je+it(Ft));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState(V,ve,$t)}replaceState(V,ve,Je,Ft){let $t=this.prepareExternalUrl(Je+it(Ft));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState(V,ve,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var ve,Je;null===(Je=(ve=this._platformLocation).historyGo)||void 0===Je||Je.call(ve,V)}}return G.\u0275fac=function(V){return new(V||G)(h.LFG(pe),h.LFG(Ne,8))},G.\u0275prov=h.Yz7({token:G,factory:G.\u0275fac}),G})(),Ee=(()=>{class G{constructor(V,ve){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const Je=this._platformStrategy.getBaseHref();this._platformLocation=ve,this._baseHref=$e(De(Je)),this._platformStrategy.onPopState(Ft=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ft.state,type:Ft.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,ve=""){return this.path()==this.normalize(V+it(ve))}normalize(V){return G.stripTrailingSlash(function xe(G,de){return G&&de.startsWith(G)?de.substring(G.length):de}(this._baseHref,De(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,ve="",Je=null){this._platformStrategy.pushState(Je,"",V,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+it(ve)),Je)}replaceState(V,ve="",Je=null){this._platformStrategy.replaceState(Je,"",V,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+it(ve)),Je)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var ve,Je;null===(Je=(ve=this._platformStrategy).historyGo)||void 0===Je||Je.call(ve,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)}))}_notifyUrlChangeListeners(V="",ve){this._urlChangeListeners.forEach(Je=>Je(V,ve))}subscribe(V,ve,Je){return this._subject.subscribe({next:V,error:ve,complete:Je})}}return G.normalizeQueryParams=it,G.joinWithSlash=Se,G.stripTrailingSlash=$e,G.\u0275fac=function(V){return new(V||G)(h.LFG(Le),h.LFG(pe))},G.\u0275prov=h.Yz7({token:G,factory:function(){return function _e(){return new Ee((0,h.LFG)(Le),(0,h.LFG)(pe))}()},providedIn:"root"}),G})();function De(G){return G.replace(/\/index.html$/,"")}const ne={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ye=(()=>((Ye=Ye||{})[Ye.Decimal=0]="Decimal",Ye[Ye.Percent=1]="Percent",Ye[Ye.Currency=2]="Currency",Ye[Ye.Scientific=3]="Scientific",Ye))(),ze=(()=>((ze=ze||{})[ze.Decimal=0]="Decimal",ze[ze.Group=1]="Group",ze[ze.List=2]="List",ze[ze.PercentSign=3]="PercentSign",ze[ze.PlusSign=4]="PlusSign",ze[ze.MinusSign=5]="MinusSign",ze[ze.Exponential=6]="Exponential",ze[ze.SuperscriptingExponent=7]="SuperscriptingExponent",ze[ze.PerMille=8]="PerMille",ze[ze.Infinity=9]="Infinity",ze[ze.NaN=10]="NaN",ze[ze.TimeSeparator=11]="TimeSeparator",ze[ze.CurrencyDecimal=12]="CurrencyDecimal",ze[ze.CurrencyGroup=13]="CurrencyGroup",ze))();function Dt(G,de){const V=(0,h.cg1)(G),ve=V[h.wAp.NumberSymbols][de];if(void 0===ve){if(de===ze.CurrencyDecimal)return V[h.wAp.NumberSymbols][ze.Decimal];if(de===ze.CurrencyGroup)return V[h.wAp.NumberSymbols][ze.Group]}return ve}const Vt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Un(G,de,V,ve,Je){const $t=function si(G,de="-"){const V={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ve=G.split(";"),Je=ve[0],Ft=ve[1],$t=-1!==Je.indexOf(".")?Je.split("."):[Je.substring(0,Je.lastIndexOf("0")+1),Je.substring(Je.lastIndexOf("0")+1)],In=$t[0],Gn=$t[1]||"";V.posPre=In.substr(0,In.indexOf("#"));for(let oi=0;oi<Gn.length;oi++){const hi=Gn.charAt(oi);"0"===hi?V.minFrac=V.maxFrac=oi+1:"#"===hi?V.maxFrac=oi+1:V.posSuf+=hi}const pi=In.split(",");if(V.gSize=pi[1]?pi[1].length:0,V.lgSize=pi[2]||pi[1]?(pi[2]||pi[1]).length:0,Ft){const oi=Je.length-V.posPre.length-V.posSuf.length,hi=Ft.indexOf("#");V.negPre=Ft.substr(0,hi).replace(/'/g,""),V.negSuf=Ft.substr(hi+oi).replace(/'/g,"")}else V.negPre=de+V.posPre,V.negSuf=V.posSuf;return V}(function Ct(G,de){return(0,h.cg1)(G)[h.wAp.NumberFormats][de]}(de,Ye.Currency),Dt(de,ze.MinusSign));return $t.minFrac=function K(G){let de;const V=ne[G];return V&&(de=V[2]),"number"==typeof de?de:2}(ve),$t.maxFrac=$t.minFrac,function Nn(G,de,V,ve,Je,Ft,$t=!1){let In="",Gn=!1;if(isFinite(G)){let pi=function Gi(G){let ve,Je,Ft,$t,In,de=Math.abs(G)+"",V=0;for((Je=de.indexOf("."))>-1&&(de=de.replace(".","")),(Ft=de.search(/e/i))>0?(Je<0&&(Je=Ft),Je+=+de.slice(Ft+1),de=de.substring(0,Ft)):Je<0&&(Je=de.length),Ft=0;"0"===de.charAt(Ft);Ft++);if(Ft===(In=de.length))ve=[0],Je=1;else{for(In--;"0"===de.charAt(In);)In--;for(Je-=Ft,ve=[],$t=0;Ft<=In;Ft++,$t++)ve[$t]=Number(de.charAt(Ft))}return Je>22&&(ve=ve.splice(0,21),V=Je-1,Je=1),{digits:ve,exponent:V,integerLen:Je}}(G);$t&&(pi=function Ti(G){if(0===G.digits[0])return G;const de=G.digits.length-G.integerLen;return G.exponent?G.exponent+=2:(0===de?G.digits.push(0,0):1===de&&G.digits.push(0),G.integerLen+=2),G}(pi));let oi=de.minInt,hi=de.minFrac,qi=de.maxFrac;if(Ft){const me=Ft.match(Vt);if(null===me)throw new Error(`${Ft} is not a valid digit info`);const Lt=me[1],wn=me[3],vi=me[5];null!=Lt&&(oi=Er(Lt)),null!=wn&&(hi=Er(wn)),null!=vi?qi=Er(vi):null!=wn&&hi>qi&&(qi=hi)}!function Ai(G,de,V){if(de>V)throw new Error(`The minimum number of digits after fraction (${de}) is higher than the maximum (${V}).`);let ve=G.digits,Je=ve.length-G.integerLen;const Ft=Math.min(Math.max(de,Je),V);let $t=Ft+G.integerLen,In=ve[$t];if($t>0){ve.splice(Math.max(G.integerLen,$t));for(let hi=$t;hi<ve.length;hi++)ve[hi]=0}else{Je=Math.max(0,Je),G.integerLen=1,ve.length=Math.max(1,$t=Ft+1),ve[0]=0;for(let hi=1;hi<$t;hi++)ve[hi]=0}if(In>=5)if($t-1<0){for(let hi=0;hi>$t;hi--)ve.unshift(0),G.integerLen++;ve.unshift(1),G.integerLen++}else ve[$t-1]++;for(;Je<Math.max(0,Ft);Je++)ve.push(0);let Gn=0!==Ft;const pi=de+G.integerLen,oi=ve.reduceRight(function(hi,qi,Ei,Wi){return Wi[Ei]=(qi+=hi)<10?qi:qi-10,Gn&&(0===Wi[Ei]&&Ei>=pi?Wi.pop():Gn=!1),qi>=10?1:0},0);oi&&(ve.unshift(oi),G.integerLen++)}(pi,hi,qi);let Ei=pi.digits,Wi=pi.integerLen;const W=pi.exponent;let B=[];for(Gn=Ei.every(me=>!me);Wi<oi;Wi++)Ei.unshift(0);for(;Wi<0;Wi++)Ei.unshift(0);Wi>0?B=Ei.splice(Wi,Ei.length):(B=Ei,Ei=[0]);const S=[];for(Ei.length>=de.lgSize&&S.unshift(Ei.splice(-de.lgSize,Ei.length).join(""));Ei.length>de.gSize;)S.unshift(Ei.splice(-de.gSize,Ei.length).join(""));Ei.length&&S.unshift(Ei.join("")),In=S.join(Dt(V,ve)),B.length&&(In+=Dt(V,Je)+B.join("")),W&&(In+=Dt(V,ze.Exponential)+"+"+W)}else In=Dt(V,ze.Infinity);return In=G<0&&!Gn?de.negPre+In+de.negSuf:de.posPre+In+de.posSuf,In}(G,$t,de,ze.CurrencyGroup,ze.CurrencyDecimal,Je).replace("\xa4",V).replace("\xa4","").trim()}function Er(G){const de=parseInt(G);if(isNaN(de))throw new Error("Invalid integer literal when parsing "+G);return de}function kr(G,de){de=encodeURIComponent(de);for(const V of G.split(";")){const ve=V.indexOf("="),[Je,Ft]=-1==ve?[V,""]:[V.slice(0,ve),V.slice(ve+1)];if(Je.trim()===de)return decodeURIComponent(Ft)}return null}let ur=(()=>{class G{constructor(V,ve,Je,Ft){this._iterableDiffers=V,this._keyValueDiffers=ve,this._ngEl=Je,this._renderer=Ft,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(ve=>this._toggleClass(ve.key,ve.currentValue)),V.forEachChangedItem(ve=>this._toggleClass(ve.key,ve.currentValue)),V.forEachRemovedItem(ve=>{ve.previousValue&&this._toggleClass(ve.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(ve=>{if("string"!=typeof ve.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(ve.item)}`);this._toggleClass(ve.item,!0)}),V.forEachRemovedItem(ve=>this._toggleClass(ve.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(ve=>this._toggleClass(ve,!0)):Object.keys(V).forEach(ve=>this._toggleClass(ve,!!V[ve])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(ve=>this._toggleClass(ve,!1)):Object.keys(V).forEach(ve=>this._toggleClass(ve,!1)))}_toggleClass(V,ve){(V=V.trim())&&V.split(/\s+/g).forEach(Je=>{ve?this._renderer.addClass(this._ngEl.nativeElement,Je):this._renderer.removeClass(this._ngEl.nativeElement,Je)})}}return G.\u0275fac=function(V){return new(V||G)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},G.\u0275dir=h.lG2({type:G,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),G})();class mr{constructor(de,V,ve,Je){this.$implicit=de,this.ngForOf=V,this.index=ve,this.count=Je}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class G{constructor(V,ve,Je){this._viewContainer=V,this._template=ve,this._differs=Je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const ve=this._viewContainer;V.forEachOperation((Je,Ft,$t)=>{if(null==Je.previousIndex)ve.createEmbeddedView(this._template,new mr(Je.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)ve.remove(null===Ft?void 0:Ft);else if(null!==Ft){const In=ve.get(Ft);ve.move(In,$t),Nr(In,Je)}});for(let Je=0,Ft=ve.length;Je<Ft;Je++){const In=ve.get(Je).context;In.index=Je,In.count=Ft,In.ngForOf=this._ngForOf}V.forEachIdentityChange(Je=>{Nr(ve.get(Je.currentIndex),Je)})}static ngTemplateContextGuard(V,ve){return!0}}return G.\u0275fac=function(V){return new(V||G)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},G.\u0275dir=h.lG2({type:G,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),G})();function Nr(G,de){G.context.$implicit=de.item}let dr=(()=>{class G{constructor(V,ve){this._viewContainer=V,this._context=new di,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ve}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Lr("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Lr("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,ve){return!0}}return G.\u0275fac=function(V){return new(V||G)(h.Y36(h.s_b),h.Y36(h.Rgc))},G.\u0275dir=h.lG2({type:G,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),G})();class di{constructor(){this.$implicit=null,this.ngIf=null}}function Lr(G,de){if(de&&!de.createEmbeddedView)throw new Error(`${G} must be a TemplateRef, but received '${(0,h.AaK)(de)}'.`)}class ys{constructor(de,V){this._viewContainerRef=de,this._templateRef=V,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(de){de&&!this._created?this.create():!de&&this._created&&this.destroy()}}let Bi=(()=>{class G{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(V){this._ngSwitch=V,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(V){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(V)}_matchCase(V){const ve=V==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ve,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ve}_updateDefaultCases(V){if(this._defaultViews&&V!==this._defaultUsed){this._defaultUsed=V;for(let ve=0;ve<this._defaultViews.length;ve++)this._defaultViews[ve].enforceState(V)}}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275dir=h.lG2({type:G,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),G})(),yr=(()=>{class G{constructor(V,ve,Je){this.ngSwitch=Je,Je._addCase(),this._view=new ys(V,ve)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return G.\u0275fac=function(V){return new(V||G)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Bi,9))},G.\u0275dir=h.lG2({type:G,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),G})(),vs=(()=>{class G{constructor(V,ve,Je){Je._addDefault(new ys(V,ve))}}return G.\u0275fac=function(V){return new(V||G)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Bi,9))},G.\u0275dir=h.lG2({type:G,selectors:[["","ngSwitchDefault",""]]}),G})(),bs=(()=>{class G{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(V){if(V.ngTemplateOutlet){const ve=this._viewContainerRef;this._viewRef&&ve.remove(ve.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ve.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return G.\u0275fac=function(V){return new(V||G)(h.Y36(h.s_b))},G.\u0275dir=h.lG2({type:G,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[h.TTD]}),G})();function er(G,de){return new h.vHH(2100,"")}class zr{createSubscription(de,V){return de.subscribe({next:V,error:ve=>{throw ve}})}dispose(de){de.unsubscribe()}onDestroy(de){de.unsubscribe()}}class es{createSubscription(de,V){return de.then(V,ve=>{throw ve})}dispose(de){}onDestroy(de){}}const To=new es,xi=new zr;let to=(()=>{class G{constructor(V){this._ref=V,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,ve=>this._updateLatestValue(V,ve))}_selectStrategy(V){if((0,h.QGY)(V))return To;if((0,h.F4k)(V))return xi;throw er()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,ve){V===this._obj&&(this._latestValue=ve,this._ref.markForCheck())}}return G.\u0275fac=function(V){return new(V||G)(h.Y36(h.sBO,16))},G.\u0275pipe=h.Yjl({name:"async",type:G,pure:!1}),G})(),Wr=(()=>{class G{constructor(V,ve="USD"){this._locale=V,this._defaultCurrencyCode=ve}transform(V,ve=this._defaultCurrencyCode,Je="symbol",Ft,$t){if(!function xr(G){return!(null==G||""===G||G!=G)}(V))return null;$t=$t||this._locale,"boolean"==typeof Je&&(Je=Je?"symbol":"code");let In=ve||this._defaultCurrencyCode;"code"!==Je&&(In="symbol"===Je||"symbol-narrow"===Je?function R(G,de,V="en"){const ve=function St(G){return(0,h.cg1)(G)[h.wAp.Currencies]}(V)[G]||ne[G]||[],Je=ve[1];return"narrow"===de&&"string"==typeof Je?Je:ve[0]||G}(In,"symbol"===Je?"wide":"narrow",$t):Je);try{return Un(function Br(G){if("string"==typeof G&&!isNaN(Number(G)-parseFloat(G)))return Number(G);if("number"!=typeof G)throw new Error(`${G} is not a number`);return G}(V),$t,In,ve,Ft)}catch(Gn){throw er()}}}return G.\u0275fac=function(V){return new(V||G)(h.Y36(h.soG,16),h.Y36(h.EJc,16))},G.\u0275pipe=h.Yjl({name:"currency",type:G,pure:!0}),G})();let ls=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275mod=h.oAB({type:G}),G.\u0275inj=h.cJS({}),G})();const Cr="browser";function Oi(G){return G===Cr}function Ds(G){return"server"===G}let ss=(()=>{class G{}return G.\u0275prov=(0,h.Yz7)({token:G,providedIn:"root",factory:()=>new gr((0,h.LFG)(Me),window)}),G})();class gr{constructor(de,V){this.document=de,this.window=V,this.offset=()=>[0,0]}setOffset(de){this.offset=Array.isArray(de)?()=>de:de}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(de){this.supportsScrolling()&&this.window.scrollTo(de[0],de[1])}scrollToAnchor(de){if(!this.supportsScrolling())return;const V=function Zr(G,de){const V=G.getElementById(de)||G.getElementsByName(de)[0];if(V)return V;if("function"==typeof G.createTreeWalker&&G.body&&(G.body.createShadowRoot||G.body.attachShadow)){const ve=G.createTreeWalker(G.body,NodeFilter.SHOW_ELEMENT);let Je=ve.currentNode;for(;Je;){const Ft=Je.shadowRoot;if(Ft){const $t=Ft.getElementById(de)||Ft.querySelector(`[name="${de}"]`);if($t)return $t}Je=ve.nextNode()}}return null}(this.document,de);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(de){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=de)}}scrollToElement(de){const V=de.getBoundingClientRect(),ve=V.left+this.window.pageXOffset,Je=V.top+this.window.pageYOffset,Ft=this.offset();this.window.scrollTo(ve-Ft[0],Je-Ft[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const de=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!de||!de.writable&&!de.set)}catch(de){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(de){return!1}}}function cs(G){return Object.getOwnPropertyDescriptor(G,"scrollRestoration")}class gi{}},5e3:(Gt,Ze,y)=>{y.d(Ze,{deG:()=>Mr,tb:()=>PE,AFp:()=>AE,ip1:()=>SE,CZH:()=>c0,hGG:()=>pw,z2F:()=>g0,sBO:()=>XC,Sil:()=>RC,_Vd:()=>Jf,EJc:()=>xC,SBq:()=>Xd,qLn:()=>tl,vpe:()=>Ha,tBr:()=>Jn,XFs:()=>hn,OlP:()=>Tr,zs3:()=>Co,ZZ4:()=>C0,aQg:()=>w0,soG:()=>d0,YKP:()=>vg,h0i:()=>Vu,PXZ:()=>$C,R0b:()=>kl,FiY:()=>ei,Lbi:()=>RE,g9A:()=>OE,n_E:()=>Hu,Qsj:()=>qb,FYo:()=>Ky,JOm:()=>Y,q3G:()=>fi,tp0:()=>lr,Rgc:()=>th,dDg:()=>LE,q4F:()=>qy,GfV:()=>tp,s_b:()=>nh,ifc:()=>Et,eFA:()=>UE,G48:()=>QC,Gpc:()=>fe,f3M:()=>Ke,X6Q:()=>qC,_c5:()=>fw,VLi:()=>jC,c2e:()=>kE,zSh:()=>Id,wAp:()=>ii,vHH:()=>$e,EiD:()=>Xa,mCW:()=>lo,qzn:()=>Bo,JVY:()=>lu,pB0:()=>Ya,eBb:()=>va,L6k:()=>mh,LAX:()=>gh,cg1:()=>Ym,kL8:()=>qm,yhl:()=>ph,dqk:()=>mn,sIi:()=>qc,CqO:()=>Tm,QGY:()=>Y_,F4k:()=>gs,RDi:()=>cs,AaK:()=>pe,z3N:()=>Xs,qOj:()=>gf,TTD:()=>xr,_Bn:()=>Xf,xp6:()=>$g,uIk:()=>mm,Gre:()=>$m,ekj:()=>Lf,Suo:()=>Pn,Xpm:()=>ke,lG2:()=>ct,Yz7:()=>se,cJS:()=>ot,oAB:()=>vn,Yjl:()=>Ve,Y36:()=>_r,_UZ:()=>Of,GkF:()=>Sr,BQk:()=>Pf,ynx:()=>Rf,qZA:()=>Pd,TgZ:()=>Jc,EpF:()=>eb,n5z:()=>Qo,Ikx:()=>Km,LFG:()=>U,$8M:()=>Bl,$Z:()=>fo,NdJ:()=>Mm,CRH:()=>Mi,oxw:()=>J_,ALo:()=>Ig,lcZ:()=>Tg,Hsn:()=>ty,F$t:()=>ey,Q6J:()=>wa,VKq:()=>tv,iGM:()=>qt,MAs:()=>N_,Jf7:()=>Fc,CHM:()=>Ko,oJD:()=>Sc,LSH:()=>fu,kYT:()=>ai,Udp:()=>Ru,WFA:()=>Sm,d8E:()=>Zm,YNc:()=>_m,W1O:()=>Ps,_uU:()=>Vm,Oqu:()=>Um,hij:()=>Vf,AsE:()=>Uf,Gf:()=>yn});var h=y(7579),E=y(727),g=y(8306),x=y(6451),we=y(3099);function be(n){for(let i in n)if(n[i]===be)return i;throw Error("Could not find renamed property on target object.")}function Me(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ie(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const q=be({__forward_ref__:be});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return pe(this())},n}function le(n){return He(n)?n():n}function He(n){return"function"==typeof n&&n.hasOwnProperty(q)&&n.__forward_ref__===fe}class $e extends Error{constructor(i,o){super(function it(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,o)),this.code=i}}function Le(n){return"string"==typeof n?n:null==n?"":String(n)}function rt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Le(n)}function Ee(n,i){const o=i?` in ${i}`:"";throw new $e(-201,`No provider for ${rt(n)} found${o}`)}function Ae(n,i){null==n&&function Qe(n,i,o,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function se(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dt(n){return Ct(n,St)||Ct(n,Rn)}function Ct(n,i){return n.hasOwnProperty(i)?n[i]:null}function We(n){return n&&(n.hasOwnProperty(rn)||n.hasOwnProperty(Bn))?n[rn]:null}const St=be({\u0275prov:be}),rn=be({\u0275inj:be}),Rn=be({ngInjectableDef:be}),Bn=be({ngInjectorDef:be});var hn=(()=>((hn=hn||{})[hn.Default=0]="Default",hn[hn.Host=1]="Host",hn[hn.Self=2]="Self",hn[hn.SkipSelf=4]="SkipSelf",hn[hn.Optional=8]="Optional",hn))();let gn;function dt(n){const i=gn;return gn=n,i}function R(n,i,o){const l=Dt(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&hn.Optional?null:void 0!==i?i:void Ee(pe(n),"Injector")}function K(n){return{toString:n}.toString()}var Z=(()=>((Z=Z||{})[Z.OnPush=0]="OnPush",Z[Z.Default=1]="Default",Z))(),Et=(()=>{return(n=Et||(Et={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Et;var n})();const kt="undefined"!=typeof globalThis&&globalThis,Zt="undefined"!=typeof window&&window,an="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,mn=kt||"undefined"!=typeof global&&global||Zt||an,ti={},on=[],Si=be({\u0275cmp:be}),qe=be({\u0275dir:be}),ge=be({\u0275pipe:be}),j=be({\u0275mod:be}),N=be({\u0275fac:be}),k=be({__NG_ELEMENT_ID__:be});let ye=0;function ke(n){return K(()=>{const o={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Z.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Et.Emulated,id:"c",styles:n.styles||on,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,p=n.features,b=n.pipes;return l.id+=ye++,l.inputs=_t(n.inputs,o),l.outputs=_t(n.outputs),p&&p.forEach(T=>T(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(fn):null,l.pipeDefs=b?()=>("function"==typeof b?b():b).map(Cn):null,l})}function fn(n){return ht(n)||function Vt(n){return n[qe]||null}(n)}function Cn(n){return function wt(n){return n[ge]||null}(n)}const Qn={};function vn(n){return K(()=>{const i={type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Qn[n.id]=n.type),i})}function ai(n,i){return K(()=>{const o=Be(n,!0);o.declarations=i.declarations||on,o.imports=i.imports||on,o.exports=i.exports||on})}function _t(n,i){if(null==n)return ti;const o={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),o[c]=l,i&&(i[c]=p)}return o}const ct=ke;function Ve(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function ht(n){return n[Si]||null}function Be(n,i){const o=n[j]||null;if(!o&&!0===i)throw new Error(`Type ${pe(n)} does not have '\u0275mod' property.`);return o}function Bi(n){return Array.isArray(n)&&"object"==typeof n[1]}function yr(n){return Array.isArray(n)&&!0===n[1]}function vs(n){return 0!=(8&n.flags)}function Ks(n){return 2==(2&n.flags)}function or(n){return 1==(1&n.flags)}function Ir(n){return null!==n.template}function Zs(n){return 0!=(512&n[2])}function ar(n,i){return n.hasOwnProperty(N)?n[N]:null}class Wr{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function xr(){return Br}function Br(n){return n.type.prototype.ngOnChanges&&(n.setInput=Wo),Ls}function Ls(){const n=Cr(this),i=null==n?void 0:n.current;if(i){const o=n.previous;if(o===ti)n.previous=i;else for(let l in i)o[l]=i[l];n.current=null,this.ngOnChanges(i)}}function Wo(n,i,o,l){const c=Cr(n)||function Cs(n,i){return n[ls]=i}(n,{previous:ti,current:null}),p=c.current||(c.current={}),b=c.previous,T=this.declaredInputs[o],P=b[T];p[T]=new Wr(P&&P.currentValue,i,b===ti),n[l]=i}xr.ngInherit=!0;const ls="__ngSimpleChanges__";function Cr(n){return n[ls]||null}let gr;function cs(n){gr=n}function Zr(){return void 0!==gr?gr:"undefined"!=typeof document?document:void 0}function gi(n){return!!n.listen}const G={createRenderer:(n,i)=>Zr()};function V(n){for(;Array.isArray(n);)n=n[0];return n}function Ft(n,i){return V(i[n])}function $t(n,i){return V(i[n.index])}function Gn(n,i){return n.data[i]}function pi(n,i){return n[i]}function oi(n,i){const o=i[n];return Bi(o)?o:o[0]}function hi(n){return 4==(4&n[2])}function qi(n){return 128==(128&n[2])}function Wi(n,i){return null==i?null:n[i]}function W(n){n[18]=0}function B(n,i){n[5]+=i;let o=n,l=n[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const S={lFrame:kn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vr(){return S.bindingsEnabled}function Jt(){return S.lFrame.lView}function _i(){return S.lFrame.tView}function Ko(n){return S.lFrame.contextLView=n,n[8]}function nr(){let n=Zo();for(;null!==n&&64===n.type;)n=n.parent;return n}function Zo(){return S.lFrame.currentTNode}function Is(n,i){const o=S.lFrame;o.currentTNode=n,o.isParent=i}function So(){return S.lFrame.isParent}function Ta(){S.lFrame.isParent=!1}function no(){return S.isInCheckNoChangesMode}function io(n){S.isInCheckNoChangesMode=n}function pr(){const n=S.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function re(){return S.lFrame.bindingIndex++}function v(n){const i=S.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function ae(n,i){const o=S.lFrame;o.bindingIndex=o.bindingRootIndex=n,nt(i)}function nt(n){S.lFrame.currentDirectiveIndex=n}function st(n){const i=S.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Mt(){return S.lFrame.currentQueryIndex}function zt(n){S.lFrame.currentQueryIndex=n}function Dn(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function On(n,i,o){if(o&hn.SkipSelf){let c=i,p=n;for(;!(c=c.parent,null!==c||o&hn.Host||(c=Dn(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;i=c,n=p}const l=S.lFrame=li();return l.currentTNode=i,l.lView=n,!0}function $n(n){const i=li(),o=n[1];S.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function li(){const n=S.lFrame,i=null===n?null:n.child;return null===i?kn(n):i}function kn(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Kn(){const n=S.lFrame;return S.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Pi=Kn;function tr(){const n=Kn();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ci(){return S.lFrame.selectedIndex}function Or(n){S.lFrame.selectedIndex=n}function Vi(){const n=S.lFrame;return Gn(n.tView,n.selectedIndex)}function qr(n,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:T,ngAfterViewInit:P,ngAfterViewChecked:X,ngOnDestroy:ue}=p;b&&(n.contentHooks||(n.contentHooks=[])).push(-o,b),T&&((n.contentHooks||(n.contentHooks=[])).push(o,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,T)),P&&(n.viewHooks||(n.viewHooks=[])).push(-o,P),X&&((n.viewHooks||(n.viewHooks=[])).push(o,X),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,X)),null!=ue&&(n.destroyHooks||(n.destroyHooks=[])).push(o,ue)}}function so(n,i,o){En(n,i,3,o)}function hs(n,i,o,l){(3&n[2])===o&&En(n,i,o,l)}function Mn(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function En(n,i,o,l){const p=null!=l?l:-1,b=i.length-1;let T=0;for(let P=void 0!==l?65535&n[18]:0;P<b;P++)if("number"==typeof i[P+1]){if(T=i[P],null!=l&&T>=l)break}else i[P]<0&&(n[18]+=65536),(T<p||-1==p)&&(Wn(n,o,i,P),n[18]=(4294901760&n[18])+P+2),P++}function Wn(n,i,o,l){const c=o[l]<0,p=o[l+1],T=n[c?-o[l]:o[l]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{p.call(T)}finally{}}}else try{p.call(T)}finally{}}class Ui{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ki(n,i,o){const l=gi(n);let c=0;for(;c<o.length;){const p=o[c];if("number"==typeof p){if(0!==p)break;c++;const b=o[c++],T=o[c++],P=o[c++];l?n.setAttribute(i,T,P,b):i.setAttributeNS(b,T,P)}else{const b=p,T=o[++c];ga(b)?l&&n.setProperty(i,b,T):l?n.setAttribute(i,b,T):i.setAttribute(b,T),c++}}return c}function Ms(n){return 3===n||4===n||6===n}function ga(n){return 64===n.charCodeAt(0)}function Us(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?o=c:0===o||dl(n,o,c,null,-1===o||2===o?i[++l]:null)}}return n}function dl(n,i,o,l,c){let p=0,b=n.length;if(-1===i)b=-1;else for(;p<n.length;){const T=n[p++];if("number"==typeof T){if(T===i){b=-1;break}if(T>i){b=p-1;break}}}for(;p<n.length;){const T=n[p];if("number"==typeof T)break;if(T===o){if(null===l)return void(null!==c&&(n[p+1]=c));if(l===n[p+1])return void(n[p+2]=c)}p++,null!==l&&p++,null!==c&&p++}-1!==b&&(n.splice(b,0,i),p=b+1),n.splice(p++,0,o),null!==l&&n.splice(p++,0,l),null!==c&&n.splice(p++,0,c)}function $a(n){return-1!==n}function oo(n){return 32767&n}function Xi(n,i){let o=function hl(n){return n>>16}(n),l=i;for(;o>0;)l=l[15],o--;return l}let Ma=!0;function la(n){const i=Ma;return Ma=n,i}let $=0;function te(n,i){const o=lt(n,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(n.injectorIndex=i.length,je(l.data,n),je(i,null),je(l.blueprint,null));const c=jt(n,i),p=n.injectorIndex;if($a(c)){const b=oo(c),T=Xi(c,i),P=T[1].data;for(let X=0;X<8;X++)i[p+X]=T[b+X]|P[b+X]}return i[p+8]=c,p}function je(n,i){n.push(0,0,0,0,0,0,0,0,i)}function lt(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function jt(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,l=null,c=i;for(;null!==c;){const p=c[1],b=p.type;if(l=2===b?p.declTNode:1===b?c[6]:null,null===l)return-1;if(o++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Ht(n,i,o){!function Q(n,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(k)&&(l=o[k]),null==l&&(l=o[k]=$++);const c=255&l;i.data[n+(c>>5)]|=1<<c}(n,i,o)}function Fn(n,i,o){if(o&hn.Optional)return n;Ee(i,"NodeInjector")}function en(n,i,o,l){if(o&hn.Optional&&void 0===l&&(l=null),0==(o&(hn.Self|hn.Host))){const c=n[9],p=dt(void 0);try{return c?c.get(i,l,o&hn.Optional):R(i,l,o&hn.Optional)}finally{dt(p)}}return Fn(l,i,o)}function Tt(n,i,o,l=hn.Default,c){if(null!==n){const p=function Fl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(k)?n[k]:void 0;return"number"==typeof i?i>=0?255&i:Ji:i}(o);if("function"==typeof p){if(!On(i,n,l))return l&hn.Host?Fn(c,o,l):en(i,o,l,c);try{const b=p(l);if(null!=b||l&hn.Optional)return b;Ee(o)}finally{Pi()}}else if("number"==typeof p){let b=null,T=lt(n,i),P=-1,X=l&hn.Host?i[16][6]:null;for((-1===T||l&hn.SkipSelf)&&(P=-1===T?jt(n,i):i[T+8],-1!==P&&Ll(l,!1)?(b=i[1],T=oo(P),i=Xi(P,i)):T=-1);-1!==T;){const ue=i[1];if(Sa(p,T,ue.data)){const Ge=_a(T,i,o,b,l,X);if(Ge!==Qt)return Ge}P=i[T+8],-1!==P&&Ll(l,i[1].data[T+8]===X)&&Sa(p,T,i)?(b=ue,T=oo(P),i=Xi(P,i)):T=-1}}}return en(i,o,l,c)}const Qt={};function Ji(){return new Aa(nr(),Jt())}function _a(n,i,o,l,c,p){const b=i[1],T=b.data[n+8],ue=ya(T,b,o,null==l?Ks(T)&&Ma:l!=b&&0!=(3&T.type),c&hn.Host&&p===T);return null!==ue?Ro(i,b,ue,T):Qt}function ya(n,i,o,l,c){const p=n.providerIndexes,b=i.data,T=1048575&p,P=n.directiveStart,ue=p>>20,ut=c?T+ue:n.directiveEnd;for(let At=l?T:T+ue;At<ut;At++){const Yt=b[At];if(At<P&&o===Yt||At>=P&&Yt.type===o)return At}if(c){const At=b[P];if(At&&Ir(At)&&At.type===o)return P}return null}function Ro(n,i,o,l){let c=n[o];const p=i.data;if(function Ts(n){return n instanceof Ui}(c)){const b=c;b.resolving&&function Ne(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new $e(-200,`Circular dependency in DI detected for ${n}${o}`)}(rt(p[o]));const T=la(b.canSeeViewProviders);b.resolving=!0;const P=b.injectImpl?dt(b.injectImpl):null;On(n,l,hn.Default);try{c=n[o]=b.factory(void 0,p,n,l),i.firstCreatePass&&o>=l.directiveStart&&function xo(n,i,o){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:p}=i.type.prototype;if(l){const b=Br(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,b),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,b)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,c),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],i)}finally{null!==P&&dt(P),la(T),b.resolving=!1,Pi()}}return c}function Sa(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function Ll(n,i){return!(n&hn.Self||n&hn.Host&&i)}class Aa{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return Tt(this._tNode,this._lView,i,l,o)}}function Qo(n){return K(()=>{const i=n.prototype.constructor,o=i[N]||fl(i),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const p=c[N]||fl(c);if(p&&p!==o)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function fl(n){return He(n)?()=>{const i=fl(le(n));return i&&i()}:ar(n)}function Bl(n){return function cn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const l=o.length;let c=0;for(;c<l;){const p=o[c];if(Ms(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<l&&"string"==typeof o[c];)c++;else{if(p===i)return o[c+1];c+=2}}}return null}(nr(),n)}const Xn="__parameters__";function Zn(n,i,o){return K(()=>{const l=function Zi(n){return function(...o){if(n){const l=n(...o);for(const c in l)this[c]=l[c]}}}(i);function c(...p){if(this instanceof c)return l.apply(this,p),this;const b=new c(...p);return T.annotation=b,T;function T(P,X,ue){const Ge=P.hasOwnProperty(Xn)?P[Xn]:Object.defineProperty(P,Xn,{value:[]})[Xn];for(;Ge.length<=ue;)Ge.push(null);return(Ge[ue]=Ge[ue]||[]).push(b),P}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Tr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=se({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Mr=new Tr("AnalyzeForEntryComponents");function ao(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let l=n[o];Array.isArray(l)?(i===n&&(i=n.slice(0,o)),ao(l,i)):i!==n&&i.push(l)}return i}function Xr(n,i){n.forEach(o=>Array.isArray(o)?Xr(o,i):i(o))}function xa(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Rt(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Oa(n,i){const o=[];for(let l=0;l<n;l++)o.push(i);return o}function Ss(n,i,o){let l=da(n,i);return l>=0?n[1|l]=o:(l=~l,function No(n,i,o,l){let c=n.length;if(c==i)n.push(o,l);else if(1===c)n.push(l,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=o,n[i+1]=l}}(n,l,i,o)),l}function ua(n,i){const o=da(n,i);if(o>=0)return n[1|o]}function da(n,i){return function ps(n,i,o){let l=0,c=n.length>>o;for(;c!==l;){const p=l+(c-l>>1),b=n[p<<o];if(i===b)return p<<o;b>i?c=p:l=p+1}return~(c<<o)}(n,i,1)}const ms={},Fo="__NG_DI_FLAG__",vr="ngTempTokenPath",Ra=/\n/gm,ea="__source",Gl=be({provide:String,useValue:be});let Za;function vl(n){const i=Za;return Za=n,i}function F(n,i=hn.Default){if(void 0===Za)throw new $e(203,"");return null===Za?R(n,void 0,i):Za.get(n,i&hn.Optional?null:void 0,i)}function U(n,i=hn.Default){return(function ln(){return gn}()||F)(le(n),i)}const Ke=U;function bt(n){const i=[];for(let o=0;o<n.length;o++){const l=le(n[o]);if(Array.isArray(l)){if(0===l.length)throw new $e(900,"");let c,p=hn.Default;for(let b=0;b<l.length;b++){const T=l[b],P=tn(T);"number"==typeof P?-1===P?c=T.token:p|=P:c=T}i.push(U(c,p))}else i.push(U(l))}return i}function Pt(n,i){return n[Fo]=i,n.prototype[Fo]=i,n}function tn(n){return n[Fo]}const Jn=Pt(Zn("Inject",n=>({token:n})),-1),ei=Pt(Zn("Optional"),8),lr=Pt(Zn("SkipSelf"),4);let Cc,Dc;function $l(n){var i;return(null===(i=function Pa(){if(void 0===Cc&&(Cc=null,mn.trustedTypes))try{Cc=mn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Cc}())||void 0===i?void 0:i.createHTML(n))||n}function xs(n){var i;return(null===(i=function zl(){if(void 0===Dc&&(Dc=null,mn.trustedTypes))try{Dc=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Dc}())||void 0===i?void 0:i.createHTML(n))||n}class El{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class hh extends El{getTypeName(){return"HTML"}}class fh extends El{getTypeName(){return"Style"}}class cp extends El{getTypeName(){return"Script"}}class up extends El{getTypeName(){return"URL"}}class dp extends El{getTypeName(){return"ResourceURL"}}function Xs(n){return n instanceof El?n.changingThisBreaksApplicationSecurity:n}function Bo(n,i){const o=ph(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function ph(n){return n instanceof El&&n.getTypeName()||null}function lu(n){return new hh(n)}function mh(n){return new fh(n)}function va(n){return new cp(n)}function gh(n){return new up(n)}function Ya(n){return new dp(n)}class cu{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString($l(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class uu{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=$l(i),o;const l=this.inertDocument.createElement("body");return l.innerHTML=$l(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const b=o.item(c).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&i.removeAttribute(b)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Wl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lo(n){return(n=String(n)).match(Wl)||n.match(Zu)?n:"unsafe:"+n}function ia(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function ka(...n){const i={};for(const o of n)for(const l in o)o.hasOwnProperty(l)&&(i[l]=!0);return i}const qu=ia("area,br,col,hr,img,wbr"),Ic=ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_h=ia("rp,rt"),Kl=ka(qu,ka(Ic,ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ka(_h,ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ka(_h,Ic)),Tc=ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xu=ia("srcset"),qa=ka(Tc,Xu,ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yh=ia("script,style,template");class Qa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Kl.hasOwnProperty(o))return this.sanitizedSomething=!0,!yh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=i.attributes;for(let c=0;c<l.length;c++){const p=l.item(c),b=p.name,T=b.toLowerCase();if(!qa.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let P=p.value;Tc[T]&&(P=lo(P)),Xu[T]&&(n=P,P=(n=String(n)).split(",").map(i=>lo(i.trim())).join(", ")),this.buf.push(" ",b,'="',Ju(P),'"')}var n;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Kl.hasOwnProperty(o)&&!qu.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Ju(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const du=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zl=/([^\#-~ |!])/g;function Ju(n){return n.replace(/&/g,"&amp;").replace(du,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Zl,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cl;function Xa(n,i){let o=null;try{Cl=Cl||function Wu(n){const i=new uu(n);return function Ku(){try{return!!(new window.DOMParser).parseFromString($l(""),"text/html")}catch(n){return!1}}()?new cu(i):i}(n);let l=i?String(i):"";o=Cl.getInertBodyElement(l);let c=5,p=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=p,p=o.innerHTML,o=Cl.getInertBodyElement(l)}while(l!==p);return $l((new Qa).sanitizeChildren(ed(o)||o))}finally{if(o){const l=ed(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ed(n){return"content"in n&&function mp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var fi=(()=>((fi=fi||{})[fi.NONE=0]="NONE",fi[fi.HTML=1]="HTML",fi[fi.STYLE=2]="STYLE",fi[fi.SCRIPT=3]="SCRIPT",fi[fi.URL=4]="URL",fi[fi.RESOURCE_URL=5]="RESOURCE_URL",fi))();function Sc(n){const i=ql();return i?xs(i.sanitize(fi.HTML,n)||""):Bo(n,"HTML")?xs(Xs(n)):Xa(Zr(),Le(n))}function fu(n){const i=ql();return i?i.sanitize(fi.URL,n)||"":Bo(n,"URL")?Xs(n):lo(Le(n))}function ql(){const n=Jt();return n&&n[12]}const Gr="__ngContext__";function ni(n,i){n[Gr]=i}function Oc(n){const i=function Ja(n){return n[Gr]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function Ea(n){return n.ngOriginalError}function Pc(n,...i){n.error(...i)}class tl{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),l=function Rc(n){return n&&n.ngErrorLogger||Pc}(i);l(this._console,"ERROR",i),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Ea(i);for(;o&&Ea(o);)o=Ea(o);return o||null}}const Nc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(mn))();function Fc(n){return n.ownerDocument.defaultView}function pa(n){return n instanceof Function?n():n}var Y=(()=>((Y=Y||{})[Y.Important=1]="Important",Y[Y.DashCase=2]="DashCase",Y))();function pt(n,i){return undefined(n,i)}function An(n){const i=n[3];return yr(i)?i[3]:i}function Jr(n){return Ql(n[13])}function Eo(n){return Ql(n[4])}function Ql(n){for(;null!==n&&!yr(n);)n=n[4];return n}function il(n,i,o,l,c){if(null!=l){let p,b=!1;yr(l)?p=l:Bi(l)&&(b=!0,l=l[0]);const T=V(l);0===n&&null!==o?null==c?kg(i,o,T):Bc(i,o,T,c||null,!0):1===n&&null!==o?Bc(i,o,T,c||null,!0):2===n?function wp(n,i,o){const l=xh(n,i);l&&function _v(n,i,o,l){gi(n)?n.removeChild(i,o,l):i.removeChild(o)}(n,l,i,o)}(i,T,b):3===n&&i.destroyNode(T),null!=p&&function Ip(n,i,o,l,c){const p=o[7];p!==V(o)&&il(i,n,l,p,c);for(let T=10;T<o.length;T++){const P=o[T];dd(P[1],P,n,i,l,p)}}(i,n,p,o,c)}}function Na(n,i,o){if(gi(n))return n.createElement(i,o);{const l=null!==o?function ss(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(o):null;return null===l?n.createElement(i):n.createElementNS(l,i)}}function xg(n,i){const o=n[9],l=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,B(c,-1)),o.splice(l,1)}function Mh(n,i){if(n.length<=10)return;const o=10+i,l=n[o];if(l){const c=l[17];null!==c&&c!==n&&xg(c,l),i>0&&(n[o-1][4]=l[4]);const p=Rt(n,10+i);!function Dl(n,i){dd(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const b=p[19];null!==b&&b.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Fa(n,i){if(!(256&i[2])){const o=i[11];gi(o)&&o.destroyNode&&dd(n,i,o,3,null,null),function vp(n){let i=n[13];if(!i)return Sh(n[1],n);for(;i;){let o=null;if(Bi(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==n;)Bi(i)&&Sh(i[1],i),i=i[3];null===i&&(i=n),Bi(i)&&Sh(i[1],i),o=i&&i[4]}i=o}}(i)}}function Sh(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function Og(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let l=0;l<o.length;l+=2){const c=i[o[l]];if(!(c instanceof Ui)){const p=o[l+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const T=c[p[b]],P=p[b+1];try{P.call(T)}finally{}}else try{p.call(c)}finally{}}}}(n,i),function Ah(n,i){const o=n.cleanup,l=i[7];let c=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const b=o[p+1],T="function"==typeof b?b(i):V(i[b]),P=l[c=o[p+2]],X=o[p+3];"boolean"==typeof X?T.removeEventListener(o[p],P,X):X>=0?l[c=X]():l[c=-X].unsubscribe(),p+=2}else{const b=l[c=o[p+1]];o[p].call(b)}if(null!==l){for(let p=c+1;p<l.length;p++)l[p]();i[7]=null}}(n,i),1===i[1].type&&gi(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&yr(i[3])){o!==i[3]&&xg(o,i);const l=i[19];null!==l&&l.detachView(n)}}}function Rg(n,i,o){return function Pg(n,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const c=n.data[l.directiveStart].encapsulation;if(c===Et.None||c===Et.Emulated)return null}return $t(l,o)}(n,i.parent,o)}function Bc(n,i,o,l,c){gi(n)?n.insertBefore(i,o,l,c):i.insertBefore(o,l,c)}function kg(n,i,o){gi(n)?n.appendChild(i,o):i.appendChild(o)}function Ng(n,i,o,l,c){null!==l?Bc(n,i,o,l,c):kg(n,i,o)}function xh(n,i){return gi(n)?n.parentNode(i):i.parentNode}function Fg(n,i,o){return Bg(n,i,o)}let Bg=function Lg(n,i,o){return 40&n.type?$t(n,o):null};function Oh(n,i,o,l){const c=Rg(n,l,i),p=i[11],T=Fg(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(o))for(let P=0;P<o.length;P++)Ng(p,c,o[P],T,!1);else Ng(p,c,o,T,!1)}function Rh(n,i){if(null!==i){const o=i.type;if(3&o)return $t(i,n);if(4&o)return Cp(-1,n[i.index]);if(8&o){const l=i.child;if(null!==l)return Rh(n,l);{const c=n[i.index];return yr(c)?Cp(-1,c):V(c)}}if(32&o)return pt(i,n)()||V(n[i.index]);{const l=Ep(n,i);return null!==l?Array.isArray(l)?l[0]:Rh(An(n[16]),l):Rh(n,i.next)}}return null}function Ep(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Cp(n,i){const o=10+n+1;if(o<i.length){const l=i[o],c=l[1].firstChild;if(null!==c)return Rh(l,c)}return i[7]}function Ph(n,i,o,l,c,p,b){for(;null!=o;){const T=l[o.index],P=o.type;if(b&&0===i&&(T&&ni(V(T),l),o.flags|=4),64!=(64&o.flags))if(8&P)Ph(n,i,o.child,l,c,p,!1),il(i,n,c,T,p);else if(32&P){const X=pt(o,l);let ue;for(;ue=X();)il(i,n,c,ue,p);il(i,n,c,T,p)}else 16&P?Gs(n,i,l,o,c,p):il(i,n,c,T,p);o=b?o.projectionNext:o.next}}function dd(n,i,o,l,c,p){Ph(o,l,n.firstChild,i,c,p,!1)}function Gs(n,i,o,l,c,p){const b=o[16],P=b[6].projection[l.projection];if(Array.isArray(P))for(let X=0;X<P.length;X++)il(i,n,c,P[X],p);else Ph(n,i,P,b[3],c,p,!0)}function kh(n,i,o){gi(n)?n.setAttribute(i,"style",o):i.style.cssText=o}function rl(n,i,o){gi(n)?""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o):i.className=o}function Mp(n,i,o){let l=n.length;for(;;){const c=n.indexOf(i,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const p=i.length;if(c+p===l||n.charCodeAt(c+p)<=32)return c}o=c+1}}const Sp="ng-template";function Nh(n,i,o){let l=0;for(;l<n.length;){let c=n[l++];if(o&&"class"===c){if(c=n[l],-1!==Mp(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<n.length&&"string"==typeof(c=n[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function Xl(n){return 4===n.type&&n.value!==Sp}function Vc(n,i,o){return i===(4!==n.type||o?n.value:Sp)}function Uc(n,i,o){let l=4;const c=n.attrs||[],p=function jg(n){for(let i=0;i<n.length;i++)if(Ms(n[i]))return i;return n.length}(c);let b=!1;for(let T=0;T<i.length;T++){const P=i[T];if("number"!=typeof P){if(!b)if(4&l){if(l=2|1&l,""!==P&&!Vc(n,P,o)||""===P&&1===i.length){if(jo(l))return!1;b=!0}}else{const X=8&l?P:i[++T];if(8&l&&null!==n.attrs){if(!Nh(n.attrs,X,o)){if(jo(l))return!1;b=!0}continue}const Ge=Ug(8&l?"class":P,c,Xl(n),o);if(-1===Ge){if(jo(l))return!1;b=!0;continue}if(""!==X){let ut;ut=Ge>p?"":c[Ge+1].toLowerCase();const At=8&l?ut:null;if(At&&-1!==Mp(At,X,0)||2&l&&X!==ut){if(jo(l))return!1;b=!0}}}}else{if(!b&&!jo(l)&&!jo(P))return!1;if(b&&jo(P))continue;b=!1,l=P|1&l}}return jo(l)||b}function jo(n){return 0==(1&n)}function Ug(n,i,o,l){if(null===i)return-1;let c=0;if(l||!o){let p=!1;for(;c<i.length;){const b=i[c];if(b===n)return c;if(3===b||6===b)p=!0;else{if(1===b||2===b){let T=i[++c];for(;"string"==typeof T;)T=i[++c];continue}if(4===b)break;if(0===b){c+=4;continue}}c+=p?1:2}return-1}return function Hg(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const l=n[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,n)}function Fh(n,i,o=!1){for(let l=0;l<i.length;l++)if(Uc(n,i[l],o))return!0;return!1}function vv(n,i){e:for(let o=0;o<i.length;o++){const l=i[o];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function xp(n,i){return n?":not("+i.trim()+")":i}function Gg(n){let i=n[0],o=1,l=2,c="",p=!1;for(;o<n.length;){let b=n[o];if("string"==typeof b)if(2&l){const T=n[++o];c+="["+b+(T.length>0?'="'+T+'"':"")+"]"}else 8&l?c+="."+b:4&l&&(c+=" "+b);else""!==c&&!jo(b)&&(i+=xp(p,c),c=""),l=b,p=p||!jo(l);o++}return""!==c&&(i+=xp(p,c)),i}const ui={};function $g(n){Op(_i(),Jt(),Ci()+n,no())}function Op(n,i,o,l){if(!l)if(3==(3&i[2])){const p=n.preOrderCheckHooks;null!==p&&so(i,p,o)}else{const p=n.preOrderHooks;null!==p&&hs(i,p,0,o)}Or(o)}function Bh(n,i){return n<<17|i<<2}function La(n){return n>>17&32767}function Il(n){return 2|n}function sl(n){return(131068&n)>>2}function Rp(n,i){return-131069&n|i<<2}function fd(n){return 1|n}function e_(n,i){const o=n.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const c=o[l],p=o[l+1];if(-1!==p){const b=n.data[p];zt(c),b.contentQueries(2,i[p],p)}}}function gd(n,i,o,l,c,p,b,T,P,X){const ue=i.blueprint.slice();return ue[0]=c,ue[2]=140|l,W(ue),ue[3]=ue[15]=n,ue[8]=o,ue[10]=b||n&&n[10],ue[11]=T||n&&n[11],ue[12]=P||n&&n[12]||null,ue[9]=X||n&&n[9]||null,ue[6]=p,ue[16]=2==i.type?n[16]:ue,ue}function Al(n,i,o,l,c){let p=n.data[i];if(null===p)p=function Lp(n,i,o,l,c){const p=Zo(),b=So(),P=n.data[i]=function s_(n,i,o,l,c,p){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,o,i,l,c);return null===n.firstChild&&(n.firstChild=P),null!==p&&(b?null==p.child&&null!==P.parent&&(p.child=P):null===p.next&&(p.next=P)),P}(n,i,o,l,c),function C(){return S.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=l,p.attrs=c;const b=function _o(){const n=S.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return Is(p,!0),p}function zc(n,i,o,l){if(0===o)return-1;const c=i.length;for(let p=0;p<o;p++)i.push(l),n.blueprint.push(l),n.data.push(null);return c}function Wc(n,i,o){$n(i);try{const l=n.viewQuery;null!==l&&ef(1,l,o);const c=n.template;null!==c&&yd(n,i,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&e_(n,i),n.staticViewQueries&&ef(2,n.viewQuery,o);const p=n.components;null!==p&&function t_(n,i){for(let o=0;o<i.length;o++)Rv(n,i[o])}(i,p)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[2]&=-5,tr()}}function tc(n,i,o,l){const c=i[2];if(256==(256&c))return;$n(i);const p=no();try{W(i),function Yo(n){return S.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&yd(n,i,o,2,l);const b=3==(3&c);if(!p)if(b){const X=n.preOrderCheckHooks;null!==X&&so(i,X,null)}else{const X=n.preOrderHooks;null!==X&&hs(i,X,0,null),Mn(i,0)}if(function p_(n){for(let i=Jr(n);null!==i;i=Eo(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const c=o[l],p=c[3];0==(1024&c[2])&&B(p,1),c[2]|=1024}}}(i),function Wp(n){for(let i=Jr(n);null!==i;i=Eo(i))for(let o=10;o<i.length;o++){const l=i[o],c=l[1];qi(l)&&tc(c,l,c.template,l[8])}}(i),null!==n.contentQueries&&e_(n,i),!p)if(b){const X=n.contentCheckHooks;null!==X&&so(i,X)}else{const X=n.contentHooks;null!==X&&hs(i,X,1),Mn(i,1)}!function Iv(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const c=o[l];if(c<0)Or(~c);else{const p=c,b=o[++l],T=o[++l];ae(b,p),T(2,i[p])}}}finally{Or(-1)}}(n,i);const T=n.components;null!==T&&function Tv(n,i){for(let o=0;o<i.length;o++)Ov(n,i[o])}(i,T);const P=n.viewQuery;if(null!==P&&ef(2,P,l),!p)if(b){const X=n.viewCheckHooks;null!==X&&so(i,X)}else{const X=n.viewHooks;null!==X&&hs(i,X,2),Mn(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),p||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,B(i[3],-1))}finally{tr()}}function _d(n,i,o,l){const c=i[10],p=!no(),b=hi(i);try{p&&!b&&c.begin&&c.begin(),b&&Wc(n,i,l),tc(n,i,o,l)}finally{p&&!b&&c.end&&c.end()}}function yd(n,i,o,l,c){const p=Ci(),b=2&l;try{Or(-1),b&&i.length>20&&Op(n,i,20,no()),o(l,c)}finally{Or(p)}}function Wh(n,i,o){if(vs(i)){const c=i.directiveEnd;for(let p=i.directiveStart;p<c;p++){const b=n.data[p];b.contentQueries&&b.contentQueries(1,o[p],p)}}}function vd(n,i,o){!Vr()||(function Up(n,i,o,l){const c=o.directiveStart,p=o.directiveEnd;n.firstCreatePass||te(o,i),ni(l,i);const b=o.initialInputs;for(let T=c;T<p;T++){const P=n.data[T],X=Ir(P);X&&h_(i,o,P);const ue=Ro(i,n,T,o);ni(ue,i),null!==b&&xv(0,T-c,ue,P,0,b),X&&(oi(o.index,i)[8]=ue)}}(n,i,o,$t(o,i)),128==(128&o.flags)&&function qh(n,i,o){const l=o.directiveStart,c=o.directiveEnd,b=o.index,T=function Re(){return S.lFrame.currentDirectiveIndex}();try{Or(b);for(let P=l;P<c;P++){const X=n.data[P],ue=i[P];nt(P),(null!==X.hostBindings||0!==X.hostVars||null!==X.hostAttrs)&&Cu(X,ue)}}finally{Or(-1),nt(T)}}(n,i,o))}function Kh(n,i,o=$t){const l=i.localNames;if(null!==l){let c=i.index+1;for(let p=0;p<l.length;p+=2){const b=l[p+1],T=-1===b?o(i,n):n[b];n[c++]=T}}}function n_(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=bd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function bd(n,i,o,l,c,p,b,T,P,X){const ue=20+l,Ge=ue+c,ut=function i_(n,i){const o=[];for(let l=0;l<i;l++)o.push(l<n?null:ui);return o}(ue,Ge),At="function"==typeof X?X():X;return ut[1]={type:n,blueprint:ut,template:o,queries:null,viewQuery:T,declTNode:i,data:ut.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:P,consts:At,incompleteFirstPass:!1}}function r_(n,i,o,l){const c=xl(i);null===o?c.push(l):(c.push(o),n.firstCreatePass&&Qp(n).push(l,c.length-1))}function o_(n,i,o){for(let l in n)if(n.hasOwnProperty(l)){const c=n[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,c):o[l]=[i,c]}return o}function Ho(n,i,o,l,c,p,b,T){const P=$t(i,o);let ue,X=i.inputs;!T&&null!=X&&(ue=X[l])?(__(n,o,ue,l,c),Ks(i)&&function Yh(n,i){const o=oi(i,n);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(l=function Eu(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=b?b(c,i.value||"",l):c,gi(p)?p.setProperty(P,l,c):ga(l)||(P.setProperty?P.setProperty(l,c):P[l]=c))}function Ed(n,i,o,l){let c=!1;if(Vr()){const p=function Qh(n,i,o){const l=n.directiveRegistry;let c=null;if(l)for(let p=0;p<l.length;p++){const b=l[p];Fh(o,b.selectors,!1)&&(c||(c=[]),Ht(te(o,i),n,b.type),Ir(b)?(Xh(n,o),c.unshift(b)):c.push(b))}return c}(n,i,o),b=null===l?null:{"":-1};if(null!==p){c=!0,Gp(o,n.data.length,p.length);for(let ue=0;ue<p.length;ue++){const Ge=p[ue];Ge.providersResolver&&Ge.providersResolver(Ge)}let T=!1,P=!1,X=zc(n,i,p.length,null);for(let ue=0;ue<p.length;ue++){const Ge=p[ue];o.mergedAttrs=Us(o.mergedAttrs,Ge.hostAttrs),d_(n,o,i,X,Ge),Hp(X,Ge,b),null!==Ge.contentQueries&&(o.flags|=8),(null!==Ge.hostBindings||null!==Ge.hostAttrs||0!==Ge.hostVars)&&(o.flags|=128);const ut=Ge.type.prototype;!T&&(ut.ngOnChanges||ut.ngOnInit||ut.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),T=!0),!P&&(ut.ngOnChanges||ut.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),P=!0),X++}!function bu(n,i){const l=i.directiveEnd,c=n.data,p=i.attrs,b=[];let T=null,P=null;for(let X=i.directiveStart;X<l;X++){const ue=c[X],Ge=ue.inputs,ut=null===p||Xl(i)?null:f_(Ge,p);b.push(ut),T=o_(Ge,X,T),P=o_(ue.outputs,X,P)}null!==T&&(T.hasOwnProperty("class")&&(i.flags|=16),T.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=b,i.inputs=T,i.outputs=P}(n,o)}b&&function jp(n,i,o){if(i){const l=n.localNames=[];for(let c=0;c<i.length;c+=2){const p=o[i[c+1]];if(null==p)throw new $e(-301,!1);l.push(i[c],p)}}}(o,l,b)}return o.mergedAttrs=Us(o.mergedAttrs,o.attrs),c}function Vp(n,i,o,l,c,p){const b=p.hostBindings;if(b){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const P=~i.index;(function u_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(T)!=P&&T.push(P),T.push(l,c,b)}}function Cu(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Xh(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Hp(n,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=n;Ir(i)&&(o[""]=n)}}function Gp(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function d_(n,i,o,l,c){n.data[l]=c;const p=c.factory||(c.factory=ar(c.type)),b=new Ui(p,Ir(c),null);n.blueprint[l]=b,o[l]=b,Vp(n,i,0,l,zc(n,o,c.hostVars,ui),c)}function h_(n,i,o){const l=$t(i,n),c=n_(o),p=n[10],b=Jh(n,gd(n,c,null,o.onPush?64:16,l,i,p,p.createRenderer(l,o),null,null));n[i.index]=b}function al(n,i,o,l,c,p){const b=$t(n,i);!function $p(n,i,o,l,c,p,b){if(null==p)gi(n)?n.removeAttribute(i,c,o):i.removeAttribute(c);else{const T=null==b?Le(p):b(p,l||"",c);gi(n)?n.setAttribute(i,c,T,o):o?i.setAttributeNS(o,c,T):i.setAttribute(c,T)}}(i[11],b,p,n.value,o,l,c)}function xv(n,i,o,l,c,p){const b=p[i];if(null!==b){const T=l.setInput;for(let P=0;P<b.length;){const X=b[P++],ue=b[P++],Ge=b[P++];null!==T?l.setInput(o,Ge,X,ue):o[ue]=Ge}}}function f_(n,i){let o=null,l=0;for(;l<i.length;){const c=i[l];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,n[c],i[l+1])),l+=2}else l+=2;else l+=4}return o}function wu(n,i,o,l){return new Array(n,!0,!1,i,null,0,l,o,null,null)}function Ov(n,i){const o=oi(i,n);if(qi(o)){const l=o[1];80&o[2]?tc(l,o,l.template,o[8]):o[5]>0&&Kp(o)}}function Kp(n){for(let l=Jr(n);null!==l;l=Eo(l))for(let c=10;c<l.length;c++){const p=l[c];if(1024&p[2]){const b=p[1];tc(b,p,b.template,p[8])}else p[5]>0&&Kp(p)}const o=n[1].components;if(null!==o)for(let l=0;l<o.length;l++){const c=oi(o[l],n);qi(c)&&c[5]>0&&Kp(c)}}function Rv(n,i){const o=oi(i,n),l=o[1];(function Pv(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(l,o),Wc(l,o,o[8])}function Jh(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Kc(n){for(;n;){n[2]|=64;const i=An(n);if(Zs(n)&&!i)return n;n=i}return null}function Cd(n,i,o){const l=i[10];l.begin&&l.begin();try{tc(n,i,n.template,o)}catch(c){throw tf(i,c),c}finally{l.end&&l.end()}}function wd(n){!function nc(n){for(let i=0;i<n.components.length;i++){const o=n.components[i],l=Oc(o),c=l[1];_d(c,l,c.template,o)}}(n[8])}function ef(n,i,o){zt(0),i(n,o)}const qp=(()=>Promise.resolve(null))();function xl(n){return n[7]||(n[7]=[])}function Qp(n){return n.cleanup||(n.cleanup=[])}function g_(n,i,o){return(null===n||Ir(n))&&(o=function ve(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[i.index])),o[11]}function tf(n,i){const o=n[9],l=o?o.get(tl,null):null;l&&l.handleError(i)}function __(n,i,o,l,c){for(let p=0;p<o.length;){const b=o[p++],T=o[p++],P=i[b],X=n.data[b];null!==X.setInput?X.setInput(P,c,l,T):P[T]=c}}function Ba(n,i,o){const l=Ft(i,n);!function ld(n,i,o){gi(n)?n.setValue(i,o):i.textContent=o}(n[11],l,o)}function nf(n,i,o){let l=o?n.styles:null,c=o?n.classes:null,p=0;if(null!==i)for(let b=0;b<i.length;b++){const T=i[b];"number"==typeof T?p=T:1==p?c=ie(c,T):2==p&&(l=ie(l,T+": "+i[++b]+";"))}o?n.styles=l:n.stylesWithoutHost=l,o?n.classes=c:n.classesWithoutHost=c}const sf=new Tr("INJECTOR",-1);class Zc{get(i,o=ms){if(o===ms){const l=new Error(`NullInjectorError: No provider for ${pe(i)}!`);throw l.name="NullInjectorError",l}return o}}const Id=new Tr("Set Injector scope."),Td={},kv={};let af;function Jp(){return void 0===af&&(af=new Zc),af}function v_(n,i=null,o=null,l){const c=lf(n,i,o,l);return c._resolveInjectorDefTypes(),c}function lf(n,i=null,o=null,l){return new Nv(n,o,i||Jp(),l)}class Nv{constructor(i,o,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];o&&Xr(o,T=>this.processProvider(T,i,o)),Xr([i],T=>this.processInjectorType(T,[],p)),this.records.set(sf,ic(void 0,this));const b=this.records.get(Id);this.scope=null!=b?b.value:null,this.source=c||("object"==typeof i?null:pe(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=ms,l=hn.Default){this.assertNotDestroyed();const c=vl(this),p=dt(void 0);try{if(!(l&hn.SkipSelf)){let T=this.records.get(i);if(void 0===T){const P=function Iu(n){return"function"==typeof n||"object"==typeof n&&n instanceof Tr}(i)&&Dt(i);T=P&&this.injectableDefInScope(P)?ic(Md(i),Td):null,this.records.set(i,T)}if(null!=T)return this.hydrate(i,T)}return(l&hn.Self?Jp():this.parent).get(i,o=l&hn.Optional&&o===ms?null:o)}catch(b){if("NullInjectorError"===b.name){if((b[vr]=b[vr]||[]).unshift(pe(i)),c)throw b;return function _n(n,i,o,l){const c=n[vr];throw i[ea]&&c.unshift(i[ea]),n.message=function Ln(n,i,o,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=pe(i);if(Array.isArray(i))c=i.map(pe).join(" -> ");else if("object"==typeof i){let p=[];for(let b in i)if(i.hasOwnProperty(b)){let T=i[b];p.push(b+":"+("string"==typeof T?JSON.stringify(T):pe(T)))}c=`{${p.join(", ")}}`}return`${o}${l?"("+l+")":""}[${c}]: ${n.replace(Ra,"\n  ")}`}("\n"+n.message,c,o,l),n.ngTokenPath=c,n[vr]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{dt(p),vl(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,c)=>i.push(pe(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processInjectorType(i,o,l){if(!(i=le(i)))return!1;let c=We(i);const p=null==c&&i.ngModule||void 0,b=void 0===p?i:p,T=-1!==l.indexOf(b);if(void 0!==p&&(c=We(p)),null==c)return!1;if(null!=c.imports&&!T){let ue;l.push(b);try{Xr(c.imports,Ge=>{this.processInjectorType(Ge,o,l)&&(void 0===ue&&(ue=[]),ue.push(Ge))})}finally{}if(void 0!==ue)for(let Ge=0;Ge<ue.length;Ge++){const{ngModule:ut,providers:At}=ue[Ge];Xr(At,Yt=>this.processProvider(Yt,ut,At||on))}}this.injectorDefTypes.add(b);const P=ar(b)||(()=>new b);this.records.set(b,ic(P,Td));const X=c.providers;if(null!=X&&!T){const ue=i;Xr(X,Ge=>this.processProvider(Ge,ue,X))}return void 0!==p&&void 0!==i.providers}processProvider(i,o,l){let c=rc(i=le(i))?i:le(i&&i.provide);const p=function em(n,i,o){return tm(n)?ic(void 0,n.useValue):ic(b_(n),Td)}(i);if(rc(i)||!0!==i.multi)this.records.get(c);else{let b=this.records.get(c);b||(b=ic(void 0,Td,!0),b.factory=()=>bt(b.multi),this.records.set(c,b)),c=i,b.multi.push(i)}this.records.set(c,p)}hydrate(i,o){return o.value===Td&&(o.value=kv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function rm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=le(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Md(n){const i=Dt(n),o=null!==i?i.factory:ar(n);if(null!==o)return o;if(n instanceof Tr)throw new $e(204,!1);if(n instanceof Function)return function Fv(n){const i=n.length;if(i>0)throw Oa(i,"?"),new $e(204,!1);const o=function vt(n){const i=n&&(n[St]||n[Rn]);if(i){const o=function Bt(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new $e(204,!1)}function b_(n,i,o){let l;if(rc(n)){const c=le(n);return ar(c)||Md(c)}if(tm(n))l=()=>le(n.useValue);else if(function im(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...bt(n.deps||[]));else if(function nm(n){return!(!n||!n.useExisting)}(n))l=()=>U(le(n.useExisting));else{const c=le(n&&(n.useClass||n.provide));if(!function sc(n){return!!n.deps}(n))return ar(c)||Md(c);l=()=>new c(...bt(n.deps))}return l}function ic(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function tm(n){return null!==n&&"object"==typeof n&&Gl in n}function rc(n){return"function"==typeof n}let Co=(()=>{class n{static create(o,l){var c;if(Array.isArray(o))return v_({name:""},l,o,"");{const p=null!==(c=o.name)&&void 0!==c?c:"";return v_({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=ms,n.NULL=new Zc,n.\u0275prov=se({token:n,providedIn:"any",factory:()=>U(sf)}),n.__NG_ELEMENT_ID__=-1,n})();function cm(n,i){qr(Oc(n)[1],nr())}function gf(n){let i=function mf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const l=[n];for(;i;){let c;if(Ir(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new $e(903,"");c=i.\u0275dir}if(c){if(o){l.push(c);const b=n;b.inputs=_f(n.inputs),b.declaredInputs=_f(n.declaredInputs),b.outputs=_f(n.outputs);const T=c.hostBindings;T&&jv(n,T);const P=c.viewQuery,X=c.contentQueries;if(P&&Uv(n,P),X&&dm(n,X),Me(n.inputs,c.inputs),Me(n.declaredInputs,c.declaredInputs),Me(n.outputs,c.outputs),Ir(c)&&c.data.animation){const ue=n.data;ue.animation=(ue.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let b=0;b<p.length;b++){const T=p[b];T&&T.ngInherit&&T(n),T===gf&&(o=!1)}}i=Object.getPrototypeOf(i)}!function um(n){let i=0,o=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=i+=c.hostVars,c.hostAttrs=Us(c.hostAttrs,o=Us(o,c.hostAttrs))}}(l)}function _f(n){return n===ti?{}:n===on?[]:n}function Uv(n,i){const o=n.viewQuery;n.viewQuery=o?(l,c)=>{i(l,c),o(l,c)}:i}function dm(n,i){const o=n.contentQueries;n.contentQueries=o?(l,c,p)=>{i(l,c,p),o(l,c,p)}:i}function jv(n,i){const o=n.hostBindings;n.hostBindings=o?(l,c)=>{i(l,c),o(l,c)}:i}let yf=null;function oc(){if(!yf){const n=mn.Symbol;if(n&&n.iterator)yf=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(yf=l)}}}return yf}function qc(n){return!!Sd(n)&&(Array.isArray(n)||!(n instanceof Map)&&oc()in n)}function Sd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function $r(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function mm(n,i,o,l){const c=Jt();return $r(c,re(),i)&&(_i(),al(Vi(),c,n,i,o,l)),mm}function ac(n,i,o,l){return $r(n,re(),o)?i+Le(o)+l:ui}function Su(n,i,o,l,c,p){const T=function Ol(n,i,o,l){const c=$r(n,i,o);return $r(n,i+1,l)||c}(n,function Bs(){return S.lFrame.bindingIndex}(),o,c);return v(2),T?i+Le(o)+l+Le(c)+p:ui}function _m(n,i,o,l,c,p,b,T){const P=Jt(),X=_i(),ue=n+20,Ge=X.firstCreatePass?function Gv(n,i,o,l,c,p,b,T,P){const X=i.consts,ue=Al(i,n,4,b||null,Wi(X,T));Ed(i,o,ue,Wi(X,P)),qr(i,ue);const Ge=ue.tViews=bd(2,ue,l,c,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,X);return null!==i.queries&&(i.queries.template(i,ue),Ge.queries=i.queries.embeddedTView(ue)),ue}(ue,X,P,i,o,l,c,p,b):X.data[ue];Is(Ge,!1);const ut=P[11].createComment("");Oh(X,P,ut,Ge),ni(ut,P),Jh(P,P[ue]=wu(ut,P,ut,Ge)),or(Ge)&&vd(X,P,Ge),null!=b&&Kh(P,Ge,T)}function N_(n){return pi(function aa(){return S.lFrame.contextLView}(),20+n)}function _r(n,i=hn.Default){const o=Jt();return null===o?U(n,i):Tt(nr(),o,le(n),i)}function fo(){throw new Error("invalid")}function wa(n,i,o){const l=Jt();return $r(l,re(),i)&&Ho(_i(),Vi(),l,n,i,l[11],o,!1),wa}function xf(n,i,o,l,c){const b=c?"class":"style";__(n,o,i.inputs[b],b,l)}function Jc(n,i,o,l){const c=Jt(),p=_i(),b=20+n,T=c[11],P=c[b]=Na(T,i,function Vs(){return S.lFrame.currentNamespace}()),X=p.firstCreatePass?function Jv(n,i,o,l,c,p,b){const T=i.consts,X=Al(i,n,2,c,Wi(T,p));return Ed(i,o,X,Wi(T,b)),null!==X.attrs&&nf(X,X.attrs,!1),null!==X.mergedAttrs&&nf(X,X.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,X),X}(b,p,c,0,i,o,l):p.data[b];Is(X,!0);const ue=X.mergedAttrs;null!==ue&&Ki(T,P,ue);const Ge=X.classes;null!==Ge&&rl(T,P,Ge);const ut=X.styles;return null!==ut&&kh(T,P,ut),64!=(64&X.flags)&&Oh(p,c,P,X),0===function Lt(){return S.lFrame.elementDepthCount}()&&ni(P,c),function wn(){S.lFrame.elementDepthCount++}(),or(X)&&(vd(p,c,X),Wh(p,X,c)),null!==l&&Kh(c,X),Jc}function Pd(){let n=nr();So()?Ta():(n=n.parent,Is(n,!1));const i=n;!function vi(){S.lFrame.elementDepthCount--}();const o=_i();return o.firstCreatePass&&(qr(o,n),vs(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function qo(n){return 0!=(16&n.flags)}(i)&&xf(o,i,Jt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function fs(n){return 0!=(32&n.flags)}(i)&&xf(o,i,Jt(),i.stylesWithoutHost,!1),Pd}function Of(n,i,o,l){return Jc(n,i,o,l),Pd(),Of}function Rf(n,i,o){const l=Jt(),c=_i(),p=n+20,b=c.firstCreatePass?function Im(n,i,o,l,c){const p=i.consts,b=Wi(p,l),T=Al(i,n,8,"ng-container",b);return null!==b&&nf(T,b,!0),Ed(i,o,T,Wi(p,c)),null!==i.queries&&i.queries.elementStart(i,T),T}(p,c,l,i,o):c.data[p];Is(b,!0);const T=l[p]=l[11].createComment("");return Oh(c,l,T,b),ni(T,l),or(b)&&(vd(c,l,b),Wh(c,b,l)),null!=o&&Kh(l,b),Rf}function Pf(){let n=nr();const i=_i();return So()?Ta():(n=n.parent,Is(n,!1)),i.firstCreatePass&&(qr(i,n),vs(n)&&i.queries.elementEnd(n)),Pf}function Sr(n,i,o){return Rf(n,i,o),Pf(),Sr}function eb(){return Jt()}function Y_(n){return!!n&&"function"==typeof n.then}function gs(n){return!!n&&"function"==typeof n.subscribe}const Tm=gs;function Mm(n,i,o,l){const c=Jt(),p=_i(),b=nr();return Q_(p,c,c[11],b,n,i,!!o,l),Mm}function Sm(n,i){const o=nr(),l=Jt(),c=_i();return Q_(c,l,g_(st(c.data),o,l),o,n,i,!1),Sm}function Q_(n,i,o,l,c,p,b,T){const P=or(l),ue=n.firstCreatePass&&Qp(n),Ge=i[8],ut=xl(i);let At=!0;if(3&l.type||T){const Tn=$t(l,i),Vn=T?T(Tn):Tn,nn=ut.length,ri=T?Yi=>T(V(Yi[l.index])):l.index;if(gi(o)){let Yi=null;if(!T&&P&&(Yi=function q_(n,i,o,l){const c=n.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const b=c[p];if(b===o&&c[p+1]===l){const T=i[7],P=c[p+2];return T.length>P?T[P]:null}"string"==typeof b&&(p+=2)}return null}(n,i,c,l.index)),null!==Yi)(Yi.__ngLastListenerFn__||Yi).__ngNextListenerFn__=p,Yi.__ngLastListenerFn__=p,At=!1;else{p=Am(l,i,Ge,p,!1);const br=o.listen(Vn,c,p);ut.push(p,br),ue&&ue.push(c,ri,nn,nn+1)}}else p=Am(l,i,Ge,p,!0),Vn.addEventListener(c,p,b),ut.push(p),ue&&ue.push(c,ri,nn,b)}else p=Am(l,i,Ge,p,!1);const Yt=l.outputs;let pn;if(At&&null!==Yt&&(pn=Yt[c])){const Tn=pn.length;if(Tn)for(let Vn=0;Vn<Tn;Vn+=2){const Ga=i[pn[Vn]][pn[Vn+1]].subscribe(p),rh=ut.length;ut.push(p,Ga),ue&&ue.push(c,l.index,rh,-(rh+1))}}}function X_(n,i,o,l){try{return!1!==o(l)}catch(c){return tf(n,c),!1}}function Am(n,i,o,l,c){return function p(b){if(b===Function)return l;const T=2&n.flags?oi(n.index,i):i;0==(32&i[2])&&Kc(T);let P=X_(i,0,l,b),X=p.__ngNextListenerFn__;for(;X;)P=X_(i,0,X,b)&&P,X=X.__ngNextListenerFn__;return c&&!1===P&&(b.preventDefault(),b.returnValue=!1),P}}function J_(n=1){return function ir(n){return(S.lFrame.contextLView=function Ur(n,i){for(;n>0;)i=i[15],n--;return i}(n,S.lFrame.contextLView))[8]}(n)}function K0(n,i){let o=null;const l=function Ap(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let c=0;c<i.length;c++){const p=i[c];if("*"!==p){if(null===l?Fh(n,p,!0):vv(l,p))return c}else o=c}return o}function ey(n){const i=Jt()[16][6];if(!i.projection){const l=i.projection=Oa(n?n.length:1,null),c=l.slice();let p=i.child;for(;null!==p;){const b=n?K0(p,n):0;null!==b&&(c[b]?c[b].projectionNext=p:l[b]=p,c[b]=p),p=p.next}}}function ty(n,i=0,o){const l=Jt(),c=_i(),p=Al(c,20+n,16,null,o||null);null===p.projection&&(p.projection=i),Ta(),64!=(64&p.flags)&&function Dp(n,i,o){Gs(i[11],0,i,o,Rg(n,o,i),Fg(o.parent||i[6],o,i))}(c,l,p)}function Nd(n,i,o,l,c){const p=n[o+1],b=null===i;let T=l?La(p):sl(p),P=!1;for(;0!==T&&(!1===P||b);){const ue=n[T+1];Fd(n[T],i)&&(P=!0,n[T+1]=l?fd(ue):Il(ue)),T=l?La(ue):sl(ue)}P&&(n[o+1]=l?Il(p):fd(p))}function Fd(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&da(n,i)>=0}const Rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kf(n){return n.substring(Rs.key,Rs.keyEnd)}function ry(n,i){const o=Rs.textEnd;return o===i?-1:(i=Rs.keyEnd=function sy(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Rs.key=i,o),Da(n,i,o))}function Da(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Ru(n,i,o){return $s(n,i,o,!1),Ru}function Lf(n,i){return $s(n,i,null,!0),Lf}function wo(n,i){for(let o=function rb(n){return function Nm(n){Rs.key=0,Rs.keyEnd=0,Rs.value=0,Rs.valueEnd=0,Rs.textEnd=n.length}(n),ry(n,Da(n,0,Rs.textEnd))}(i);o>=0;o=ry(i,o))Ss(n,kf(i),!0)}function $s(n,i,o,l){const c=Jt(),p=_i(),b=v(2);p.firstUpdatePass&&ly(p,n,b,l),i!==ui&&$r(c,b,i)&&fy(p,p.data[Ci()],c,c[11],n,c[b+1]=function ab(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=pe(Xs(n)))),n}(i,o),l,b)}function Rl(n,i){return i>=n.expandoStartIndex}function ly(n,i,o,l){const c=n.data;if(null===c[o+1]){const p=c[Ci()],b=Rl(n,o);my(p,l)&&null===i&&!b&&(i=!1),i=function cy(n,i,o,l){const c=st(n);let p=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(o=Bd(o=Bm(null,n,i,o,l),i.attrs,l),p=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==c)if(o=Bm(c,n,i,o,l),null===p){let P=function uy(n,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==sl(l))return n[La(l)]}(n,i,l);void 0!==P&&Array.isArray(P)&&(P=Bm(null,n,i,P[1],l),P=Bd(P,i.attrs,l),function Ld(n,i,o,l){n[La(o?i.classBindings:i.styleBindings)]=l}(n,i,l,P))}else p=function fc(n,i,o){let l;const c=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<c;p++)l=Bd(l,n[p].hostAttrs,o);return Bd(l,i.attrs,o)}(n,i,l)}return void 0!==p&&(l?i.residualClasses=p:i.residualStyles=p),o}(c,p,i,l),function nb(n,i,o,l,c,p){let b=p?i.classBindings:i.styleBindings,T=La(b),P=sl(b);n[l]=o;let ue,X=!1;if(Array.isArray(o)){const Ge=o;ue=Ge[1],(null===ue||da(Ge,ue)>0)&&(X=!0)}else ue=o;if(c)if(0!==P){const ut=La(n[T+1]);n[l+1]=Bh(ut,T),0!==ut&&(n[ut+1]=Rp(n[ut+1],l)),n[T+1]=function jc(n,i){return 131071&n|i<<17}(n[T+1],l)}else n[l+1]=Bh(T,0),0!==T&&(n[T+1]=Rp(n[T+1],l)),T=l;else n[l+1]=Bh(P,0),0===T?T=l:n[P+1]=Rp(n[P+1],l),P=l;X&&(n[l+1]=Il(n[l+1])),Nd(n,ue,l,!0),Nd(n,ue,l,!1),function eu(n,i,o,l,c){const p=c?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof i&&da(p,i)>=0&&(o[l+1]=fd(o[l+1]))}(i,ue,n,l,p),b=Bh(T,P),p?i.classBindings=b:i.styleBindings=b}(c,p,i,o,b,l)}}function Bm(n,i,o,l,c){let p=null;const b=o.directiveEnd;let T=o.directiveStylingLast;for(-1===T?T=o.directiveStart:T++;T<b&&(p=i[T],l=Bd(l,p.hostAttrs,c),p!==n);)T++;return null!==n&&(o.directiveStylingLast=T),l}function Bd(n,i,o){const l=o?1:2;let c=-1;if(null!==i)for(let p=0;p<i.length;p++){const b=i[p];"number"==typeof b?c=b:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ss(n,b,!!o||i[++p]))}return void 0===n?null:n}function fy(n,i,o,l,c,p,b,T){if(!(3&i.type))return;const P=n.data,X=P[T+1];Vd(function Wg(n){return 1==(1&n)}(X)?py(P,i,o,c,sl(X),b):void 0)||(Vd(p)||function yu(n){return 2==(2&n)}(X)&&(p=py(P,null,o,c,T,b)),function Tp(n,i,o,l,c){const p=gi(n);if(i)c?p?n.addClass(o,l):o.classList.add(l):p?n.removeClass(o,l):o.classList.remove(l);else{let b=-1===l.indexOf("-")?void 0:Y.DashCase;if(null==c)p?n.removeStyle(o,l,b):o.style.removeProperty(l);else{const T="string"==typeof c&&c.endsWith("!important");T&&(c=c.slice(0,-10),b|=Y.Important),p?n.setStyle(o,l,c,b):o.style.setProperty(l,c,T?"important":"")}}}(l,b,Ft(Ci(),o),c,p))}function py(n,i,o,l,c,p){const b=null===i;let T;for(;c>0;){const P=n[c],X=Array.isArray(P),ue=X?P[1]:P,Ge=null===ue;let ut=o[c+1];ut===ui&&(ut=Ge?on:void 0);let At=Ge?ua(ut,l):ue===l?ut:void 0;if(X&&!Vd(At)&&(At=ua(P,l)),Vd(At)&&(T=At,b))return T;const Yt=n[c+1];c=b?La(Yt):sl(Yt)}if(null!==i){let P=p?i.residualClasses:i.residualStyles;null!=P&&(T=ua(P,l))}return T}function Vd(n){return void 0!==n}function my(n,i){return 0!=(n.flags&(i?16:32))}function Vm(n,i=""){const o=Jt(),l=_i(),c=n+20,p=l.firstCreatePass?Al(l,c,1,i,null):l.data[c],b=o[c]=function Lc(n,i){return gi(n)?n.createText(i):n.createTextNode(i)}(o[11],i);Oh(l,o,b,p),Is(p,!1)}function Um(n){return Vf("",n,""),Um}function Vf(n,i,o){const l=Jt(),c=ac(l,n,i,o);return c!==ui&&Ba(l,Ci(),c),Vf}function Uf(n,i,o,l,c){const p=Jt(),b=Su(p,n,i,o,l,c);return b!==ui&&Ba(p,Ci(),b),Uf}function $m(n,i,o){!function Go(n,i,o,l){const c=_i(),p=v(2);c.firstUpdatePass&&ly(c,null,p,l);const b=Jt();if(o!==ui&&$r(b,p,o)){const T=c.data[Ci()];if(my(T,l)&&!Rl(c,p)){let P=l?T.classesWithoutHost:T.stylesWithoutHost;null!==P&&(o=ie(P,o||"")),xf(c,T,b,o,l)}else!function hy(n,i,o,l,c,p,b,T){c===ui&&(c=on);let P=0,X=0,ue=0<c.length?c[0]:null,Ge=0<p.length?p[0]:null;for(;null!==ue||null!==Ge;){const ut=P<c.length?c[P+1]:void 0,At=X<p.length?p[X+1]:void 0;let pn,Yt=null;ue===Ge?(P+=2,X+=2,ut!==At&&(Yt=Ge,pn=At)):null===Ge||null!==ue&&ue<Ge?(P+=2,Yt=ue):(X+=2,Yt=Ge,pn=At),null!==Yt&&fy(n,i,o,l,Yt,pn,b,T),ue=P<c.length?c[P]:null,Ge=X<p.length?p[X]:null}}(c,T,b,b[11],b[p+1],b[p+1]=function ob(n,i,o){if(null==o||""===o)return on;const l=[],c=Xs(o);if(Array.isArray(c))for(let p=0;p<c.length;p++)n(l,c[p],!0);else if("object"==typeof c)for(const p in c)c.hasOwnProperty(p)&&n(l,p,c[p]);else"string"==typeof c&&i(l,c);return l}(n,i,o),l,p)}}(Ss,wo,ac(Jt(),n,i,o),!0)}function Km(n,i,o){const l=Jt();return $r(l,re(),i)&&Ho(_i(),Vi(),l,n,i,l[11],o,!0),Km}function Zm(n,i,o){const l=Jt();if($r(l,re(),i)){const p=_i(),b=Vi();Ho(p,b,l,n,i,g_(st(p.data),b,l),o,!0)}return Zm}const Pl=void 0;var Sy=["en",[["a","p"],["AM","PM"],Pl],[["AM","PM"],Pl,Pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pl,"{1} 'at' {0}",Pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function My(n){const o=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let cl={};function Ym(n){const i=function xy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=jd(i);if(o)return o;const l=i.split("-")[0];if(o=jd(l),o)return o;if("en"===l)return Sy;throw new Error(`Missing locale data for the locale "${n}".`)}function qm(n){return Ym(n)[ii.PluralCase]}function jd(n){return n in cl||(cl[n]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[n]),cl[n]}var ii=(()=>((ii=ii||{})[ii.LocaleId=0]="LocaleId",ii[ii.DayPeriodsFormat=1]="DayPeriodsFormat",ii[ii.DayPeriodsStandalone=2]="DayPeriodsStandalone",ii[ii.DaysFormat=3]="DaysFormat",ii[ii.DaysStandalone=4]="DaysStandalone",ii[ii.MonthsFormat=5]="MonthsFormat",ii[ii.MonthsStandalone=6]="MonthsStandalone",ii[ii.Eras=7]="Eras",ii[ii.FirstDayOfWeek=8]="FirstDayOfWeek",ii[ii.WeekendRange=9]="WeekendRange",ii[ii.DateFormat=10]="DateFormat",ii[ii.TimeFormat=11]="TimeFormat",ii[ii.DateTimeFormat=12]="DateTimeFormat",ii[ii.NumberSymbols=13]="NumberSymbols",ii[ii.NumberFormats=14]="NumberFormats",ii[ii.CurrencyCode=15]="CurrencyCode",ii[ii.CurrencySymbol=16]="CurrencySymbol",ii[ii.CurrencyName=17]="CurrencyName",ii[ii.Currencies=18]="Currencies",ii[ii.Directionality=19]="Directionality",ii[ii.PluralCase=20]="PluralCase",ii[ii.ExtraData=21]="ExtraData",ii))();const eo="en-US";let Ry=eo;function qf(n,i,o,l,c){if(n=le(n),Array.isArray(n))for(let p=0;p<n.length;p++)qf(n[p],i,o,l,c);else{const p=_i(),b=Jt();let T=rc(n)?n:le(n.provide),P=b_(n);const X=nr(),ue=1048575&X.providerIndexes,Ge=X.directiveStart,ut=X.providerIndexes>>20;if(rc(n)||!n.multi){const At=new Ui(P,c,_r),Yt=hg(T,i,c?ue:ue+ut,Ge);-1===Yt?(Ht(te(X,b),p,T),Yd(p,n,i.length),i.push(T),X.directiveStart++,X.directiveEnd++,c&&(X.providerIndexes+=1048576),o.push(At),b.push(At)):(o[Yt]=At,b[Yt]=At)}else{const At=hg(T,i,ue+ut,Ge),Yt=hg(T,i,ue,ue+ut),pn=At>=0&&o[At],Tn=Yt>=0&&o[Yt];if(c&&!Tn||!c&&!pn){Ht(te(X,b),p,T);const Vn=function fg(n,i,o,l,c){const p=new Ui(n,o,_r);return p.multi=[],p.index=i,p.componentProviders=0,Gy(p,c,l&&!o),p}(c?Qf:Wb,o.length,c,l,P);!c&&Tn&&(o[Yt].providerFactory=Vn),Yd(p,n,i.length,0),i.push(T),X.directiveStart++,X.directiveEnd++,c&&(X.providerIndexes+=1048576),o.push(Vn),b.push(Vn)}else Yd(p,n,At>-1?At:Yt,Gy(o[c?Yt:At],P,!c&&l));!c&&l&&Tn&&o[Yt].componentProviders++}}}function Yd(n,i,o,l){const c=rc(i),p=function Du(n){return!!n.useClass}(i);if(c||p){const P=(p?le(i.useClass):i).prototype.ngOnDestroy;if(P){const X=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const ue=X.indexOf(o);-1===ue?X.push(o,[l,P]):X[ue+1].push(l,P)}else X.push(o,P)}}}function Gy(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function hg(n,i,o,l){for(let c=o;c<l;c++)if(i[c]===n)return c;return-1}function Wb(n,i,o,l){return qd(this.multi,[])}function Qf(n,i,o,l){const c=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,T=Ro(o,o[1],this.providerFactory.index,l);p=T.slice(0,b),qd(c,p);for(let P=b;P<T.length;P++)p.push(T[P])}else p=[],qd(c,p);return p}function qd(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Xf(n,i=[]){return o=>{o.providersResolver=(l,c)=>function Hy(n,i,o){const l=_i();if(l.firstCreatePass){const c=Ir(n);qf(o,l.data,l.blueprint,c,!0),qf(i,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,i)}}class zy{}class Kb{resolveComponentFactory(i){throw function Wy(n){const i=Error(`No component factory found for ${pe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Jf=(()=>{class n{}return n.NULL=new Kb,n})();function Zb(){return Lu(nr(),Jt())}function Lu(n,i){return new Xd($t(n,i))}let Xd=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Zb,n})();function Yb(n){return n instanceof Xd?n.nativeElement:n}class Ky{}let qb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Zy(){const n=Jt(),o=oi(nr().index,n);return function ep(n){return n[11]}(Bi(o)?o:n)}(),n})(),Yy=(()=>{class n{}return n.\u0275prov=se({token:n,providedIn:"root",factory:()=>null}),n})();class tp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const qy=new tp("13.2.7"),pg={};function np(n,i,o,l,c=!1){for(;null!==o;){const p=i[o.index];if(null!==p&&l.push(V(p)),yr(p))for(let T=10;T<p.length;T++){const P=p[T],X=P[1].firstChild;null!==X&&np(P[1],P,X,l)}const b=o.type;if(8&b)np(n,i,o.child,l);else if(32&b){const T=pt(o,i);let P;for(;P=T();)l.push(P)}else if(16&b){const T=Ep(i,o);if(Array.isArray(T))l.push(...T);else{const P=An(i[16]);np(P[1],P,T,l,!0)}}o=c?o.projectionNext:o.next}return l}class Bu{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return np(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(yr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Mh(i,l),Rt(o,l))}this._attachedToViewContainer=!1}Fa(this._lView[1],this._lView)}onDestroy(i){r_(this._lView[1],this._lView,null,i)}markForCheck(){Kc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Dd(n,i,o){io(!0);try{Cd(n,i,o)}finally{io(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new $e(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Th(n,i){dd(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new $e(902,"");this._appRef=i}}class Qy extends Bu{constructor(i){super(i),this._view=i}detectChanges(){wd(this._view)}checkNoChanges(){!function Yp(n){io(!0);try{wd(n)}finally{io(!1)}}(this._view)}get context(){return null}}class mg extends Jf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=ht(i);return new _g(o,this.ngModule)}}function gg(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class _g extends zy{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Lh(n){return n.map(Gg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return gg(this.componentDef.inputs)}get outputs(){return gg(this.componentDef.outputs)}create(i,o,l,c){const p=(c=c||this.ngModule)?function tE(n,i){return{get:(o,l,c)=>{const p=n.get(o,pg,c);return p!==pg||l===pg?p:i.get(o,l,c)}}}(i,c.injector):i,b=p.get(Ky,G),T=p.get(Yy,null),P=b.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",ue=l?function Bp(n,i,o){if(gi(n))return n.selectRootElement(i,o===Et.ShadowDom);let l="string"==typeof i?n.querySelector(i):i;return l.textContent="",l}(P,l,this.componentDef.encapsulation):Na(b.createRenderer(null,this.componentDef),X,function Xy(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(X)),Ge=this.componentDef.onPush?576:528,ut=function A_(n,i){return{components:[],scheduler:n||Nc,clean:qp,playerHandler:i||null,flags:0}}(),At=bd(0,null,null,1,0,null,null,null,null,null),Yt=gd(null,At,ut,Ge,null,null,b,P,T,p);let pn,Tn;$n(Yt);try{const Vn=function ff(n,i,o,l,c,p){const b=o[1];o[20]=n;const P=Al(b,20,2,"#host",null),X=P.mergedAttrs=i.hostAttrs;null!==X&&(nf(P,X,!0),null!==n&&(Ki(c,n,X),null!==P.classes&&rl(c,n,P.classes),null!==P.styles&&kh(c,n,P.styles)));const ue=l.createRenderer(n,i),Ge=gd(o,n_(i),null,i.onPush?64:16,o[20],P,l,ue,p||null,null);return b.firstCreatePass&&(Ht(te(P,o),b,i.type),Xh(b,P),Gp(P,o.length,1)),Jh(o,Ge),o[20]=Ge}(ue,this.componentDef,Yt,b,P);if(ue)if(l)Ki(P,ue,["ng-version",qy.full]);else{const{attrs:nn,classes:ri}=function hd(n){const i=[],o=[];let l=1,c=2;for(;l<n.length;){let p=n[l];if("string"==typeof p)2===c?""!==p&&i.push(p,n[++l]):8===c&&o.push(p);else{if(!jo(c))break;c=p}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);nn&&Ki(P,ue,nn),ri&&ri.length>0&&rl(P,ue,ri.join(" "))}if(Tn=Gn(At,20),void 0!==o){const nn=Tn.projection=[];for(let ri=0;ri<this.ngContentSelectors.length;ri++){const Yi=o[ri];nn.push(null!=Yi?Array.from(Yi):null)}}pn=function pf(n,i,o,l,c){const p=o[1],b=function Av(n,i,o){const l=nr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),d_(n,l,i,zc(n,i,1,null),o));const c=Ro(i,n,l.directiveStart,l);ni(c,i);const p=$t(l,i);return p&&ni(p,i),c}(p,o,i);if(l.components.push(b),n[8]=b,c&&c.forEach(P=>P(b,i)),i.contentQueries){const P=nr();i.contentQueries(1,b,P.directiveStart)}const T=nr();return!p.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Or(T.index),Vp(o[1],T,0,T.directiveStart,T.directiveEnd,i),Cu(i,b)),b}(Vn,this.componentDef,Yt,ut,[cm]),Wc(At,Yt,null)}finally{tr()}return new yg(this.componentType,pn,Lu(Tn,Yt),Yt,Tn)}}class yg extends class $y{}{constructor(i,o,l,c,p){super(),this.location=l,this._rootLView=c,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Qy(c),this.componentType=i}get injector(){return new Aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Vu{}class vg{}const Uu=new Map;class Jy extends Vu{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mg(this);const l=Be(i);this._bootstrapComponents=pa(l.bootstrap),this._r3Injector=lf(i,o,[{provide:Vu,useValue:this},{provide:Jf,useValue:this.componentFactoryResolver}],pe(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Co.THROW_IF_NOT_FOUND,l=hn.Default){return i===Co||i===Vu||i===sf?this:this._r3Injector.get(i,o,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class ev extends vg{constructor(i){super(),this.moduleType=i,null!==Be(i)&&function bg(n){const i=new Set;!function o(l){const c=Be(l,!0),p=c.id;null!==p&&(function ip(n,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${n} - ${pe(i)} vs ${pe(i.name)}`)}(p,Uu.get(p),l),Uu.set(p,l));const b=pa(c.imports);for(const T of b)i.has(T)||(i.add(T),o(T))}(n)}(i)}create(i){return new Jy(this.moduleType,i)}}function tv(n,i,o,l){return nv(Jt(),pr(),n,i,o,l)}function nv(n,i,o,l,c,p){const b=i+o;return $r(n,b,c)?function ll(n,i,o){return n[i]=o}(n,b+1,p?l.call(p,c):l(c)):function Jd(n,i){const o=n[i];return o===ui?void 0:o}(n,b+1)}function Ig(n,i){const o=_i();let l;const c=n+20;o.firstCreatePass?(l=function iv(n,i){if(i)for(let o=i.length-1;o>=0;o--){const l=i[o];if(n===l.name)return l}}(i,o.pipeRegistry),o.data[c]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,l.onDestroy)):l=o.data[c];const p=l.factory||(l.factory=ar(l.type)),b=dt(_r);try{const T=la(!1),P=p();return la(T),function k_(n,i,o,l){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=l}(o,Jt(),c,P),P}finally{dt(b)}}function Tg(n,i,o){const l=n+20,c=Jt(),p=pi(c,l);return function eh(n,i){return n[1].data[i].pure}(c,l)?nv(c,pr(),i,p.transform,o,p):p.transform(o)}function ju(n){return i=>{setTimeout(n,void 0,i)}}const Ha=class Mg extends h.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){var c,p,b;let T=i,P=o||(()=>null),X=l;if(i&&"object"==typeof i){const Ge=i;T=null===(c=Ge.next)||void 0===c?void 0:c.bind(Ge),P=null===(p=Ge.error)||void 0===p?void 0:p.bind(Ge),X=null===(b=Ge.complete)||void 0===b?void 0:b.bind(Ge)}this.__isAsync&&(P=ju(P),T&&(T=ju(T)),X&&(X=ju(X)));const ue=super.subscribe({next:T,error:P,complete:X});return i instanceof E.w0&&i.add(ue),ue}};function t0(){return this._results[oc()]()}class Hu{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=oc(),l=Hu.prototype;l[o]||(l[o]=t0)}get changes(){return this._changes||(this._changes=new Ha)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const c=ao(i);(this._changesDetected=!function Hl(n,i,o){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],p=i[l];if(o&&(c=o(c),p=o(p)),p!==c)return!1}return!0}(l._results,c,o))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let th=(()=>{class n{}return n.__NG_ELEMENT_ID__=lv,n})();const ov=th,av=class extends ov{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i){const o=this._declarationTContainer.tViews,l=gd(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(o)),Wc(o,l,i),new Bu(l)}};function lv(){return sp(nr(),Jt())}function sp(n,i){return 4&n.type?new av(i,n,Lu(n,i)):null}let nh=(()=>{class n{}return n.__NG_ELEMENT_ID__=cv,n})();function cv(){return dv(nr(),Jt())}const n0=nh,uv=class extends n0{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return Lu(this._hostTNode,this._hostLView)}get injector(){return new Aa(this._hostTNode,this._hostLView)}get parentInjector(){const i=jt(this._hostTNode,this._hostLView);if($a(i)){const o=Xi(i,this._hostLView),l=oo(i);return new Aa(o[1].data[l+8],o)}return new Aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Sg(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){const c=i.createEmbeddedView(o||{});return this.insert(c,l),c}createComponent(i,o,l,c,p){const b=i&&!function jr(n){return"function"==typeof n}(i);let T;if(b)T=o;else{const Ge=o||{};T=Ge.index,l=Ge.injector,c=Ge.projectableNodes,p=Ge.ngModuleRef}const P=b?i:new _g(ht(i)),X=l||this.parentInjector;if(!p&&null==P.ngModule){const ut=(b?X:this.parentInjector).get(Vu,null);ut&&(p=ut)}const ue=P.create(X,c,void 0,p);return this.insert(ue.hostView,T),ue}insert(i,o){const l=i._lView,c=l[1];if(function Ei(n){return yr(n[3])}(l)){const ue=this.indexOf(i);if(-1!==ue)this.detach(ue);else{const Ge=l[3],ut=new uv(Ge,Ge[6],Ge[3]);ut.detach(ut.indexOf(i))}}const p=this._adjustIndex(o),b=this._lContainer;!function _u(n,i,o,l){const c=10+l,p=o.length;l>0&&(o[c-1][4]=i),l<p-10?(i[4]=o[c],xa(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const b=i[17];null!==b&&o!==b&&function ho(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(b,i);const T=i[19];null!==T&&T.insertView(n),i[2]|=128}(c,l,b,p);const T=Cp(p,b),P=l[11],X=xh(P,b[7]);return null!==X&&function ud(n,i,o,l,c,p){l[0]=c,l[6]=i,dd(n,l,o,1,c,p)}(c,b[6],P,l,X,T),i.attachToViewContainerRef(),xa(op(b),p,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Sg(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Mh(this._lContainer,o);l&&(Rt(op(this._lContainer),o),Fa(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Mh(this._lContainer,o);return l&&null!=Rt(op(this._lContainer),o)?new Bu(l):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Sg(n){return n[8]}function op(n){return n[8]||(n[8]=[])}function dv(n,i){let o;const l=i[n.index];if(yr(l))o=l;else{let c;if(8&n.type)c=V(l);else{const p=i[11];c=p.createComment("");const b=$t(n,i);Bc(p,xh(p,b),c,function yv(n,i){return gi(n)?n.nextSibling(i):i.nextSibling}(p,b),!1)}i[n.index]=o=wu(l,i,c,n),Jh(i,o)}return new uv(o,n,i)}class s{constructor(i){this.queryList=i,this.matches=null}clone(){return new s(this.queryList)}setDirty(){this.queryList.setDirty()}}class a{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let p=0;p<l;p++){const b=o.getByIndex(p);c.push(this.queries[b.indexInDeclarationView].clone())}return new a(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Fi(i,o).matches&&this.queries[o].setDirty()}}class d{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class m{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const c=null!==o?o.length:0,p=this.getByIndex(l).embeddedTView(i,c);p&&(p.indexInDeclarationView=l,null!==o?o.push(p):o=[p])}return null!==o?new m(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class M{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new M(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const p=l[c];this.matchTNodeWithReadOption(i,o,H(o,p)),this.matchTNodeWithReadOption(i,o,ya(o,i,p,!1,!1))}else l===th?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ya(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Xd||c===nh||c===th&&4&o.type)this.addMatch(o.index,-2);else{const p=ya(o,i,c,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function H(n,i){const o=n.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function Te(n,i,o,l){return-1===o?function J(n,i){return 11&n.type?Lu(n,i):4&n.type?sp(n,i):null}(i,n):-2===o?function tt(n,i,o){return o===Xd?Lu(i,n):o===th?sp(i,n):o===nh?dv(i,n):void 0}(n,i,l):Ro(n,n[1],o,i)}function xt(n,i,o,l){const c=i[19].queries[l];if(null===c.matches){const p=n.data,b=o.matches,T=[];for(let P=0;P<b.length;P+=2){const X=b[P];T.push(X<0?null:Te(i,p[X],b[P+1],o.metadata.read))}c.matches=T}return c.matches}function Wt(n,i,o,l){const c=n.queries.getByIndex(o),p=c.matches;if(null!==p){const b=xt(n,i,c,o);for(let T=0;T<p.length;T+=2){const P=p[T];if(P>0)l.push(b[T/2]);else{const X=p[T+1],ue=i[-P];for(let Ge=10;Ge<ue.length;Ge++){const ut=ue[Ge];ut[17]===ut[3]&&Wt(ut[1],ut,X,l)}if(null!==ue[9]){const Ge=ue[9];for(let ut=0;ut<Ge.length;ut++){const At=Ge[ut];Wt(At[1],At,X,l)}}}}}return l}function qt(n){const i=Jt(),o=_i(),l=Mt();zt(l+1);const c=Fi(o,l);if(n.dirty&&hi(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const p=c.crossesNgTemplate?Wt(o,i,l,[]):xt(o,i,c,l);n.reset(p,Yb),n.notifyOnChanges()}return!0}return!1}function yn(n,i,o){const l=_i();l.firstCreatePass&&(wi(l,new d(n,i,o),-1),2==(2&i)&&(l.staticViewQueries=!0)),zi(l,Jt(),i)}function Pn(n,i,o,l){const c=_i();if(c.firstCreatePass){const p=nr();wi(c,new d(i,o,l),p.index),function Ii(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}zi(c,Jt(),o)}function Mi(){return function sr(n,i){return n[19].queries[i].queryList}(Jt(),Mt())}function zi(n,i,o){const l=new Hu(4==(4&o));r_(n,i,l,l.destroy),null===i[19]&&(i[19]=new a),i[19].queries.push(new s(l))}function wi(n,i,o){null===n.queries&&(n.queries=new m),n.queries.track(new M(i,o))}function Fi(n,i){return n.queries.getByIndex(i)}function Ps(n,i){return sp(n,i)}function pv(...n){}const SE=new Tr("Application Initializer");let c0=(()=>{class n{constructor(o){this.appInits=o,this.resolve=pv,this.reject=pv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(Y_(p))o.push(p);else if(Tm(p)){const b=new Promise((T,P)=>{p.subscribe({complete:T,error:P})});o.push(b)}}Promise.all(o).then(()=>{l()}).catch(c=>{this.reject(c)}),0===o.length&&l(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(U(SE,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AE=new Tr("AppId",{providedIn:"root",factory:function xE(){return`${u0()}${u0()}${u0()}`}});function u0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OE=new Tr("Platform Initializer"),RE=new Tr("Platform ID"),PE=new Tr("appBootstrapListener");let kE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const d0=new Tr("LocaleId",{providedIn:"root",factory:()=>Ke(d0,hn.Optional|hn.SkipSelf)||function AC(){return"undefined"!=typeof $localize&&$localize.locale||eo}()}),xC=new Tr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class OC{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let RC=(()=>{class n{compileModuleSync(o){return new ev(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),p=pa(Be(o).declarations).reduce((b,T)=>{const P=ht(T);return P&&b.push(new _g(P)),b},[]);return new OC(l,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kC=(()=>Promise.resolve(0))();function h0(n){"undefined"==typeof Zone?kC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class kl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ha(!1),this.onMicrotaskEmpty=new Ha(!1),this.onStable=new Ha(!1),this.onError=new Ha(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&o,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function NC(){let n=mn.requestAnimationFrame,i=mn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function BC(n){const i=()=>{!function LC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,p0(n),n.isCheckStableRunning=!0,f0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),p0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,c,p,b,T)=>{try{return NE(n),o.invokeTask(c,p,b,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&i(),FE(n)}},onInvoke:(o,l,c,p,b,T,P)=>{try{return NE(n),o.invoke(c,p,b,T,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),FE(n)}},onHasTask:(o,l,c,p)=>{o.hasTask(c,p),l===c&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,p0(n),f0(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,l,c,p)=>(o.handleError(c,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(kl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,c){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+c,i,FC,pv,pv);try{return p.runTask(b,o,l)}finally{p.cancelTask(b)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const FC={};function f0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function p0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function NE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FE(n){n._nesting--,f0(n)}class VC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ha,this.onMicrotaskEmpty=new Ha,this.onStable=new Ha,this.onError=new Ha}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,c){return i.apply(o,l)}}let LE=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kl.assertNotInAngularZone(),h0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())h0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,c){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:c})}whenStable(o,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(U(kl))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),BE=(()=>{class n{constructor(){this._applications=new Map,m0.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return m0.findTestabilityInTree(this,o,l)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class UC{addToWindow(i){}findTestabilityInTree(i,o,l){return null}}function jC(n){m0=n}let Nl,m0=new UC;const VE=new Tr("AllowMultipleToken");class $C{constructor(i,o){this.name=i,this.token=o}}function UE(n,i,o=[]){const l=`Platform: ${i}`,c=new Tr(l);return(p=[])=>{let b=jE();if(!b||b.injector.get(VE,!1))if(n)n(o.concat(p).concat({provide:c,useValue:!0}));else{const T=o.concat(p).concat({provide:c,useValue:!0},{provide:Id,useValue:"platform"});!function zC(n){if(Nl&&!Nl.destroyed&&!Nl.injector.get(VE,!1))throw new $e(400,"");Nl=n.get(HE);const i=n.get(OE,null);i&&i.forEach(o=>o())}(Co.create({providers:T,name:l}))}return function WC(n){const i=jE();if(!i)throw new $e(401,"");return i}()}}function jE(){return Nl&&!Nl.destroyed?Nl:null}let HE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const T=function KC(n,i){let o;return o="noop"===n?new VC:("zone.js"===n?void 0:n)||new kl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),P=[{provide:kl,useValue:T}];return T.run(()=>{const X=Co.create({providers:P,parent:this.injector,name:o.moduleType.name}),ue=o.create(X),Ge=ue.injector.get(tl,null);if(!Ge)throw new $e(402,"");return T.runOutsideAngular(()=>{const ut=T.onError.subscribe({next:At=>{Ge.handleError(At)}});ue.onDestroy(()=>{_0(this._modules,ue),ut.unsubscribe()})}),function ZC(n,i,o){try{const l=o();return Y_(l)?l.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(Ge,T,()=>{const ut=ue.injector.get(c0);return ut.runInitializers(),ut.donePromise.then(()=>(function Qm(n){Ae(n,"Expected localeId to be defined"),"string"==typeof n&&(Ry=n.toLowerCase().replace(/_/g,"-"))}(ue.injector.get(d0,eo)||eo),this._moduleDoBootstrap(ue),ue))})})}bootstrapModule(o,l=[]){const c=GE({},l);return function HC(n,i,o){const l=new ev(o);return Promise.resolve(l)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(o){const l=o.injector.get(g0);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new $e(403,"");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(U(Co))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function GE(n,i){return Array.isArray(i)?i.reduce(GE,n):Object.assign(Object.assign({},n),i)}let g0=(()=>{class n{constructor(o,l,c,p,b){this._zone=o,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new g.y(X=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{X.next(this._stable),X.complete()})}),P=new g.y(X=>{let ue;this._zone.runOutsideAngular(()=>{ue=this._zone.onStable.subscribe(()=>{kl.assertNotInAngularZone(),h0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,X.next(!0))})})});const Ge=this._zone.onUnstable.subscribe(()=>{kl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{X.next(!1)}))});return()=>{ue.unsubscribe(),Ge.unsubscribe()}});this.isStable=(0,x.T)(T,P.pipe((0,we.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new $e(405,"");let c;c=o instanceof zy?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const p=function GC(n){return n.isBoundToModule}(c)?void 0:this._injector.get(Vu),T=c.create(Co.NULL,[],l||c.selector,p),P=T.location.nativeElement,X=T.injector.get(LE,null),ue=X&&T.injector.get(BE);return X&&ue&&ue.registerApplication(P,X),T.onDestroy(()=>{this.detachView(T.hostView),_0(this.components,T),ue&&ue.unregisterApplication(P)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new $e(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;_0(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(PE,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(U(kl),U(Co),U(tl),U(Jf),U(c0))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _0(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let zE=!0,WE=!1;function qC(){return WE=!0,zE}function QC(){if(WE)throw new Error("Cannot enable prod mode after platform setup.");zE=!1}let XC=(()=>{class n{}return n.__NG_ELEMENT_ID__=JC,n})();function JC(n){return function ew(n,i,o){if(Ks(n)&&!o){const l=oi(n.index,i);return new Bu(l,l)}return 47&n.type?new Bu(i[16],i):null}(nr(),Jt(),16==(16&n))}class qE{constructor(){}supports(i){return qc(i)}create(i){return new ow(i)}}const sw=(n,i)=>i;class ow{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||sw}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,c=0,p=null;for(;o||l;){const b=!l||o&&o.currentIndex<XE(l,c,p)?o:l,T=XE(b,c,p),P=b.currentIndex;if(b===l)c--,l=l._nextRemoved;else if(o=o._next,null==b.previousIndex)c++;else{p||(p=[]);const X=T-c,ue=P-c;if(X!=ue){for(let ut=0;ut<X;ut++){const At=ut<p.length?p[ut]:p[ut]=0,Yt=At+ut;ue<=Yt&&Yt<X&&(p[ut]=At+1)}p[b.previousIndex]=ue-X}}T!==P&&i(b,T,P)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!qc(i))throw new $e(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,p,b,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let T=0;T<this.length;T++)p=i[T],b=this._trackByFn(T,p),null!==o&&Object.is(o.trackById,b)?(l&&(o=this._verifyReinsertion(o,p,b,T)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,b,T),l=!0),o=o._next}else c=0,function x_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[oc()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,T=>{b=this._trackByFn(c,T),null!==o&&Object.is(o.trackById,b)?(l&&(o=this._verifyReinsertion(o,T,b,c)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,b,c),l=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,c){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,c)):i=this._addAfter(new aw(o,l),p,c),i}_verifyReinsertion(i,o,l,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?i=this._reinsertAfter(p,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,p=i._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new QE),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class aw{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class QE{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new lw,this.map.set(o,l)),l.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XE(n,i,o){const l=n.previousIndex;if(null===l)return l;let c=0;return o&&l<o.length&&(c=o[l]),l+i+c}class JE{constructor(){}supports(i){return i instanceof Map||Sd(i)}create(){return new cw}}class cw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Sd(i)))throw new $e(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(c,l);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const p=c._prev,b=c._next;return p&&(p._next=b),b&&(b._prev=p),c._next=null,c._prev=null,c}const l=new uw(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class uw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eC(){return new C0([new qE])}let C0=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const c=l.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||eC()),deps:[[n,new lr,new ei]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(null!=l)return l;throw new $e(901,"")}}return n.\u0275prov=se({token:n,providedIn:"root",factory:eC}),n})();function tC(){return new w0([new JE])}let w0=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(l){const c=l.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||tC()),deps:[[n,new lr,new ei]]}}find(o){const l=this.factories.find(p=>p.supports(o));if(l)return l;throw new $e(901,"")}}return n.\u0275prov=se({token:n,providedIn:"root",factory:tC}),n})();const fw=UE(null,"core",[{provide:RE,useValue:"unknown"},{provide:HE,deps:[Co]},{provide:BE,deps:[]},{provide:kE,deps:[]}]);let pw=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(U(g0))},n.\u0275mod=vn({type:n}),n.\u0275inj=ot({}),n})()},3075:(Gt,Ze,y)=>{y.d(Ze,{qu:()=>Ei,u:()=>hr,sg:()=>Ns,u5:()=>oi,JU:()=>pe,a5:()=>We,JJ:()=>hn,JL:()=>gn,F:()=>Li,UX:()=>hi,kI:()=>Ot,_Y:()=>or});var h=y(5e3),E=y(9808),g=y(8996),x=y(4128),we=y(4004);let be=(()=>{class W{constructor(S,me){this._renderer=S,this._elementRef=me,this.onChange=Lt=>{},this.onTouched=()=>{}}setProperty(S,me){this._renderer.setProperty(this._elementRef.nativeElement,S,me)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return W.\u0275fac=function(S){return new(S||W)(h.Y36(h.Qsj),h.Y36(h.SBq))},W.\u0275dir=h.lG2({type:W}),W})(),Me=(()=>{class W extends be{}return W.\u0275fac=function(){let B;return function(me){return(B||(B=h.n5z(W)))(me||W)}}(),W.\u0275dir=h.lG2({type:W,features:[h.qOj]}),W})();const pe=new h.OlP("NgValueAccessor"),fe={provide:pe,useExisting:(0,h.Gpc)(()=>Se),multi:!0},He=new h.OlP("CompositionEventMode");let Se=(()=>{class W extends be{constructor(S,me,Lt){super(S,me),this._compositionMode=Lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function le(){const W=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(S){this.setProperty("value",null==S?"":S)}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return W.\u0275fac=function(S){return new(S||W)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(He,8))},W.\u0275dir=h.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,me){1&S&&h.NdJ("input",function(wn){return me._handleInput(wn.target.value)})("blur",function(){return me.onTouched()})("compositionstart",function(){return me._compositionStart()})("compositionend",function(wn){return me._compositionEnd(wn.target.value)})},features:[h._Bn([fe]),h.qOj]}),W})();function $e(W){return null==W||0===W.length}function it(W){return null!=W&&"number"==typeof W.length}const Le=new h.OlP("NgValidators"),rt=new h.OlP("NgAsyncValidators"),Ne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ot{static min(B){return function et(W){return B=>{if($e(B.value)||$e(W))return null;const S=parseFloat(B.value);return!isNaN(S)&&S<W?{min:{min:W,actual:B.value}}:null}}(B)}static max(B){return function Ee(W){return B=>{if($e(B.value)||$e(W))return null;const S=parseFloat(B.value);return!isNaN(S)&&S>W?{max:{max:W,actual:B.value}}:null}}(B)}static required(B){return function _e(W){return $e(W.value)?{required:!0}:null}(B)}static requiredTrue(B){return function xe(W){return!0===W.value?null:{required:!0}}(B)}static email(B){return function De(W){return $e(W.value)||Ne.test(W.value)?null:{email:!0}}(B)}static minLength(B){return function ne(W){return B=>$e(B.value)||!it(B.value)?null:B.value.length<W?{minlength:{requiredLength:W,actualLength:B.value.length}}:null}(B)}static maxLength(B){return function Ye(W){return B=>it(B.value)&&B.value.length>W?{maxlength:{requiredLength:W,actualLength:B.value.length}}:null}(B)}static pattern(B){return function ce(W){if(!W)return Ue;let B,S;return"string"==typeof W?(S="","^"!==W.charAt(0)&&(S+="^"),S+=W,"$"!==W.charAt(W.length-1)&&(S+="$"),B=new RegExp(S)):(S=W.toString(),B=W),me=>{if($e(me.value))return null;const Lt=me.value;return B.test(Lt)?null:{pattern:{requiredPattern:S,actualValue:Lt}}}}(B)}static nullValidator(B){return null}static compose(B){return Ae(B)}static composeAsync(B){return ee(B)}}function Ue(W){return null}function oe(W){return null!=W}function Oe(W){const B=(0,h.QGY)(W)?(0,g.D)(W):W;return(0,h.CqO)(B),B}function ze(W){let B={};return W.forEach(S=>{B=null!=S?Object.assign(Object.assign({},B),S):B}),0===Object.keys(B).length?null:B}function yt(W,B){return B.map(S=>S(W))}function gt(W){return W.map(B=>function mt(W){return!W.validate}(B)?B:S=>B.validate(S))}function Ae(W){if(!W)return null;const B=W.filter(oe);return 0==B.length?null:function(S){return ze(yt(S,B))}}function Qe(W){return null!=W?Ae(gt(W)):null}function ee(W){if(!W)return null;const B=W.filter(oe);return 0==B.length?null:function(S){const me=yt(S,B).map(Oe);return(0,x.D)(me).pipe((0,we.U)(ze))}}function Fe(W){return null!=W?ee(gt(W)):null}function O(W,B){return null===W?[B]:Array.isArray(W)?[...W,B]:[W,B]}function se(W){return W._rawValidators}function ft(W){return W._rawAsyncValidators}function ot(W){return W?Array.isArray(W)?W:[W]:[]}function Dt(W,B){return Array.isArray(W)?W.includes(B):W===B}function Ct(W,B){const S=ot(B);return ot(W).forEach(Lt=>{Dt(S,Lt)||S.push(Lt)}),S}function vt(W,B){return ot(B).filter(S=>!Dt(W,S))}class Bt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=Qe(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=Fe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B){this.control&&this.control.reset(B)}hasError(B,S){return!!this.control&&this.control.hasError(B,S)}getError(B,S){return this.control?this.control.getError(B,S):null}}class We extends Bt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class St extends Bt{get formDirective(){return null}get path(){return null}}class rn{constructor(B){this._cd=B}is(B){var S,me,Lt;return"submitted"===B?!!(null===(S=this._cd)||void 0===S?void 0:S.submitted):!!(null===(Lt=null===(me=this._cd)||void 0===me?void 0:me.control)||void 0===Lt?void 0:Lt[B])}}let hn=(()=>{class W extends rn{constructor(S){super(S)}}return W.\u0275fac=function(S){return new(S||W)(h.Y36(We,2))},W.\u0275dir=h.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,me){2&S&&h.ekj("ng-untouched",me.is("untouched"))("ng-touched",me.is("touched"))("ng-pristine",me.is("pristine"))("ng-dirty",me.is("dirty"))("ng-valid",me.is("valid"))("ng-invalid",me.is("invalid"))("ng-pending",me.is("pending"))},features:[h.qOj]}),W})(),gn=(()=>{class W extends rn{constructor(S){super(S)}}return W.\u0275fac=function(S){return new(S||W)(h.Y36(St,10))},W.\u0275dir=h.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,me){2&S&&h.ekj("ng-untouched",me.is("untouched"))("ng-touched",me.is("touched"))("ng-pristine",me.is("pristine"))("ng-dirty",me.is("dirty"))("ng-valid",me.is("valid"))("ng-invalid",me.is("invalid"))("ng-pending",me.is("pending"))("ng-submitted",me.is("submitted"))},features:[h.qOj]}),W})();function on(W,B){j(W,B),B.valueAccessor.writeValue(W.value),function k(W,B){B.valueAccessor.registerOnChange(S=>{W._pendingValue=S,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&ke(W,B)})}(W,B),function It(W,B){const S=(me,Lt)=>{B.valueAccessor.writeValue(me),Lt&&B.viewToModelUpdate(me)};W.registerOnChange(S),B._registerOnDestroy(()=>{W._unregisterOnChange(S)})}(W,B),function ye(W,B){B.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&ke(W,B),"submit"!==W.updateOn&&W.markAsTouched()})}(W,B),function ge(W,B){if(B.valueAccessor.setDisabledState){const S=me=>{B.valueAccessor.setDisabledState(me)};W.registerOnDisabledChange(S),B._registerOnDestroy(()=>{W._unregisterOnDisabledChange(S)})}}(W,B)}function Si(W,B,S=!0){const me=()=>{};B.valueAccessor&&(B.valueAccessor.registerOnChange(me),B.valueAccessor.registerOnTouched(me)),N(W,B),W&&(B._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function qe(W,B){W.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(B)})}function j(W,B){const S=se(W);null!==B.validator?W.setValidators(O(S,B.validator)):"function"==typeof S&&W.setValidators([S]);const me=ft(W);null!==B.asyncValidator?W.setAsyncValidators(O(me,B.asyncValidator)):"function"==typeof me&&W.setAsyncValidators([me]);const Lt=()=>W.updateValueAndValidity();qe(B._rawValidators,Lt),qe(B._rawAsyncValidators,Lt)}function N(W,B){let S=!1;if(null!==W){if(null!==B.validator){const Lt=se(W);if(Array.isArray(Lt)&&Lt.length>0){const wn=Lt.filter(vi=>vi!==B.validator);wn.length!==Lt.length&&(S=!0,W.setValidators(wn))}}if(null!==B.asyncValidator){const Lt=ft(W);if(Array.isArray(Lt)&&Lt.length>0){const wn=Lt.filter(vi=>vi!==B.asyncValidator);wn.length!==Lt.length&&(S=!0,W.setAsyncValidators(wn))}}}const me=()=>{};return qe(B._rawValidators,me),qe(B._rawAsyncValidators,me),S}function ke(W,B){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function fn(W,B){j(W,B)}function ht(W,B){W._syncPendingControls(),B.forEach(S=>{const me=S.control;"submit"===me.updateOn&&me._pendingChange&&(S.viewToModelUpdate(me._pendingValue),me._pendingChange=!1)})}function wt(W,B){const S=W.indexOf(B);S>-1&&W.splice(S,1)}const at="VALID",Nt="INVALID",Kt="PENDING",dn="DISABLED";function Nn(W){return(si(W)?W.validators:W)||null}function Un(W){return Array.isArray(W)?Qe(W):W||null}function Xt(W,B){return(si(B)?B.asyncValidators:W)||null}function Sn(W){return Array.isArray(W)?Fe(W):W||null}function si(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}const Ti=W=>W instanceof Hn,Gi=W=>W instanceof kr,Ai=W=>W instanceof ur;function Er(W){return Ti(W)?W.value:W.getRawValue()}function mi(W,B){const S=Gi(W),me=W.controls;if(!(S?Object.keys(me):me).length)throw new h.vHH(1e3,"");if(!me[B])throw new h.vHH(1001,"")}function $i(W,B){Gi(W),W._forEachChild((me,Lt)=>{if(void 0===B[Lt])throw new h.vHH(1002,"")})}class Di{constructor(B,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=B,this._rawAsyncValidators=S,this._composedValidatorFn=Un(this._rawValidators),this._composedAsyncValidatorFn=Sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===at}get invalid(){return this.status===Nt}get pending(){return this.status==Kt}get disabled(){return this.status===dn}get enabled(){return this.status!==dn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._rawValidators=B,this._composedValidatorFn=Un(B)}setAsyncValidators(B){this._rawAsyncValidators=B,this._composedAsyncValidatorFn=Sn(B)}addValidators(B){this.setValidators(Ct(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(Ct(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(vt(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(vt(B,this._rawAsyncValidators))}hasValidator(B){return Dt(this._rawValidators,B)}hasAsyncValidator(B){return Dt(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=Kt,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const S=this._parentMarkedDirty(B.onlySelf);this.status=dn,this.errors=null,this._forEachChild(me=>{me.disable(Object.assign(Object.assign({},B),{onlySelf:!0}))}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},B),{skipPristineCheck:S})),this._onDisabledChange.forEach(me=>me(!0))}enable(B={}){const S=this._parentMarkedDirty(B.onlySelf);this.status=at,this._forEachChild(me=>{me.enable(Object.assign(Object.assign({},B),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},B),{skipPristineCheck:S})),this._onDisabledChange.forEach(me=>me(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===at||this.status===Kt)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dn:at}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=Kt,this._hasOwnPendingAsyncValidator=!0;const S=Oe(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(me=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(me,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,S={}){this.errors=B,this._updateControlsErrors(!1!==S.emitEvent)}get(B){return function xn(W,B,S){if(null==B||(Array.isArray(B)||(B=B.split(S)),Array.isArray(B)&&0===B.length))return null;let me=W;return B.forEach(Lt=>{me=Gi(me)?me.controls.hasOwnProperty(Lt)?me.controls[Lt]:null:Ai(me)&&me.at(Lt)||null}),me}(this,B,".")}getError(B,S){const me=S?this.get(S):this;return me&&me.errors?me.errors[B]:null}hasError(B,S){return!!this.getError(B,S)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?dn:this.errors?Nt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kt)?Kt:this._anyControlsHaveStatus(Nt)?Nt:at}_anyControlsHaveStatus(B){return this._anyControls(S=>S.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_isBoxedValue(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){si(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Hn extends Di{constructor(B=null,S,me){super(Nn(S),Xt(me,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),si(S)&&S.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(B)?B.value:B)}setValue(B,S={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(me=>me(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(B,S={}){this.setValue(B,S)}reset(B=this.defaultValue,S={}){this._applyFormState(B),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){wt(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){wt(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){this._isBoxedValue(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}}class kr extends Di{constructor(B,S,me){super(Nn(S),Xt(me,S)),this.controls=B,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(B,S){return this.controls[B]?this.controls[B]:(this.controls[B]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(B,S,me={}){this.registerControl(B,S),this.updateValueAndValidity({emitEvent:me.emitEvent}),this._onCollectionChange()}removeControl(B,S={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(B,S,me={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],S&&this.registerControl(B,S),this.updateValueAndValidity({emitEvent:me.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,S={}){$i(this,B),Object.keys(B).forEach(me=>{mi(this,me),this.controls[me].setValue(B[me],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(B,S={}){null!=B&&(Object.keys(B).forEach(me=>{this.controls[me]&&this.controls[me].patchValue(B[me],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(B={},S={}){this._forEachChild((me,Lt)=>{me.reset(B[Lt],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(B,S,me)=>(B[me]=Er(S),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(S,me)=>!!me._syncPendingControls()||S);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(S=>{const me=this.controls[S];me&&B(me,S)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const S of Object.keys(this.controls)){const me=this.controls[S];if(this.contains(S)&&B(me))return!0}return!1}_reduceValue(){return this._reduceChildren({},(B,S,me)=>((S.enabled||this.disabled)&&(B[me]=S.value),B))}_reduceChildren(B,S){let me=B;return this._forEachChild((Lt,wn)=>{me=S(me,Lt,wn)}),me}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ur extends Di{constructor(B,S,me){super(Nn(S),Xt(me,S)),this.controls=B,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(B){return this.controls[B]}push(B,S={}){this.controls.push(B),this._registerControl(B),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(B,S,me={}){this.controls.splice(B,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:me.emitEvent})}removeAt(B,S={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),this.controls.splice(B,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(B,S,me={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),this.controls.splice(B,1),S&&(this.controls.splice(B,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:me.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(B,S={}){$i(this,B),B.forEach((me,Lt)=>{mi(this,Lt),this.at(Lt).setValue(me,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(B,S={}){null!=B&&(B.forEach((me,Lt)=>{this.at(Lt)&&this.at(Lt).patchValue(me,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(B=[],S={}){this._forEachChild((me,Lt)=>{me.reset(B[Lt],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(B=>Er(B))}clear(B={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:B.emitEvent}))}_syncPendingControls(){let B=this.controls.reduce((S,me)=>!!me._syncPendingControls()||S,!1);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){this.controls.forEach((S,me)=>{B(S,me)})}_updateValue(){this.value=this.controls.filter(B=>B.enabled||this.disabled).map(B=>B.value)}_anyControls(B){return this.controls.some(S=>S.enabled&&B(S))}_setUpControls(){this._forEachChild(B=>this._registerControl(B))}_allControlsDisabled(){for(const B of this.controls)if(B.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(B){B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)}}const _s={provide:St,useExisting:(0,h.Gpc)(()=>Li)},mr=(()=>Promise.resolve(null))();let Li=(()=>{class W extends St{constructor(S,me){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new kr({},Qe(S),Fe(me))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){mr.then(()=>{const me=this._findContainer(S.path);S.control=me.registerControl(S.name,S.control),on(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){mr.then(()=>{const me=this._findContainer(S.path);me&&me.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){mr.then(()=>{const me=this._findContainer(S.path),Lt=new kr({});fn(Lt,S),me.registerControl(S.name,Lt),Lt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){mr.then(()=>{const me=this._findContainer(S.path);me&&me.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,me){mr.then(()=>{this.form.get(S.path).setValue(me)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,ht(this.form,this._directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return W.\u0275fac=function(S){return new(S||W)(h.Y36(Le,10),h.Y36(rt,10))},W.\u0275dir=h.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,me){1&S&&h.NdJ("submit",function(wn){return me.onSubmit(wn)})("reset",function(){return me.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([_s]),h.qOj]}),W})(),or=(()=>{class W{}return W.\u0275fac=function(S){return new(S||W)},W.\u0275dir=h.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})(),er=(()=>{class W{}return W.\u0275fac=function(S){return new(S||W)},W.\u0275mod=h.oAB({type:W}),W.\u0275inj=h.cJS({}),W})();const to=new h.OlP("NgModelWithFormControlWarning"),ns={provide:St,useExisting:(0,h.Gpc)(()=>Ns)};let Ns=(()=>{class W extends St{constructor(S,me){super(),this.validators=S,this.asyncValidators=me,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(S),this._setAsyncValidators(me)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(N(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const me=this.form.get(S.path);return on(me,S),me.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),me}getControl(S){return this.form.get(S.path)}removeControl(S){Si(S.control||null,S,!1),wt(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,me){this.form.get(S.path).setValue(me)}onSubmit(S){return this.submitted=!0,ht(this.form,this.directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const me=S.control,Lt=this.form.get(S.path);me!==Lt&&(Si(me||null,S),Ti(Lt)&&(on(Lt,S),S.control=Lt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const me=this.form.get(S.path);fn(me,S),me.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const me=this.form.get(S.path);me&&function Cn(W,B){return N(W,B)}(me,S)&&me.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){j(this.form,this),this._oldForm&&N(this._oldForm,this)}_checkFormPresent(){}}return W.\u0275fac=function(S){return new(S||W)(h.Y36(Le,10),h.Y36(rt,10))},W.\u0275dir=h.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(S,me){1&S&&h.NdJ("submit",function(wn){return me.onSubmit(wn)})("reset",function(){return me.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ns]),h.qOj,h.TTD]}),W})();const Fs={provide:We,useExisting:(0,h.Gpc)(()=>hr)};let hr=(()=>{class W extends We{constructor(S,me,Lt,wn,vi){super(),this._ngModelWarningConfig=vi,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(me),this._setAsyncValidators(Lt),this.valueAccessor=function Vt(W,B){if(!B)return null;let S,me,Lt;return Array.isArray(B),B.forEach(wn=>{wn.constructor===Se?S=wn:function Ve(W){return Object.getPrototypeOf(W.constructor)===Me}(wn)?me=wn:Lt=wn}),Lt||me||S||null}(0,wn)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),function ct(W,B){if(!W.hasOwnProperty("model"))return!1;const S=W.model;return!!S.isFirstChange()||!Object.is(B,S.currentValue)}(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return function ti(W,B){return[...B.path,W]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return W._ngModelWarningSentOnce=!1,W.\u0275fac=function(S){return new(S||W)(h.Y36(St,13),h.Y36(Le,10),h.Y36(rt,10),h.Y36(pe,10),h.Y36(to,8))},W.\u0275dir=h.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Fs]),h.qOj,h.TTD]}),W})(),pi=(()=>{class W{}return W.\u0275fac=function(S){return new(S||W)},W.\u0275mod=h.oAB({type:W}),W.\u0275inj=h.cJS({imports:[[er]]}),W})(),oi=(()=>{class W{}return W.\u0275fac=function(S){return new(S||W)},W.\u0275mod=h.oAB({type:W}),W.\u0275inj=h.cJS({imports:[pi]}),W})(),hi=(()=>{class W{static withConfig(S){return{ngModule:W,providers:[{provide:to,useValue:S.warnOnNgModelWithFormControl}]}}}return W.\u0275fac=function(S){return new(S||W)},W.\u0275mod=h.oAB({type:W}),W.\u0275inj=h.cJS({imports:[pi]}),W})(),Ei=(()=>{class W{group(S,me=null){const Lt=this._reduceControls(S);let Vr,wn=null,vi=null;return null!=me&&(function qi(W){return void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn}(me)?(wn=null!=me.validators?me.validators:null,vi=null!=me.asyncValidators?me.asyncValidators:null,Vr=null!=me.updateOn?me.updateOn:void 0):(wn=null!=me.validator?me.validator:null,vi=null!=me.asyncValidator?me.asyncValidator:null)),new kr(Lt,{asyncValidators:vi,updateOn:Vr,validators:wn})}control(S,me,Lt){return new Hn(S,me,Lt)}array(S,me,Lt){const wn=S.map(vi=>this._createControl(vi));return new ur(wn,me,Lt)}_reduceControls(S){const me={};return Object.keys(S).forEach(Lt=>{me[Lt]=this._createControl(S[Lt])}),me}_createControl(S){return Ti(S)||Gi(S)||Ai(S)?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return W.\u0275fac=function(S){return new(S||W)},W.\u0275prov=h.Yz7({token:W,factory:W.\u0275fac,providedIn:hi}),W})()},7399:(Gt,Ze,y)=>{y.d(Ze,{OG:()=>Ot,xM:()=>De,ch:()=>ne,_r:()=>_e,oL:()=>xe});var h=y(9776),E=y(7429),g=y(5e3),x=y(508),we=y(3191),be=y(5113),Me=y(925),pe=y(9808),ie=y(1777),q=y(5664),fe=y(226),le=y(7579),He=y(6451),Se=y(9646),$e=y(1159),it=y(9300),Le=y(5698);function rt(ce,Ue){}const Ne={bottomSheetState:(0,ie.X$)("state",[(0,ie.SB)("void, hidden",(0,ie.oB)({transform:"translateY(100%)"})),(0,ie.SB)("visible",(0,ie.oB)({transform:"translateY(0%)"})),(0,ie.eR)("visible => void, visible => hidden",(0,ie.ru)([(0,ie.jt)(`${x.mZ.COMPLEX} ${x.yN.ACCELERATION_CURVE}`),(0,ie.IO)("@*",(0,ie.pV)(),{optional:!0})])),(0,ie.eR)("void => visible",(0,ie.ru)([(0,ie.jt)(`${x.mZ.EXITING} ${x.yN.DECELERATION_CURVE}`),(0,ie.IO)("@*",(0,ie.pV)(),{optional:!0})]))])},Ot=new g.OlP("MatBottomSheetData");class et{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}let Ee=(()=>{class ce extends E.en{constructor(oe,Oe,ze,yt,mt,gt,Ae,Qe){super(),this._elementRef=oe,this._changeDetectorRef=Oe,this._focusTrapFactory=ze,this._interactivityChecker=yt,this._ngZone=mt,this.bottomSheetConfig=Qe,this._animationState="void",this._animationStateChanged=new g.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=ee=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(ee)),this._document=Ae,this._breakpointSubscription=gt.observe([be.u3.Medium,be.u3.Large,be.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",gt.isMatched(be.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",gt.isMatched(be.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",gt.isMatched(be.u3.XLarge))})}attachComponentPortal(oe){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(oe)}attachTemplatePortal(oe){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(oe)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(oe){"hidden"===oe.toState?this._restoreFocus():"visible"===oe.toState&&this._trapFocus(),this._animationStateChanged.emit(oe)}_onAnimationStart(oe){this._animationStateChanged.emit(oe)}_toggleClass(oe,Oe){this._elementRef.nativeElement.classList.toggle(oe,Oe)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){this._elementRef.nativeElement.classList.add(...(0,we.Eq)(this.bottomSheetConfig.panelClass||[]))}_forceFocus(oe,Oe){this._interactivityChecker.isFocusable(oe)||(oe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ze=()=>{oe.removeEventListener("blur",ze),oe.removeEventListener("mousedown",ze),oe.removeAttribute("tabindex")};oe.addEventListener("blur",ze),oe.addEventListener("mousedown",ze)})),oe.focus(Oe)}_focusByCssSelector(oe,Oe){let ze=this._elementRef.nativeElement.querySelector(oe);ze&&this._forceFocus(ze,Oe)}_trapFocus(){const oe=this._elementRef.nativeElement;switch(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(oe)),this.bottomSheetConfig.autoFocus){case!1:case"dialog":const Oe=(0,Me.ht)();Oe!==oe&&!oe.contains(Oe)&&oe.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.bottomSheetConfig.autoFocus)}}_restoreFocus(){const oe=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&oe&&"function"==typeof oe.focus){const Oe=(0,Me.ht)(),ze=this._elementRef.nativeElement;(!Oe||Oe===this._document.body||Oe===ze||ze.contains(Oe))&&oe.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,Me.ht)(),this._elementRef.nativeElement.focus&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this._elementRef.nativeElement.focus())})}}return ce.\u0275fac=function(oe){return new(oe||ce)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(q.qV),g.Y36(q.ic),g.Y36(g.R0b),g.Y36(be.Yg),g.Y36(pe.K0,8),g.Y36(et))},ce.\u0275cmp=g.Xpm({type:ce,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(oe,Oe){if(1&oe&&g.Gf(E.Pl,7),2&oe){let ze;g.iGM(ze=g.CRH())&&(Oe._portalOutlet=ze.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(oe,Oe){1&oe&&g.WFA("@state.start",function(yt){return Oe._onAnimationStart(yt)})("@state.done",function(yt){return Oe._onAnimationDone(yt)}),2&oe&&(g.uIk("aria-label",null==Oe.bottomSheetConfig?null:Oe.bottomSheetConfig.ariaLabel),g.d8E("@state",Oe._animationState))},features:[g.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(oe,Oe){1&oe&&g.YNc(0,rt,0,0,"ng-template",0)},directives:[E.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[Ne.bottomSheetState]}}),ce})(),_e=(()=>{class ce{}return ce.\u0275fac=function(oe){return new(oe||ce)},ce.\u0275mod=g.oAB({type:ce}),ce.\u0275inj=g.cJS({imports:[[h.U8,x.BQ,E.eL],x.BQ]}),ce})();class xe{constructor(Ue,oe){this._overlayRef=oe,this._afterDismissed=new le.x,this._afterOpened=new le.x,this.containerInstance=Ue,this.disableClose=Ue.bottomSheetConfig.disableClose,Ue._animationStateChanged.pipe((0,it.h)(Oe=>"done"===Oe.phaseName&&"visible"===Oe.toState),(0,Le.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ue._animationStateChanged.pipe((0,it.h)(Oe=>"done"===Oe.phaseName&&"hidden"===Oe.toState),(0,Le.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),oe.dispose()}),oe.detachments().pipe((0,Le.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,He.T)(oe.backdropClick(),oe.keydownEvents().pipe((0,it.h)(Oe=>Oe.keyCode===$e.hY))).subscribe(Oe=>{!this.disableClose&&("keydown"!==Oe.type||!(0,$e.Vb)(Oe))&&(Oe.preventDefault(),this.dismiss())})}dismiss(Ue){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,it.h)(oe=>"start"===oe.phaseName),(0,Le.q)(1)).subscribe(oe=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},oe.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=Ue,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const De=new g.OlP("mat-bottom-sheet-default-options");let ne=(()=>{class ce{constructor(oe,Oe,ze,yt){this._overlay=oe,this._injector=Oe,this._parentBottomSheet=ze,this._defaultOptions=yt,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const oe=this._parentBottomSheet;return oe?oe._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(oe){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=oe:this._bottomSheetRefAtThisLevel=oe}open(oe,Oe){const ze=function Ye(ce,Ue){return Object.assign(Object.assign({},ce),Ue)}(this._defaultOptions||new et,Oe),yt=this._createOverlay(ze),mt=this._attachContainer(yt,ze),gt=new xe(mt,yt);if(oe instanceof g.Rgc)mt.attachTemplatePortal(new E.UE(oe,null,{$implicit:ze.data,bottomSheetRef:gt}));else{const Ae=new E.C5(oe,void 0,this._createInjector(ze,gt)),Qe=mt.attachComponentPortal(Ae);gt.instance=Qe.instance}return gt.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==gt&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>gt.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):gt.containerInstance.enter(),this._openedBottomSheetRef=gt,gt}dismiss(oe){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(oe)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(oe,Oe){const yt=g.zs3.create({parent:Oe&&Oe.viewContainerRef&&Oe.viewContainerRef.injector||this._injector,providers:[{provide:et,useValue:Oe}]}),mt=new E.C5(Ee,Oe.viewContainerRef,yt);return oe.attach(mt).instance}_createOverlay(oe){const Oe=new h.X_({direction:oe.direction,hasBackdrop:oe.hasBackdrop,disposeOnNavigation:oe.closeOnNavigation,maxWidth:"100%",scrollStrategy:oe.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return oe.backdropClass&&(Oe.backdropClass=oe.backdropClass),this._overlay.create(Oe)}_createInjector(oe,Oe){const ze=oe&&oe.viewContainerRef&&oe.viewContainerRef.injector,yt=[{provide:xe,useValue:Oe},{provide:Ot,useValue:oe.data}];return oe.direction&&(!ze||!ze.get(fe.Is,null,g.XFs.Optional))&&yt.push({provide:fe.Is,useValue:{value:oe.direction,change:(0,Se.of)()}}),g.zs3.create({parent:ze||this._injector,providers:yt})}}return ce.\u0275fac=function(oe){return new(oe||ce)(g.LFG(h.aV),g.LFG(g.zs3),g.LFG(ce,12),g.LFG(De,8))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:_e}),ce})()},7423:(Gt,Ze,y)=>{y.d(Ze,{lW:()=>fe,ot:()=>He});var h=y(5e3),E=y(508),g=y(6360),x=y(5664);const we=["mat-button",""],be=["*"],ie=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],q=(0,E.pj)((0,E.Id)((0,E.Kr)(class{constructor(Se){this._elementRef=Se}})));let fe=(()=>{class Se extends q{constructor(it,Le,rt){super(it),this._focusMonitor=Le,this._animationMode=rt,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Ne of ie)this._hasHostAttributes(Ne)&&this._getHostElement().classList.add(Ne);it.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(it,Le){it?this._focusMonitor.focusVia(this._getHostElement(),it,Le):this._getHostElement().focus(Le)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...it){return it.some(Le=>this._getHostElement().hasAttribute(Le))}}return Se.\u0275fac=function(it){return new(it||Se)(h.Y36(h.SBq),h.Y36(x.tE),h.Y36(g.Qb,8))},Se.\u0275cmp=h.Xpm({type:Se,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(it,Le){if(1&it&&h.Gf(E.wG,5),2&it){let rt;h.iGM(rt=h.CRH())&&(Le.ripple=rt.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(it,Le){2&it&&(h.uIk("disabled",Le.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===Le._animationMode)("mat-button-disabled",Le.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:we,ngContentSelectors:be,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(it,Le){1&it&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1)(3,"span",2)),2&it&&(h.xp6(2),h.ekj("mat-button-ripple-round",Le.isRoundButton||Le.isIconButton),h.Q6J("matRippleDisabled",Le._isRippleDisabled())("matRippleCentered",Le.isIconButton)("matRippleTrigger",Le._getHostElement()))},directives:[E.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Se})(),He=(()=>{class Se{}return Se.\u0275fac=function(it){return new(it||Se)},Se.\u0275mod=h.oAB({type:Se}),Se.\u0275inj=h.cJS({imports:[[E.si,E.BQ],E.BQ]}),Se})()},9224:(Gt,Ze,y)=>{y.d(Ze,{a8:()=>et,hq:()=>He,kc:()=>Ot,dn:()=>q,rt:()=>Se,dk:()=>Ee,G2:()=>$e,QW:()=>xe,n5:()=>fe});var h=y(5e3),E=y(6360),g=y(508);const x=["*",[["mat-card-footer"]]],we=["*","mat-card-footer"],be=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Me=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let q=(()=>{class De{}return De.\u0275fac=function(Ye){return new(Ye||De)},De.\u0275dir=h.lG2({type:De,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),De})(),fe=(()=>{class De{}return De.\u0275fac=function(Ye){return new(Ye||De)},De.\u0275dir=h.lG2({type:De,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),De})(),He=(()=>{class De{constructor(){this.align="start"}}return De.\u0275fac=function(Ye){return new(Ye||De)},De.\u0275dir=h.lG2({type:De,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(Ye,ce){2&Ye&&h.ekj("mat-card-actions-align-end","end"===ce.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),De})(),Se=(()=>{class De{}return De.\u0275fac=function(Ye){return new(Ye||De)},De.\u0275dir=h.lG2({type:De,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),De})(),$e=(()=>{class De{}return De.\u0275fac=function(Ye){return new(Ye||De)},De.\u0275dir=h.lG2({type:De,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),De})(),Ot=(()=>{class De{}return De.\u0275fac=function(Ye){return new(Ye||De)},De.\u0275dir=h.lG2({type:De,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),De})(),et=(()=>{class De{constructor(Ye){this._animationMode=Ye}}return De.\u0275fac=function(Ye){return new(Ye||De)(h.Y36(E.Qb,8))},De.\u0275cmp=h.Xpm({type:De,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(Ye,ce){2&Ye&&h.ekj("_mat-animation-noopable","NoopAnimations"===ce._animationMode)},exportAs:["matCard"],ngContentSelectors:we,decls:2,vars:0,template:function(Ye,ce){1&Ye&&(h.F$t(x),h.Hsn(0),h.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),De})(),Ee=(()=>{class De{}return De.\u0275fac=function(Ye){return new(Ye||De)},De.\u0275cmp=h.Xpm({type:De,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Me,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(Ye,ce){1&Ye&&(h.F$t(be),h.Hsn(0),h.TgZ(1,"div",0),h.Hsn(2,1),h.qZA(),h.Hsn(3,2))},encapsulation:2,changeDetection:0}),De})(),xe=(()=>{class De{}return De.\u0275fac=function(Ye){return new(Ye||De)},De.\u0275mod=h.oAB({type:De}),De.\u0275inj=h.cJS({imports:[[g.BQ],g.BQ]}),De})()},6688:(Gt,Ze,y)=>{y.d(Ze,{HS:()=>Ye,EC:()=>De,qn:()=>gt,Hi:()=>Qe});var h=y(1159),E=y(5e3),g=y(508),x=y(3191),we=y(9808),be=y(6360),Me=y(7579),pe=y(6451),ie=y(5698),q=y(2722),fe=y(8675),le=y(925),He=y(5664),Se=y(449),$e=y(3075),it=y(7322),Le=y(226);const rt=["*"],Ot=new E.OlP("MatChipRemove"),et=new E.OlP("MatChipAvatar"),Ee=new E.OlP("MatChipTrailingIcon");class _e{constructor(Fe){this._elementRef=Fe}}const xe=(0,g.sb)((0,g.pj)((0,g.Kr)(_e),"primary"),-1);let De=(()=>{class ee{}return ee.\u0275fac=function(O){return new(O||ee)},ee.\u0275dir=E.lG2({type:ee,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"],features:[E._Bn([{provide:et,useExisting:ee}])]}),ee})(),Ye=(()=>{class ee extends xe{constructor(O,se,ft,ot,Dt,Ct,vt,Bt){super(O),this._ngZone=se,this._changeDetectorRef=Dt,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Me.x,this._onBlur=new Me.x,this.selectionChange=new E.vpe,this.destroyed=new E.vpe,this.removed=new E.vpe,this._addHostClassName(),this._chipRippleTarget=Ct.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new g.IR(this,se,this._chipRippleTarget,ft),this._chipRipple.setupTriggerEvents(O),this.rippleConfig=ot||{},this._animationsDisabled="NoopAnimations"===vt,this.tabIndex=null!=Bt&&parseInt(Bt)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(O){const se=(0,x.Ig)(O);se!==this._selected&&(this._selected=se,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(O){this._value=O}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(O){this._selectable=(0,x.Ig)(O)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(O){this._disabled=(0,x.Ig)(O)}get removable(){return this._removable}set removable(O){this._removable=(0,x.Ig)(O)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const O="mat-basic-chip",se=this._elementRef.nativeElement;se.hasAttribute(O)||se.tagName.toLowerCase()===O?se.classList.add(O):se.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(O=!1){return this._selected=!this.selected,this._dispatchSelectionChange(O),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(O){this.disabled&&O.preventDefault()}_handleKeydown(O){if(!this.disabled)switch(O.keyCode){case h.yY:case h.ZH:this.remove(),O.preventDefault();break;case h.L_:this.selectable&&this.toggleSelected(!0),O.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,ie.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(O=!1){this.selectionChange.emit({source:this,isUserInput:O,selected:this._selected})}}return ee.\u0275fac=function(O){return new(O||ee)(E.Y36(E.SBq),E.Y36(E.R0b),E.Y36(le.t4),E.Y36(g.Y2,8),E.Y36(E.sBO),E.Y36(we.K0),E.Y36(be.Qb,8),E.$8M("tabindex"))},ee.\u0275dir=E.lG2({type:ee,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(O,se,ft){if(1&O&&(E.Suo(ft,et,5),E.Suo(ft,Ee,5),E.Suo(ft,Ot,5)),2&O){let ot;E.iGM(ot=E.CRH())&&(se.avatar=ot.first),E.iGM(ot=E.CRH())&&(se.trailingIcon=ot.first),E.iGM(ot=E.CRH())&&(se.removeIcon=ot.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(O,se){1&O&&E.NdJ("click",function(ot){return se._handleClick(ot)})("keydown",function(ot){return se._handleKeydown(ot)})("focus",function(){return se.focus()})("blur",function(){return se._blur()}),2&O&&(E.uIk("tabindex",se.disabled?null:se.tabIndex)("disabled",se.disabled||null)("aria-disabled",se.disabled.toString())("aria-selected",se.ariaSelected),E.ekj("mat-chip-selected",se.selected)("mat-chip-with-avatar",se.avatar)("mat-chip-with-trailing-icon",se.trailingIcon||se.removeIcon)("mat-chip-disabled",se.disabled)("_mat-animation-noopable",se._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[E.qOj]}),ee})();const Ue=new E.OlP("mat-chips-default-options"),ze=(0,g.FD)(class{constructor(ee,Fe,O,se){this._defaultErrorStateMatcher=ee,this._parentForm=Fe,this._parentFormGroup=O,this.ngControl=se}});let yt=0;class mt{constructor(Fe,O){this.source=Fe,this.value=O}}let gt=(()=>{class ee extends ze{constructor(O,se,ft,ot,Dt,Ct,vt){super(Ct,ot,Dt,vt),this._elementRef=O,this._changeDetectorRef=se,this._dir=ft,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Me.x,this._uid="mat-chip-list-"+yt++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(Bt,We)=>Bt===We,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new E.vpe,this.valueChange=new E.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var O,se;return this.multiple?(null===(O=this._selectionModel)||void 0===O?void 0:O.selected)||[]:null===(se=this._selectionModel)||void 0===se?void 0:se.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(O){this._multiple=(0,x.Ig)(O),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(O){this._compareWith=O,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(O){this.writeValue(O),this._value=O}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var O,se,ft,ot;return null!==(ot=null!==(O=this._required)&&void 0!==O?O:null===(ft=null===(se=this.ngControl)||void 0===se?void 0:se.control)||void 0===ft?void 0:ft.hasValidator($e.kI.required))&&void 0!==ot&&ot}set required(O){this._required=(0,x.Ig)(O),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(O){this._placeholder=O,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(O){this._disabled=(0,x.Ig)(O),this._syncChipsState()}get selectable(){return this._selectable}set selectable(O){this._selectable=(0,x.Ig)(O),this.chips&&this.chips.forEach(se=>se.chipListSelectable=this._selectable)}set tabIndex(O){this._userTabIndex=O,this._tabIndex=O}get chipSelectionChanges(){return(0,pe.T)(...this.chips.map(O=>O.selectionChange))}get chipFocusChanges(){return(0,pe.T)(...this.chips.map(O=>O._onFocus))}get chipBlurChanges(){return(0,pe.T)(...this.chips.map(O=>O._onBlur))}get chipRemoveChanges(){return(0,pe.T)(...this.chips.map(O=>O.destroyed))}ngAfterContentInit(){this._keyManager=new He.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,q.R)(this._destroyed)).subscribe(O=>this._keyManager.withHorizontalOrientation(O)),this._keyManager.tabOut.pipe((0,q.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,fe.O)(null),(0,q.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Se.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(O){this._chipInput=O,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",O.id)}setDescribedByIds(O){this._ariaDescribedby=O.join(" ")}writeValue(O){this.chips&&this._setSelectionByValue(O,!1)}registerOnChange(O){this._onChange=O}registerOnTouched(O){this._onTouched=O}setDisabledState(O){this.disabled=O,this.stateChanges.next()}onContainerClick(O){this._originatesFromChip(O)||this.focus()}focus(O){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(O),this.stateChanges.next()))}_focusInput(O){this._chipInput&&this._chipInput.focus(O)}_keydown(O){const se=O.target;se&&se.classList.contains("mat-chip")&&(this._keyManager.onKeydown(O),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const O=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(O)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(O){return O>=0&&O<this.chips.length}_setSelectionByValue(O,se=!0){if(this._clearSelection(),this.chips.forEach(ft=>ft.deselect()),Array.isArray(O))O.forEach(ft=>this._selectValue(ft,se)),this._sortValues();else{const ft=this._selectValue(O,se);ft&&se&&this._keyManager.setActiveItem(ft)}}_selectValue(O,se=!0){const ft=this.chips.find(ot=>null!=ot.value&&this._compareWith(ot.value,O));return ft&&(se?ft.selectViaInteraction():ft.select(),this._selectionModel.select(ft)),ft}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(O){this._selectionModel.clear(),this.chips.forEach(se=>{se!==O&&se.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(O=>{O.selected&&this._selectionModel.select(O)}),this.stateChanges.next())}_propagateChanges(O){let se=null;se=Array.isArray(this.selected)?this.selected.map(ft=>ft.value):this.selected?this.selected.value:O,this._value=se,this.change.emit(new mt(this,se)),this.valueChange.emit(se),this._onChange(se),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(O=>{O.source.selected?this._selectionModel.select(O.source):this._selectionModel.deselect(O.source),this.multiple||this.chips.forEach(se=>{!this._selectionModel.isSelected(se)&&se.selected&&se.deselect()}),O.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(O=>{let se=this.chips.toArray().indexOf(O.chip);this._isValidIndex(se)&&this._keyManager.updateActiveItem(se),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(O=>{const se=O.chip,ft=this.chips.toArray().indexOf(O.chip);this._isValidIndex(ft)&&se._hasFocus&&(this._lastDestroyedChipIndex=ft)})}_originatesFromChip(O){let se=O.target;for(;se&&se!==this._elementRef.nativeElement;){if(se.classList.contains("mat-chip"))return!0;se=se.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(O=>O._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(O=>{O._chipListDisabled=this._disabled,O._chipListMultiple=this.multiple})}}return ee.\u0275fac=function(O){return new(O||ee)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(Le.Is,8),E.Y36($e.F,8),E.Y36($e.sg,8),E.Y36(g.rD),E.Y36($e.a5,10))},ee.\u0275cmp=E.Xpm({type:ee,selectors:[["mat-chip-list"]],contentQueries:function(O,se,ft){if(1&O&&E.Suo(ft,Ye,5),2&O){let ot;E.iGM(ot=E.CRH())&&(se.chips=ot)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(O,se){1&O&&E.NdJ("focus",function(){return se.focus()})("blur",function(){return se._blur()})("keydown",function(ot){return se._keydown(ot)}),2&O&&(E.Ikx("id",se._uid),E.uIk("tabindex",se.disabled?null:se._tabIndex)("aria-describedby",se._ariaDescribedby||null)("aria-required",se.role?se.required:null)("aria-disabled",se.disabled.toString())("aria-invalid",se.errorState)("aria-multiselectable",se.multiple)("role",se.role)("aria-orientation",se.ariaOrientation),E.ekj("mat-chip-list-disabled",se.disabled)("mat-chip-list-invalid",se.errorState)("mat-chip-list-required",se.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[E._Bn([{provide:it.Eo,useExisting:ee}]),E.qOj],ngContentSelectors:rt,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(O,se){1&O&&(E.F$t(),E.TgZ(0,"div",0),E.Hsn(1),E.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),ee})(),Qe=(()=>{class ee{}return ee.\u0275fac=function(O){return new(O||ee)},ee.\u0275mod=E.oAB({type:ee}),ee.\u0275inj=E.cJS({providers:[g.rD,{provide:Ue,useValue:{separatorKeyCodes:[h.K5]}}],imports:[[g.BQ]]}),ee})()},508:(Gt,Ze,y)=>{y.d(Ze,{yN:()=>rt,mZ:()=>Ne,rD:()=>ot,K7:()=>an,HF:()=>Xe,Y2:()=>R,BQ:()=>Ee,X2:()=>Dt,uc:()=>Bt,ey:()=>ti,Ng:()=>qe,nP:()=>Z,us:()=>Pe,wG:()=>z,si:()=>K,IR:()=>gn,CB:()=>on,jH:()=>Si,pj:()=>Ye,Kr:()=>ce,Id:()=>ne,FD:()=>oe,sb:()=>Ue,E0:()=>Ct});var h=y(5e3),E=y(226),x=y(9808),we=y(925),be=y(5664),Me=y(3191),pe=y(7579),ie=y(8675),q=y(6360),fe=y(1159);function Se(ge,j){if(1&ge&&h._UZ(0,"mat-pseudo-checkbox",4),2&ge){const N=h.oxw();h.Q6J("state",N.selected?"checked":"unchecked")("disabled",N.disabled)}}function $e(ge,j){if(1&ge&&(h.TgZ(0,"span",5),h._uU(1),h.qZA()),2&ge){const N=h.oxw();h.xp6(1),h.hij("(",N.group.label,")")}}const it=["*"];let rt=(()=>{class ge{}return ge.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",ge.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",ge.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",ge.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",ge})(),Ne=(()=>{class ge{}return ge.COMPLEX="375ms",ge.ENTERING="225ms",ge.EXITING="195ms",ge})();const et=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ot(){return!0}});let Ee=(()=>{class ge{constructor(N,k,ye){this._sanityChecks=k,this._document=ye,this._hasDoneGlobalChecks=!1,N._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(N){return!(0,we.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[N])}}return ge.\u0275fac=function(N){return new(N||ge)(h.LFG(be.qm),h.LFG(et,8),h.LFG(x.K0))},ge.\u0275mod=h.oAB({type:ge}),ge.\u0275inj=h.cJS({imports:[[E.vT],E.vT]}),ge})();function ne(ge){return class extends ge{constructor(...j){super(...j),this._disabled=!1}get disabled(){return this._disabled}set disabled(j){this._disabled=(0,Me.Ig)(j)}}}function Ye(ge,j){return class extends ge{constructor(...N){super(...N),this.defaultColor=j,this.color=j}get color(){return this._color}set color(N){const k=N||this.defaultColor;k!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),k&&this._elementRef.nativeElement.classList.add(`mat-${k}`),this._color=k)}}}function ce(ge){return class extends ge{constructor(...j){super(...j),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(j){this._disableRipple=(0,Me.Ig)(j)}}}function Ue(ge,j=0){return class extends ge{constructor(...N){super(...N),this._tabIndex=j,this.defaultTabIndex=j}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(N){this._tabIndex=null!=N?(0,Me.su)(N):this.defaultTabIndex}}}function oe(ge){return class extends ge{constructor(...j){super(...j),this.stateChanges=new pe.x,this.errorState=!1}updateErrorState(){const j=this.errorState,ke=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ke!==j&&(this.errorState=ke,this.stateChanges.next())}}}let ot=(()=>{class ge{isErrorState(N,k){return!!(N&&N.invalid&&(N.touched||k&&k.submitted))}}return ge.\u0275fac=function(N){return new(N||ge)},ge.\u0275prov=h.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),Dt=(()=>{class ge{}return ge.\u0275fac=function(N){return new(N||ge)},ge.\u0275dir=h.lG2({type:ge,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),ge})();function Ct(ge,j,N="mat"){ge.changes.pipe((0,ie.O)(ge)).subscribe(({length:k})=>{vt(j,`${N}-2-line`,!1),vt(j,`${N}-3-line`,!1),vt(j,`${N}-multi-line`,!1),2===k||3===k?vt(j,`${N}-${k}-line`,!0):k>3&&vt(j,`${N}-multi-line`,!0)})}function vt(ge,j,N){ge.nativeElement.classList.toggle(j,N)}let Bt=(()=>{class ge{}return ge.\u0275fac=function(N){return new(N||ge)},ge.\u0275mod=h.oAB({type:ge}),ge.\u0275inj=h.cJS({imports:[[Ee],Ee]}),ge})();class We{constructor(j,N,k){this._renderer=j,this.element=N,this.config=k,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const St={enterDuration:225,exitDuration:150},Rn=(0,we.i$)({passive:!0}),Bn=["mousedown","touchstart"],hn=["mouseup","mouseleave","touchend","touchcancel"];class gn{constructor(j,N,k,ye){this._target=j,this._ngZone=N,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,ye.isBrowser&&(this._containerElement=(0,Me.fI)(k))}fadeInRipple(j,N,k={}){const ye=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ke=Object.assign(Object.assign({},St),k.animation);k.centered&&(j=ye.left+ye.width/2,N=ye.top+ye.height/2);const It=k.radius||function dt(ge,j,N){const k=Math.max(Math.abs(ge-N.left),Math.abs(ge-N.right)),ye=Math.max(Math.abs(j-N.top),Math.abs(j-N.bottom));return Math.sqrt(k*k+ye*ye)}(j,N,ye),fn=j-ye.left,Cn=N-ye.top,Qn=ke.enterDuration,vn=document.createElement("div");vn.classList.add("mat-ripple-element"),vn.style.left=fn-It+"px",vn.style.top=Cn-It+"px",vn.style.height=2*It+"px",vn.style.width=2*It+"px",null!=k.color&&(vn.style.backgroundColor=k.color),vn.style.transitionDuration=`${Qn}ms`,this._containerElement.appendChild(vn),function ln(ge){window.getComputedStyle(ge).getPropertyValue("opacity")}(vn),vn.style.transform="scale(1)";const ai=new We(this,vn,k);return ai.state=0,this._activeRipples.add(ai),k.persistent||(this._mostRecentTransientRipple=ai),this._runTimeoutOutsideZone(()=>{const _t=ai===this._mostRecentTransientRipple;ai.state=1,!k.persistent&&(!_t||!this._isPointerDown)&&ai.fadeOut()},Qn),ai}fadeOutRipple(j){const N=this._activeRipples.delete(j);if(j===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!N)return;const k=j.element,ye=Object.assign(Object.assign({},St),j.config.animation);k.style.transitionDuration=`${ye.exitDuration}ms`,k.style.opacity="0",j.state=2,this._runTimeoutOutsideZone(()=>{j.state=3,k.remove()},ye.exitDuration)}fadeOutAll(){this._activeRipples.forEach(j=>j.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(j=>{j.config.persistent||j.fadeOut()})}setupTriggerEvents(j){const N=(0,Me.fI)(j);!N||N===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=N,this._registerEvents(Bn))}handleEvent(j){"mousedown"===j.type?this._onMousedown(j):"touchstart"===j.type?this._onTouchStart(j):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hn),this._pointerUpEventsRegistered=!0)}_onMousedown(j){const N=(0,be.X6)(j),k=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!N&&!k&&(this._isPointerDown=!0,this.fadeInRipple(j.clientX,j.clientY,this._target.rippleConfig))}_onTouchStart(j){if(!this._target.rippleDisabled&&!(0,be.yG)(j)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const N=j.changedTouches;for(let k=0;k<N.length;k++)this.fadeInRipple(N[k].clientX,N[k].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(j=>{!j.config.persistent&&(1===j.state||j.config.terminateOnPointerUp&&0===j.state)&&j.fadeOut()}))}_runTimeoutOutsideZone(j,N=0){this._ngZone.runOutsideAngular(()=>setTimeout(j,N))}_registerEvents(j){this._ngZone.runOutsideAngular(()=>{j.forEach(N=>{this._triggerElement.addEventListener(N,this,Rn)})})}_removeTriggerEvents(){this._triggerElement&&(Bn.forEach(j=>{this._triggerElement.removeEventListener(j,this,Rn)}),this._pointerUpEventsRegistered&&hn.forEach(j=>{this._triggerElement.removeEventListener(j,this,Rn)}))}}const R=new h.OlP("mat-ripple-global-options");let z=(()=>{class ge{constructor(N,k,ye,ke,It){this._elementRef=N,this._animationMode=It,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ke||{},this._rippleRenderer=new gn(this,k,N,ye)}get disabled(){return this._disabled}set disabled(N){N&&this.fadeOutAllNonPersistent(),this._disabled=N,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(N){this._trigger=N,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(N,k=0,ye){return"number"==typeof N?this._rippleRenderer.fadeInRipple(N,k,Object.assign(Object.assign({},this.rippleConfig),ye)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),N))}}return ge.\u0275fac=function(N){return new(N||ge)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(we.t4),h.Y36(R,8),h.Y36(q.Qb,8))},ge.\u0275dir=h.lG2({type:ge,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(N,k){2&N&&h.ekj("mat-ripple-unbounded",k.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),ge})(),K=(()=>{class ge{}return ge.\u0275fac=function(N){return new(N||ge)},ge.\u0275mod=h.oAB({type:ge}),ge.\u0275inj=h.cJS({imports:[[Ee],Ee]}),ge})(),Z=(()=>{class ge{constructor(N){this._animationMode=N,this.state="unchecked",this.disabled=!1}}return ge.\u0275fac=function(N){return new(N||ge)(h.Y36(q.Qb,8))},ge.\u0275cmp=h.Xpm({type:ge,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(N,k){2&N&&h.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===k.state)("mat-pseudo-checkbox-checked","checked"===k.state)("mat-pseudo-checkbox-disabled",k.disabled)("_mat-animation-noopable","NoopAnimations"===k._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(N,k){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),ge})(),Pe=(()=>{class ge{}return ge.\u0275fac=function(N){return new(N||ge)},ge.\u0275mod=h.oAB({type:ge}),ge.\u0275inj=h.cJS({imports:[[Ee]]}),ge})();const Xe=new h.OlP("MAT_OPTION_PARENT_COMPONENT"),an=new h.OlP("MatOptgroup");let mn=0;class yi{constructor(j,N=!1){this.source=j,this.isUserInput=N}}let jn=(()=>{class ge{constructor(N,k,ye,ke){this._element=N,this._changeDetectorRef=k,this._parent=ye,this.group=ke,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+mn++,this.onSelectionChange=new h.vpe,this._stateChanges=new pe.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(N){this._disabled=(0,Me.Ig)(N)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(N,k){const ye=this._getHostElement();"function"==typeof ye.focus&&ye.focus(k)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(N){(N.keyCode===fe.K5||N.keyCode===fe.L_)&&!(0,fe.Vb)(N)&&(this._selectViaInteraction(),N.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const N=this.viewValue;N!==this._mostRecentViewValue&&(this._mostRecentViewValue=N,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(N=!1){this.onSelectionChange.emit(new yi(this,N))}}return ge.\u0275fac=function(N){h.$Z()},ge.\u0275dir=h.lG2({type:ge,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),ge})(),ti=(()=>{class ge extends jn{constructor(N,k,ye,ke){super(N,k,ye,ke)}}return ge.\u0275fac=function(N){return new(N||ge)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(Xe,8),h.Y36(an,8))},ge.\u0275cmp=h.Xpm({type:ge,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(N,k){1&N&&h.NdJ("click",function(){return k._selectViaInteraction()})("keydown",function(ke){return k._handleKeydown(ke)}),2&N&&(h.Ikx("id",k.id),h.uIk("tabindex",k._getTabIndex())("aria-selected",k._getAriaSelected())("aria-disabled",k.disabled.toString()),h.ekj("mat-selected",k.selected)("mat-option-multiple",k.multiple)("mat-active",k.active)("mat-option-disabled",k.disabled))},exportAs:["matOption"],features:[h.qOj],ngContentSelectors:it,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(N,k){1&N&&(h.F$t(),h.YNc(0,Se,1,2,"mat-pseudo-checkbox",0),h.TgZ(1,"span",1),h.Hsn(2),h.qZA(),h.YNc(3,$e,2,1,"span",2),h._UZ(4,"div",3)),2&N&&(h.Q6J("ngIf",k.multiple),h.xp6(3),h.Q6J("ngIf",k.group&&k.group._inert),h.xp6(1),h.Q6J("matRippleTrigger",k._getHostElement())("matRippleDisabled",k.disabled||k.disableRipple))},directives:[Z,x.O5,z],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),ge})();function on(ge,j,N){if(N.length){let k=j.toArray(),ye=N.toArray(),ke=0;for(let It=0;It<ge+1;It++)k[It].group&&k[It].group===ye[ke]&&ke++;return ke}return 0}function Si(ge,j,N,k){return ge<N?ge:ge+j>N+k?Math.max(0,ge-k+j):N}let qe=(()=>{class ge{}return ge.\u0275fac=function(N){return new(N||ge)},ge.\u0275mod=h.oAB({type:ge}),ge.\u0275inj=h.cJS({imports:[[K,x.ez,Ee,Pe]]}),ge})()},8966:(Gt,Ze,y)=>{y.d(Ze,{uw:()=>mt,Is:()=>ft});var h=y(9776),E=y(7429),g=y(5e3),x=y(508),we=y(226),be=y(7579),Me=y(9770),pe=y(9646),ie=y(9300),q=y(5698),fe=y(8675),le=y(925),He=y(9808),Se=y(1777),$e=y(5664),it=y(1159),Le=y(6360);function rt(ot,Dt){}class Ne{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ot={dialogContainer:(0,Se.X$)("dialogContainer",[(0,Se.SB)("void, exit",(0,Se.oB)({opacity:0,transform:"scale(0.7)"})),(0,Se.SB)("enter",(0,Se.oB)({transform:"none"})),(0,Se.eR)("* => enter",(0,Se.ru)([(0,Se.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Se.oB)({transform:"none",opacity:1})),(0,Se.IO)("@*",(0,Se.pV)(),{optional:!0})])),(0,Se.eR)("* => void, * => exit",(0,Se.ru)([(0,Se.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Se.oB)({opacity:0})),(0,Se.IO)("@*",(0,Se.pV)(),{optional:!0})]))])};let Ee=(()=>{class ot extends E.en{constructor(Ct,vt,Bt,We,St,rn,Rn,Bn){super(),this._elementRef=Ct,this._focusTrapFactory=vt,this._changeDetectorRef=Bt,this._config=St,this._interactivityChecker=rn,this._ngZone=Rn,this._focusMonitor=Bn,this._animationStateChanged=new g.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=hn=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(hn)),this._ariaLabelledBy=St.ariaLabelledBy||null,this._document=We}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,le.ht)())}attachComponentPortal(Ct){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(Ct)}attachTemplatePortal(Ct){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(Ct)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Ct,vt){this._interactivityChecker.isFocusable(Ct)||(Ct.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Bt=()=>{Ct.removeEventListener("blur",Bt),Ct.removeEventListener("mousedown",Bt),Ct.removeAttribute("tabindex")};Ct.addEventListener("blur",Bt),Ct.addEventListener("mousedown",Bt)})),Ct.focus(vt)}_focusByCssSelector(Ct,vt){let Bt=this._elementRef.nativeElement.querySelector(Ct);Bt&&this._forceFocus(Bt,vt)}_trapFocus(){const Ct=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Ct.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(vt=>{vt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Ct=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&Ct&&"function"==typeof Ct.focus){const vt=(0,le.ht)(),Bt=this._elementRef.nativeElement;(!vt||vt===this._document.body||vt===Bt||Bt.contains(vt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Ct,this._closeInteractionType),this._closeInteractionType=null):Ct.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Ct=this._elementRef.nativeElement,vt=(0,le.ht)();return Ct===vt||Ct.contains(vt)}}return ot.\u0275fac=function(Ct){return new(Ct||ot)(g.Y36(g.SBq),g.Y36($e.qV),g.Y36(g.sBO),g.Y36(He.K0,8),g.Y36(Ne),g.Y36($e.ic),g.Y36(g.R0b),g.Y36($e.tE))},ot.\u0275dir=g.lG2({type:ot,viewQuery:function(Ct,vt){if(1&Ct&&g.Gf(E.Pl,7),2&Ct){let Bt;g.iGM(Bt=g.CRH())&&(vt._portalOutlet=Bt.first)}},features:[g.qOj]}),ot})(),_e=(()=>{class ot extends Ee{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:Ct,totalTime:vt}){"enter"===Ct?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:vt})):"exit"===Ct&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:vt}))}_onAnimationStart({toState:Ct,totalTime:vt}){"enter"===Ct?this._animationStateChanged.next({state:"opening",totalTime:vt}):("exit"===Ct||"void"===Ct)&&this._animationStateChanged.next({state:"closing",totalTime:vt})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return ot.\u0275fac=function(){let Dt;return function(vt){return(Dt||(Dt=g.n5z(ot)))(vt||ot)}}(),ot.\u0275cmp=g.Xpm({type:ot,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(Ct,vt){1&Ct&&g.WFA("@dialogContainer.start",function(We){return vt._onAnimationStart(We)})("@dialogContainer.done",function(We){return vt._onAnimationDone(We)}),2&Ct&&(g.Ikx("id",vt._id),g.uIk("role",vt._config.role)("aria-labelledby",vt._config.ariaLabel?null:vt._ariaLabelledBy)("aria-label",vt._config.ariaLabel)("aria-describedby",vt._config.ariaDescribedBy||null),g.d8E("@dialogContainer",vt._state))},features:[g.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ct,vt){1&Ct&&g.YNc(0,rt,0,0,"ng-template",0)},directives:[E.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ot.dialogContainer]}}),ot})(),xe=0;class De{constructor(Dt,Ct,vt="mat-dialog-"+xe++){this._overlayRef=Dt,this._containerInstance=Ct,this.id=vt,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new be.x,this._afterClosed=new be.x,this._beforeClosed=new be.x,this._state=0,Ct._id=vt,Ct._animationStateChanged.pipe((0,ie.h)(Bt=>"opened"===Bt.state),(0,q.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ct._animationStateChanged.pipe((0,ie.h)(Bt=>"closed"===Bt.state),(0,q.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Dt.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),Dt.keydownEvents().pipe((0,ie.h)(Bt=>Bt.keyCode===it.hY&&!this.disableClose&&!(0,it.Vb)(Bt))).subscribe(Bt=>{Bt.preventDefault(),ne(this,"keyboard")}),Dt.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():ne(this,"mouse")})}close(Dt){this._result=Dt,this._containerInstance._animationStateChanged.pipe((0,ie.h)(Ct=>"closing"===Ct.state),(0,q.q)(1)).subscribe(Ct=>{this._beforeClosed.next(Dt),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Ct.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(Dt){let Ct=this._getPositionStrategy();return Dt&&(Dt.left||Dt.right)?Dt.left?Ct.left(Dt.left):Ct.right(Dt.right):Ct.centerHorizontally(),Dt&&(Dt.top||Dt.bottom)?Dt.top?Ct.top(Dt.top):Ct.bottom(Dt.bottom):Ct.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(Dt="",Ct=""){return this._overlayRef.updateSize({width:Dt,height:Ct}),this._overlayRef.updatePosition(),this}addPanelClass(Dt){return this._overlayRef.addPanelClass(Dt),this}removePanelClass(Dt){return this._overlayRef.removePanelClass(Dt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function ne(ot,Dt,Ct){return void 0!==ot._containerInstance&&(ot._containerInstance._closeInteractionType=Dt),ot.close(Ct)}const Ye=new g.OlP("MatDialogData"),ce=new g.OlP("mat-dialog-default-options"),Ue=new g.OlP("mat-dialog-scroll-strategy"),ze={provide:Ue,deps:[h.aV],useFactory:function Oe(ot){return()=>ot.scrollStrategies.block()}};let yt=(()=>{class ot{constructor(Ct,vt,Bt,We,St,rn,Rn,Bn,hn,gn){this._overlay=Ct,this._injector=vt,this._defaultOptions=Bt,this._parentDialog=We,this._overlayContainer=St,this._dialogRefConstructor=Rn,this._dialogContainerType=Bn,this._dialogDataToken=hn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new be.x,this._afterOpenedAtThisLevel=new be.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Me.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,fe.O)(void 0))),this._scrollStrategy=rn}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Ct=this._parentDialog;return Ct?Ct._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Ct,vt){vt=function gt(ot,Dt){return Object.assign(Object.assign({},Dt),ot)}(vt,this._defaultOptions||new Ne),vt.id&&this.getDialogById(vt.id);const Bt=this._createOverlay(vt),We=this._attachDialogContainer(Bt,vt),St=this._attachDialogContent(Ct,We,Bt,vt);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(St),St.afterClosed().subscribe(()=>this._removeOpenDialog(St)),this.afterOpened.next(St),We._initializeWithAttachedContent(),St}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Ct){return this.openDialogs.find(vt=>vt.id===Ct)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(Ct){const vt=this._getOverlayConfig(Ct);return this._overlay.create(vt)}_getOverlayConfig(Ct){const vt=new h.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:Ct.scrollStrategy||this._scrollStrategy(),panelClass:Ct.panelClass,hasBackdrop:Ct.hasBackdrop,direction:Ct.direction,minWidth:Ct.minWidth,minHeight:Ct.minHeight,maxWidth:Ct.maxWidth,maxHeight:Ct.maxHeight,disposeOnNavigation:Ct.closeOnNavigation});return Ct.backdropClass&&(vt.backdropClass=Ct.backdropClass),vt}_attachDialogContainer(Ct,vt){const We=g.zs3.create({parent:vt&&vt.viewContainerRef&&vt.viewContainerRef.injector||this._injector,providers:[{provide:Ne,useValue:vt}]}),St=new E.C5(this._dialogContainerType,vt.viewContainerRef,We,vt.componentFactoryResolver);return Ct.attach(St).instance}_attachDialogContent(Ct,vt,Bt,We){const St=new this._dialogRefConstructor(Bt,vt,We.id);if(Ct instanceof g.Rgc)vt.attachTemplatePortal(new E.UE(Ct,null,{$implicit:We.data,dialogRef:St}));else{const rn=this._createInjector(We,St,vt),Rn=vt.attachComponentPortal(new E.C5(Ct,We.viewContainerRef,rn,We.componentFactoryResolver));St.componentInstance=Rn.instance}return St.updateSize(We.width,We.height).updatePosition(We.position),St}_createInjector(Ct,vt,Bt){const We=Ct&&Ct.viewContainerRef&&Ct.viewContainerRef.injector,St=[{provide:this._dialogContainerType,useValue:Bt},{provide:this._dialogDataToken,useValue:Ct.data},{provide:this._dialogRefConstructor,useValue:vt}];return Ct.direction&&(!We||!We.get(we.Is,null,g.XFs.Optional))&&St.push({provide:we.Is,useValue:{value:Ct.direction,change:(0,pe.of)()}}),g.zs3.create({parent:We||this._injector,providers:St})}_removeOpenDialog(Ct){const vt=this.openDialogs.indexOf(Ct);vt>-1&&(this.openDialogs.splice(vt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Bt,We)=>{Bt?We.setAttribute("aria-hidden",Bt):We.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Ct=this._overlayContainer.getContainerElement();if(Ct.parentElement){const vt=Ct.parentElement.children;for(let Bt=vt.length-1;Bt>-1;Bt--){let We=vt[Bt];We!==Ct&&"SCRIPT"!==We.nodeName&&"STYLE"!==We.nodeName&&!We.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(We,We.getAttribute("aria-hidden")),We.setAttribute("aria-hidden","true"))}}}_closeDialogs(Ct){let vt=Ct.length;for(;vt--;)Ct[vt].close()}}return ot.\u0275fac=function(Ct){g.$Z()},ot.\u0275dir=g.lG2({type:ot}),ot})(),mt=(()=>{class ot extends yt{constructor(Ct,vt,Bt,We,St,rn,Rn,Bn){super(Ct,vt,We,rn,Rn,St,De,_e,Ye,Bn)}}return ot.\u0275fac=function(Ct){return new(Ct||ot)(g.LFG(h.aV),g.LFG(g.zs3),g.LFG(He.Ye,8),g.LFG(ce,8),g.LFG(Ue),g.LFG(ot,12),g.LFG(h.Xj),g.LFG(Le.Qb,8))},ot.\u0275prov=g.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),ft=(()=>{class ot{}return ot.\u0275fac=function(Ct){return new(Ct||ot)},ot.\u0275mod=g.oAB({type:ot}),ot.\u0275inj=g.cJS({providers:[mt,ze],imports:[[h.U8,E.eL,x.BQ],x.BQ]}),ot})()},4834:(Gt,Ze,y)=>{y.d(Ze,{d:()=>x,t:()=>we});var h=y(5e3),E=y(3191),g=y(508);let x=(()=>{class be{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(pe){this._vertical=(0,E.Ig)(pe)}get inset(){return this._inset}set inset(pe){this._inset=(0,E.Ig)(pe)}}return be.\u0275fac=function(pe){return new(pe||be)},be.\u0275cmp=h.Xpm({type:be,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(pe,ie){2&pe&&(h.uIk("aria-orientation",ie.vertical?"vertical":"horizontal"),h.ekj("mat-divider-vertical",ie.vertical)("mat-divider-horizontal",!ie.vertical)("mat-divider-inset",ie.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(pe,ie){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),be})(),we=(()=>{class be{}return be.\u0275fac=function(pe){return new(pe||be)},be.\u0275mod=h.oAB({type:be}),be.\u0275inj=h.cJS({imports:[[g.BQ],g.BQ]}),be})()},7322:(Gt,Ze,y)=>{y.d(Ze,{G_:()=>gn,TO:()=>mt,KE:()=>ln,Eo:()=>Ae,lN:()=>dt,hX:()=>ot});var h=y(7144),E=y(9808),g=y(5e3),x=y(508),we=y(3191),be=y(7579),Me=y(6451),pe=y(4968),ie=y(8675),q=y(2722),fe=y(5698),le=y(1777),He=y(6360),Se=y(226),$e=y(925);const it=["connectionContainer"],Le=["inputContainer"],rt=["label"];function Ne(R,z){1&R&&(g.ynx(0),g.TgZ(1,"div",14),g._UZ(2,"div",15)(3,"div",16)(4,"div",17),g.qZA(),g.TgZ(5,"div",18),g._UZ(6,"div",15)(7,"div",16)(8,"div",17),g.qZA(),g.BQk())}function Ot(R,z){if(1&R){const K=g.EpF();g.TgZ(0,"div",19),g.NdJ("cdkObserveContent",function(){return g.CHM(K),g.oxw().updateOutlineGap()}),g.Hsn(1,1),g.qZA()}if(2&R){const K=g.oxw();g.Q6J("cdkObserveContentDisabled","outline"!=K.appearance)}}function et(R,z){if(1&R&&(g.ynx(0),g.Hsn(1,2),g.TgZ(2,"span"),g._uU(3),g.qZA(),g.BQk()),2&R){const K=g.oxw(2);g.xp6(3),g.Oqu(K._control.placeholder)}}function Ee(R,z){1&R&&g.Hsn(0,3,["*ngSwitchCase","true"])}function _e(R,z){1&R&&(g.TgZ(0,"span",23),g._uU(1," *"),g.qZA())}function xe(R,z){if(1&R){const K=g.EpF();g.TgZ(0,"label",20,21),g.NdJ("cdkObserveContent",function(){return g.CHM(K),g.oxw().updateOutlineGap()}),g.YNc(2,et,4,1,"ng-container",12),g.YNc(3,Ee,1,0,"ng-content",12),g.YNc(4,_e,2,0,"span",22),g.qZA()}if(2&R){const K=g.oxw();g.ekj("mat-empty",K._control.empty&&!K._shouldAlwaysFloat())("mat-form-field-empty",K._control.empty&&!K._shouldAlwaysFloat())("mat-accent","accent"==K.color)("mat-warn","warn"==K.color),g.Q6J("cdkObserveContentDisabled","outline"!=K.appearance)("id",K._labelId)("ngSwitch",K._hasLabel()),g.uIk("for",K._control.id)("aria-owns",K._control.id),g.xp6(2),g.Q6J("ngSwitchCase",!1),g.xp6(1),g.Q6J("ngSwitchCase",!0),g.xp6(1),g.Q6J("ngIf",!K.hideRequiredMarker&&K._control.required&&!K._control.disabled)}}function De(R,z){1&R&&(g.TgZ(0,"div",24),g.Hsn(1,4),g.qZA())}function ne(R,z){if(1&R&&(g.TgZ(0,"div",25),g._UZ(1,"span",26),g.qZA()),2&R){const K=g.oxw();g.xp6(1),g.ekj("mat-accent","accent"==K.color)("mat-warn","warn"==K.color)}}function Ye(R,z){if(1&R&&(g.TgZ(0,"div"),g.Hsn(1,5),g.qZA()),2&R){const K=g.oxw();g.Q6J("@transitionMessages",K._subscriptAnimationState)}}function ce(R,z){if(1&R&&(g.TgZ(0,"div",30),g._uU(1),g.qZA()),2&R){const K=g.oxw(2);g.Q6J("id",K._hintLabelId),g.xp6(1),g.Oqu(K.hintLabel)}}function Ue(R,z){if(1&R&&(g.TgZ(0,"div",27),g.YNc(1,ce,2,2,"div",28),g.Hsn(2,6),g._UZ(3,"div",29),g.Hsn(4,7),g.qZA()),2&R){const K=g.oxw();g.Q6J("@transitionMessages",K._subscriptAnimationState),g.xp6(1),g.Q6J("ngIf",K.hintLabel)}}const oe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Oe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let ze=0;const yt=new g.OlP("MatError");let mt=(()=>{class R{constructor(K,Z){this.id="mat-error-"+ze++,K||Z.nativeElement.setAttribute("aria-live","polite")}}return R.\u0275fac=function(K){return new(K||R)(g.$8M("aria-live"),g.Y36(g.SBq))},R.\u0275dir=g.lG2({type:R,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(K,Z){2&K&&g.uIk("id",Z.id)},inputs:{id:"id"},features:[g._Bn([{provide:yt,useExisting:R}])]}),R})();const gt={transitionMessages:(0,le.X$)("transitionMessages",[(0,le.SB)("enter",(0,le.oB)({opacity:1,transform:"translateY(0%)"})),(0,le.eR)("void => enter",[(0,le.oB)({opacity:0,transform:"translateY(-5px)"}),(0,le.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ae=(()=>{class R{}return R.\u0275fac=function(K){return new(K||R)},R.\u0275dir=g.lG2({type:R}),R})();const se=new g.OlP("MatHint");let ot=(()=>{class R{}return R.\u0275fac=function(K){return new(K||R)},R.\u0275dir=g.lG2({type:R,selectors:[["mat-label"]]}),R})(),Dt=(()=>{class R{}return R.\u0275fac=function(K){return new(K||R)},R.\u0275dir=g.lG2({type:R,selectors:[["mat-placeholder"]]}),R})();const Ct=new g.OlP("MatPrefix"),Bt=new g.OlP("MatSuffix");let St=0;const Bn=(0,x.pj)(class{constructor(R){this._elementRef=R}},"primary"),hn=new g.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),gn=new g.OlP("MatFormField");let ln=(()=>{class R extends Bn{constructor(K,Z,Pe,Xe,Et,kt,Zt){super(K),this._changeDetectorRef=Z,this._dir=Pe,this._defaults=Xe,this._platform=Et,this._ngZone=kt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new be.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+St++,this._labelId="mat-form-field-label-"+St++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Zt,this.appearance=Xe&&Xe.appearance?Xe.appearance:"legacy",this._hideRequiredMarker=!(!Xe||null==Xe.hideRequiredMarker)&&Xe.hideRequiredMarker}get appearance(){return this._appearance}set appearance(K){const Z=this._appearance;this._appearance=K||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&Z!==K&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(K){this._hideRequiredMarker=(0,we.Ig)(K)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(K){this._hintLabel=K,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(K){K!==this._floatLabel&&(this._floatLabel=K||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(K){this._explicitFormFieldControl=K}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const K=this._control;K.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${K.controlType}`),K.stateChanges.pipe((0,ie.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),K.ngControl&&K.ngControl.valueChanges&&K.ngControl.valueChanges.pipe((0,q.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,q.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Me.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,ie.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,ie.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,q.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(K){const Z=this._control?this._control.ngControl:null;return Z&&Z[K]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,pe.R)(this._label.nativeElement,"transitionend").pipe((0,fe.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let K=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&K.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Z=this._hintChildren?this._hintChildren.find(Xe=>"start"===Xe.align):null,Pe=this._hintChildren?this._hintChildren.find(Xe=>"end"===Xe.align):null;Z?K.push(Z.id):this._hintLabel&&K.push(this._hintLabelId),Pe&&K.push(Pe.id)}else this._errorChildren&&K.push(...this._errorChildren.map(Z=>Z.id));this._control.setDescribedByIds(K)}}_validateControlChild(){}updateOutlineGap(){const K=this._label?this._label.nativeElement:null,Z=this._connectionContainerRef.nativeElement,Pe=".mat-form-field-outline-start",Xe=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!K||!K.children.length||!K.textContent.trim()){const sn=Z.querySelectorAll(`${Pe}, ${Xe}`);for(let mn=0;mn<sn.length;mn++)sn[mn].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Et=0,kt=0;const Zt=Z.querySelectorAll(Pe),an=Z.querySelectorAll(Xe);if(this._label&&this._label.nativeElement.children.length){const sn=Z.getBoundingClientRect();if(0===sn.width&&0===sn.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const mn=this._getStartEnd(sn),yi=K.children,jn=this._getStartEnd(yi[0].getBoundingClientRect());let ti=0;for(let on=0;on<yi.length;on++)ti+=yi[on].offsetWidth;Et=Math.abs(jn-mn)-5,kt=ti>0?.75*ti+10:0}for(let sn=0;sn<Zt.length;sn++)Zt[sn].style.width=`${Et}px`;for(let sn=0;sn<an.length;sn++)an[sn].style.width=`${kt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(K){return this._dir&&"rtl"===this._dir.value?K.right:K.left}_isAttachedToDOM(){const K=this._elementRef.nativeElement;if(K.getRootNode){const Z=K.getRootNode();return Z&&Z!==K}return document.documentElement.contains(K)}}return R.\u0275fac=function(K){return new(K||R)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(Se.Is,8),g.Y36(hn,8),g.Y36($e.t4),g.Y36(g.R0b),g.Y36(He.Qb,8))},R.\u0275cmp=g.Xpm({type:R,selectors:[["mat-form-field"]],contentQueries:function(K,Z,Pe){if(1&K&&(g.Suo(Pe,Ae,5),g.Suo(Pe,Ae,7),g.Suo(Pe,ot,5),g.Suo(Pe,ot,7),g.Suo(Pe,Dt,5),g.Suo(Pe,yt,5),g.Suo(Pe,se,5),g.Suo(Pe,Ct,5),g.Suo(Pe,Bt,5)),2&K){let Xe;g.iGM(Xe=g.CRH())&&(Z._controlNonStatic=Xe.first),g.iGM(Xe=g.CRH())&&(Z._controlStatic=Xe.first),g.iGM(Xe=g.CRH())&&(Z._labelChildNonStatic=Xe.first),g.iGM(Xe=g.CRH())&&(Z._labelChildStatic=Xe.first),g.iGM(Xe=g.CRH())&&(Z._placeholderChild=Xe.first),g.iGM(Xe=g.CRH())&&(Z._errorChildren=Xe),g.iGM(Xe=g.CRH())&&(Z._hintChildren=Xe),g.iGM(Xe=g.CRH())&&(Z._prefixChildren=Xe),g.iGM(Xe=g.CRH())&&(Z._suffixChildren=Xe)}},viewQuery:function(K,Z){if(1&K&&(g.Gf(it,7),g.Gf(Le,5),g.Gf(rt,5)),2&K){let Pe;g.iGM(Pe=g.CRH())&&(Z._connectionContainerRef=Pe.first),g.iGM(Pe=g.CRH())&&(Z._inputContainerRef=Pe.first),g.iGM(Pe=g.CRH())&&(Z._label=Pe.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(K,Z){2&K&&g.ekj("mat-form-field-appearance-standard","standard"==Z.appearance)("mat-form-field-appearance-fill","fill"==Z.appearance)("mat-form-field-appearance-outline","outline"==Z.appearance)("mat-form-field-appearance-legacy","legacy"==Z.appearance)("mat-form-field-invalid",Z._control.errorState)("mat-form-field-can-float",Z._canLabelFloat())("mat-form-field-should-float",Z._shouldLabelFloat())("mat-form-field-has-label",Z._hasFloatingLabel())("mat-form-field-hide-placeholder",Z._hideControlPlaceholder())("mat-form-field-disabled",Z._control.disabled)("mat-form-field-autofilled",Z._control.autofilled)("mat-focused",Z._control.focused)("ng-untouched",Z._shouldForward("untouched"))("ng-touched",Z._shouldForward("touched"))("ng-pristine",Z._shouldForward("pristine"))("ng-dirty",Z._shouldForward("dirty"))("ng-valid",Z._shouldForward("valid"))("ng-invalid",Z._shouldForward("invalid"))("ng-pending",Z._shouldForward("pending"))("_mat-animation-noopable",!Z._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[g._Bn([{provide:gn,useExisting:R}]),g.qOj],ngContentSelectors:Oe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(K,Z){1&K&&(g.F$t(oe),g.TgZ(0,"div",0)(1,"div",1,2),g.NdJ("click",function(Xe){return Z._control.onContainerClick&&Z._control.onContainerClick(Xe)}),g.YNc(3,Ne,9,0,"ng-container",3),g.YNc(4,Ot,2,1,"div",4),g.TgZ(5,"div",5,6),g.Hsn(7),g.TgZ(8,"span",7),g.YNc(9,xe,5,16,"label",8),g.qZA()(),g.YNc(10,De,2,0,"div",9),g.qZA(),g.YNc(11,ne,2,4,"div",10),g.TgZ(12,"div",11),g.YNc(13,Ye,2,1,"div",12),g.YNc(14,Ue,5,2,"div",13),g.qZA()()),2&K&&(g.xp6(3),g.Q6J("ngIf","outline"==Z.appearance),g.xp6(1),g.Q6J("ngIf",Z._prefixChildren.length),g.xp6(5),g.Q6J("ngIf",Z._hasFloatingLabel()),g.xp6(1),g.Q6J("ngIf",Z._suffixChildren.length),g.xp6(1),g.Q6J("ngIf","outline"!=Z.appearance),g.xp6(1),g.Q6J("ngSwitch",Z._getDisplayedMessages()),g.xp6(1),g.Q6J("ngSwitchCase","error"),g.xp6(1),g.Q6J("ngSwitchCase","hint"))},directives:[E.O5,h.wD,E.RF,E.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[gt.transitionMessages]},changeDetection:0}),R})(),dt=(()=>{class R{}return R.\u0275fac=function(K){return new(K||R)},R.\u0275mod=g.oAB({type:R}),R.\u0275inj=g.cJS({imports:[[E.ez,x.BQ,h.Q8],x.BQ]}),R})()},8099:(Gt,Ze,y)=>{y.d(Ze,{Hw:()=>ht,Ps:()=>Vt});var h=y(5e3),E=y(508),g=y(3191),x=y(9808),we=y(9646),be=y(2843),Me=y(4128),pe=y(727),ie=y(8505),q=y(4004),fe=y(262),le=y(8746),He=y(3099),Se=y(5698),$e=y(4351),it=y(9300);class Le{}class Ne{constructor(Be){this.normalizedNames=new Map,this.lazyUpdate=null,Be?this.lazyInit="string"==typeof Be?()=>{this.headers=new Map,Be.split("\n").forEach(Ie=>{const at=Ie.indexOf(":");if(at>0){const Nt=Ie.slice(0,at),Kt=Nt.toLowerCase(),dn=Ie.slice(at+1).trim();this.maybeSetNormalizedName(Nt,Kt),this.headers.has(Kt)?this.headers.get(Kt).push(dn):this.headers.set(Kt,[dn])}})}:()=>{this.headers=new Map,Object.keys(Be).forEach(Ie=>{let at=Be[Ie];const Nt=Ie.toLowerCase();"string"==typeof at&&(at=[at]),at.length>0&&(this.headers.set(Nt,at),this.maybeSetNormalizedName(Ie,Nt))})}:this.headers=new Map}has(Be){return this.init(),this.headers.has(Be.toLowerCase())}get(Be){this.init();const Ie=this.headers.get(Be.toLowerCase());return Ie&&Ie.length>0?Ie[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Be){return this.init(),this.headers.get(Be.toLowerCase())||null}append(Be,Ie){return this.clone({name:Be,value:Ie,op:"a"})}set(Be,Ie){return this.clone({name:Be,value:Ie,op:"s"})}delete(Be,Ie){return this.clone({name:Be,value:Ie,op:"d"})}maybeSetNormalizedName(Be,Ie){this.normalizedNames.has(Ie)||this.normalizedNames.set(Ie,Be)}init(){this.lazyInit&&(this.lazyInit instanceof Ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Be=>this.applyUpdate(Be)),this.lazyUpdate=null))}copyFrom(Be){Be.init(),Array.from(Be.headers.keys()).forEach(Ie=>{this.headers.set(Ie,Be.headers.get(Ie)),this.normalizedNames.set(Ie,Be.normalizedNames.get(Ie))})}clone(Be){const Ie=new Ne;return Ie.lazyInit=this.lazyInit&&this.lazyInit instanceof Ne?this.lazyInit:this,Ie.lazyUpdate=(this.lazyUpdate||[]).concat([Be]),Ie}applyUpdate(Be){const Ie=Be.name.toLowerCase();switch(Be.op){case"a":case"s":let at=Be.value;if("string"==typeof at&&(at=[at]),0===at.length)return;this.maybeSetNormalizedName(Be.name,Ie);const Nt=("a"===Be.op?this.headers.get(Ie):void 0)||[];Nt.push(...at),this.headers.set(Ie,Nt);break;case"d":const Kt=Be.value;if(Kt){let dn=this.headers.get(Ie);if(!dn)return;dn=dn.filter(xn=>-1===Kt.indexOf(xn)),0===dn.length?(this.headers.delete(Ie),this.normalizedNames.delete(Ie)):this.headers.set(Ie,dn)}else this.headers.delete(Ie),this.normalizedNames.delete(Ie)}}forEach(Be){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ie=>Be(this.normalizedNames.get(Ie),this.headers.get(Ie)))}}class Ot{encodeKey(Be){return xe(Be)}encodeValue(Be){return xe(Be)}decodeKey(Be){return decodeURIComponent(Be)}decodeValue(Be){return decodeURIComponent(Be)}}const Ee=/%(\d[a-f0-9])/gi,_e={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function xe(wt){return encodeURIComponent(wt).replace(Ee,(Be,Ie)=>{var at;return null!==(at=_e[Ie])&&void 0!==at?at:Be})}function De(wt){return`${wt}`}class ne{constructor(Be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Be.encoder||new Ot,Be.fromString){if(Be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function et(wt,Be){const Ie=new Map;return wt.length>0&&wt.replace(/^\?/,"").split("&").forEach(Nt=>{const Kt=Nt.indexOf("="),[dn,xn]=-1==Kt?[Be.decodeKey(Nt),""]:[Be.decodeKey(Nt.slice(0,Kt)),Be.decodeValue(Nt.slice(Kt+1))],Nn=Ie.get(dn)||[];Nn.push(xn),Ie.set(dn,Nn)}),Ie}(Be.fromString,this.encoder)}else Be.fromObject?(this.map=new Map,Object.keys(Be.fromObject).forEach(Ie=>{const at=Be.fromObject[Ie];this.map.set(Ie,Array.isArray(at)?at:[at])})):this.map=null}has(Be){return this.init(),this.map.has(Be)}get(Be){this.init();const Ie=this.map.get(Be);return Ie?Ie[0]:null}getAll(Be){return this.init(),this.map.get(Be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Be,Ie){return this.clone({param:Be,value:Ie,op:"a"})}appendAll(Be){const Ie=[];return Object.keys(Be).forEach(at=>{const Nt=Be[at];Array.isArray(Nt)?Nt.forEach(Kt=>{Ie.push({param:at,value:Kt,op:"a"})}):Ie.push({param:at,value:Nt,op:"a"})}),this.clone(Ie)}set(Be,Ie){return this.clone({param:Be,value:Ie,op:"s"})}delete(Be,Ie){return this.clone({param:Be,value:Ie,op:"d"})}toString(){return this.init(),this.keys().map(Be=>{const Ie=this.encoder.encodeKey(Be);return this.map.get(Be).map(at=>Ie+"="+this.encoder.encodeValue(at)).join("&")}).filter(Be=>""!==Be).join("&")}clone(Be){const Ie=new ne({encoder:this.encoder});return Ie.cloneFrom=this.cloneFrom||this,Ie.updates=(this.updates||[]).concat(Be),Ie}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Be=>this.map.set(Be,this.cloneFrom.map.get(Be))),this.updates.forEach(Be=>{switch(Be.op){case"a":case"s":const Ie=("a"===Be.op?this.map.get(Be.param):void 0)||[];Ie.push(De(Be.value)),this.map.set(Be.param,Ie);break;case"d":if(void 0===Be.value){this.map.delete(Be.param);break}{let at=this.map.get(Be.param)||[];const Nt=at.indexOf(De(Be.value));-1!==Nt&&at.splice(Nt,1),at.length>0?this.map.set(Be.param,at):this.map.delete(Be.param)}}}),this.cloneFrom=this.updates=null)}}class ce{constructor(){this.map=new Map}set(Be,Ie){return this.map.set(Be,Ie),this}get(Be){return this.map.has(Be)||this.map.set(Be,Be.defaultValue()),this.map.get(Be)}delete(Be){return this.map.delete(Be),this}has(Be){return this.map.has(Be)}keys(){return this.map.keys()}}function oe(wt){return"undefined"!=typeof ArrayBuffer&&wt instanceof ArrayBuffer}function Oe(wt){return"undefined"!=typeof Blob&&wt instanceof Blob}function ze(wt){return"undefined"!=typeof FormData&&wt instanceof FormData}class mt{constructor(Be,Ie,at,Nt){let Kt;if(this.url=Ie,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Be.toUpperCase(),function Ue(wt){switch(wt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Nt?(this.body=void 0!==at?at:null,Kt=Nt):Kt=at,Kt&&(this.reportProgress=!!Kt.reportProgress,this.withCredentials=!!Kt.withCredentials,Kt.responseType&&(this.responseType=Kt.responseType),Kt.headers&&(this.headers=Kt.headers),Kt.context&&(this.context=Kt.context),Kt.params&&(this.params=Kt.params)),this.headers||(this.headers=new Ne),this.context||(this.context=new ce),this.params){const dn=this.params.toString();if(0===dn.length)this.urlWithParams=Ie;else{const xn=Ie.indexOf("?");this.urlWithParams=Ie+(-1===xn?"?":xn<Ie.length-1?"&":"")+dn}}else this.params=new ne,this.urlWithParams=Ie}serializeBody(){return null===this.body?null:oe(this.body)||Oe(this.body)||ze(this.body)||function yt(wt){return"undefined"!=typeof URLSearchParams&&wt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ne?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ze(this.body)?null:Oe(this.body)?this.body.type||null:oe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ne?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Be={}){var Ie;const at=Be.method||this.method,Nt=Be.url||this.url,Kt=Be.responseType||this.responseType,dn=void 0!==Be.body?Be.body:this.body,xn=void 0!==Be.withCredentials?Be.withCredentials:this.withCredentials,Nn=void 0!==Be.reportProgress?Be.reportProgress:this.reportProgress;let Un=Be.headers||this.headers,Xt=Be.params||this.params;const Sn=null!==(Ie=Be.context)&&void 0!==Ie?Ie:this.context;return void 0!==Be.setHeaders&&(Un=Object.keys(Be.setHeaders).reduce((si,Ti)=>si.set(Ti,Be.setHeaders[Ti]),Un)),Be.setParams&&(Xt=Object.keys(Be.setParams).reduce((si,Ti)=>si.set(Ti,Be.setParams[Ti]),Xt)),new mt(at,Nt,dn,{params:Xt,headers:Un,context:Sn,reportProgress:Nn,responseType:Kt,withCredentials:xn})}}var gt=(()=>((gt=gt||{})[gt.Sent=0]="Sent",gt[gt.UploadProgress=1]="UploadProgress",gt[gt.ResponseHeader=2]="ResponseHeader",gt[gt.DownloadProgress=3]="DownloadProgress",gt[gt.Response=4]="Response",gt[gt.User=5]="User",gt))();class ee extends class Ae{constructor(Be,Ie=200,at="OK"){this.headers=Be.headers||new Ne,this.status=void 0!==Be.status?Be.status:Ie,this.statusText=Be.statusText||at,this.url=Be.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(Be={}){super(Be),this.type=gt.Response,this.body=void 0!==Be.body?Be.body:null}clone(Be={}){return new ee({body:void 0!==Be.body?Be.body:this.body,headers:Be.headers||this.headers,status:void 0!==Be.status?Be.status:this.status,statusText:Be.statusText||this.statusText,url:Be.url||this.url||void 0})}}function O(wt,Be){return{body:Be,headers:wt.headers,context:wt.context,observe:wt.observe,params:wt.params,reportProgress:wt.reportProgress,responseType:wt.responseType,withCredentials:wt.withCredentials}}let se=(()=>{class wt{constructor(Ie){this.handler=Ie}request(Ie,at,Nt={}){let Kt;if(Ie instanceof mt)Kt=Ie;else{let Nn,Un;Nn=Nt.headers instanceof Ne?Nt.headers:new Ne(Nt.headers),Nt.params&&(Un=Nt.params instanceof ne?Nt.params:new ne({fromObject:Nt.params})),Kt=new mt(Ie,at,void 0!==Nt.body?Nt.body:null,{headers:Nn,context:Nt.context,params:Un,reportProgress:Nt.reportProgress,responseType:Nt.responseType||"json",withCredentials:Nt.withCredentials})}const dn=(0,we.of)(Kt).pipe((0,$e.b)(Nn=>this.handler.handle(Nn)));if(Ie instanceof mt||"events"===Nt.observe)return dn;const xn=dn.pipe((0,it.h)(Nn=>Nn instanceof ee));switch(Nt.observe||"body"){case"body":switch(Kt.responseType){case"arraybuffer":return xn.pipe((0,q.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Nn.body}));case"blob":return xn.pipe((0,q.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof Blob))throw new Error("Response is not a Blob.");return Nn.body}));case"text":return xn.pipe((0,q.U)(Nn=>{if(null!==Nn.body&&"string"!=typeof Nn.body)throw new Error("Response is not a string.");return Nn.body}));default:return xn.pipe((0,q.U)(Nn=>Nn.body))}case"response":return xn;default:throw new Error(`Unreachable: unhandled observe type ${Nt.observe}}`)}}delete(Ie,at={}){return this.request("DELETE",Ie,at)}get(Ie,at={}){return this.request("GET",Ie,at)}head(Ie,at={}){return this.request("HEAD",Ie,at)}jsonp(Ie,at){return this.request("JSONP",Ie,{params:(new ne).append(at,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ie,at={}){return this.request("OPTIONS",Ie,at)}patch(Ie,at,Nt={}){return this.request("PATCH",Ie,O(Nt,at))}post(Ie,at,Nt={}){return this.request("POST",Ie,O(Nt,at))}put(Ie,at,Nt={}){return this.request("PUT",Ie,O(Nt,at))}}return wt.\u0275fac=function(Ie){return new(Ie||wt)(h.LFG(Le))},wt.\u0275prov=h.Yz7({token:wt,factory:wt.\u0275fac}),wt})();var mn=y(2313);const yi=["*"];let jn;function on(wt){var Be;return(null===(Be=function ti(){if(void 0===jn&&(jn=null,"undefined"!=typeof window)){const wt=window;void 0!==wt.trustedTypes&&(jn=wt.trustedTypes.createPolicy("angular#components",{createHTML:Be=>Be}))}return jn}())||void 0===Be?void 0:Be.createHTML(wt))||wt}function Si(wt){return Error(`Unable to find icon with the name "${wt}"`)}function ge(wt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${wt}".`)}function j(wt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${wt}".`)}class N{constructor(Be,Ie,at){this.url=Be,this.svgText=Ie,this.options=at}}let k=(()=>{class wt{constructor(Ie,at,Nt,Kt){this._httpClient=Ie,this._sanitizer=at,this._errorHandler=Kt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=Nt}addSvgIcon(Ie,at,Nt){return this.addSvgIconInNamespace("",Ie,at,Nt)}addSvgIconLiteral(Ie,at,Nt){return this.addSvgIconLiteralInNamespace("",Ie,at,Nt)}addSvgIconInNamespace(Ie,at,Nt,Kt){return this._addSvgIconConfig(Ie,at,new N(Nt,null,Kt))}addSvgIconResolver(Ie){return this._resolvers.push(Ie),this}addSvgIconLiteralInNamespace(Ie,at,Nt,Kt){const dn=this._sanitizer.sanitize(h.q3G.HTML,Nt);if(!dn)throw j(Nt);const xn=on(dn);return this._addSvgIconConfig(Ie,at,new N("",xn,Kt))}addSvgIconSet(Ie,at){return this.addSvgIconSetInNamespace("",Ie,at)}addSvgIconSetLiteral(Ie,at){return this.addSvgIconSetLiteralInNamespace("",Ie,at)}addSvgIconSetInNamespace(Ie,at,Nt){return this._addSvgIconSetConfig(Ie,new N(at,null,Nt))}addSvgIconSetLiteralInNamespace(Ie,at,Nt){const Kt=this._sanitizer.sanitize(h.q3G.HTML,at);if(!Kt)throw j(at);const dn=on(Kt);return this._addSvgIconSetConfig(Ie,new N("",dn,Nt))}registerFontClassAlias(Ie,at=Ie){return this._fontCssClassesByAlias.set(Ie,at),this}classNameForFontAlias(Ie){return this._fontCssClassesByAlias.get(Ie)||Ie}setDefaultFontSetClass(Ie){return this._defaultFontSetClass=Ie,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ie){const at=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,Ie);if(!at)throw ge(Ie);const Nt=this._cachedIconsByUrl.get(at);return Nt?(0,we.of)(It(Nt)):this._loadSvgIconFromConfig(new N(Ie,null)).pipe((0,ie.b)(Kt=>this._cachedIconsByUrl.set(at,Kt)),(0,q.U)(Kt=>It(Kt)))}getNamedSvgIcon(Ie,at=""){const Nt=fn(at,Ie);let Kt=this._svgIconConfigs.get(Nt);if(Kt)return this._getSvgFromConfig(Kt);if(Kt=this._getIconConfigFromResolvers(at,Ie),Kt)return this._svgIconConfigs.set(Nt,Kt),this._getSvgFromConfig(Kt);const dn=this._iconSetConfigs.get(at);return dn?this._getSvgFromIconSetConfigs(Ie,dn):(0,be._)(Si(Nt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ie){return Ie.svgText?(0,we.of)(It(this._svgElementFromConfig(Ie))):this._loadSvgIconFromConfig(Ie).pipe((0,q.U)(at=>It(at)))}_getSvgFromIconSetConfigs(Ie,at){const Nt=this._extractIconWithNameFromAnySet(Ie,at);if(Nt)return(0,we.of)(Nt);const Kt=at.filter(dn=>!dn.svgText).map(dn=>this._loadSvgIconSetFromConfig(dn).pipe((0,fe.K)(xn=>{const Un=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,dn.url)} failed: ${xn.message}`;return this._errorHandler.handleError(new Error(Un)),(0,we.of)(null)})));return(0,Me.D)(Kt).pipe((0,q.U)(()=>{const dn=this._extractIconWithNameFromAnySet(Ie,at);if(!dn)throw Si(Ie);return dn}))}_extractIconWithNameFromAnySet(Ie,at){for(let Nt=at.length-1;Nt>=0;Nt--){const Kt=at[Nt];if(Kt.svgText&&Kt.svgText.toString().indexOf(Ie)>-1){const dn=this._svgElementFromConfig(Kt),xn=this._extractSvgIconFromSet(dn,Ie,Kt.options);if(xn)return xn}}return null}_loadSvgIconFromConfig(Ie){return this._fetchIcon(Ie).pipe((0,ie.b)(at=>Ie.svgText=at),(0,q.U)(()=>this._svgElementFromConfig(Ie)))}_loadSvgIconSetFromConfig(Ie){return Ie.svgText?(0,we.of)(null):this._fetchIcon(Ie).pipe((0,ie.b)(at=>Ie.svgText=at))}_extractSvgIconFromSet(Ie,at,Nt){const Kt=Ie.querySelector(`[id="${at}"]`);if(!Kt)return null;const dn=Kt.cloneNode(!0);if(dn.removeAttribute("id"),"svg"===dn.nodeName.toLowerCase())return this._setSvgAttributes(dn,Nt);if("symbol"===dn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(dn),Nt);const xn=this._svgElementFromString(on("<svg></svg>"));return xn.appendChild(dn),this._setSvgAttributes(xn,Nt)}_svgElementFromString(Ie){const at=this._document.createElement("DIV");at.innerHTML=Ie;const Nt=at.querySelector("svg");if(!Nt)throw Error("<svg> tag not found");return Nt}_toSvgElement(Ie){const at=this._svgElementFromString(on("<svg></svg>")),Nt=Ie.attributes;for(let Kt=0;Kt<Nt.length;Kt++){const{name:dn,value:xn}=Nt[Kt];"id"!==dn&&at.setAttribute(dn,xn)}for(let Kt=0;Kt<Ie.childNodes.length;Kt++)Ie.childNodes[Kt].nodeType===this._document.ELEMENT_NODE&&at.appendChild(Ie.childNodes[Kt].cloneNode(!0));return at}_setSvgAttributes(Ie,at){return Ie.setAttribute("fit",""),Ie.setAttribute("height","100%"),Ie.setAttribute("width","100%"),Ie.setAttribute("preserveAspectRatio","xMidYMid meet"),Ie.setAttribute("focusable","false"),at&&at.viewBox&&Ie.setAttribute("viewBox",at.viewBox),Ie}_fetchIcon(Ie){var at;const{url:Nt,options:Kt}=Ie,dn=null!==(at=null==Kt?void 0:Kt.withCredentials)&&void 0!==at&&at;if(!this._httpClient)throw function qe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Nt)throw Error(`Cannot fetch icon from URL "${Nt}".`);const xn=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,Nt);if(!xn)throw ge(Nt);const Nn=this._inProgressUrlFetches.get(xn);if(Nn)return Nn;const Un=this._httpClient.get(xn,{responseType:"text",withCredentials:dn}).pipe((0,q.U)(Xt=>on(Xt)),(0,le.x)(()=>this._inProgressUrlFetches.delete(xn)),(0,He.B)());return this._inProgressUrlFetches.set(xn,Un),Un}_addSvgIconConfig(Ie,at,Nt){return this._svgIconConfigs.set(fn(Ie,at),Nt),this}_addSvgIconSetConfig(Ie,at){const Nt=this._iconSetConfigs.get(Ie);return Nt?Nt.push(at):this._iconSetConfigs.set(Ie,[at]),this}_svgElementFromConfig(Ie){if(!Ie.svgElement){const at=this._svgElementFromString(Ie.svgText);this._setSvgAttributes(at,Ie.options),Ie.svgElement=at}return Ie.svgElement}_getIconConfigFromResolvers(Ie,at){for(let Nt=0;Nt<this._resolvers.length;Nt++){const Kt=this._resolvers[Nt](at,Ie);if(Kt)return Cn(Kt)?new N(Kt.url,null,Kt.options):new N(Kt,null)}}}return wt.\u0275fac=function(Ie){return new(Ie||wt)(h.LFG(se,8),h.LFG(mn.H7),h.LFG(x.K0,8),h.LFG(h.qLn))},wt.\u0275prov=h.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();function It(wt){return wt.cloneNode(!0)}function fn(wt,Be){return wt+":"+Be}function Cn(wt){return!(!wt.url||!wt.options)}const Qn=(0,E.pj)(class{constructor(wt){this._elementRef=wt}}),vn=new h.OlP("mat-icon-location",{providedIn:"root",factory:function ai(){const wt=(0,h.f3M)(x.K0),Be=wt?wt.location:null;return{getPathname:()=>Be?Be.pathname+Be.search:""}}}),_t=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ct=_t.map(wt=>`[${wt}]`).join(", "),Ve=/^url\(['"]?#(.*?)['"]?\)$/;let ht=(()=>{class wt extends Qn{constructor(Ie,at,Nt,Kt,dn){super(Ie),this._iconRegistry=at,this._location=Kt,this._errorHandler=dn,this._inline=!1,this._currentIconFetch=pe.w0.EMPTY,Nt||Ie.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Ie){this._inline=(0,g.Ig)(Ie)}get svgIcon(){return this._svgIcon}set svgIcon(Ie){Ie!==this._svgIcon&&(Ie?this._updateSvgIcon(Ie):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ie)}get fontSet(){return this._fontSet}set fontSet(Ie){const at=this._cleanupFontValue(Ie);at!==this._fontSet&&(this._fontSet=at,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ie){const at=this._cleanupFontValue(Ie);at!==this._fontIcon&&(this._fontIcon=at,this._updateFontIconClasses())}_splitIconName(Ie){if(!Ie)return["",""];const at=Ie.split(":");switch(at.length){case 1:return["",at[0]];case 2:return at;default:throw Error(`Invalid icon name: "${Ie}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ie=this._elementsWithExternalReferences;if(Ie&&Ie.size){const at=this._location.getPathname();at!==this._previousPath&&(this._previousPath=at,this._prependPathToReferences(at))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ie){this._clearSvgElement();const at=this._location.getPathname();this._previousPath=at,this._cacheChildrenWithExternalReferences(Ie),this._prependPathToReferences(at),this._elementRef.nativeElement.appendChild(Ie)}_clearSvgElement(){const Ie=this._elementRef.nativeElement;let at=Ie.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();at--;){const Nt=Ie.childNodes[at];(1!==Nt.nodeType||"svg"===Nt.nodeName.toLowerCase())&&Nt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ie=this._elementRef.nativeElement,at=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();at!=this._previousFontSetClass&&(this._previousFontSetClass&&Ie.classList.remove(this._previousFontSetClass),at&&Ie.classList.add(at),this._previousFontSetClass=at),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&Ie.classList.remove(this._previousFontIconClass),this.fontIcon&&Ie.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ie){return"string"==typeof Ie?Ie.trim().split(" ")[0]:Ie}_prependPathToReferences(Ie){const at=this._elementsWithExternalReferences;at&&at.forEach((Nt,Kt)=>{Nt.forEach(dn=>{Kt.setAttribute(dn.name,`url('${Ie}#${dn.value}')`)})})}_cacheChildrenWithExternalReferences(Ie){const at=Ie.querySelectorAll(ct),Nt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Kt=0;Kt<at.length;Kt++)_t.forEach(dn=>{const xn=at[Kt],Nn=xn.getAttribute(dn),Un=Nn?Nn.match(Ve):null;if(Un){let Xt=Nt.get(xn);Xt||(Xt=[],Nt.set(xn,Xt)),Xt.push({name:dn,value:Un[1]})}})}_updateSvgIcon(Ie){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ie){const[at,Nt]=this._splitIconName(Ie);at&&(this._svgNamespace=at),Nt&&(this._svgName=Nt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Nt,at).pipe((0,Se.q)(1)).subscribe(Kt=>this._setSvgElement(Kt),Kt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${at}:${Nt}! ${Kt.message}`))})}}}return wt.\u0275fac=function(Ie){return new(Ie||wt)(h.Y36(h.SBq),h.Y36(k),h.$8M("aria-hidden"),h.Y36(vn),h.Y36(h.qLn))},wt.\u0275cmp=h.Xpm({type:wt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(Ie,at){2&Ie&&(h.uIk("data-mat-icon-type",at._usingFontIcon()?"font":"svg")("data-mat-icon-name",at._svgName||at.fontIcon)("data-mat-icon-namespace",at._svgNamespace||at.fontSet),h.ekj("mat-icon-inline",at.inline)("mat-icon-no-color","primary"!==at.color&&"accent"!==at.color&&"warn"!==at.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:yi,decls:1,vars:0,template:function(Ie,at){1&Ie&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),wt})(),Vt=(()=>{class wt{}return wt.\u0275fac=function(Ie){return new(Ie||wt)},wt.\u0275mod=h.oAB({type:wt}),wt.\u0275inj=h.cJS({imports:[[E.BQ],E.BQ]}),wt})()},4623:(Gt,Ze,y)=>{y.d(Ze,{i$:()=>ne,Tg:()=>oe,ie:()=>Qe});var h=y(9808),E=y(5e3),g=y(508),x=y(3191),we=y(7579),be=y(2722),le=(y(8675),y(5664),y(449),y(1159),y(3075),y(4834));const He=["*"],$e=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],it=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],et=(0,g.Id)((0,g.Kr)(class{})),Ee=(0,g.Kr)(class{}),_e=new E.OlP("MatList"),xe=new E.OlP("MatNavList");let ne=(()=>{class ee extends et{constructor(O){super(),this._elementRef=O,this._stateChanges=new we.x,"action-list"===this._getListType()&&O.nativeElement.classList.add("mat-action-list")}_getListType(){const O=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===O?"list":"mat-action-list"===O?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return ee.\u0275fac=function(O){return new(O||ee)(E.Y36(E.SBq))},ee.\u0275cmp=E.Xpm({type:ee,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[E._Bn([{provide:_e,useExisting:ee}]),E.qOj,E.TTD],ngContentSelectors:He,decls:1,vars:0,template:function(O,se){1&O&&(E.F$t(),E.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),ee})(),Ye=(()=>{class ee{}return ee.\u0275fac=function(O){return new(O||ee)},ee.\u0275dir=E.lG2({type:ee,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),ee})(),ce=(()=>{class ee{}return ee.\u0275fac=function(O){return new(O||ee)},ee.\u0275dir=E.lG2({type:ee,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),ee})(),oe=(()=>{class ee extends Ee{constructor(O,se,ft,ot){super(),this._element=O,this._isInteractiveList=!1,this._destroyed=new we.x,this._disabled=!1,this._isInteractiveList=!!(ft||ot&&"action-list"===ot._getListType()),this._list=ft||ot;const Dt=this._getHostElement();"button"===Dt.nodeName.toLowerCase()&&!Dt.hasAttribute("type")&&Dt.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,be.R)(this._destroyed)).subscribe(()=>{se.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(O){this._disabled=(0,x.Ig)(O)}ngAfterContentInit(){(0,g.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return ee.\u0275fac=function(O){return new(O||ee)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(xe,8),E.Y36(_e,8))},ee.\u0275cmp=E.Xpm({type:ee,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(O,se,ft){if(1&O&&(E.Suo(ft,Ye,5),E.Suo(ft,ce,5),E.Suo(ft,g.X2,5)),2&O){let ot;E.iGM(ot=E.CRH())&&(se._avatar=ot.first),E.iGM(ot=E.CRH())&&(se._icon=ot.first),E.iGM(ot=E.CRH())&&(se._lines=ot)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(O,se){2&O&&E.ekj("mat-list-item-disabled",se.disabled)("mat-list-item-avatar",se._avatar||se._icon)("mat-list-item-with-avatar",se._avatar||se._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[E.qOj],ngContentSelectors:it,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(O,se){1&O&&(E.F$t($e),E.TgZ(0,"span",0),E._UZ(1,"span",1),E.Hsn(2),E.TgZ(3,"span",2),E.Hsn(4,1),E.qZA(),E.Hsn(5,2),E.qZA()),2&O&&(E.xp6(1),E.Q6J("matRippleTrigger",se._getHostElement())("matRippleDisabled",se._isRippleDisabled()))},directives:[g.wG],encapsulation:2,changeDetection:0}),ee})(),Qe=(()=>{class ee{}return ee.\u0275fac=function(O){return new(O||ee)},ee.\u0275mod=E.oAB({type:ee}),ee.\u0275inj=E.cJS({imports:[[g.uc,g.si,g.BQ,g.us,h.ez],g.uc,g.BQ,g.us,le.t]}),ee})()},4107:(Gt,Ze,y)=>{y.d(Ze,{gD:()=>hn,LD:()=>gn});var h=y(9776),E=y(9808),g=y(5e3),x=y(508),we=y(7322),be=y(8962),Me=y(5664),pe=y(3191),ie=y(449),q=y(1159),fe=y(3075),le=y(7579),He=y(9770),Se=y(6451),$e=y(8675),it=y(3900),Le=y(5698),rt=y(9300),Ne=y(4004),Ot=y(1884),et=y(2722),Ee=y(1777),_e=y(226);const xe=["trigger"],De=["panel"];function ne(ln,dt){if(1&ln&&(g.TgZ(0,"span",8),g._uU(1),g.qZA()),2&ln){const R=g.oxw();g.xp6(1),g.Oqu(R.placeholder)}}function Ye(ln,dt){if(1&ln&&(g.TgZ(0,"span",12),g._uU(1),g.qZA()),2&ln){const R=g.oxw(2);g.xp6(1),g.Oqu(R.triggerValue)}}function ce(ln,dt){1&ln&&g.Hsn(0,0,["*ngSwitchCase","true"])}function Ue(ln,dt){if(1&ln&&(g.TgZ(0,"span",9),g.YNc(1,Ye,2,1,"span",10),g.YNc(2,ce,1,0,"ng-content",11),g.qZA()),2&ln){const R=g.oxw();g.Q6J("ngSwitch",!!R.customTrigger),g.xp6(2),g.Q6J("ngSwitchCase",!0)}}function oe(ln,dt){if(1&ln){const R=g.EpF();g.TgZ(0,"div",13)(1,"div",14,15),g.NdJ("@transformPanel.done",function(K){return g.CHM(R),g.oxw()._panelDoneAnimatingStream.next(K.toState)})("keydown",function(K){return g.CHM(R),g.oxw()._handleKeydown(K)}),g.Hsn(3,1),g.qZA()()}if(2&ln){const R=g.oxw();g.Q6J("@transformPanelWrap",void 0),g.xp6(1),g.Gre("mat-select-panel ",R._getPanelTheme(),""),g.Udp("transform-origin",R._transformOrigin)("font-size",R._triggerFontSize,"px"),g.Q6J("ngClass",R.panelClass)("@transformPanel",R.multiple?"showing-multiple":"showing"),g.uIk("id",R.id+"-panel")("aria-multiselectable",R.multiple)("aria-label",R.ariaLabel||null)("aria-labelledby",R._getPanelAriaLabelledby())}}const Oe=[[["mat-select-trigger"]],"*"],ze=["mat-select-trigger","*"],yt={transformPanelWrap:(0,Ee.X$)("transformPanelWrap",[(0,Ee.eR)("* => void",(0,Ee.IO)("@transformPanel",[(0,Ee.pV)()],{optional:!0}))]),transformPanel:(0,Ee.X$)("transformPanel",[(0,Ee.SB)("void",(0,Ee.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,Ee.SB)("showing",(0,Ee.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,Ee.SB)("showing-multiple",(0,Ee.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,Ee.eR)("void => *",(0,Ee.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,Ee.eR)("* => void",(0,Ee.jt)("100ms 25ms linear",(0,Ee.oB)({opacity:0})))])};let Qe=0;const Dt=new g.OlP("mat-select-scroll-strategy"),vt=new g.OlP("MAT_SELECT_CONFIG"),Bt={provide:Dt,deps:[h.aV],useFactory:function Ct(ln){return()=>ln.scrollStrategies.reposition()}};class We{constructor(dt,R){this.source=dt,this.value=R}}const St=(0,x.Kr)((0,x.sb)((0,x.Id)((0,x.FD)(class{constructor(ln,dt,R,z,K){this._elementRef=ln,this._defaultErrorStateMatcher=dt,this._parentForm=R,this._parentFormGroup=z,this.ngControl=K}})))),rn=new g.OlP("MatSelectTrigger");let Bn=(()=>{class ln extends St{constructor(R,z,K,Z,Pe,Xe,Et,kt,Zt,an,sn,mn,yi,jn){var ti,on,Si;super(Pe,Z,Et,kt,an),this._viewportRuler=R,this._changeDetectorRef=z,this._ngZone=K,this._dir=Xe,this._parentFormField=Zt,this._liveAnnouncer=yi,this._defaultOptions=jn,this._panelOpen=!1,this._compareWith=(qe,ge)=>qe===ge,this._uid="mat-select-"+Qe++,this._triggerAriaLabelledBy=null,this._destroy=new le.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Qe++,this._panelDoneAnimatingStream=new le.x,this._overlayPanelClass=(null===(ti=this._defaultOptions)||void 0===ti?void 0:ti.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Si=null===(on=this._defaultOptions)||void 0===on?void 0:on.disableOptionCentering)&&void 0!==Si&&Si,this.ariaLabel="",this.optionSelectionChanges=(0,He.P)(()=>{const qe=this.options;return qe?qe.changes.pipe((0,$e.O)(qe),(0,it.w)(()=>(0,Se.T)(...qe.map(ge=>ge.onSelectionChange)))):this._ngZone.onStable.pipe((0,Le.q)(1),(0,it.w)(()=>this.optionSelectionChanges))}),this.openedChange=new g.vpe,this._openedStream=this.openedChange.pipe((0,rt.h)(qe=>qe),(0,Ne.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,rt.h)(qe=>!qe),(0,Ne.U)(()=>{})),this.selectionChange=new g.vpe,this.valueChange=new g.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==jn?void 0:jn.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=jn.typeaheadDebounceInterval),this._scrollStrategyFactory=mn,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(sn)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(R){this._placeholder=R,this.stateChanges.next()}get required(){var R,z,K,Z;return null!==(Z=null!==(R=this._required)&&void 0!==R?R:null===(K=null===(z=this.ngControl)||void 0===z?void 0:z.control)||void 0===K?void 0:K.hasValidator(fe.kI.required))&&void 0!==Z&&Z}set required(R){this._required=(0,pe.Ig)(R),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(R){this._multiple=(0,pe.Ig)(R)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(R){this._disableOptionCentering=(0,pe.Ig)(R)}get compareWith(){return this._compareWith}set compareWith(R){this._compareWith=R,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(R){this._assignValue(R)&&this._onChange(R)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(R){this._typeaheadDebounceInterval=(0,pe.su)(R)}get id(){return this._id}set id(R){this._id=R||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ie.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Ot.x)(),(0,et.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,et.R)(this._destroy)).subscribe(R=>{R.added.forEach(z=>z.select()),R.removed.forEach(z=>z.deselect())}),this.options.changes.pipe((0,$e.O)(null),(0,et.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const R=this._getTriggerAriaLabelledby(),z=this.ngControl;if(R!==this._triggerAriaLabelledBy){const K=this._elementRef.nativeElement;this._triggerAriaLabelledBy=R,R?K.setAttribute("aria-labelledby",R):K.removeAttribute("aria-labelledby")}z&&(this._previousControl!==z.control&&(void 0!==this._previousControl&&null!==z.disabled&&z.disabled!==this.disabled&&(this.disabled=z.disabled),this._previousControl=z.control),this.updateErrorState())}ngOnChanges(R){R.disabled&&this.stateChanges.next(),R.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(R){this._assignValue(R)}registerOnChange(R){this._onChange=R}registerOnTouched(R){this._onTouched=R}setDisabledState(R){this.disabled=R,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var R,z;return this.multiple?(null===(R=this._selectionModel)||void 0===R?void 0:R.selected)||[]:null===(z=this._selectionModel)||void 0===z?void 0:z.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const R=this._selectionModel.selected.map(z=>z.viewValue);return this._isRtl()&&R.reverse(),R.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(R){this.disabled||(this.panelOpen?this._handleOpenKeydown(R):this._handleClosedKeydown(R))}_handleClosedKeydown(R){const z=R.keyCode,K=z===q.JH||z===q.LH||z===q.oh||z===q.SV,Z=z===q.K5||z===q.L_,Pe=this._keyManager;if(!Pe.isTyping()&&Z&&!(0,q.Vb)(R)||(this.multiple||R.altKey)&&K)R.preventDefault(),this.open();else if(!this.multiple){const Xe=this.selected;Pe.onKeydown(R);const Et=this.selected;Et&&Xe!==Et&&this._liveAnnouncer.announce(Et.viewValue,1e4)}}_handleOpenKeydown(R){const z=this._keyManager,K=R.keyCode,Z=K===q.JH||K===q.LH,Pe=z.isTyping();if(Z&&R.altKey)R.preventDefault(),this.close();else if(Pe||K!==q.K5&&K!==q.L_||!z.activeItem||(0,q.Vb)(R))if(!Pe&&this._multiple&&K===q.A&&R.ctrlKey){R.preventDefault();const Xe=this.options.some(Et=>!Et.disabled&&!Et.selected);this.options.forEach(Et=>{Et.disabled||(Xe?Et.select():Et.deselect())})}else{const Xe=z.activeItemIndex;z.onKeydown(R),this._multiple&&Z&&R.shiftKey&&z.activeItem&&z.activeItemIndex!==Xe&&z.activeItem._selectViaInteraction()}else R.preventDefault(),z.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Le.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(R){if(this._selectionModel.selected.forEach(z=>z.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&R)Array.isArray(R),R.forEach(z=>this._selectOptionByValue(z)),this._sortValues();else{const z=this._selectOptionByValue(R);z?this._keyManager.updateActiveItem(z):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(R){const z=this.options.find(K=>{if(this._selectionModel.isSelected(K))return!1;try{return null!=K.value&&this._compareWith(K.value,R)}catch(Z){return!1}});return z&&this._selectionModel.select(z),z}_assignValue(R){return!!(R!==this._value||this._multiple&&Array.isArray(R))&&(this.options&&this._setSelectionByValue(R),this._value=R,!0)}_initKeyManager(){this._keyManager=new Me.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,et.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,et.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const R=(0,Se.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,et.R)(R)).subscribe(z=>{this._onSelect(z.source,z.isUserInput),z.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Se.T)(...this.options.map(z=>z._stateChanges)).pipe((0,et.R)(R)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(R,z){const K=this._selectionModel.isSelected(R);null!=R.value||this._multiple?(K!==R.selected&&(R.selected?this._selectionModel.select(R):this._selectionModel.deselect(R)),z&&this._keyManager.setActiveItem(R),this.multiple&&(this._sortValues(),z&&this.focus())):(R.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(R.value)),K!==this._selectionModel.isSelected(R)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const R=this.options.toArray();this._selectionModel.sort((z,K)=>this.sortComparator?this.sortComparator(z,K,R):R.indexOf(z)-R.indexOf(K)),this.stateChanges.next()}}_propagateChanges(R){let z=null;z=this.multiple?this.selected.map(K=>K.value):this.selected?this.selected.value:R,this._value=z,this.valueChange.emit(z),this._onChange(z),this.selectionChange.emit(this._getChangeEvent(z)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var R;return!this._panelOpen&&!this.disabled&&(null===(R=this.options)||void 0===R?void 0:R.length)>0}focus(R){this._elementRef.nativeElement.focus(R)}_getPanelAriaLabelledby(){var R;if(this.ariaLabel)return null;const z=null===(R=this._parentFormField)||void 0===R?void 0:R.getLabelId();return this.ariaLabelledby?(z?z+" ":"")+this.ariaLabelledby:z}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var R;if(this.ariaLabel)return null;const z=null===(R=this._parentFormField)||void 0===R?void 0:R.getLabelId();let K=(z?z+" ":"")+this._valueId;return this.ariaLabelledby&&(K+=" "+this.ariaLabelledby),K}_panelDoneAnimating(R){this.openedChange.emit(R)}setDescribedByIds(R){this._ariaDescribedby=R.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return ln.\u0275fac=function(R){return new(R||ln)(g.Y36(be.rL),g.Y36(g.sBO),g.Y36(g.R0b),g.Y36(x.rD),g.Y36(g.SBq),g.Y36(_e.Is,8),g.Y36(fe.F,8),g.Y36(fe.sg,8),g.Y36(we.G_,8),g.Y36(fe.a5,10),g.$8M("tabindex"),g.Y36(Dt),g.Y36(Me.Kd),g.Y36(vt,8))},ln.\u0275dir=g.lG2({type:ln,viewQuery:function(R,z){if(1&R&&(g.Gf(xe,5),g.Gf(De,5),g.Gf(h.pI,5)),2&R){let K;g.iGM(K=g.CRH())&&(z.trigger=K.first),g.iGM(K=g.CRH())&&(z.panel=K.first),g.iGM(K=g.CRH())&&(z._overlayDir=K.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[g.qOj,g.TTD]}),ln})(),hn=(()=>{class ln extends Bn{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(R,z,K){const Z=this._getItemHeight();return Math.min(Math.max(0,Z*R-z+Z/2),K)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,et.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Le.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(R){const z=(0,x.CB)(R,this.options,this.optionGroups),K=this._getItemHeight();this.panel.nativeElement.scrollTop=0===R&&1===z?0:(0,x.jH)((R+z)*K,K,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(R){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(R)}_getChangeEvent(R){return new We(this,R)}_calculateOverlayOffsetX(){const R=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),z=this._viewportRuler.getViewportSize(),K=this._isRtl(),Z=this.multiple?56:32;let Pe;if(this.multiple)Pe=40;else if(this.disableOptionCentering)Pe=16;else{let kt=this._selectionModel.selected[0]||this.options.first;Pe=kt&&kt.group?32:16}K||(Pe*=-1);const Xe=0-(R.left+Pe-(K?Z:0)),Et=R.right+Pe-z.width+(K?0:Z);Xe>0?Pe+=Xe+8:Et>0&&(Pe-=Et+8),this._overlayDir.offsetX=Math.round(Pe),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(R,z,K){const Z=this._getItemHeight(),Pe=(Z-this._triggerRect.height)/2,Xe=Math.floor(256/Z);let Et;return this.disableOptionCentering?0:(Et=0===this._scrollTop?R*Z:this._scrollTop===K?(R-(this._getItemCount()-Xe))*Z+(Z-(this._getItemCount()*Z-256)%Z):z-Z/2,Math.round(-1*Et-Pe))}_checkOverlayWithinViewport(R){const z=this._getItemHeight(),K=this._viewportRuler.getViewportSize(),Z=this._triggerRect.top-8,Pe=K.height-this._triggerRect.bottom-8,Xe=Math.abs(this._offsetY),kt=Math.min(this._getItemCount()*z,256)-Xe-this._triggerRect.height;kt>Pe?this._adjustPanelUp(kt,Pe):Xe>Z?this._adjustPanelDown(Xe,Z,R):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(R,z){const K=Math.round(R-z);this._scrollTop-=K,this._offsetY-=K,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(R,z,K){const Z=Math.round(R-z);if(this._scrollTop+=Z,this._offsetY+=Z,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=K)return this._scrollTop=K,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const R=this._getItemHeight(),z=this._getItemCount(),K=Math.min(z*R,256),Pe=z*R-K;let Xe;Xe=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),Xe+=(0,x.CB)(Xe,this.options,this.optionGroups);const Et=K/2;this._scrollTop=this._calculateOverlayScroll(Xe,Et,Pe),this._offsetY=this._calculateOverlayOffsetY(Xe,Et,Pe),this._checkOverlayWithinViewport(Pe)}_getOriginBasedOnOption(){const R=this._getItemHeight(),z=(R-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-z+R/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return ln.\u0275fac=function(){let dt;return function(z){return(dt||(dt=g.n5z(ln)))(z||ln)}}(),ln.\u0275cmp=g.Xpm({type:ln,selectors:[["mat-select"]],contentQueries:function(R,z,K){if(1&R&&(g.Suo(K,rn,5),g.Suo(K,x.ey,5),g.Suo(K,x.K7,5)),2&R){let Z;g.iGM(Z=g.CRH())&&(z.customTrigger=Z.first),g.iGM(Z=g.CRH())&&(z.options=Z),g.iGM(Z=g.CRH())&&(z.optionGroups=Z)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(R,z){1&R&&g.NdJ("keydown",function(Z){return z._handleKeydown(Z)})("focus",function(){return z._onFocus()})("blur",function(){return z._onBlur()}),2&R&&(g.uIk("id",z.id)("tabindex",z.tabIndex)("aria-controls",z.panelOpen?z.id+"-panel":null)("aria-expanded",z.panelOpen)("aria-label",z.ariaLabel||null)("aria-required",z.required.toString())("aria-disabled",z.disabled.toString())("aria-invalid",z.errorState)("aria-describedby",z._ariaDescribedby||null)("aria-activedescendant",z._getAriaActiveDescendant()),g.ekj("mat-select-disabled",z.disabled)("mat-select-invalid",z.errorState)("mat-select-required",z.required)("mat-select-empty",z.empty)("mat-select-multiple",z.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[g._Bn([{provide:we.Eo,useExisting:ln},{provide:x.HF,useExisting:ln}]),g.qOj],ngContentSelectors:ze,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(R,z){if(1&R&&(g.F$t(Oe),g.TgZ(0,"div",0,1),g.NdJ("click",function(){return z.toggle()}),g.TgZ(3,"div",2),g.YNc(4,ne,2,1,"span",3),g.YNc(5,Ue,3,2,"span",4),g.qZA(),g.TgZ(6,"div",5),g._UZ(7,"div",6),g.qZA()(),g.YNc(8,oe,4,14,"ng-template",7),g.NdJ("backdropClick",function(){return z.close()})("attach",function(){return z._onAttached()})("detach",function(){return z.close()})),2&R){const K=g.MAs(1);g.uIk("aria-owns",z.panelOpen?z.id+"-panel":null),g.xp6(3),g.Q6J("ngSwitch",z.empty),g.uIk("id",z._valueId),g.xp6(1),g.Q6J("ngSwitchCase",!0),g.xp6(1),g.Q6J("ngSwitchCase",!1),g.xp6(3),g.Q6J("cdkConnectedOverlayPanelClass",z._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",z._scrollStrategy)("cdkConnectedOverlayOrigin",K)("cdkConnectedOverlayOpen",z.panelOpen)("cdkConnectedOverlayPositions",z._positions)("cdkConnectedOverlayMinWidth",null==z._triggerRect?null:z._triggerRect.width)("cdkConnectedOverlayOffsetY",z._offsetY)}},directives:[h.xu,E.RF,E.n9,E.ED,h.pI,E.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[yt.transformPanelWrap,yt.transformPanel]},changeDetection:0}),ln})(),gn=(()=>{class ln{}return ln.\u0275fac=function(R){return new(R||ln)},ln.\u0275mod=g.oAB({type:ln}),ln.\u0275inj=g.cJS({providers:[Bt],imports:[[E.ez,h.U8,x.Ng,x.BQ],be.ZD,we.lN,x.Ng,x.BQ]}),ln})()},4889:(Gt,Ze,y)=>{y.d(Ze,{jA:()=>O,kh:()=>se,LW:()=>Fe,SJ:()=>Ct});var h=y(8962),E=y(9808),g=y(5e3),x=y(508),we=y(3191),be=y(1159),Me=y(7579),pe=y(4968),ie=y(6451),q=y(4004);function fe(vt){return(0,q.U)(()=>vt)}var le=y(9300),He=y(2722),Se=y(1884),$e=y(5698),it=y(8675),Le=y(8372),rt=y(1777),Ne=y(6360),Ot=y(5664),et=y(925),Ee=y(226);const _e=["*"],xe=["content"];function De(vt,Bt){if(1&vt){const We=g.EpF();g.TgZ(0,"div",2),g.NdJ("click",function(){return g.CHM(We),g.oxw()._onBackdropClicked()}),g.qZA()}if(2&vt){const We=g.oxw();g.ekj("mat-drawer-shown",We._isShowingBackdrop())}}function ne(vt,Bt){1&vt&&(g.TgZ(0,"mat-drawer-content"),g.Hsn(1,2),g.qZA())}const Ye=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],ce=["mat-drawer","mat-drawer-content","*"],mt={transformDrawer:(0,rt.X$)("transform",[(0,rt.SB)("open, open-instant",(0,rt.oB)({transform:"none",visibility:"visible"})),(0,rt.SB)("void",(0,rt.oB)({"box-shadow":"none",visibility:"hidden"})),(0,rt.eR)("void => open-instant",(0,rt.jt)("0ms")),(0,rt.eR)("void <=> open, open-instant => void",(0,rt.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ae=new g.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ee(){return!1}}),Qe=new g.OlP("MAT_DRAWER_CONTAINER");let Fe=(()=>{class vt extends h.PQ{constructor(We,St,rn,Rn,Bn){super(rn,Rn,Bn),this._changeDetectorRef=We,this._container=St}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return vt.\u0275fac=function(We){return new(We||vt)(g.Y36(g.sBO),g.Y36((0,g.Gpc)(()=>se)),g.Y36(g.SBq),g.Y36(h.mF),g.Y36(g.R0b))},vt.\u0275cmp=g.Xpm({type:vt,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(We,St){2&We&&g.Udp("margin-left",St._container._contentMargins.left,"px")("margin-right",St._container._contentMargins.right,"px")},features:[g._Bn([{provide:h.PQ,useExisting:vt}]),g.qOj],ngContentSelectors:_e,decls:1,vars:0,template:function(We,St){1&We&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),vt})(),O=(()=>{class vt{constructor(We,St,rn,Rn,Bn,hn,gn,ln){this._elementRef=We,this._focusTrapFactory=St,this._focusMonitor=rn,this._platform=Rn,this._ngZone=Bn,this._interactivityChecker=hn,this._doc=gn,this._container=ln,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Me.x,this._animationEnd=new Me.x,this._animationState="void",this.openedChange=new g.vpe(!0),this._openedStream=this.openedChange.pipe((0,le.h)(dt=>dt),(0,q.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,le.h)(dt=>dt.fromState!==dt.toState&&0===dt.toState.indexOf("open")),fe(void 0)),this._closedStream=this.openedChange.pipe((0,le.h)(dt=>!dt),(0,q.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,le.h)(dt=>dt.fromState!==dt.toState&&"void"===dt.toState),fe(void 0)),this._destroyed=new Me.x,this.onPositionChanged=new g.vpe,this._modeChanged=new Me.x,this.openedChange.subscribe(dt=>{dt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,pe.R)(this._elementRef.nativeElement,"keydown").pipe((0,le.h)(dt=>dt.keyCode===be.hY&&!this.disableClose&&!(0,be.Vb)(dt)),(0,He.R)(this._destroyed)).subscribe(dt=>this._ngZone.run(()=>{this.close(),dt.stopPropagation(),dt.preventDefault()}))}),this._animationEnd.pipe((0,Se.x)((dt,R)=>dt.fromState===R.fromState&&dt.toState===R.toState)).subscribe(dt=>{const{fromState:R,toState:z}=dt;(0===z.indexOf("open")&&"void"===R||"void"===z&&0===R.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(We){(We="end"===We?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(We),this._position=We,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(We){this._mode=We,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(We){this._disableClose=(0,we.Ig)(We)}get autoFocus(){const We=this._autoFocus;return null==We?"side"===this.mode?"dialog":"first-tabbable":We}set autoFocus(We){("true"===We||"false"===We||null==We)&&(We=(0,we.Ig)(We)),this._autoFocus=We}get opened(){return this._opened}set opened(We){this.toggle((0,we.Ig)(We))}_forceFocus(We,St){this._interactivityChecker.isFocusable(We)||(We.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const rn=()=>{We.removeEventListener("blur",rn),We.removeEventListener("mousedown",rn),We.removeAttribute("tabindex")};We.addEventListener("blur",rn),We.addEventListener("mousedown",rn)})),We.focus(St)}_focusByCssSelector(We,St){let rn=this._elementRef.nativeElement.querySelector(We);rn&&this._forceFocus(rn,St)}_takeFocus(){if(!this._focusTrap)return;const We=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(St=>{!St&&"function"==typeof this._elementRef.nativeElement.focus&&We.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(We){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,We):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const We=this._doc.activeElement;return!!We&&this._elementRef.nativeElement.contains(We)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var We;this._focusTrap&&this._focusTrap.destroy(),null===(We=this._anchor)||void 0===We||We.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(We){return this.toggle(!0,We)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(We=!this.opened,St){We&&St&&(this._openedVia=St);const rn=this._setOpen(We,!We&&this._isFocusWithinDrawer(),this._openedVia||"program");return We||(this._openedVia=null),rn}_setOpen(We,St,rn){return this._opened=We,We?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",St&&this._restoreFocus(rn)),this._updateFocusTrapState(),new Promise(Rn=>{this.openedChange.pipe((0,$e.q)(1)).subscribe(Bn=>Rn(Bn?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(We){const St=this._elementRef.nativeElement,rn=St.parentNode;"end"===We?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),rn.insertBefore(this._anchor,St)),rn.appendChild(St)):this._anchor&&this._anchor.parentNode.insertBefore(St,this._anchor)}}return vt.\u0275fac=function(We){return new(We||vt)(g.Y36(g.SBq),g.Y36(Ot.qV),g.Y36(Ot.tE),g.Y36(et.t4),g.Y36(g.R0b),g.Y36(Ot.ic),g.Y36(E.K0,8),g.Y36(Qe,8))},vt.\u0275cmp=g.Xpm({type:vt,selectors:[["mat-drawer"]],viewQuery:function(We,St){if(1&We&&g.Gf(xe,5),2&We){let rn;g.iGM(rn=g.CRH())&&(St._content=rn.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(We,St){1&We&&g.WFA("@transform.start",function(Rn){return St._animationStarted.next(Rn)})("@transform.done",function(Rn){return St._animationEnd.next(Rn)}),2&We&&(g.uIk("align",null),g.d8E("@transform",St._animationState),g.ekj("mat-drawer-end","end"===St.position)("mat-drawer-over","over"===St.mode)("mat-drawer-push","push"===St.mode)("mat-drawer-side","side"===St.mode)("mat-drawer-opened",St.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:_e,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(We,St){1&We&&(g.F$t(),g.TgZ(0,"div",0,1),g.Hsn(2),g.qZA())},directives:[h.PQ],encapsulation:2,data:{animation:[mt.transformDrawer]},changeDetection:0}),vt})(),se=(()=>{class vt{constructor(We,St,rn,Rn,Bn,hn=!1,gn){this._dir=We,this._element=St,this._ngZone=rn,this._changeDetectorRef=Rn,this._animationMode=gn,this._drawers=new g.n_E,this.backdropClick=new g.vpe,this._destroyed=new Me.x,this._doCheckSubject=new Me.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Me.x,We&&We.change.pipe((0,He.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Bn.change().pipe((0,He.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=hn}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(We){this._autosize=(0,we.Ig)(We)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(We){this._backdropOverride=null==We?null:(0,we.Ig)(We)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,it.O)(this._allDrawers),(0,He.R)(this._destroyed)).subscribe(We=>{this._drawers.reset(We.filter(St=>!St._container||St._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,it.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(We=>{this._watchDrawerToggle(We),this._watchDrawerPosition(We),this._watchDrawerMode(We)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Le.b)(10),(0,He.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(We=>We.open())}close(){this._drawers.forEach(We=>We.close())}updateContentMargins(){let We=0,St=0;if(this._left&&this._left.opened)if("side"==this._left.mode)We+=this._left._getWidth();else if("push"==this._left.mode){const rn=this._left._getWidth();We+=rn,St-=rn}if(this._right&&this._right.opened)if("side"==this._right.mode)St+=this._right._getWidth();else if("push"==this._right.mode){const rn=this._right._getWidth();St+=rn,We-=rn}We=We||null,St=St||null,(We!==this._contentMargins.left||St!==this._contentMargins.right)&&(this._contentMargins={left:We,right:St},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(We){We._animationStarted.pipe((0,le.h)(St=>St.fromState!==St.toState),(0,He.R)(this._drawers.changes)).subscribe(St=>{"open-instant"!==St.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==We.mode&&We.openedChange.pipe((0,He.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(We.opened))}_watchDrawerPosition(We){!We||We.onPositionChanged.pipe((0,He.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,$e.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(We){We&&We._modeChanged.pipe((0,He.R)((0,ie.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(We){const St=this._element.nativeElement.classList,rn="mat-drawer-container-has-open";We?St.add(rn):St.remove(rn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(We=>{"end"==We.position?this._end=We:this._start=We}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(We=>We&&!We.disableClose&&this._canHaveBackdrop(We)).forEach(We=>We._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(We){return"side"!==We.mode||!!this._backdropOverride}_isDrawerOpen(We){return null!=We&&We.opened}}return vt.\u0275fac=function(We){return new(We||vt)(g.Y36(Ee.Is,8),g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(g.sBO),g.Y36(h.rL),g.Y36(Ae),g.Y36(Ne.Qb,8))},vt.\u0275cmp=g.Xpm({type:vt,selectors:[["mat-drawer-container"]],contentQueries:function(We,St,rn){if(1&We&&(g.Suo(rn,Fe,5),g.Suo(rn,O,5)),2&We){let Rn;g.iGM(Rn=g.CRH())&&(St._content=Rn.first),g.iGM(Rn=g.CRH())&&(St._allDrawers=Rn)}},viewQuery:function(We,St){if(1&We&&g.Gf(Fe,5),2&We){let rn;g.iGM(rn=g.CRH())&&(St._userContent=rn.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(We,St){2&We&&g.ekj("mat-drawer-container-explicit-backdrop",St._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[g._Bn([{provide:Qe,useExisting:vt}])],ngContentSelectors:ce,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(We,St){1&We&&(g.F$t(Ye),g.YNc(0,De,1,2,"div",0),g.Hsn(1),g.Hsn(2,1),g.YNc(3,ne,2,0,"mat-drawer-content",1)),2&We&&(g.Q6J("ngIf",St.hasBackdrop),g.xp6(3),g.Q6J("ngIf",!St._content))},directives:[Fe,E.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),vt})(),Ct=(()=>{class vt{}return vt.\u0275fac=function(We){return new(We||vt)},vt.\u0275mod=g.oAB({type:vt}),vt.\u0275inj=g.cJS({imports:[[E.ez,x.BQ,h.ZD],h.ZD,x.BQ]}),vt})()},7261:(Gt,Ze,y)=>{y.d(Ze,{qD:()=>it,ux:()=>Ye,ZX:()=>_e});var h=y(9776),E=y(7429),g=y(9808),x=y(5e3),we=y(508),be=y(7423),Me=y(7579),pe=y(5698),ie=y(2722),q=y(1777),fe=y(925),le=y(5113),He=y(5664);function Se(ce,Ue){if(1&ce){const oe=x.EpF();x.TgZ(0,"div",2)(1,"button",3),x.NdJ("click",function(){return x.CHM(oe),x.oxw().action()}),x._uU(2),x.qZA()()}if(2&ce){const oe=x.oxw();x.xp6(2),x.Oqu(oe.data.action)}}function $e(ce,Ue){}const it=new x.OlP("MatSnackBarData");class Le{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const rt=Math.pow(2,31)-1;class Ne{constructor(Ue,oe){this._overlayRef=oe,this._afterDismissed=new Me.x,this._afterOpened=new Me.x,this._onAction=new Me.x,this._dismissedByAction=!1,this.containerInstance=Ue,Ue._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ue){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ue,rt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Ot=(()=>{class ce{constructor(oe,Oe){this.snackBarRef=oe,this.data=Oe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return ce.\u0275fac=function(oe){return new(oe||ce)(x.Y36(Ne),x.Y36(it))},ce.\u0275cmp=x.Xpm({type:ce,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(oe,Oe){1&oe&&(x.TgZ(0,"span",0),x._uU(1),x.qZA(),x.YNc(2,Se,3,1,"div",1)),2&oe&&(x.xp6(1),x.Oqu(Oe.data.message),x.xp6(1),x.Q6J("ngIf",Oe.hasAction))},directives:[be.lW,g.O5],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),ce})();const et={snackBarState:(0,q.X$)("state",[(0,q.SB)("void, hidden",(0,q.oB)({transform:"scale(0.8)",opacity:0})),(0,q.SB)("visible",(0,q.oB)({transform:"scale(1)",opacity:1})),(0,q.eR)("* => visible",(0,q.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,q.eR)("* => void, * => hidden",(0,q.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,q.oB)({opacity:0})))])};let Ee=(()=>{class ce extends E.en{constructor(oe,Oe,ze,yt,mt){super(),this._ngZone=oe,this._elementRef=Oe,this._changeDetectorRef=ze,this._platform=yt,this.snackBarConfig=mt,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Me.x,this._onExit=new Me.x,this._onEnter=new Me.x,this._animationState="void",this.attachDomPortal=gt=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(gt)),this._live="assertive"!==mt.politeness||mt.announcementMessage?"off"===mt.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(oe){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(oe)}attachTemplatePortal(oe){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(oe)}onAnimationEnd(oe){const{fromState:Oe,toState:ze}=oe;if(("void"===ze&&"void"!==Oe||"hidden"===ze)&&this._completeExit(),"visible"===ze){const yt=this._onEnter;this._ngZone.run(()=>{yt.next(),yt.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,pe.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const oe=this._elementRef.nativeElement,Oe=this.snackBarConfig.panelClass;Oe&&(Array.isArray(Oe)?Oe.forEach(ze=>oe.classList.add(ze)):oe.classList.add(Oe)),"center"===this.snackBarConfig.horizontalPosition&&oe.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&oe.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const oe=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Oe=this._elementRef.nativeElement.querySelector("[aria-live]");if(oe&&Oe){let ze=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&oe.contains(document.activeElement)&&(ze=document.activeElement),oe.removeAttribute("aria-hidden"),Oe.appendChild(oe),null==ze||ze.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return ce.\u0275fac=function(oe){return new(oe||ce)(x.Y36(x.R0b),x.Y36(x.SBq),x.Y36(x.sBO),x.Y36(fe.t4),x.Y36(Le))},ce.\u0275cmp=x.Xpm({type:ce,selectors:[["snack-bar-container"]],viewQuery:function(oe,Oe){if(1&oe&&x.Gf(E.Pl,7),2&oe){let ze;x.iGM(ze=x.CRH())&&(Oe._portalOutlet=ze.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(oe,Oe){1&oe&&x.WFA("@state.done",function(yt){return Oe.onAnimationEnd(yt)}),2&oe&&x.d8E("@state",Oe._animationState)},features:[x.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(oe,Oe){1&oe&&(x.TgZ(0,"div",0),x.YNc(1,$e,0,0,"ng-template",1),x.qZA(),x._UZ(2,"div")),2&oe&&(x.xp6(2),x.uIk("aria-live",Oe._live)("role",Oe._role))},directives:[E.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[et.snackBarState]}}),ce})(),_e=(()=>{class ce{}return ce.\u0275fac=function(oe){return new(oe||ce)},ce.\u0275mod=x.oAB({type:ce}),ce.\u0275inj=x.cJS({imports:[[h.U8,E.eL,g.ez,be.ot,we.BQ],we.BQ]}),ce})();const xe=new x.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function De(){return new Le}});let ne=(()=>{class ce{constructor(oe,Oe,ze,yt,mt,gt){this._overlay=oe,this._live=Oe,this._injector=ze,this._breakpointObserver=yt,this._parentSnackBar=mt,this._defaultConfig=gt,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const oe=this._parentSnackBar;return oe?oe._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(oe){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=oe:this._snackBarRefAtThisLevel=oe}openFromComponent(oe,Oe){return this._attach(oe,Oe)}openFromTemplate(oe,Oe){return this._attach(oe,Oe)}open(oe,Oe="",ze){const yt=Object.assign(Object.assign({},this._defaultConfig),ze);return yt.data={message:oe,action:Oe},yt.announcementMessage===oe&&(yt.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,yt)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(oe,Oe){const yt=x.zs3.create({parent:Oe&&Oe.viewContainerRef&&Oe.viewContainerRef.injector||this._injector,providers:[{provide:Le,useValue:Oe}]}),mt=new E.C5(this.snackBarContainerComponent,Oe.viewContainerRef,yt),gt=oe.attach(mt);return gt.instance.snackBarConfig=Oe,gt.instance}_attach(oe,Oe){const ze=Object.assign(Object.assign(Object.assign({},new Le),this._defaultConfig),Oe),yt=this._createOverlay(ze),mt=this._attachSnackBarContainer(yt,ze),gt=new Ne(mt,yt);if(oe instanceof x.Rgc){const Ae=new E.UE(oe,null,{$implicit:ze.data,snackBarRef:gt});gt.instance=mt.attachTemplatePortal(Ae)}else{const Ae=this._createInjector(ze,gt),Qe=new E.C5(oe,void 0,Ae),ee=mt.attachComponentPortal(Qe);gt.instance=ee.instance}return this._breakpointObserver.observe(le.u3.HandsetPortrait).pipe((0,ie.R)(yt.detachments())).subscribe(Ae=>{yt.overlayElement.classList.toggle(this.handsetCssClass,Ae.matches)}),ze.announcementMessage&&mt._onAnnounce.subscribe(()=>{this._live.announce(ze.announcementMessage,ze.politeness)}),this._animateSnackBar(gt,ze),this._openedSnackBarRef=gt,this._openedSnackBarRef}_animateSnackBar(oe,Oe){oe.afterDismissed().subscribe(()=>{this._openedSnackBarRef==oe&&(this._openedSnackBarRef=null),Oe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{oe.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):oe.containerInstance.enter(),Oe.duration&&Oe.duration>0&&oe.afterOpened().subscribe(()=>oe._dismissAfter(Oe.duration))}_createOverlay(oe){const Oe=new h.X_;Oe.direction=oe.direction;let ze=this._overlay.position().global();const yt="rtl"===oe.direction,mt="left"===oe.horizontalPosition||"start"===oe.horizontalPosition&&!yt||"end"===oe.horizontalPosition&&yt,gt=!mt&&"center"!==oe.horizontalPosition;return mt?ze.left("0"):gt?ze.right("0"):ze.centerHorizontally(),"top"===oe.verticalPosition?ze.top("0"):ze.bottom("0"),Oe.positionStrategy=ze,this._overlay.create(Oe)}_createInjector(oe,Oe){return x.zs3.create({parent:oe&&oe.viewContainerRef&&oe.viewContainerRef.injector||this._injector,providers:[{provide:Ne,useValue:Oe},{provide:it,useValue:oe.data}]})}}return ce.\u0275fac=function(oe){return new(oe||ce)(x.LFG(h.aV),x.LFG(He.Kd),x.LFG(x.zs3),x.LFG(le.Yg),x.LFG(ce,12),x.LFG(xe))},ce.\u0275prov=x.Yz7({token:ce,factory:ce.\u0275fac}),ce})(),Ye=(()=>{class ce extends ne{constructor(oe,Oe,ze,yt,mt,gt){super(oe,Oe,ze,yt,mt,gt),this.simpleSnackBarComponent=Ot,this.snackBarContainerComponent=Ee,this.handsetCssClass="mat-snack-bar-handset"}}return ce.\u0275fac=function(oe){return new(oe||ce)(x.LFG(h.aV),x.LFG(He.Kd),x.LFG(x.zs3),x.LFG(le.Yg),x.LFG(ce,12),x.LFG(xe))},ce.\u0275prov=x.Yz7({token:ce,factory:ce.\u0275fac,providedIn:_e}),ce})()},4594:(Gt,Ze,y)=>{y.d(Ze,{Ye:()=>ie,g0:()=>fe});var h=y(5e3),E=y(508),g=y(9808),x=y(925);const we=["*",[["mat-toolbar-row"]]],be=["*","mat-toolbar-row"],Me=(0,E.pj)(class{constructor(le){this._elementRef=le}});let pe=(()=>{class le{}return le.\u0275fac=function(Se){return new(Se||le)},le.\u0275dir=h.lG2({type:le,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),le})(),ie=(()=>{class le extends Me{constructor(Se,$e,it){super(Se),this._platform=$e,this._document=it}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return le.\u0275fac=function(Se){return new(Se||le)(h.Y36(h.SBq),h.Y36(x.t4),h.Y36(g.K0))},le.\u0275cmp=h.Xpm({type:le,selectors:[["mat-toolbar"]],contentQueries:function(Se,$e,it){if(1&Se&&h.Suo(it,pe,5),2&Se){let Le;h.iGM(Le=h.CRH())&&($e._toolbarRows=Le)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Se,$e){2&Se&&h.ekj("mat-toolbar-multiple-rows",$e._toolbarRows.length>0)("mat-toolbar-single-row",0===$e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:be,decls:2,vars:0,template:function(Se,$e){1&Se&&(h.F$t(we),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),le})(),fe=(()=>{class le{}return le.\u0275fac=function(Se){return new(Se||le)},le.\u0275mod=h.oAB({type:le}),le.\u0275inj=h.cJS({imports:[[E.BQ],E.BQ]}),le})()},7238:(Gt,Ze,y)=>{y.d(Ze,{gM:()=>Oe,AV:()=>mt});var h=y(9776),E=y(5664),g=y(9808),x=y(5e3),we=y(508),be=y(8962),Me=y(3191),pe=y(1159),ie=y(5113),q=y(925),fe=y(7429),le=y(6360),He=y(7579),Se=y(2722),$e=y(5698),it=y(226);y(1777);const rt=["tooltip"],et="tooltip-panel",Ee=(0,q.i$)({passive:!0}),De=new x.OlP("mat-tooltip-scroll-strategy"),Ye={provide:De,deps:[h.aV],useFactory:function ne(Ae){return()=>Ae.scrollStrategies.reposition({scrollThrottle:20})}},ce=new x.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Ue(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let oe=(()=>{class Ae{constructor(ee,Fe,O,se,ft,ot,Dt,Ct,vt,Bt,We,St){this._overlay=ee,this._elementRef=Fe,this._scrollDispatcher=O,this._viewContainerRef=se,this._ngZone=ft,this._platform=ot,this._ariaDescriber=Dt,this._focusMonitor=Ct,this._dir=Bt,this._defaultOptions=We,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new He.x,this._scrollStrategy=vt,this._document=St,We&&(We.position&&(this.position=We.position),We.touchGestures&&(this.touchGestures=We.touchGestures)),Bt.change.pipe((0,Se.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(ee){var Fe;ee!==this._position&&(this._position=ee,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(Fe=this._tooltipInstance)||void 0===Fe||Fe.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(ee){this._disabled=(0,Me.Ig)(ee),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(ee){this._showDelay=(0,Me.su)(ee)}get hideDelay(){return this._hideDelay}set hideDelay(ee){this._hideDelay=(0,Me.su)(ee),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(ee){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=ee?String(ee).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(ee){this._tooltipClass=ee,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,Se.R)(this._destroyed)).subscribe(ee=>{ee?"keyboard"===ee&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const ee=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Fe,O])=>{ee.removeEventListener(Fe,O,Ee)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(ee,this.message,"tooltip"),this._focusMonitor.stopMonitoring(ee)}show(ee=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const Fe=this._createOverlay();this._detach(),this._portal=this._portal||new fe.C5(this._tooltipComponent,this._viewContainerRef);const O=this._tooltipInstance=Fe.attach(this._portal).instance;O._triggerElement=this._elementRef.nativeElement,O._mouseLeaveHideDelay=this._hideDelay,O.afterHidden().pipe((0,Se.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),O.show(ee)}hide(ee=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(ee)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var ee;if(this._overlayRef)return this._overlayRef;const Fe=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),O=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Fe);return O.positionChanges.pipe((0,Se.R)(this._destroyed)).subscribe(se=>{this._updateCurrentPositionClass(se.connectionPair),this._tooltipInstance&&se.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:O,panelClass:`${this._cssClassPrefix}-${et}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,Se.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,Se.R)(this._destroyed)).subscribe(()=>{var se;return null===(se=this._tooltipInstance)||void 0===se?void 0:se._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe((0,Se.R)(this._destroyed)).subscribe(se=>{this._isTooltipVisible()&&se.keyCode===pe.hY&&!(0,pe.Vb)(se)&&(se.preventDefault(),se.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(ee=this._defaultOptions)||void 0===ee?void 0:ee.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(ee){const Fe=ee.getConfig().positionStrategy,O=this._getOrigin(),se=this._getOverlayPosition();Fe.withPositions([this._addOffset(Object.assign(Object.assign({},O.main),se.main)),this._addOffset(Object.assign(Object.assign({},O.fallback),se.fallback))])}_addOffset(ee){return ee}_getOrigin(){const ee=!this._dir||"ltr"==this._dir.value,Fe=this.position;let O;"above"==Fe||"below"==Fe?O={originX:"center",originY:"above"==Fe?"top":"bottom"}:"before"==Fe||"left"==Fe&&ee||"right"==Fe&&!ee?O={originX:"start",originY:"center"}:("after"==Fe||"right"==Fe&&ee||"left"==Fe&&!ee)&&(O={originX:"end",originY:"center"});const{x:se,y:ft}=this._invertPosition(O.originX,O.originY);return{main:O,fallback:{originX:se,originY:ft}}}_getOverlayPosition(){const ee=!this._dir||"ltr"==this._dir.value,Fe=this.position;let O;"above"==Fe?O={overlayX:"center",overlayY:"bottom"}:"below"==Fe?O={overlayX:"center",overlayY:"top"}:"before"==Fe||"left"==Fe&&ee||"right"==Fe&&!ee?O={overlayX:"end",overlayY:"center"}:("after"==Fe||"right"==Fe&&ee||"left"==Fe&&!ee)&&(O={overlayX:"start",overlayY:"center"});const{x:se,y:ft}=this._invertPosition(O.overlayX,O.overlayY);return{main:O,fallback:{overlayX:se,overlayY:ft}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,$e.q)(1),(0,Se.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(ee){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=ee,this._tooltipInstance._markForCheck())}_invertPosition(ee,Fe){return"above"===this.position||"below"===this.position?"top"===Fe?Fe="bottom":"bottom"===Fe&&(Fe="top"):"end"===ee?ee="start":"start"===ee&&(ee="end"),{x:ee,y:Fe}}_updateCurrentPositionClass(ee){const{overlayY:Fe,originX:O,originY:se}=ee;let ft;if(ft="center"===Fe?this._dir&&"rtl"===this._dir.value?"end"===O?"left":"right":"start"===O?"left":"right":"bottom"===Fe&&"top"===se?"above":"below",ft!==this._currentPosition){const ot=this._overlayRef;if(ot){const Dt=`${this._cssClassPrefix}-${et}-`;ot.removePanelClass(Dt+this._currentPosition),ot.addPanelClass(Dt+ft)}this._currentPosition=ft}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const ee=[];if(this._platformSupportsMouseEvents())ee.push(["mouseleave",Fe=>{var O;const se=Fe.relatedTarget;(!se||!(null===(O=this._overlayRef)||void 0===O?void 0:O.overlayElement.contains(se)))&&this.hide()}],["wheel",Fe=>this._wheelListener(Fe)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Fe=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};ee.push(["touchend",Fe],["touchcancel",Fe])}this._addListeners(ee),this._passiveListeners.push(...ee)}_addListeners(ee){ee.forEach(([Fe,O])=>{this._elementRef.nativeElement.addEventListener(Fe,O,Ee)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(ee){if(this._isTooltipVisible()){const Fe=this._document.elementFromPoint(ee.clientX,ee.clientY),O=this._elementRef.nativeElement;Fe!==O&&!O.contains(Fe)&&this.hide()}}_disableNativeGesturesIfNecessary(){const ee=this.touchGestures;if("off"!==ee){const Fe=this._elementRef.nativeElement,O=Fe.style;("on"===ee||"INPUT"!==Fe.nodeName&&"TEXTAREA"!==Fe.nodeName)&&(O.userSelect=O.msUserSelect=O.webkitUserSelect=O.MozUserSelect="none"),("on"===ee||!Fe.draggable)&&(O.webkitUserDrag="none"),O.touchAction="none",O.webkitTapHighlightColor="transparent"}}}return Ae.\u0275fac=function(ee){x.$Z()},Ae.\u0275dir=x.lG2({type:Ae,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),Ae})(),Oe=(()=>{class Ae extends oe{constructor(ee,Fe,O,se,ft,ot,Dt,Ct,vt,Bt,We,St){super(ee,Fe,O,se,ft,ot,Dt,Ct,vt,Bt,We,St),this._tooltipComponent=yt}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(x.Y36(h.aV),x.Y36(x.SBq),x.Y36(be.mF),x.Y36(x.s_b),x.Y36(x.R0b),x.Y36(q.t4),x.Y36(E.$s),x.Y36(E.tE),x.Y36(De),x.Y36(it.Is,8),x.Y36(ce,8),x.Y36(g.K0))},Ae.\u0275dir=x.lG2({type:Ae,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[x.qOj]}),Ae})(),ze=(()=>{class Ae{constructor(ee,Fe){this._changeDetectorRef=ee,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new He.x,this._animationsDisabled="NoopAnimations"===Fe}show(ee){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},ee)}hide(ee){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},ee)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:ee}){(!ee||!this._triggerElement.contains(ee))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:ee}){(ee===this._showAnimation||ee===this._hideAnimation)&&this._finalizeAnimation(ee===this._showAnimation)}_finalizeAnimation(ee){ee?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(ee){const Fe=this._tooltip.nativeElement,O=this._showAnimation,se=this._hideAnimation;if(Fe.classList.remove(ee?se:O),Fe.classList.add(ee?O:se),this._isVisible=ee,ee&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const ft=getComputedStyle(Fe);("0s"===ft.getPropertyValue("animation-duration")||"none"===ft.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}ee&&this._onShow(),this._animationsDisabled&&(Fe.classList.add("_mat-animation-noopable"),this._finalizeAnimation(ee))}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(x.Y36(x.sBO),x.Y36(le.Qb,8))},Ae.\u0275dir=x.lG2({type:Ae}),Ae})(),yt=(()=>{class Ae extends ze{constructor(ee,Fe,O){super(ee,O),this._breakpointObserver=Fe,this._isHandset=this._breakpointObserver.observe(ie.u3.Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return Ae.\u0275fac=function(ee){return new(ee||Ae)(x.Y36(x.sBO),x.Y36(ie.Yg),x.Y36(le.Qb,8))},Ae.\u0275cmp=x.Xpm({type:Ae,selectors:[["mat-tooltip-component"]],viewQuery:function(ee,Fe){if(1&ee&&x.Gf(rt,7),2&ee){let O;x.iGM(O=x.CRH())&&(Fe._tooltip=O.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(ee,Fe){1&ee&&x.NdJ("mouseleave",function(se){return Fe._handleMouseLeave(se)}),2&ee&&x.Udp("zoom",Fe.isVisible()?1:null)},features:[x.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(ee,Fe){if(1&ee&&(x.TgZ(0,"div",0,1),x.NdJ("animationend",function(se){return Fe._handleAnimationEnd(se)}),x.ALo(2,"async"),x._uU(3),x.qZA()),2&ee){let O;x.ekj("mat-tooltip-handset",null==(O=x.lcZ(2,4,Fe._isHandset))?null:O.matches),x.Q6J("ngClass",Fe.tooltipClass),x.xp6(3),x.Oqu(Fe.message)}},directives:[g.mk],pipes:[g.Ov],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),Ae})(),mt=(()=>{class Ae{}return Ae.\u0275fac=function(ee){return new(ee||Ae)},Ae.\u0275mod=x.oAB({type:Ae}),Ae.\u0275inj=x.cJS({providers:[Ye],imports:[[E.rt,g.ez,h.U8,we.BQ],we.BQ,be.ZD]}),Ae})()},149:(Gt,Ze,y)=>{y.d(Ze,{gi:()=>it,kc:()=>et,JZ:()=>Ot,dp:()=>Ne,uo:()=>fe,fQ:()=>le,ah:()=>Se});var h=y(2379),E=y(5e3),g=y(508),we=(y(3191),y(449)),be=y(1135),Me=y(6451),pe=y(5698),ie=y(4004);const q=(0,g.sb)((0,g.Id)(h.Hs));let fe=(()=>{class _e extends q{constructor(De,ne,Ye){super(De,ne),this.tabIndex=Number(Ye)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return _e.\u0275fac=function(De){return new(De||_e)(E.Y36(E.SBq),E.Y36(h._0),E.$8M("tabindex"))},_e.\u0275dir=E.lG2({type:_e,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[E._Bn([{provide:h.Hs,useExisting:_e}]),E.qOj]}),_e})(),le=(()=>{class _e extends h.rO{}return _e.\u0275fac=function(){let xe;return function(ne){return(xe||(xe=E.n5z(_e)))(ne||_e)}}(),_e.\u0275dir=E.lG2({type:_e,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[E._Bn([{provide:h.rO,useExisting:_e}]),E.qOj]}),_e})(),Se=(()=>{class _e extends h.XJ{get level(){return this._level}set level(De){this._setLevelInput(De)}get indent(){return this._indent}set indent(De){this._setIndentInput(De)}}return _e.\u0275fac=function(){let xe;return function(ne){return(xe||(xe=E.n5z(_e)))(ne||_e)}}(),_e.\u0275dir=E.lG2({type:_e,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[E._Bn([{provide:h.XJ,useExisting:_e}]),E.qOj]}),_e})(),$e=(()=>{class _e{constructor(De,ne){this.viewContainer=De,this._node=ne}}return _e.\u0275fac=function(De){return new(De||_e)(E.Y36(E.s_b),E.Y36(h.HI,8))},_e.\u0275dir=E.lG2({type:_e,selectors:[["","matTreeNodeOutlet",""]],features:[E._Bn([{provide:h.cu,useExisting:_e}])]}),_e})(),it=(()=>{class _e extends h._0{}return _e.\u0275fac=function(){let xe;return function(ne){return(xe||(xe=E.n5z(_e)))(ne||_e)}}(),_e.\u0275cmp=E.Xpm({type:_e,selectors:[["mat-tree"]],viewQuery:function(De,ne){if(1&De&&E.Gf($e,7),2&De){let Ye;E.iGM(Ye=E.CRH())&&(ne._nodeOutlet=Ye.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[E._Bn([{provide:h._0,useExisting:_e}]),E.qOj],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(De,ne){1&De&&E.GkF(0,0)},directives:[$e],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),_e})(),Ne=(()=>{class _e{}return _e.\u0275fac=function(De){return new(De||_e)},_e.\u0275mod=E.oAB({type:_e}),_e.\u0275inj=E.cJS({imports:[[h.nZ,g.BQ],g.BQ]}),_e})();class Ot{constructor(xe,De,ne,Ye){this.transformFunction=xe,this.getLevel=De,this.isExpandable=ne,this.getChildren=Ye}_flattenNode(xe,De,ne,Ye){const ce=this.transformFunction(xe,De);if(ne.push(ce),this.isExpandable(ce)){const Ue=this.getChildren(xe);Ue&&(Array.isArray(Ue)?this._flattenChildren(Ue,De,ne,Ye):Ue.pipe((0,pe.q)(1)).subscribe(oe=>{this._flattenChildren(oe,De,ne,Ye)}))}return ne}_flattenChildren(xe,De,ne,Ye){xe.forEach((ce,Ue)=>{let oe=Ye.slice();oe.push(Ue!=xe.length-1),this._flattenNode(ce,De+1,ne,oe)})}flattenNodes(xe){let De=[];return xe.forEach(ne=>this._flattenNode(ne,0,De,[])),De}expandFlattenedNodes(xe,De){let ne=[],Ye=[];return Ye[0]=!0,xe.forEach(ce=>{let Ue=!0;for(let oe=0;oe<=this.getLevel(ce);oe++)Ue=Ue&&Ye[oe];Ue&&ne.push(ce),this.isExpandable(ce)&&(Ye[this.getLevel(ce)+1]=De.isExpanded(ce))}),ne}}class et extends we.o2{constructor(xe,De,ne){super(),this._treeControl=xe,this._treeFlattener=De,this._flattenedData=new be.X([]),this._expandedData=new be.X([]),this._data=new be.X([]),ne&&(this.data=ne)}get data(){return this._data.value}set data(xe){this._data.next(xe),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(xe){return(0,Me.T)(xe.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,ie.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}},6360:(Gt,Ze,y)=>{y.d(Ze,{Qb:()=>aa,PW:()=>Bs});var h=y(5e3),E=y(2313),g=y(1777);const x=!1;function be(re){return new h.vHH(3e3,x)}function ft(){return"undefined"!=typeof window&&void 0!==window.document}function ot(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Dt(re){switch(re.length){case 0:return new g.ZN;case 1:return re[0];default:return new g.ZE(re)}}function Ct(re,v,C,L,ae={},Re={}){const nt=[],st=[];let Mt=-1,zt=null;if(L.forEach(Dn=>{const On=Dn.offset,$n=On==Mt,li=$n&&zt||{};Object.keys(Dn).forEach(kn=>{let Kn=kn,Pi=Dn[kn];if("offset"!==kn)switch(Kn=v.normalizePropertyName(Kn,nt),Pi){case g.k1:Pi=ae[kn];break;case g.l3:Pi=Re[kn];break;default:Pi=v.normalizeStyleValue(kn,Kn,Pi,nt)}li[Kn]=Pi}),$n||st.push(li),zt=li,Mt=On}),nt.length)throw function oe(re){return new h.vHH(3502,x)}();return st}function vt(re,v,C,L){switch(v){case"start":re.onStart(()=>L(C&&Bt(C,"start",re)));break;case"done":re.onDone(()=>L(C&&Bt(C,"done",re)));break;case"destroy":re.onDestroy(()=>L(C&&Bt(C,"destroy",re)))}}function Bt(re,v,C){const L=C.totalTime,Re=We(re.element,re.triggerName,re.fromState,re.toState,v||re.phaseName,null==L?re.totalTime:L,!!C.disabled),nt=re._data;return null!=nt&&(Re._data=nt),Re}function We(re,v,C,L,ae="",Re=0,nt){return{element:re,triggerName:v,fromState:C,toState:L,phaseName:ae,totalTime:Re,disabled:!!nt}}function St(re,v,C){let L;return re instanceof Map?(L=re.get(v),L||re.set(v,L=C)):(L=re[v],L||(L=re[v]=C)),L}function rn(re){const v=re.indexOf(":");return[re.substring(1,v),re.substr(v+1)]}let Rn=(re,v)=>!1,Bn=(re,v,C)=>[],hn=null;function gn(re){const v=re.parentNode||re.host;return v===hn?null:v}(ot()||"undefined"!=typeof Element)&&(ft()?(hn=(()=>document.documentElement)(),Rn=(re,v)=>{for(;v;){if(v===re)return!0;v=gn(v)}return!1}):Rn=(re,v)=>re.contains(v),Bn=(re,v,C)=>{if(C)return Array.from(re.querySelectorAll(v));const L=re.querySelector(v);return L?[L]:[]});let R=null,z=!1;function K(re){R||(R=function Z(){return"undefined"!=typeof document?document.body:null}()||{},z=!!R.style&&"WebkitAppearance"in R.style);let v=!0;return R.style&&!function dt(re){return"ebkit"==re.substring(1,6)}(re)&&(v=re in R.style,!v&&z&&(v="Webkit"+re.charAt(0).toUpperCase()+re.substr(1)in R.style)),v}const Pe=Rn,Xe=Bn;let kt=(()=>{class re{validateStyleProperty(C){return K(C)}matchesElement(C,L){return!1}containsElement(C,L){return Pe(C,L)}getParentElement(C){return gn(C)}query(C,L,ae){return Xe(C,L,ae)}computeStyle(C,L,ae){return ae||""}animate(C,L,ae,Re,nt,st=[],Mt){return new g.ZN(ae,Re)}}return re.\u0275fac=function(C){return new(C||re)},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})(),Zt=(()=>{class re{}return re.NOOP=new kt,re})();const yi="ng-enter",jn="ng-leave",ti="ng-trigger",on=".ng-trigger",Si="ng-animating",qe=".ng-animating";function ge(re){if("number"==typeof re)return re;const v=re.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:j(parseFloat(v[1]),v[2])}function j(re,v){return"s"===v?1e3*re:re}function N(re,v,C){return re.hasOwnProperty("duration")?re:function k(re,v,C){let ae,Re=0,nt="";if("string"==typeof re){const st=re.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===st)return v.push(be()),{duration:0,delay:0,easing:""};ae=j(parseFloat(st[1]),st[2]);const Mt=st[3];null!=Mt&&(Re=j(parseFloat(Mt),st[4]));const zt=st[5];zt&&(nt=zt)}else ae=re;if(!C){let st=!1,Mt=v.length;ae<0&&(v.push(function Me(){return new h.vHH(3100,x)}()),st=!0),Re<0&&(v.push(function pe(){return new h.vHH(3101,x)}()),st=!0),st&&v.splice(Mt,0,be())}return{duration:ae,delay:Re,easing:nt}}(re,v,C)}function ye(re,v={}){return Object.keys(re).forEach(C=>{v[C]=re[C]}),v}function It(re,v,C={}){if(v)for(let L in re)C[L]=re[L];else ye(re,C);return C}function fn(re,v,C){return C?v+":"+C+";":""}function Cn(re){let v="";for(let C=0;C<re.style.length;C++){const L=re.style.item(C);v+=fn(0,L,re.style.getPropertyValue(L))}for(const C in re.style)re.style.hasOwnProperty(C)&&!C.startsWith("_")&&(v+=fn(0,Ie(C),re.style[C]));re.setAttribute("style",v)}function Qn(re,v,C){re.style&&(Object.keys(v).forEach(L=>{const ae=Be(L);C&&!C.hasOwnProperty(L)&&(C[L]=re.style[ae]),re.style[ae]=v[L]}),ot()&&Cn(re))}function vn(re,v){re.style&&(Object.keys(v).forEach(C=>{const L=Be(C);re.style[L]=""}),ot()&&Cn(re))}function ai(re){return Array.isArray(re)?1==re.length?re[0]:(0,g.vP)(re):re}const ct=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ve(re){let v=[];if("string"==typeof re){let C;for(;C=ct.exec(re);)v.push(C[1]);ct.lastIndex=0}return v}function ht(re,v,C){const L=re.toString(),ae=L.replace(ct,(Re,nt)=>{let st=v[nt];return v.hasOwnProperty(nt)||(C.push(function q(re){return new h.vHH(3003,x)}()),st=""),st.toString()});return ae==L?re:ae}function Vt(re){const v=[];let C=re.next();for(;!C.done;)v.push(C.value),C=re.next();return v}const wt=/-+([a-z0-9])/g;function Be(re){return re.replace(wt,(...v)=>v[1].toUpperCase())}function Ie(re){return re.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Kt(re,v,C){switch(v.type){case 7:return re.visitTrigger(v,C);case 0:return re.visitState(v,C);case 1:return re.visitTransition(v,C);case 2:return re.visitSequence(v,C);case 3:return re.visitGroup(v,C);case 4:return re.visitAnimate(v,C);case 5:return re.visitKeyframes(v,C);case 6:return re.visitStyle(v,C);case 8:return re.visitReference(v,C);case 9:return re.visitAnimateChild(v,C);case 10:return re.visitAnimateRef(v,C);case 11:return re.visitQuery(v,C);case 12:return re.visitStagger(v,C);default:throw function fe(re){return new h.vHH(3004,x)}()}}function dn(re,v){return window.getComputedStyle(re)[v]}function Ai(re,v){const C=[];return"string"==typeof re?re.split(/\s*,\s*/).forEach(L=>function Er(re,v,C){if(":"==re[0]){const Mt=function mi(re,v){switch(re){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(C,L)=>parseFloat(L)>parseFloat(C);case":decrement":return(C,L)=>parseFloat(L)<parseFloat(C);default:return v.push(function ne(re){return new h.vHH(3016,x)}()),"* => *"}}(re,C);if("function"==typeof Mt)return void v.push(Mt);re=Mt}const L=re.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==L||L.length<4)return C.push(function De(re){return new h.vHH(3015,x)}()),v;const ae=L[1],Re=L[2],nt=L[3];v.push(Hn(ae,nt));"<"==Re[0]&&!("*"==ae&&"*"==nt)&&v.push(Hn(nt,ae))}(L,C,v)):C.push(re),C}const $i=new Set(["true","1"]),Di=new Set(["false","0"]);function Hn(re,v){const C=$i.has(re)||Di.has(re),L=$i.has(v)||Di.has(v);return(ae,Re)=>{let nt="*"==re||re==ae,st="*"==v||v==Re;return!nt&&C&&"boolean"==typeof ae&&(nt=ae?$i.has(re):Di.has(re)),!st&&L&&"boolean"==typeof Re&&(st=Re?$i.has(v):Di.has(v)),nt&&st}}const ur=new RegExp("s*:selfs*,?","g");function _s(re,v,C,L){return new Li(re).build(v,C,L)}class Li{constructor(v){this._driver=v}build(v,C,L){const ae=new dr(C);this._resetContextStyleTimingState(ae);const Re=Kt(this,ai(v),ae);return ae.unsupportedCSSPropertiesFound.size&&ae.unsupportedCSSPropertiesFound.keys(),Re}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles={},v.collectedStyles[""]={},v.currentTime=0}visitTrigger(v,C){let L=C.queryCount=0,ae=C.depCount=0;const Re=[],nt=[];return"@"==v.name.charAt(0)&&C.errors.push(function He(){return new h.vHH(3006,x)}()),v.definitions.forEach(st=>{if(this._resetContextStyleTimingState(C),0==st.type){const Mt=st,zt=Mt.name;zt.toString().split(/\s*,\s*/).forEach(Dn=>{Mt.name=Dn,Re.push(this.visitState(Mt,C))}),Mt.name=zt}else if(1==st.type){const Mt=this.visitTransition(st,C);L+=Mt.queryCount,ae+=Mt.depCount,nt.push(Mt)}else C.errors.push(function Se(){return new h.vHH(3007,x)}())}),{type:7,name:v.name,states:Re,transitions:nt,queryCount:L,depCount:ae,options:null}}visitState(v,C){const L=this.visitStyle(v.styles,C),ae=v.options&&v.options.params||null;if(L.containsDynamicStyles){const Re=new Set,nt=ae||{};L.styles.forEach(st=>{if(Lr(st)){const Mt=st;Object.keys(Mt).forEach(zt=>{Ve(Mt[zt]).forEach(Dn=>{nt.hasOwnProperty(Dn)||Re.add(Dn)})})}}),Re.size&&(Vt(Re.values()),C.errors.push(function $e(re,v){return new h.vHH(3008,x)}()))}return{type:0,name:v.name,style:L,options:ae?{params:ae}:null}}visitTransition(v,C){C.queryCount=0,C.depCount=0;const L=Kt(this,ai(v.animation),C);return{type:1,matchers:Ai(v.expr,C.errors),animation:L,queryCount:C.queryCount,depCount:C.depCount,options:Bi(v.options)}}visitSequence(v,C){return{type:2,steps:v.steps.map(L=>Kt(this,L,C)),options:Bi(v.options)}}visitGroup(v,C){const L=C.currentTime;let ae=0;const Re=v.steps.map(nt=>{C.currentTime=L;const st=Kt(this,nt,C);return ae=Math.max(ae,C.currentTime),st});return C.currentTime=ae,{type:3,steps:Re,options:Bi(v.options)}}visitAnimate(v,C){const L=function ys(re,v){let C=null;if(re.hasOwnProperty("duration"))C=re;else if("number"==typeof re)return yr(N(re,v).duration,0,"");const L=re;if(L.split(/\s+/).some(Re=>"{"==Re.charAt(0)&&"{"==Re.charAt(1))){const Re=yr(0,0,"");return Re.dynamic=!0,Re.strValue=L,Re}return C=C||N(L,v),yr(C.duration,C.delay,C.easing)}(v.timings,C.errors);C.currentAnimateTimings=L;let ae,Re=v.styles?v.styles:(0,g.oB)({});if(5==Re.type)ae=this.visitKeyframes(Re,C);else{let nt=v.styles,st=!1;if(!nt){st=!0;const zt={};L.easing&&(zt.easing=L.easing),nt=(0,g.oB)(zt)}C.currentTime+=L.duration+L.delay;const Mt=this.visitStyle(nt,C);Mt.isEmptyStep=st,ae=Mt}return C.currentAnimateTimings=null,{type:4,timings:L,style:ae,options:null}}visitStyle(v,C){const L=this._makeStyleAst(v,C);return this._validateStyleAst(L,C),L}_makeStyleAst(v,C){const L=[];Array.isArray(v.styles)?v.styles.forEach(nt=>{"string"==typeof nt?nt==g.l3?L.push(nt):C.errors.push(function it(re){return new h.vHH(3002,x)}()):L.push(nt)}):L.push(v.styles);let ae=!1,Re=null;return L.forEach(nt=>{if(Lr(nt)){const st=nt,Mt=st.easing;if(Mt&&(Re=Mt,delete st.easing),!ae)for(let zt in st)if(st[zt].toString().indexOf("{{")>=0){ae=!0;break}}}),{type:6,styles:L,easing:Re,offset:v.offset,containsDynamicStyles:ae,options:null}}_validateStyleAst(v,C){const L=C.currentAnimateTimings;let ae=C.currentTime,Re=C.currentTime;L&&Re>0&&(Re-=L.duration+L.delay),v.styles.forEach(nt=>{"string"!=typeof nt&&Object.keys(nt).forEach(st=>{if(!this._driver.validateStyleProperty(st))return delete nt[st],void C.unsupportedCSSPropertiesFound.add(st);const Mt=C.collectedStyles[C.currentQuerySelector],zt=Mt[st];let Dn=!0;zt&&(Re!=ae&&Re>=zt.startTime&&ae<=zt.endTime&&(C.errors.push(function rt(re,v,C,L,ae){return new h.vHH(3010,x)}()),Dn=!1),Re=zt.startTime),Dn&&(Mt[st]={startTime:Re,endTime:ae}),C.options&&function _t(re,v,C){const L=v.params||{},ae=Ve(re);ae.length&&ae.forEach(Re=>{L.hasOwnProperty(Re)||C.push(function ie(re){return new h.vHH(3001,x)}())})}(nt[st],C.options,C.errors)})})}visitKeyframes(v,C){const L={type:5,styles:[],options:null};if(!C.currentAnimateTimings)return C.errors.push(function Ne(){return new h.vHH(3011,x)}()),L;let Re=0;const nt=[];let st=!1,Mt=!1,zt=0;const Dn=v.steps.map(tr=>{const ir=this._makeStyleAst(tr,C);let Ur=null!=ir.offset?ir.offset:function di(re){if("string"==typeof re)return null;let v=null;if(Array.isArray(re))re.forEach(C=>{if(Lr(C)&&C.hasOwnProperty("offset")){const L=C;v=parseFloat(L.offset),delete L.offset}});else if(Lr(re)&&re.hasOwnProperty("offset")){const C=re;v=parseFloat(C.offset),delete C.offset}return v}(ir.styles),Ci=0;return null!=Ur&&(Re++,Ci=ir.offset=Ur),Mt=Mt||Ci<0||Ci>1,st=st||Ci<zt,zt=Ci,nt.push(Ci),ir});Mt&&C.errors.push(function Ot(){return new h.vHH(3012,x)}()),st&&C.errors.push(function et(){return new h.vHH(3200,x)}());const On=v.steps.length;let $n=0;Re>0&&Re<On?C.errors.push(function Ee(){return new h.vHH(3202,x)}()):0==Re&&($n=1/(On-1));const li=On-1,kn=C.currentTime,Kn=C.currentAnimateTimings,Pi=Kn.duration;return Dn.forEach((tr,ir)=>{const Ur=$n>0?ir==li?1:$n*ir:nt[ir],Ci=Ur*Pi;C.currentTime=kn+Kn.delay+Ci,Kn.duration=Ci,this._validateStyleAst(tr,C),tr.offset=Ur,L.styles.push(tr)}),L}visitReference(v,C){return{type:8,animation:Kt(this,ai(v.animation),C),options:Bi(v.options)}}visitAnimateChild(v,C){return C.depCount++,{type:9,options:Bi(v.options)}}visitAnimateRef(v,C){return{type:10,animation:this.visitReference(v.animation,C),options:Bi(v.options)}}visitQuery(v,C){const L=C.currentQuerySelector,ae=v.options||{};C.queryCount++,C.currentQuery=v;const[Re,nt]=function Nr(re){const v=!!re.split(/\s*,\s*/).find(C=>":self"==C);return v&&(re=re.replace(ur,"")),re=re.replace(/@\*/g,on).replace(/@\w+/g,C=>on+"-"+C.substr(1)).replace(/:animating/g,qe),[re,v]}(v.selector);C.currentQuerySelector=L.length?L+" "+Re:Re,St(C.collectedStyles,C.currentQuerySelector,{});const st=Kt(this,ai(v.animation),C);return C.currentQuery=null,C.currentQuerySelector=L,{type:11,selector:Re,limit:ae.limit||0,optional:!!ae.optional,includeSelf:nt,animation:st,originalSelector:v.selector,options:Bi(v.options)}}visitStagger(v,C){C.currentQuery||C.errors.push(function _e(){return new h.vHH(3013,x)}());const L="full"===v.timings?{duration:0,delay:0,easing:"full"}:N(v.timings,C.errors,!0);return{type:12,animation:Kt(this,ai(v.animation),C),timings:L,options:null}}}class dr{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lr(re){return!Array.isArray(re)&&"object"==typeof re}function Bi(re){return re?(re=ye(re)).params&&(re.params=function Fr(re){return re?ye(re):null}(re.params)):re={},re}function yr(re,v,C){return{duration:re,delay:v,easing:C}}function vs(re,v,C,L,ae,Re,nt=null,st=!1){return{type:1,element:re,keyframes:v,preStyleProps:C,postStyleProps:L,duration:ae,delay:Re,totalTime:ae+Re,easing:nt,subTimeline:st}}class Ks{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,C){let L=this._map.get(v);L||this._map.set(v,L=[]),L.push(...C)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const Zs=new RegExp(":enter","g"),Io=new RegExp(":leave","g");function er(re,v,C,L,ae,Re={},nt={},st,Mt,zt=[]){return(new zr).buildKeyframes(re,v,C,L,ae,Re,nt,st,Mt,zt)}class zr{buildKeyframes(v,C,L,ae,Re,nt,st,Mt,zt,Dn=[]){zt=zt||new Ks;const On=new To(v,C,zt,ae,Re,Dn,[]);On.options=Mt,On.currentTimeline.setStyles([nt],null,On.errors,Mt),Kt(this,L,On);const $n=On.timelines.filter(li=>li.containsAnimation());if(Object.keys(st).length){let li;for(let kn=$n.length-1;kn>=0;kn--){const Kn=$n[kn];if(Kn.element===C){li=Kn;break}}li&&!li.allowOnlyTimelineStyles()&&li.setStyles([st],null,On.errors,Mt)}return $n.length?$n.map(li=>li.buildKeyframes()):[vs(C,[],[],[],0,0,"",!1)]}visitTrigger(v,C){}visitState(v,C){}visitTransition(v,C){}visitAnimateChild(v,C){const L=C.subInstructions.get(C.element);if(L){const ae=C.createSubContext(v.options),Re=C.currentTimeline.currentTime,nt=this._visitSubInstructions(L,ae,ae.options);Re!=nt&&C.transformIntoNewTimeline(nt)}C.previousNode=v}visitAnimateRef(v,C){const L=C.createSubContext(v.options);L.transformIntoNewTimeline(),this.visitReference(v.animation,L),C.transformIntoNewTimeline(L.currentTimeline.currentTime),C.previousNode=v}_visitSubInstructions(v,C,L){let Re=C.currentTimeline.currentTime;const nt=null!=L.duration?ge(L.duration):null,st=null!=L.delay?ge(L.delay):null;return 0!==nt&&v.forEach(Mt=>{const zt=C.appendInstructionToTimeline(Mt,nt,st);Re=Math.max(Re,zt.duration+zt.delay)}),Re}visitReference(v,C){C.updateOptions(v.options,!0),Kt(this,v.animation,C),C.previousNode=v}visitSequence(v,C){const L=C.subContextCount;let ae=C;const Re=v.options;if(Re&&(Re.params||Re.delay)&&(ae=C.createSubContext(Re),ae.transformIntoNewTimeline(),null!=Re.delay)){6==ae.previousNode.type&&(ae.currentTimeline.snapshotCurrentStyles(),ae.previousNode=es);const nt=ge(Re.delay);ae.delayNextStep(nt)}v.steps.length&&(v.steps.forEach(nt=>Kt(this,nt,ae)),ae.currentTimeline.applyStylesToKeyframe(),ae.subContextCount>L&&ae.transformIntoNewTimeline()),C.previousNode=v}visitGroup(v,C){const L=[];let ae=C.currentTimeline.currentTime;const Re=v.options&&v.options.delay?ge(v.options.delay):0;v.steps.forEach(nt=>{const st=C.createSubContext(v.options);Re&&st.delayNextStep(Re),Kt(this,nt,st),ae=Math.max(ae,st.currentTimeline.currentTime),L.push(st.currentTimeline)}),L.forEach(nt=>C.currentTimeline.mergeTimelineCollectedStyles(nt)),C.transformIntoNewTimeline(ae),C.previousNode=v}_visitTiming(v,C){if(v.dynamic){const L=v.strValue;return N(C.params?ht(L,C.params,C.errors):L,C.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,C){const L=C.currentAnimateTimings=this._visitTiming(v.timings,C),ae=C.currentTimeline;L.delay&&(C.incrementTime(L.delay),ae.snapshotCurrentStyles());const Re=v.style;5==Re.type?this.visitKeyframes(Re,C):(C.incrementTime(L.duration),this.visitStyle(Re,C),ae.applyStylesToKeyframe()),C.currentAnimateTimings=null,C.previousNode=v}visitStyle(v,C){const L=C.currentTimeline,ae=C.currentAnimateTimings;!ae&&L.getCurrentStyleProperties().length&&L.forwardFrame();const Re=ae&&ae.easing||v.easing;v.isEmptyStep?L.applyEmptyStep(Re):L.setStyles(v.styles,Re,C.errors,C.options),C.previousNode=v}visitKeyframes(v,C){const L=C.currentAnimateTimings,ae=C.currentTimeline.duration,Re=L.duration,st=C.createSubContext().currentTimeline;st.easing=L.easing,v.styles.forEach(Mt=>{st.forwardTime((Mt.offset||0)*Re),st.setStyles(Mt.styles,Mt.easing,C.errors,C.options),st.applyStylesToKeyframe()}),C.currentTimeline.mergeTimelineCollectedStyles(st),C.transformIntoNewTimeline(ae+Re),C.previousNode=v}visitQuery(v,C){const L=C.currentTimeline.currentTime,ae=v.options||{},Re=ae.delay?ge(ae.delay):0;Re&&(6===C.previousNode.type||0==L&&C.currentTimeline.getCurrentStyleProperties().length)&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=es);let nt=L;const st=C.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!ae.optional,C.errors);C.currentQueryTotal=st.length;let Mt=null;st.forEach((zt,Dn)=>{C.currentQueryIndex=Dn;const On=C.createSubContext(v.options,zt);Re&&On.delayNextStep(Re),zt===C.element&&(Mt=On.currentTimeline),Kt(this,v.animation,On),On.currentTimeline.applyStylesToKeyframe(),nt=Math.max(nt,On.currentTimeline.currentTime)}),C.currentQueryIndex=0,C.currentQueryTotal=0,C.transformIntoNewTimeline(nt),Mt&&(C.currentTimeline.mergeTimelineCollectedStyles(Mt),C.currentTimeline.snapshotCurrentStyles()),C.previousNode=v}visitStagger(v,C){const L=C.parentContext,ae=C.currentTimeline,Re=v.timings,nt=Math.abs(Re.duration),st=nt*(C.currentQueryTotal-1);let Mt=nt*C.currentQueryIndex;switch(Re.duration<0?"reverse":Re.easing){case"reverse":Mt=st-Mt;break;case"full":Mt=L.currentStaggerTime}const Dn=C.currentTimeline;Mt&&Dn.delayNextStep(Mt);const On=Dn.currentTime;Kt(this,v.animation,C),C.previousNode=v,L.currentStaggerTime=ae.currentTime-On+(ae.startTime-L.currentTimeline.startTime)}}const es={};class To{constructor(v,C,L,ae,Re,nt,st,Mt){this._driver=v,this.element=C,this.subInstructions=L,this._enterClassName=ae,this._leaveClassName=Re,this.errors=nt,this.timelines=st,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=es,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Mt||new xi(this._driver,C,0),st.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,C){if(!v)return;const L=v;let ae=this.options;null!=L.duration&&(ae.duration=ge(L.duration)),null!=L.delay&&(ae.delay=ge(L.delay));const Re=L.params;if(Re){let nt=ae.params;nt||(nt=this.options.params={}),Object.keys(Re).forEach(st=>{(!C||!nt.hasOwnProperty(st))&&(nt[st]=ht(Re[st],nt,this.errors))})}}_copyOptions(){const v={};if(this.options){const C=this.options.params;if(C){const L=v.params={};Object.keys(C).forEach(ae=>{L[ae]=C[ae]})}}return v}createSubContext(v=null,C,L){const ae=C||this.element,Re=new To(this._driver,ae,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ae,L||0));return Re.previousNode=this.previousNode,Re.currentAnimateTimings=this.currentAnimateTimings,Re.options=this._copyOptions(),Re.updateOptions(v),Re.currentQueryIndex=this.currentQueryIndex,Re.currentQueryTotal=this.currentQueryTotal,Re.parentContext=this,this.subContextCount++,Re}transformIntoNewTimeline(v){return this.previousNode=es,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,C,L){const ae={duration:null!=C?C:v.duration,delay:this.currentTimeline.currentTime+(null!=L?L:0)+v.delay,easing:""},Re=new to(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,ae,v.stretchStartingKeyframe);return this.timelines.push(Re),ae}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,C,L,ae,Re,nt){let st=[];if(ae&&st.push(this.element),v.length>0){v=(v=v.replace(Zs,"."+this._enterClassName)).replace(Io,"."+this._leaveClassName);let zt=this._driver.query(this.element,v,1!=L);0!==L&&(zt=L<0?zt.slice(zt.length+L,zt.length):zt.slice(0,L)),st.push(...zt)}return!Re&&0==st.length&&nt.push(function xe(re){return new h.vHH(3014,x)}()),st}}class xi{constructor(v,C,L,ae){this._driver=v,this.element=C,this.startTime=L,this._elementTimelineStylesLookup=ae,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(C),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(C,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const C=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||C?(this.forwardTime(this.currentTime+v),C&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,C){return this.applyStylesToKeyframe(),new xi(this._driver,v,C||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,C){this._localTimelineStyles[v]=C,this._globalTimelineStyles[v]=C,this._styleSummary[v]={time:this.currentTime,value:C}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&(this._previousKeyframe.easing=v),Object.keys(this._globalTimelineStyles).forEach(C=>{this._backFill[C]=this._globalTimelineStyles[C]||g.l3,this._currentKeyframe[C]=g.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,C,L,ae){C&&(this._previousKeyframe.easing=C);const Re=ae&&ae.params||{},nt=function ks(re,v){const C={};let L;return re.forEach(ae=>{"*"===ae?(L=L||Object.keys(v),L.forEach(Re=>{C[Re]=g.l3})):It(ae,!1,C)}),C}(v,this._globalTimelineStyles);Object.keys(nt).forEach(st=>{const Mt=ht(nt[st],Re,L);this._pendingStyles[st]=Mt,this._localTimelineStyles.hasOwnProperty(st)||(this._backFill[st]=this._globalTimelineStyles.hasOwnProperty(st)?this._globalTimelineStyles[st]:g.l3),this._updateStyle(st,Mt)})}applyStylesToKeyframe(){const v=this._pendingStyles,C=Object.keys(v);0!=C.length&&(this._pendingStyles={},C.forEach(L=>{this._currentKeyframe[L]=v[L]}),Object.keys(this._localTimelineStyles).forEach(L=>{this._currentKeyframe.hasOwnProperty(L)||(this._currentKeyframe[L]=this._localTimelineStyles[L])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(v=>{const C=this._localTimelineStyles[v];this._pendingStyles[v]=C,this._updateStyle(v,C)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let C in this._currentKeyframe)v.push(C);return v}mergeTimelineCollectedStyles(v){Object.keys(v._styleSummary).forEach(C=>{const L=this._styleSummary[C],ae=v._styleSummary[C];(!L||ae.time>L.time)&&this._updateStyle(C,ae.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,C=new Set,L=1===this._keyframes.size&&0===this.duration;let ae=[];this._keyframes.forEach((st,Mt)=>{const zt=It(st,!0);Object.keys(zt).forEach(Dn=>{const On=zt[Dn];On==g.k1?v.add(Dn):On==g.l3&&C.add(Dn)}),L||(zt.offset=Mt/this.duration),ae.push(zt)});const Re=v.size?Vt(v.values()):[],nt=C.size?Vt(C.values()):[];if(L){const st=ae[0],Mt=ye(st);st.offset=0,Mt.offset=1,ae=[st,Mt]}return vs(this.element,ae,Re,nt,this.duration,this.startTime,this.easing,!1)}}class to extends xi{constructor(v,C,L,ae,Re,nt,st=!1){super(v,C,nt.delay),this.keyframes=L,this.preStyleProps=ae,this.postStyleProps=Re,this._stretchStartingKeyframe=st,this.timings={duration:nt.duration,delay:nt.delay,easing:nt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:C,duration:L,easing:ae}=this.timings;if(this._stretchStartingKeyframe&&C){const Re=[],nt=L+C,st=C/nt,Mt=It(v[0],!1);Mt.offset=0,Re.push(Mt);const zt=It(v[0],!1);zt.offset=ts(st),Re.push(zt);const Dn=v.length-1;for(let On=1;On<=Dn;On++){let $n=It(v[On],!1);$n.offset=ts((C+$n.offset*L)/nt),Re.push($n)}L=nt,C=0,ae="",v=Re}return vs(this.element,v,this.preStyleProps,this.postStyleProps,L,C,ae,!0)}}function ts(re,v=3){const C=Math.pow(10,v-1);return Math.round(re*C)/C}class Ns{}class po extends Ns{normalizePropertyName(v,C){return Be(v)}normalizeStyleValue(v,C,L,ae){let Re="";const nt=L.toString().trim();if(mo[C]&&0!==L&&"0"!==L)if("number"==typeof L)Re="px";else{const st=L.match(/^[+-]?[\d\.]+([a-z]*)$/);st&&0==st[1].length&&ae.push(function le(re,v){return new h.vHH(3005,x)}())}return nt+Re}}const mo=(()=>function Ys(re){const v={};return re.forEach(C=>v[C]=!0),v}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function is(re,v,C,L,ae,Re,nt,st,Mt,zt,Dn,On,$n){return{type:0,element:re,triggerName:v,isRemovalTransition:ae,fromState:C,fromStyles:Re,toState:L,toStyles:nt,timelines:st,queriedElements:Mt,preStyleProps:zt,postStyleProps:Dn,totalTime:On,errors:$n}}const Fs={};class hr{constructor(v,C,L){this._triggerName=v,this.ast=C,this._stateStyles=L}match(v,C,L,ae){return function Es(re,v,C,L,ae){return re.some(Re=>Re(v,C,L,ae))}(this.ast.matchers,v,C,L,ae)}buildStyles(v,C,L){const ae=this._stateStyles["*"],Re=this._stateStyles[v],nt=ae?ae.buildStyles(C,L):{};return Re?Re.buildStyles(C,L):nt}build(v,C,L,ae,Re,nt,st,Mt,zt,Dn){const On=[],$n=this.ast.options&&this.ast.options.params||Fs,kn=this.buildStyles(L,st&&st.params||Fs,On),Kn=Mt&&Mt.params||Fs,Pi=this.buildStyles(ae,Kn,On),tr=new Set,ir=new Map,Ur=new Map,Ci="void"===ae,Or={params:Object.assign(Object.assign({},$n),Kn)},Vi=Dn?[]:er(v,C,this.ast.animation,Re,nt,kn,Pi,Or,zt,On);let Yr=0;if(Vi.forEach(Ao=>{Yr=Math.max(Ao.duration+Ao.delay,Yr)}),On.length)return is(C,this._triggerName,L,ae,Ci,kn,Pi,[],[],ir,Ur,Yr,On);Vi.forEach(Ao=>{const ro=Ao.element,Vs=St(ir,ro,{});Ao.preStyleProps.forEach(qr=>Vs[qr]=!0);const xo=St(Ur,ro,{});Ao.postStyleProps.forEach(qr=>xo[qr]=!0),ro!==C&&tr.add(ro)});const Qi=Vt(tr.values());return is(C,this._triggerName,L,ae,Ci,kn,Pi,Vi,Qi,ir,Ur,Yr)}}class rs{constructor(v,C,L){this.styles=v,this.defaultParams=C,this.normalizer=L}buildStyles(v,C){const L={},ae=ye(this.defaultParams);return Object.keys(v).forEach(Re=>{const nt=v[Re];null!=nt&&(ae[Re]=nt)}),this.styles.styles.forEach(Re=>{if("string"!=typeof Re){const nt=Re;Object.keys(nt).forEach(st=>{let Mt=nt[st];Mt.length>1&&(Mt=ht(Mt,ae,C));const zt=this.normalizer.normalizePropertyName(st,C);Mt=this.normalizer.normalizeStyleValue(st,zt,Mt,C),L[zt]=Mt})}}),L}}class ar{constructor(v,C,L){this.name=v,this.ast=C,this._normalizer=L,this.transitionFactories=[],this.states={},C.states.forEach(ae=>{this.states[ae.name]=new rs(ae.style,ae.options&&ae.options.params||{},L)}),xr(this.states,"true","1"),xr(this.states,"false","0"),C.transitions.forEach(ae=>{this.transitionFactories.push(new hr(v,ae,this.states))}),this.fallbackTransition=function Wr(re,v,C){return new hr(re,{type:1,animation:{type:2,steps:[],options:null},matchers:[(nt,st)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,C,L,ae){return this.transitionFactories.find(nt=>nt.match(v,C,L,ae))||null}matchStyles(v,C,L){return this.fallbackTransition.buildStyles(v,C,L)}}function xr(re,v,C){re.hasOwnProperty(v)?re.hasOwnProperty(C)||(re[C]=re[v]):re.hasOwnProperty(C)&&(re[v]=re[C])}const Br=new Ks;class Ls{constructor(v,C,L){this.bodyNode=v,this._driver=C,this._normalizer=L,this._animations={},this._playersById={},this.players=[]}register(v,C){const L=[],Re=_s(this._driver,C,L,[]);if(L.length)throw function Oe(re){return new h.vHH(3503,x)}();this._animations[v]=Re}_buildPlayer(v,C,L){const ae=v.element,Re=Ct(0,this._normalizer,0,v.keyframes,C,L);return this._driver.animate(ae,Re,v.duration,v.delay,v.easing,[],!0)}create(v,C,L={}){const ae=[],Re=this._animations[v];let nt;const st=new Map;if(Re?(nt=er(this._driver,C,Re,yi,jn,{},{},L,Br,ae),nt.forEach(Dn=>{const On=St(st,Dn.element,{});Dn.postStyleProps.forEach($n=>On[$n]=null)})):(ae.push(function ze(){return new h.vHH(3300,x)}()),nt=[]),ae.length)throw function yt(re){return new h.vHH(3504,x)}();st.forEach((Dn,On)=>{Object.keys(Dn).forEach($n=>{Dn[$n]=this._driver.computeStyle(On,$n,g.l3)})});const zt=Dt(nt.map(Dn=>{const On=st.get(Dn.element);return this._buildPlayer(Dn,{},On)}));return this._playersById[v]=zt,zt.onDestroy(()=>this.destroy(v)),this.players.push(zt),zt}destroy(v){const C=this._getPlayer(v);C.destroy(),delete this._playersById[v];const L=this.players.indexOf(C);L>=0&&this.players.splice(L,1)}_getPlayer(v){const C=this._playersById[v];if(!C)throw function mt(re){return new h.vHH(3301,x)}();return C}listen(v,C,L,ae){const Re=We(C,"","","");return vt(this._getPlayer(v),L,Re,ae),()=>{}}command(v,C,L,ae){if("register"==L)return void this.register(v,ae[0]);if("create"==L)return void this.create(v,C,ae[0]||{});const Re=this._getPlayer(v);switch(L){case"play":Re.play();break;case"pause":Re.pause();break;case"reset":Re.reset();break;case"restart":Re.restart();break;case"finish":Re.finish();break;case"init":Re.init();break;case"setPosition":Re.setPosition(parseFloat(ae[0]));break;case"destroy":this.destroy(v)}}}const Wo="ng-animate-queued",Cr="ng-animate-disabled",Oi=[],Ds={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ri="__ng_removed";class Kr{constructor(v,C=""){this.namespaceId=C;const L=v&&v.hasOwnProperty("value");if(this.value=function G(re){return null!=re?re:null}(L?v.value:v),L){const Re=ye(v);delete Re.value,this.options=Re}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const C=v.params;if(C){const L=this.options.params;Object.keys(C).forEach(ae=>{null==L[ae]&&(L[ae]=C[ae])})}}}const ss="void",gr=new Kr(ss);class cs{constructor(v,C,L){this.id=v,this.hostElement=C,this._engine=L,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,$t(C,this._hostClassName)}listen(v,C,L,ae){if(!this._triggers.hasOwnProperty(C))throw function gt(re,v){return new h.vHH(3302,x)}();if(null==L||0==L.length)throw function Ae(re){return new h.vHH(3303,x)}();if(!function V(re){return"start"==re||"done"==re}(L))throw function Qe(re,v){return new h.vHH(3400,x)}();const Re=St(this._elementListeners,v,[]),nt={name:C,phase:L,callback:ae};Re.push(nt);const st=St(this._engine.statesByElement,v,{});return st.hasOwnProperty(C)||($t(v,ti),$t(v,ti+"-"+C),st[C]=gr),()=>{this._engine.afterFlush(()=>{const Mt=Re.indexOf(nt);Mt>=0&&Re.splice(Mt,1),this._triggers[C]||delete st[C]})}}register(v,C){return!this._triggers[v]&&(this._triggers[v]=C,!0)}_getTrigger(v){const C=this._triggers[v];if(!C)throw function ee(re){return new h.vHH(3401,x)}();return C}trigger(v,C,L,ae=!0){const Re=this._getTrigger(C),nt=new us(this.id,C,v);let st=this._engine.statesByElement.get(v);st||($t(v,ti),$t(v,ti+"-"+C),this._engine.statesByElement.set(v,st={}));let Mt=st[C];const zt=new Kr(L,this.id);if(!(L&&L.hasOwnProperty("value"))&&Mt&&zt.absorbOptions(Mt.options),st[C]=zt,Mt||(Mt=gr),zt.value!==ss&&Mt.value===zt.value){if(!function hi(re,v){const C=Object.keys(re),L=Object.keys(v);if(C.length!=L.length)return!1;for(let ae=0;ae<C.length;ae++){const Re=C[ae];if(!v.hasOwnProperty(Re)||re[Re]!==v[Re])return!1}return!0}(Mt.params,zt.params)){const Kn=[],Pi=Re.matchStyles(Mt.value,Mt.params,Kn),tr=Re.matchStyles(zt.value,zt.params,Kn);Kn.length?this._engine.reportError(Kn):this._engine.afterFlush(()=>{vn(v,Pi),Qn(v,tr)})}return}const $n=St(this._engine.playersByElement,v,[]);$n.forEach(Kn=>{Kn.namespaceId==this.id&&Kn.triggerName==C&&Kn.queued&&Kn.destroy()});let li=Re.matchTransition(Mt.value,zt.value,v,zt.params),kn=!1;if(!li){if(!ae)return;li=Re.fallbackTransition,kn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:C,transition:li,fromState:Mt,toState:zt,player:nt,isFallbackTransition:kn}),kn||($t(v,Wo),nt.onStart(()=>{In(v,Wo)})),nt.onDone(()=>{let Kn=this.players.indexOf(nt);Kn>=0&&this.players.splice(Kn,1);const Pi=this._engine.playersByElement.get(v);if(Pi){let tr=Pi.indexOf(nt);tr>=0&&Pi.splice(tr,1)}}),this.players.push(nt),$n.push(nt),nt}deregister(v){delete this._triggers[v],this._engine.statesByElement.forEach((C,L)=>{delete C[v]}),this._elementListeners.forEach((C,L)=>{this._elementListeners.set(L,C.filter(ae=>ae.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const C=this._engine.playersByElement.get(v);C&&(C.forEach(L=>L.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,C){const L=this._engine.driver.query(v,on,!0);L.forEach(ae=>{if(ae[Ri])return;const Re=this._engine.fetchNamespacesByElement(ae);Re.size?Re.forEach(nt=>nt.triggerLeaveAnimation(ae,C,!1,!0)):this.clearElementCache(ae)}),this._engine.afterFlushAnimationsDone(()=>L.forEach(ae=>this.clearElementCache(ae)))}triggerLeaveAnimation(v,C,L,ae){const Re=this._engine.statesByElement.get(v),nt=new Map;if(Re){const st=[];if(Object.keys(Re).forEach(Mt=>{if(nt.set(Mt,Re[Mt].value),this._triggers[Mt]){const zt=this.trigger(v,Mt,ss,ae);zt&&st.push(zt)}}),st.length)return this._engine.markElementAsRemoved(this.id,v,!0,C,nt),L&&Dt(st).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const C=this._elementListeners.get(v),L=this._engine.statesByElement.get(v);if(C&&L){const ae=new Set;C.forEach(Re=>{const nt=Re.name;if(ae.has(nt))return;ae.add(nt);const Mt=this._triggers[nt].fallbackTransition,zt=L[nt]||gr,Dn=new Kr(ss),On=new us(this.id,nt,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:nt,transition:Mt,fromState:zt,toState:Dn,player:On,isFallbackTransition:!0})})}}removeNode(v,C){const L=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,C),this.triggerLeaveAnimation(v,C,!0))return;let ae=!1;if(L.totalAnimations){const Re=L.players.length?L.playersByQueriedElement.get(v):[];if(Re&&Re.length)ae=!0;else{let nt=v;for(;nt=nt.parentNode;)if(L.statesByElement.get(nt)){ae=!0;break}}}if(this.prepareLeaveAnimationListeners(v),ae)L.markElementAsRemoved(this.id,v,!1,C);else{const Re=v[Ri];(!Re||Re===Ds)&&(L.afterFlush(()=>this.clearElementCache(v)),L.destroyInnerAnimations(v),L._onRemovalComplete(v,C))}}insertNode(v,C){$t(v,this._hostClassName)}drainQueuedTransitions(v){const C=[];return this._queue.forEach(L=>{const ae=L.player;if(ae.destroyed)return;const Re=L.element,nt=this._elementListeners.get(Re);nt&&nt.forEach(st=>{if(st.name==L.triggerName){const Mt=We(Re,L.triggerName,L.fromState.value,L.toState.value);Mt._data=v,vt(L.player,st.phase,Mt,st.callback)}}),ae.markedForDestroy?this._engine.afterFlush(()=>{ae.destroy()}):C.push(L)}),this._queue=[],C.sort((L,ae)=>{const Re=L.transition.ast.depCount,nt=ae.transition.ast.depCount;return 0==Re||0==nt?Re-nt:this._engine.driver.containsElement(L.element,ae.element)?1:-1})}destroy(v){this.players.forEach(C=>C.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let C=!1;return this._elementListeners.has(v)&&(C=!0),C=!!this._queue.find(L=>L.element===v)||C,C}}class Zr{constructor(v,C,L){this.bodyNode=v,this.driver=C,this._normalizer=L,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ae,Re)=>{}}_onRemovalComplete(v,C){this.onRemovalComplete(v,C)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(C=>{C.players.forEach(L=>{L.queued&&v.push(L)})}),v}createNamespace(v,C){const L=new cs(v,C,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,C)?this._balanceNamespaceList(L,C):(this.newHostElements.set(C,L),this.collectEnterElement(C)),this._namespaceLookup[v]=L}_balanceNamespaceList(v,C){const L=this._namespaceList,ae=this.namespacesByHostElement,Re=L.length-1;if(Re>=0){let nt=!1;if(void 0!==this.driver.getParentElement){let st=this.driver.getParentElement(C);for(;st;){const Mt=ae.get(st);if(Mt){const zt=L.indexOf(Mt);L.splice(zt+1,0,v),nt=!0;break}st=this.driver.getParentElement(st)}}else for(let st=Re;st>=0;st--)if(this.driver.containsElement(L[st].hostElement,C)){L.splice(st+1,0,v),nt=!0;break}nt||L.unshift(v)}else L.push(v);return ae.set(C,v),v}register(v,C){let L=this._namespaceLookup[v];return L||(L=this.createNamespace(v,C)),L}registerTrigger(v,C,L){let ae=this._namespaceLookup[v];ae&&ae.register(C,L)&&this.totalAnimations++}destroy(v,C){if(!v)return;const L=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(L.hostElement),delete this._namespaceLookup[v];const ae=this._namespaceList.indexOf(L);ae>=0&&this._namespaceList.splice(ae,1)}),this.afterFlushAnimationsDone(()=>L.destroy(C))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const C=new Set,L=this.statesByElement.get(v);if(L){const ae=Object.keys(L);for(let Re=0;Re<ae.length;Re++){const nt=L[ae[Re]].namespaceId;if(nt){const st=this._fetchNamespace(nt);st&&C.add(st)}}}return C}trigger(v,C,L,ae){if(de(C)){const Re=this._fetchNamespace(v);if(Re)return Re.trigger(C,L,ae),!0}return!1}insertNode(v,C,L,ae){if(!de(C))return;const Re=C[Ri];if(Re&&Re.setForRemoval){Re.setForRemoval=!1,Re.setForMove=!0;const nt=this.collectedLeaveElements.indexOf(C);nt>=0&&this.collectedLeaveElements.splice(nt,1)}if(v){const nt=this._fetchNamespace(v);nt&&nt.insertNode(C,L)}ae&&this.collectEnterElement(C)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,C){C?this.disabledNodes.has(v)||(this.disabledNodes.add(v),$t(v,Cr)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),In(v,Cr))}removeNode(v,C,L,ae){if(de(C)){const Re=v?this._fetchNamespace(v):null;if(Re?Re.removeNode(C,ae):this.markElementAsRemoved(v,C,!1,ae),L){const nt=this.namespacesByHostElement.get(C);nt&&nt.id!==v&&nt.removeNode(C,ae)}}else this._onRemovalComplete(C,ae)}markElementAsRemoved(v,C,L,ae,Re){this.collectedLeaveElements.push(C),C[Ri]={namespaceId:v,setForRemoval:ae,hasAnimation:L,removedBeforeQueried:!1,previousTriggersValues:Re}}listen(v,C,L,ae,Re){return de(C)?this._fetchNamespace(v).listen(C,L,ae,Re):()=>{}}_buildInstruction(v,C,L,ae,Re){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,L,ae,v.fromState.options,v.toState.options,C,Re)}destroyInnerAnimations(v){let C=this.driver.query(v,on,!0);C.forEach(L=>this.destroyActiveAnimationsForElement(L)),0!=this.playersByQueriedElement.size&&(C=this.driver.query(v,qe,!0),C.forEach(L=>this.finishActiveQueriedAnimationOnElement(L)))}destroyActiveAnimationsForElement(v){const C=this.playersByElement.get(v);C&&C.forEach(L=>{L.queued?L.markedForDestroy=!0:L.destroy()})}finishActiveQueriedAnimationOnElement(v){const C=this.playersByQueriedElement.get(v);C&&C.forEach(L=>L.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return Dt(this.players).onDone(()=>v());v()})}processLeaveNode(v){var C;const L=v[Ri];if(L&&L.setForRemoval){if(v[Ri]=Ds,L.namespaceId){this.destroyInnerAnimations(v);const ae=this._fetchNamespace(L.namespaceId);ae&&ae.clearElementCache(v)}this._onRemovalComplete(v,L.setForRemoval)}(null===(C=v.classList)||void 0===C?void 0:C.contains(Cr))&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(ae=>{this.markElementAsDisabled(ae,!1)})}flush(v=-1){let C=[];if(this.newHostElements.size&&(this.newHostElements.forEach((L,ae)=>this._balanceNamespaceList(L,ae)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let L=0;L<this.collectedEnterElements.length;L++)$t(this.collectedEnterElements[L],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const L=[];try{C=this._flushAnimations(L,v)}finally{for(let ae=0;ae<L.length;ae++)L[ae]()}}else for(let L=0;L<this.collectedLeaveElements.length;L++)this.processLeaveNode(this.collectedLeaveElements[L]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(L=>L()),this._flushFns=[],this._whenQuietFns.length){const L=this._whenQuietFns;this._whenQuietFns=[],C.length?Dt(C).onDone(()=>{L.forEach(ae=>ae())}):L.forEach(ae=>ae())}}reportError(v){throw function Fe(re){return new h.vHH(3402,x)}()}_flushAnimations(v,C){const L=new Ks,ae=[],Re=new Map,nt=[],st=new Map,Mt=new Map,zt=new Map,Dn=new Set;this.disabledNodes.forEach(Mn=>{Dn.add(Mn);const En=this.driver.query(Mn,".ng-animate-queued",!0);for(let Wn=0;Wn<En.length;Wn++)Dn.add(En[Wn])});const On=this.bodyNode,$n=Array.from(this.statesByElement.keys()),li=Ft($n,this.collectedEnterElements),kn=new Map;let Kn=0;li.forEach((Mn,En)=>{const Wn=yi+Kn++;kn.set(En,Wn),Mn.forEach(ci=>$t(ci,Wn))});const Pi=[],tr=new Set,ir=new Set;for(let Mn=0;Mn<this.collectedLeaveElements.length;Mn++){const En=this.collectedLeaveElements[Mn],Wn=En[Ri];Wn&&Wn.setForRemoval&&(Pi.push(En),tr.add(En),Wn.hasAnimation?this.driver.query(En,".ng-star-inserted",!0).forEach(ci=>tr.add(ci)):ir.add(En))}const Ur=new Map,Ci=Ft($n,Array.from(tr));Ci.forEach((Mn,En)=>{const Wn=jn+Kn++;Ur.set(En,Wn),Mn.forEach(ci=>$t(ci,Wn))}),v.push(()=>{li.forEach((Mn,En)=>{const Wn=kn.get(En);Mn.forEach(ci=>In(ci,Wn))}),Ci.forEach((Mn,En)=>{const Wn=Ur.get(En);Mn.forEach(ci=>In(ci,Wn))}),Pi.forEach(Mn=>{this.processLeaveNode(Mn)})});const Or=[],Vi=[];for(let Mn=this._namespaceList.length-1;Mn>=0;Mn--)this._namespaceList[Mn].drainQueuedTransitions(C).forEach(Wn=>{const ci=Wn.player,Ui=Wn.element;if(Or.push(ci),this.collectedEnterElements.length){const Qr=Ui[Ri];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(Wn.triggerName)){const Oo=Qr.previousTriggersValues.get(Wn.triggerName),Ki=this.statesByElement.get(Wn.element);Ki&&Ki[Wn.triggerName]&&(Ki[Wn.triggerName].value=Oo)}return void ci.destroy()}}const Ts=!On||!this.driver.containsElement(On,Ui),rr=Ur.get(Ui),os=kn.get(Ui),ki=this._buildInstruction(Wn,L,os,rr,Ts);if(ki.errors&&ki.errors.length)return void Vi.push(ki);if(Ts)return ci.onStart(()=>vn(Ui,ki.fromStyles)),ci.onDestroy(()=>Qn(Ui,ki.toStyles)),void ae.push(ci);if(Wn.isFallbackTransition)return ci.onStart(()=>vn(Ui,ki.fromStyles)),ci.onDestroy(()=>Qn(Ui,ki.toStyles)),void ae.push(ci);const qo=[];ki.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||qo.push(Qr)}),ki.timelines=qo,L.append(Ui,ki.timelines),nt.push({instruction:ki,player:ci,element:Ui}),ki.queriedElements.forEach(Qr=>St(st,Qr,[]).push(ci)),ki.preStyleProps.forEach((Qr,Oo)=>{const Ki=Object.keys(Qr);if(Ki.length){let Ms=Mt.get(Oo);Ms||Mt.set(Oo,Ms=new Set),Ki.forEach(ga=>Ms.add(ga))}}),ki.postStyleProps.forEach((Qr,Oo)=>{const Ki=Object.keys(Qr);let Ms=zt.get(Oo);Ms||zt.set(Oo,Ms=new Set),Ki.forEach(ga=>Ms.add(ga))})});if(Vi.length){const Mn=[];Vi.forEach(En=>{Mn.push(function se(re,v){return new h.vHH(3505,x)}())}),Or.forEach(En=>En.destroy()),this.reportError(Mn)}const Yr=new Map,Qi=new Map;nt.forEach(Mn=>{const En=Mn.element;L.has(En)&&(Qi.set(En,En),this._beforeAnimationBuild(Mn.player.namespaceId,Mn.instruction,Yr))}),ae.forEach(Mn=>{const En=Mn.element;this._getPreviousPlayers(En,!1,Mn.namespaceId,Mn.triggerName,null).forEach(ci=>{St(Yr,En,[]).push(ci),ci.destroy()})});const Ao=Pi.filter(Mn=>qi(Mn,Mt,zt)),ro=new Map;Je(ro,this.driver,ir,zt,g.l3).forEach(Mn=>{qi(Mn,Mt,zt)&&Ao.push(Mn)});const xo=new Map;li.forEach((Mn,En)=>{Je(xo,this.driver,new Set(Mn),Mt,g.k1)}),Ao.forEach(Mn=>{const En=ro.get(Mn),Wn=xo.get(Mn);ro.set(Mn,Object.assign(Object.assign({},En),Wn))});const qr=[],so=[],hs={};nt.forEach(Mn=>{const{element:En,player:Wn,instruction:ci}=Mn;if(L.has(En)){if(Dn.has(En))return Wn.onDestroy(()=>Qn(En,ci.toStyles)),Wn.disabled=!0,Wn.overrideTotalTime(ci.totalTime),void ae.push(Wn);let Ui=hs;if(Qi.size>1){let rr=En;const os=[];for(;rr=rr.parentNode;){const ki=Qi.get(rr);if(ki){Ui=ki;break}os.push(rr)}os.forEach(ki=>Qi.set(ki,Ui))}const Ts=this._buildAnimation(Wn.namespaceId,ci,Yr,Re,xo,ro);if(Wn.setRealPlayer(Ts),Ui===hs)qr.push(Wn);else{const rr=this.playersByElement.get(Ui);rr&&rr.length&&(Wn.parentPlayer=Dt(rr)),ae.push(Wn)}}else vn(En,ci.fromStyles),Wn.onDestroy(()=>Qn(En,ci.toStyles)),so.push(Wn),Dn.has(En)&&ae.push(Wn)}),so.forEach(Mn=>{const En=Re.get(Mn.element);if(En&&En.length){const Wn=Dt(En);Mn.setRealPlayer(Wn)}}),ae.forEach(Mn=>{Mn.parentPlayer?Mn.syncPlayerEvents(Mn.parentPlayer):Mn.destroy()});for(let Mn=0;Mn<Pi.length;Mn++){const En=Pi[Mn],Wn=En[Ri];if(In(En,jn),Wn&&Wn.hasAnimation)continue;let ci=[];if(st.size){let Ts=st.get(En);Ts&&Ts.length&&ci.push(...Ts);let rr=this.driver.query(En,qe,!0);for(let os=0;os<rr.length;os++){let ki=st.get(rr[os]);ki&&ki.length&&ci.push(...ki)}}const Ui=ci.filter(Ts=>!Ts.destroyed);Ui.length?Gn(this,En,Ui):this.processLeaveNode(En)}return Pi.length=0,qr.forEach(Mn=>{this.players.push(Mn),Mn.onDone(()=>{Mn.destroy();const En=this.players.indexOf(Mn);this.players.splice(En,1)}),Mn.play()}),qr}elementContainsData(v,C){let L=!1;const ae=C[Ri];return ae&&ae.setForRemoval&&(L=!0),this.playersByElement.has(C)&&(L=!0),this.playersByQueriedElement.has(C)&&(L=!0),this.statesByElement.has(C)&&(L=!0),this._fetchNamespace(v).elementContainsData(C)||L}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,C,L,ae,Re){let nt=[];if(C){const st=this.playersByQueriedElement.get(v);st&&(nt=st)}else{const st=this.playersByElement.get(v);if(st){const Mt=!Re||Re==ss;st.forEach(zt=>{zt.queued||!Mt&&zt.triggerName!=ae||nt.push(zt)})}}return(L||ae)&&(nt=nt.filter(st=>!(L&&L!=st.namespaceId||ae&&ae!=st.triggerName))),nt}_beforeAnimationBuild(v,C,L){const Re=C.element,nt=C.isRemovalTransition?void 0:v,st=C.isRemovalTransition?void 0:C.triggerName;for(const Mt of C.timelines){const zt=Mt.element,Dn=zt!==Re,On=St(L,zt,[]);this._getPreviousPlayers(zt,Dn,nt,st,C.toState).forEach(li=>{const kn=li.getRealPlayer();kn.beforeDestroy&&kn.beforeDestroy(),li.destroy(),On.push(li)})}vn(Re,C.fromStyles)}_buildAnimation(v,C,L,ae,Re,nt){const st=C.triggerName,Mt=C.element,zt=[],Dn=new Set,On=new Set,$n=C.timelines.map(kn=>{const Kn=kn.element;Dn.add(Kn);const Pi=Kn[Ri];if(Pi&&Pi.removedBeforeQueried)return new g.ZN(kn.duration,kn.delay);const tr=Kn!==Mt,ir=function pi(re){const v=[];return oi(re,v),v}((L.get(Kn)||Oi).map(Yr=>Yr.getRealPlayer())).filter(Yr=>!!Yr.element&&Yr.element===Kn),Ur=Re.get(Kn),Ci=nt.get(Kn),Or=Ct(0,this._normalizer,0,kn.keyframes,Ur,Ci),Vi=this._buildPlayer(kn,Or,ir);if(kn.subTimeline&&ae&&On.add(Kn),tr){const Yr=new us(v,st,Kn);Yr.setRealPlayer(Vi),zt.push(Yr)}return Vi});zt.forEach(kn=>{St(this.playersByQueriedElement,kn.element,[]).push(kn),kn.onDone(()=>function gi(re,v,C){let L;if(re instanceof Map){if(L=re.get(v),L){if(L.length){const ae=L.indexOf(C);L.splice(ae,1)}0==L.length&&re.delete(v)}}else if(L=re[v],L){if(L.length){const ae=L.indexOf(C);L.splice(ae,1)}0==L.length&&delete re[v]}return L}(this.playersByQueriedElement,kn.element,kn))}),Dn.forEach(kn=>$t(kn,Si));const li=Dt($n);return li.onDestroy(()=>{Dn.forEach(kn=>In(kn,Si)),Qn(Mt,C.toStyles)}),On.forEach(kn=>{St(ae,kn,[]).push(li)}),li}_buildPlayer(v,C,L){return C.length>0?this.driver.animate(v.element,C,v.duration,v.delay,v.easing,L):new g.ZN(v.duration,v.delay)}}class us{constructor(v,C,L){this.namespaceId=v,this.triggerName=C,this.element=L,this._player=new g.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,Object.keys(this._queuedCallbacks).forEach(C=>{this._queuedCallbacks[C].forEach(L=>vt(v,C,void 0,L))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const C=this._player;C.triggerCallback&&v.onStart(()=>C.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,C){St(this._queuedCallbacks,v,[]).push(C)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const C=this._player;C.triggerCallback&&C.triggerCallback(v)}}function de(re){return re&&1===re.nodeType}function ve(re,v){const C=re.style.display;return re.style.display=null!=v?v:"none",C}function Je(re,v,C,L,ae){const Re=[];C.forEach(Mt=>Re.push(ve(Mt)));const nt=[];L.forEach((Mt,zt)=>{const Dn={};Mt.forEach(On=>{const $n=Dn[On]=v.computeStyle(zt,On,ae);(!$n||0==$n.length)&&(zt[Ri]=wr,nt.push(zt))}),re.set(zt,Dn)});let st=0;return C.forEach(Mt=>ve(Mt,Re[st++])),nt}function Ft(re,v){const C=new Map;if(re.forEach(st=>C.set(st,[])),0==v.length)return C;const ae=new Set(v),Re=new Map;function nt(st){if(!st)return 1;let Mt=Re.get(st);if(Mt)return Mt;const zt=st.parentNode;return Mt=C.has(zt)?zt:ae.has(zt)?1:nt(zt),Re.set(st,Mt),Mt}return v.forEach(st=>{const Mt=nt(st);1!==Mt&&C.get(Mt).push(st)}),C}function $t(re,v){var C;null===(C=re.classList)||void 0===C||C.add(v)}function In(re,v){var C;null===(C=re.classList)||void 0===C||C.remove(v)}function Gn(re,v,C){Dt(C).onDone(()=>re.processLeaveNode(v))}function oi(re,v){for(let C=0;C<re.length;C++){const L=re[C];L instanceof g.ZE?oi(L.players,v):v.push(L)}}function qi(re,v,C){const L=C.get(re);if(!L)return!1;let ae=v.get(re);return ae?L.forEach(Re=>ae.add(Re)):v.set(re,L),C.delete(re),!0}class Ei{constructor(v,C,L){this.bodyNode=v,this._driver=C,this._normalizer=L,this._triggerCache={},this.onRemovalComplete=(ae,Re)=>{},this._transitionEngine=new Zr(v,C,L),this._timelineEngine=new Ls(v,C,L),this._transitionEngine.onRemovalComplete=(ae,Re)=>this.onRemovalComplete(ae,Re)}registerTrigger(v,C,L,ae,Re){const nt=v+"-"+ae;let st=this._triggerCache[nt];if(!st){const Mt=[],Dn=_s(this._driver,Re,Mt,[]);if(Mt.length)throw function Ue(re,v){return new h.vHH(3404,x)}();st=function zo(re,v,C){return new ar(re,v,C)}(ae,Dn,this._normalizer),this._triggerCache[nt]=st}this._transitionEngine.registerTrigger(C,ae,st)}register(v,C){this._transitionEngine.register(v,C)}destroy(v,C){this._transitionEngine.destroy(v,C)}onInsert(v,C,L,ae){this._transitionEngine.insertNode(v,C,L,ae)}onRemove(v,C,L,ae){this._transitionEngine.removeNode(v,C,ae||!1,L)}disableAnimations(v,C){this._transitionEngine.markElementAsDisabled(v,C)}process(v,C,L,ae){if("@"==L.charAt(0)){const[Re,nt]=rn(L);this._timelineEngine.command(Re,C,nt,ae)}else this._transitionEngine.trigger(v,C,L,ae)}listen(v,C,L,ae,Re){if("@"==L.charAt(0)){const[nt,st]=rn(L);return this._timelineEngine.listen(nt,C,st,Re)}return this._transitionEngine.listen(v,C,L,ae,Re)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let W=(()=>{class re{constructor(C,L,ae){this._element=C,this._startStyles=L,this._endStyles=ae,this._state=0;let Re=re.initialStylesByElement.get(C);Re||re.initialStylesByElement.set(C,Re={}),this._initialStyles=Re}start(){this._state<1&&(this._startStyles&&Qn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qn(this._element,this._initialStyles),this._endStyles&&(Qn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(re.initialStylesByElement.delete(this._element),this._startStyles&&(vn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vn(this._element,this._endStyles),this._endStyles=null),Qn(this._element,this._initialStyles),this._state=3)}}return re.initialStylesByElement=new WeakMap,re})();function B(re){let v=null;const C=Object.keys(re);for(let L=0;L<C.length;L++){const ae=C[L];S(ae)&&(v=v||{},v[ae]=re[ae])}return v}function S(re){return"display"===re||"position"===re}class me{constructor(v,C,L,ae){this.element=v,this.keyframes=C,this.options=L,this._specialStyles=ae,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=L.duration,this._delay=L.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(v,C,L){return v.animate(C,L)}onStart(v){this._onStartFns.push(v)}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v={};if(this.hasStarted()){const C=this._finalKeyframe;Object.keys(C).forEach(L=>{"offset"!=L&&(v[L]=this._finished?C[L]:dn(this.element,L))})}this.currentSnapshot=v}triggerCallback(v){const C="start"==v?this._onStartFns:this._onDoneFns;C.forEach(L=>L()),C.length=0}}class Lt{validateStyleProperty(v){return K(v)}matchesElement(v,C){return!1}containsElement(v,C){return Pe(v,C)}getParentElement(v){return gn(v)}query(v,C,L){return Xe(v,C,L)}computeStyle(v,C,L){return window.getComputedStyle(v)[C]}animate(v,C,L,ae,Re,nt=[]){const Mt={duration:L,delay:ae,fill:0==ae?"both":"forwards"};Re&&(Mt.easing=Re);const zt={},Dn=nt.filter($n=>$n instanceof me);(function at(re,v){return 0===re||0===v})(L,ae)&&Dn.forEach($n=>{let li=$n.currentSnapshot;Object.keys(li).forEach(kn=>zt[kn]=li[kn])}),C=function Nt(re,v,C){const L=Object.keys(C);if(L.length&&v.length){let Re=v[0],nt=[];if(L.forEach(st=>{Re.hasOwnProperty(st)||nt.push(st),Re[st]=C[st]}),nt.length)for(var ae=1;ae<v.length;ae++){let st=v[ae];nt.forEach(function(Mt){st[Mt]=dn(re,Mt)})}}return v}(v,C=C.map($n=>It($n,!1)),zt);const On=function Wi(re,v){let C=null,L=null;return Array.isArray(v)&&v.length?(C=B(v[0]),v.length>1&&(L=B(v[v.length-1]))):v&&(C=B(v)),C||L?new W(re,C,L):null}(v,C);return new me(v,C,Mt,On)}}var wn=y(9808);let vi=(()=>{class re extends g._j{constructor(C,L){super(),this._nextAnimationId=0,this._renderer=C.createRenderer(L.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(C){const L=this._nextAnimationId.toString();this._nextAnimationId++;const ae=Array.isArray(C)?(0,g.vP)(C):C;return ds(this._renderer,null,L,"register",[ae]),new Vr(L,this._renderer)}}return re.\u0275fac=function(C){return new(C||re)(h.LFG(h.FYo),h.LFG(wn.K0))},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})();class Vr extends g.LC{constructor(v,C){super(),this._id=v,this._renderer=C}create(v,C){return new go(this._id,v,C||{},this._renderer)}}class go{constructor(v,C,L,ae){this.id=v,this.element=C,this._renderer=ae,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",L)}_listen(v,C){return this._renderer.listen(this.element,`@@${this.id}:${v}`,C)}_command(v,...C){return ds(this._renderer,this.element,this.id,v,C)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){var v,C;return null!==(C=null===(v=this._renderer.engine.players[+this.id])||void 0===v?void 0:v.getPosition())&&void 0!==C?C:0}}function ds(re,v,C,L,ae){return re.setProperty(v,`@@${C}:${L}`,ae)}const _i="@.disabled";let Ko=(()=>{class re{constructor(C,L,ae){this.delegate=C,this.engine=L,this._zone=ae,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),L.onRemovalComplete=(Re,nt)=>{const st=null==nt?void 0:nt.parentNode(Re);st&&nt.removeChild(st,Re)}}createRenderer(C,L){const Re=this.delegate.createRenderer(C,L);if(!(C&&L&&L.data&&L.data.animation)){let Dn=this._rendererCache.get(Re);return Dn||(Dn=new nr("",Re,this.engine),this._rendererCache.set(Re,Dn)),Dn}const nt=L.id,st=L.id+"-"+this._currentId;this._currentId++,this.engine.register(st,C);const Mt=Dn=>{Array.isArray(Dn)?Dn.forEach(Mt):this.engine.registerTrigger(nt,st,C,Dn.name,Dn)};return L.data.animation.forEach(Mt),new Zo(this,st,Re,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(C,L,ae){C>=0&&C<this._microtaskId?this._zone.run(()=>L(ae)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Re=>{const[nt,st]=Re;nt(st)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([L,ae]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return re.\u0275fac=function(C){return new(C||re)(h.LFG(h.FYo),h.LFG(Ei),h.LFG(h.R0b))},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})();class nr{constructor(v,C,L){this.namespaceId=v,this.delegate=C,this.engine=L,this.destroyNode=this.delegate.destroyNode?ae=>C.destroyNode(ae):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,C){return this.delegate.createElement(v,C)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,C){this.delegate.appendChild(v,C),this.engine.onInsert(this.namespaceId,C,v,!1)}insertBefore(v,C,L,ae=!0){this.delegate.insertBefore(v,C,L),this.engine.onInsert(this.namespaceId,C,v,ae)}removeChild(v,C,L){this.engine.onRemove(this.namespaceId,C,this.delegate,L)}selectRootElement(v,C){return this.delegate.selectRootElement(v,C)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,C,L,ae){this.delegate.setAttribute(v,C,L,ae)}removeAttribute(v,C,L){this.delegate.removeAttribute(v,C,L)}addClass(v,C){this.delegate.addClass(v,C)}removeClass(v,C){this.delegate.removeClass(v,C)}setStyle(v,C,L,ae){this.delegate.setStyle(v,C,L,ae)}removeStyle(v,C,L){this.delegate.removeStyle(v,C,L)}setProperty(v,C,L){"@"==C.charAt(0)&&C==_i?this.disableAnimations(v,!!L):this.delegate.setProperty(v,C,L)}setValue(v,C){this.delegate.setValue(v,C)}listen(v,C,L){return this.delegate.listen(v,C,L)}disableAnimations(v,C){this.engine.disableAnimations(v,C)}}class Zo extends nr{constructor(v,C,L,ae){super(C,L,ae),this.factory=v,this.namespaceId=C}setProperty(v,C,L){"@"==C.charAt(0)?"."==C.charAt(1)&&C==_i?this.disableAnimations(v,L=void 0===L||!!L):this.engine.process(this.namespaceId,v,C.substr(1),L):this.delegate.setProperty(v,C,L)}listen(v,C,L){if("@"==C.charAt(0)){const ae=function _o(re){switch(re){case"body":return document.body;case"document":return document;case"window":return window;default:return re}}(v);let Re=C.substr(1),nt="";return"@"!=Re.charAt(0)&&([Re,nt]=function Is(re){const v=re.indexOf(".");return[re.substring(0,v),re.substr(v+1)]}(Re)),this.engine.listen(this.namespaceId,ae,Re,nt,st=>{this.factory.scheduleListenerCallback(st._data||-1,L,st)})}return this.delegate.listen(v,C,L)}}let So=(()=>{class re extends Ei{constructor(C,L,ae){super(C.body,L,ae)}ngOnDestroy(){this.flush()}}return re.\u0275fac=function(C){return new(C||re)(h.LFG(wn.K0),h.LFG(Zt),h.LFG(Ns))},re.\u0275prov=h.Yz7({token:re,factory:re.\u0275fac}),re})();const aa=new h.OlP("AnimationModuleType"),no=[{provide:g._j,useClass:vi},{provide:Ns,useFactory:function Ta(){return new po}},{provide:Ei,useClass:So},{provide:h.FYo,useFactory:function ul(re,v,C){return new Ko(re,v,C)},deps:[E.se,Ei,h.R0b]}],io=[{provide:Zt,useFactory:()=>new Lt},{provide:aa,useValue:"BrowserAnimations"},...no],pr=[{provide:Zt,useClass:kt},{provide:aa,useValue:"NoopAnimations"},...no];let Bs=(()=>{class re{static withConfig(C){return{ngModule:re,providers:C.disableAnimations?pr:io}}}return re.\u0275fac=function(C){return new(C||re)},re.\u0275mod=h.oAB({type:re}),re.\u0275inj=h.cJS({providers:io,imports:[E.b2]}),re})()},2313:(Gt,Ze,y)=>{y.d(Ze,{b2:()=>Rn,H7:()=>Cn,ok:()=>k,hm:()=>ke,t6:()=>fn,q6:()=>St,se:()=>Oe});var h=y(9808),E=y(5e3);class g extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class x extends g{static makeCurrent(){(0,h.HT)(new x)}onAndCancel(ct,Ve,ht){return ct.addEventListener(Ve,ht,!1),()=>{ct.removeEventListener(Ve,ht,!1)}}dispatchEvent(ct,Ve){ct.dispatchEvent(Ve)}remove(ct){ct.parentNode&&ct.parentNode.removeChild(ct)}createElement(ct,Ve){return(Ve=Ve||this.getDefaultDocument()).createElement(ct)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ct){return ct.nodeType===Node.ELEMENT_NODE}isShadowRoot(ct){return ct instanceof DocumentFragment}getGlobalEventTarget(ct,Ve){return"window"===Ve?window:"document"===Ve?ct:"body"===Ve?ct.body:null}getBaseHref(ct){const Ve=function be(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==Ve?null:function pe(_t){Me=Me||document.createElement("a"),Me.setAttribute("href",_t);const ct=Me.pathname;return"/"===ct.charAt(0)?ct:`/${ct}`}(Ve)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(ct){return(0,h.Mx)(document.cookie,ct)}}let Me,we=null;const ie=new E.OlP("TRANSITION_ID"),fe=[{provide:E.ip1,useFactory:function q(_t,ct,Ve){return()=>{Ve.get(E.CZH).donePromise.then(()=>{const ht=(0,h.q)(),Vt=ct.querySelectorAll(`style[ng-transition="${_t}"]`);for(let wt=0;wt<Vt.length;wt++)ht.remove(Vt[wt])})}},deps:[ie,h.K0,E.zs3],multi:!0}];class le{static init(){(0,E.VLi)(new le)}addToWindow(ct){E.dqk.getAngularTestability=(ht,Vt=!0)=>{const wt=ct.findTestabilityInTree(ht,Vt);if(null==wt)throw new Error("Could not find testability for element.");return wt},E.dqk.getAllAngularTestabilities=()=>ct.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>ct.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(ht=>{const Vt=E.dqk.getAllAngularTestabilities();let wt=Vt.length,Be=!1;const Ie=function(at){Be=Be||at,wt--,0==wt&&ht(Be)};Vt.forEach(function(at){at.whenStable(Ie)})})}findTestabilityInTree(ct,Ve,ht){if(null==Ve)return null;const Vt=ct.getTestability(Ve);return null!=Vt?Vt:ht?(0,h.q)().isShadowRoot(Ve)?this.findTestabilityInTree(ct,Ve.host,!0):this.findTestabilityInTree(ct,Ve.parentElement,!0):null}}let He=(()=>{class _t{build(){return new XMLHttpRequest}}return _t.\u0275fac=function(Ve){return new(Ve||_t)},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const Se=new E.OlP("EventManagerPlugins");let $e=(()=>{class _t{constructor(Ve,ht){this._zone=ht,this._eventNameToPlugin=new Map,Ve.forEach(Vt=>Vt.manager=this),this._plugins=Ve.slice().reverse()}addEventListener(Ve,ht,Vt){return this._findPluginFor(ht).addEventListener(Ve,ht,Vt)}addGlobalEventListener(Ve,ht,Vt){return this._findPluginFor(ht).addGlobalEventListener(Ve,ht,Vt)}getZone(){return this._zone}_findPluginFor(Ve){const ht=this._eventNameToPlugin.get(Ve);if(ht)return ht;const Vt=this._plugins;for(let wt=0;wt<Vt.length;wt++){const Be=Vt[wt];if(Be.supports(Ve))return this._eventNameToPlugin.set(Ve,Be),Be}throw new Error(`No event manager plugin found for event ${Ve}`)}}return _t.\u0275fac=function(Ve){return new(Ve||_t)(E.LFG(Se),E.LFG(E.R0b))},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac}),_t})();class it{constructor(ct){this._doc=ct}addGlobalEventListener(ct,Ve,ht){const Vt=(0,h.q)().getGlobalEventTarget(this._doc,ct);if(!Vt)throw new Error(`Unsupported event target ${Vt} for event ${Ve}`);return this.addEventListener(Vt,Ve,ht)}}let Le=(()=>{class _t{constructor(){this._stylesSet=new Set}addStyles(Ve){const ht=new Set;Ve.forEach(Vt=>{this._stylesSet.has(Vt)||(this._stylesSet.add(Vt),ht.add(Vt))}),this.onStylesAdded(ht)}onStylesAdded(Ve){}getAllStyles(){return Array.from(this._stylesSet)}}return _t.\u0275fac=function(Ve){return new(Ve||_t)},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),rt=(()=>{class _t extends Le{constructor(Ve){super(),this._doc=Ve,this._hostNodes=new Map,this._hostNodes.set(Ve.head,[])}_addStylesToHost(Ve,ht,Vt){Ve.forEach(wt=>{const Be=this._doc.createElement("style");Be.textContent=wt,Vt.push(ht.appendChild(Be))})}addHost(Ve){const ht=[];this._addStylesToHost(this._stylesSet,Ve,ht),this._hostNodes.set(Ve,ht)}removeHost(Ve){const ht=this._hostNodes.get(Ve);ht&&ht.forEach(Ne),this._hostNodes.delete(Ve)}onStylesAdded(Ve){this._hostNodes.forEach((ht,Vt)=>{this._addStylesToHost(Ve,Vt,ht)})}ngOnDestroy(){this._hostNodes.forEach(Ve=>Ve.forEach(Ne))}}return _t.\u0275fac=function(Ve){return new(Ve||_t)(E.LFG(h.K0))},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac}),_t})();function Ne(_t){(0,h.q)().remove(_t)}const Ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},et=/%COMP%/g;function ce(_t,ct,Ve){for(let ht=0;ht<ct.length;ht++){let Vt=ct[ht];Array.isArray(Vt)?ce(_t,Vt,Ve):(Vt=Vt.replace(et,_t),Ve.push(Vt))}return Ve}function Ue(_t){return ct=>{if("__ngUnwrap__"===ct)return _t;!1===_t(ct)&&(ct.preventDefault(),ct.returnValue=!1)}}let Oe=(()=>{class _t{constructor(Ve,ht,Vt){this.eventManager=Ve,this.sharedStylesHost=ht,this.appId=Vt,this.rendererByCompId=new Map,this.defaultRenderer=new ze(Ve)}createRenderer(Ve,ht){if(!Ve||!ht)return this.defaultRenderer;switch(ht.encapsulation){case E.ifc.Emulated:{let Vt=this.rendererByCompId.get(ht.id);return Vt||(Vt=new gt(this.eventManager,this.sharedStylesHost,ht,this.appId),this.rendererByCompId.set(ht.id,Vt)),Vt.applyToHost(Ve),Vt}case 1:case E.ifc.ShadowDom:return new Ae(this.eventManager,this.sharedStylesHost,Ve,ht);default:if(!this.rendererByCompId.has(ht.id)){const Vt=ce(ht.id,ht.styles,[]);this.sharedStylesHost.addStyles(Vt),this.rendererByCompId.set(ht.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return _t.\u0275fac=function(Ve){return new(Ve||_t)(E.LFG($e),E.LFG(rt),E.LFG(E.AFp))},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac}),_t})();class ze{constructor(ct){this.eventManager=ct,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ct,Ve){return Ve?document.createElementNS(Ot[Ve]||Ve,ct):document.createElement(ct)}createComment(ct){return document.createComment(ct)}createText(ct){return document.createTextNode(ct)}appendChild(ct,Ve){ct.appendChild(Ve)}insertBefore(ct,Ve,ht){ct&&ct.insertBefore(Ve,ht)}removeChild(ct,Ve){ct&&ct.removeChild(Ve)}selectRootElement(ct,Ve){let ht="string"==typeof ct?document.querySelector(ct):ct;if(!ht)throw new Error(`The selector "${ct}" did not match any elements`);return Ve||(ht.textContent=""),ht}parentNode(ct){return ct.parentNode}nextSibling(ct){return ct.nextSibling}setAttribute(ct,Ve,ht,Vt){if(Vt){Ve=Vt+":"+Ve;const wt=Ot[Vt];wt?ct.setAttributeNS(wt,Ve,ht):ct.setAttribute(Ve,ht)}else ct.setAttribute(Ve,ht)}removeAttribute(ct,Ve,ht){if(ht){const Vt=Ot[ht];Vt?ct.removeAttributeNS(Vt,Ve):ct.removeAttribute(`${ht}:${Ve}`)}else ct.removeAttribute(Ve)}addClass(ct,Ve){ct.classList.add(Ve)}removeClass(ct,Ve){ct.classList.remove(Ve)}setStyle(ct,Ve,ht,Vt){Vt&(E.JOm.DashCase|E.JOm.Important)?ct.style.setProperty(Ve,ht,Vt&E.JOm.Important?"important":""):ct.style[Ve]=ht}removeStyle(ct,Ve,ht){ht&E.JOm.DashCase?ct.style.removeProperty(Ve):ct.style[Ve]=""}setProperty(ct,Ve,ht){ct[Ve]=ht}setValue(ct,Ve){ct.nodeValue=Ve}listen(ct,Ve,ht){return"string"==typeof ct?this.eventManager.addGlobalEventListener(ct,Ve,Ue(ht)):this.eventManager.addEventListener(ct,Ve,Ue(ht))}}class gt extends ze{constructor(ct,Ve,ht,Vt){super(ct),this.component=ht;const wt=ce(Vt+"-"+ht.id,ht.styles,[]);Ve.addStyles(wt),this.contentAttr=function ne(_t){return"_ngcontent-%COMP%".replace(et,_t)}(Vt+"-"+ht.id),this.hostAttr=function Ye(_t){return"_nghost-%COMP%".replace(et,_t)}(Vt+"-"+ht.id)}applyToHost(ct){super.setAttribute(ct,this.hostAttr,"")}createElement(ct,Ve){const ht=super.createElement(ct,Ve);return super.setAttribute(ht,this.contentAttr,""),ht}}class Ae extends ze{constructor(ct,Ve,ht,Vt){super(ct),this.sharedStylesHost=Ve,this.hostEl=ht,this.shadowRoot=ht.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const wt=ce(Vt.id,Vt.styles,[]);for(let Be=0;Be<wt.length;Be++){const Ie=document.createElement("style");Ie.textContent=wt[Be],this.shadowRoot.appendChild(Ie)}}nodeOrShadowRoot(ct){return ct===this.hostEl?this.shadowRoot:ct}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ct,Ve){return super.appendChild(this.nodeOrShadowRoot(ct),Ve)}insertBefore(ct,Ve,ht){return super.insertBefore(this.nodeOrShadowRoot(ct),Ve,ht)}removeChild(ct,Ve){return super.removeChild(this.nodeOrShadowRoot(ct),Ve)}parentNode(ct){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ct)))}}let Qe=(()=>{class _t extends it{constructor(Ve){super(Ve)}supports(Ve){return!0}addEventListener(Ve,ht,Vt){return Ve.addEventListener(ht,Vt,!1),()=>this.removeEventListener(Ve,ht,Vt)}removeEventListener(Ve,ht,Vt){return Ve.removeEventListener(ht,Vt)}}return _t.\u0275fac=function(Ve){return new(Ve||_t)(E.LFG(h.K0))},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const ee=["alt","control","meta","shift"],O={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},se={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:_t=>_t.altKey,control:_t=>_t.ctrlKey,meta:_t=>_t.metaKey,shift:_t=>_t.shiftKey};let ot=(()=>{class _t extends it{constructor(Ve){super(Ve)}supports(Ve){return null!=_t.parseEventName(Ve)}addEventListener(Ve,ht,Vt){const wt=_t.parseEventName(ht),Be=_t.eventCallback(wt.fullKey,Vt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(Ve,wt.domEventName,Be))}static parseEventName(Ve){const ht=Ve.toLowerCase().split("."),Vt=ht.shift();if(0===ht.length||"keydown"!==Vt&&"keyup"!==Vt)return null;const wt=_t._normalizeKey(ht.pop());let Be="";if(ee.forEach(at=>{const Nt=ht.indexOf(at);Nt>-1&&(ht.splice(Nt,1),Be+=at+".")}),Be+=wt,0!=ht.length||0===wt.length)return null;const Ie={};return Ie.domEventName=Vt,Ie.fullKey=Be,Ie}static getEventFullKey(Ve){let ht="",Vt=function Dt(_t){let ct=_t.key;if(null==ct){if(ct=_t.keyIdentifier,null==ct)return"Unidentified";ct.startsWith("U+")&&(ct=String.fromCharCode(parseInt(ct.substring(2),16)),3===_t.location&&se.hasOwnProperty(ct)&&(ct=se[ct]))}return O[ct]||ct}(Ve);return Vt=Vt.toLowerCase()," "===Vt?Vt="space":"."===Vt&&(Vt="dot"),ee.forEach(wt=>{wt!=Vt&&ft[wt](Ve)&&(ht+=wt+".")}),ht+=Vt,ht}static eventCallback(Ve,ht,Vt){return wt=>{_t.getEventFullKey(wt)===Ve&&Vt.runGuarded(()=>ht(wt))}}static _normalizeKey(Ve){return"esc"===Ve?"escape":Ve}}return _t.\u0275fac=function(Ve){return new(Ve||_t)(E.LFG(h.K0))},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const St=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:h.bD},{provide:E.g9A,useValue:function Ct(){x.makeCurrent(),le.init()},multi:!0},{provide:h.K0,useFactory:function Bt(){return(0,E.RDi)(document),document},deps:[]}]),rn=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function vt(){return new E.qLn},deps:[]},{provide:Se,useClass:Qe,multi:!0,deps:[h.K0,E.R0b,E.Lbi]},{provide:Se,useClass:ot,multi:!0,deps:[h.K0]},{provide:Oe,useClass:Oe,deps:[$e,rt,E.AFp]},{provide:E.FYo,useExisting:Oe},{provide:Le,useExisting:rt},{provide:rt,useClass:rt,deps:[h.K0]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b]},{provide:$e,useClass:$e,deps:[Se,E.R0b]},{provide:h.JF,useClass:He,deps:[]}];let Rn=(()=>{class _t{constructor(Ve){if(Ve)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Ve){return{ngModule:_t,providers:[{provide:E.AFp,useValue:Ve.appId},{provide:ie,useExisting:E.AFp},fe]}}}return _t.\u0275fac=function(Ve){return new(Ve||_t)(E.LFG(_t,12))},_t.\u0275mod=E.oAB({type:_t}),_t.\u0275inj=E.cJS({providers:rn,imports:[h.ez,E.hGG]}),_t})();"undefined"!=typeof window&&window;const N={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},k=new E.OlP("HammerGestureConfig"),ye=new E.OlP("HammerLoader");let ke=(()=>{class _t{constructor(){this.events=[],this.overrides={}}buildHammer(Ve){const ht=new Hammer(Ve,this.options);ht.get("pinch").set({enable:!0}),ht.get("rotate").set({enable:!0});for(const Vt in this.overrides)ht.get(Vt).set(this.overrides[Vt]);return ht}}return _t.\u0275fac=function(Ve){return new(Ve||_t)},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),It=(()=>{class _t extends it{constructor(Ve,ht,Vt,wt){super(Ve),this._config=ht,this.console=Vt,this.loader=wt,this._loaderPromise=null}supports(Ve){return!(!N.hasOwnProperty(Ve.toLowerCase())&&!this.isCustomEvent(Ve)||!window.Hammer&&!this.loader)}addEventListener(Ve,ht,Vt){const wt=this.manager.getZone();if(ht=ht.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||this.loader();let Be=!1,Ie=()=>{Be=!0};return this._loaderPromise.then(()=>{window.Hammer?Be||(Ie=this.addEventListener(Ve,ht,Vt)):Ie=()=>{}}).catch(()=>{Ie=()=>{}}),()=>{Ie()}}return wt.runOutsideAngular(()=>{const Be=this._config.buildHammer(Ve),Ie=function(at){wt.runGuarded(function(){Vt(at)})};return Be.on(ht,Ie),()=>{Be.off(ht,Ie),"function"==typeof Be.destroy&&Be.destroy()}})}isCustomEvent(Ve){return this._config.events.indexOf(Ve)>-1}}return _t.\u0275fac=function(Ve){return new(Ve||_t)(E.LFG(h.K0),E.LFG(k),E.LFG(E.c2e),E.LFG(ye,8))},_t.\u0275prov=E.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),fn=(()=>{class _t{}return _t.\u0275fac=function(Ve){return new(Ve||_t)},_t.\u0275mod=E.oAB({type:_t}),_t.\u0275inj=E.cJS({providers:[{provide:Se,useClass:It,multi:!0,deps:[h.K0,k,E.c2e,[new E.FiY,ye]]},{provide:k,useClass:ke,deps:[]}]}),_t})(),Cn=(()=>{class _t{}return _t.\u0275fac=function(Ve){return new(Ve||_t)},_t.\u0275prov=E.Yz7({token:_t,factory:function(Ve){let ht=null;return ht=Ve?new(Ve||_t):E.LFG(vn),ht},providedIn:"root"}),_t})(),vn=(()=>{class _t extends Cn{constructor(Ve){super(),this._doc=Ve}sanitize(Ve,ht){if(null==ht)return null;switch(Ve){case E.q3G.NONE:return ht;case E.q3G.HTML:return(0,E.qzn)(ht,"HTML")?(0,E.z3N)(ht):(0,E.EiD)(this._doc,String(ht)).toString();case E.q3G.STYLE:return(0,E.qzn)(ht,"Style")?(0,E.z3N)(ht):ht;case E.q3G.SCRIPT:if((0,E.qzn)(ht,"Script"))return(0,E.z3N)(ht);throw new Error("unsafe value used in a script context");case E.q3G.URL:return(0,E.yhl)(ht),(0,E.qzn)(ht,"URL")?(0,E.z3N)(ht):(0,E.mCW)(String(ht));case E.q3G.RESOURCE_URL:if((0,E.qzn)(ht,"ResourceURL"))return(0,E.z3N)(ht);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ve} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ve){return(0,E.JVY)(Ve)}bypassSecurityTrustStyle(Ve){return(0,E.L6k)(Ve)}bypassSecurityTrustScript(Ve){return(0,E.eBb)(Ve)}bypassSecurityTrustUrl(Ve){return(0,E.LAX)(Ve)}bypassSecurityTrustResourceUrl(Ve){return(0,E.pB0)(Ve)}}return _t.\u0275fac=function(Ve){return new(Ve||_t)(E.LFG(h.K0))},_t.\u0275prov=E.Yz7({token:_t,factory:function(Ve){let ht=null;return ht=Ve?new Ve:function Qn(_t){return new vn(_t.get(h.K0))}(E.LFG(E.zs3)),ht},providedIn:"root"}),_t})()},1402:(Gt,Ze,y)=>{y.d(Ze,{gz:()=>ur,y6:()=>ls,F0:()=>Qi,rH:()=>Vs,Bz:()=>fs,lC:()=>Cr});var h=y(5e3),E=y(8306),g=y(727),x=y(4482),we=y(5403);function be(){return(0,x.e)((A,I)=>{let w=null;A._refCount++;const $=(0,we.x)(I,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(w=null);const Q=A._connection,te=w;w=null,Q&&(!te||Q===te)&&Q.unsubscribe(),I.unsubscribe()});A.subscribe($),$.closed||(w=A.connect())})}class Me extends E.y{constructor(I,w){super(),this.source=I,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,x.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new g.w0;const w=this.getSubject();I.add(this.source.subscribe((0,we.x)(w,void 0,()=>{this._teardown(),w.complete()},$=>{this._teardown(),w.error($)},()=>this._teardown()))),I.closed&&(this._connection=null,I=g.w0.EMPTY)}return I}refCount(){return be()(this)}}var pe=y(8996),ie=y(9646),q=y(1135),fe=y(9841),le=y(2843),He=y(6805),Se=y(7272),$e=y(9770),it=y(515),Le=y(7579),rt=y(9300);function Ne(A){return A<=0?()=>it.E:(0,x.e)((I,w)=>{let $=[];I.subscribe((0,we.x)(w,Q=>{$.push(Q),A<$.length&&$.shift()},()=>{for(const Q of $)w.next(Q);w.complete()},void 0,()=>{$=null}))})}var Ot=y(8068),et=y(6590),Ee=y(4671),xe=y(4004),De=y(3900),ne=y(5698),Ye=y(8675),ce=y(5026),Ue=y(262),oe=y(4351),Oe=y(590),ze=y(5577),yt=y(8505),mt=y(8746),gt=y(8189),Ae=y(9808);class Qe{constructor(I,w){this.id=I,this.url=w}}class ee extends Qe{constructor(I,w,$="imperative",Q=null){super(I,w),this.navigationTrigger=$,this.restoredState=Q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fe extends Qe{constructor(I,w,$){super(I,w),this.urlAfterRedirects=$}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class O extends Qe{constructor(I,w,$){super(I,w),this.reason=$}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class se extends Qe{constructor(I,w,$){super(I,w),this.error=$}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ft extends Qe{constructor(I,w,$,Q){super(I,w),this.urlAfterRedirects=$,this.state=Q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot extends Qe{constructor(I,w,$,Q){super(I,w),this.urlAfterRedirects=$,this.state=Q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dt extends Qe{constructor(I,w,$,Q,te){super(I,w),this.urlAfterRedirects=$,this.state=Q,this.shouldActivate=te}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ct extends Qe{constructor(I,w,$,Q){super(I,w),this.urlAfterRedirects=$,this.state=Q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vt extends Qe{constructor(I,w,$,Q){super(I,w),this.urlAfterRedirects=$,this.state=Q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bt{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class We{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class St{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rn{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hn{constructor(I,w,$){this.routerEvent=I,this.position=w,this.anchor=$}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gn="primary";class ln{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const w=this.params[I];return Array.isArray(w)?w[0]:w}return null}getAll(I){if(this.has(I)){const w=this.params[I];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function dt(A){return new ln(A)}const R="ngNavigationCancelingError";function z(A){const I=Error("NavigationCancelingError: "+A);return I[R]=!0,I}function Z(A,I,w){const $=w.path.split("/");if($.length>A.length||"full"===w.pathMatch&&(I.hasChildren()||$.length<A.length))return null;const Q={};for(let te=0;te<$.length;te++){const je=$[te],lt=A[te];if(je.startsWith(":"))Q[je.substring(1)]=lt;else if(je!==lt.path)return null}return{consumed:A.slice(0,$.length),posParams:Q}}function Xe(A,I){const w=A?Object.keys(A):void 0,$=I?Object.keys(I):void 0;if(!w||!$||w.length!=$.length)return!1;let Q;for(let te=0;te<w.length;te++)if(Q=w[te],!Et(A[Q],I[Q]))return!1;return!0}function Et(A,I){if(Array.isArray(A)&&Array.isArray(I)){if(A.length!==I.length)return!1;const w=[...A].sort(),$=[...I].sort();return w.every((Q,te)=>$[te]===Q)}return A===I}function kt(A){return Array.prototype.concat.apply([],A)}function Zt(A){return A.length>0?A[A.length-1]:null}function sn(A,I){for(const w in A)A.hasOwnProperty(w)&&I(A[w],w)}function mn(A){return(0,h.CqO)(A)?A:(0,h.QGY)(A)?(0,pe.D)(Promise.resolve(A)):(0,ie.of)(A)}const jn={exact:function qe(A,I,w){if(!Cn(A.segments,I.segments)||!k(A.segments,I.segments,w)||A.numberOfChildren!==I.numberOfChildren)return!1;for(const $ in I.children)if(!A.children[$]||!qe(A.children[$],I.children[$],w))return!1;return!0},subset:j},ti={exact:function Si(A,I){return Xe(A,I)},subset:function ge(A,I){return Object.keys(I).length<=Object.keys(A).length&&Object.keys(I).every(w=>Et(A[w],I[w]))},ignored:()=>!0};function on(A,I,w){return jn[w.paths](A.root,I.root,w.matrixParams)&&ti[w.queryParams](A.queryParams,I.queryParams)&&!("exact"===w.fragment&&A.fragment!==I.fragment)}function j(A,I,w){return N(A,I,I.segments,w)}function N(A,I,w,$){if(A.segments.length>w.length){const Q=A.segments.slice(0,w.length);return!(!Cn(Q,w)||I.hasChildren()||!k(Q,w,$))}if(A.segments.length===w.length){if(!Cn(A.segments,w)||!k(A.segments,w,$))return!1;for(const Q in I.children)if(!A.children[Q]||!j(A.children[Q],I.children[Q],$))return!1;return!0}{const Q=w.slice(0,A.segments.length),te=w.slice(A.segments.length);return!!(Cn(A.segments,Q)&&k(A.segments,Q,$)&&A.children[gn])&&N(A.children[gn],I,te,$)}}function k(A,I,w){return I.every(($,Q)=>ti[w](A[Q].parameters,$.parameters))}class ye{constructor(I,w,$){this.root=I,this.queryParams=w,this.fragment=$}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dt(this.queryParams)),this._queryParamMap}toString(){return _t.serialize(this)}}class ke{constructor(I,w){this.segments=I,this.children=w,this.parent=null,sn(w,($,Q)=>$.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ct(this)}}class It{constructor(I,w){this.path=I,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=dt(this.parameters)),this._parameterMap}toString(){return Nt(this)}}function Cn(A,I){return A.length===I.length&&A.every((w,$)=>w.path===I[$].path)}class vn{}class ai{parse(I){const w=new Ti(I);return new ye(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(I){const w=`/${Ve(I.root,!0)}`,$=function dn(A){const I=Object.keys(A).map(w=>{const $=A[w];return Array.isArray($)?$.map(Q=>`${Vt(w)}=${Vt(Q)}`).join("&"):`${Vt(w)}=${Vt($)}`}).filter(w=>!!w);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${w}${$}${"string"==typeof I.fragment?`#${function wt(A){return encodeURI(A)}(I.fragment)}`:""}`}}const _t=new ai;function ct(A){return A.segments.map(I=>Nt(I)).join("/")}function Ve(A,I){if(!A.hasChildren())return ct(A);if(I){const w=A.children[gn]?Ve(A.children[gn],!1):"",$=[];return sn(A.children,(Q,te)=>{te!==gn&&$.push(`${te}:${Ve(Q,!1)}`)}),$.length>0?`${w}(${$.join("//")})`:w}{const w=function Qn(A,I){let w=[];return sn(A.children,($,Q)=>{Q===gn&&(w=w.concat(I($,Q)))}),sn(A.children,($,Q)=>{Q!==gn&&(w=w.concat(I($,Q)))}),w}(A,($,Q)=>Q===gn?[Ve(A.children[gn],!1)]:[`${Q}:${Ve($,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[gn]?`${ct(A)}/${w[0]}`:`${ct(A)}/(${w.join("//")})`}}function ht(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vt(A){return ht(A).replace(/%3B/gi,";")}function Be(A){return ht(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ie(A){return decodeURIComponent(A)}function at(A){return Ie(A.replace(/\+/g,"%20"))}function Nt(A){return`${Be(A.path)}${function Kt(A){return Object.keys(A).map(I=>`;${Be(I)}=${Be(A[I])}`).join("")}(A.parameters)}`}const xn=/^[^\/()?;=#]+/;function Nn(A){const I=A.match(xn);return I?I[0]:""}const Un=/^[^=?&#]+/,Sn=/^[^&#]+/;class Ti{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let $={};return this.peekStartsWith("(")&&($=this.parseParens(!1)),(I.length>0||Object.keys(w).length>0)&&($[gn]=new ke(I,w)),$}parseSegment(){const I=Nn(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new It(Ie(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const w=Nn(this.remaining);if(!w)return;this.capture(w);let $="";if(this.consumeOptional("=")){const Q=Nn(this.remaining);Q&&($=Q,this.capture($))}I[Ie(w)]=Ie($)}parseQueryParam(I){const w=function Xt(A){const I=A.match(Un);return I?I[0]:""}(this.remaining);if(!w)return;this.capture(w);let $="";if(this.consumeOptional("=")){const je=function si(A){const I=A.match(Sn);return I?I[0]:""}(this.remaining);je&&($=je,this.capture($))}const Q=at(w),te=at($);if(I.hasOwnProperty(Q)){let je=I[Q];Array.isArray(je)||(je=[je],I[Q]=je),je.push(te)}else I[Q]=te}parseParens(I){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const $=Nn(this.remaining),Q=this.remaining[$.length];if("/"!==Q&&")"!==Q&&";"!==Q)throw new Error(`Cannot parse url '${this.url}'`);let te;$.indexOf(":")>-1?(te=$.substr(0,$.indexOf(":")),this.capture(te),this.capture(":")):I&&(te=gn);const je=this.parseChildren();w[te]=1===Object.keys(je).length?je[gn]:new ke([],je),this.consumeOptional("//")}return w}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Gi{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const w=this.pathFromRoot(I);return w.length>1?w[w.length-2]:null}children(I){const w=Ai(I,this._root);return w?w.children.map($=>$.value):[]}firstChild(I){const w=Ai(I,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(I){const w=Er(I,this._root);return w.length<2?[]:w[w.length-2].children.map(Q=>Q.value).filter(Q=>Q!==I)}pathFromRoot(I){return Er(I,this._root).map(w=>w.value)}}function Ai(A,I){if(A===I.value)return I;for(const w of I.children){const $=Ai(A,w);if($)return $}return null}function Er(A,I){if(A===I.value)return[I];for(const w of I.children){const $=Er(A,w);if($.length)return $.unshift(I),$}return[]}class mi{constructor(I,w){this.value=I,this.children=w}toString(){return`TreeNode(${this.value})`}}function $i(A){const I={};return A&&A.children.forEach(w=>I[w.value.outlet]=w),I}class Di extends Gi{constructor(I,w){super(I),this.snapshot=w,Fr(this,I)}toString(){return this.snapshot.toString()}}function Hn(A,I){const w=function kr(A,I){const je=new Li([],{},{},"",{},gn,I,null,A.root,-1,{});return new Nr("",new mi(je,[]))}(A,I),$=new q.X([new It("",{})]),Q=new q.X({}),te=new q.X({}),je=new q.X({}),lt=new q.X(""),jt=new ur($,Q,je,lt,te,gn,I,w.root);return jt.snapshot=w.root,new Di(new mi(jt,[]),w)}class ur{constructor(I,w,$,Q,te,je,lt,jt){this.url=I,this.params=w,this.queryParams=$,this.fragment=Q,this.data=te,this.outlet=je,this.component=lt,this._futureSnapshot=jt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xe.U)(I=>dt(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xe.U)(I=>dt(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _s(A,I="emptyOnly"){const w=A.pathFromRoot;let $=0;if("always"!==I)for($=w.length-1;$>=1;){const Q=w[$],te=w[$-1];if(Q.routeConfig&&""===Q.routeConfig.path)$--;else{if(te.component)break;$--}}return function mr(A){return A.reduce((I,w)=>({params:Object.assign(Object.assign({},I.params),w.params),data:Object.assign(Object.assign({},I.data),w.data),resolve:Object.assign(Object.assign({},I.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice($))}class Li{constructor(I,w,$,Q,te,je,lt,jt,Ht,cn,Fn){this.url=I,this.params=w,this.queryParams=$,this.fragment=Q,this.data=te,this.outlet=je,this.component=lt,this.routeConfig=jt,this._urlSegment=Ht,this._lastPathIndex=cn,this._resolve=Fn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map($=>$.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nr extends Gi{constructor(I,w){super(w),this.url=I,Fr(this,w)}toString(){return dr(this._root)}}function Fr(A,I){I.value._routerState=A,I.children.forEach(w=>Fr(A,w))}function dr(A){const I=A.children.length>0?` { ${A.children.map(dr).join(", ")} } `:"";return`${A.value}${I}`}function di(A){if(A.snapshot){const I=A.snapshot,w=A._futureSnapshot;A.snapshot=w,Xe(I.queryParams,w.queryParams)||A.queryParams.next(w.queryParams),I.fragment!==w.fragment&&A.fragment.next(w.fragment),Xe(I.params,w.params)||A.params.next(w.params),function Pe(A,I){if(A.length!==I.length)return!1;for(let w=0;w<A.length;++w)if(!Xe(A[w],I[w]))return!1;return!0}(I.url,w.url)||A.url.next(w.url),Xe(I.data,w.data)||A.data.next(w.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Lr(A,I){const w=Xe(A.params,I.params)&&function fn(A,I){return Cn(A,I)&&A.every((w,$)=>Xe(w.parameters,I[$].parameters))}(A.url,I.url);return w&&!(!A.parent!=!I.parent)&&(!A.parent||Lr(A.parent,I.parent))}function Bi(A,I,w){if(w&&A.shouldReuseRoute(I.value,w.value.snapshot)){const $=w.value;$._futureSnapshot=I.value;const Q=function yr(A,I,w){return I.children.map($=>{for(const Q of w.children)if(A.shouldReuseRoute($.value,Q.value.snapshot))return Bi(A,$,Q);return Bi(A,$)})}(A,I,w);return new mi($,Q)}{if(A.shouldAttach(I.value)){const te=A.retrieve(I.value);if(null!==te){const je=te.route;return je.value._futureSnapshot=I.value,je.children=I.children.map(lt=>Bi(A,lt)),je}}const $=function vs(A){return new ur(new q.X(A.url),new q.X(A.params),new q.X(A.queryParams),new q.X(A.fragment),new q.X(A.data),A.outlet,A.component,A)}(I.value),Q=I.children.map(te=>Bi(A,te));return new mi($,Q)}}function or(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Ir(A){return"object"==typeof A&&null!=A&&A.outlets}function Zs(A,I,w,$,Q){let te={};if($&&sn($,(lt,jt)=>{te[jt]=Array.isArray(lt)?lt.map(Ht=>`${Ht}`):`${lt}`}),A===I)return new ye(w,te,Q);const je=bs(A,I,w);return new ye(je,te,Q)}function bs(A,I,w){const $={};return sn(A.children,(Q,te)=>{$[te]=Q===I?w:bs(Q,I,w)}),new ke(A.segments,$)}class Io{constructor(I,w,$){if(this.isAbsolute=I,this.numberOfDoubleDots=w,this.commands=$,I&&$.length>0&&or($[0]))throw new Error("Root segment cannot have matrix parameters");const Q=$.find(Ir);if(Q&&Q!==Zt($))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zr{constructor(I,w,$){this.segmentGroup=I,this.processChildren=w,this.index=$}}function to(A,I,w){if(A||(A=new ke([],{})),0===A.segments.length&&A.hasChildren())return ts(A,I,w);const $=function ks(A,I,w){let $=0,Q=I;const te={match:!1,pathIndex:0,commandIndex:0};for(;Q<A.segments.length;){if($>=w.length)return te;const je=A.segments[Q],lt=w[$];if(Ir(lt))break;const jt=`${lt}`,Ht=$<w.length-1?w[$+1]:null;if(Q>0&&void 0===jt)break;if(jt&&Ht&&"object"==typeof Ht&&void 0===Ht.outlets){if(!po(jt,Ht,je))return te;$+=2}else{if(!po(jt,{},je))return te;$++}Q++}return{match:!0,pathIndex:Q,commandIndex:$}}(A,I,w),Q=w.slice($.commandIndex);if($.match&&$.pathIndex<A.segments.length){const te=new ke(A.segments.slice(0,$.pathIndex),{});return te.children[gn]=new ke(A.segments.slice($.pathIndex),A.children),ts(te,0,Q)}return $.match&&0===Q.length?new ke(A.segments,{}):$.match&&!A.hasChildren()?ns(A,I,w):$.match?ts(A,0,Q):ns(A,I,w)}function ts(A,I,w){if(0===w.length)return new ke(A.segments,{});{const $=function xi(A){return Ir(A[0])?A[0].outlets:{[gn]:A}}(w),Q={};return sn($,(te,je)=>{"string"==typeof te&&(te=[te]),null!==te&&(Q[je]=to(A.children[je],I,te))}),sn(A.children,(te,je)=>{void 0===$[je]&&(Q[je]=te)}),new ke(A.segments,Q)}}function ns(A,I,w){const $=A.segments.slice(0,I);let Q=0;for(;Q<w.length;){const te=w[Q];if(Ir(te)){const jt=Ns(te.outlets);return new ke($,jt)}if(0===Q&&or(w[0])){$.push(new It(A.segments[I].path,Mo(w[0]))),Q++;continue}const je=Ir(te)?te.outlets[gn]:`${te}`,lt=Q<w.length-1?w[Q+1]:null;je&&lt&&or(lt)?($.push(new It(je,Mo(lt))),Q+=2):($.push(new It(je,{})),Q++)}return new ke($,{})}function Ns(A){const I={};return sn(A,(w,$)=>{"string"==typeof w&&(w=[w]),null!==w&&(I[$]=ns(new ke([],{}),0,w))}),I}function Mo(A){const I={};return sn(A,(w,$)=>I[$]=`${w}`),I}function po(A,I,w){return A==w.path&&Xe(I,w.parameters)}class Ys{constructor(I,w,$,Q){this.routeReuseStrategy=I,this.futureState=w,this.currState=$,this.forwardEvent=Q}activate(I){const w=this.futureState._root,$=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,$,I),di(this.futureState.root),this.activateChildRoutes(w,$,I)}deactivateChildRoutes(I,w,$){const Q=$i(w);I.children.forEach(te=>{const je=te.value.outlet;this.deactivateRoutes(te,Q[je],$),delete Q[je]}),sn(Q,(te,je)=>{this.deactivateRouteAndItsChildren(te,$)})}deactivateRoutes(I,w,$){const Q=I.value,te=w?w.value:null;if(Q===te)if(Q.component){const je=$.getContext(Q.outlet);je&&this.deactivateChildRoutes(I,w,je.children)}else this.deactivateChildRoutes(I,w,$);else te&&this.deactivateRouteAndItsChildren(w,$)}deactivateRouteAndItsChildren(I,w){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,w):this.deactivateRouteAndOutlet(I,w)}detachAndStoreRouteSubtree(I,w){const $=w.getContext(I.value.outlet),Q=$&&I.value.component?$.children:w,te=$i(I);for(const je of Object.keys(te))this.deactivateRouteAndItsChildren(te[je],Q);if($&&$.outlet){const je=$.outlet.detach(),lt=$.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:je,route:I,contexts:lt})}}deactivateRouteAndOutlet(I,w){const $=w.getContext(I.value.outlet),Q=$&&I.value.component?$.children:w,te=$i(I);for(const je of Object.keys(te))this.deactivateRouteAndItsChildren(te[je],Q);$&&$.outlet&&($.outlet.deactivate(),$.children.onOutletDeactivated(),$.attachRef=null,$.resolver=null,$.route=null)}activateChildRoutes(I,w,$){const Q=$i(w);I.children.forEach(te=>{this.activateRoutes(te,Q[te.value.outlet],$),this.forwardEvent(new Bn(te.value.snapshot))}),I.children.length&&this.forwardEvent(new rn(I.value.snapshot))}activateRoutes(I,w,$){const Q=I.value,te=w?w.value:null;if(di(Q),Q===te)if(Q.component){const je=$.getOrCreateContext(Q.outlet);this.activateChildRoutes(I,w,je.children)}else this.activateChildRoutes(I,w,$);else if(Q.component){const je=$.getOrCreateContext(Q.outlet);if(this.routeReuseStrategy.shouldAttach(Q.snapshot)){const lt=this.routeReuseStrategy.retrieve(Q.snapshot);this.routeReuseStrategy.store(Q.snapshot,null),je.children.onOutletReAttached(lt.contexts),je.attachRef=lt.componentRef,je.route=lt.route.value,je.outlet&&je.outlet.attach(lt.componentRef,lt.route.value),di(lt.route.value),this.activateChildRoutes(I,null,je.children)}else{const lt=function is(A){for(let I=A.parent;I;I=I.parent){const w=I.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(Q.snapshot),jt=lt?lt.module.componentFactoryResolver:null;je.attachRef=null,je.route=Q,je.resolver=jt,je.outlet&&je.outlet.activateWith(Q,jt),this.activateChildRoutes(I,null,je.children)}}else this.activateChildRoutes(I,null,$)}}class Fs{constructor(I,w){this.routes=I,this.module=w}}function hr(A){return"function"==typeof A}function rs(A){return A instanceof ye}const Br=Symbol("INITIAL_VALUE");function Ls(){return(0,De.w)(A=>(0,fe.a)(A.map(I=>I.pipe((0,ne.q)(1),(0,Ye.O)(Br)))).pipe((0,ce.R)((I,w)=>{let $=!1;return w.reduce((Q,te,je)=>Q!==Br?Q:(te===Br&&($=!0),$||!1!==te&&je!==w.length-1&&!rs(te)?Q:te),I)},Br),(0,rt.h)(I=>I!==Br),(0,xe.U)(I=>rs(I)?I:!0===I),(0,ne.q)(1)))}class Wo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ls,this.attachRef=null}}class ls{constructor(){this.contexts=new Map}onChildOutletCreated(I,w){const $=this.getOrCreateContext(I);$.outlet=w,this.contexts.set(I,$)}onChildOutletDestroyed(I){const w=this.getContext(I);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let w=this.getContext(I);return w||(w=new Wo,this.contexts.set(I,w)),w}getContext(I){return this.contexts.get(I)||null}}let Cr=(()=>{class A{constructor(w,$,Q,te,je){this.parentContexts=w,this.location=$,this.resolver=Q,this.changeDetector=je,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=te||gn,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,$){this.activated=w,this._activatedRoute=$,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,$){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const je=($=$||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),lt=this.parentContexts.getOrCreateContext(this.name).children,jt=new Cs(w,lt,this.location.injector);this.activated=this.location.createComponent(je,this.location.length,jt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(w){return new(w||A)(h.Y36(ls),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},A.\u0275dir=h.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),A})();class Cs{constructor(I,w,$){this.route=I,this.childContexts=w,this.parent=$}get(I,w){return I===ur?this.route:I===ls?this.childContexts:this.parent.get(I,w)}}let fr=(()=>{class A{}return A.\u0275fac=function(w){return new(w||A)},A.\u0275cmp=h.Xpm({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,$){1&w&&h._UZ(0,"router-outlet")},directives:[Cr],encapsulation:2}),A})();function ws(A,I=""){for(let w=0;w<A.length;w++){const $=A[w];Oi($,Ds(I,$))}}function Oi(A,I){A.children&&ws(A.children,I)}function Ds(A,I){return I?A||I.path?A&&!I.path?`${A}/`:!A&&I.path?I.path:`${A}/${I.path}`:"":A}function wr(A){const I=A.children&&A.children.map(wr),w=I?Object.assign(Object.assign({},A),{children:I}):Object.assign({},A);return!w.component&&(I||w.loadChildren)&&w.outlet&&w.outlet!==gn&&(w.component=fr),w}function Ri(A){return A.outlet||gn}function Kr(A,I){const w=A.filter($=>Ri($)===I);return w.push(...A.filter($=>Ri($)!==I)),w}const ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gr(A,I,w){var $;if(""===I.path)return"full"===I.pathMatch&&(A.hasChildren()||w.length>0)?Object.assign({},ss):{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const te=(I.matcher||Z)(w,A,I);if(!te)return Object.assign({},ss);const je={};sn(te.posParams,(jt,Ht)=>{je[Ht]=jt.path});const lt=te.consumed.length>0?Object.assign(Object.assign({},je),te.consumed[te.consumed.length-1].parameters):je;return{matched:!0,consumedSegments:te.consumed,remainingSegments:w.slice(te.consumed.length),parameters:lt,positionalParamSegments:null!==($=te.posParams)&&void 0!==$?$:{}}}function cs(A,I,w,$,Q="corrected"){if(w.length>0&&function gi(A,I,w){return w.some($=>de(A,I,$)&&Ri($)!==gn)}(A,w,$)){const je=new ke(I,function us(A,I,w,$){const Q={};Q[gn]=$,$._sourceSegment=A,$._segmentIndexShift=I.length;for(const te of w)if(""===te.path&&Ri(te)!==gn){const je=new ke([],{});je._sourceSegment=A,je._segmentIndexShift=I.length,Q[Ri(te)]=je}return Q}(A,I,$,new ke(w,A.children)));return je._sourceSegment=A,je._segmentIndexShift=I.length,{segmentGroup:je,slicedSegments:[]}}if(0===w.length&&function G(A,I,w){return w.some($=>de(A,I,$))}(A,w,$)){const je=new ke(A.segments,function Zr(A,I,w,$,Q,te){const je={};for(const lt of $)if(de(A,w,lt)&&!Q[Ri(lt)]){const jt=new ke([],{});jt._sourceSegment=A,jt._segmentIndexShift="legacy"===te?A.segments.length:I.length,je[Ri(lt)]=jt}return Object.assign(Object.assign({},Q),je)}(A,I,w,$,A.children,Q));return je._sourceSegment=A,je._segmentIndexShift=I.length,{segmentGroup:je,slicedSegments:w}}const te=new ke(A.segments,A.children);return te._sourceSegment=A,te._segmentIndexShift=I.length,{segmentGroup:te,slicedSegments:w}}function de(A,I,w){return(!(A.hasChildren()||I.length>0)||"full"!==w.pathMatch)&&""===w.path}function V(A,I,w,$){return!!(Ri(A)===$||$!==gn&&de(I,w,A))&&("**"===A.path||gr(I,A,w).matched)}function ve(A,I,w){return 0===I.length&&!A.children[w]}class Je{constructor(I){this.segmentGroup=I||null}}class Ft{constructor(I){this.urlTree=I}}function $t(A){return(0,le._)(new Je(A))}function In(A){return(0,le._)(new Ft(A))}class hi{constructor(I,w,$,Q,te){this.configLoader=w,this.urlSerializer=$,this.urlTree=Q,this.config=te,this.allowRedirects=!0,this.ngModule=I.get(h.h0i)}apply(){const I=cs(this.urlTree.root,[],[],this.config).segmentGroup,w=new ke(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,w,gn).pipe((0,xe.U)(te=>this.createUrlTree(Ei(te),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ue.K)(te=>{if(te instanceof Ft)return this.allowRedirects=!1,this.match(te.urlTree);throw te instanceof Je?this.noMatchError(te):te}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,gn).pipe((0,xe.U)(Q=>this.createUrlTree(Ei(Q),I.queryParams,I.fragment))).pipe((0,Ue.K)(Q=>{throw Q instanceof Je?this.noMatchError(Q):Q}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,w,$){const Q=I.segments.length>0?new ke([],{[gn]:I}):I;return new ye(Q,w,$)}expandSegmentGroup(I,w,$,Q){return 0===$.segments.length&&$.hasChildren()?this.expandChildren(I,w,$).pipe((0,xe.U)(te=>new ke([],te))):this.expandSegment(I,$,w,$.segments,Q,!0)}expandChildren(I,w,$){const Q=[];for(const te of Object.keys($.children))"primary"===te?Q.unshift(te):Q.push(te);return(0,pe.D)(Q).pipe((0,oe.b)(te=>{const je=$.children[te],lt=Kr(w,te);return this.expandSegmentGroup(I,lt,je,te).pipe((0,xe.U)(jt=>({segment:jt,outlet:te})))}),(0,ce.R)((te,je)=>(te[je.outlet]=je.segment,te),{}),function _e(A,I){const w=arguments.length>=2;return $=>$.pipe(A?(0,rt.h)((Q,te)=>A(Q,te,$)):Ee.y,Ne(1),w?(0,et.d)(I):(0,Ot.T)(()=>new He.K))}())}expandSegment(I,w,$,Q,te,je){return(0,pe.D)($).pipe((0,oe.b)(lt=>this.expandSegmentAgainstRoute(I,w,$,lt,Q,te,je).pipe((0,Ue.K)(Ht=>{if(Ht instanceof Je)return(0,ie.of)(null);throw Ht}))),(0,Oe.P)(lt=>!!lt),(0,Ue.K)((lt,jt)=>{if(lt instanceof He.K||"EmptyError"===lt.name)return ve(w,Q,te)?(0,ie.of)(new ke([],{})):$t(w);throw lt}))}expandSegmentAgainstRoute(I,w,$,Q,te,je,lt){return V(Q,w,te,je)?void 0===Q.redirectTo?this.matchSegmentAgainstRoute(I,w,Q,te,je):lt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,w,$,Q,te,je):$t(w):$t(w)}expandSegmentAgainstRouteUsingRedirect(I,w,$,Q,te,je){return"**"===Q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,$,Q,je):this.expandRegularSegmentAgainstRouteUsingRedirect(I,w,$,Q,te,je)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,w,$,Q){const te=this.applyRedirectCommands([],$.redirectTo,{});return $.redirectTo.startsWith("/")?In(te):this.lineralizeSegments($,te).pipe((0,ze.z)(je=>{const lt=new ke(je,{});return this.expandSegment(I,lt,w,je,Q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,w,$,Q,te,je){const{matched:lt,consumedSegments:jt,remainingSegments:Ht,positionalParamSegments:cn}=gr(w,Q,te);if(!lt)return $t(w);const Fn=this.applyRedirectCommands(jt,Q.redirectTo,cn);return Q.redirectTo.startsWith("/")?In(Fn):this.lineralizeSegments(Q,Fn).pipe((0,ze.z)(en=>this.expandSegment(I,w,$,en.concat(Ht),je,!1)))}matchSegmentAgainstRoute(I,w,$,Q,te){if("**"===$.path)return $.loadChildren?($._loadedConfig?(0,ie.of)($._loadedConfig):this.configLoader.load(I.injector,$)).pipe((0,xe.U)(Fn=>($._loadedConfig=Fn,new ke(Q,{})))):(0,ie.of)(new ke(Q,{}));const{matched:je,consumedSegments:lt,remainingSegments:jt}=gr(w,$,Q);return je?this.getChildConfig(I,$,Q).pipe((0,ze.z)(cn=>{const Fn=cn.module,en=cn.routes,{segmentGroup:Tt,slicedSegments:Qt}=cs(w,lt,jt,en),Ji=new ke(Tt.segments,Tt.children);if(0===Qt.length&&Ji.hasChildren())return this.expandChildren(Fn,en,Ji).pipe((0,xe.U)(Fl=>new ke(lt,Fl)));if(0===en.length&&0===Qt.length)return(0,ie.of)(new ke(lt,{}));const _a=Ri($)===te;return this.expandSegment(Fn,Ji,en,Qt,_a?gn:te,!0).pipe((0,xe.U)(Ro=>new ke(lt.concat(Ro.segments),Ro.children)))})):$t(w)}getChildConfig(I,w,$){return w.children?(0,ie.of)(new Fs(w.children,I)):w.loadChildren?void 0!==w._loadedConfig?(0,ie.of)(w._loadedConfig):this.runCanLoadGuards(I.injector,w,$).pipe((0,ze.z)(Q=>Q?this.configLoader.load(I.injector,w).pipe((0,xe.U)(te=>(w._loadedConfig=te,te))):function pi(A){return(0,le._)(z(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))}(w))):(0,ie.of)(new Fs([],I))}runCanLoadGuards(I,w,$){const Q=w.canLoad;if(!Q||0===Q.length)return(0,ie.of)(!0);const te=Q.map(je=>{const lt=I.get(je);let jt;if(function zo(A){return A&&hr(A.canLoad)}(lt))jt=lt.canLoad(w,$);else{if(!hr(lt))throw new Error("Invalid CanLoad guard");jt=lt(w,$)}return mn(jt)});return(0,ie.of)(te).pipe(Ls(),(0,yt.b)(je=>{if(!rs(je))return;const lt=z(`Redirecting to "${this.urlSerializer.serialize(je)}"`);throw lt.url=je,lt}),(0,xe.U)(je=>!0===je))}lineralizeSegments(I,w){let $=[],Q=w.root;for(;;){if($=$.concat(Q.segments),0===Q.numberOfChildren)return(0,ie.of)($);if(Q.numberOfChildren>1||!Q.children[gn])return(0,le._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I.redirectTo}'`));Q=Q.children[gn]}}applyRedirectCommands(I,w,$){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),I,$)}applyRedirectCreatreUrlTree(I,w,$,Q){const te=this.createSegmentGroup(I,w.root,$,Q);return new ye(te,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(I,w){const $={};return sn(I,(Q,te)=>{if("string"==typeof Q&&Q.startsWith(":")){const lt=Q.substring(1);$[te]=w[lt]}else $[te]=Q}),$}createSegmentGroup(I,w,$,Q){const te=this.createSegments(I,w.segments,$,Q);let je={};return sn(w.children,(lt,jt)=>{je[jt]=this.createSegmentGroup(I,lt,$,Q)}),new ke(te,je)}createSegments(I,w,$,Q){return w.map(te=>te.path.startsWith(":")?this.findPosParam(I,te,Q):this.findOrReturn(te,$))}findPosParam(I,w,$){const Q=$[w.path.substring(1)];if(!Q)throw new Error(`Cannot redirect to '${I}'. Cannot find '${w.path}'.`);return Q}findOrReturn(I,w){let $=0;for(const Q of w){if(Q.path===I.path)return w.splice($),Q;$++}return I}}function Ei(A){const I={};for(const $ of Object.keys(A.children)){const te=Ei(A.children[$]);(te.segments.length>0||te.hasChildren())&&(I[$]=te)}return function qi(A){if(1===A.numberOfChildren&&A.children[gn]){const I=A.children[gn];return new ke(A.segments.concat(I.segments),I.children)}return A}(new ke(A.segments,I))}class W{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class B{constructor(I,w){this.component=I,this.route=w}}function S(A,I,w){const $=A._root;return vi($,I?I._root:null,w,[$.value])}function Lt(A,I,w){const $=function wn(A){if(!A)return null;for(let I=A.parent;I;I=I.parent){const w=I.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(I);return($?$.module.injector:w).get(A)}function vi(A,I,w,$,Q={canDeactivateChecks:[],canActivateChecks:[]}){const te=$i(I);return A.children.forEach(je=>{(function Vr(A,I,w,$,Q={canDeactivateChecks:[],canActivateChecks:[]}){const te=A.value,je=I?I.value:null,lt=w?w.getContext(A.value.outlet):null;if(je&&te.routeConfig===je.routeConfig){const jt=function go(A,I,w){if("function"==typeof w)return w(A,I);switch(w){case"pathParamsChange":return!Cn(A.url,I.url);case"pathParamsOrQueryParamsChange":return!Cn(A.url,I.url)||!Xe(A.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lr(A,I)||!Xe(A.queryParams,I.queryParams);default:return!Lr(A,I)}}(je,te,te.routeConfig.runGuardsAndResolvers);jt?Q.canActivateChecks.push(new W($)):(te.data=je.data,te._resolvedData=je._resolvedData),vi(A,I,te.component?lt?lt.children:null:w,$,Q),jt&&lt&&lt.outlet&&lt.outlet.isActivated&&Q.canDeactivateChecks.push(new B(lt.outlet.component,je))}else je&&ds(I,lt,Q),Q.canActivateChecks.push(new W($)),vi(A,null,te.component?lt?lt.children:null:w,$,Q)})(je,te[je.value.outlet],w,$.concat([je.value]),Q),delete te[je.value.outlet]}),sn(te,(je,lt)=>ds(je,w.getContext(lt),Q)),Q}function ds(A,I,w){const $=$i(A),Q=A.value;sn($,(te,je)=>{ds(te,Q.component?I?I.children.getContext(je):null:I,w)}),w.canDeactivateChecks.push(new B(Q.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,Q))}class Ta{}function ul(A){return new E.y(I=>I.error(A))}class no{constructor(I,w,$,Q,te,je){this.rootComponentType=I,this.config=w,this.urlTree=$,this.url=Q,this.paramsInheritanceStrategy=te,this.relativeLinkResolution=je}recognize(){const I=cs(this.urlTree.root,[],[],this.config.filter(je=>void 0===je.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,I,gn);if(null===w)return null;const $=new Li([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},gn,this.rootComponentType,null,this.urlTree.root,-1,{}),Q=new mi($,w),te=new Nr(this.url,Q);return this.inheritParamsAndData(te._root),te}inheritParamsAndData(I){const w=I.value,$=_s(w,this.paramsInheritanceStrategy);w.params=Object.freeze($.params),w.data=Object.freeze($.data),I.children.forEach(Q=>this.inheritParamsAndData(Q))}processSegmentGroup(I,w,$){return 0===w.segments.length&&w.hasChildren()?this.processChildren(I,w):this.processSegment(I,w,w.segments,$)}processChildren(I,w){const $=[];for(const te of Object.keys(w.children)){const je=w.children[te],lt=Kr(I,te),jt=this.processSegmentGroup(lt,je,te);if(null===jt)return null;$.push(...jt)}const Q=Yo($);return function io(A){A.sort((I,w)=>I.value.outlet===gn?-1:w.value.outlet===gn?1:I.value.outlet.localeCompare(w.value.outlet))}(Q),Q}processSegment(I,w,$,Q){for(const te of I){const je=this.processSegmentAgainstRoute(te,w,$,Q);if(null!==je)return je}return ve(w,$,Q)?[]:null}processSegmentAgainstRoute(I,w,$,Q){if(I.redirectTo||!V(I,w,$,Q))return null;let te,je=[],lt=[];if("**"===I.path){const Tt=$.length>0?Zt($).parameters:{};te=new Li($,Tt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,L(I),Ri(I),I.component,I,v(w),C(w)+$.length,ae(I))}else{const Tt=gr(w,I,$);if(!Tt.matched)return null;je=Tt.consumedSegments,lt=Tt.remainingSegments,te=new Li(je,Tt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,L(I),Ri(I),I.component,I,v(w),C(w)+je.length,ae(I))}const jt=function pr(A){return A.children?A.children:A.loadChildren?A._loadedConfig.routes:[]}(I),{segmentGroup:Ht,slicedSegments:cn}=cs(w,je,lt,jt.filter(Tt=>void 0===Tt.redirectTo),this.relativeLinkResolution);if(0===cn.length&&Ht.hasChildren()){const Tt=this.processChildren(jt,Ht);return null===Tt?null:[new mi(te,Tt)]}if(0===jt.length&&0===cn.length)return[new mi(te,[])];const Fn=Ri(I)===Q,en=this.processSegment(jt,Ht,cn,Fn?gn:Q);return null===en?null:[new mi(te,en)]}}function Bs(A){const I=A.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Yo(A){const I=[],w=new Set;for(const $ of A){if(!Bs($)){I.push($);continue}const Q=I.find(te=>$.value.routeConfig===te.value.routeConfig);void 0!==Q?(Q.children.push(...$.children),w.add(Q)):I.push($)}for(const $ of w){const Q=Yo($.children);I.push(new mi($.value,Q))}return I.filter($=>!w.has($))}function v(A){let I=A;for(;I._sourceSegment;)I=I._sourceSegment;return I}function C(A){let I=A,w=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,w+=I._segmentIndexShift?I._segmentIndexShift:0;return w-1}function L(A){return A.data||{}}function ae(A){return A.resolve||{}}function zt(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function On(A){return(0,De.w)(I=>{const w=A(I);return w?(0,pe.D)(w).pipe((0,xe.U)(()=>I)):(0,ie.of)(I)})}class kn extends class li{shouldDetach(I){return!1}store(I,w){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,w){return I.routeConfig===w.routeConfig}}{}const Kn=new h.OlP("ROUTES");class Pi{constructor(I,w,$,Q){this.injector=I,this.compiler=w,this.onLoadStartListener=$,this.onLoadEndListener=Q}load(I,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const Q=this.loadModuleFactory(w.loadChildren).pipe((0,xe.U)(te=>{this.onLoadEndListener&&this.onLoadEndListener(w);const je=te.create(I);return new Fs(kt(je.injector.get(Kn,void 0,h.XFs.Self|h.XFs.Optional)).map(wr),je)}),(0,Ue.K)(te=>{throw w._loader$=void 0,te}));return w._loader$=new Me(Q,()=>new Le.x).pipe(be()),w._loader$}loadModuleFactory(I){return mn(I()).pipe((0,ze.z)(w=>w instanceof h.YKP?(0,ie.of)(w):(0,pe.D)(this.compiler.compileModuleAsync(w))))}}class ir{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,w){return I}}function Ur(A){throw A}function Ci(A,I,w){return I.parse("/")}function Or(A,I){return(0,ie.of)(null)}const Vi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qi=(()=>{class A{constructor(w,$,Q,te,je,lt,jt){this.rootComponentType=w,this.urlSerializer=$,this.rootContexts=Q,this.location=te,this.config=jt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Le.x,this.errorHandler=Ur,this.malformedUriErrorHandler=Ci,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Or,afterPreactivation:Or},this.urlHandlingStrategy=new ir,this.routeReuseStrategy=new kn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=je.get(h.h0i),this.console=je.get(h.c2e);const Fn=je.get(h.R0b);this.isNgZoneEnabled=Fn instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(jt),this.currentUrlTree=function yi(){return new ye(new ke([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Pi(je,lt,en=>this.triggerEvent(new Bt(en)),en=>this.triggerEvent(new We(en))),this.routerState=Hn(this.currentUrlTree,this.rootComponentType),this.transitions=new q.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const $=this.events;return w.pipe((0,rt.h)(Q=>0!==Q.id),(0,xe.U)(Q=>Object.assign(Object.assign({},Q),{extractedUrl:this.urlHandlingStrategy.extract(Q.rawUrl)})),(0,De.w)(Q=>{let te=!1,je=!1;return(0,ie.of)(Q).pipe((0,yt.b)(lt=>{this.currentNavigation={id:lt.id,initialUrl:lt.currentRawUrl,extractedUrl:lt.extractedUrl,trigger:lt.source,extras:lt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,De.w)(lt=>{const jt=this.browserUrlTree.toString(),Ht=!this.navigated||lt.extractedUrl.toString()!==jt||jt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ht)&&this.urlHandlingStrategy.shouldProcessUrl(lt.rawUrl))return ro(lt.source)&&(this.browserUrlTree=lt.extractedUrl),(0,ie.of)(lt).pipe((0,De.w)(Fn=>{const en=this.transitions.getValue();return $.next(new ee(Fn.id,this.serializeUrl(Fn.extractedUrl),Fn.source,Fn.restoredState)),en!==this.transitions.getValue()?it.E:Promise.resolve(Fn)}),function Wi(A,I,w,$){return(0,De.w)(Q=>function oi(A,I,w,$,Q){return new hi(A,I,w,$,Q).apply()}(A,I,w,Q.extractedUrl,$).pipe((0,xe.U)(te=>Object.assign(Object.assign({},Q),{urlAfterRedirects:te}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yt.b)(Fn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Fn.urlAfterRedirects})}),function Re(A,I,w,$,Q){return(0,ze.z)(te=>function aa(A,I,w,$,Q="emptyOnly",te="legacy"){try{const je=new no(A,I,w,$,Q,te).recognize();return null===je?ul(new Ta):(0,ie.of)(je)}catch(je){return ul(je)}}(A,I,te.urlAfterRedirects,w(te.urlAfterRedirects),$,Q).pipe((0,xe.U)(je=>Object.assign(Object.assign({},te),{targetSnapshot:je}))))}(this.rootComponentType,this.config,Fn=>this.serializeUrl(Fn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yt.b)(Fn=>{if("eager"===this.urlUpdateStrategy){if(!Fn.extras.skipLocationChange){const Tt=this.urlHandlingStrategy.merge(Fn.urlAfterRedirects,Fn.rawUrl);this.setBrowserUrl(Tt,Fn)}this.browserUrlTree=Fn.urlAfterRedirects}const en=new ft(Fn.id,this.serializeUrl(Fn.extractedUrl),this.serializeUrl(Fn.urlAfterRedirects),Fn.targetSnapshot);$.next(en)}));if(Ht&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:en,extractedUrl:Tt,source:Qt,restoredState:Ji,extras:_a}=lt,ya=new ee(en,this.serializeUrl(Tt),Qt,Ji);$.next(ya);const Ro=Hn(Tt,this.rootComponentType).snapshot;return(0,ie.of)(Object.assign(Object.assign({},lt),{targetSnapshot:Ro,urlAfterRedirects:Tt,extras:Object.assign(Object.assign({},_a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=lt.rawUrl,lt.resolve(null),it.E}),On(lt=>{const{targetSnapshot:jt,id:Ht,extractedUrl:cn,rawUrl:Fn,extras:{skipLocationChange:en,replaceUrl:Tt}}=lt;return this.hooks.beforePreactivation(jt,{navigationId:Ht,appliedUrlTree:cn,rawUrlTree:Fn,skipLocationChange:!!en,replaceUrl:!!Tt})}),(0,yt.b)(lt=>{const jt=new ot(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(jt)}),(0,xe.U)(lt=>Object.assign(Object.assign({},lt),{guards:S(lt.targetSnapshot,lt.currentSnapshot,this.rootContexts)})),function Jt(A,I){return(0,ze.z)(w=>{const{targetSnapshot:$,currentSnapshot:Q,guards:{canActivateChecks:te,canDeactivateChecks:je}}=w;return 0===je.length&&0===te.length?(0,ie.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function _i(A,I,w,$){return(0,pe.D)(A).pipe((0,ze.z)(Q=>function So(A,I,w,$,Q){const te=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!te||0===te.length)return(0,ie.of)(!0);const je=te.map(lt=>{const jt=Lt(lt,I,Q);let Ht;if(function xr(A){return A&&hr(A.canDeactivate)}(jt))Ht=mn(jt.canDeactivate(A,I,w,$));else{if(!hr(jt))throw new Error("Invalid CanDeactivate guard");Ht=mn(jt(A,I,w,$))}return Ht.pipe((0,Oe.P)())});return(0,ie.of)(je).pipe(Ls())}(Q.component,Q.route,w,I,$)),(0,Oe.P)(Q=>!0!==Q,!0))}(je,$,Q,A).pipe((0,ze.z)(lt=>lt&&function Es(A){return"boolean"==typeof A}(lt)?function Ko(A,I,w,$){return(0,pe.D)(I).pipe((0,oe.b)(Q=>(0,Se.z)(function Zo(A,I){return null!==A&&I&&I(new St(A)),(0,ie.of)(!0)}(Q.route.parent,$),function nr(A,I){return null!==A&&I&&I(new Rn(A)),(0,ie.of)(!0)}(Q.route,$),function Is(A,I,w){const $=I[I.length-1],te=I.slice(0,I.length-1).reverse().map(je=>function me(A){const I=A.routeConfig?A.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:A,guards:I}:null}(je)).filter(je=>null!==je).map(je=>(0,$e.P)(()=>{const lt=je.guards.map(jt=>{const Ht=Lt(jt,je.node,w);let cn;if(function Wr(A){return A&&hr(A.canActivateChild)}(Ht))cn=mn(Ht.canActivateChild($,A));else{if(!hr(Ht))throw new Error("Invalid CanActivateChild guard");cn=mn(Ht($,A))}return cn.pipe((0,Oe.P)())});return(0,ie.of)(lt).pipe(Ls())}));return(0,ie.of)(te).pipe(Ls())}(A,Q.path,w),function _o(A,I,w){const $=I.routeConfig?I.routeConfig.canActivate:null;if(!$||0===$.length)return(0,ie.of)(!0);const Q=$.map(te=>(0,$e.P)(()=>{const je=Lt(te,I,w);let lt;if(function ar(A){return A&&hr(A.canActivate)}(je))lt=mn(je.canActivate(I,A));else{if(!hr(je))throw new Error("Invalid CanActivate guard");lt=mn(je(I,A))}return lt.pipe((0,Oe.P)())}));return(0,ie.of)(Q).pipe(Ls())}(A,Q.route,w))),(0,Oe.P)(Q=>!0!==Q,!0))}($,te,A,I):(0,ie.of)(lt)),(0,xe.U)(lt=>Object.assign(Object.assign({},w),{guardsResult:lt})))})}(this.ngModule.injector,lt=>this.triggerEvent(lt)),(0,yt.b)(lt=>{if(rs(lt.guardsResult)){const Ht=z(`Redirecting to "${this.serializeUrl(lt.guardsResult)}"`);throw Ht.url=lt.guardsResult,Ht}const jt=new Dt(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot,!!lt.guardsResult);this.triggerEvent(jt)}),(0,rt.h)(lt=>!!lt.guardsResult||(this.restoreHistory(lt),this.cancelNavigationTransition(lt,""),!1)),On(lt=>{if(lt.guards.canActivateChecks.length)return(0,ie.of)(lt).pipe((0,yt.b)(jt=>{const Ht=new Ct(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);this.triggerEvent(Ht)}),(0,De.w)(jt=>{let Ht=!1;return(0,ie.of)(jt).pipe(function nt(A,I){return(0,ze.z)(w=>{const{targetSnapshot:$,guards:{canActivateChecks:Q}}=w;if(!Q.length)return(0,ie.of)(w);let te=0;return(0,pe.D)(Q).pipe((0,oe.b)(je=>function st(A,I,w,$){return function Mt(A,I,w,$){const Q=zt(A);if(0===Q.length)return(0,ie.of)({});const te={};return(0,pe.D)(Q).pipe((0,ze.z)(je=>function Dn(A,I,w,$){const Q=Lt(A,I,$);return mn(Q.resolve?Q.resolve(I,w):Q(I,w))}(A[je],I,w,$).pipe((0,yt.b)(lt=>{te[je]=lt}))),Ne(1),(0,ze.z)(()=>zt(te).length===Q.length?(0,ie.of)(te):it.E))}(A._resolve,A,I,$).pipe((0,xe.U)(te=>(A._resolvedData=te,A.data=Object.assign(Object.assign({},A.data),_s(A,w).resolve),null)))}(je.route,$,A,I)),(0,yt.b)(()=>te++),Ne(1),(0,ze.z)(je=>te===Q.length?(0,ie.of)(w):it.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yt.b)({next:()=>Ht=!0,complete:()=>{Ht||(this.restoreHistory(jt),this.cancelNavigationTransition(jt,"At least one route resolver didn't emit any value."))}}))}),(0,yt.b)(jt=>{const Ht=new vt(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);this.triggerEvent(Ht)}))}),On(lt=>{const{targetSnapshot:jt,id:Ht,extractedUrl:cn,rawUrl:Fn,extras:{skipLocationChange:en,replaceUrl:Tt}}=lt;return this.hooks.afterPreactivation(jt,{navigationId:Ht,appliedUrlTree:cn,rawUrlTree:Fn,skipLocationChange:!!en,replaceUrl:!!Tt})}),(0,xe.U)(lt=>{const jt=function ys(A,I,w){const $=Bi(A,I._root,w?w._root:void 0);return new Di($,I)}(this.routeReuseStrategy,lt.targetSnapshot,lt.currentRouterState);return Object.assign(Object.assign({},lt),{targetRouterState:jt})}),(0,yt.b)(lt=>{this.currentUrlTree=lt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(lt.urlAfterRedirects,lt.rawUrl),this.routerState=lt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(lt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,lt),this.browserUrlTree=lt.urlAfterRedirects)}),((A,I,w)=>(0,xe.U)($=>(new Ys(I,$.targetRouterState,$.currentRouterState,w).activate(A),$)))(this.rootContexts,this.routeReuseStrategy,lt=>this.triggerEvent(lt)),(0,yt.b)({next(){te=!0},complete(){te=!0}}),(0,mt.x)(()=>{var lt;te||je||this.cancelNavigationTransition(Q,`Navigation ID ${Q.id} is not equal to the current navigation id ${this.navigationId}`),(null===(lt=this.currentNavigation)||void 0===lt?void 0:lt.id)===Q.id&&(this.currentNavigation=null)}),(0,Ue.K)(lt=>{if(je=!0,function K(A){return A&&A[R]}(lt)){const jt=rs(lt.url);jt||(this.navigated=!0,this.restoreHistory(Q,!0));const Ht=new O(Q.id,this.serializeUrl(Q.extractedUrl),lt.message);$.next(Ht),jt?setTimeout(()=>{const cn=this.urlHandlingStrategy.merge(lt.url,this.rawUrlTree),Fn={skipLocationChange:Q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ro(Q.source)};this.scheduleNavigation(cn,"imperative",null,Fn,{resolve:Q.resolve,reject:Q.reject,promise:Q.promise})},0):Q.resolve(!1)}else{this.restoreHistory(Q,!0);const jt=new se(Q.id,this.serializeUrl(Q.extractedUrl),lt);$.next(jt);try{Q.resolve(this.errorHandler(lt))}catch(Ht){Q.reject(Ht)}}return it.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const $="popstate"===w.type?"popstate":"hashchange";"popstate"===$&&setTimeout(()=>{var Q;const te={replaceUrl:!0},je=(null===(Q=w.state)||void 0===Q?void 0:Q.navigationId)?w.state:null;if(je){const jt=Object.assign({},je);delete jt.navigationId,delete jt.\u0275routerPageId,0!==Object.keys(jt).length&&(te.state=jt)}const lt=this.parseUrl(w.url);this.scheduleNavigation(lt,$,je,te)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){ws(w),this.config=w.map(wr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,$={}){const{relativeTo:Q,queryParams:te,fragment:je,queryParamsHandling:lt,preserveFragment:jt}=$,Ht=Q||this.routerState.root,cn=jt?this.currentUrlTree.fragment:je;let Fn=null;switch(lt){case"merge":Fn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),te);break;case"preserve":Fn=this.currentUrlTree.queryParams;break;default:Fn=te||null}return null!==Fn&&(Fn=this.removeEmptyProps(Fn)),function Ks(A,I,w,$,Q){if(0===w.length)return Zs(I.root,I.root,I.root,$,Q);const te=function er(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Io(!0,0,A);let I=0,w=!1;const $=A.reduce((Q,te,je)=>{if("object"==typeof te&&null!=te){if(te.outlets){const lt={};return sn(te.outlets,(jt,Ht)=>{lt[Ht]="string"==typeof jt?jt.split("/"):jt}),[...Q,{outlets:lt}]}if(te.segmentPath)return[...Q,te.segmentPath]}return"string"!=typeof te?[...Q,te]:0===je?(te.split("/").forEach((lt,jt)=>{0==jt&&"."===lt||(0==jt&&""===lt?w=!0:".."===lt?I++:""!=lt&&Q.push(lt))}),Q):[...Q,te]},[]);return new Io(w,I,$)}(w);if(te.toRoot())return Zs(I.root,I.root,new ke([],{}),$,Q);const je=function es(A,I,w){if(A.isAbsolute)return new zr(I.root,!0,0);if(-1===w.snapshot._lastPathIndex){const te=w.snapshot._urlSegment;return new zr(te,te===I.root,0)}const $=or(A.commands[0])?0:1;return function To(A,I,w){let $=A,Q=I,te=w;for(;te>Q;){if(te-=Q,$=$.parent,!$)throw new Error("Invalid number of '../'");Q=$.segments.length}return new zr($,!1,Q-te)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+$,A.numberOfDoubleDots)}(te,I,A),lt=je.processChildren?ts(je.segmentGroup,je.index,te.commands):to(je.segmentGroup,je.index,te.commands);return Zs(I.root,je.segmentGroup,lt,$,Q)}(Ht,this.currentUrlTree,w,Fn,null!=cn?cn:null)}navigateByUrl(w,$={skipLocationChange:!1}){const Q=rs(w)?w:this.parseUrl(w),te=this.urlHandlingStrategy.merge(Q,this.rawUrlTree);return this.scheduleNavigation(te,"imperative",null,$)}navigate(w,$={skipLocationChange:!1}){return function Ao(A){for(let I=0;I<A.length;I++){const w=A[I];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${I}`)}}(w),this.navigateByUrl(this.createUrlTree(w,$),$)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let $;try{$=this.urlSerializer.parse(w)}catch(Q){$=this.malformedUriErrorHandler(Q,this.urlSerializer,w)}return $}isActive(w,$){let Q;if(Q=!0===$?Object.assign({},Vi):!1===$?Object.assign({},Yr):$,rs(w))return on(this.currentUrlTree,w,Q);const te=this.parseUrl(w);return on(this.currentUrlTree,te,Q)}removeEmptyProps(w){return Object.keys(w).reduce(($,Q)=>{const te=w[Q];return null!=te&&($[Q]=te),$},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new Fe(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,$,Q,te,je){var lt,jt;if(this.disposed)return Promise.resolve(!1);let Ht,cn,Fn;je?(Ht=je.resolve,cn=je.reject,Fn=je.promise):Fn=new Promise((Qt,Ji)=>{Ht=Qt,cn=Ji});const en=++this.navigationId;let Tt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Q=this.location.getState()),Tt=Q&&Q.\u0275routerPageId?Q.\u0275routerPageId:te.replaceUrl||te.skipLocationChange?null!==(lt=this.browserPageId)&&void 0!==lt?lt:0:(null!==(jt=this.browserPageId)&&void 0!==jt?jt:0)+1):Tt=0,this.setTransition({id:en,targetPageId:Tt,source:$,restoredState:Q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:te,resolve:Ht,reject:cn,promise:Fn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Fn.catch(Qt=>Promise.reject(Qt))}setBrowserUrl(w,$){const Q=this.urlSerializer.serialize(w),te=Object.assign(Object.assign({},$.extras.state),this.generateNgRouterState($.id,$.targetPageId));this.location.isCurrentPathEqualTo(Q)||$.extras.replaceUrl?this.location.replaceState(Q,"",te):this.location.go(Q,"",te)}restoreHistory(w,$=!1){var Q,te;if("computed"===this.canceledNavigationResolution){const je=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Q=this.currentNavigation)||void 0===Q?void 0:Q.finalUrl)||0===je?this.currentUrlTree===(null===(te=this.currentNavigation)||void 0===te?void 0:te.finalUrl)&&0===je&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(je)}else"replace"===this.canceledNavigationResolution&&($&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,$){const Q=new O(w.id,this.serializeUrl(w.extractedUrl),$);this.triggerEvent(Q),w.resolve(!1)}generateNgRouterState(w,$){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:$}:{navigationId:w}}}return A.\u0275fac=function(w){h.$Z()},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();function ro(A){return"imperative"!==A}let Vs=(()=>{class A{constructor(w,$,Q,te,je){this.router=w,this.route=$,this.tabIndexAttribute=Q,this.renderer=te,this.el=je,this.commands=null,this.onChanges=new Le.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const $=this.renderer,Q=this.el.nativeElement;null!==w?$.setAttribute(Q,"tabindex",w):$.removeAttribute(Q,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:qr(this.skipLocationChange),replaceUrl:qr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qr(this.preserveFragment)})}}return A.\u0275fac=function(w){return new(w||A)(h.Y36(Qi),h.Y36(ur),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},A.\u0275dir=h.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,$){1&w&&h.NdJ("click",function(){return $.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),A})();function qr(A){return""===A||!!A}class Mn{}class Wn{preload(I,w){return(0,ie.of)(null)}}let ci=(()=>{class A{constructor(w,$,Q,te){this.router=w,this.injector=Q,this.preloadingStrategy=te,this.loader=new Pi(Q,$,jt=>w.triggerEvent(new Bt(jt)),jt=>w.triggerEvent(new We(jt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,rt.h)(w=>w instanceof Fe),(0,oe.b)(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(h.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,$){const Q=[];for(const te of $)if(te.loadChildren&&!te.canLoad&&te._loadedConfig){const je=te._loadedConfig;Q.push(this.processRoutes(je.module,je.routes))}else te.loadChildren&&!te.canLoad?Q.push(this.preloadConfig(w,te)):te.children&&Q.push(this.processRoutes(w,te.children));return(0,pe.D)(Q).pipe((0,gt.J)(),(0,xe.U)(te=>{}))}preloadConfig(w,$){return this.preloadingStrategy.preload($,()=>($._loadedConfig?(0,ie.of)($._loadedConfig):this.loader.load(w.injector,$)).pipe((0,ze.z)(te=>($._loadedConfig=te,this.processRoutes(te.module,te.routes)))))}}return A.\u0275fac=function(w){return new(w||A)(h.LFG(Qi),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Mn))},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})(),Ui=(()=>{class A{constructor(w,$,Q={}){this.router=w,this.viewportScroller=$,this.options=Q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Q.scrollPositionRestoration=Q.scrollPositionRestoration||"disabled",Q.anchorScrolling=Q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof ee?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Fe&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof hn&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,$){this.router.triggerEvent(new hn(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,$))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(w){h.$Z()},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();const rr=new h.OlP("ROUTER_CONFIGURATION"),os=new h.OlP("ROUTER_FORROOT_GUARD"),ki=[Ae.Ye,{provide:vn,useClass:ai},{provide:Qi,useFactory:function ga(A,I,w,$,Q,te,je={},lt,jt){const Ht=new Qi(null,A,I,w,$,Q,kt(te));return lt&&(Ht.urlHandlingStrategy=lt),jt&&(Ht.routeReuseStrategy=jt),function Us(A,I){A.errorHandler&&(I.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(I.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(I.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(I.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(I.urlUpdateStrategy=A.urlUpdateStrategy),A.canceledNavigationResolution&&(I.canceledNavigationResolution=A.canceledNavigationResolution)}(je,Ht),je.enableTracing&&Ht.events.subscribe(cn=>{var Fn,en;null===(Fn=console.group)||void 0===Fn||Fn.call(console,`Router Event: ${cn.constructor.name}`),console.log(cn.toString()),console.log(cn),null===(en=console.groupEnd)||void 0===en||en.call(console)}),Ht},deps:[vn,ls,Ae.Ye,h.zs3,h.Sil,Kn,rr,[class tr{},new h.FiY],[class $n{},new h.FiY]]},ls,{provide:ur,useFactory:function dl(A){return A.routerState.root},deps:[Qi]},ci,Wn,class En{preload(I,w){return w().pipe((0,Ue.K)(()=>(0,ie.of)(null)))}},{provide:rr,useValue:{enableTracing:!1}}];function qo(){return new h.PXZ("Router",Qi)}let fs=(()=>{class A{constructor(w,$){}static forRoot(w,$){return{ngModule:A,providers:[ki,Ms(w),{provide:os,useFactory:Ki,deps:[[Qi,new h.FiY,new h.tp0]]},{provide:rr,useValue:$||{}},{provide:Ae.S$,useFactory:Oo,deps:[Ae.lw,[new h.tBr(Ae.mr),new h.FiY],rr]},{provide:Ui,useFactory:Qr,deps:[Qi,Ae.EM,rr]},{provide:Mn,useExisting:$&&$.preloadingStrategy?$.preloadingStrategy:Wn},{provide:h.PXZ,multi:!0,useFactory:qo},[$a,{provide:h.ip1,multi:!0,useFactory:oo,deps:[$a]},{provide:Xi,useFactory:hl,deps:[$a]},{provide:h.tb,multi:!0,useExisting:Xi}]]}}static forChild(w){return{ngModule:A,providers:[Ms(w)]}}}return A.\u0275fac=function(w){return new(w||A)(h.LFG(os,8),h.LFG(Qi,8))},A.\u0275mod=h.oAB({type:A}),A.\u0275inj=h.cJS({}),A})();function Qr(A,I,w){return w.scrollOffset&&I.setOffset(w.scrollOffset),new Ui(A,I,w)}function Oo(A,I,w={}){return w.useHash?new Ae.Do(A,I):new Ae.b0(A,I)}function Ki(A){return"guarded"}function Ms(A){return[{provide:h.deG,multi:!0,useValue:A},{provide:Kn,multi:!0,useValue:A}]}let $a=(()=>{class A{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Le.x}appInitializer(){return this.injector.get(Ae.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let $=null;const Q=new Promise(lt=>$=lt),te=this.injector.get(Qi),je=this.injector.get(rr);return"disabled"===je.initialNavigation?(te.setUpLocationChangeListener(),$(!0)):"enabled"===je.initialNavigation||"enabledBlocking"===je.initialNavigation?(te.hooks.afterPreactivation=()=>this.initNavigation?(0,ie.of)(null):(this.initNavigation=!0,$(!0),this.resultOfPreactivationDone),te.initialNavigation()):$(!0),Q})}bootstrapListener(w){const $=this.injector.get(rr),Q=this.injector.get(ci),te=this.injector.get(Ui),je=this.injector.get(Qi),lt=this.injector.get(h.z2F);w===lt.components[0]&&(("enabledNonBlocking"===$.initialNavigation||void 0===$.initialNavigation)&&je.initialNavigation(),Q.setUpPreloading(),te.init(),je.resetRootComponentType(lt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(w){return new(w||A)(h.LFG(h.zs3))},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();function oo(A){return A.appInitializer.bind(A)}function hl(A){return A.bootstrapListener.bind(A)}const Xi=new h.OlP("Router Initializer")},3942:(Gt,Ze,y)=>{y.d(Ze,{Z:()=>$e});var h=y(2090),E=y(4859),g=y(9681),x=y(1877);class we{constructor(Le,rt){this._delegate=Le,this.firebase=rt,(0,g._addComponent)(Le,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,g.deleteApp)(this._delegate)))}_getService(Le,rt=g._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Ot=this._delegate.container.getProvider(Le);return!Ot.isInitialized()&&"EXPLICIT"===(null===(Ne=Ot.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Ot.initialize(),Ot.getImmediate({identifier:rt})}_removeServiceInstance(Le,rt=g._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(rt)}_addComponent(Le){(0,g._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,g._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ie(){const it=function pe(it){const Le={},rt={__esModule:!0,initializeApp:function et(De,ne={}){const Ye=g.initializeApp(De,ne);if((0,h.r3)(Le,Ye.name))return Le[Ye.name];const ce=new it(Ye,rt);return Le[Ye.name]=ce,ce},app:Ot,registerVersion:g.registerVersion,setLogLevel:g.setLogLevel,onLog:g.onLog,apps:null,SDK_VERSION:g.SDK_VERSION,INTERNAL:{registerComponent:function _e(De){const ne=De.name,Ye=ne.replace("-compat","");if(g._registerComponent(De)&&"PUBLIC"===De.type){const ce=(Ue=Ot())=>{if("function"!=typeof Ue[Ye])throw Me.create("invalid-app-argument",{appName:ne});return Ue[Ye]()};void 0!==De.serviceProps&&(0,h.ZB)(ce,De.serviceProps),rt[Ye]=ce,it.prototype[Ye]=function(...Ue){return this._getService.bind(this,ne).apply(this,De.multipleInstances?Ue:[])}}return"PUBLIC"===De.type?rt[Ye]:null},removeApp:function Ne(De){delete Le[De]},useAsService:function xe(De,ne){return"serverAuth"===ne?null:ne},modularAPIs:g}};function Ot(De){if(!(0,h.r3)(Le,De=De||g._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:De});return Le[De]}return rt.default=rt,Object.defineProperty(rt,"apps",{get:function Ee(){return Object.keys(Le).map(De=>Le[De])}}),Ot.App=it,rt}(we);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:ie,extendNamespace:function Le(rt){(0,h.ZB)(it,rt)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),it}(),fe=new x.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=q;!function Se(it){(0,g.registerVersion)("@firebase/app-compat","0.1.33",it)}()},9681:(Gt,Ze,y)=>{y.r(Ze),y.d(Ze,{FirebaseError:()=>x.ZR,SDK_VERSION:()=>St,_DEFAULT_ENTRY_NAME:()=>Ae,_addComponent:()=>O,_addOrOverwriteComponent:()=>se,_apps:()=>ee,_clearComponents:()=>Ct,_components:()=>Fe,_getProvider:()=>ot,_registerComponent:()=>ft,_removeServiceInstance:()=>Dt,deleteApp:()=>hn,getApp:()=>Rn,getApps:()=>Bn,initializeApp:()=>rn,onLog:()=>dt,registerVersion:()=>ln,setLogLevel:()=>R});var h=y(5861),E=y(4859),g=y(1877),x=y(2090),we=y(8766);class be{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(k=>{if(function Me(j){const N=j.getComponent();return"VERSION"===(null==N?void 0:N.type)}(k)){const ye=k.getImmediate();return`${ye.library}/${ye.version}`}return null}).filter(k=>k).join(" ")}}const pe="@firebase/app",q=new g.Yd("@firebase/app"),Ae="[DEFAULT]",Qe={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ee=new Map,Fe=new Map;function O(j,N){try{j.container.addComponent(N)}catch(k){q.debug(`Component ${N.name} failed to register with FirebaseApp ${j.name}`,k)}}function se(j,N){j.container.addOrOverwriteComponent(N)}function ft(j){const N=j.name;if(Fe.has(N))return q.debug(`There were multiple attempts to register component ${N}.`),!1;Fe.set(N,j);for(const k of ee.values())O(k,j);return!0}function ot(j,N){const k=j.container.getProvider("heartbeat").getImmediate({optional:!0});return k&&k.triggerHeartbeat(),j.container.getProvider(N)}function Dt(j,N,k=Ae){ot(j,N).clearInstance(k)}function Ct(){Fe.clear()}const Bt=new x.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class We{constructor(N,k,ye){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},k),this._name=k.name,this._automaticDataCollectionEnabled=k.automaticDataCollectionEnabled,this._container=ye,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const St="9.9.4";function rn(j,N={}){"object"!=typeof N&&(N={name:N});const k=Object.assign({name:Ae,automaticDataCollectionEnabled:!1},N),ye=k.name;if("string"!=typeof ye||!ye)throw Bt.create("bad-app-name",{appName:String(ye)});const ke=ee.get(ye);if(ke){if((0,x.vZ)(j,ke.options)&&(0,x.vZ)(k,ke.config))return ke;throw Bt.create("duplicate-app",{appName:ye})}const It=new E.H0(ye);for(const Cn of Fe.values())It.addComponent(Cn);const fn=new We(j,k,It);return ee.set(ye,fn),fn}function Rn(j=Ae){const N=ee.get(j);if(!N)throw Bt.create("no-app",{appName:j});return N}function Bn(){return Array.from(ee.values())}function hn(j){return gn.apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(j){const N=j.name;ee.has(N)&&(ee.delete(N),yield Promise.all(j.container.getProviders().map(k=>k.delete())),j.isDeleted=!0)})).apply(this,arguments)}function ln(j,N,k){var ye;let ke=null!==(ye=Qe[j])&&void 0!==ye?ye:j;k&&(ke+=`-${k}`);const It=ke.match(/\s|\//),fn=N.match(/\s|\//);if(It||fn){const Cn=[`Unable to register library "${ke}" with version "${N}":`];return It&&Cn.push(`library name "${ke}" contains illegal characters (whitespace or "/")`),It&&fn&&Cn.push("and"),fn&&Cn.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void q.warn(Cn.join(" "))}ft(new E.wA(`${ke}-version`,()=>({library:ke,version:N}),"VERSION"))}function dt(j,N){if(null!==j&&"function"!=typeof j)throw Bt.create("invalid-log-argument");(0,g.Am)(j,N)}function R(j){(0,g.Ub)(j)}const Z="firebase-heartbeat-store";let Pe=null;function Xe(){return Pe||(Pe=(0,we.X3)("firebase-heartbeat-database",1,{upgrade:(j,N)=>{0===N&&j.createObjectStore(Z)}}).catch(j=>{throw Bt.create("idb-open",{originalErrorMessage:j.message})})),Pe}function kt(){return(kt=(0,h.Z)(function*(j){var N;try{return(yield Xe()).transaction(Z).objectStore(Z).get(sn(j))}catch(k){if(k instanceof x.ZR)q.warn(k.message);else{const ye=Bt.create("idb-get",{originalErrorMessage:null===(N=k)||void 0===N?void 0:N.message});q.warn(ye.message)}}})).apply(this,arguments)}function Zt(j,N){return an.apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(j,N){var k;try{const ke=(yield Xe()).transaction(Z,"readwrite");return yield ke.objectStore(Z).put(N,sn(j)),ke.done}catch(ye){if(ye instanceof x.ZR)q.warn(ye.message);else{const ke=Bt.create("idb-set",{originalErrorMessage:null===(k=ye)||void 0===k?void 0:k.message});q.warn(ke.message)}}})).apply(this,arguments)}function sn(j){return`${j.name}!${j.options.appId}`}class jn{constructor(N){this.container=N,this._heartbeatsCache=null;const k=this.container.getProvider("app").getImmediate();this._storage=new Si(k),this._heartbeatsCachePromise=this._storage.read().then(ye=>(this._heartbeatsCache=ye,ye))}triggerHeartbeat(){var N=this;return(0,h.Z)(function*(){const ye=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ke=ti();if(null===N._heartbeatsCache&&(N._heartbeatsCache=yield N._heartbeatsCachePromise),N._heartbeatsCache.lastSentHeartbeatDate!==ke&&!N._heartbeatsCache.heartbeats.some(It=>It.date===ke))return N._heartbeatsCache.heartbeats.push({date:ke,agent:ye}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(It=>{const fn=new Date(It.date).valueOf();return Date.now()-fn<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,h.Z)(function*(){if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null===N._heartbeatsCache||0===N._heartbeatsCache.heartbeats.length)return"";const k=ti(),{heartbeatsToSend:ye,unsentEntries:ke}=function on(j,N=1024){const k=[];let ye=j.slice();for(const ke of j){const It=k.find(fn=>fn.agent===ke.agent);if(It){if(It.dates.push(ke.date),qe(k)>N){It.dates.pop();break}}else if(k.push({agent:ke.agent,dates:[ke.date]}),qe(k)>N){k.pop();break}ye=ye.slice(1)}return{heartbeatsToSend:k,unsentEntries:ye}}(N._heartbeatsCache.heartbeats),It=(0,x.L)(JSON.stringify({version:2,heartbeats:ye}));return N._heartbeatsCache.lastSentHeartbeatDate=k,ke.length>0?(N._heartbeatsCache.heartbeats=ke,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),It})()}}function ti(){return(new Date).toISOString().substring(0,10)}class Si{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,x.hl)()&&(0,x.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,h.Z)(function*(){return(yield N._canUseIndexedDBPromise)&&(yield function Et(j){return kt.apply(this,arguments)}(N.app))||{heartbeats:[]}})()}overwrite(N){var k=this;return(0,h.Z)(function*(){var ye;if(yield k._canUseIndexedDBPromise){const It=yield k.read();return Zt(k.app,{lastSentHeartbeatDate:null!==(ye=N.lastSentHeartbeatDate)&&void 0!==ye?ye:It.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var k=this;return(0,h.Z)(function*(){var ye;if(yield k._canUseIndexedDBPromise){const It=yield k.read();return Zt(k.app,{lastSentHeartbeatDate:null!==(ye=N.lastSentHeartbeatDate)&&void 0!==ye?ye:It.lastSentHeartbeatDate,heartbeats:[...It.heartbeats,...N.heartbeats]})}})()}}function qe(j){return(0,x.L)(JSON.stringify({version:2,heartbeats:j})).length}!function ge(j){ft(new E.wA("platform-logger",N=>new be(N),"PRIVATE")),ft(new E.wA("heartbeat",N=>new jn(N),"PRIVATE")),ln(pe,"0.7.32",j),ln(pe,"0.7.32","esm2017"),ln("fire-js","")}("")},4859:(Gt,Ze,y)=>{y.d(Ze,{wA:()=>g,H0:()=>pe});var h=y(5861),E=y(2090);class g{constructor(q,fe,le){this.name=q,this.instanceFactory=fe,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const x="[DEFAULT]";class we{constructor(q,fe){this.name=q,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const fe=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(fe)){const le=new E.BH;if(this.instancesDeferred.set(fe,le),this.isInitialized(fe)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:fe});He&&le.resolve(He)}catch(He){}}return this.instancesDeferred.get(fe).promise}getImmediate(q){var fe;const le=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),He=null!==(fe=null==q?void 0:q.optional)&&void 0!==fe&&fe;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch(Se){if(He)return null;throw Se}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Me(ie){return"EAGER"===ie.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:x})}catch(fe){}for(const[fe,le]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(fe);try{const Se=this.getOrInitializeService({instanceIdentifier:He});le.resolve(Se)}catch(Se){}}}}clearInstance(q=x){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,h.Z)(function*(){const fe=Array.from(q.instances.values());yield Promise.all([...fe.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...fe.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=x){return this.instances.has(q)}getOptions(q=x){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:fe={}}=q,le=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:le,options:fe});for(const[Se,$e]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier(Se)&&$e.resolve(He);return He}onInit(q,fe){var le;const He=this.normalizeInstanceIdentifier(fe),Se=null!==(le=this.onInitCallbacks.get(He))&&void 0!==le?le:new Set;Se.add(q),this.onInitCallbacks.set(He,Se);const $e=this.instances.get(He);return $e&&q($e,He),()=>{Se.delete(q)}}invokeOnInitCallbacks(q,fe){const le=this.onInitCallbacks.get(fe);if(le)for(const He of le)try{He(q,fe)}catch(Se){}}getOrInitializeService({instanceIdentifier:q,options:fe={}}){let le=this.instances.get(q);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(ie=q,ie===x?void 0:ie),options:fe}),this.instances.set(q,le),this.instancesOptions.set(q,fe),this.invokeOnInitCallbacks(le,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,le)}catch(He){}var ie;return le||null}normalizeInstanceIdentifier(q=x){return this.component?this.component.multipleInstances?q:x:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const fe=this.getProvider(q.name);if(fe.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);fe.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const fe=new we(q,this);return this.providers.set(q,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(Gt,Ze,y)=>{y.d(Ze,{in:()=>E,Yd:()=>Me,Ub:()=>pe,Am:()=>ie});const h=[];var E=(()=>{return(q=E||(E={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",E;var q})();const g={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},x=E.INFO,we={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},be=(q,fe,...le)=>{if(fe<q.logLevel)return;const He=(new Date).toISOString(),Se=we[fe];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[Se](`[${He}]  ${q.name}:`,...le)};class Me{constructor(fe){this.name=fe,this._logLevel=x,this._logHandler=be,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in E))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?g[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...fe),this._logHandler(this,E.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...fe),this._logHandler(this,E.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,E.INFO,...fe),this._logHandler(this,E.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,E.WARN,...fe),this._logHandler(this,E.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...fe),this._logHandler(this,E.ERROR,...fe)}}function pe(q){h.forEach(fe=>{fe.setLogLevel(q)})}function ie(q,fe){for(const le of h){let He=null;fe&&fe.level&&(He=g[fe.level]),le.userLogHandler=null===q?null:(Se,$e,...it)=>{const Le=it.map(rt=>{if(null==rt)return null;if("string"==typeof rt)return rt;if("number"==typeof rt||"boolean"==typeof rt)return rt.toString();if(rt instanceof Error)return rt.message;try{return JSON.stringify(rt)}catch(Ne){return null}}).filter(rt=>rt).join(" ");$e>=(null!=He?He:Se.logLevel)&&q({level:E[$e].toLowerCase(),message:Le,args:it,type:Se.name})}}}},8766:(Gt,Ze,y)=>{y.d(Ze,{Lj:()=>et,X3:()=>Ot});var h=y(5861);let g,x;const Me=new WeakMap,pe=new WeakMap,ie=new WeakMap,q=new WeakMap,fe=new WeakMap;let Se={get(ne,Ye,ce){if(ne instanceof IDBTransaction){if("done"===Ye)return pe.get(ne);if("objectStoreNames"===Ye)return ne.objectStoreNames||ie.get(ne);if("store"===Ye)return ce.objectStoreNames[1]?void 0:ce.objectStore(ce.objectStoreNames[0])}return rt(ne[Ye])},set:(ne,Ye,ce)=>(ne[Ye]=ce,!0),has:(ne,Ye)=>ne instanceof IDBTransaction&&("done"===Ye||"store"===Ye)||Ye in ne};function Le(ne){return"function"==typeof ne?function it(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return x||(x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...Ye){return ne.apply(Ne(this),Ye),rt(Me.get(this))}:function(...Ye){return rt(ne.apply(Ne(this),Ye))}:function(Ye,...ce){const Ue=ne.call(Ne(this),Ye,...ce);return ie.set(Ue,Ye.sort?Ye.sort():[Ye]),rt(Ue)}}(ne):(ne instanceof IDBTransaction&&function He(ne){if(pe.has(ne))return;const Ye=new Promise((ce,Ue)=>{const oe=()=>{ne.removeEventListener("complete",Oe),ne.removeEventListener("error",ze),ne.removeEventListener("abort",ze)},Oe=()=>{ce(),oe()},ze=()=>{Ue(ne.error||new DOMException("AbortError","AbortError")),oe()};ne.addEventListener("complete",Oe),ne.addEventListener("error",ze),ne.addEventListener("abort",ze)});pe.set(ne,Ye)}(ne),((ne,Ye)=>Ye.some(ce=>ne instanceof ce))(ne,function we(){return g||(g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Se):ne)}function rt(ne){if(ne instanceof IDBRequest)return function le(ne){const Ye=new Promise((ce,Ue)=>{const oe=()=>{ne.removeEventListener("success",Oe),ne.removeEventListener("error",ze)},Oe=()=>{ce(rt(ne.result)),oe()},ze=()=>{Ue(ne.error),oe()};ne.addEventListener("success",Oe),ne.addEventListener("error",ze)});return Ye.then(ce=>{ce instanceof IDBCursor&&Me.set(ce,ne)}).catch(()=>{}),fe.set(Ye,ne),Ye}(ne);if(q.has(ne))return q.get(ne);const Ye=Le(ne);return Ye!==ne&&(q.set(ne,Ye),fe.set(Ye,ne)),Ye}const Ne=ne=>fe.get(ne);function Ot(ne,Ye,{blocked:ce,upgrade:Ue,blocking:oe,terminated:Oe}={}){const ze=indexedDB.open(ne,Ye),yt=rt(ze);return Ue&&ze.addEventListener("upgradeneeded",mt=>{Ue(rt(ze.result),mt.oldVersion,mt.newVersion,rt(ze.transaction))}),ce&&ze.addEventListener("blocked",()=>ce()),yt.then(mt=>{Oe&&mt.addEventListener("close",()=>Oe()),oe&&mt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),yt}function et(ne,{blocked:Ye}={}){const ce=indexedDB.deleteDatabase(ne);return Ye&&ce.addEventListener("blocked",()=>Ye()),rt(ce).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],xe=new Map;function De(ne,Ye){if(!(ne instanceof IDBDatabase)||Ye in ne||"string"!=typeof Ye)return;if(xe.get(Ye))return xe.get(Ye);const ce=Ye.replace(/FromIndex$/,""),Ue=Ye!==ce,oe=_e.includes(ce);if(!(ce in(Ue?IDBIndex:IDBObjectStore).prototype)||!oe&&!Ee.includes(ce))return;const Oe=function(){var ze=(0,h.Z)(function*(yt,...mt){const gt=this.transaction(yt,oe?"readwrite":"readonly");let Ae=gt.store;return Ue&&(Ae=Ae.index(mt.shift())),(yield Promise.all([Ae[ce](...mt),oe&&gt.done]))[0]});return function(mt){return ze.apply(this,arguments)}}();return xe.set(Ye,Oe),Oe}!function $e(ne){Se=ne(Se)}(ne=>sC(rC({},ne),{get:(Ye,ce,Ue)=>De(Ye,ce)||ne.get(Ye,ce,Ue),has:(Ye,ce)=>!!De(Ye,ce)||ne.has(Ye,ce)}))},5861:(Gt,Ze,y)=>{function h(g,x,we,be,Me,pe,ie){try{var q=g[pe](ie),fe=q.value}catch(le){return void we(le)}q.done?x(fe):Promise.resolve(fe).then(be,Me)}function E(g){return function(){var x=this,we=arguments;return new Promise(function(be,Me){var pe=g.apply(x,we);function ie(fe){h(pe,be,Me,ie,q,"next",fe)}function q(fe){h(pe,be,Me,ie,q,"throw",fe)}ie(void 0)})}}y.d(Ze,{Z:()=>E})}},Gt=>{Gt(Gt.s=2278)}]);