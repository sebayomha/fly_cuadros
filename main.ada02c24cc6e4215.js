"use strict";var gw=Object.defineProperty,_w=Object.defineProperties,yw=Object.getOwnPropertyDescriptors,oC=Object.getOwnPropertySymbols,vw=Object.prototype.hasOwnProperty,bw=Object.prototype.propertyIsEnumerable,aC=($t,Xe,b)=>Xe in $t?gw($t,Xe,{enumerable:!0,configurable:!0,writable:!0,value:b}):$t[Xe]=b,lC=($t,Xe)=>{for(var b in Xe||(Xe={}))vw.call(Xe,b)&&aC($t,b,Xe[b]);if(oC)for(var b of oC(Xe))bw.call(Xe,b)&&aC($t,b,Xe[b]);return $t},cC=($t,Xe)=>_w($t,yw(Xe));(self.webpackChunkfly_cuadros=self.webpackChunkfly_cuadros||[]).push([[179],{7985:($t,Xe,b)=>{b.d(Xe,{ST:()=>lv,yb:()=>mE});var h=b(5e3),w=b(4986),g=b(8306),$=b(8996),we=b(9646),Ie=b(5813),Pe=b(4482),_e=b(5403);function ne(){return(0,Pe.e)((r,e)=>{let t,s=!1;r.subscribe((0,_e.x)(e,a=>{const u=t;t=a,s&&e.next([u,a]),s=!0}))})}var J,X=b(8675),pe=b(4004),ce=b(5026),ze=b(1884),xe=b(9300),He=b(2011),st=b(9808),at=(b(2274),b(3942)),ke=b(5861),Nt=b(9681),it=b(4859),be=b(1877),fe=b(2090),Se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},De={},Qe=Qe||{},se=Se||self;function Ue(){}function te(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Ne(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var yt="closure_uid_"+(1e9*Math.random()>>>0),_t=0;function Je(r,e,t){return r.call.apply(r.bind,arguments)}function je(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function $e(r,e,t){return($e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Je:je).apply(null,arguments)}function Ee(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Ge(r,e){function t(){}t.prototype=e.prototype,r.Z=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(s,a,u){for(var m=Array(arguments.length-2),M=2;M<arguments.length;M++)m[M-2]=arguments[M];return e.prototype[a].apply(s,m)}}function z(){this.s=this.s,this.o=this.o}var Rt={};z.prototype.s=!1,z.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function We(r){return Object.prototype.hasOwnProperty.call(r,yt)&&r[yt]||(r[yt]=++_t)}(this);delete Rt[r]}},z.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1},Ot=Array.prototype.forEach?function(r,e,t){Array.prototype.forEach.call(r,e,t)}:function(r,e,t){const s=r.length,a="string"==typeof r?r.split(""):r;for(let u=0;u<s;u++)u in a&&e.call(t,a[u],u,r)};function bt(r){return Array.prototype.concat.apply([],arguments)}function Vt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Ze(r){return/^[\s\xa0]*$/.test(r)}var Fn,St=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function sn(r,e){return-1!=r.indexOf(e)}function On(r,e){return r<e?-1:r>e?1:0}e:{var fn=se.navigator;if(fn){var gn=fn.userAgent;if(gn){Fn=gn;break e}}Fn=""}function cn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function ht(r){const e={};for(const t in r)e[t]=r[t];return e}var O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let u=0;u<O.length;u++)t=O[u],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function ie(r){return ie[" "](r),r}ie[" "]=Ue;var on,r,Ae=sn(Fn,"Opera"),ue=sn(Fn,"Trident")||sn(Fn,"MSIE"),tt=sn(Fn,"Edge"),gt=tt||ue,Tt=sn(Fn,"Gecko")&&!(sn(Fn.toLowerCase(),"webkit")&&!sn(Fn,"Edge"))&&!(sn(Fn,"Trident")||sn(Fn,"MSIE"))&&!sn(Fn,"Edge"),rn=sn(Fn.toLowerCase(),"webkit")&&!sn(Fn,"Edge");function ln(){var r=se.document;return r?r.documentMode:void 0}e:{var Un="",Hn=(r=Fn,Tt?/rv:([^\);]+)(\)|;)/.exec(r):tt?/Edge\/([\d\.]+)/.exec(r):ue?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):rn?/WebKit\/(\S+)/.exec(r):Ae?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Hn&&(Un=Hn?Hn[1]:""),ue){var ii=ln();if(null!=ii&&ii>parseFloat(Un)){on=String(ii);break e}}on=Un}var an={};var U=se.document&&ue&&(ln()||parseInt(on,10))||void 0,P=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{se.addEventListener("test",Ue,e),se.removeEventListener("test",Ue,e)}catch(t){}return r}();function R(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}function me(r,e){if(R.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Tt){e:{try{ie(e.nodeName);var a=!0;break e}catch(u){}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Re[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&me.Z.h.call(this)}}R.prototype.h=function(){this.defaultPrevented=!0},Ge(me,R);var Re={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),mn=0;function Cn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++mn,this.ca=this.fa=!1}function Xn(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function vn(r){this.src=r,this.g={},this.h=0}function hi(r,e){var t=e.type;if(t in r.g){var u,s=r.g[t],a=pt(s,e);(u=0<=a)&&Array.prototype.splice.call(s,a,1),u&&(Xn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ct(r,e,t,s){for(var a=0;a<r.length;++a){var u=r[a];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==s)return a}return-1}vn.prototype.add=function(r,e,t,s,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var m=Ct(r,e,s,a);return-1<m?(e=r[m],t||(e.fa=!1)):((e=new Cn(e,this.src,u,!!s,a)).fa=t,r.push(e)),e};var ut="closure_lm_"+(1e6*Math.random()|0),Ke={};function mt(r,e,t,s,a){if(s&&s.once)return Le(r,e,t,s,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)mt(r,e[u],t,s,a);return null}return t=Nn(t),r&&r[Dt]?r.N(e,t,Ne(s)?!!s.capture:!!s,a):Gt(r,e,t,!1,s,a)}function Gt(r,e,t,s,a,u){if(!e)throw Error("Invalid event type");var m=Ne(a)?!!a.capture:!!a,M=hn(r);if(M||(r[ut]=M=new vn(r)),(t=M.add(e,t,s,m,u)).proxy)return t;if(s=function wt(){var e=Kt;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)P||(a=m),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Ft(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Le(r,e,t,s,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Le(r,e[u],t,s,a);return null}return t=Nn(t),r&&r[Dt]?r.O(e,t,Ne(s)?!!s.capture:!!s,a):Gt(r,e,t,!0,s,a)}function Me(r,e,t,s,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)Me(r,e[u],t,s,a);else s=Ne(s)?!!s.capture:!!s,t=Nn(t),r&&r[Dt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ct(u=r.g[e],t,s,a))&&(Xn(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=hn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ct(e,t,s,a)),(t=-1<r?e[r]:null)&&lt(t))}function lt(r){if("number"!=typeof r&&r&&!r.ca){var e=r.src;if(e&&e[Dt])hi(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Ft(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=hn(e))?(hi(t,r),0==t.h&&(t.src=null,e[ut]=null)):Xn(r)}}}function Ft(r){return r in Ke?Ke[r]:Ke[r]="on"+r}function Kt(r,e){if(r.ca)r=!0;else{e=new me(e,this);var t=r.listener,s=r.ia||r.src;r.fa&&lt(r),r=t.call(s,e)}return r}function hn(r){return(r=r[ut])instanceof vn?r:null}var xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nn(r){return"function"==typeof r?r:(r[xn]||(r[xn]=function(e){return r.handleEvent(e)}),r[xn])}function jn(){z.call(this),this.i=new vn(this),this.P=this,this.I=null}function Xt(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new R(e,r);else if(e instanceof R)e.target=e.target||r;else{var a=e;Z(e=new R(s,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var m=e.g=t[u];a=Sn(m,s,!0,e)&&a}if(a=Sn(m=e.g=r,s,!0,e)&&a,a=Sn(m,s,!1,e)&&a,t)for(u=0;u<t.length;u++)a=Sn(m=e.g=t[u],s,!1,e)&&a}function Sn(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var m=e[u];if(m&&!m.ca&&m.capture==t){var M=m.listener,B=m.ia||m.src;m.fa&&hi(r.i,m),a=!1!==M.call(B,s)&&a}}return a&&!s.defaultPrevented}Ge(jn,z),jn.prototype[Dt]=!0,jn.prototype.removeEventListener=function(r,e,t,s){Me(this,r,e,t,s)},jn.prototype.M=function(){if(jn.Z.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Xn(t[s]);delete r.g[e],r.h--}}this.I=null},jn.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},jn.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var ai=se.JSON.stringify;function Mi(){var r=ur;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Ti,xi=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Er,r=>r.reset());class Er{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _i(r){se.setTimeout(()=>{throw r},0)}function $i(r,e){Ti||function Gn(){var r=se.Promise.resolve(void 0);Ti=function(){r.then(_s)}}(),kr||(Ti(),kr=!0),ur.add(r,e)}var kr=!1,ur=new class Gi{constructor(){this.h=this.g=null}add(e,t){const s=xi.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function _s(){for(var r;r=Mi();){try{r.h.call(r.g)}catch(t){_i(t)}var e=xi;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}kr=!1}function mr(r,e){jn.call(this),this.h=r||1,this.g=e||se,this.j=$e(this.kb,this),this.l=Date.now()}function Li(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Nr(r,e,t){if("function"==typeof r)t&&(r=$e(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=$e(r.handleEvent,r)}return 2147483647<Number(e)?-1:se.setTimeout(r,e||0)}function Fr(r){r.g=Nr(()=>{r.g=null,r.i&&(r.i=!1,Fr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Ge(mr,jn),(J=mr.prototype).da=!1,J.S=null,J.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xt(this,"tick"),this.da&&(Li(this),this.start()))}},J.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.M=function(){mr.Z.M.call(this),Li(this),delete this.g};class dr extends z{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fr(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(r){z.call(this),this.h=r,this.g={}}Ge(fi,z);var Lr=[];function ys(r,e,t,s){Array.isArray(t)||(t&&(Lr[0]=t.toString()),t=Lr);for(var a=0;a<t.length;a++){var u=mt(e,t[a],s||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function Bi(r){cn(r.g,function(e,t){this.g.hasOwnProperty(t)&&lt(e)},r),r.g={}}function yr(){this.g=!0}function or(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ws(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var m=1;m<a.length;m++)a[m]=""}}}return ai(t)}catch(M){return e}}(r,t)+(s?" "+s:"")})}fi.prototype.M=function(){fi.Z.M.call(this),Bi(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yr.prototype.Aa=function(){this.g=!1},yr.prototype.info=function(){};var bs={},wo=null;function er(){return wo=wo||new jn}function zr(r){R.call(this,bs.Ma,r)}function es(r){const e=er();Xt(e,new zr(e,r))}function Do(r,e){R.call(this,bs.STAT_EVENT,r),this.stat=e}function Oi(r){const e=er();Xt(e,new Do(e,r))}function eo(r,e){R.call(this,bs.Na,r),this.size=e}function ts(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){r()},e)}bs.Ma="serverreachability",Ge(zr,R),bs.STAT_EVENT="statevent",Ge(Do,R),bs.Na="timingevent",Ge(eo,R);var Ps={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ns={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ks(){}function fo(){}ks.prototype.h=null;var Ns,po={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ks(){R.call(this,"d")}function is(){R.call(this,"c")}function hr(){}function Es(r,e,t,s){this.l=r,this.j=e,this.m=t,this.X=s||1,this.V=new fi(this),this.P=Go,this.W=new mr(r=gt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}Ge(Ks,R),Ge(is,R),Ge(hr,ks),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},Ns=new hr;var Go=45e3,ar={},Wr={};function xr(r,e,t){r.K=1,r.v=Lt(yi(e)),r.s=t,r.U=!0,Br(r,null)}function Br(r,e){r.F=Date.now(),Cr(r),r.A=yi(r.v);var t=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),wn(t.h,"t",s),r.C=0,t=r.l.H,r.h=new rs,r.g=os(r.l,t?e:null,!r.s),0<r.O&&(r.L=new dr($e(r.Ia,r,r.g),r.O)),ys(r.V,r.g,"readystatechange",r.gb),e=r.H?ht(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),es(1),function vs(r,e,t,s,a,u){r.info(function(){if(r.g)if(u)for(var m="",M=u.split("&"),B=0;B<M.length;B++){var q=M[B].split("=");if(1<q.length){var Te=q[0];q=q[1];var nt=Te.split("_");m=2<=nt.length&&"type"==nt[1]?m+(Te+"=")+q+"&":m+(Te+"=redacted&")}}else m=null;else m=u;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+m})}(r.j,r.u,r.A,r.m,r.X,r.s)}function Fs(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function $o(r,e,t){let a,s=!0;for(;!r.I&&r.C<t.length;){if(a=ls(r,t),a==Wr){4==e&&(r.o=4,Oi(14),s=!1),or(r.j,r.m,null,"[Incomplete Response]");break}if(a==ar){r.o=4,Oi(15),or(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}or(r.j,r.m,a,null),Ds(r,a)}Fs(r)&&a!=Wr&&a!=ar&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Oi(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.aa&&(r.aa=!0,(e=r.l).g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),hs(e),e.L=!0,Oi(11))):(or(r.j,r.m,t,"[Invalid Chunked Response]"),Ri(r),ws(r))}function ls(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Wr:(t=Number(e.substring(t,s)),isNaN(t)?ar:(s+=1)+t>e.length?Wr:(e=e.substr(s,t),r.C=s+t,e))}function Cr(r){r.Y=Date.now()+r.P,Cs(r,r.P)}function Cs(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ts($e(r.eb,r),e)}function fr(r){r.B&&(se.clearTimeout(r.B),r.B=null)}function ws(r){0==r.l.G||r.I||Kn(r.l,r)}function Ri(r){fr(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Li(r.W),Bi(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Ds(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||nr(t.i,r)))if(t.I=r.N,!r.J&&nr(t.i,r)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(q){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=ts($e(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;En(t),Or(t)}ro(t),Oi(18)}if(1>=zo(t.i)&&t.ka){try{t.ka()}catch(q){}t.ka=void 0}}else Ui(t,11)}else if((r.J||t.g==r)&&En(t),!Ze(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let q=a[e];if(t.U=q[0],q=q[1],2==t.G)if("c"==q[0]){t.J=q[1],t.la=q[2];const Te=q[3];null!=Te&&(t.ma=Te,t.h.info("VER="+t.ma));const nt=q[4];null!=nt&&(t.za=nt,t.h.info("SVER="+t.za));const xt=q[5];null!=xt&&"number"==typeof xt&&0<xt&&(t.K=s=1.5*xt,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const Zt=r.g;if(Zt){const qt=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qt){var u=s.i;!u.g&&(sn(qt,"spdy")||sn(qt,"quic")||sn(qt,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Wo(u,u.h),u.h=null))}if(s.D){const yn=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;yn&&(s.sa=yn,et(s.F,s.D,yn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-r.F,t.h.info("Handshake RTT: "+t.O+"ms"));var m=r;if((s=t).oa=rr(s,s.H?s.la:null,s.W),m.J){go(s.i,m);var M=m,B=s.K;B&&M.setTimeout(B),M.B&&(fr(M),Cr(M)),s.g=m}else qr(s);0<t.l.length&&Qi(t)}else"stop"!=q[0]&&"close"!=q[0]||Ui(t,7);else 3==t.G&&("stop"==q[0]||"close"==q[0]?"stop"==q[0]?Ui(t,7):wi(t):"noop"!=q[0]&&t.j&&t.j.wa(q),t.A=0)}es(4)}catch(q){}}function Pi(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(te(r)||"string"==typeof r)Ot(r,e,void 0);else{if(r.T&&"function"==typeof r.T)var t=r.T();else if(r.R&&"function"==typeof r.R)t=void 0;else if(te(r)||"string"==typeof r){t=[];for(var s=r.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,r)t[s++]=a;s=function wr(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(te(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length;for(var u=0;u<a;u++)e.call(void 0,s[u],t&&t[u],r)}}function Kr(r,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Kr)for(t=r.T(),s=0;s<t.length;s++)this.set(t[s],r.get(t[s]));else for(s in r)this.set(s,r[s])}function ss(r){if(r.i!=r.g.length){for(var e=0,t=0;e<r.g.length;){var s=r.g[e];gr(r.h,s)&&(r.g[t++]=s),e++}r.g.length=t}if(r.i!=r.g.length){var a={};for(t=e=0;e<r.g.length;)gr(a,s=r.g[e])||(r.g[t++]=s,a[s]=1),e++;r.g.length=t}}function gr(r,e){return Object.prototype.hasOwnProperty.call(r,e)}(J=Es.prototype).setTimeout=function(r){this.P=r},J.gb=function(r){r=r.target;const e=this.L;e&&3==kn(r)?e.l():this.Ia(r)},J.Ia=function(r){try{if(r==this.g)e:{const Te=kn(this.g);var e=this.g.Da();const nt=this.g.ba();if(!(3>Te)&&(3!=Te||gt||this.g&&(this.h.h||this.g.ga()||Zn(this.g)))){this.I||4!=Te||7==e||es(8==e||0>=nt?3:2),fr(this);var t=this.g.ba();this.N=t;t:if(Fs(this)){var s=Zn(this.g);r="";var a=s.length,u=4==kn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ri(this),ws(this);var m="";break t}this.h.i=new se.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:u&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==t,function zs(r,e,t,s,a,u,m){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+m})}(this.j,this.u,this.A,this.m,this.X,Te,t),this.i){if(this.$&&!this.J){t:{if(this.g){var M,B=this.g;if((M=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ze(M)){var q=M;break t}}q=null}if(!(t=q)){this.i=!1,this.o=3,Oi(12),Ri(this),ws(this);break e}or(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ds(this,t)}this.U?($o(this,Te,m),gt&&this.i&&3==Te&&(ys(this.V,this.W,"tick",this.fb),this.W.start())):(or(this.j,this.m,m,null),Ds(this,m)),4==Te&&Ri(this),this.i&&!this.I&&(4==Te?Kn(this.l,this):(this.i=!1,Cr(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,Oi(12)):(this.o=0,Oi(13)),Ri(this),ws(this)}}}catch(Te){}},J.fb=function(){if(this.g){var r=kn(this.g),e=this.g.ga();this.C<e.length&&(fr(this),$o(this,r,e),this.i&&4!=r&&Cr(this))}},J.cancel=function(){this.I=!0,Ri(this)},J.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Ir(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(es(3),Oi(17)),Ri(this),this.o=2,ws(this)):Cs(this,this.Y-r)},(J=Kr.prototype).R=function(){ss(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r},J.T=function(){return ss(this),this.g.concat()},J.get=function(r,e){return gr(this.h,r)?this.h[r]:e},J.set=function(r,e){gr(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e},J.forEach=function(r,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],u=this.get(a);r.call(e,u,a,this)}};var cs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function us(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof us){this.g=void 0!==e?e:r.g,j(this,r.j),this.s=r.s,ae(this,r.i),L(this,r.m),this.l=r.l,e=r.h;var t=new F;t.i=e.i,e.g&&(t.g=new Kr(e.g),t.h=e.h),ye(this,t),this.o=r.o}else r&&(t=String(r).match(cs))?(this.g=!!e,j(this,t[1]||"",!0),this.s=$n(t[2]||""),ae(this,t[3]||"",!0),L(this,t[4]),this.l=$n(t[5]||"",!0),ye(this,t[6]||"",!0),this.o=$n(t[7]||"")):(this.g=!!e,this.h=new F(null,this.g))}function yi(r){return new us(r)}function j(r,e,t){r.j=t?$n(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ae(r,e,t){r.i=t?$n(e,!0):e}function L(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ye(r,e,t){e instanceof F?(r.h=e,function Vr(r,e){e&&!r.j&&(S(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(de(this,s),wn(this,a,t))},r)),r.j=e}(r.h,r.g)):(t||(e=gi(e,Wi)),r.h=new F(e,r.g))}function et(r,e,t){r.h.set(e,t)}function Lt(r){return et(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function $n(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function gi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,li),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function li(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}us.prototype.toString=function(){var r=[],e=this.j;e&&r.push(gi(e,pi,!0),":");var t=this.i;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(gi(e,pi,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&r.push("/"),r.push(gi(t,"/"==t.charAt(0)?Ci:qi,!0))),(t=this.h.toString())&&r.push("?",t),(t=this.o)&&r.push("#",gi(t,G)),r.join("")};var pi=/[#\/\?@]/g,qi=/[#\?:]/g,Ci=/[#\?]/g,Wi=/[#\?@]/g,G=/#/g;function F(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function S(r){r.g||(r.g=new Kr,r.h=0,r.i&&function Zr(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var u=r[t].substring(0,s);a=r[t].substring(s+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function de(r,e){S(r),e=bi(r,e),gr(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,gr((r=r.g).h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&ss(r)))}function Bt(r,e){return S(r),e=bi(r,e),gr(r.g.h,e)}function wn(r,e,t){de(r,e),0<t.length&&(r.i=null,r.g.set(bi(r,e),Vt(t)),r.h+=t.length)}function bi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ds(r){this.l=r||Jt,r=se.PerformanceNavigationTiming?0<(r=se.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(se.g&&se.g.Ea&&se.g.Ea()&&se.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=F.prototype).add=function(r,e){S(this),this.i=null,r=bi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},J.forEach=function(r,e){S(this),this.g.forEach(function(t,s){Ot(t,function(a){r.call(e,a,s,this)},this)},this)},J.T=function(){S(this);for(var r=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=r[s],u=0;u<a.length;u++)t.push(e[s]);return t},J.R=function(r){S(this);var e=[];if("string"==typeof r)Bt(this,r)&&(e=bt(e,this.g.get(bi(this,r))));else{r=this.g.R();for(var t=0;t<r.length;t++)e=bt(e,r[t])}return e},J.set=function(r,e){return S(this),this.i=null,Bt(this,r=bi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},J.get=function(r,e){return r&&0<(r=this.R(r)).length?String(r[0]):e},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var u=0;u<s.length;u++){var m=a;""!==s[u]&&(m+="="+encodeURIComponent(String(s[u]))),r.push(m)}}return this.i=r.join("&")};var Jt=10;function vi(r){return!!r.h||!!r.g&&r.g.size>=r.j}function zo(r){return r.h?1:r.g?r.g.size:0}function nr(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Wo(r,e){r.g?r.g.add(e):r.h=e}function go(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Is(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Vt(r.i)}function To(){}function Da(){this.g=new To}function cl(r,e,t){const s=t||"";try{Pi(r,function(a,u){let m=a;Ne(a)&&(m=ai(a)),e.push(s+u+"="+encodeURIComponent(m))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function to(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(u){}}function no(r){this.l=r.$b||null,this.j=r.ib||!1}function pr(r,e){jn.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ds.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},To.prototype.stringify=function(r){return se.JSON.stringify(r,void 0)},To.prototype.parse=function(r){return se.JSON.parse(r,void 0)},Ge(no,ks),no.prototype.g=function(){return new pr(this.l,this.j)},no.prototype.i=function(r){return function(){return r}}({}),Ge(pr,jn);var Ls=0;function Ko(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function ee(r){r.readyState=4,r.l=null,r.j=null,r.A=null,y(r)}function y(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(J=pr.prototype).open=function(r,e){if(this.readyState!=Ls)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,y(this)},J.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||se).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ee(this)),this.readyState=Ls},J.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,y(this)),this.g&&(this.readyState=3,y(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==se.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ko(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},J.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ee(this):y(this),3==this.readyState&&Ko(this)}},J.Ua=function(r){this.g&&(this.response=this.responseText=r,ee(this))},J.Ta=function(r){this.g&&(this.response=r,ee(this))},J.ha=function(){this.g&&ee(this)},J.setRequestHeader=function(r,e){this.v.append(r,e)},J.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var E=se.JSON.parse;function N(r){jn.call(this),this.headers=new Kr,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=re,this.K=this.L=!1}Ge(N,jn);var re="",Oe=/^https?$/i,rt=["POST","PUT"];function Mt(r){return"content-type"==r.toLowerCase()}function Wt(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Dn(r),zn(r)}function Dn(r){r.D||(r.D=!0,Xt(r,"complete"),Xt(r,"error"))}function Rn(r){if(r.h&&void 0!==Qe&&(!r.C[1]||4!=kn(r)||2!=r.ba()))if(r.v&&4==kn(r))Nr(r.Fa,0,r);else if(Xt(r,"readystatechange"),4==kn(r)){r.h=!1;try{const M=r.ba();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===M){var a=String(r.H).match(cs)[1]||null;if(!a&&se.self&&se.self.location){var u=se.self.location.protocol;a=u.substr(0,u.length-1)}s=!Oe.test(a?a.toLowerCase():"")}t=s}if(t)Xt(r,"complete"),Xt(r,"success");else{r.m=6;try{var m=2<kn(r)?r.g.statusText:""}catch(B){m=""}r.j=m+" ["+r.ba()+"]",Dn(r)}}finally{zn(r)}}}function zn(r,e){if(r.g){ci(r);const t=r.g,s=r.C[0]?Ue:null;r.g=null,r.C=null,e||Xt(r,"ready");try{t.onreadystatechange=s}catch(a){}}}function ci(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(se.clearTimeout(r.A),r.A=null)}function kn(r){return r.g?r.g.readyState:0}function Zn(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case re:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tr(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function ki(r){let e="";return cn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):et(r,e,t))}function ir(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ur(r){this.za=0,this.l=[],this.h=new yr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ir("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ir("baseRetryDelayMs",5e3,r),this.$a=ir("retryDelaySeedMs",1e4,r),this.Ya=ir("forwardChannelMaxRetries",2,r),this.ra=ir("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new ds(r&&r.concurrentRequestLimit),this.Ca=new Da,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function wi(r){if(Vi(r),3==r.G){var e=r.V++,t=yi(r.F);et(t,"SID",r.J),et(t,"RID",e),et(t,"TYPE","terminate"),Bs(r,t),(e=new Es(r,r.h,e,void 0)).K=2,e.v=Lt(yi(t)),t=!1,se.navigator&&se.navigator.sendBeacon&&(t=se.navigator.sendBeacon(e.v.toString(),"")),!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=os(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Cr(e)}Ts(r)}function Or(r){r.g&&(hs(r),r.g.cancel(),r.g=null)}function Vi(r){Or(r),r.u&&(se.clearTimeout(r.u),r.u=null),En(r),r.i.cancel(),r.m&&("number"==typeof r.m&&se.clearTimeout(r.m),r.m=null)}function Yr(r,e){r.l.push(new class{constructor(r,e){this.h=r,this.g=e}}(r.Za++,e)),3==r.G&&Qi(r)}function Qi(r){vi(r.i)||r.m||(r.m=!0,$i(r.Ha,r),r.C=0)}function io(r,e){var t;t=e?e.m:r.V++;const s=yi(r.F);et(s,"SID",r.J),et(s,"RID",t),et(s,"AID",r.U),Bs(r,s),r.o&&r.s&&tr(s,r.o,r.s),t=new Es(r,r.h,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.l=e.D.concat(r.l)),e=So(r,t,1e3),t.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),Wo(r.i,t),xr(t,s,e)}function Bs(r,e){r.j&&Pi({},function(t,s){et(e,s,t)})}function So(r,e,t){t=Math.min(r.l.length,t);var s=r.j?$e(r.j.Oa,r.j,r):null;e:{var a=r.l;let u=-1;for(;;){const m=["count="+t];-1==u?0<t?(u=a[0].h,m.push("ofs="+u)):u=0:m.push("ofs="+u);let M=!0;for(let B=0;B<t;B++){let q=a[B].h;const Te=a[B].g;if(q-=u,0>q)u=Math.max(0,a[B].h-100),M=!1;else try{cl(Te,m,"req"+q+"_")}catch(nt){s&&s(Te)}}if(M){s=m.join("&");break e}}}return r=r.l.splice(0,t),e.D=r,s}function qr(r){r.g||r.u||(r.Y=1,$i(r.Ga,r),r.A=0)}function ro(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=ts($e(r.Ga,r),ui(r,r.A)),r.A++,0))}function hs(r){null!=r.B&&(se.clearTimeout(r.B),r.B=null)}function Mn(r){r.g=new Es(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var e=yi(r.oa);et(e,"RID","rpc"),et(e,"SID",r.J),et(e,"CI",r.N?"0":"1"),et(e,"AID",r.U),Bs(r,e),et(e,"TYPE","xmlhttp"),r.o&&r.s&&tr(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.la,t.K=1,t.v=Lt(yi(e)),t.s=null,t.U=!0,Br(t,r)}function En(r){null!=r.v&&(se.clearTimeout(r.v),r.v=null)}function Kn(r,e){var t=null;if(r.g==e){En(r),hs(r),r.g=null;var s=2}else{if(!nr(r.i,e))return;t=e.D,go(r.i,e),s=1}if(r.I=e.N,0!=r.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=r.C;Xt(s=er(),new eo(s,t,e,a)),Qi(r)}else qr(r);else if(3==(a=e.o)||0==a&&0<r.I||!(1==s&&function Mo(r,e){return!(zo(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=e.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=ts($e(r.Ha,r,e),ui(r,r.C)),r.C++,0)))}(r,e)||2==s&&ro(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Ui(r,5);break;case 4:Ui(r,10);break;case 3:Ui(r,6);break;default:Ui(r,2)}}function ui(r,e){let t=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(t*=2),t*e}function Ui(r,e){if(r.h.info("Error code "+e),2==e){var t=null;r.j&&(t=null);var s=$e(r.jb,r);t||(t=new us("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||j(t,"https"),Lt(t)),function sa(r,e){const t=new yr;if(se.Image){const s=new Image;s.onload=Ee(to,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ee(to,t,s,"TestLoadImage: error",!1,e),s.onabort=Ee(to,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ee(to,t,s,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Oi(2);r.G=0,r.j&&r.j.va(e),Ts(r),Vi(r)}function Ts(r){r.G=0,r.I=-1,r.j&&((0!=Is(r.i).length||0!=r.l.length)&&(r.i.i.length=0,Vt(r.l),r.l.length=0),r.j.ua())}function rr(r,e,t){let s=function zt(r){return r instanceof us?yi(r):new us(r,void 0)}(t);if(""!=s.i)e&&ae(s,e+"."+s.i),L(s,s.m);else{const a=se.location;s=function In(r,e,t,s){var a=new us(null,void 0);return r&&j(a,r),e&&ae(a,e),t&&L(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return r.aa&&cn(r.aa,function(a,u){et(s,u,a)}),t=r.sa,(e=r.D)&&t&&et(s,e,t),et(s,"VER",r.ma),Bs(r,s),s}function os(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new N(t&&r.Ba&&!r.qa?new no({ib:!0}):r.qa)).L=r.H,e}function Ni(){}function Zo(){if(ue&&!(10<=Number(U)))throw Error("Environmental error: no available transport.")}function fs(r,e){jn.call(this),this.g=new Ur(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!Ze(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ze(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ki(this)}function Qr(r){Ks.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ao(){is.call(this),this.status=1}function Ki(r){this.g=r}(J=N.prototype).ea=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ns.g(),this.C=function Io(r){return r.h||(r.h=r.i())}(this.u?this.u:Ns),this.g.onreadystatechange=$e(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(u){return void Wt(this,u)}r=t||"";const a=new Kr(this.headers);s&&Pi(s,function(u,m){a.set(m,u)}),s=function Et(r){e:{var e=Mt;const t=r.length,s="string"==typeof r?r.split(""):r;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,r)){e=a;break e}e=-1}return 0>e?null:"string"==typeof r?r.charAt(e):r[e]}(a.T()),t=se.FormData&&r instanceof se.FormData,!(0<=pt(rt,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(u,m){this.g.setRequestHeader(m,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ci(this),0<this.B&&((this.K=function ot(r){return ue&&function Ai(){return function ge(r){var e=an;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=St(String(on)).split("."),t=St("9").split("."),s=Math.max(e.length,t.length);for(let m=0;0==r&&m<s;m++){var a=e[m]||"",u=t[m]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;r=On(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||On(0==a[2].length,0==u[2].length)||On(a[2],u[2]),a=a[3],u=u[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$e(this.pa,this)):this.A=Nr(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Wt(this,u)}},J.pa=function(){void 0!==Qe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))},J.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Xt(this,"complete"),Xt(this,"abort"),zn(this))},J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zn(this,!0)),N.Z.M.call(this)},J.Fa=function(){this.s||(this.F||this.v||this.l?Rn(this):this.cb())},J.cb=function(){Rn(this)},J.ba=function(){try{return 2<kn(this)?this.g.status:-1}catch(r){return-1}},J.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},J.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),E(e)}},J.Da=function(){return this.m},J.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=Ur.prototype).ma=8,J.G=1,J.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(e){}},J.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const a=new Es(this,this.h,r,void 0);let u=this.s;if(this.P&&(u?(u=ht(u),Z(u,this.P)):u=this.P),null===this.o&&(a.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=So(this,a,e),et(t=yi(this.F),"RID",r),et(t,"CVER",22),this.D&&et(t,"X-HTTP-Session-Id",this.D),Bs(this,t),this.o&&u&&tr(t,this.o,u),Wo(this.i,a),this.Ra&&et(t,"TYPE","init"),this.ja?(et(t,"$req",e),et(t,"SID","null"),a.$=!0,xr(a,t,null)):xr(a,t,e),this.G=2}}else 3==this.G&&(r?io(this,r):0==this.l.length||vi(this.i)||io(this))},J.Ga=function(){if(this.u=null,Mn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=ts($e(this.bb,this),r)}},J.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Oi(10),Or(this),Mn(this))},J.ab=function(){null!=this.v&&(this.v=null,Or(this),ro(this),Oi(19))},J.jb=function(r){r?(this.h.info("Successfully pinged google.com"),Oi(2)):(this.h.info("Failed to ping google.com"),Oi(1))},(J=Ni.prototype).xa=function(){},J.wa=function(){},J.va=function(){},J.ua=function(){},J.Oa=function(){},Zo.prototype.g=function(r,e){return new fs(r,e)},Ge(fs,jn),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),$i($e(r.hb,r,e))),Oi(0),r.W=e,r.aa=t||{},r.N=r.X,r.F=rr(r,null,r.W),Qi(r)},fs.prototype.close=function(){wi(this.g)},fs.prototype.u=function(r){if("string"==typeof r){var e={};e.__data__=r,Yr(this.g,e)}else this.v?((e={}).__data__=ai(r),Yr(this.g,e)):Yr(this.g,r)},fs.prototype.M=function(){this.g.j=null,delete this.j,wi(this.g),delete this.g,fs.Z.M.call(this)},Ge(Qr,Ks),Ge(Ao,is),Ge(Ki,Ni),Ki.prototype.xa=function(){Xt(this.g,"a")},Ki.prototype.wa=function(r){Xt(this.g,new Qr(r))},Ki.prototype.va=function(r){Xt(this.g,new Ao(r))},Ki.prototype.ua=function(){Xt(this.g,"b")},Zo.prototype.createWebChannel=Zo.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,ns.COMPLETE="complete",fo.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",jn.prototype.listen=jn.prototype.N,N.prototype.listenOnce=N.prototype.O,N.prototype.getLastError=N.prototype.La,N.prototype.getLastErrorCode=N.prototype.Da,N.prototype.getStatus=N.prototype.ba,N.prototype.getResponseJson=N.prototype.Qa,N.prototype.getResponseText=N.prototype.ga,N.prototype.send=N.prototype.ea;var Ms=De.createWebChannelTransport=function(){return new Zo},pa=De.getStatEventTarget=function(){return er()},Vs=De.ErrorCode=Ps,ul=De.EventType=ns,Ha=De.Event=bs,so=De.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dl=De.FetchXmlHttpFactory=no,Xi=De.WebChannel=fo,Ia=De.XhrIo=N;const oa="@firebase/firestore";class A{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A.UNAUTHENTICATED=new A(null),A.GOOGLE_CREDENTIALS=new A("google-credentials-uid"),A.FIRST_PARTY=new A("first-party-uid"),A.MOCK_USER=new A("mock-user");let I="9.9.4";const C=new be.Yd("@firebase/firestore");function H(){return C.logLevel}function Q(r,...e){if(C.logLevel<=be.in.DEBUG){const t=e.map(jt);C.debug(`Firestore (${I}): ${r}`,...t)}}function Be(r,...e){if(C.logLevel<=be.in.ERROR){const t=e.map(jt);C.error(`Firestore (${I}): ${r}`,...t)}}function ct(r,...e){if(C.logLevel<=be.in.WARN){const t=e.map(jt);C.warn(`Firestore (${I}): ${r}`,...t)}}function jt(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function Ht(r="Unexpected state"){const e=`FIRESTORE (${I}) INTERNAL ASSERTION FAILED: `+r;throw Be(e),new Error(e)}function un(r,e){r||Ht()}function en(r,e){return r}const It={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qt extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ma{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ga{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(A.UNAUTHENTICATED))}shutdown(){}}class xo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Nl{constructor(e){this.t=e,this.currentUser=A.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const u=q=>this.i!==a?(a=this.i,t(q)):Promise.resolve();let m=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ji,e.enqueueRetryable(()=>u(this.currentUser))};const M=()=>{const q=m;e.enqueueRetryable((0,ke.Z)(function*(){yield q.promise,yield u(s.currentUser)}))},B=q=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(q=>B(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?B(q):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ji)}},0),M()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(un("string"==typeof s.accessToken),new ma(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return un(null===e||"string"==typeof e),new A(e)}}class Ta{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a,this.type="FirstParty",this.user=A.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(un(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Fl{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a}getToken(){return Promise.resolve(new Ta(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(A.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ma{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yo{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=u=>{null!=u.error&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.A;return this.A=u.token,Q("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?a(u):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(un("string"==typeof t.token),this.A=t.token,new Ma(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ll(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Oo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Ll(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<t&&(s+=e.charAt(a[u]%e.length))}return s}}function Jn(r,e){return r<e?-1:r>e?1:0}function _o(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function Ro(r){return r+"\0"}class Zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qt(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qt(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qt(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qt(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zi.fromMillis(Date.now())}static fromDate(e){return Zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Zi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jn(this.nanoseconds,e.nanoseconds):Jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yn(e)}static min(){return new Yn(new Zi(0,0))}static max(){return new Yn(new Zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bl{constructor(e,t,s){void 0===t?t=0:t>e.length&&Ht(),void 0===s?s=e.length-t:s>e.length-t&&Ht(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Bl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const u=e.get(a),m=t.get(a);if(u<m)return-1;if(u>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ji extends Bl{construct(e,t,s){return new ji(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Qt(It.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new ji(t)}static emptyPath(){return new ji([])}}const Tr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Bl{construct(e,t,s){return new Mr(e,t,s)}static isValidIdentifier(e){return Tr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const u=()=>{if(0===s.length)throw new Qt(It.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let m=!1;for(;a<e.length;){const M=e[a];if("\\"===M){if(a+1===e.length)throw new Qt(It.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[a+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new Qt(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=B,a+=2}else"`"===M?(m=!m,a++):"."!==M||m?(s+=M,a++):(u(),a++)}if(u(),m)throw new Qt(It.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}class bn{constructor(e){this.path=e}static fromPath(e){return new bn(ji.fromString(e))}static fromName(e){return new bn(ji.fromString(e).popFirst(5))}static empty(){return new bn(ji.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ji.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ji.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bn(new ji(e.slice()))}}class fl{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Gu(r){return r.fields.find(e=>2===e.kind)}function pl(r){return r.fields.filter(e=>2!==e.kind)}fl.UNKNOWN_ID=-1;class ru{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ul{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ul(0,jr.min())}}function Rr(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Yn.fromTimestamp(1e9===s?new Zi(t+1,0):new Zi(t,s));return new jr(a,bn.empty(),e)}function ml(r){return new jr(r.readTime,r.key,-1)}class jr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new jr(Yn.min(),bn.empty(),-1)}static max(){return new jr(Yn.max(),bn.empty(),-1)}}function su(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=bn.comparator(r.documentKey,e.documentKey),0!==t?t:Jn(r.largestBatchId,e.largestBatchId))}const jl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xr(r){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,ke.Z)(function*(r){if(r.code!==It.FAILED_PRECONDITION||r.message!==jl)throw r;Q("LocalStore","Unexpectedly lost primary lease")}),Sa.apply(this,arguments)}class Pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pt((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pt?t:Pt.resolve(t)}catch(t){return Pt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pt.reject(t)}static resolve(e){return new Pt((t,s)=>{t(e)})}static reject(e){return new Pt((t,s)=>{s(e)})}static waitFor(e){return new Pt((t,s)=>{let a=0,u=0,m=!1;e.forEach(M=>{++a,M.next(()=>{++u,m&&u===a&&t()},B=>s(B))}),m=!0,u===a&&t()})}static or(e){let t=Pt.resolve(!1);for(const s of e)t=t.next(a=>a?Pt.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,u)=>{s.push(t.call(this,a,u))}),this.waitFor(s)}static mapArray(e,t){return new Pt((s,a)=>{const u=e.length,m=new Array(u);let M=0;for(let B=0;B<u;B++){const q=B;t(e[q]).next(Te=>{m[q]=Te,++M,M===u&&s(m)},Te=>a(Te))}})}static doWhile(e,t){return new Pt((s,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):s()};u()})}}class Aa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ji,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Po(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const a=la(s.target.error);this.P.reject(new Po(e,a))}}static open(e,t,s,a){try{return new Aa(t,e.transaction(a,s))}catch(u){throw new Po(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ah(t)}}class Zs{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===Zs.D((0,fe.z$)())&&Be("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),qo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,fe.hl)())return!1;if(Zs.N())return!0;const e=(0,fe.z$)(),t=Zs.D(e),s=0<t&&t<10,a=Zs.k(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||u)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,ke.Z)(function*(){return t.db||(Q("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=m=>{s(m.target.result)},u.onblocked=()=>{a(new Po(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=m=>{const M=m.target.error;a("VersionError"===M.name?new Qt(It.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new Qt(It.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new Po(e,M))},u.onupgradeneeded=m=>{Q("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.S.$(m.target.result,u.transaction,m.oldVersion,t.version).next(()=>{Q("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var u=this;return(0,ke.Z)(function*(){const m="readonly"===t;let M=0;for(;;){++M;try{u.db=yield u.F(e);const B=Aa.open(u.db,e,m?"readonly":"readwrite",s),q=a(B).next(Te=>(B.V(),Te)).catch(Te=>(B.abort(Te),Pt.reject(Te))).toPromise();return q.catch(()=>{}),yield B.v,q}catch(B){const q=B,Te="FirebaseError"!==q.name&&M<3;if(Q("SimpleDb","Transaction failed with error:",q.message,"Retrying:",Te),u.close(),!Te)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gl{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return qo(this.U.delete())}}class Po extends Qt{constructor(e,t){super(It.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function aa(r){return"IndexedDbTransactionError"===r.name}class ah{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Q("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),qo(s)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),qo(this.store.add(e))}get(e){return qo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Q("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),qo(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),qo(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),u=[];return this.H(a,(m,M)=>{u.push(M)}).next(()=>u)}{const a=this.store.getAll(s.range);return new Pt((u,m)=>{a.onerror=M=>{m(M.target.error)},a.onsuccess=M=>{u(M.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Pt((a,u)=>{s.onerror=m=>{u(m.target.error)},s.onsuccess=m=>{a(m.target.result)}})}Y(e,t){Q("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const a=this.cursor(s);return this.H(a,(u,m,M)=>M.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.H(a,t)}tt(e){const t=this.cursor({});return new Pt((s,a)=>{t.onerror=u=>{const m=la(u.target.error);a(m)},t.onsuccess=u=>{const m=u.target.result;m?e(m.primaryKey,m.value).next(M=>{M?m.continue():s()}):s()}})}H(e,t){const s=[];return new Pt((a,u)=>{e.onerror=m=>{u(m.target.error)},e.onsuccess=m=>{const M=m.target.result;if(!M)return void a();const B=new gl(M),q=t(M.primaryKey,M.value,B);if(q instanceof Pt){const Te=q.catch(nt=>(B.done(),Pt.reject(nt)));s.push(Te)}B.isDone?a():null===B.G?M.continue():M.continue(B.G)}}).next(()=>Pt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qo(r){return new Pt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=la(s.target.error);t(a)}})}let Ss=!1;function la(r){const e=Zs.D((0,fe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Qt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ss||(Ss=!0,setTimeout(()=>{throw s},0)),s}}return r}class ca{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Q("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ke.Z)(function*(){t.task=null;try{Q("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){aa(s)?Q("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Xr(s)}yield t.nt(1)}))}}class ou{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ke.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let a=t,u=!0;return Pt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return Q("IndexBackiller",`Processing collection: ${m}`),this.rt(e,m,a).next(M=>{a-=M,s.add(m)});u=!1})).next(()=>t-a)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(u=>{const m=u.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.ot(a,u)).next(M=>(Q("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,t,M))).next(()=>m.size)}))}ot(e,t){let s=e;return t.changes.forEach((a,u)=>{const m=ml(u);su(m,s)>0&&(s=m)}),new jr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ps{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>t.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ga(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function $a(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function yc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}ps.at=-1;class Pr{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new Pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new za(this.root,e,this.comparator,!1)}getReverseIterator(){return new za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new za(this.root,e,this.comparator,!0)}}class za{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,s,a,u){this.key=e,this.value=t,this.color=null!=s?s:Hr.RED,this.left=null!=a?a:Hr.EMPTY,this.right=null!=u?u:Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,u){return new Hr(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Hr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const e=this.left.check();if(e!==this.right.check())throw Ht();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Hr(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qo(this.data.getIterator())}getIteratorFrom(e){return new Qo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Fi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fi(this.comparator);return t.data=e,t}}class Qo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _l(r){return r.hasNext()?r.getNext():void 0}class ms{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new ms([])}unionWith(e){let t=new Fi(Mr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const ua=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(r){if(un(!!r),"string"==typeof r){let e=0;const t=ua.exec(r);if(un(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dr(r.seconds),nanos:Dr(r.nanos)}}function Dr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Xo(r){return"string"==typeof r?vr.fromBase64String(r):vr.fromUint8Array(r)}function Hl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Wa(r){const e=r.mapValue.fields.__previous_value__;return Hl(e)?Wa(e):e}function yl(r){const e=xa(r.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}class k{constructor(e,t,s,a,u,m,M,B){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=M,this.useFetchStreams=B}}class V{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new V("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof V&&e.projectId===this.projectId&&e.database===this.database}}function le(r){return null==r}function Ye(r){return 0===r&&1/r==-1/0}function vt(r){return"number"==typeof r&&Number.isInteger(r)&&!Ye(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const kt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tn={nullValue:"NULL_VALUE"};function _n(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hl(r)?4:No(r)?9007199254740991:10:Ht()}function Bn(r,e){if(r===e)return!0;const t=_n(r);if(t!==_n(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yl(r).isEqual(yl(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=xa(s.timestampValue),m=xa(a.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Xo(r.bytesValue).isEqual(Xo(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Dr(s.geoPointValue.latitude)===Dr(a.geoPointValue.latitude)&&Dr(s.geoPointValue.longitude)===Dr(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Dr(s.integerValue)===Dr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Dr(s.doubleValue),m=Dr(a.doubleValue);return u===m?Ye(u)===Ye(m):isNaN(u)&&isNaN(m)}return!1}(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:return function(s,a){const u=s.mapValue.fields||{},m=a.mapValue.fields||{};if(Ga(u)!==Ga(m))return!1;for(const M in u)if(u.hasOwnProperty(M)&&(void 0===m[M]||!Bn(u[M],m[M])))return!1;return!0}(r,e);default:return Ht()}var a}function ei(r,e){return void 0!==(r.values||[]).find(t=>Bn(t,e))}function ti(r,e){if(r===e)return 0;const t=_n(r),s=_n(e);if(t!==s)return Jn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jn(r.booleanValue,e.booleanValue);case 2:return function(a,u){const m=Dr(a.integerValue||a.doubleValue),M=Dr(u.integerValue||u.doubleValue);return m<M?-1:m>M?1:m===M?0:isNaN(m)?isNaN(M)?0:-1:1}(r,e);case 3:return qn(r.timestampValue,e.timestampValue);case 4:return qn(yl(r),yl(e));case 5:return Jn(r.stringValue,e.stringValue);case 6:return function(a,u){const m=Xo(a),M=Xo(u);return m.compareTo(M)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const m=a.split("/"),M=u.split("/");for(let B=0;B<m.length&&B<M.length;B++){const q=Jn(m[B],M[B]);if(0!==q)return q}return Jn(m.length,M.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const m=Jn(Dr(a.latitude),Dr(u.latitude));return 0!==m?m:Jn(Dr(a.longitude),Dr(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const m=a.values||[],M=u.values||[];for(let B=0;B<m.length&&B<M.length;++B){const q=ti(m[B],M[B]);if(q)return q}return Jn(m.length,M.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===kt.mapValue&&u===kt.mapValue)return 0;if(a===kt.mapValue)return 1;if(u===kt.mapValue)return-1;const m=a.fields||{},M=Object.keys(m),B=u.fields||{},q=Object.keys(B);M.sort(),q.sort();for(let Te=0;Te<M.length&&Te<q.length;++Te){const nt=Jn(M[Te],q[Te]);if(0!==nt)return nt;const xt=ti(m[M[Te]],B[q[Te]]);if(0!==xt)return xt}return Jn(M.length,q.length)}(r.mapValue,e.mapValue);default:throw Ht()}}function qn(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Jn(r,e);const t=xa(r),s=xa(e),a=Jn(t.seconds,s.seconds);return 0!==a?a:Jn(t.nanos,s.nanos)}function lr(r){return Us(r)}function Us(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=xa(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Xo(r.bytesValue).toBase64():"referenceValue"in r?bn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",u=!0;for(const m of s.values||[])u?u=!1:a+=",",a+=Us(m);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let u="{",m=!0;for(const M of a)m?m=!1:u+=",",u+=`${M}:${Us(s.fields[M])}`;return u+"}"}(r.mapValue):Ht();var e}function yo(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jo(r){return!!r&&"integerValue"in r}function Ys(r){return!!r&&"arrayValue"in r}function vc(r){return!!r&&"nullValue"in r}function vl(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ea(r){return!!r&&"mapValue"in r}function As(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return $a(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=As(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=As(r.arrayValue.values[t]);return e}return Object.assign({},r)}function No(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function au(r){return"nullValue"in r?tn:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?yo(V.empty(),bn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Ht()}function lh(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?yo(V.empty(),bn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?kt:Ht()}function $u(r,e){const t=ti(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function ch(r,e){const t=ti(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class js{constructor(e){this.value=e}static empty(){return new js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ea(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=As(t)}setAll(e){let t=Mr.emptyPath(),s={},a=[];e.forEach((m,M)=>{if(!t.isImmediateParentOf(M)){const B=this.getFieldsMap(t);this.applyChanges(B,s,a),s={},a=[],t=M.popLast()}m?s[M.lastSegment()]=As(m):a.push(M.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,a)}delete(e){const t=this.field(e.popLast());ea(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ea(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){$a(t,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new js(As(this.value))}}function uh(r){const e=[];return $a(r.fields,(t,s)=>{const a=new Mr([t]);if(ea(s)){const u=uh(s.mapValue).fields;if(0===u.length)e.push(a);else for(const m of u)e.push(a.child(m))}else e.push(a)}),new ms(e)}class cr{constructor(e,t,s,a,u,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=u,this.documentState=m}static newInvalidDocument(e){return new cr(e,0,Yn.min(),Yn.min(),js.empty(),0)}static newFoundDocument(e,t,s){return new cr(e,1,t,Yn.min(),s,0)}static newNoDocument(e,t){return new cr(e,2,t,Yn.min(),js.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,Yn.min(),js.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lp{constructor(e,t=null,s=[],a=[],u=null,m=null,M=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=m,this.endAt=M,this.ht=null}}function bc(r,e=null,t=[],s=[],a=null,u=null,m=null){return new lp(r,e,t,s,a,u,m)}function Oa(r){const e=en(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(a=s).field.canonicalString()+a.op.toString()+lr(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),le(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>lr(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>lr(s)).join(",")),e.ht=t}return e.ht}function Ec(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!mh(r.orderBy[a],e.orderBy[a]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if((t=r.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Bn(t.value,s.value))return!1;var t,s;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!gh(r.startAt,e.startAt)&&gh(r.endAt,e.endAt)}function lu(r){return bn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function zu(r,e){return r.filters.filter(t=>t instanceof xs&&t.field.isEqual(e))}function Cc(r,e,t){let s=tn,a=!0;for(const u of zu(r,e)){let m=tn,M=!0;switch(u.op){case"<":case"<=":m=au(u.value);break;case"==":case"in":case">=":m=u.value;break;case">":m=u.value,M=!1;break;case"!=":case"not-in":m=tn}$u({value:s,inclusive:a},{value:m,inclusive:M})<0&&(s=m,a=M)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const m=t.position[u];$u({value:s,inclusive:a},{value:m,inclusive:t.inclusive})<0&&(s=m,a=t.inclusive);break}return{value:s,inclusive:a}}function $l(r,e,t){let s=kt,a=!0;for(const u of zu(r,e)){let m=kt,M=!0;switch(u.op){case">=":case">":m=lh(u.value),M=!1;break;case"==":case"in":case"<=":m=u.value;break;case"<":m=u.value,M=!1;break;case"!=":case"not-in":m=kt}ch({value:s,inclusive:a},{value:m,inclusive:M})>0&&(s=m,a=M)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const m=t.position[u];ch({value:s,inclusive:a},{value:m,inclusive:t.inclusive})>0&&(s=m,a=t.inclusive);break}return{value:s,inclusive:a}}class xs extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,s):new dh(e,t,s):"array-contains"===t?new ph(e,s):"in"===t?new cp(e,s):"not-in"===t?new up(e,s):"array-contains-any"===t?new dp(e,s):new xs(e,t,s)}static lt(e,t,s){return"in"===t?new hh(e,s):new bl(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ti(t,this.value)):null!==t&&_n(this.value)===_n(t)&&this.ft(ti(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ht()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dh extends xs{constructor(e,t,s){super(e,t,s),this.key=bn.fromName(s.referenceValue)}matches(e){const t=bn.comparator(e.key,this.key);return this.ft(t)}}class hh extends xs{constructor(e,t){super(e,"in",t),this.keys=fh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bl extends xs{constructor(e,t){super(e,"not-in",t),this.keys=fh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fh(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>bn.fromName(s.referenceValue))}class ph extends xs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ys(t)&&ei(t.arrayValue,this.value)}}class cp extends xs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ei(this.value.arrayValue,t)}}class up extends xs{constructor(e,t){super(e,"not-in",t)}matches(e){if(ei(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ei(this.value.arrayValue,t)}}class dp extends xs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ys(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ei(this.value.arrayValue,s))}}class qs{constructor(e,t){this.position=e,this.inclusive=t}}class Fo{constructor(e,t="asc"){this.field=e,this.dir=t}}function mh(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function cu(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const u=e[a],m=r.position[a];if(s=u.field.isKeyField()?bn.comparator(bn.fromName(m.referenceValue),t.key):ti(m,t.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return s}function gh(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Bn(r.position[t],e.position[t]))return!1;return!0}class _a{constructor(e,t=null,s=[],a=[],u=null,m="F",M=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=m,this.startAt=M,this.endAt=B,this._t=null,this.wt=null}}function _h(r,e,t,s,a,u,m,M){return new _a(r,e,t,s,a,u,m,M)}function Ka(r){return new _a(r)}function Wu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function uu(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function du(r){for(const e of r.filters)if(e.dt())return e.field;return null}function Ku(r){return null!==r.collectionGroup}function zl(r){const e=en(r);if(null===e._t){e._t=[];const t=du(e),s=uu(e);if(null!==t&&null===s)t.isKeyField()||e._t.push(new Fo(t)),e._t.push(new Fo(Mr.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Fo(Mr.keyField(),u))}}}return e._t}function Lo(r){const e=en(r);if(!e.wt)if("F"===e.limitType)e.wt=bc(e.path,e.collectionGroup,zl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of zl(e))t.push(new Fo(u.field,"desc"===u.dir?"asc":"desc"));const s=e.endAt?new qs(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new qs(e.startAt.position,e.startAt.inclusive):null;e.wt=bc(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.wt}function Zu(r,e,t){return new _a(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ao(r,e){return Ec(Lo(r),Lo(e))&&r.limitType===e.limitType}function Yu(r){return`${Oa(Lo(r))}|lt:${r.limitType}`}function ta(r){return`Query(target=${function Gl(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${lr(s.value)}`;var s}).join(", ")}]`),le(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>lr(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>lr(t)).join(",")),`Target(${e})`}(Lo(r))}; limitType=${r.limitType})`}function Ra(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):bn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,u,m){const M=cu(a,u,m);return a.inclusive?M<=0:M<0}(t.startAt,zl(t),s)||t.endAt&&!function(a,u,m){const M=cu(a,u,m);return a.inclusive?M>=0:M>0}(t.endAt,zl(t),s)));var t,s}function qu(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wc(r){return(e,t)=>{let s=!1;for(const a of zl(r)){const u=yh(a,e,t);if(0!==u)return u;s=s||a.field.isKeyField()}return 0}}function yh(r,e,t){const s=r.field.isKeyField()?bn.comparator(e.key,t.key):function(a,u,m){const M=u.data.field(a),B=m.data.field(a);return null!==M&&null!==B?ti(M,B):Ht()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ht()}}function hp(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ye(e)?"-0":e}}function Qu(r){return{integerValue:""+r}}function fp(r,e){return vt(e)?Qu(e):hp(r,e)}class Wl{constructor(){this._=void 0}}function Dc(r,e,t){return r instanceof Ic?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof Za?vh(r,e):r instanceof Ya?hu(r,e):function(s,a){const u=pp(s,a),m=Ju(u)+Ju(s.yt);return Jo(u)&&Jo(s.yt)?Qu(m):hp(s.It,m)}(r,e)}function Xu(r,e,t){return r instanceof Za?vh(r,e):r instanceof Ya?hu(r,e):t}function pp(r,e){return r instanceof Kl?Jo(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ic extends Wl{}class Za extends Wl{constructor(e){super(),this.elements=e}}function vh(r,e){const t=El(e);for(const s of r.elements)t.some(a=>Bn(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ya extends Wl{constructor(e){super(),this.elements=e}}function hu(r,e){let t=El(e);for(const s of r.elements)t=t.filter(a=>!Bn(a,s));return{arrayValue:{values:t}}}class Kl extends Wl{constructor(e,t){super(),this.It=e,this.yt=t}}function Ju(r){return Dr(r.integerValue||r.doubleValue)}function El(r){return Ys(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class qa{constructor(e,t){this.field=e,this.transform=t}}class mp{constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class fu{}function pu(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new as(r.key,mi.none()):new Zl(r.key,r.data,mi.none());{const t=r.data,s=js.empty();let a=new Fi(Mr.comparator);for(let u of e.fields)if(!a.has(u)){let m=t.field(u);null===m&&u.length>1&&(u=u.popLast(),m=t.field(u)),null===m?s.delete(u):s.set(u,m),a=a.add(u)}return new Bo(r.key,s,new ms(a.toArray()),mi.none())}}function td(r,e,t){r instanceof Zl?function(s,a,u){const m=s.value.clone(),M=Eh(s.fieldTransforms,a,u.transformResults);m.setAll(M),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(r,e,t):r instanceof Bo?function(s,a,u){if(!Tc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const m=Eh(s.fieldTransforms,a,u.transformResults),M=a.data;M.setAll(_p(s)),M.setAll(m),a.convertToFoundDocument(u.version,M).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mc(r,e,t,s){return r instanceof Zl?function(a,u,m,M){if(!Tc(a.precondition,u))return m;const B=a.value.clone(),q=Yl(a.fieldTransforms,M,u);return B.setAll(q),u.convertToFoundDocument(u.version,B).setHasLocalMutations(),null}(r,e,t,s):r instanceof Bo?function(a,u,m,M){if(!Tc(a.precondition,u))return m;const B=Yl(a.fieldTransforms,M,u),q=u.data;return q.setAll(_p(a)),q.setAll(B),u.convertToFoundDocument(u.version,q).setHasLocalMutations(),null===m?null:m.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Te=>Te.field))}(r,e,t,s):(m=t,Tc(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m);var u,m}function gp(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),u=pp(s.transform,a||null);null!=u&&(null===t&&(t=js.empty()),t.set(s.field,u))}return t||null}function bh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&_o(t,s,(a,u)=>function ed(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Za&&s instanceof Za||t instanceof Ya&&s instanceof Ya?_o(t.elements,s.elements,Bn):t instanceof Kl&&s instanceof Kl?Bn(t.yt,s.yt):t instanceof Ic&&s instanceof Ic);var t,s}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Zl extends fu{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bo extends fu{constructor(e,t,s,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _p(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Eh(r,e,t){const s=new Map;un(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],m=u.transform,M=e.data.field(u.field);s.set(u.field,Xu(m,M,t[a]))}return s}function Yl(r,e,t){const s=new Map;for(const a of r){const u=a.transform,m=t.data.field(a.field);s.set(a.field,Dc(u,m,e))}return s}class as extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sc extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ch{constructor(e){this.count=e}}var Gr,ri;function Qa(r){switch(r){default:return Ht();case It.CANCELLED:case It.UNKNOWN:case It.DEADLINE_EXCEEDED:case It.RESOURCE_EXHAUSTED:case It.INTERNAL:case It.UNAVAILABLE:case It.UNAUTHENTICATED:return!1;case It.INVALID_ARGUMENT:case It.NOT_FOUND:case It.ALREADY_EXISTS:case It.PERMISSION_DENIED:case It.FAILED_PRECONDITION:case It.ABORTED:case It.OUT_OF_RANGE:case It.UNIMPLEMENTED:case It.DATA_LOSS:return!0}}function Ac(r){if(void 0===r)return Be("GRPC error has no .code"),It.UNKNOWN;switch(r){case Gr.OK:return It.OK;case Gr.CANCELLED:return It.CANCELLED;case Gr.UNKNOWN:return It.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return It.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return It.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return It.INTERNAL;case Gr.UNAVAILABLE:return It.UNAVAILABLE;case Gr.UNAUTHENTICATED:return It.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return It.INVALID_ARGUMENT;case Gr.NOT_FOUND:return It.NOT_FOUND;case Gr.ALREADY_EXISTS:return It.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return It.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return It.FAILED_PRECONDITION;case Gr.ABORTED:return It.ABORTED;case Gr.OUT_OF_RANGE:return It.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return It.UNIMPLEMENTED;case Gr.DATA_LOSS:return It.DATA_LOSS;default:return Ht()}}(ri=Gr||(Gr={}))[ri.OK=0]="OK",ri[ri.CANCELLED=1]="CANCELLED",ri[ri.UNKNOWN=2]="UNKNOWN",ri[ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ri[ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ri[ri.NOT_FOUND=5]="NOT_FOUND",ri[ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",ri[ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",ri[ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",ri[ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ri[ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ri[ri.ABORTED=10]="ABORTED",ri[ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",ri[ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",ri[ri.INTERNAL=13]="INTERNAL",ri[ri.UNAVAILABLE=14]="UNAVAILABLE",ri[ri.DATA_LOSS=15]="DATA_LOSS";class Xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,u]of s)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,(t,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return yc(this.inner)}size(){return this.innerSize}}const nd=new Pr(bn.comparator);function lo(){return nd}const vo=new Pr(bn.comparator);function ya(...r){let e=vo;for(const t of r)e=e.insert(t.key,t);return e}function id(r){let e=vo;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function da(){return Cl()}function mu(){return Cl()}function Cl(){return new Xa(r=>r.toString(),(r,e)=>r.isEqual(e))}const rd=new Pr(bn.comparator),wh=new Fi(bn.comparator);function Ei(...r){let e=wh;for(const t of r)e=e.add(t);return e}const va=new Fi(Jn);function xc(){return va}class Oc{constructor(e,t,s,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Ja.createSynthesizedTargetChangeForCurrentChange(e,t)),new Oc(Yn.min(),s,xc(),lo(),Ei())}}class Ja{constructor(e,t,s,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ja(vr.EMPTY_BYTE_STRING,t,Ei(),Ei(),Ei())}}class gu{constructor(e,t,s,a){this.Tt=e,this.removedTargetIds=t,this.key=s,this.Et=a}}class sd{constructor(e,t){this.targetId=e,this.At=t}}class co{constructor(e,t,s=vr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class _u{constructor(){this.Rt=0,this.bt=ba(),this.Pt=vr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ei(),t=Ei(),s=Ei();return this.bt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ht()}}),new Ja(this.Pt,this.vt,e,t,s)}Nt(){this.Vt=!1,this.bt=ba()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class od{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=lo(),this.qt=ad(),this.Kt=new Fi(Jn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const s=this.zt(t);switch(e.state){case 0:this.Ht(t)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),s.Ct(e.resumeToken));break;default:Ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((s,a)=>{this.Ht(a)&&t(a)})}Yt(e){const t=e.targetId,s=e.At.count,a=this.Xt(t);if(a){const u=a.target;if(lu(u))if(0===s){const m=new bn(u.path);this.jt(t,m,cr.newNoDocument(m,Yn.min()))}else un(1===s);else this.Zt(t)!==s&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,m)=>{const M=this.Xt(m);if(M){if(u.current&&lu(M.target)){const B=new bn(M.target.path);null!==this.Ut.get(B)||this.ee(m,B)||this.jt(m,B,cr.newNoDocument(B,e))}u.Dt&&(t.set(m,u.xt()),u.Nt())}});let s=Ei();this.qt.forEach((u,m)=>{let M=!0;m.forEachWhile(B=>{const q=this.Xt(B);return!q||2===q.purpose||(M=!1,!1)}),M&&(s=s.add(u))}),this.Ut.forEach((u,m)=>m.setReadTime(e));const a=new Oc(e,t,this.Kt,this.Ut,s);return this.Ut=lo(),this.qt=ad(),this.Kt=new Fi(Jn),a}Qt(e,t){if(!this.Ht(e))return;const s=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,s){if(!this.Ht(e))return;const a=this.zt(e);this.ee(e,t)?a.kt(t,1):a.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new _u,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Fi(Jn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Q("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new _u),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ad(){return new Pr(bn.comparator)}function ba(){return new Pr(bn.comparator)}const Rc={asc:"ASCENDING",desc:"DESCENDING"},Dh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ih{constructor(e,t){this.databaseId=e,this.gt=t}}function Pc(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yu(r,e){return r.gt?e.toBase64():e.toUint8Array()}function yp(r,e){return Pc(r,e.toTimestamp())}function Os(r){return un(!!r),Yn.fromTimestamp(function(e){const t=xa(e);return new Zi(t.seconds,t.nanos)}(r))}function el(r,e){return(t=r,new ji(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ha(r){const e=ji.fromString(r);return un(vu(e)),e}function _(r,e){return el(r.databaseId,e.path)}function d(r,e){const t=ha(e);if(t.get(1)!==r.databaseId.projectId)throw new Qt(It.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Qt(It.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new bn(ve(t))}function f(r,e){return el(r.databaseId,e)}function D(r){const e=ha(r);return 4===e.length?ji.emptyPath():ve(e)}function W(r){return new ji(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ve(r){return un(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function ft(r,e,t){return{name:_(r,e),fields:t.value.mapValue.fields}}function Ut(r,e,t){const s=d(r,e.name),a=Os(e.updateTime),u=new js({mapValue:{fields:e.fields}}),m=cr.newFoundDocument(s,a,u);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Qn(r,e){let t;if(e instanceof Zl)t={update:ft(r,e.key,e.value)};else if(e instanceof as)t={delete:_(r,e.key)};else if(e instanceof Bo)t={update:ft(r,e.key,e.data),updateMask:vp(e.fieldMask)};else{if(!(e instanceof Sc))return Ht();t={verify:_(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,u){const m=u.transform;if(m instanceof Ic)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Za)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ya)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kl)return{fieldPath:u.field.canonicalString(),increment:m.yt};throw Ht()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:yp(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Ht()),t;var a}function Wn(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?mi.updateTime(Os(a.updateTime)):void 0!==a.exists?mi.exists(a.exists):mi.none():mi.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(u,m){let M=null;"setToServerValue"in m?(un("REQUEST_TIME"===m.setToServerValue),M=new Ic):"appendMissingElements"in m?M=new Za(m.appendMissingElements.values||[]):"removeAllFromArray"in m?M=new Ya(m.removeAllFromArray.values||[]):"increment"in m?M=new Kl(u,m.increment):Ht();const B=Mr.fromServerFormat(m.fieldPath);return new qa(B,M)}(r,a)):[];var a;if(e.update){const a=d(r,e.update.name),u=new js({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new ms((e.updateMask.fieldPaths||[]).map(q=>Mr.fromServerFormat(q)));return new Bo(a,u,m,t,s)}return new Zl(a,u,t,s)}if(e.delete){const a=d(r,e.delete);return new as(a,t)}if(e.verify){const a=d(r,e.verify);return new Sc(a,t)}return Ht()}function bo(r,e){return{documents:[f(r,e.path)]}}function ql(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=f(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=f(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(B){if(0===B.length)return;const q=B.map(Te=>function(nt){if("=="===nt.op){if(vl(nt.value))return{unaryFilter:{field:Pa(nt.field),op:"IS_NAN"}};if(vc(nt.value))return{unaryFilter:{field:Pa(nt.field),op:"IS_NULL"}}}else if("!="===nt.op){if(vl(nt.value))return{unaryFilter:{field:Pa(nt.field),op:"IS_NOT_NAN"}};if(vc(nt.value))return{unaryFilter:{field:Pa(nt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(nt.field),op:cd(nt.op),value:nt.value}}}(Te));return 1===q.length?q[0]:{compositeFilter:{op:"AND",filters:q}}}(e.filters);a&&(t.structuredQuery.where=a);const u=function(B){if(0!==B.length)return B.map(q=>{return{field:Pa((Te=q).field),direction:ld(Te.dir)};var Te})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=(q=e.limit,r.gt||le(q)?q:{value:q});var q,M,B;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function Th(r){let e=D(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){un(1===s);const Te=t.from[0];Te.allDescendants?a=Te.collectionId:e=e.child(Te.collectionId)}let u=[];t.where&&(u=kc(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(Te=>{return new Fo(wl((nt=Te).field),function(xt){switch(xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(nt.direction));var nt}));let M=null;t.limit&&(M=function(Te){let nt;return nt="object"==typeof Te?Te.value:Te,le(nt)?null:nt}(t.limit));let B=null;var Te;t.startAt&&(B=new qs((Te=t.startAt).values||[],!!Te.before));let q=null;return t.endAt&&(q=function(Te){return new qs(Te.values||[],!Te.before)}(t.endAt)),_h(e,a,m,u,M,"F",B,q)}function kc(r){return r?void 0!==r.unaryFilter?[Mh(r)]:void 0!==r.fieldFilter?[ud(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>kc(e)).reduce((e,t)=>e.concat(t)):Ht():[]}function ld(r){return Rc[r]}function cd(r){return Dh[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function wl(r){return Mr.fromServerFormat(r.fieldPath)}function ud(r){return xs.create(wl(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ht()}}(r.fieldFilter.op),r.fieldFilter.value)}function Mh(r){switch(r.unaryFilter.op){case"IS_NAN":const e=wl(r.unaryFilter.field);return xs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=wl(r.unaryFilter.field);return xs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wl(r.unaryFilter.field);return xs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=wl(r.unaryFilter.field);return xs.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ht()}}function vp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vu(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function uo(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Sh(e)),e=Tg(r.get(t),e);return Sh(e)}function Tg(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Sh(r){return r+"\x01\x01"}function ka(r){const e=r.length;if(un(e>=2),2===e)return un("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),ji.emptyPath();const t=e-2,s=[];let a="";for(let u=0;u<e;){const m=r.indexOf("\x01",u);switch((m<0||m>t)&&Ht(),r.charAt(m+1)){case"\x01":const M=r.substring(u,m);let B;0===a.length?B=M:(a+=M,B=a,a=""),s.push(B);break;case"\x10":a+=r.substring(u,m),a+="\0";break;case"\x11":a+=r.substring(u,m+1);break;default:Ht()}u=m+2}return new ji(s)}const Ah=["userId","batchId"];function xh(r,e){return[r,uo(e)]}function Mg(r,e,t){return[r,uo(e),t]}const Sg={},Ag=["prefixPath","collectionGroup","readTime","documentId"],Nc=["prefixPath","collectionGroup","documentId"],xg=["collectionGroup","readTime","prefixPath","documentId"],Og=["canonicalId","targetId"],pv=["targetId","path"],Oh=["path","targetId"],mv=["collectionId","parent"],Rg=["indexId","uid"],Pg=["uid","sequenceNumber"],kg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bp=["indexId","uid","orderedDocumentKey"],Ng=["userId","collectionPath","documentId"],Rh=["userId","collectionPath","largestBatchId"],Ph=["userId","collectionGroup","largestBatchId"],Ep=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cp=[...Ep,"documentOverlays"],wp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kh=wp,dd=[...kh,"indexConfiguration","indexState","indexEntries"];class Dp extends oo{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Hs(r,e){const t=en(r);return Zs.O(t.ie,e)}class Ip{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&td(u,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Mc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Mc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=mu();return this.mutations.forEach(a=>{const u=e.get(a.key),m=u.overlayedDocument;let M=this.applyToLocalView(m,u.mutatedFields);M=t.has(a.key)?null:M;const B=pu(m,M);null!==B&&s.set(a.key,B),m.isValidDocument()||m.convertToNoDocument(Yn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ei())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(t,s)=>bh(t,s))&&_o(this.baseMutations,e.baseMutations,(t,s)=>bh(t,s))}}class Tp{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){un(e.mutations.length===s.length);let a=rd;const u=e.mutations;for(let m=0;m<u.length;m++)a=a.insert(u[m].key,s[m].version);return new Tp(e,t,s,a)}}class Nh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nl{constructor(e,t,s,a,u=Yn.min(),m=Yn.min(),M=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=M}withSequenceNumber(e){return new nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Mp{constructor(e){this.re=e}}function Sp(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Fh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:_(a=r.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Pc(a,u.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Ql(e.version)};else{if(!e.isUnknownDocument())return Ht();s.unknownDocument={path:t.path.toArray(),version:Ql(e.version)}}var a,u;return s}function Fh(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Ql(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fc(r){const e=new Zi(r.seconds,r.nanoseconds);return Yn.fromTimestamp(e)}function Lc(r,e){const t=(e.baseMutations||[]).map(u=>Wn(r.re,u));for(let u=0;u<e.mutations.length-1;++u){const m=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(m.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const s=e.mutations.map(u=>Wn(r.re,u)),a=Zi.fromMillis(e.localWriteTimeMs);return new Ip(e.batchId,a,t,s)}function Vo(r){const e=Fc(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Fc(r.lastLimboFreeSnapshotVersion):Yn.min();let s;var a;return void 0!==r.query.documents?(un(1===(a=r.query).documents.length),s=Lo(Ka(D(a.documents[0])))):s=Lo(Th(r.query)),new nl(s,r.targetId,0,r.lastListenSequenceNumber,e,t,vr.fromBase64String(r.resumeToken))}function Fg(r,e){const t=Ql(e.snapshotVersion),s=Ql(e.lastLimboFreeSnapshotVersion);let a;a=lu(e.target)?bo(r.re,e.target):ql(r.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oa(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Lh(r){const e=Th({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Zu(e,e.limit,"L"):e}function Ap(r,e){return new Nh(e.largestBatchId,Wn(r.re,e.overlayMutation))}function Lg(r,e){const t=e.path.lastSegment();return[r,uo(e.path.popLast()),t]}function Bg(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Ql(s.readTime),documentKey:uo(s.documentKey.path),largestBatchId:s.largestBatchId}}class gv{getBundleMetadata(e,t){return xp(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Fc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return xp(e).put({bundleId:(s=t).id,createTime:Ql(Os(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Vg(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Lh(a.bundledQuery),readTime:Fc(a.readTime)};var a})}saveNamedQuery(e,t){return Vg(e).put({name:(s=t).name,readTime:Ql(Os(s.readTime)),bundledQuery:s.bundledQuery});var s}}function xp(r){return Hs(r,"bundles")}function Vg(r){return Hs(r,"namedQueries")}class Bh{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Bh(e,t.uid||"")}getOverlay(e,t){return hd(e).get(Lg(this.userId,t)).next(s=>s?Ap(this.It,s):null)}getOverlays(e,t){const s=da();return Pt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&s.set(a,u)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((u,m)=>{const M=new Nh(t,m);a.push(this.ue(e,M))}),Pt.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(m=>a.add(uo(m.getCollectionPath())));const u=[];return a.forEach(m=>{const M=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);u.push(hd(e).Y("collectionPathOverlayIndex",M))}),Pt.waitFor(u)}getOverlaysForCollection(e,t,s){const a=da(),u=uo(t),m=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,Number.POSITIVE_INFINITY],!0);return hd(e).W("collectionPathOverlayIndex",m).next(M=>{for(const B of M){const q=Ap(this.It,B);a.set(q.getKey(),q)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const u=da();let m;const M=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hd(e).Z({index:"collectionGroupOverlayIndex",range:M},(B,q,Te)=>{const nt=Ap(this.It,q);u.size()<a||nt.largestBatchId===m?(u.set(nt.getKey(),nt),m=nt.largestBatchId):Te.done()}).next(()=>u)}ue(e,t){return hd(e).put(function(s,a,u){const[m,M,B]=Lg(a,u.mutation.key);return{userId:a,collectionPath:M,documentId:B,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Qn(s.re,u.mutation)}}(this.It,this.userId,t))}}function hd(r){return Hs(r,"documentOverlays")}class di{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Dr(e.integerValue));else if("doubleValue"in e){const s=Dr(e.doubleValue);isNaN(s)?this.le(t,13):(this.le(t,15),Ye(s)?t.fe(0):t.fe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.le(t,20),"string"==typeof s?t.de(s):(t.de(`${s.seconds||""}`),t.fe(s.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Xo(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.le(t,45),t.fe(s.latitude||0),t.fe(s.longitude||0)}else"mapValue"in e?No(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Ht()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const s=e.fields||{};this.le(t,55);for(const a of Object.keys(s))this._e(a,t),this.ae(s[a],t)}pe(e,t){const s=e.values||[];this.le(t,50);for(const a of s)this.ae(a,t)}ge(e,t){this.le(t,37),bn.fromName(e).path.forEach(s=>{this.le(t,60),this.Ie(s,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Ug(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Op(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const u=Ug(255&t[a]);if(s+=u,8!==u)break}return s}(r);return Math.ceil(e/8)}di.Te=new di;class jg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Pe(s.value),s=t.next();this.ve()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const a=t.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}this.Re()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Pe(s);else if(s<2048)this.Pe(960|s>>>6),this.Pe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s);else{const a=t.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}this.ve()}De(e){const t=this.Ce(e),s=Op(t);this.xe(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Ne(e){const t=this.Ce(e),s=Op(t);this.xe(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Vh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Na{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class bu{constructor(){this.Be=new jg,this.Le=new Vh(this.Be),this.Ue=new Na(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Bc{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Bc(this.indexId,this.documentKey,this.arrayValue,s)}}function Dl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=il(r.arrayValue,e.arrayValue),0!==t?t:(t=il(r.directionalValue,e.directionalValue),0!==t?t:bn.comparator(r.documentKey,e.documentKey)))}function il(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Rp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const s=t;s.dt()?this.je=s:this.Qe.push(s)}}We(e){const t=Gu(e);if(void 0!==t&&!this.ze(t))return!1;const s=pl(e);let a=0,u=0;for(;a<s.length&&this.ze(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.je){const m=s[a];if(!this.He(this.je,m)||!this.Je(this.Ge[u++],m))return!1;++a}for(;a<s.length;++a){const m=s[a];if(u>=this.Ge.length||!this.Je(this.Ge[u++],m))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Hg{constructor(){this.Ye=new fd}addToCollectionParentIndex(e,t){return this.Ye.add(t),Pt.resolve()}getCollectionParents(e,t){return Pt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Pt.resolve()}deleteFieldIndex(e,t){return Pt.resolve()}getDocumentsMatchingTarget(e,t){return Pt.resolve(null)}getIndexType(e,t){return Pt.resolve(0)}getFieldIndexes(e,t){return Pt.resolve([])}getNextCollectionGroupToUpdate(e){return Pt.resolve(null)}getMinOffset(e,t){return Pt.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,t){return Pt.resolve(jr.min())}updateCollectionGroup(e,t,s){return Pt.resolve()}updateIndexEntries(e,t){return Pt.resolve()}}class fd{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Fi(ji.comparator),u=!a.has(s);return this.index[t]=a.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Fi(ji.comparator)).toArray()}}const Pp=new Uint8Array(0);class Gg{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new fd,this.Ze=new Xa(s=>Oa(s),(s,a)=>Ec(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:s,parent:uo(a)};return _v(e).put(u)}return Pt.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Ro(t),""],!1,!0);return _v(e).W(a).next(u=>{for(const m of u){if(m.collectionId!==t)break;s.push(ka(m.parent))}return s})}addFieldIndex(e,t){const s=Vc(e),a={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var m;delete a.indexId;const u=s.add(a);if(t.indexState){const m=Uc(e);return u.next(M=>{m.put(Bg(M,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const s=Vc(e),a=Uc(e),u=Xl(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Xl(e);let a=!0;const u=new Map;return Pt.forEach(this.tn(t),m=>this.en(e,m).next(M=>{a&&(a=!!M),u.set(m,M)})).next(()=>{if(a){let m=Ei();const M=[];return Pt.forEach(u,(B,q)=>{var Te;Q("IndexedDbIndexManager",`Using index ${Te=B,`id=${Te.indexId}|cg=${Te.collectionGroup}|f=${Te.fields.map(zi=>`${zi.fieldPath}:${zi.kind}`).join(",")}`} to execute ${Oa(t)}`);const nt=function(zi,Di){const ni=Gu(Di);if(void 0===ni)return null;for(const Ii of zu(zi,ni.fieldPath))switch(Ii.op){case"array-contains-any":return Ii.value.arrayValue.values||[];case"array-contains":return[Ii.value]}return null}(q,B),xt=function(zi,Di){const ni=new Map;for(const Ii of pl(Di))for(const $s of zu(zi,Ii.fieldPath))switch($s.op){case"==":case"in":ni.set(Ii.fieldPath.canonicalString(),$s.value);break;case"not-in":case"!=":return ni.set(Ii.fieldPath.canonicalString(),$s.value),Array.from(ni.values())}return null}(q,B),Zt=function(zi,Di){const ni=[];let Ii=!0;for(const $s of pl(Di)){const ih=0===$s.kind?Cc(zi,$s.fieldPath,zi.startAt):$l(zi,$s.fieldPath,zi.startAt);ni.push(ih.value),Ii&&(Ii=ih.inclusive)}return new qs(ni,Ii)}(q,B),qt=function(zi,Di){const ni=[];let Ii=!0;for(const $s of pl(Di)){const ih=0===$s.kind?$l(zi,$s.fieldPath,zi.endAt):Cc(zi,$s.fieldPath,zi.endAt);ni.push(ih.value),Ii&&(Ii=ih.inclusive)}return new qs(ni,Ii)}(q,B),yn=this.nn(B,q,Zt),Pn=this.nn(B,q,qt),Si=this.sn(B,q,xt),sr=this.rn(B.indexId,nt,yn,Zt.inclusive,Pn,qt.inclusive,Si);return Pt.forEach(sr,zi=>s.J(zi,t.limit).next(Di=>{Di.forEach(ni=>{const Ii=bn.fromSegments(ni.documentKey);m.has(Ii)||(m=m.add(Ii),M.push(Ii))})}))}).next(()=>M)}return Pt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,s,a,u,m,M){const B=(null!=t?t.length:1)*Math.max(s.length,u.length),q=B/(null!=t?t.length:1),Te=[];for(let nt=0;nt<B;++nt){const xt=t?this.on(t[nt/q]):Pp,Zt=this.un(e,xt,s[nt%q],a),qt=this.cn(e,xt,u[nt%q],m),yn=M.map(Pn=>this.un(e,xt,Pn,!0));Te.push(...this.createRange(Zt,qt,yn))}return Te}un(e,t,s,a){const u=new Bc(e,bn.empty(),t,s);return a?u:u.Ke()}cn(e,t,s,a){const u=new Bc(e,bn.empty(),t,s);return a?u.Ke():u}en(e,t){const s=new Rp(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let m=null;for(const M of u)s.We(M)&&(!m||M.fields.length>m.fields.length)&&(m=M);return m})}getIndexType(e,t){let s=2;return Pt.forEach(this.tn(t),a=>this.en(e,a).next(u=>{u?0!==s&&u.fields.length<function(m){let M=new Fi(Mr.comparator),B=!1;for(const q of m.filters){const Te=q;Te.field.isKeyField()||("array-contains"===Te.op||"array-contains-any"===Te.op?B=!0:M=M.add(Te.field))}for(const q of m.orderBy)q.field.isKeyField()||(M=M.add(q.field));return M.size+(B?1:0)}(a)&&(s=1):s=0})).next(()=>s)}an(e,t){const s=new bu;for(const a of pl(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const m=s.qe(a.kind);di.Te.ce(u,m)}return s.$e()}on(e){const t=new bu;return di.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const s=new bu;return di.Te.ce(yo(this.databaseId,t),s.qe(function(a){const u=pl(a);return 0===u.length?0:u[u.length-1].kind}(e))),s.$e()}sn(e,t,s){if(null===s)return[];let a=[];a.push(new bu);let u=0;for(const m of pl(e)){const M=s[u++];for(const B of a)if(this.ln(t,m.fieldPath)&&Ys(M))a=this.fn(a,m,M);else{const q=B.qe(m.kind);di.Te.ce(M,q)}}return this.dn(a)}nn(e,t,s){return this.sn(e,t,s.position)}dn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}fn(e,t,s){const a=[...e],u=[];for(const m of s.arrayValue.values||[])for(const M of a){const B=new bu;B.seed(M.$e()),di.Te.ce(m,B.qe(t.kind)),u.push(B)}return u}ln(e,t){return!!e.filters.find(s=>s instanceof xs&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Vc(e),a=Uc(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(u=>{const m=[];return Pt.forEach(u,M=>a.get([M.indexId,this.uid]).next(B=>{m.push(function(q,Te){const nt=Te?new Ul(Te.sequenceNumber,new jr(Fc(Te.readTime),new bn(ka(Te.documentKey)),Te.largestBatchId)):Ul.empty(),xt=q.fields.map(([Zt,qt])=>new ru(Mr.fromServerFormat(Zt),qt));return new fl(q.indexId,q.collectionGroup,xt,nt)}(M,B))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const u=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:Jn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Vc(e),u=Uc(e);return this._n(e).next(m=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(M=>Pt.forEach(M,B=>u.put(Bg(B.indexId,this.user,m,s)))))}updateIndexEntries(e,t){const s=new Map;return Pt.forEach(t,(a,u)=>{const m=s.get(a.collectionGroup);return(m?Pt.resolve(m):this.getFieldIndexes(e,a.collectionGroup)).next(M=>(s.set(a.collectionGroup,M),Pt.forEach(M,B=>this.wn(e,a,B).next(q=>{const Te=this.mn(u,B);return q.isEqual(Te)?Pt.resolve():this.gn(e,u,B,q,Te)}))))})}yn(e,t,s,a){return Xl(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.hn(s,t.key),documentKey:t.key.path.toArray()})}pn(e,t,s,a){return Xl(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.hn(s,t.key),t.key.path.toArray()])}wn(e,t,s){const a=Xl(e);let u=new Fi(Dl);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.hn(s,t)])},(m,M)=>{u=u.add(new Bc(s.indexId,t,M.arrayValue,M.directionalValue))}).next(()=>u)}mn(e,t){let s=new Fi(Dl);const a=this.an(t,e);if(null==a)return s;const u=Gu(t);if(null!=u){const m=e.data.field(u.fieldPath);if(Ys(m))for(const M of m.arrayValue.values||[])s=s.add(new Bc(t.indexId,e.key,this.on(M),a))}else s=s.add(new Bc(t.indexId,e.key,Pp,a));return s}gn(e,t,s,a,u){Q("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(M,B,q,Te,nt){const xt=M.getIterator(),Zt=B.getIterator();let qt=_l(xt),yn=_l(Zt);for(;qt||yn;){let Pn=!1,Si=!1;if(qt&&yn){const sr=q(qt,yn);sr<0?Si=!0:sr>0&&(Pn=!0)}else null!=qt?Si=!0:Pn=!0;Pn?(Te(yn),yn=_l(Zt)):Si?(nt(qt),qt=_l(xt)):(qt=_l(xt),yn=_l(Zt))}}(a,u,Dl,M=>{m.push(this.yn(e,t,s,M))},M=>{m.push(this.pn(e,t,s,M))}),Pt.waitFor(m)}_n(e){let t=1;return Uc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((m,M)=>Dl(m,M)).filter((m,M,B)=>!M||0!==Dl(m,B[M-1]));const a=[];a.push(e);for(const m of s){const M=Dl(m,e),B=Dl(m,t);if(0===M)a[0]=e.Ke();else if(M>0&&B<0)a.push(m),a.push(m.Ke());else if(B>0)break}a.push(t);const u=[];for(let m=0;m<a.length;m+=2)u.push(IDBKeyRange.bound([a[m].indexId,this.uid,a[m].arrayValue,a[m].directionalValue,Pp,[]],[a[m+1].indexId,this.uid,a[m+1].arrayValue,a[m+1].directionalValue,Pp,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Uh)}getMinOffset(e,t){return Pt.mapArray(this.tn(t),s=>this.en(e,s).next(a=>a||Ht())).next(Uh)}}function _v(r){return Hs(r,"collectionParents")}function Xl(r){return Hs(r,"indexEntries")}function Vc(r){return Hs(r,"indexConfiguration")}function Uc(r){return Hs(r,"indexState")}function Uh(r){un(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;su(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new jr(e.readTime,e.documentKey,t)}const jh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new fa(e,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $g(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),u=[],m=IDBKeyRange.only(t.batchId);let M=0;const B=s.Z({range:m},(Te,nt,xt)=>(M++,xt.delete()));u.push(B.next(()=>{un(1===M)}));const q=[];for(const Te of t.mutations){const nt=Mg(e,Te.key.path,t.batchId);u.push(a.delete(nt)),q.push(Te.key)}return Pt.waitFor(u).next(()=>q)}function Hh(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Ht();e=r.noDocument}return JSON.stringify(e).length}fa.DEFAULT_COLLECTION_PERCENTILE=10,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fa.DEFAULT=new fa(41943040,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fa.DISABLED=new fa(-1,0,0);class Gh{constructor(e,t,s,a){this.userId=e,this.It=t,this.indexManager=s,this.referenceDelegate=a,this.In={}}static oe(e,t,s,a){un(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Gh(u,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Il(e).Z({index:"userMutationsIndex",range:s},(a,u,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const u=pd(e),m=Il(e);return m.add({}).next(M=>{un("number"==typeof M);const B=new Ip(M,t,s,a),q=function(xt,Zt,qt){const yn=qt.baseMutations.map(Si=>Qn(xt.re,Si)),Pn=qt.mutations.map(Si=>Qn(xt.re,Si));return{userId:Zt,batchId:qt.batchId,localWriteTimeMs:qt.localWriteTime.toMillis(),baseMutations:yn,mutations:Pn}}(this.It,this.userId,B),Te=[];let nt=new Fi((xt,Zt)=>Jn(xt.canonicalString(),Zt.canonicalString()));for(const xt of a){const Zt=Mg(this.userId,xt.key.path,M);nt=nt.add(xt.key.path.popLast()),Te.push(m.put(q)),Te.push(u.put(Zt,Sg))}return nt.forEach(xt=>{Te.push(this.indexManager.addToCollectionParentIndex(e,xt))}),e.addOnCommittedListener(()=>{this.In[M]=B.keys()}),Pt.waitFor(Te).next(()=>B)})}lookupMutationBatch(e,t){return Il(e).get(t).next(s=>s?(un(s.userId===this.userId),Lc(this.It,s)):null)}Tn(e,t){return this.In[t]?Pt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.In[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return Il(e).Z({index:"userMutationsIndex",range:a},(m,M,B)=>{M.userId===this.userId&&(un(M.batchId>=s),u=Lc(this.It,M)),B.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Il(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(a,u,m)=>{s=u.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Il(e).W("userMutationsIndex",t).next(s=>s.map(a=>Lc(this.It,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=xh(this.userId,t.path),a=IDBKeyRange.lowerBound(s),u=[];return pd(e).Z({range:a},(m,M,B)=>{const[q,Te,nt]=m,xt=ka(Te);if(q===this.userId&&t.path.isEqual(xt))return Il(e).get(nt).next(Zt=>{if(!Zt)throw Ht();un(Zt.userId===this.userId),u.push(Lc(this.It,Zt))});B.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fi(Jn);const a=[];return t.forEach(u=>{const m=xh(this.userId,u.path),M=IDBKeyRange.lowerBound(m),B=pd(e).Z({range:M},(q,Te,nt)=>{const[xt,Zt,qt]=q,yn=ka(Zt);xt===this.userId&&u.path.isEqual(yn)?s=s.add(qt):nt.done()});a.push(B)}),Pt.waitFor(a).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,u=xh(this.userId,s),m=IDBKeyRange.lowerBound(u);let M=new Fi(Jn);return pd(e).Z({range:m},(B,q,Te)=>{const[nt,xt,Zt]=B,qt=ka(xt);nt===this.userId&&s.isPrefixOf(qt)?qt.length===a&&(M=M.add(Zt)):Te.done()}).next(()=>this.En(e,M))}En(e,t){const s=[],a=[];return t.forEach(u=>{a.push(Il(e).get(u).next(m=>{if(null===m)throw Ht();un(m.userId===this.userId),s.push(Lc(this.It,m))}))}),Pt.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return $g(e.ie,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Pt.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Pt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return pd(e).Z({range:s},(u,m,M)=>{if(u[0]===this.userId){const B=ka(u[1]);a.push(B)}else M.done()}).next(()=>{un(0===a.length)})})}containsKey(e,t){return zg(e,this.userId,t)}Rn(e){return Wg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zg(r,e,t){const s=xh(e,t.path),a=s[1],u=IDBKeyRange.lowerBound(s);let m=!1;return pd(r).Z({range:u,X:!0},(M,B,q)=>{const[Te,nt,xt]=M;Te===e&&nt===a&&(m=!0),q.done()}).next(()=>m)}function Il(r){return Hs(r,"mutations")}function pd(r){return Hs(r,"documentMutations")}function Wg(r){return Hs(r,"mutationQueues")}class Eu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Eu(0)}static vn(){return new Eu(-1)}}class Kg{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new Eu(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Yn.fromTimestamp(new Zi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Sn(e,a)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>jc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(un(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let a=0;const u=[];return jc(e).Z((m,M)=>{const B=Vo(M);B.sequenceNumber<=t&&null===s.get(B.targetId)&&(a++,u.push(this.removeTargetData(e,B)))}).next(()=>Pt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return jc(e).Z((s,a)=>{const u=Vo(a);t(u)})}Vn(e){return Zg(e).get("targetGlobalKey").next(t=>(un(null!==t),t))}Sn(e,t){return Zg(e).put("targetGlobalKey",t)}Dn(e,t){return jc(e).put(Fg(this.It,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Oa(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return jc(e).Z({range:a,index:"queryTargetsIndex"},(m,M,B)=>{const q=Vo(M);Ec(t,q.target)&&(u=q,B.done())}).next(()=>u)}addMatchingKeys(e,t,s){const a=[],u=rl(e);return t.forEach(m=>{const M=uo(m.path);a.push(u.put({targetId:s,path:M})),a.push(this.referenceDelegate.addReference(e,s,m))}),Pt.waitFor(a)}removeMatchingKeys(e,t,s){const a=rl(e);return Pt.forEach(t,u=>{const m=uo(u.path);return Pt.waitFor([a.delete([s,m]),this.referenceDelegate.removeReference(e,s,u)])})}removeMatchingKeysForTargetId(e,t){const s=rl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=rl(e);let u=Ei();return a.Z({range:s,X:!0},(m,M,B)=>{const q=ka(m[1]),Te=new bn(q);u=u.add(Te)}).next(()=>u)}containsKey(e,t){const s=uo(t.path),a=IDBKeyRange.bound([s],[Ro(s)],!1,!0);let u=0;return rl(e).Z({index:"documentTargetsIndex",X:!0,range:a},([m,M],B,q)=>{0!==m&&(u++,q.done())}).next(()=>u>0)}se(e,t){return jc(e).get(t).next(s=>s?Vo(s):null)}}function jc(r){return Hs(r,"targets")}function Zg(r){return Hs(r,"targetGlobal")}function rl(r){return Hs(r,"targetDocuments")}function yv([r,e],[t,s]){const a=Jn(r,t);return 0===a?Jn(e,s):a}class U0{constructor(e){this.xn=e,this.buffer=new Fi(yv),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class j0{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ke.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){aa(s)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Xr(s)}yield t.Fn(3e5)}))}}class H0{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Pt.resolve(ps.at);const s=new U0(t);return this.$n.forEachTarget(e,a=>s.Mn(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>s.Mn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),Pt.resolve(jh)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jh):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let s,a,u,m,M,B,q;const Te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(nt=>(nt>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${nt}`),a=this.params.maximumSequenceNumbersToCollect):a=nt,m=Date.now(),this.nthSequenceNumber(e,a))).next(nt=>(s=nt,M=Date.now(),this.removeTargets(e,s,t))).next(nt=>(u=nt,B=Date.now(),this.removeOrphanedDocuments(e,s))).next(nt=>(q=Date.now(),H()<=be.in.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-Te}ms\n\tDetermined least recently used ${a} in `+(M-m)+`ms\n\tRemoved ${u} targets in `+(B-M)+`ms\n\tRemoved ${nt} documents in `+(q-B)+`ms\nTotal Duration: ${q-Te}ms`),Pt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:nt})))}}class G0{constructor(e,t){this.db=e,this.garbageCollector=new H0(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}qn(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,a)=>t(a))}addReference(e,t,s){return kp(e,s)}removeReference(e,t,s){return kp(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return kp(e,t)}Gn(e,t){return function(s,a){let u=!1;return Wg(s).tt(m=>zg(s,m,a).next(M=>(M&&(u=!0),Pt.resolve(!M)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Kn(e,(m,M)=>{if(M<=t){const B=this.Gn(e,m).next(q=>{if(!q)return u++,s.getEntry(e,m).next(()=>(s.removeEntry(m,Yn.min()),rl(e).delete([0,uo(m.path)])))});a.push(B)}}).next(()=>Pt.waitFor(a)).next(()=>s.apply(e)).next(()=>u)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return kp(e,t)}Kn(e,t){const s=rl(e);let a,u=ps.at;return s.Z({index:"documentTargetsIndex"},([m,M],{path:B,sequenceNumber:q})=>{0===m?(u!==ps.at&&t(new bn(ka(a)),u),u=q,a=B):u=ps.at}).next(()=>{u!==ps.at&&t(new bn(ka(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kp(r,e){return rl(r).put((s=r.currentSequenceNumber,{targetId:0,path:uo(e.path),sequenceNumber:s}));var s}class vv{constructor(){this.changes=new Xa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Pt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $0{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Ml(e).put(s)}removeEntry(e,t,s){return Ml(e).delete(function(a,u){const m=a.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Fh(u),m[m.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=cr.newInvalidDocument(t);return Ml(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(md(t))},(a,u)=>{s=this.jn(t,u)}).next(()=>s)}Wn(e,t){let s={size:0,document:cr.newInvalidDocument(t)};return Ml(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(md(t))},(a,u)=>{s={document:this.jn(t,u),size:Hh(u)}}).next(()=>s)}getEntries(e,t){let s=lo();return this.zn(e,t,(a,u)=>{const m=this.jn(a,u);s=s.insert(a,m)}).next(()=>s)}Hn(e,t){let s=lo(),a=new Pr(bn.comparator);return this.zn(e,t,(u,m)=>{const M=this.jn(u,m);s=s.insert(u,M),a=a.insert(u,Hh(m))}).next(()=>({documents:s,Jn:a}))}zn(e,t,s){if(t.isEmpty())return Pt.resolve();let a=new Fi($h);t.forEach(B=>a=a.add(B));const u=IDBKeyRange.bound(md(a.first()),md(a.last())),m=a.getIterator();let M=m.getNext();return Ml(e).Z({index:"documentKeyIndex",range:u},(B,q,Te)=>{const nt=bn.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;M&&$h(M,nt)<0;)s(M,null),M=m.getNext();M&&M.isEqual(nt)&&(s(M,q),M=m.hasNext()?m.getNext():null),M?Te.j(md(M)):Te.done()}).next(()=>{for(;M;)s(M,null),M=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,s){const a=[t.popLast().toArray(),t.lastSegment(),Fh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ml(e).W(IDBKeyRange.bound(a,u,!0)).next(m=>{let M=lo();for(const B of m){const q=this.jn(bn.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);M=M.insert(q.key,q)}return M})}getAllFromCollectionGroup(e,t,s,a){let u=lo();const m=Np(t,s),M=Np(t,jr.max());return Ml(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,M,!0)},(B,q,Te)=>{const nt=this.jn(bn.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);u=u.insert(nt.key,nt),u.size===a&&Te.done()}).next(()=>u)}newChangeBuffer(e){return new z0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Tl(e).get("remoteDocumentGlobalKey").next(t=>(un(!!t),t))}Qn(e,t){return Tl(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function V0(r,e){let t;if(e.document)t=Ut(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=bn.fromSegments(e.noDocument.path),a=Fc(e.noDocument.readTime);t=cr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ht();{const s=bn.fromSegments(e.unknownDocument.path),a=Fc(e.unknownDocument.version);t=cr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Zi(s[0],s[1]);return Yn.fromTimestamp(a)}(e.readTime)),t}(this.It,t);if(!s.isNoDocument()||!s.version.isEqual(Yn.min()))return s}return cr.newInvalidDocument(e)}}function bv(r){return new $0(r)}class z0 extends vv{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Xa(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Fi((u,m)=>Jn(u.canonicalString(),m.canonicalString()));return this.changes.forEach((u,m)=>{const M=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,M.readTime)),m.isValidDocument()){const B=Sp(this.Yn.It,m);a=a.add(u.path.popLast()),s+=Hh(B)-M.size,t.push(this.Yn.addEntry(e,u,B))}else if(s-=M.size,this.trackRemovals){const B=Sp(this.Yn.It,m.convertToNoDocument(Yn.min()));t.push(this.Yn.addEntry(e,u,B))}}),a.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,s)),Pt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:a})=>(a.forEach((u,m)=>{this.Xn.set(u,{size:m,readTime:s.get(u).readTime})}),s))}}function Tl(r){return Hs(r,"remoteDocumentGlobal")}function Ml(r){return Hs(r,"remoteDocumentsV14")}function md(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Np(r,e){const t=e.documentKey.path.toArray();return[r,Fh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $h(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<s.length-2;++u)if(a=Jn(t[u],s[u]),a)return a;return a=Jn(t.length,s.length),a||(a=Jn(t[t.length-2],s[s.length-2]),a||Jn(t[t.length-1],s[s.length-1]))}class Yg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zh{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.getBaseDocument(e,t,s))).next(a=>(null!==s&&Mc(s.mutation,a,ms.empty(),Zi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ei()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ei()){const a=da();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(u=>{let m=ya();return u.forEach((M,B)=>{m=m.insert(M,B.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const s=da();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ei()))}populateOverlays(e,t,s){const a=[];return s.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((m,M)=>{t.set(m,M)})})}computeViews(e,t,s,a){let u=lo();const m=Cl(),M=Cl();return t.forEach((B,q)=>{const Te=s.get(q.key);a.has(q.key)&&(void 0===Te||Te.mutation instanceof Bo)?u=u.insert(q.key,q):void 0!==Te&&(m.set(q.key,Te.mutation.getFieldMask()),Mc(Te.mutation,q,Te.mutation.getFieldMask(),Zi.now()))}),this.recalculateAndSaveOverlays(e,u).next(B=>(B.forEach((q,Te)=>m.set(q,Te)),t.forEach((q,Te)=>{var nt;return M.set(q,new Yg(Te,null!==(nt=m.get(q))&&void 0!==nt?nt:null))}),M))}recalculateAndSaveOverlays(e,t){const s=Cl();let a=new Pr((m,M)=>m-M),u=Ei();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const M of m)M.keys().forEach(B=>{const q=t.get(B);if(null===q)return;let Te=s.get(B)||ms.empty();Te=M.applyToLocalView(q,Te),s.set(B,Te);const nt=(a.get(M.batchId)||Ei()).add(B);a=a.insert(M.batchId,nt)})}).next(()=>{const m=[],M=a.getReverseIterator();for(;M.hasNext();){const B=M.getNext(),q=B.key,Te=B.value,nt=mu();Te.forEach(xt=>{if(!u.has(xt)){const Zt=pu(t.get(xt),s.get(xt));null!==Zt&&nt.set(xt,Zt),u=u.add(xt)}}),m.push(this.documentOverlayCache.saveOverlays(e,q,nt))}return Pt.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return bn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ku(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(u=>{const m=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-u.size):Pt.resolve(da());let M=-1,B=u;return m.next(q=>Pt.forEach(q,(Te,nt)=>(M<nt.largestBatchId&&(M=nt.largestBatchId),u.get(Te)?Pt.resolve():this.getBaseDocument(e,Te,nt).next(xt=>{B=B.insert(Te,xt)}))).next(()=>this.populateOverlays(e,q,u)).next(()=>this.computeViews(e,B,q,Ei())).next(Te=>({batchId:M,changes:id(Te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bn(t)).next(s=>{let a=ya();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let u=ya();return this.indexManager.getCollectionParents(e,a).next(m=>Pt.forEach(m,M=>{const B=(q=t,Te=M.child(a),new _a(Te,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,Te;return this.getDocumentsMatchingCollectionQuery(e,B,s).next(q=>{q.forEach((Te,nt)=>{u=u.insert(Te,nt)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(u=>(a=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(u=>{u.forEach((M,B)=>{const q=B.getKey();null===a.get(q)&&(a=a.insert(q,cr.newInvalidDocument(q)))});let m=ya();return a.forEach((M,B)=>{const q=u.get(M);void 0!==q&&Mc(q.mutation,B,ms.empty(),Zi.now()),Ra(t,B)&&(m=m.insert(M,B))}),m})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):Pt.resolve(cr.newInvalidDocument(t))}}class Ev{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Pt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Os(s.createTime)}),Pt.resolve()}getNamedQuery(e,t){return Pt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:Lh(s.bundledQuery),readTime:Os(s.readTime)}),Pt.resolve();var s}}class Jl{constructor(){this.overlays=new Pr(bn.comparator),this.es=new Map}getOverlay(e,t){return Pt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=da();return Pt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&s.set(a,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,u)=>{this.ue(e,t,u)}),Pt.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.es.get(s);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(s)),Pt.resolve()}getOverlaysForCollection(e,t,s){const a=da(),u=t.length+1,m=new bn(t.child("")),M=this.overlays.getIteratorFrom(m);for(;M.hasNext();){const B=M.getNext().value,q=B.getKey();if(!t.isPrefixOf(q.path))break;q.path.length===u&&B.largestBatchId>s&&a.set(B.getKey(),B)}return Pt.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let u=new Pr((q,Te)=>q-Te);const m=this.overlays.getIterator();for(;m.hasNext();){const q=m.getNext().value;if(q.getKey().getCollectionGroup()===t&&q.largestBatchId>s){let Te=u.get(q.largestBatchId);null===Te&&(Te=da(),u=u.insert(q.largestBatchId,Te)),Te.set(q.getKey(),q)}}const M=da(),B=u.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((q,Te)=>M.set(q,Te)),!(M.size()>=a)););return Pt.resolve(M)}ue(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const m=this.es.get(a.largestBatchId).delete(s.key);this.es.set(a.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new Nh(t,s));let u=this.es.get(t);void 0===u&&(u=Ei(),this.es.set(t,u)),this.es.set(t,u.add(s.key))}}class Wh{constructor(){this.ns=new Fi(Qs.ss),this.rs=new Fi(Qs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new Qs(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new Qs(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new bn(new ji([])),s=new Qs(t,e),a=new Qs(t,e+1),u=[];return this.rs.forEachInRange([s,a],m=>{this.cs(m),u.push(m.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new bn(new ji([])),s=new Qs(t,e),a=new Qs(t,e+1);let u=Ei();return this.rs.forEachInRange([s,a],m=>{u=u.add(m.key)}),u}containsKey(e){const t=new Qs(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Qs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return bn.comparator(e.key,t.key)||Jn(e._s,t._s)}static os(e,t){return Jn(e._s,t._s)||bn.comparator(e.key,t.key)}}class Fp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Fi(Qs.ss)}checkEmpty(e){return Pt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const u=this.ws;this.ws++;const m=new Ip(u,t,s,a);this.mutationQueue.push(m);for(const M of a)this.gs=this.gs.add(new Qs(M.key,u)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return Pt.resolve(m)}lookupMutationBatch(e,t){return Pt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),u=a<0?0:a;return Pt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Pt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Qs(t,0),a=new Qs(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([s,a],m=>{const M=this.ys(m._s);u.push(M)}),Pt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fi(Jn);return t.forEach(a=>{const u=new Qs(a,0),m=new Qs(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,m],M=>{s=s.add(M._s)})}),Pt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let u=s;bn.isDocumentKey(u)||(u=u.child(""));const m=new Qs(new bn(u),0);let M=new Fi(Jn);return this.gs.forEachWhile(B=>{const q=B.key.path;return!!s.isPrefixOf(q)&&(q.length===a&&(M=M.add(B._s)),!0)},m),Pt.resolve(this.Is(M))}Is(e){const t=[];return e.forEach(s=>{const a=this.ys(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){un(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return Pt.forEach(t.mutations,a=>{const u=new Qs(a.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new Qs(t,0),a=this.gs.firstAfterOrEqual(s);return Pt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Pt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cv{constructor(e){this.Es=e,this.docs=new Pr(bn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),u=a?a.size:0,m=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Pt.resolve(s?s.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let s=lo();return t.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():cr.newInvalidDocument(a))}),Pt.resolve(s)}getAllFromCollection(e,t,s){let a=lo();const u=new bn(t.child("")),m=this.docs.getIteratorFrom(u);for(;m.hasNext();){const{key:M,value:{document:B}}=m.getNext();if(!t.isPrefixOf(M.path))break;M.path.length>t.length+1||su(ml(B),s)<=0||(a=a.insert(B.key,B.mutableCopy()))}return Pt.resolve(a)}getAllFromCollectionGroup(e,t,s,a){Ht()}As(e,t){return Pt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new qg(this)}getSize(e){return Pt.resolve(this.size)}}class qg extends vv{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(s)}),Pt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class wv{constructor(e){this.persistence=e,this.Rs=new Xa(t=>Oa(t),Ec),this.lastRemoteSnapshotVersion=Yn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Wh,this.targetCount=0,this.vs=Eu.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,a)=>t(a)),Pt.resolve()}getLastRemoteSnapshotVersion(e){return Pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Pt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),Pt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Eu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Pt.resolve()}updateTargetData(e,t){return this.Dn(t),Pt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Pt.resolve()}removeTargets(e,t,s){let a=0;const u=[];return this.Rs.forEach((m,M)=>{M.sequenceNumber<=t&&null===s.get(M.targetId)&&(this.Rs.delete(m),u.push(this.removeMatchingKeysForTargetId(e,M.targetId)),a++)}),Pt.waitFor(u).next(()=>a)}getTargetCount(e){return Pt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return Pt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),Pt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(m=>{u.push(a.markPotentiallyOrphaned(e,m))}),Pt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Pt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return Pt.resolve(s)}containsKey(e,t){return Pt.resolve(this.Ps.containsKey(t))}}class Qg{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ps(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new wv(this),this.indexManager=new Hg,this.remoteDocumentCache=new Cv(s=>this.referenceDelegate.xs(s)),this.It=new Mp(t),this.Ns=new Ev(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Fp(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){Q("MemoryPersistence","Starting transaction:",e);const a=new gd(this.Ss.next());return this.referenceDelegate.ks(),s(a).next(u=>this.referenceDelegate.Ms(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Os(e,t){return Pt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class gd extends oo{constructor(e){super(),this.currentSequenceNumber=e}}class Sl{constructor(e){this.persistence=e,this.Fs=new Wh,this.$s=null}static Bs(e){return new Sl(e)}get Ls(){if(this.$s)return this.$s;throw Ht()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),Pt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),Pt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Pt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ls.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pt.forEach(this.Ls,s=>{const a=bn.fromPath(s);return this.Us(e,a).next(u=>{u||t.removeEntry(a,Yn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Pt.or([()=>Pt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Lp{constructor(e){this.It=e}$(e,t,s,a){const u=new Aa("createOrUpgrade",t);var M;s<1&&a>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ah,{unique:!0}),M.createObjectStore("documentMutations"),Hc(e),function(M){M.createObjectStore("remoteDocuments")}(e));let m=Pt.resolve();return s<3&&a>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Hc(e)),m=m.next(()=>function(M){const B=M.store("targetGlobal"),q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yn.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",q)}(u))),s<4&&a>=4&&(0!==s&&(m=m.next(()=>function(M,B){return B.store("mutations").W().next(q=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ah,{unique:!0});const Te=B.store("mutations"),nt=q.map(xt=>Te.put(xt));return Pt.waitFor(nt)})}(e,u))),m=m.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(m=m.next(()=>this.qs(u))),s<6&&a>=6&&(m=m.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),s<7&&a>=7&&(m=m.next(()=>this.Gs(u))),s<8&&a>=8&&(m=m.next(()=>this.Qs(e,u))),s<9&&a>=9&&(m=m.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(m=m.next(()=>this.js(u))),s<11&&a>=11&&(m=m.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(m=m.next(()=>{!function(M){const B=M.createObjectStore("documentOverlays",{keyPath:Ng});B.createIndex("collectionPathOverlayIndex",Rh,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Ph,{unique:!1})}(e)})),s<13&&a>=13&&(m=m.next(()=>function(M){const B=M.createObjectStore("remoteDocumentsV14",{keyPath:Ag});B.createIndex("documentKeyIndex",Nc),B.createIndex("collectionGroupIndex",xg)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(m=m.next(()=>this.zs(e,u))),s<15&&a>=15&&(m=m.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Rg}).createIndex("sequenceNumberIndex",Pg,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:kg}).createIndex("documentKeyIndex",bp,{unique:!1})}(e))),m}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,a)=>{t+=Hh(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(a=>Pt.forEach(a,u=>{const m=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",m).next(M=>Pt.forEach(M,B=>{un(B.userId===u.userId);const q=Lc(this.It,B);return $g(e,u.userId,q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return s.Z((m,M)=>{const B=new ji(m),q=[0,uo(B)];u.push(t.get(q).next(Te=>Te?Pt.resolve():t.put({targetId:0,path:uo(B),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Pt.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:mv});const s=t.store("collectionParents"),a=new fd,u=m=>{if(a.add(m)){const M=m.lastSegment(),B=m.popLast();return s.put({collectionId:M,parent:uo(B)})}};return t.store("remoteDocuments").Z({X:!0},(m,M)=>{const B=new ji(m);return u(B.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([m,M,B],q)=>{const Te=ka(M);return u(Te.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,a)=>{const u=Vo(a),m=Fg(this.It,u);return t.put(m)})}Ws(e,t){const s=t.store("remoteDocuments"),a=[];return s.Z((u,m)=>{const M=t.store("remoteDocumentsV14"),B=(q=m,q.document?new bn(ji.fromString(q.document.name).popFirst(5)):q.noDocument?bn.fromSegments(q.noDocument.path):q.unknownDocument?bn.fromSegments(q.unknownDocument.path):Ht()).path.toArray();var q;const Te={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};a.push(M.put(Te))}).next(()=>Pt.waitFor(a))}zs(e,t){const s=t.store("mutations"),a=bv(this.It),u=new Qg(Sl.Bs,this.It.re);return s.W().next(m=>{const M=new Map;return m.forEach(B=>{var q;let Te=null!==(q=M.get(B.userId))&&void 0!==q?q:Ei();Lc(this.It,B).keys().forEach(nt=>Te=Te.add(nt)),M.set(B.userId,Te)}),Pt.forEach(M,(B,q)=>{const Te=new A(q),nt=Bh.oe(this.It,Te),xt=u.getIndexManager(Te),Zt=Gh.oe(Te,this.It,xt,u.referenceDelegate);return new zh(a,Zt,nt,xt).recalculateAndSaveOverlaysForDocumentKeys(new Dp(t,ps.at),B).next()})})}}function Hc(r){r.createObjectStore("targetDocuments",{keyPath:pv}).createIndex("documentTargetsIndex",Oh,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Og,{unique:!0}),r.createObjectStore("targetGlobal")}const Gc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ec{constructor(e,t,s,a,u,m,M,B,q,Te,nt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=u,this.window=m,this.document=M,this.Js=q,this.Ys=Te,this.Xs=nt,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=xt=>Promise.resolve(),!ec.C())throw new Qt(It.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new G0(this,a),this.ii=t+"main",this.It=new Mp(B),this.ri=new Zs(this.ii,this.Xs,new Lp(this.It)),this.Cs=new Kg(this.referenceDelegate,this.It),this.remoteDocumentCache=bv(this.It),this.Ns=new gv,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Te&&Be("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Qt(It.FAILED_PRECONDITION,Gc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ps(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,ke.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ke.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ke.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(aa(e))return Q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return _d(e).get("owner").next(t=>Pt.resolve(this.mi(t)))}gi(e){return yd(e).delete(this.clientId)}yi(){var e=this;return(0,ke.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Hs(s,"clientMetadata");return a.W().next(u=>{const m=e.Ii(u,18e5),M=u.filter(B=>-1===m.indexOf(B));return Pt.forEach(M,B=>a.delete(B.clientId)).next(()=>M)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Pt.resolve(!0):_d(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Qt(It.FAILED_PRECONDITION,Gc);return!1}}return!(!this.networkEnabled||!this.inForeground)||yd(e).W().next(s=>void 0===this.Ii(s,5e3).find(a=>{if(this.clientId!==a.clientId){const m=!this.inForeground&&a.inForeground,M=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||m&&M)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Q("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ke.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Dp(t,ps.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>yd(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Gh.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gg(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Bh.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){Q("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(m=this.Xs)?dd:14===m?kh:13===m?wp:12===m?Cp:11===m?Ep:void Ht();var m;let M;return this.ri.runTransaction(e,a,u,B=>(M=new Dp(B,this.Ss?this.Ss.next():ps.at),"readwrite-primary"===t?this.fi(M).next(q=>!!q||this.di(M)).next(q=>{if(!q)throw Be(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Qt(It.FAILED_PRECONDITION,jl);return s(M)}).next(q=>this.wi(M).next(()=>q)):this.Vi(M).next(()=>s(M)))).then(B=>(M.raiseOnCommittedEvent(),B))}Vi(e){return _d(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Qt(It.FAILED_PRECONDITION,Gc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _d(e).put("owner",t)}static C(){return Zs.C()}_i(e){const t=_d(e);return t.get("owner").next(s=>this.mi(s)?(Q("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Pt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Be(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,fe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Q("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Be("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Be("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _d(r){return Hs(r,"owner")}function yd(r){return Hs(r,"clientMetadata")}function Kh(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class vd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=a}static Ci(e,t){let s=Ei(),a=Ei();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new vd(e,t.fromCache,s,a)}}class Zh{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.ki(e,t).next(u=>u||this.Mi(e,t,a,s)).next(u=>u||this.Oi(e,t))}ki(e,t){if(Wu(t))return Pt.resolve(null);let s=Lo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Zu(t,null,"F"),s=Lo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const m=Ei(...u);return this.Ni.getDocuments(e,m).next(M=>this.indexManager.getMinOffset(e,s).next(B=>{const q=this.Fi(t,M);return this.$i(t,q,m,B.readTime)?this.ki(e,Zu(t,null,"F")):this.Bi(e,q,t,B)}))})))}Mi(e,t,s,a){return Wu(t)||a.isEqual(Yn.min())?this.Oi(e,t):this.Ni.getDocuments(e,s).next(u=>{const m=this.Fi(t,u);return this.$i(t,m,s,a)?this.Oi(e,t):(H()<=be.in.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ta(t)),this.Bi(e,m,t,Rr(a,-1)))})}Fi(e,t){let s=new Fi(wc(e));return t.forEach((a,u)=>{Ra(e,u)&&(s=s.add(u))}),s}$i(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Oi(e,t){return H()<=be.in.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ta(t)),this.Ni.getDocumentsMatchingQuery(e,t,jr.min())}Bi(e,t,s,a){return this.Ni.getDocumentsMatchingQuery(e,s,a).next(u=>(t.forEach(m=>{u=u.insert(m.key,m)}),u))}}class Xg{constructor(e,t,s,a){this.persistence=e,this.Li=t,this.It=a,this.Ui=new Pr(Jn),this.qi=new Xa(u=>Oa(u),Ec),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function bd(r,e,t,s){return new Xg(r,e,t,s)}function Jg(r,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,ke.Z)(function*(r,e){const t=en(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const m=[],M=[];let B=Ei();for(const q of a){m.push(q.batchId);for(const Te of q.mutations)B=B.add(Te.key)}for(const q of u){M.push(q.batchId);for(const Te of q.mutations)B=B.add(Te.key)}return t.localDocuments.getDocuments(s,B).next(q=>({ji:q,removedBatchIds:m,addedBatchIds:M}))})})}),Yh.apply(this,arguments)}function W0(r,e){const t=en(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(m,M,B,q){const Te=B.batch,nt=Te.keys();let xt=Pt.resolve();return nt.forEach(Zt=>{xt=xt.next(()=>q.getEntry(M,Zt)).next(qt=>{const yn=B.docVersions.get(Zt);un(null!==yn),qt.version.compareTo(yn)<0&&(Te.applyToRemoteDocument(qt,B),qt.isValidDocument()&&(qt.setReadTime(B.commitVersion),q.addEntry(qt)))})}),xt.next(()=>m.mutationQueue.removeMutationBatch(M,Te))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let M=Ei();for(let B=0;B<m.mutationResults.length;++B)m.mutationResults[B].transformResults.length>0&&(M=M.add(m.batch.mutations[B].key));return M}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function Bp(r){const e=en(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function e_(r,e){const t=en(r),s=e.snapshotVersion;let a=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.Ui;const M=[];e.targetChanges.forEach((Te,nt)=>{const xt=a.get(nt);if(!xt)return;M.push(t.Cs.removeMatchingKeys(u,Te.removedDocuments,nt).next(()=>t.Cs.addMatchingKeys(u,Te.addedDocuments,nt)));let Zt=xt.withSequenceNumber(u.currentSequenceNumber);var qt,yn,Pn;e.targetMismatches.has(nt)?Zt=Zt.withResumeToken(vr.EMPTY_BYTE_STRING,Yn.min()).withLastLimboFreeSnapshotVersion(Yn.min()):Te.resumeToken.approximateByteSize()>0&&(Zt=Zt.withResumeToken(Te.resumeToken,s)),a=a.insert(nt,Zt),yn=Zt,Pn=Te,(0===(qt=xt).resumeToken.approximateByteSize()||yn.snapshotVersion.toMicroseconds()-qt.snapshotVersion.toMicroseconds()>=3e8||Pn.addedDocuments.size+Pn.modifiedDocuments.size+Pn.removedDocuments.size>0)&&M.push(t.Cs.updateTargetData(u,Zt))});let B=lo(),q=Ei();if(e.documentUpdates.forEach(Te=>{e.resolvedLimboDocuments.has(Te)&&M.push(t.persistence.referenceDelegate.updateLimboDocument(u,Te))}),M.push(t_(u,m,e.documentUpdates).next(Te=>{B=Te.Wi,q=Te.zi})),!s.isEqual(Yn.min())){const Te=t.Cs.getLastRemoteSnapshotVersion(u).next(nt=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,s));M.push(Te)}return Pt.waitFor(M).next(()=>m.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,B,q)).next(()=>B)}).then(u=>(t.Ui=a,u))}function t_(r,e,t){let s=Ei(),a=Ei();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let m=lo();return t.forEach((M,B)=>{const q=u.get(M);B.isFoundDocument()!==q.isFoundDocument()&&(a=a.add(M)),B.isNoDocument()&&B.version.isEqual(Yn.min())?(e.removeEntry(M,B.readTime),m=m.insert(M,B)):!q.isValidDocument()||B.version.compareTo(q.version)>0||0===B.version.compareTo(q.version)&&q.hasPendingWrites?(e.addEntry(B),m=m.insert(M,B)):Q("LocalStore","Ignoring outdated watch update for ",M,". Current version:",q.version," Watch version:",B.version)}),{Wi:m,zi:a}})}function n_(r,e){const t=en(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Cu(r,e){const t=en(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Cs.getTargetData(s,e).next(u=>u?(a=u,Pt.resolve(a)):t.Cs.allocateTargetId(s).next(m=>(a=new nl(e,m,0,s.currentSequenceNumber),t.Cs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ui.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function wu(r,e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,ke.Z)(function*(r,e,t){const s=en(r),a=s.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",u,m=>s.persistence.referenceDelegate.removeTarget(m,a)))}catch(m){if(!aa(m))throw m;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.Ui=s.Ui.remove(e),s.qi.delete(a.target)}),Uo.apply(this,arguments)}function qh(r,e,t){const s=en(r);let a=Yn.min(),u=Ei();return s.persistence.runTransaction("Execute query","readonly",m=>function(M,B,q){const Te=en(M),nt=Te.qi.get(q);return void 0!==nt?Pt.resolve(Te.Ui.get(nt)):Te.Cs.getTargetData(B,q)}(s,m,Lo(e)).next(M=>{if(M)return a=M.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(m,M.targetId).next(B=>{u=B})}).next(()=>s.Li.getDocumentsMatchingQuery(m,e,t?a:Yn.min(),t?u:Ei())).next(M=>(Iv(s,qu(e),M),{documents:M,Hi:u})))}function i_(r,e){const t=en(r),s=en(t.Cs),a=t.Ui.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>s.se(u,e).next(m=>m?m.target:null))}function Dv(r,e){const t=en(r),s=t.Ki.get(e)||Yn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Gi.getAllFromCollectionGroup(a,e,Rr(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Iv(t,e,a),a))}function Iv(r,e,t){let s=Yn.min();t.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ki.set(e,s)}function s_(){return s_=(0,ke.Z)(function*(r,e,t,s){const a=en(r);let u=Ei(),m=lo();for(const q of t){const Te=e.Ji(q.metadata.name);q.document&&(u=u.add(Te));const nt=e.Yi(q);nt.setReadTime(e.Xi(q.metadata.readTime)),m=m.insert(Te,nt)}const M=a.Gi.newChangeBuffer({trackRemovals:!0}),B=yield Cu(a,(q=s,Lo(Ka(ji.fromString(`__bundle__/docs/${q}`)))));var q;return a.persistence.runTransaction("Apply bundle documents","readwrite",q=>t_(q,M,m).next(Te=>(M.apply(q),Te)).next(Te=>a.Cs.removeMatchingKeysForTargetId(q,B.targetId).next(()=>a.Cs.addMatchingKeys(q,u,B.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(q,Te.Wi,Te.zi)).next(()=>Te.Wi)))}),s_.apply(this,arguments)}function Tv(r,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,ke.Z)(function*(r,e,t=Ei()){const s=yield Cu(r,Lo(Lh(e.bundledQuery))),a=en(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const m=Os(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return a.Ns.saveNamedQuery(u,e);const M=s.withResumeToken(vr.EMPTY_BYTE_STRING,m);return a.Ui=a.Ui.insert(M.targetId,M),a.Cs.updateTargetData(u,M).next(()=>a.Cs.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>a.Cs.addMatchingKeys(u,t,s.targetId)).next(()=>a.Ns.saveNamedQuery(u,e))})}),Ed.apply(this,arguments)}function Vp(r,e){return`firestore_clients_${r}_${e}`}function o_(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Up(r,e){return`firestore_targets_${r}_${e}`}class Qh{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Zi(e,t,s){const a=JSON.parse(s);let u,m="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(u=new Qt(a.error.code,a.error.message))),m?new Qh(e,t,a.state,u):(Be("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Du{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let a,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(a=new Qt(s.error.code,s.error.message))),u?new Du(e,s.state,a):(Be("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,u=xc();for(let m=0;a&&m<s.activeTargetIds.length;++m)a=vt(s.activeTargetIds[m]),u=u.add(s.activeTargetIds[m]);return a?new Xh(e,u):(Be("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Jh{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Jh(t.clientId,t.onlineState):(Be("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jp{constructor(){this.activeTargetIds=xc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hp{constructor(e,t,s,a,u){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Pr(Jn),this.started=!1,this.cr=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=Vp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new jp),this.lr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ke.Z)(function*(){const t=yield e.syncEngine.vi();for(const a of t){if(a===e.sr)continue;const u=e.getItem(Vp(e.persistenceKey,a));if(u){const m=Xh.Zi(a,u);m&&(e.ur=e.ur.insert(m.clientId,m))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const a=e.yr(s);a&&e.pr(a)}for(const a of e.cr)e.rr(a);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Up(this.persistenceKey,e));if(s){const a=Du.Zi(e,s);a&&(t=a.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Up(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Er(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Q("SharedClientState","READ",e,t),t}setItem(e,t){Q("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Q("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Q("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void Be("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ke.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const a=t.vr(s.key);return t.Vr(a,null)}{const a=t.Sr(s.key,s.newValue);if(a)return t.Vr(a.clientId,a)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const a=t.Dr(s.key,s.newValue);if(a)return t.Cr(a)}}else if(t._r.test(s.key)){if(null!==s.newValue){const a=t.Nr(s.key,s.newValue);if(a)return t.kr(a)}}else if(s.key===t.wr){if(null!==s.newValue){const a=t.yr(s.newValue);if(a)return t.pr(a)}}else if(s.key===t.hr){const a=function(u){let m=ps.at;if(null!=u)try{const M=JSON.parse(u);un("number"==typeof M),m=M}catch(M){Be("SharedClientState","Failed to read sequence number from WebStorage",M)}return m}(s.newValue);a!==ps.at&&t.sequenceNumberHandler(a)}else if(s.key===t.mr){const a=t.Mr(s.newValue);yield Promise.all(a.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const a=new Qh(this.currentUser,e,t,s),u=o_(this.persistenceKey,this.currentUser,e);this.setItem(u,a.tr())}Er(e){const t=o_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const a=Up(this.persistenceKey,e),u=new Du(e,t,s);this.setItem(a,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Xh.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),a=Number(s[1]);return Qh.Zi(new A(void 0!==s[2]?s[2]:null),a,t)}Nr(e,t){const s=this._r.exec(e),a=Number(s[1]);return Du.Zi(a,t)}yr(e){return Jh.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ke.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Q("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),a=this.Ir(this.ur),u=this.Ir(s),m=[],M=[];return u.forEach(B=>{a.has(B)||m.push(B)}),a.forEach(B=>{u.has(B)||M.push(B)}),this.syncEngine.Br(m,M).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=xc();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Gp{constructor(){this.Lr=new jp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,s){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new jp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class a_{qr(e){}shutdown(){}}class l_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const sl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $p{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Mv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,s,a,u){const m=this.ao(e,t);Q("RestConnection","Sending: ",m,s);const M={};return this.ho(M,a,u),this.lo(e,m,M,s).then(B=>(Q("RestConnection","Received: ",B),B),B=>{throw ct("RestConnection",`${e} failed with error: `,B,"url: ",m,"request:",s),B})}fo(e,t,s,a,u,m){return this.co(e,t,s,a,u)}ho(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+I,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),s&&s.headers.forEach((a,u)=>e[u]=a)}ao(e,t){return`${this.oo}/v1/${t}:${sl[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,s,a){return new Promise((u,m)=>{const M=new Ia;M.listenOnce(ul.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Vs.NO_ERROR:const q=M.getResponseJson();Q("Connection","XHR received:",JSON.stringify(q)),u(q);break;case Vs.TIMEOUT:Q("Connection",'RPC "'+e+'" timed out'),m(new Qt(It.DEADLINE_EXCEEDED,"Request time out"));break;case Vs.HTTP_ERROR:const Te=M.getStatus();if(Q("Connection",'RPC "'+e+'" failed with status:',Te,"response text:",M.getResponseText()),Te>0){const nt=M.getResponseJson().error;if(nt&&nt.status&&nt.message){const xt=function(Zt){const qt=Zt.toLowerCase().replace(/_/g,"-");return Object.values(It).indexOf(qt)>=0?qt:It.UNKNOWN}(nt.status);m(new Qt(xt,nt.message))}else m(new Qt(It.UNKNOWN,"Server responded with status "+M.getStatus()))}else m(new Qt(It.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{Q("Connection",'RPC "'+e+'" completed.')}});const B=JSON.stringify(a);M.send(t,"POST",B,s,15)})}_o(e,t,s){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Ms(),m=pa(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new dl({})),this.ho(M.initMessageHeaders,t,s),(0,fe.uI)()||(0,fe.b$)()||(0,fe.d)()||(0,fe.w1)()||(0,fe.Mn)()||(0,fe.ru)()||(M.httpHeadersOverwriteParam="$httpHeaders");const B=a.join("");Q("Connection","Creating WebChannel: "+B,M);const q=u.createWebChannel(B,M);let Te=!1,nt=!1;const xt=new $p({Hr:qt=>{nt?Q("Connection","Not sending because WebChannel is closed:",qt):(Te||(Q("Connection","Opening WebChannel transport."),q.open(),Te=!0),Q("Connection","WebChannel sending:",qt),q.send(qt))},Jr:()=>q.close()}),Zt=(qt,yn,Pn)=>{qt.listen(yn,Si=>{try{Pn(Si)}catch(sr){setTimeout(()=>{throw sr},0)}})};return Zt(q,Xi.EventType.OPEN,()=>{nt||Q("Connection","WebChannel transport opened.")}),Zt(q,Xi.EventType.CLOSE,()=>{nt||(nt=!0,Q("Connection","WebChannel transport closed"),xt.io())}),Zt(q,Xi.EventType.ERROR,qt=>{nt||(nt=!0,ct("Connection","WebChannel transport errored:",qt),xt.io(new Qt(It.UNAVAILABLE,"The operation could not be completed")))}),Zt(q,Xi.EventType.MESSAGE,qt=>{var yn;if(!nt){const Pn=qt.data[0];un(!!Pn);const Si=Pn,sr=Si.error||(null===(yn=Si[0])||void 0===yn?void 0:yn.error);if(sr){Q("Connection","WebChannel received error:",sr);const zi=sr.status;let Di=function(Ii){const $s=Gr[Ii];if(void 0!==$s)return Ac($s)}(zi),ni=sr.message;void 0===Di&&(Di=It.INTERNAL,ni="Unknown error status: "+zi+" with message "+sr.message),nt=!0,xt.io(new Qt(Di,ni)),q.close()}else Q("Connection","WebChannel received:",Pn),xt.ro(Pn)}}),Zt(m,Ha.STAT_EVENT,qt=>{qt.stat===so.PROXY?Q("Connection","Detected buffering proxy"):qt.stat===so.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(()=>{xt.so()},0),xt}}function c_(){return"undefined"!=typeof window?window:null}function zp(){return"undefined"!=typeof document?document:null}function Iu(r){return new Ih(r,!0)}class Wp{constructor(e,t,s=1e3,a=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=s,this.mo=a,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),a=Math.max(0,t-s);a>0&&Q("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class u_{constructor(e,t,s,a,u,m,M,B){this.Hs=e,this.Po=s,this.vo=a,this.Vo=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=M,this.listener=B,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Wp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ke.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ke.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,ke.Z)(function*(){s.Lo(),s.Uo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===It.RESOURCE_EXHAUSTED?(Be(t.toString()),Be("Using maximum backoff delay to prevent overloading the backend."),s.xo.Eo()):t&&t.code===It.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.So===t&&this.Go(s,a)},s=>{e(()=>{const a=new Qt(It.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(a)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{s(()=>this.Qo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ke.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sv extends u_{constructor(e,t,s,a,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,m),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function An(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:Ht(),a=e.targetChange.targetIds||[],u=function(B,q){return B.gt?(un(void 0===q||"string"==typeof q),vr.fromBase64String(q||"")):(un(void 0===q||q instanceof Uint8Array),vr.fromUint8Array(q||new Uint8Array))}(r,e.targetChange.resumeToken),m=e.targetChange.cause,M=m&&function(B){const q=void 0===B.code?It.UNKNOWN:Ac(B.code);return new Qt(q,B.message||"")}(m);t=new co(s,a,u,M||null)}else if("documentChange"in e){const s=e.documentChange,a=d(r,s.document.name),u=Os(s.document.updateTime),m=new js({mapValue:{fields:s.document.fields}}),M=cr.newFoundDocument(a,u,m);t=new gu(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,a=d(r,s.document),u=s.readTime?Os(s.readTime):Yn.min(),m=cr.newNoDocument(a,u);t=new gu([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,a=d(r,s.document);t=new gu([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Ht();{const s=e.filter,u=new Ch(s.count||0);t=new sd(s.targetId,u)}}var B;return t}(this.It,e),s=function(a){if(!("targetChange"in a))return Yn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Yn.min():u.readTime?Os(u.readTime):Yn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=W(this.It),t.addTarget=function(a,u){let m;const M=u.target;return m=lu(M)?{documents:bo(a,M)}:{query:ql(a,M)},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?m.resumeToken=yu(a,u.resumeToken):u.snapshotVersion.compareTo(Yn.min())>0&&(m.readTime=Pc(a,u.snapshotVersion.toTimestamp())),m}(this.It,e);const s=function tl(r,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ht()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=W(this.It),t.removeTarget=e,this.Bo(t)}}class Kp extends u_{constructor(e,t,s,a,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,m),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Jr(r,e){return r&&r.length>0?(un(void 0!==e),r.map(t=>function(s,a){let u=Os(s.updateTime?s.updateTime:a);return u.isEqual(Yn.min())&&(u=Os(a)),new mp(u,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Os(e.commitTime);return this.listener.Zo(s,t)}return un(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=W(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Qn(this.It,s))};this.Bo(t)}}class Av extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=s,this.It=a,this.nu=!1}su(){if(this.nu)throw new Qt(It.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.co(e,t,s,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Qt(It.UNKNOWN,a.toString())})}fo(e,t,s,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.Vo.fo(e,t,s,u,m,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Qt(It.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class xv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Be(t),this.ou=!1):Q("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ef{constructor(e,t,s,a,u){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(M=>{s.enqueueAndForget((0,ke.Z)(function*(){var B;Al(m)&&(Q("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,ke.Z)(function*(q){const Te=en(q);Te._u.add(4),yield tc(Te),Te.gu.set("Unknown"),Te._u.delete(4),yield $c(Te)}),function(q){return B.apply(this,arguments)})(m))}))}),this.gu=new xv(s,a)}}function $c(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ke.Z)(function*(r){if(Al(r))for(const e of r.wu)yield e(!0)}),Zp.apply(this,arguments)}function tc(r){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,ke.Z)(function*(r){for(const e of r.wu)yield e(!1)}),Cd.apply(this,arguments)}function wd(r,e){const t=en(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),qp(t)?d_(t):Tu(t).ko()&&Yp(t,e))}function Dd(r,e){const t=en(r),s=Tu(t);t.du.delete(e),s.ko()&&tf(t,e),0===t.du.size&&(s.ko()?s.Fo():Al(t)&&t.gu.set("Unknown"))}function Yp(r,e){r.yu.Ot(e.targetId),Tu(r).zo(e)}function tf(r,e){r.yu.Ot(e),Tu(r).Ho(e)}function d_(r){r.yu=new od({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),Tu(r).start(),r.gu.uu()}function qp(r){return Al(r)&&!Tu(r).No()&&r.du.size>0}function Al(r){return 0===en(r)._u.size}function Qp(r){r.yu=void 0}function h_(r){return nf.apply(this,arguments)}function nf(){return nf=(0,ke.Z)(function*(r){r.du.forEach((e,t)=>{Yp(r,e)})}),nf.apply(this,arguments)}function f_(r,e){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,ke.Z)(function*(r,e){Qp(r),qp(r)?(r.gu.hu(e),d_(r)):r.gu.set("Unknown")}),Fa.apply(this,arguments)}function rf(r,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,ke.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof co&&2===e.state&&e.cause)try{yield(s=(0,ke.Z)(function*(a,u){const m=u.cause;for(const M of u.targetIds)a.du.has(M)&&(yield a.remoteSyncer.rejectListen(M,m),a.du.delete(M),a.yu.removeTarget(M))}),function(a,u){return s.apply(this,arguments)})(r,e)}catch(s){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield sf(r,s)}else if(e instanceof gu?r.yu.Gt(e):e instanceof sd?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Yn.min()))try{const s=yield Bp(r.localStore);t.compareTo(s)>=0&&(yield function(a,u){const m=a.yu.te(u);return m.targetChanges.forEach((M,B)=>{if(M.resumeToken.approximateByteSize()>0){const q=a.du.get(B);q&&a.du.set(B,q.withResumeToken(M.resumeToken,u))}}),m.targetMismatches.forEach(M=>{const B=a.du.get(M);if(!B)return;a.du.set(M,B.withResumeToken(vr.EMPTY_BYTE_STRING,B.snapshotVersion)),tf(a,M);const q=new nl(B.target,M,1,B.sequenceNumber);Yp(a,q)}),a.remoteSyncer.applyRemoteEvent(m)}(r,t))}catch(s){Q("RemoteStore","Failed to raise snapshot:",s),yield sf(r,s)}var s}),Xp.apply(this,arguments)}function sf(r,e,t){return p_.apply(this,arguments)}function p_(){return p_=(0,ke.Z)(function*(r,e,t){if(!aa(e))throw e;r._u.add(1),yield tc(r),r.gu.set("Offline"),t||(t=()=>Bp(r.localStore)),r.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){Q("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield $c(r)}))}),p_.apply(this,arguments)}function af(r,e){return e().catch(t=>sf(r,t,e))}function zc(r){return Id.apply(this,arguments)}function Id(){return Id=(0,ke.Z)(function*(r){const e=en(r),t=rc(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Td(e);)try{const a=yield n_(e.localStore,s);if(null===a){0===e.fu.length&&t.Fo();break}s=a.batchId,Ov(e,a)}catch(a){yield sf(e,a)}lf(e)&&Jp(e)}),Id.apply(this,arguments)}function Td(r){return Al(r)&&r.fu.length<10}function Ov(r,e){r.fu.push(e);const t=rc(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function lf(r){return Al(r)&&!rc(r).No()&&r.fu.length>0}function Jp(r){rc(r).start()}function m_(r){return cf.apply(this,arguments)}function cf(){return cf=(0,ke.Z)(function*(r){rc(r).eu()}),cf.apply(this,arguments)}function Rv(r){return Md.apply(this,arguments)}function Md(){return Md=(0,ke.Z)(function*(r){const e=rc(r);for(const t of r.fu)e.Xo(t.mutations)}),Md.apply(this,arguments)}function Pv(r,e,t){return em.apply(this,arguments)}function em(){return em=(0,ke.Z)(function*(r,e,t){const s=r.fu.shift(),a=Tp.from(s,e,t);yield af(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield zc(r)}),em.apply(this,arguments)}function g_(r,e){return nc.apply(this,arguments)}function nc(){return nc=(0,ke.Z)(function*(r,e){var t;e&&rc(r).Yo&&(yield(t=(0,ke.Z)(function*(s,a){if(Qa(u=a.code)&&u!==It.ABORTED){const m=s.fu.shift();rc(s).Oo(),yield af(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,a)),yield zc(s)}var u}),function(s,a){return t.apply(this,arguments)})(r,e)),lf(r)&&Jp(r)}),nc.apply(this,arguments)}function tm(r,e){return nm.apply(this,arguments)}function nm(){return nm=(0,ke.Z)(function*(r,e){const t=en(r);t.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const s=Al(t);t._u.add(3),yield tc(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield $c(t)}),nm.apply(this,arguments)}function im(r,e){return ic.apply(this,arguments)}function ic(){return ic=(0,ke.Z)(function*(r,e){const t=en(r);e?(t._u.delete(2),yield $c(t)):e||(t._u.add(2),yield tc(t),t.gu.set("Unknown"))}),ic.apply(this,arguments)}function Tu(r){return r.pu||(r.pu=function(e,t,s){const a=en(e);return a.su(),new Sv(t,a.Vo,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:h_.bind(null,r),Zr:f_.bind(null,r),Wo:rf.bind(null,r)}),r.wu.push(function(){var e=(0,ke.Z)(function*(t){t?(r.pu.Oo(),qp(r)?d_(r):r.gu.set("Unknown")):(yield r.pu.stop(),Qp(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function rc(r){return r.Iu||(r.Iu=function(e,t,s){const a=en(e);return a.su(),new Kp(t,a.Vo,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:m_.bind(null,r),Zr:g_.bind(null,r),tu:Rv.bind(null,r),Zo:Pv.bind(null,r)}),r.wu.push(function(){var e=(0,ke.Z)(function*(t){t?(r.Iu.Oo(),yield zc(r)):(yield r.Iu.stop(),r.fu.length>0&&(Q("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class rm{constructor(e,t,s,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,s,a,u){const m=Date.now()+s,M=new rm(e,t,m,a,u);return M.start(s),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qt(It.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mu(r,e){if(Be("AsyncQueue",`${e}: ${r}`),aa(r))return new Qt(It.UNAVAILABLE,`${e}: ${r}`);throw r}class Eo{constructor(e){this.comparator=e?(t,s)=>e(t,s)||bn.comparator(t.key,s.key):(t,s)=>bn.comparator(t.key,s.key),this.keyedMap=ya(),this.sortedSet=new Pr(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class uf{constructor(){this.Tu=new Pr(bn.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ht():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Wc{constructor(e,t,s,a,u,m,M,B){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=M,this.excludesMetadataChanges=B}static fromInitialDocuments(e,t,s,a){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new Wc(e,t,Eo.emptySet(t),u,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ao(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class __{constructor(){this.Au=void 0,this.listeners=[]}}class y_{constructor(){this.queries=new Xa(e=>Yu(e),ao),this.onlineState="Unknown",this.Ru=new Set}}function df(r,e){return sm.apply(this,arguments)}function sm(){return sm=(0,ke.Z)(function*(r,e){const t=en(r),s=e.query;let a=!1,u=t.queries.get(s);if(u||(a=!0,u=new __),a)try{u.Au=yield t.onListen(s)}catch(m){const M=Mu(m,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(M)}t.queries.set(s,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&b_(t)}),sm.apply(this,arguments)}function om(r,e){return am.apply(this,arguments)}function am(){return am=(0,ke.Z)(function*(r,e){const t=en(r),s=e.query;let a=!1;const u=t.queries.get(s);if(u){const m=u.listeners.indexOf(e);m>=0&&(u.listeners.splice(m,1),a=0===u.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),am.apply(this,arguments)}function kv(r,e){const t=en(r);let s=!1;for(const a of e){const m=t.queries.get(a.query);if(m){for(const M of m.listeners)M.Pu(a)&&(s=!0);m.Au=a}}s&&b_(t)}function v_(r,e,t){const s=en(r),a=s.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);s.queries.delete(e)}function b_(r){r.Ru.forEach(e=>{e.next()})}class hf{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Wc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Nv{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class E_{constructor(e){this.It=e}Ji(e){return d(this.It,e)}Yi(e){return e.metadata.exists?Ut(this.It,e.document,!1):cr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Os(e)}}class K0{constructor(e,t,s){this.Mu=e,this.localStore=t,this.It=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Fv(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=ji.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,s=new E_(this.It);for(const a of e)if(a.metadata.queries){const u=s.Ji(a.metadata.name);for(const m of a.metadata.queries){const M=(t.get(m)||Ei()).add(u);t.set(m,M)}}return t}complete(){var e=this;return(0,ke.Z)(function*(){const t=yield function r_(r,e,t,s){return s_.apply(this,arguments)}(e.localStore,new E_(e.It),e.documents,e.Mu.id),s=e.Fu(e.documents);for(const a of e.queries)yield Tv(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Fv(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class ff{constructor(e){this.key=e}}class C_{constructor(e){this.key=e}}class lm{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Ei(),this.mutatedKeys=Ei(),this.Ku=wc(e),this.Gu=new Eo(this.Ku)}get Qu(){return this.Lu}ju(e,t){const s=t?t.Wu:new uf,a=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,m=a,M=!1;const B="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,q="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Te,nt)=>{const xt=a.get(Te),Zt=Ra(this.query,nt)?nt:null,qt=!!xt&&this.mutatedKeys.has(xt.key),yn=!!Zt&&(Zt.hasLocalMutations||this.mutatedKeys.has(Zt.key)&&Zt.hasCommittedMutations);let Pn=!1;xt&&Zt?xt.data.isEqual(Zt.data)?qt!==yn&&(s.track({type:3,doc:Zt}),Pn=!0):this.zu(xt,Zt)||(s.track({type:2,doc:Zt}),Pn=!0,(B&&this.Ku(Zt,B)>0||q&&this.Ku(Zt,q)<0)&&(M=!0)):!xt&&Zt?(s.track({type:0,doc:Zt}),Pn=!0):xt&&!Zt&&(s.track({type:1,doc:xt}),Pn=!0,(B||q)&&(M=!0)),Pn&&(Zt?(m=m.add(Zt),u=yn?u.add(Te):u.delete(Te)):(m=m.delete(Te),u=u.delete(Te)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const Te="F"===this.query.limitType?m.last():m.first();m=m.delete(Te.key),u=u.delete(Te.key),s.track({type:1,doc:Te})}return{Gu:m,Wu:s,$i:M,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((q,Te)=>function(nt,xt){const Zt=qt=>{switch(qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return Zt(nt)-Zt(xt)}(q.type,Te.type)||this.Ku(q.doc,Te.doc)),this.Hu(s);const m=t?this.Ju():[],M=0===this.qu.size&&this.current?1:0,B=M!==this.Uu;return this.Uu=M,0!==u.length||B?{snapshot:new Wc(this.query,e.Gu,a,u,e.mutatedKeys,0===M,B,!1),Yu:m}:{Yu:m}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new uf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Ei(),this.Gu.forEach(s=>{this.Xu(s.key)&&(this.qu=this.qu.add(s.key))});const t=[];return e.forEach(s=>{this.qu.has(s)||t.push(new C_(s))}),this.qu.forEach(s=>{e.has(s)||t.push(new ff(s))}),t}Zu(e){this.Lu=e.Hi,this.qu=Ei();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Wc.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class w_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Z0{constructor(e){this.key=e,this.ec=!1}}class La{constructor(e,t,s,a,u,m){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.nc={},this.sc=new Xa(M=>Yu(M),ao),this.ic=new Map,this.rc=new Set,this.oc=new Pr(bn.comparator),this.uc=new Map,this.cc=new Wh,this.ac={},this.hc=new Map,this.lc=Eu.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Y0(r,e){return D_.apply(this,arguments)}function D_(){return D_=(0,ke.Z)(function*(r,e){const t=Df(r);let s,a;const u=t.sc.get(e);if(u)s=u.targetId,t.sharedClientState.addLocalQueryTarget(s),a=u.view.tc();else{const m=yield Cu(t.localStore,Lo(e));t.isPrimaryClient&&wd(t.remoteStore,m);const M=t.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,a=yield pf(t,e,s,"current"===M)}return a}),D_.apply(this,arguments)}function pf(r,e,t,s){return mf.apply(this,arguments)}function mf(){return mf=(0,ke.Z)(function*(r,e,t,s){r.dc=(Te,nt,xt)=>{return(Zt=(0,ke.Z)(function*(qt,yn,Pn,Si){let sr=yn.view.ju(Pn);sr.$i&&(sr=yield qh(qt.localStore,yn.query,!1).then(({documents:ni})=>yn.view.ju(ni,sr)));const zi=Si&&Si.targetChanges.get(yn.targetId),Di=yn.view.applyChanges(sr,qt.isPrimaryClient,zi);return Sd(qt,yn.targetId,Di.Yu),Di.snapshot}),function(qt,yn,Pn,Si){return Zt.apply(this,arguments)})(r,Te,nt,xt);var Zt};const a=yield qh(r.localStore,e,!0),u=new lm(e,a.Hi),m=u.ju(a.documents),M=Ja.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState),B=u.applyChanges(m,r.isPrimaryClient,M);Sd(r,t,B.Yu);const q=new w_(e,t,u);return r.sc.set(e,q),r.ic.has(t)?r.ic.get(t).push(e):r.ic.set(t,[e]),B.snapshot}),mf.apply(this,arguments)}function I_(r,e){return cm.apply(this,arguments)}function cm(){return cm=(0,ke.Z)(function*(r,e){const t=en(r),s=t.sc.get(e),a=t.ic.get(s.targetId);if(a.length>1)return t.ic.set(s.targetId,a.filter(u=>!ao(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield wu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Dd(t.remoteStore,s.targetId),Su(t,s.targetId)}).catch(Xr))):(Su(t,s.targetId),yield wu(t.localStore,s.targetId,!0))}),cm.apply(this,arguments)}function gf(){return gf=(0,ke.Z)(function*(r,e,t){const s=If(r);try{const a=yield function(u,m){const M=en(u),B=Zi.now(),q=m.reduce((xt,Zt)=>xt.add(Zt.key),Ei());let Te,nt;return M.persistence.runTransaction("Locally write mutations","readwrite",xt=>{let Zt=lo(),qt=Ei();return M.Gi.getEntries(xt,q).next(yn=>{Zt=yn,Zt.forEach((Pn,Si)=>{Si.isValidDocument()||(qt=qt.add(Pn))})}).next(()=>M.localDocuments.getOverlayedDocuments(xt,Zt)).next(yn=>{Te=yn;const Pn=[];for(const Si of m){const sr=gp(Si,Te.get(Si.key).overlayedDocument);null!=sr&&Pn.push(new Bo(Si.key,sr,uh(sr.value.mapValue),mi.exists(!0)))}return M.mutationQueue.addMutationBatch(xt,B,Pn,m)}).next(yn=>{nt=yn;const Pn=yn.applyToLocalDocumentSet(Te,qt);return M.documentOverlayCache.saveOverlays(xt,yn.batchId,Pn)})}).then(()=>({batchId:nt.batchId,changes:id(Te)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,m,M){let B=u.ac[u.currentUser.toKey()];B||(B=new Pr(Jn)),B=B.insert(m,M),u.ac[u.currentUser.toKey()]=B}(s,a.batchId,t),yield $r(s,a.changes),yield zc(s.remoteStore)}catch(a){const u=Mu(a,"Failed to persist write");t.reject(u)}}),gf.apply(this,arguments)}function _f(r,e){return um.apply(this,arguments)}function um(){return um=(0,ke.Z)(function*(r,e){const t=en(r);try{const s=yield e_(t.localStore,e);e.targetChanges.forEach((a,u)=>{const m=t.uc.get(u);m&&(un(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?m.ec=!0:a.modifiedDocuments.size>0?un(m.ec):a.removedDocuments.size>0&&(un(m.ec),m.ec=!1))}),yield $r(t,s,e)}catch(s){yield Xr(s)}}),um.apply(this,arguments)}function yf(r,e,t){const s=en(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.sc.forEach((u,m)=>{const M=m.view.bu(e);M.snapshot&&a.push(M.snapshot)}),function(u,m){const M=en(u);M.onlineState=m;let B=!1;M.queries.forEach((q,Te)=>{for(const nt of Te.listeners)nt.bu(m)&&(B=!0)}),B&&b_(M)}(s.eventManager,e),a.length&&s.nc.Wo(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Lv(r,e,t){return dm.apply(this,arguments)}function dm(){return dm=(0,ke.Z)(function*(r,e,t){const s=en(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.uc.get(e),u=a&&a.key;if(u){let m=new Pr(bn.comparator);m=m.insert(u,cr.newNoDocument(u,Yn.min()));const M=Ei().add(u),B=new Oc(Yn.min(),new Map,new Fi(Jn),m,M);yield _f(s,B),s.oc=s.oc.remove(u),s.uc.delete(e),Zc(s)}else yield wu(s.localStore,e,!1).then(()=>Su(s,e,t)).catch(Xr)}),dm.apply(this,arguments)}function Bv(r,e){return hm.apply(this,arguments)}function hm(){return hm=(0,ke.Z)(function*(r,e){const t=en(r),s=e.batch.batchId;try{const a=yield W0(t.localStore,e);Kc(t,s,null),pm(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield $r(t,a)}catch(a){yield Xr(a)}}),hm.apply(this,arguments)}function Vv(r,e,t){return fm.apply(this,arguments)}function fm(){return fm=(0,ke.Z)(function*(r,e,t){const s=en(r);try{const a=yield function(u,m){const M=en(u);return M.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let q;return M.mutationQueue.lookupMutationBatch(B,m).next(Te=>(un(null!==Te),q=Te.keys(),M.mutationQueue.removeMutationBatch(B,Te))).next(()=>M.mutationQueue.performConsistencyCheck(B)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(B,q,m)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,q)).next(()=>M.localDocuments.getDocuments(B,q))})}(s.localStore,e);Kc(s,e,t),pm(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield $r(s,a)}catch(a){yield Xr(a)}}),fm.apply(this,arguments)}function sc(){return sc=(0,ke.Z)(function*(r,e){const t=en(r);Al(t.remoteStore)||Q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(u){const m=en(u);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>m.mutationQueue.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===s)return void e.resolve();const a=t.hc.get(s)||[];a.push(e),t.hc.set(s,a)}catch(s){const a=Mu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),sc.apply(this,arguments)}function pm(r,e){(r.hc.get(e)||[]).forEach(t=>{t.resolve()}),r.hc.delete(e)}function Kc(r,e,t){const s=en(r);let a=s.ac[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),s.ac[s.currentUser.toKey()]=a}}function Su(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.ic.get(e))r.sc.delete(s),t&&r.nc._c(s,t);r.ic.delete(e),r.isPrimaryClient&&r.cc.ls(e).forEach(s=>{r.cc.containsKey(s)||T_(r,s)})}function T_(r,e){r.rc.delete(e.path.canonicalString());const t=r.oc.get(e);null!==t&&(Dd(r.remoteStore,t),r.oc=r.oc.remove(e),r.uc.delete(t),Zc(r))}function Sd(r,e,t){for(const s of t)s instanceof ff?(r.cc.addReference(s.key,e),ol(r,s)):s instanceof C_?(Q("SyncEngine","Document no longer in limbo: "+s.key),r.cc.removeReference(s.key,e),r.cc.containsKey(s.key)||T_(r,s.key)):Ht()}function ol(r,e){const t=e.key,s=t.path.canonicalString();r.oc.get(t)||r.rc.has(s)||(Q("SyncEngine","New document in limbo: "+t),r.rc.add(s),Zc(r))}function Zc(r){for(;r.rc.size>0&&r.oc.size<r.maxConcurrentLimboResolutions;){const e=r.rc.values().next().value;r.rc.delete(e);const t=new bn(ji.fromString(e)),s=r.lc.next();r.uc.set(s,new Z0(t)),r.oc=r.oc.insert(t,s),wd(r.remoteStore,new nl(Lo(Ka(t.path)),s,2,ps.at))}}function $r(r,e,t){return xl.apply(this,arguments)}function xl(){return xl=(0,ke.Z)(function*(r,e,t){const s=en(r),a=[],u=[],m=[];var M;s.sc.isEmpty()||(s.sc.forEach((M,B)=>{m.push(s.dc(B,e,t).then(q=>{if(q){s.isPrimaryClient&&s.sharedClientState.updateQueryState(B.targetId,q.fromCache?"not-current":"current"),a.push(q);const Te=vd.Ci(B.targetId,q);u.push(Te)}}))}),yield Promise.all(m),s.nc.Wo(a),yield(M=(0,ke.Z)(function*(B,q){const Te=en(B);try{yield Te.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>Pt.forEach(q,xt=>Pt.forEach(xt.Si,Zt=>Te.persistence.referenceDelegate.addReference(nt,xt.targetId,Zt)).next(()=>Pt.forEach(xt.Di,Zt=>Te.persistence.referenceDelegate.removeReference(nt,xt.targetId,Zt)))))}catch(nt){if(!aa(nt))throw nt;Q("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of q){const xt=nt.targetId;if(!nt.fromCache){const Zt=Te.Ui.get(xt),yn=Zt.withLastLimboFreeSnapshotVersion(Zt.snapshotVersion);Te.Ui=Te.Ui.insert(xt,yn)}}}),function(B,q){return M.apply(this,arguments)})(s.localStore,u))}),xl.apply(this,arguments)}function bf(r,e){return na.apply(this,arguments)}function na(){return na=(0,ke.Z)(function*(r,e){const t=en(r);if(!t.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const s=yield Jg(t.localStore,e);t.currentUser=e,(a=t).hc.forEach(m=>{m.forEach(M=>{M.reject(new Qt(It.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.hc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield $r(t,s.ji)}var a}),na.apply(this,arguments)}function mm(r,e){const t=en(r),s=t.uc.get(e);if(s&&s.ec)return Ei().add(s.key);{let a=Ei();const u=t.ic.get(e);if(!u)return a;for(const m of u){const M=t.sc.get(m);a=a.unionWith(M.view.Qu)}return a}}function Au(r,e){return oc.apply(this,arguments)}function oc(){return oc=(0,ke.Z)(function*(r,e){const t=en(r),s=yield qh(t.localStore,e.query,!0),a=e.view.Zu(s);return t.isPrimaryClient&&Sd(t,e.targetId,a.Yu),a}),oc.apply(this,arguments)}function xu(r,e){return ac.apply(this,arguments)}function ac(){return ac=(0,ke.Z)(function*(r,e){const t=en(r);return Dv(t.localStore,e).then(s=>$r(t,s))}),ac.apply(this,arguments)}function Ou(r,e,t,s){return lc.apply(this,arguments)}function lc(){return lc=(0,ke.Z)(function*(r,e,t,s){const a=en(r),u=yield function(m,M){const B=en(m),q=en(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",Te=>q.Tn(Te,M).next(nt=>nt?B.localDocuments.getDocuments(Te,nt):Pt.resolve(null)))}(a.localStore,e);var M;null!==u?("pending"===t?yield zc(a.remoteStore):"acknowledged"===t||"rejected"===t?(Kc(a,e,s||null),pm(a,e),M=e,en(en(a.localStore).mutationQueue).An(M)):Ht(),yield $r(a,u)):Q("SyncEngine","Cannot apply mutation batch with id: "+e)}),lc.apply(this,arguments)}function cc(){return cc=(0,ke.Z)(function*(r,e){const t=en(r);if(Df(t),If(t),!0===e&&!0!==t.fc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Yc(t,s.toArray());t.fc=!0,yield im(t.remoteStore,!0);for(const u of a)wd(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const s=[];let a=Promise.resolve();t.ic.forEach((u,m)=>{t.sharedClientState.isLocalQueryTarget(m)?s.push(m):a=a.then(()=>(Su(t,m),wu(t.localStore,m,!0))),Dd(t.remoteStore,m)}),yield a,yield Yc(t,s),function(u){const m=en(u);m.uc.forEach((M,B)=>{Dd(m.remoteStore,B)}),m.cc.fs(),m.uc=new Map,m.oc=new Pr(bn.comparator)}(t),t.fc=!1,yield im(t.remoteStore,!1)}}),cc.apply(this,arguments)}function Yc(r,e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,ke.Z)(function*(r,e,t){const s=en(r),a=[],u=[];for(const m of e){let M;const B=s.ic.get(m);if(B&&0!==B.length){M=yield Cu(s.localStore,Lo(B[0]));for(const q of B){const Te=s.sc.get(q),nt=yield Au(s,Te);nt.snapshot&&u.push(nt.snapshot)}}else{const q=yield i_(s.localStore,m);M=yield Cu(s.localStore,q),yield pf(s,gm(q),m,!1)}a.push(M)}return s.nc.Wo(u),a}),Ef.apply(this,arguments)}function gm(r){return _h(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function M_(r){const e=en(r);return en(en(e.localStore).persistence).vi()}function S_(r,e,t,s){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,ke.Z)(function*(r,e,t,s){const a=en(r);if(a.fc)return void Q("SyncEngine","Ignoring unexpected query state notification.");const u=a.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const m=yield Dv(a.localStore,qu(u[0])),M=Oc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield $r(a,m,M);break}case"rejected":yield wu(a.localStore,e,!0),Su(a,e,s);break;default:Ht()}}),Cf.apply(this,arguments)}function A_(r,e,t){return wf.apply(this,arguments)}function wf(){return wf=(0,ke.Z)(function*(r,e,t){const s=Df(r);if(s.fc){for(const a of e){if(s.ic.has(a)){Q("SyncEngine","Adding an already active target "+a);continue}const u=yield i_(s.localStore,a),m=yield Cu(s.localStore,u);yield pf(s,gm(u),m.targetId,!1),wd(s.remoteStore,m)}for(const a of t)s.ic.has(a)&&(yield wu(s.localStore,a,!1).then(()=>{Dd(s.remoteStore,a),Su(s,a)}).catch(Xr))}}),wf.apply(this,arguments)}function Df(r){const e=en(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_f.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lv.bind(null,e),e.nc.Wo=kv.bind(null,e.eventManager),e.nc._c=v_.bind(null,e.eventManager),e}function If(r){const e=en(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vv.bind(null,e),e}class _m{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ke.Z)(function*(){t.It=Iu(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return bd(this.persistence,new Zh,e.initialUser,this.It)}gc(e){return new Qg(Sl.Bs,this.It)}mc(e){return new Gp}terminate(){var e=this;return(0,ke.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class x_ extends _m{constructor(e,t,s){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,ke.Z)(function*(){yield t().call(s,e),yield s.Ec.initialize(s,e),yield If(s.Ec.syncEngine),yield zc(s.Ec.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return bd(this.persistence,new Zh,e.initialUser,this.It)}Ic(e,t){return new j0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const s=new ou(t,this.persistence);return new ca(e.asyncQueue,s)}gc(e){const t=Kh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?fa.withCacheSize(this.cacheSizeBytes):fa.DEFAULT;return new ec(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,c_(),zp(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Gp}}class O_ extends x_{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,ke.Z)(function*(){yield t().call(s,e);const a=s.Ec.syncEngine;s.sharedClientState instanceof Hp&&(s.sharedClientState.syncEngine={Fr:Ou.bind(null,a),$r:S_.bind(null,a),Br:A_.bind(null,a),vi:M_.bind(null,a),Or:xu.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var u=(0,ke.Z)(function*(m){yield function Ru(r,e){return cc.apply(this,arguments)}(s.Ec.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return u.apply(this,arguments)}}())})()}mc(e){const t=c_();if(!Hp.C(t))throw new Qt(It.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Kh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Tf{initialize(e,t){var s=this;return(0,ke.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>yf(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=bf.bind(null,s.syncEngine),yield im(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new y_}createDatastore(e){const t=Iu(e.databaseInfo.databaseId),s=new Mv(e.databaseInfo);return new Av(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,u=M=>yf(this.syncEngine,M,0),m=l_.C()?new l_:new a_,new ef(t,s,a,u,m);var t,s,a,u,m}createSyncEngine(e,t){return function(s,a,u,m,M,B,q){const Te=new La(s,a,u,m,M,B);return q&&(Te.fc=!0),Te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ke.Z)(function*(t){const s=en(t);Q("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield tc(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function R_(r,e=10240){let t=0;return{read:()=>(0,ke.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Mf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Be("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class P_{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Ji,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(s=>{s&&s.ku()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ke.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ke.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const s=e.Pc.decode(t),a=Number(s);isNaN(a)&&e.Sc(`length string (${s}) is not valid number`);const u=yield e.Dc(a);return new Nv(JSON.parse(u),t.length+a)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ke.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Dc(e){var t=this;return(0,ke.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const s=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ke.Z)(function*(){const t=yield e.bc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class jv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Qt(It.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,ke.Z)(function*(u,m){const M=en(u),B=W(M.It)+"/documents",q={documents:m.map(Zt=>_(M.It,Zt))},Te=yield M.fo("BatchGetDocuments",B,q,m.length),nt=new Map;Te.forEach(Zt=>{const qt=function dn(r,e){return"found"in e?function(t,s){un(!!s.found);const a=d(t,s.found.name),u=Os(s.found.updateTime),m=new js({mapValue:{fields:s.found.fields}});return cr.newFoundDocument(a,u,m)}(r,e):"missing"in e?function(t,s){un(!!s.missing),un(!!s.readTime);const a=d(t,s.missing),u=Os(s.readTime);return cr.newNoDocument(a,u)}(r,e):Ht()}(M.It,Zt);nt.set(qt.key.toString(),qt)});const xt=[];return m.forEach(Zt=>{const qt=nt.get(Zt.toString());un(!!qt),xt.push(qt)}),xt}),function(u,m){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new as(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const u=bn.fromPath(a);e.mutations.push(new Sc(u,e.precondition(u)))}),yield(s=(0,ke.Z)(function*(a,u){const m=en(a),M=W(m.It)+"/documents",B={writes:u.map(q=>Qn(m.It,q))};yield m.co("Commit",M,B)}),function(a,u){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ht();t=Yn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Qt(It.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Yn.min())?mi.exists(!1):mi.updateTime(t):mi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yn.min()))throw new Qt(It.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mi.updateTime(t)}return mi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class k_{constructor(e,t,s,a,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=u,this.Nc=s.maxAttempts,this.xo=new Wp(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ke.Z)(function*(){const t=new jv(e.datastore),s=e.Mc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Oc(u)}))}).catch(a=>{e.Oc(a)})}))}Mc(e){try{const t=this.updateFunction(e);return!le(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Qa(t)}return!1}}class Hv{constructor(e,t,s,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=A.UNAUTHENTICATED,this.clientId=Oo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,ke.Z)(function*(M){Q("FirestoreClient","Received user=",M.uid),yield u.authCredentialListener(M),u.user=M});return function(M){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(Q("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,ke.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qt(It.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Mu(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function N_(r,e){return F_.apply(this,arguments)}function F_(){return F_=(0,ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,ke.Z)(function*(u){s.isEqual(u)||(yield Jg(e.localStore,u),s=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),F_.apply(this,arguments)}function L_(r,e){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield xd(r);Q("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>tm(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>tm(e.remoteStore,u)),r.onlineComponents=e}),Ad.apply(this,arguments)}function xd(r){return ym.apply(this,arguments)}function ym(){return ym=(0,ke.Z)(function*(r){return r.offlineComponents||(Q("FirestoreClient","Using default OfflineComponentProvider"),yield N_(r,new _m)),r.offlineComponents}),ym.apply(this,arguments)}function vm(r){return B_.apply(this,arguments)}function B_(){return B_=(0,ke.Z)(function*(r){return r.onlineComponents||(Q("FirestoreClient","Using default OnlineComponentProvider"),yield L_(r,new Tf)),r.onlineComponents}),B_.apply(this,arguments)}function Gv(r){return xd(r).then(e=>e.persistence)}function Sf(r){return xd(r).then(e=>e.localStore)}function bm(r){return vm(r).then(e=>e.remoteStore)}function V_(r){return vm(r).then(e=>e.syncEngine)}function Pu(r){return uc.apply(this,arguments)}function uc(){return uc=(0,ke.Z)(function*(r){const e=yield vm(r),t=e.eventManager;return t.onListen=Y0.bind(null,e.syncEngine),t.onUnlisten=I_.bind(null,e.syncEngine),t}),uc.apply(this,arguments)}function Em(r,e,t={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(a,u,m,M,B){const q=new Mf({next:nt=>{u.enqueueAndForget(()=>om(a,Te));const xt=nt.docs.has(m);!xt&&nt.fromCache?B.reject(new Qt(It.UNAVAILABLE,"Failed to get document because the client is offline.")):xt&&nt.fromCache&&M&&"server"===M.source?B.reject(new Qt(It.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(nt)},error:nt=>B.reject(nt)}),Te=new hf(Ka(m.path),q,{includeMetadataChanges:!0,Nu:!0});return df(a,Te)}(yield Pu(r),r.asyncQueue,e,t,s)})),s.promise}function j_(r,e,t={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(a,u,m,M,B){const q=new Mf({next:nt=>{u.enqueueAndForget(()=>om(a,Te)),nt.fromCache&&"server"===M.source?B.reject(new Qt(It.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(nt)},error:nt=>B.reject(nt)}),Te=new hf(m,q,{includeMetadataChanges:!0,Nu:!0});return df(a,Te)}(yield Pu(r),r.asyncQueue,e,t,s)})),s.promise}const G_=new Map;function Cm(r,e,t){if(!t)throw new Qt(It.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function wm(r,e,t,s){if(!0===e&&!0===s)throw new Qt(It.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function $_(r){if(!bn.isDocumentKey(r))throw new Qt(It.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Dm(r){if(bn.isDocumentKey(r))throw new Qt(It.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Od(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Ht()}function Hi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Qt(It.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Od(r);throw new Qt(It.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Yv(r,e){if(e<=0)throw new Qt(It.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class xf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Qt(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qt(It.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,wm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qt(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qt(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ga;switch(t.type){case"gapi":return new Fl(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Qt(It.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=G_.get(e);t&&(Q("ComponentProvider","Removing Datastore"),G_.delete(e),t.terminate())}(this),Promise.resolve()}}class _r{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class ho{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class Ea extends ho{constructor(e,t,s){super(e,t,Ka(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new bn(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function Of(r,e,...t){if(r=(0,fe.m9)(r),Cm("collection","path",e),r instanceof Rd){const s=ji.fromString(e,...t);return Dm(s),new Ea(r,null,s)}{if(!(r instanceof _r||r instanceof Ea))throw new Qt(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ji.fromString(e,...t));return Dm(s),new Ea(r.firestore,null,s)}}function qc(r,e,...t){if(r=(0,fe.m9)(r),1===arguments.length&&(e=Oo.R()),Cm("doc","path",e),r instanceof Rd){const s=ji.fromString(e,...t);return $_(s),new _r(r,null,new bn(s))}{if(!(r instanceof _r||r instanceof Ea))throw new Qt(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ji.fromString(e,...t));return $_(s),new _r(r.firestore,r instanceof Ea?r.converter:null,new bn(s))}}function Pd(r,e){return r=(0,fe.m9)(r),e=(0,fe.m9)(e),(r instanceof _r||r instanceof Ea)&&(e instanceof _r||e instanceof Ea)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Rf(r,e){return r=(0,fe.m9)(r),e=(0,fe.m9)(e),r instanceof ho&&e instanceof ho&&r.firestore===e.firestore&&ao(r._query,e._query)&&r.converter===e.converter}class X0{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Wp(this,"async_queue_retry"),this.jc=()=>{const t=zp();t&&Q("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=zp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=zp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ji;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ke.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!aa(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(s=>{throw this.qc=s,this.Kc=!1,Be("INTERNAL UNHANDLED ERROR: ",function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),m}(s)),s}).then(s=>(this.Kc=!1,s))));return this.$c=t,t}enqueueAfterDelay(e,t,s){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const a=rm.createAndSchedule(this,e,t,s,u=>this.Jc(u));return this.Uc.push(a),a}Wc(){this.qc&&Ht()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ke.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Im(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Pf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sr extends Rd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new X0,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tm(this),this._firestoreClient.terminate()}}function gs(r){return r._firestoreClient||Tm(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Tm(r){var e;const t=r._freezeSettings(),s=(u=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new k(r._databaseId,u,r._persistenceKey,(M=t).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var u,M;r._firestoreClient=new Hv(r._authCredentials,r._appCheckCredentials,r._queue,s)}function W_(r,e,t){const s=new Ji;return r.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield N_(r,t),yield L_(r,e),s.resolve()}catch(a){const u=a;if(!("FirebaseError"===(m=u).name?m.code===It.FAILED_PRECONDITION||m.code===It.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw u;ct("Error enabling offline persistence. Falling back to persistence disabled: "+u),s.reject(u)}var m})).then(()=>s.promise)}function xm(r){if(r._initialized||r._terminated)throw new Qt(It.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ba{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Qt(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Va(vr.fromBase64String(e))}catch(t){throw new Qt(It.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Va(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dc{constructor(e){this._methodName=e}}class kd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qt(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qt(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jn(this._lat,e._lat)||Jn(this._long,e._long)}}const X_=/^__.*__$/;class J_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zl(e,this.data,t,this.fieldTransforms)}}class Om{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rm(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class Pm{constructor(e,t,s,a,u,m){this.settings=e,this.databaseId=t,this.It=s,this.ignoreUndefinedProperties=a,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.sa({path:s,ra:!1});return a.oa(e),a}ua(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.sa({path:s,ra:!1});return a.ea(),a}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return ku(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Rm(this.na)&&X_.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Jv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=s||Iu(e)}fa(e,t,s,a=!1){return new Pm({na:e,methodName:t,la:s,path:Mr.emptyPath(),ra:!1,ha:a},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Qc(r){const e=r._freezeSettings(),t=Iu(r._databaseId);return new Jv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Nd(r,e,t,s,a,u={}){const m=r.fa(u.merge||u.mergeFields?2:0,e,t,a);Lf("Data must be an object, but it was:",m,s);const M=ty(s,m);let B,q;if(u.merge)B=new ms(m.fieldMask),q=m.fieldTransforms;else if(u.mergeFields){const Te=[];for(const nt of u.mergeFields){const xt=Fm(e,nt,t);if(!m.contains(xt))throw new Qt(It.INVALID_ARGUMENT,`Field '${xt}' is specified in your field mask but missing from your input data.`);Bf(Te,xt)||Te.push(xt)}B=new ms(Te),q=m.fieldTransforms.filter(nt=>B.covers(nt.field))}else B=null,q=m.fieldTransforms;return new J_(new js(M),B,q)}class Fd extends dc{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function Rs(r,e,t){return new Pm({na:3,la:e.settings.la,methodName:r._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Nf extends dc{_toFieldTransform(e){return new qa(e.path,new Ic)}isEqual(e){return e instanceof Nf}}class eb extends dc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Rs(this,e,!0),s=this.da.map(u=>Ca(u,t)),a=new Za(s);return new qa(e.path,a)}isEqual(e){return this===e}}class tb extends dc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Rs(this,e,!0),s=this.da.map(u=>Ca(u,t)),a=new Ya(s);return new qa(e.path,a)}isEqual(e){return this===e}}class ey extends dc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Kl(e.It,fp(e.It,this._a));return new qa(e.path,t)}isEqual(e){return this===e}}function km(r,e,t,s){const a=r.fa(1,e,t);Lf("Data must be an object, but it was:",a,s);const u=[],m=js.empty();$a(s,(B,q)=>{const Te=Lm(e,B,t);q=(0,fe.m9)(q);const nt=a.ua(Te);if(q instanceof Fd)u.push(Te);else{const xt=Ca(q,nt);null!=xt&&(u.push(Te),m.set(Te,xt))}});const M=new ms(u);return new Om(m,M,a.fieldTransforms)}function Ff(r,e,t,s,a,u){const m=r.fa(1,e,t),M=[Fm(e,s,t)],B=[a];if(u.length%2!=0)throw new Qt(It.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xt=0;xt<u.length;xt+=2)M.push(Fm(e,u[xt])),B.push(u[xt+1]);const q=[],Te=js.empty();for(let xt=M.length-1;xt>=0;--xt)if(!Bf(q,M[xt])){const Zt=M[xt];let qt=B[xt];qt=(0,fe.m9)(qt);const yn=m.ua(Zt);if(qt instanceof Fd)q.push(Zt);else{const Pn=Ca(qt,yn);null!=Pn&&(q.push(Zt),Te.set(Zt,Pn))}}const nt=new ms(q);return new Om(Te,nt,m.fieldTransforms)}function Nm(r,e,t,s=!1){return Ca(t,r.fa(s?4:3,e))}function Ca(r,e){if(ny(r=(0,fe.m9)(r)))return Lf("Unsupported field value:",e,r),ty(r,e);if(r instanceof dc)return function(t,s){if(!Rm(s.na))throw s.aa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.aa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,s){const a=[];let u=0;for(const m of t){let M=Ca(m,s.ca(u));null==M&&(M={nullValue:"NULL_VALUE"}),a.push(M),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fp(s.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Zi.fromDate(t);return{timestampValue:Pc(s.It,a)}}if(t instanceof Zi){const a=new Zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pc(s.It,a)}}if(t instanceof kd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Va)return{bytesValue:yu(s.It,t._byteString)};if(t instanceof _r){const a=s.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw s.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:el(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.aa(`Unsupported field value: ${Od(t)}`)}(r,e)}function ty(r,e){const t={};return yc(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(r,(s,a)=>{const u=Ca(a,e.ia(s));null!=u&&(t[s]=u)}),{mapValue:{fields:t}}}function ny(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Zi||r instanceof kd||r instanceof Va||r instanceof _r||r instanceof dc)}function Lf(r,e,t){if(!ny(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Od(t);throw e.aa("an object"===s?r+" a custom object":r+" "+s)}var s}function Fm(r,e,t){if((e=(0,fe.m9)(e))instanceof Ba)return e._internalPath;if("string"==typeof e)return Lm(r,e);throw ku("Field path arguments must be of type string or ",r,!1,void 0,t)}const iy=new RegExp("[~\\*/\\[\\]]");function Lm(r,e,t){if(e.search(iy)>=0)throw ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ba(...e.split("."))._internalPath}catch(s){throw ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ku(r,e,t,s,a){const u=s&&!s.isEmpty(),m=void 0!==a;let M=`Function ${e}() called with invalid data`;t&&(M+=" (via `toFirestore()`)"),M+=". ";let B="";return(u||m)&&(B+=" (found",u&&(B+=` in field ${s}`),m&&(B+=` in document ${a}`),B+=")"),new Qt(It.INVALID_ARGUMENT,M+r+B)}function Bf(r,e){return r.some(t=>t.isEqual(e))}class ia{constructor(e,t,s,a,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nb extends ia{data(){return super.data()}}function Vf(r,e){return"string"==typeof e?Lm(r,e):e instanceof Ba?e._internalPath:e._delegate._internalPath}class Co{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends ia{constructor(e,t,s,a,u,m){super(e,t,s,a,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class jo extends Gs{data(e={}){return super.data(e)}}class Ol{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Co(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new jo(this._firestore,this._userDataWriter,s.key,s,new Co(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qt(It.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new jo(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Co(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>a||3!==m.type).map(m=>{const M=new jo(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Co(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let B=-1,q=-1;return 0!==m.type&&(B=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),1!==m.type&&(u=u.add(m.doc),q=u.indexOf(m.doc.key)),{type:ry(m.type),doc:M,oldIndex:B,newIndex:q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ry(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function sy(r,e){return r instanceof Gs&&e instanceof Gs?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ol&&e instanceof Ol&&r._firestore===e._firestore&&Rf(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function oy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Qt(It.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ld{}function hc(r,...e){for(const t of e)r=t._apply(r);return r}class Bm extends Ld{constructor(e,t,s){super(),this.wa=e,this.ma=t,this.ga=s,this.type="where"}_apply(e){const t=Qc(e.firestore),s=function(a,u,m,M,B,q,Te){let nt;if(B.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new Qt(It.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){Gm(Te,q);const Zt=[];for(const qt of Te)Zt.push(Hm(M,a,qt));nt={arrayValue:{values:Zt}}}else nt=Hm(M,a,Te)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||Gm(Te,q),nt=Nm(m,"where",Te,"in"===q||"not-in"===q);const xt=xs.create(B,q,nt);return function(Zt,qt){if(qt.dt()){const Pn=du(Zt);if(null!==Pn&&!Pn.isEqual(qt.field))throw new Qt(It.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pn.toString()}' and '${qt.field.toString()}'`);const Si=uu(Zt);null!==Si&&$m(0,qt.field,Si)}const yn=function(Pn,Si){for(const sr of Pn.filters)if(Si.indexOf(sr.op)>=0)return sr.op;return null}(Zt,function(Pn){switch(Pn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(qt.op));if(null!==yn)throw new Qt(It.INVALID_ARGUMENT,yn===qt.op?`Invalid query. You cannot use more than one '${qt.op.toString()}' filter.`:`Invalid query. You cannot use '${qt.op.toString()}' filters with '${yn.toString()}' filters.`)}(a,xt),xt}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ho(e.firestore,e.converter,function(a,u){const m=a.filters.concat([u]);return new _a(a.path,a.collectionGroup,a.explicitOrderBy.slice(),m,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class ib extends Ld{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(s,a,u){if(null!==s.startAt)throw new Qt(It.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Qt(It.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Fo(a,u);return function(M,B){if(null===uu(M)){const q=du(M);null!==q&&$m(0,q,B.field)}}(s,m),m}(e._query,this.wa,this.ya);return new ho(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new _a(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class ly extends Ld{constructor(e,t,s){super(),this.type=e,this.pa=t,this.Ia=s}_apply(e){return new ho(e.firestore,e.converter,Zu(e._query,this.pa,this.Ia))}}class Vd extends Ld{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=jm(e,this.type,this.Ta,this.Ea);return new ho(e.firestore,e.converter,(a=t,new _a((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Vm extends Ld{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=jm(e,this.type,this.Ta,this.Ea);return new ho(e.firestore,e.converter,(a=t,new _a((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function jm(r,e,t,s){if(t[0]=(0,fe.m9)(t[0]),t[0]instanceof ia)return function(a,u,m,M,B){if(!M)throw new Qt(It.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const q=[];for(const Te of zl(a))if(Te.field.isKeyField())q.push(yo(u,M.key));else{const nt=M.data.field(Te.field);if(Hl(nt))throw new Qt(It.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===nt){const xt=Te.field.canonicalString();throw new Qt(It.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${xt}' (used as the orderBy) does not exist.`)}q.push(nt)}return new qs(q,B)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=Qc(r.firestore);return function(u,m,M,B,q,Te){const nt=u.explicitOrderBy;if(q.length>nt.length)throw new Qt(It.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const xt=[];for(let Zt=0;Zt<q.length;Zt++){const qt=q[Zt];if(nt[Zt].field.isKeyField()){if("string"!=typeof qt)throw new Qt(It.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof qt}`);if(!Ku(u)&&-1!==qt.indexOf("/"))throw new Qt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${qt}' contains a slash.`);const yn=u.path.child(ji.fromString(qt));if(!bn.isDocumentKey(yn))throw new Qt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${yn}' is not because it contains an odd number of segments.`);const Pn=new bn(yn);xt.push(yo(m,Pn))}else{const yn=Nm(M,B,qt);xt.push(yn)}}return new qs(xt,Te)}(r._query,r.firestore._databaseId,a,e,t,s)}}function Hm(r,e,t){if("string"==typeof(t=(0,fe.m9)(t))){if(""===t)throw new Qt(It.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ku(e)&&-1!==t.indexOf("/"))throw new Qt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ji.fromString(t));if(!bn.isDocumentKey(s))throw new Qt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yo(r,new bn(s))}if(t instanceof _r)return yo(r,t._key);throw new Qt(It.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(t)}.`)}function Gm(r,e){if(!Array.isArray(r)||0===r.length)throw new Qt(It.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new Qt(It.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $m(r,e,t){if(!t.isEqual(e))throw new Qt(It.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const hy={maxAttempts:5};class jf{convertValue(e,t="none"){switch(_n(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ht()}}convertObject(e,t){const s={};return $a(e.fields,(a,u)=>{s[a]=this.convertValue(u,t)}),s}convertGeoPoint(e){return new kd(Dr(e.latitude),Dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Wa(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const t=xa(e);return new Zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ji.fromString(e);un(vu(s));const a=new V(s.get(1),s.get(3)),u=new bn(s.popFirst(5));return a.isEqual(t)||Be(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Ud(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class fy extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}class zm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Qc(e)}set(e,t,s){this._verifyNotCommitted();const a=fc(e,this._firestore),u=Ud(a.converter,t,s),m=Nd(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,s);return this._mutations.push(m.toMutation(a._key,mi.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const u=fc(e,this._firestore);let m;return m="string"==typeof(t=(0,fe.m9)(t))||t instanceof Ba?Ff(this._dataReader,"WriteBatch.update",u._key,t,s,a):km(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(m.toMutation(u._key,mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=fc(e,this._firestore);return this._mutations=this._mutations.concat(new as(t._key,mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qt(It.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fc(r,e){if((r=(0,fe.m9)(r)).firestore!==e)throw new Qt(It.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Xc extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}function py(r,e,t){r=Hi(r,_r);const s=Hi(r.firestore,Sr),a=Ud(r.converter,e,t);return Nu(s,[Nd(Qc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,mi.none())])}function my(r,e,t,...s){r=Hi(r,_r);const a=Hi(r.firestore,Sr),u=Qc(a);let m;return m="string"==typeof(e=(0,fe.m9)(e))||e instanceof Ba?Ff(u,"updateDoc",r._key,e,t,s):km(u,"updateDoc",r._key,e),Nu(a,[m.toMutation(r._key,mi.exists(!0))])}function gy(r,...e){var t,s,a;r=(0,fe.m9)(r);let u={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Im(e[m])||(u=e[m],m++);const M={includeMetadataChanges:u.includeMetadataChanges};if(Im(e[m])){const nt=e[m];e[m]=null===(t=nt.next)||void 0===t?void 0:t.bind(nt),e[m+1]=null===(s=nt.error)||void 0===s?void 0:s.bind(nt),e[m+2]=null===(a=nt.complete)||void 0===a?void 0:a.bind(nt)}let B,q,Te;if(r instanceof _r)q=Hi(r.firestore,Sr),Te=Ka(r._key.path),B={next:nt=>{e[m]&&e[m](Wm(q,r,nt))},error:e[m+1],complete:e[m+2]};else{const nt=Hi(r,ho);q=Hi(nt.firestore,Sr),Te=nt._query;const xt=new Xc(q);B={next:Zt=>{e[m]&&e[m](new Ol(q,xt,nt,Zt))},error:e[m+1],complete:e[m+2]},oy(r._query)}return function(nt,xt,Zt,qt){const yn=new Mf(qt),Pn=new hf(xt,yn,Zt);return nt.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return df(yield Pu(nt),Pn)})),()=>{yn.Rc(),nt.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return om(yield Pu(nt),Pn)}))}}(gs(q),Te,M,B)}function Nu(r,e){return function(t,s){const a=new Ji;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function q0(r,e,t){return gf.apply(this,arguments)}(yield V_(t),s,a)})),a.promise}(gs(r),e)}function Wm(r,e,t){const s=t.docs.get(e._key),a=new Xc(r);return new Gs(r,a,e._key,s,new Co(t.hasPendingWrites,t.fromCache),e.converter)}class pb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Qc(e)}get(e){const t=fc(e,this._firestore),s=new fy(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Ht();const u=a[0];if(u.isFoundDocument())return new ia(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new ia(this._firestore,s,t._key,null,t.converter);throw Ht()})}set(e,t,s){const a=fc(e,this._firestore),u=Ud(a.converter,t,s),m=Nd(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,s);return this._transaction.set(a._key,m),this}update(e,t,s,...a){const u=fc(e,this._firestore);let m;return m="string"==typeof(t=(0,fe.m9)(t))||t instanceof Ba?Ff(this._dataReader,"Transaction.update",u._key,t,s,a):km(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,m),this}delete(e){const t=fc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=fc(e,this._firestore),s=new Xc(this._firestore);return super.get(e).then(a=>new Gs(this._firestore,s,t._key,a._document,new Co(!1,!1),t.converter))}}function Rl(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Qt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function wy(){if("undefined"==typeof Uint8Array)throw new Qt("unimplemented","Uint8Arrays are not available in this environment.")}function Dy(){if(!function ko(){return"undefined"!=typeof atob}())throw new Qt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){I=Nt.SDK_VERSION,(0,Nt._registerComponent)(new it.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const u=t.getProvider("app").getImmediate(),m=new Sr(new Nl(t.getProvider("auth-internal")),new Yo(t.getProvider("app-check-internal")),function(M,B){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new Qt(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new V(M.options.projectId,B)}(u,s),u);return a=Object.assign({useFetchStreams:e},a),m._setSettings(a),m},"PUBLIC").setMultipleInstances(!0)),(0,Nt.registerVersion)(oa,"3.4.15",r),(0,Nt.registerVersion)(oa,"3.4.15","esm2017")}();class al{constructor(e){this._delegate=e}static fromBase64String(e){return Dy(),new al(Va.fromBase64String(e))}static fromUint8Array(e){return wy(),new al(Va.fromUint8Array(e))}toBase64(){return Dy(),this._delegate.toBase64()}toUint8Array(){return wy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Iy(r){return function qm(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class eE{enableIndexedDbPersistence(e,t){return function Mm(r,e){xm(r=Hi(r,Sr));const t=gs(r),s=r._freezeSettings(),a=new Tf;return W_(t,a,new x_(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Sm(r){xm(r=Hi(r,Sr));const e=gs(r),t=r._freezeSettings(),s=new Tf;return W_(e,s,new O_(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function K_(r){if(r._initialized&&!r._terminated)throw new Qt(It.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ji;return r._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(t=(0,ke.Z)(function*(s){if(!Zs.C())return Promise.resolve();const a=s+"main";yield Zs.delete(a)}),function(s){return t.apply(this,arguments)})(Kh(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Qm{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof V||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ct("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Q0(r,e,t,s={}){var a;const u=(r=Hi(r,Rd))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&ct("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let m,M;if("string"==typeof s.mockUserToken)m=s.mockUserToken,M=A.MOCK_USER;else{m=(0,fe.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const B=s.mockUserToken.sub||s.mockUserToken.user_id;if(!B)throw new Qt(It.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new A(B)}r._authCredentials=new xo(new ma(m,M))}}(this._delegate,e,t,s)}enableNetwork(){return function Am(r){return function $v(r){return r.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield Gv(r),t=yield bm(r);return e.setNetworkEnabled(!0),function(s){const a=en(s);return a._u.delete(0),$c(a)}(t)}))}(gs(r=Hi(r,Sr)))}(this._delegate)}disableNetwork(){return function Y_(r){return function U_(r){return r.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield Gv(r),t=yield bm(r);return e.setNetworkEnabled(!1),(s=(0,ke.Z)(function*(a){const u=en(a);u._u.add(0),yield tc(u),u.gu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(gs(r=Hi(r,Sr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,wm("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Z_(r){return function(e){const t=new Ji;return e.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function vf(r,e){return sc.apply(this,arguments)}(yield V_(e),t)})),t.promise}(gs(r=Hi(r,Sr)))}(this._delegate)}onSnapshotsInSync(e){return function fb(r,e){return function H_(r,e){const t=new Mf(e);return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return s=yield Pu(r),a=t,en(s).Ru.add(a),void a.next();var s,a})),()=>{t.Rc(),r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return s=yield Pu(r),a=t,void en(s).Ru.delete(a);var s,a}))}}(gs(r=Hi(r,Sr)),Im(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Qt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fu(this,Of(this._delegate,e))}catch(t){throw Xs(t,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,qc(this._delegate,e))}catch(t){throw Xs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ra(this,function qv(r,e){if(r=Hi(r,Rd),Cm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Qt(It.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ho(r,null,(t=e,new _a(ji.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Xs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _y(r,e,t){r=Hi(r,Sr);const s=Object.assign(Object.assign({},hy),t);return function(a){if(a.maxAttempts<1)throw new Qt(It.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function Wv(r,e,t){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const a=yield(u=r,vm(u).then(m=>m.datastore));var u;new k_(r.asyncQueue,a,t,e,s).run()})),s.promise}(gs(r),a=>e(new pb(r,a)),s)}(this._delegate,t=>e(new si(this,t)))}batch(){return gs(this._delegate),new Ty(new zm(this._delegate,e=>Nu(this._delegate,e)))}loadBundle(e){return function q_(r,e){const t=gs(r=Hi(r,Sr)),s=new Pf;return function Kv(r,e,t,s){const a=function(u,m){let M;return M="string"==typeof u?(new TextEncoder).encode(u):u,B=function(B,q){if(B instanceof Uint8Array)return R_(B,q);if(B instanceof ArrayBuffer)return R_(new Uint8Array(B),q);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new P_(B,m);var B}(t,Iu(e));r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function Uv(r,e,t){const s=en(r);var a;(a=(0,ke.Z)(function*(u,m,M){try{const B=yield m.getMetadata();if(yield function(xt,Zt){const qt=en(xt),yn=Os(Zt.createTime);return qt.persistence.runTransaction("hasNewerBundle","readonly",Pn=>qt.Ns.getBundleMetadata(Pn,Zt.id)).then(Pn=>!!Pn&&Pn.createTime.compareTo(yn)>=0)}(u.localStore,B))return yield m.close(),M._completeWith({taskState:"Success",documentsLoaded:(xt=B).totalDocuments,bytesLoaded:xt.totalBytes,totalDocuments:xt.totalDocuments,totalBytes:xt.totalBytes}),Promise.resolve(new Set);M._updateProgress(Fv(B));const q=new K0(B,u.localStore,m.It);let Te=yield m.wc();for(;Te;){const xt=yield q.Ou(Te);xt&&M._updateProgress(xt),Te=yield m.wc()}const nt=yield q.complete();return yield $r(u,nt.Bu,void 0),yield function(xt,Zt){const qt=en(xt);return qt.persistence.runTransaction("Save bundle","readwrite",yn=>qt.Ns.saveBundleMetadata(yn,Zt))}(u.localStore,B),M._completeWith(nt.progress),Promise.resolve(nt.$u)}catch(B){return ct("SyncEngine",`Loading bundle failed with ${B}`),M._failWith(B),Promise.resolve(new Set)}var xt}),function(u,m,M){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield V_(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Q_(r,e){return function Zv(r,e){return r.asyncQueue.enqueue((0,ke.Z)(function*(){return function(t,s){const a=en(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.Ns.getNamedQuery(u,s))}(yield Sf(r),e)}))}(gs(r=Hi(r,Sr)),e).then(t=>t?new ho(r,null,t.query):null)}(this._delegate,e).then(t=>t?new ra(this,t):null)}}class jd extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(new Va(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(t,this.firestore,null)}}class si{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}get(e){const t=mc(e);return this._delegate.get(t).then(s=>new pc(this._firestore,new Gs(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=mc(e);return s?(Rl("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const u=mc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,s,...a),this}delete(e){const t=mc(e);return this._delegate.delete(t),this}}class Ty{constructor(e){this._delegate=e}set(e,t,s){const a=mc(e);return s?(Rl("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const u=mc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,s,...a),this}delete(e){const t=mc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new jo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ar(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Jc.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let u=a.get(t);return u||(u=new Jc(e,new jd(e),t),a.set(t,u)),u}}Jc.INSTANCES=new WeakMap;class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Qt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(t,new _r(t._delegate,s,new bn(e)))}static forKey(e,t,s){return new wa(t,new _r(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Fu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fu(this.firestore,Of(this._delegate,e))}catch(t){throw Xs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,fe.m9)(e))instanceof _r&&Pd(this._delegate,e)}set(e,t){t=Rl("DocumentReference.set",t);try{return t?py(this._delegate,e,t):py(this._delegate,e)}catch(s){throw Xs(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?my(this._delegate,e):my(this._delegate,e,t,...s)}catch(a){throw Xs(a,"updateDoc()","DocumentReference.update()")}}delete(){return function db(r){return Nu(Hi(r.firestore,Sr),[new as(r._key,mi.none())])}(this._delegate)}onSnapshot(...e){const t=My(e),s=Hd(e,a=>new pc(this.firestore,new Gs(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return gy(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ob(r){r=Hi(r,_r);const e=Hi(r.firestore,Sr),t=gs(e),s=new Xc(e);return function zv(r,e){const t=new Ji;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(s=(0,ke.Z)(function*(a,u,m){try{const M=yield function(B,q){const Te=en(B);return Te.persistence.runTransaction("read document","readonly",nt=>Te.localDocuments.getDocument(nt,q))}(a,u);M.isFoundDocument()?m.resolve(M):M.isNoDocument()?m.resolve(null):m.reject(new Qt(It.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const B=Mu(M,`Failed to get document '${u} from cache`);m.reject(B)}}),function(a,u,m){return s.apply(this,arguments)})(yield Sf(r),e,t);var s})),t.promise}(t,r._key).then(a=>new Gs(e,s,r._key,a,new Co(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ab(r){r=Hi(r,_r);const e=Hi(r.firestore,Sr);return Em(gs(e),r._key,{source:"server"}).then(t=>Wm(e,r,t))}(this._delegate):function sb(r){r=Hi(r,_r);const e=Hi(r.firestore,Sr);return Em(gs(e),r._key).then(t=>Wm(e,r,t))}(this._delegate),t.then(s=>new pc(this.firestore,new Gs(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?Jc.getInstance(this.firestore,e):null))}}function Xs(r,e,t){return r.message=r.message.replace(e,t),r}function My(r){for(const e of r)if("object"==typeof e&&!Iy(e))return e;return{}}function Hd(r,e){var t,s;let a;return a=Iy(r[0])?r[0]:Iy(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class pc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sy(this._delegate,e._delegate)}}class Ar extends pc{data(e){const t=this._delegate.data(e);return function Ln(r,e){r||Ht()}(void 0!==t),t}}class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}where(e,t,s){try{return new ra(this.firestore,hc(this._delegate,function Bd(r,e,t){const s=e,a=Vf("where",r);return new Bm(a,s,t)}(e,t,s)))}catch(a){throw Xs(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ra(this.firestore,hc(this._delegate,function ay(r,e="asc"){const t=e,s=Vf("orderBy",r);return new ib(s,t)}(e,t)))}catch(s){throw Xs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ra(this.firestore,hc(this._delegate,function cy(r){return Yv("limit",r),new ly("limit",r,"F")}(e)))}catch(t){throw Xs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ra(this.firestore,hc(this._delegate,function uy(r){return Yv("limitToLast",r),new ly("limitToLast",r,"L")}(e)))}catch(t){throw Xs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ra(this.firestore,hc(this._delegate,function rb(...r){return new Vd("startAt",r,!0)}(...e)))}catch(t){throw Xs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ra(this.firestore,hc(this._delegate,function dy(...r){return new Vd("startAfter",r,!1)}(...e)))}catch(t){throw Xs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ra(this.firestore,hc(this._delegate,function Um(...r){return new Vm("endBefore",r,!1)}(...e)))}catch(t){throw Xs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ra(this.firestore,hc(this._delegate,function Uf(...r){return new Vm("endAt",r,!0)}(...e)))}catch(t){throw Xs(t,"endAt()","Query.endAt()")}}isEqual(e){return Rf(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function cb(r){r=Hi(r,ho);const e=Hi(r.firestore,Sr),t=gs(e),s=new Xc(e);return function Af(r,e){const t=new Ji;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(s=(0,ke.Z)(function*(a,u,m){try{const M=yield qh(a,u,!0),B=new lm(u,M.Hi),q=B.ju(M.documents),Te=B.applyChanges(q,!1);m.resolve(Te.snapshot)}catch(M){const B=Mu(M,`Failed to execute query '${u} against cache`);m.reject(B)}}),function(a,u,m){return s.apply(this,arguments)})(yield Sf(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Ol(e,s,r,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function ub(r){r=Hi(r,ho);const e=Hi(r.firestore,Sr),t=gs(e),s=new Xc(e);return j_(t,r._query,{source:"server"}).then(a=>new Ol(e,s,r,a))}(this._delegate):function lb(r){r=Hi(r,ho);const e=Hi(r.firestore,Sr),t=gs(e),s=new Xc(e);return oy(r._query),j_(t,r._query).then(a=>new Ol(e,s,r,a))}(this._delegate),t.then(s=>new Xm(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=My(e),s=Hd(e,a=>new Xm(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return gy(this._delegate,t,s)}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?Jc.getInstance(this.firestore,e):null))}}class Sy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ar(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ra(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ar(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Sy(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Ar(this._firestore,s))})}isEqual(e){return sy(this._delegate,e._delegate)}}class Fu extends ra{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?qc(this._delegate):qc(this._delegate,e))}catch(t){throw Xs(t,"doc()","CollectionReference.doc()")}}add(e){return function hb(r,e){const t=Hi(r.firestore,Sr),s=qc(r),a=Ud(r.converter,e);return Nu(t,[Nd(Qc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,mi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new wa(this.firestore,t))}isEqual(e){return Pd(this._delegate,e._delegate)}withConverter(e){return new Fu(this.firestore,this._delegate.withConverter(e?Jc.getInstance(this.firestore,e):null))}}function mc(r){return Hi(r,_r)}class Hf{constructor(...e){this._delegate=new Ba(...e)}static documentId(){return new Hf(Mr.keyField().canonicalString())}isEqual(e){return(e=(0,fe.m9)(e))instanceof Ba&&this._delegate._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vy(){return new Nf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gc(e)}static delete(){const e=function yy(){return new Fd("deleteField")}();return e._methodName="FieldValue.delete",new gc(e)}static arrayUnion(...e){const t=function by(...r){return new eb("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new gc(t)}static arrayRemove(...e){const t=function Ey(...r){return new tb("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new gc(t)}static increment(e){const t=function Cy(r){return new ey("increment",r)}(e);return t._methodName="FieldValue.increment",new gc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ay={Firestore:Qm,GeoPoint:kd,Timestamp:Zi,Blob:al,Transaction:si,WriteBatch:Ty,DocumentReference:wa,DocumentSnapshot:pc,Query:ra,QueryDocumentSnapshot:Ar,QuerySnapshot:Xm,CollectionReference:Fu,FieldPath:Hf,FieldValue:gc,setLogLevel:function tE(r){!function K(r){C.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function yb(r){(function _b(r,e){r.INTERNAL.registerComponent(new it.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},Ay)))})(r,(e,t)=>new Qm(e,t,new eE)),r.registerVersion("@firebase/firestore-compat","0.1.24")}(at.Z);var xy=b(7579),Gd=b(6451),Gf=b(5363),_c=b(3900),vb=b(6063);class $f extends xy.x{constructor(e=1/0,t=1/0,s=vb.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:m}=this;t||(s.push(e),!a&&s.push(u.now()+m)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:s,_buffer:a}=this,u=a.slice();for(let m=0;m<u.length&&!e.closed;m+=s?1:2)e.next(u[m]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:s,_infiniteTimeWindow:a}=this,u=(a?1:2)*e;if(e<1/0&&u<s.length&&s.splice(0,s.length-u),!a){const m=t.now();let M=0;for(let B=1;B<s.length&&s[B]<=m;B+=2)M=B;M&&s.splice(0,M+1)}}}var Oy=b(3099);function Jm(r,e,t){let s,a=!1;return r&&"object"==typeof r?({bufferSize:s=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=r):s=null!=r?r:1/0,(0,Oy.B)({connector:()=>new $f(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Ry=b(590),bb=b(576);function Lu(r,e){return(0,bb.m)(e)?(0,_c.w)(()=>r,e):(0,_c.w)(()=>r)}var eu=b(9468);b(5867);const tg=new Map,$d={activated:!1,tokenObservers:[]},Mb={initialized:!1,enabled:!1};function Js(r){return tg.get(r)||$d}function Ua(r,e){tg.set(r,e)}function Kf(){return Mb}class Fy{constructor(e,t,s,a,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ke.Z)(function*(){t.stop();try{t.pending=new fe.BH,yield function Ob(r){return new Promise(e=>{setTimeout(e,r)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ho=new fe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function By(r){if(!Js(r).activated)throw Ho.create("use-before-activation",{appName:r.name})}function Yf(r,e){return qf.apply(this,arguments)}function qf(){return qf=(0,ke.Z)(function*({url:r,body:e},t){var s,a;const u={"Content-Type":"application/json"},m=t.getImmediate({optional:!0});if(m){const Zt=yield m.getHeartbeatsHeader();Zt&&(u["X-Firebase-Client"]=Zt)}const M={method:"POST",body:JSON.stringify(e),headers:u};let B,q;try{B=yield fetch(r,M)}catch(Zt){throw Ho.create("fetch-network-error",{originalErrorMessage:null===(s=Zt)||void 0===s?void 0:s.message})}if(200!==B.status)throw Ho.create("fetch-status-error",{httpStatus:B.status});try{q=yield B.json()}catch(Zt){throw Ho.create("fetch-parse-error",{originalErrorMessage:null===(a=Zt)||void 0===a?void 0:a.message})}const Te=q.ttl.match(/^([\d.]+)(s)$/);if(!Te||!Te[2]||isNaN(Number(Te[1])))throw Ho.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${q.ttl}`});const nt=1e3*Number(Te[1]),xt=Date.now();return{token:q.token,expireTimeMillis:xt+nt,issuedAtTimeMillis:xt}}),qf.apply(this,arguments)}function kb(r,e){const{projectId:t,appId:s,apiKey:a}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Bu="firebase-app-check-store";let Qf=null;function Uy(){return Qf||(Qf=new Promise((r,e)=>{var t;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{r(a.target.result)},s.onerror=a=>{var u;e(Ho.create("storage-open",{originalErrorMessage:null===(u=a.target.error)||void 0===u?void 0:u.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Bu,{keyPath:"compositeKey"})}}catch(s){e(Ho.create("storage-open",{originalErrorMessage:null===(t=s)||void 0===t?void 0:t.message}))}}),Qf)}function Xf(){return Xf=(0,ke.Z)(function*(r,e){const s=(yield Uy()).transaction(Bu,"readwrite"),u=s.objectStore(Bu).put({compositeKey:r,value:e});return new Promise((m,M)=>{u.onsuccess=B=>{m()},s.onerror=B=>{var q;M(Ho.create("storage-set",{originalErrorMessage:null===(q=B.target.error)||void 0===q?void 0:q.message}))}})}),Xf.apply(this,arguments)}const Vu=new be.Yd("@firebase/app-check");function Gy(r,e){return(0,fe.hl)()?function Lb(r,e){return function jy(r,e){return Xf.apply(this,arguments)}(function Hy(r){return`${r.options.appId}-${r.name}`}(r),e)}(r,e).catch(t=>{Vu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function lg(){return Kf().enabled}function Jf(){return cg.apply(this,arguments)}function cg(){return cg=(0,ke.Z)(function*(){const r=Kf();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),cg.apply(this,arguments)}const ug={error:"UNKNOWN_ERROR"};function Hb(r){return fe.US.encodeString(JSON.stringify(r),!1)}function Zd(r){return dg.apply(this,arguments)}function dg(){return dg=(0,ke.Z)(function*(r,e=!1){const t=r.app;By(t);const s=Js(t);let u,a=s.token;if(!a){const B=yield s.cachedTokenPromise;B&&nu(B)&&(a=B)}if(!e&&a&&nu(a))return{token:a.token};let M,m=!1;if(lg()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Yf(kb(t,yield Jf()),r.heartbeatServiceProvider).then(q=>(s.exchangeTokenPromise=void 0,q)),m=!0);const B=yield s.exchangeTokenPromise;return yield Gy(t,B),Ua(t,Object.assign(Object.assign({},s),{token:B})),{token:B.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(B=>(s.exchangeTokenPromise=void 0,B)),m=!0),a=yield s.exchangeTokenPromise}catch(B){"appCheck/throttled"===B.code?Vu.warn(B.message):Vu.error(B),u=B}return a?(M={token:a.token},Ua(t,Object.assign(Object.assign({},s),{token:a})),yield Gy(t,a)):M=Gb(u),m&&$y(t,M),M}),dg.apply(this,arguments)}function hg(r,e){const t=Js(r),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ua(r,Object.assign(Object.assign({},t),{tokenObservers:s}))}function fg(r){const{app:e}=r,t=Js(e);let s=t.tokenRefresher;s||(s=function sE(r){const{app:e}=r;return new Fy((0,ke.Z)(function*(){let s;if(s=Js(e).token?yield Zd(r,!0):yield Zd(r),s.error)throw s.error}),()=>!0,()=>{const t=Js(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(r),Ua(e,Object.assign(Object.assign({},t),{tokenRefresher:s}))),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function $y(r,e){const t=Js(r).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function nu(r){return r.expireTimeMillis-Date.now()>0}function Gb(r){return{token:Hb(ug),error:r}}class Uu{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Js(this.app);for(const t of e)hg(this.app,t.next);return Promise.resolve()}}const gg="app-check-internal";!function Qb(){(0,Nt._registerComponent)(new it.wA("app-check",r=>function Yd(r,e){return new Uu(r,e)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,t)=>{r.getProvider(gg).initialize()})),(0,Nt._registerComponent)(new it.wA(gg,r=>function $b(r){return{getToken:e=>Zd(r,e),addTokenListener:e=>function ep(r,e,t,s){const{app:a}=r,u=Js(a),m={next:t,error:s,type:e};if(Ua(a,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,m]})),u.token&&nu(u.token)){const M=u.token;Promise.resolve().then(()=>{t({token:M.token}),fg(r)}).catch(()=>{})}u.cachedTokenPromise.then(()=>fg(r))}(r,"INTERNAL",e),removeTokenListener:e=>hg(r.app,e)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Nt.registerVersion)("@firebase/app-check","0.5.12")}();class qy{constructor(){return(0,Ie.vb)("app-check")}}"undefined"!=typeof window&&window;var Xy=b(127);const _g=new h.OlP("angularfire2.auth.use-emulator"),yg=new h.OlP("angularfire2.auth.settings"),ev=new h.OlP("angularfire2.auth.tenant-id"),vg=new h.OlP("angularfire2.auth.langugage-code"),tv=new h.OlP("angularfire2.auth.use-device-language"),nv=new h.OlP("angularfire.auth.persistence"),iv=(r,e,t,s,a,u,m,M)=>(0,He.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const B=e.runOutsideAngular(()=>r.auth());if(t&&B.useEmulator(...t),s&&(B.tenantId=s),B.languageCode=a,u&&B.useDeviceLanguage(),m)for(const[q,Te]of Object.entries(m))B.settings[q]=Te;return M&&B.setPersistence(M),B},[t,s,a,u,m,M]);let rv=(()=>{class r{constructor(t,s,a,u,m,M,B,q,Te,nt,xt,Zt){const qt=new xy.x,yn=(0,we.of)(void 0).pipe((0,Gf.Q)(m.outsideAngular),(0,_c.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(b.bind(b,2274)))),(0,pe.U)(()=>(0,He.on)(t,u,s)),(0,pe.U)(Pn=>iv(Pn,u,M,q,Te,nt,B,xt)),Jm({bufferSize:1,refCount:!1}));if((0,st.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,we.of)(null);else{yn.pipe((0,Ry.P)()).subscribe();const Si=yn.pipe((0,_c.w)(Di=>Di.getRedirectResult().then(ni=>ni,()=>null)),Ie.iC,Jm({bufferSize:1,refCount:!1})),sr=yn.pipe((0,_c.w)(Di=>new g.y(ni=>({unsubscribe:u.runOutsideAngular(()=>Di.onAuthStateChanged(Ii=>ni.next(Ii),Ii=>ni.error(Ii),()=>ni.complete()))})))),zi=yn.pipe((0,_c.w)(Di=>new g.y(ni=>({unsubscribe:u.runOutsideAngular(()=>Di.onIdTokenChanged(Ii=>ni.next(Ii),Ii=>ni.error(Ii),()=>ni.complete()))}))));this.authState=Si.pipe(Lu(sr),(0,eu.R)(m.outsideAngular),(0,Gf.Q)(m.insideAngular)),this.user=Si.pipe(Lu(zi),(0,eu.R)(m.outsideAngular),(0,Gf.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,_c.w)(Di=>Di?(0,$.D)(Di.getIdToken()):(0,we.of)(null))),this.idTokenResult=this.user.pipe((0,_c.w)(Di=>Di?(0,$.D)(Di.getIdTokenResult()):(0,we.of)(null))),this.credential=(0,Gd.T)(Si,qt,this.authState.pipe((0,xe.h)(Di=>!Di))).pipe((0,pe.U)(Di=>(null==Di?void 0:Di.user)?Di:null),(0,eu.R)(m.outsideAngular),(0,Gf.Q)(m.insideAngular))}return(0,He.pX)(this,yn,u,{spy:{apply:(Pn,Si,sr)=>{(Pn.startsWith("signIn")||Pn.startsWith("createUser"))&&sr.then(zi=>qt.next(zi))}}})}}return r.\u0275fac=function(t){return new(t||r)(h.LFG(He.Dh),h.LFG(He.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ie.HU),h.LFG(_g,8),h.LFG(yg,8),h.LFG(ev,8),h.LFG(vg,8),h.LFG(tv,8),h.LFG(nv,8),h.LFG(qy,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function ap(r,e){return function o0(r,e=w.z){return new g.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(r,e)}function bg(r,e){return ap(r,e).pipe((0,pe.U)(t=>({payload:t,type:"query"})))}function iu(r,e){return bg(r,e).pipe((0,X.O)(void 0),ne(),(0,pe.U)(([t,s])=>{const a=s.payload.docChanges(),u=a.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,M)=>{const B=a.find(Te=>Te.doc.ref.isEqual(m.ref)),q=null==t?void 0:t.payload.docs.find(Te=>Te.ref.isEqual(m.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(m.metadata)||!B&&q&&JSON.stringify(q.metadata)===JSON.stringify(m.metadata)||u.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:m}})}),u}))}function Hu(r,e,t){return iu(r,t).pipe((0,ce.R)((s,a)=>function a0(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function l0(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Eg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Eg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Eg(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(u=>u.payload),e),[]),(0,ze.x)(),(0,pe.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Eg(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function th(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class nh{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=iu(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pe.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,X.O)(void 0),ne(),(0,xe.h)(([s,a])=>a.length>0||!s),(0,pe.U)(([s,a])=>a),Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ce.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=th(e);return Hu(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Ie.iC)}get(e){return(0,$.D)(this.query.get(e)).pipe(Ie.iC)}add(e){return this.ref.add(e)}doc(e){return new sv(this.ref.doc(e),this.afs)}}class sv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:u}=av(s,t);return new nh(a,u,this.afs)}snapshotChanges(){return function ll(r,e){return ap(r,e).pipe((0,X.O)(void 0),ne(),(0,pe.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,$.D)(this.ref.get(e)).pipe(Ie.iC)}}class c0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?iu(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,xe.h)(t=>t.length>0),Ie.iC):iu(this.query,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ce.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=th(e);return Hu(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Ie.iC)}get(e){return(0,$.D)(this.query.get(e)).pipe(Ie.iC)}}const Cg=new h.OlP("angularfire2.enableFirestorePersistence"),wg=new h.OlP("angularfire2.firestore.persistenceSettings"),Dg=new h.OlP("angularfire2.firestore.settings"),ov=new h.OlP("angularfire2.firestore.use-emulator");function av(r,e=(t=>t)){return{query:e(r),ref:r}}let lv=(()=>{class r{constructor(t,s,a,u,m,M,B,q,Te,nt,xt,Zt,qt,yn,Pn,Si,sr){this.schedulers=B;const zi=(0,He.on)(t,M,s),Di=Te;nt&&iv(zi,M,xt,qt,yn,Pn,Zt,Si),[this.firestore,this.persistenceEnabled$]=(0,He.cc)(`${zi.name}.firestore`,"AngularFirestore",zi.name,()=>{const ni=M.runOutsideAngular(()=>zi.firestore());if(u&&ni.settings(u),Di&&ni.useEmulator(...Di),a&&!(0,st.PM)(m)){const Ii=()=>{try{return(0,$.D)(ni.enablePersistence(q||void 0).then(()=>!0,()=>!1))}catch($s){return"undefined"!=typeof console&&console.warn($s),(0,we.of)(!1)}};return[ni,M.runOutsideAngular(Ii)]}return[ni,(0,we.of)(!1)]},[u,Di,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:m}=av(a,s),M=this.schedulers.ngZone.run(()=>u);return new nh(M,m,this)}collectionGroup(t,s){const a=s||(m=>m),u=this.firestore.collectionGroup(t);return new c0(a(u),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new sv(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(h.LFG(He.Dh),h.LFG(He.xv,8),h.LFG(Cg,8),h.LFG(Dg,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ie.HU),h.LFG(wg,8),h.LFG(ov,8),h.LFG(rv,8),h.LFG(_g,8),h.LFG(yg,8),h.LFG(ev,8),h.LFG(vg,8),h.LFG(tv,8),h.LFG(nv,8),h.LFG(qy,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),mE=(()=>{class r{constructor(){Xy.Z.registerVersion("angularfire",Ie.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Cg,useValue:!0},{provide:wg,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[lv]}),r})()},2011:($t,Xe,b)=>{b.d(Xe,{hO:()=>ze,xv:()=>ne,Dh:()=>_e,GT:()=>Ie,cc:()=>xe,on:()=>X,pX:()=>we});var h=b(5e3),w=b(127),g=b(5813);$t=b.hmd($t);const $=["ngOnDestroy"],we=(at,ke,Nt,it={})=>new Proxy(at,{get:(be,fe)=>Nt.runOutsideAngular(()=>{var Se;if(at[fe])return(null===(Se=null==it?void 0:it.spy)||void 0===Se?void 0:Se.get)&&it.spy.get(fe,at[fe]),at[fe];if($.indexOf(fe)>-1)return()=>{};const De=ke.toPromise().then(J=>{const Qe=J&&J[fe];return"function"==typeof Qe?Qe.bind(J):Qe&&Qe.then?Qe.then(se=>Nt.run(()=>se)):Nt.run(()=>Qe)});return new Proxy(()=>{},{get:(J,Qe)=>De[Qe],apply:(J,Qe,se)=>De.then(Ue=>{var te;const Ne=Ue&&Ue(...se);return(null===(te=null==it?void 0:it.spy)||void 0===te?void 0:te.apply)&&it.spy.apply(fe,se,Ne),Ne})})})}),Ie=(at,ke)=>{ke.forEach(Nt=>{Object.getOwnPropertyNames(Nt.prototype||Nt).forEach(it=>{Object.defineProperty(at.prototype,it,Object.getOwnPropertyDescriptor(Nt.prototype||Nt,it))})})};class Pe{constructor(ke){return ke}}const _e=new h.OlP("angularfire2.app.options"),ne=new h.OlP("angularfire2.app.name");function X(at,ke,Nt){const be="object"==typeof Nt&&Nt||{};be.name=be.name||"string"==typeof Nt&&Nt||"[DEFAULT]";const Se=w.Z.apps.filter(De=>De&&De.name===be.name)[0]||ke.runOutsideAngular(()=>w.Z.initializeApp(at,be));try{JSON.stringify(at)!==JSON.stringify(Se.options)&&pe("error",`${Se.name} Firebase App already initialized with different options${$t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(De){}return new Pe(Se)}const pe=(at,...ke)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[at](...ke)},ce={provide:Pe,useFactory:X,deps:[_e,h.R0b,[new h.FiY,ne]]};let ze=(()=>{class at{constructor(Nt){w.Z.registerVersion("angularfire",g.q4.full,"core"),w.Z.registerVersion("angularfire",g.q4.full,"app-compat"),w.Z.registerVersion("angular",h.q4F.full,Nt.toString())}static initializeApp(Nt,it){return{ngModule:at,providers:[{provide:_e,useValue:Nt},{provide:ne,useValue:it}]}}}return at.\u0275fac=function(Nt){return new(Nt||at)(h.LFG(h.Lbi))},at.\u0275mod=h.oAB({type:at}),at.\u0275inj=h.cJS({providers:[ce]}),at})();function xe(at,ke,Nt,it,be){const[,fe,Se]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===at)||[];if(fe)return function He(at,ke){try{return at.toString()===ke.toString()}catch(Nt){return at===ke}}(be,Se)||(Fe("error",`${ke} was already initialized on the ${Nt} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:be,was:Se})),fe;{const De=it();return globalThis.\u0275AngularfireInstanceCache.push([at,De,be]),De}}const st=!!$t.hot,Fe=(at,...ke)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[at](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:($t,Xe,b)=>{b.d(Xe,{q4:()=>ah,iC:()=>Xo,HU:()=>ms,vb:()=>Hr,JM:()=>za});var h=b(5e3),w=b(5867),g=b(5861),$=b(9681),we=b(2090),Ie=b(4859),Pe=b(1877),_e=b(8766);const ne="@firebase/installations",X="0.5.12",ce=`w:${X}`,ze="FIS_v2",ke=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Nt(k){return k instanceof we.ZR&&k.code.includes("request-failed")}function it({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function be(k){return{token:k.token,requestStatus:2,expiresIn:Ue(k.expiresIn),creationTime:Date.now()}}function fe(k,V){return Se.apply(this,arguments)}function Se(){return(Se=(0,g.Z)(function*(k,V){const Ye=(yield V.json()).error;return ke.create("request-failed",{requestName:k,serverCode:Ye.code,serverMessage:Ye.message,serverStatus:Ye.status})})).apply(this,arguments)}function De({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function J(k,{refreshToken:V}){const le=De(k);return le.append("Authorization",function te(k){return`${ze} ${k}`}(V)),le}function Qe(k){return se.apply(this,arguments)}function se(){return(se=(0,g.Z)(function*(k){const V=yield k();return V.status>=500&&V.status<600?k():V})).apply(this,arguments)}function Ue(k){return Number(k.replace("s","000"))}function Ne(k,V){return We.apply(this,arguments)}function We(){return(We=(0,g.Z)(function*({appConfig:k,heartbeatServiceProvider:V},{fid:le}){const Ye=it(k),vt=De(k),kt=V.getImmediate({optional:!0});if(kt){const ei=yield kt.getHeartbeatsHeader();ei&&vt.append("x-firebase-client",ei)}const _n={method:"POST",headers:vt,body:JSON.stringify({fid:le,authVersion:ze,appId:k.appId,sdkVersion:ce})},Bn=yield Qe(()=>fetch(Ye,_n));if(Bn.ok){const ei=yield Bn.json();return{fid:ei.fid||le,registrationStatus:2,refreshToken:ei.refreshToken,authToken:be(ei.authToken)}}throw yield fe("Create Installation",Bn)})).apply(this,arguments)}function yt(k){return new Promise(V=>{setTimeout(V,k)})}const Je=/^[cdef][\w-]{21}$/;function $e(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const le=function Ee(k){return function _t(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return Je.test(le)?le:""}catch(k){return""}}function Ge(k){return`${k.appName}!${k.appId}`}const z=new Map;function Ce(k,V){const le=Ge(k);Ot(le,V),function Et(k,V){const le=function Vt(){return!bt&&"BroadcastChannel"in self&&(bt=new BroadcastChannel("[Firebase] FID Change"),bt.onmessage=k=>{Ot(k.data.key,k.data.fid)}),bt}();le&&le.postMessage({key:k,fid:V}),function Ze(){0===z.size&&bt&&(bt.close(),bt=null)}()}(le,V)}function Ot(k,V){const le=z.get(k);if(le)for(const Ye of le)Ye(V)}let bt=null;const On="firebase-installations-store";let Fn=null;function fn(){return Fn||(Fn=(0,_e.X3)("firebase-installations-database",1,{upgrade:(k,V)=>{0===V&&k.createObjectStore(On)}})),Fn}function gn(k,V){return cn.apply(this,arguments)}function cn(){return(cn=(0,g.Z)(function*(k,V){const le=Ge(k),vt=(yield fn()).transaction(On,"readwrite"),kt=vt.objectStore(On),tn=yield kt.get(le);return yield kt.put(V,le),yield vt.done,(!tn||tn.fid!==V.fid)&&Ce(k,V.fid),V})).apply(this,arguments)}function ht(k){return O.apply(this,arguments)}function O(){return(O=(0,g.Z)(function*(k){const V=Ge(k),Ye=(yield fn()).transaction(On,"readwrite");yield Ye.objectStore(On).delete(V),yield Ye.done})).apply(this,arguments)}function Z(k,V){return ie.apply(this,arguments)}function ie(){return(ie=(0,g.Z)(function*(k,V){const le=Ge(k),vt=(yield fn()).transaction(On,"readwrite"),kt=vt.objectStore(On),tn=yield kt.get(le),_n=V(tn);return void 0===_n?yield kt.delete(le):yield kt.put(_n,le),yield vt.done,_n&&(!tn||tn.fid!==_n.fid)&&Ce(k,_n.fid),_n})).apply(this,arguments)}function ge(k){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,g.Z)(function*(k){let V;const le=yield Z(k.appConfig,Ye=>{const vt=ue(Ye),kt=tt(k,vt);return V=kt.registrationPromise,kt.installationEntry});return""===le.fid?{installationEntry:yield V}:{installationEntry:le,registrationPromise:V}})).apply(this,arguments)}function ue(k){return Un(k||{fid:$e(),registrationStatus:0})}function tt(k,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(ke.create("app-offline"))};const le={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},Ye=function gt(k,V){return Tt.apply(this,arguments)}(k,le);return{installationEntry:le,registrationPromise:Ye}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:rn(k)}:{installationEntry:V}}function Tt(){return(Tt=(0,g.Z)(function*(k,V){try{const le=yield Ne(k,V);return gn(k.appConfig,le)}catch(le){throw Nt(le)&&409===le.customData.serverCode?yield ht(k.appConfig):yield gn(k.appConfig,{fid:V.fid,registrationStatus:0}),le}})).apply(this,arguments)}function rn(k){return ln.apply(this,arguments)}function ln(){return(ln=(0,g.Z)(function*(k){let V=yield on(k.appConfig);for(;1===V.registrationStatus;)yield yt(100),V=yield on(k.appConfig);if(0===V.registrationStatus){const{installationEntry:le,registrationPromise:Ye}=yield ge(k);return Ye||le}return V})).apply(this,arguments)}function on(k){return Z(k,V=>{if(!V)throw ke.create("installation-not-found");return Un(V)})}function Un(k){return function Hn(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function ii(k,V){return an.apply(this,arguments)}function an(){return(an=(0,g.Z)(function*({appConfig:k,heartbeatServiceProvider:V},le){const Ye=Ai(k,le),vt=J(k,le),kt=V.getImmediate({optional:!0});if(kt){const ei=yield kt.getHeartbeatsHeader();ei&&vt.append("x-firebase-client",ei)}const _n={method:"POST",headers:vt,body:JSON.stringify({installation:{sdkVersion:ce,appId:k.appId}})},Bn=yield Qe(()=>fetch(Ye,_n));if(Bn.ok)return be(yield Bn.json());throw yield fe("Generate Auth Token",Bn)})).apply(this,arguments)}function Ai(k,{fid:V}){return`${it(k)}/${V}/authTokens:generate`}function qe(k){return he.apply(this,arguments)}function he(){return(he=(0,g.Z)(function*(k,V=!1){let le;const Ye=yield Z(k.appConfig,kt=>{if(!Dt(kt))throw ke.create("not-registered");const tn=kt.authToken;if(!V&&mn(tn))return kt;if(1===tn.requestStatus)return le=U(k,V),kt;{if(!navigator.onLine)throw ke.create("app-offline");const _n=Xn(kt);return le=me(k,_n),_n}});return le?yield le:Ye.authToken})).apply(this,arguments)}function U(k,V){return P.apply(this,arguments)}function P(){return(P=(0,g.Z)(function*(k,V){let le=yield R(k.appConfig);for(;1===le.authToken.requestStatus;)yield yt(100),le=yield R(k.appConfig);const Ye=le.authToken;return 0===Ye.requestStatus?qe(k,V):Ye})).apply(this,arguments)}function R(k){return Z(k,V=>{if(!Dt(V))throw ke.create("not-registered");return function vn(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function me(k,V){return Re.apply(this,arguments)}function Re(){return(Re=(0,g.Z)(function*(k,V){try{const le=yield ii(k,V),Ye=Object.assign(Object.assign({},V),{authToken:le});return yield gn(k.appConfig,Ye),le}catch(le){if(!Nt(le)||401!==le.customData.serverCode&&404!==le.customData.serverCode){const Ye=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield gn(k.appConfig,Ye)}else yield ht(k.appConfig);throw le}})).apply(this,arguments)}function Dt(k){return void 0!==k&&2===k.registrationStatus}function mn(k){return 2===k.requestStatus&&!function Cn(k){const V=Date.now();return V<k.creationTime||k.creationTime+k.expiresIn<V+36e5}(k)}function Xn(k){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:V})}function Ct(){return(Ct=(0,g.Z)(function*(k){const V=k,{installationEntry:le,registrationPromise:Ye}=yield ge(V);return Ye?Ye.catch(console.error):qe(V).catch(console.error),le.fid})).apply(this,arguments)}function Ke(){return(Ke=(0,g.Z)(function*(k,V=!1){const le=k;return yield mt(le),(yield qe(le,V)).token})).apply(this,arguments)}function mt(k){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,g.Z)(function*(k){const{registrationPromise:V}=yield ge(k);V&&(yield V)})).apply(this,arguments)}function Nn(k){return ke.create("missing-app-config-values",{valueName:k})}const jn="installations",Sn=k=>{const V=k.getProvider("app").getImmediate(),le=function xn(k){if(!k||!k.options)throw Nn("App Configuration");if(!k.name)throw Nn("App Name");const V=["projectId","apiKey","appId"];for(const le of V)if(!k.options[le])throw Nn(le);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(V);return{app:V,appConfig:le,heartbeatServiceProvider:(0,$._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},ai=k=>{const V=k.getProvider("app").getImmediate(),le=(0,$._getProvider)(V,jn).getImmediate();return{getId:()=>function hi(k){return Ct.apply(this,arguments)}(le),getToken:vt=>function ut(k){return Ke.apply(this,arguments)}(le,vt)}};(function Mi(){(0,$._registerComponent)(new Ie.wA(jn,Sn,"PUBLIC")),(0,$._registerComponent)(new Ie.wA("installations-internal",ai,"PRIVATE"))})(),(0,$.registerVersion)(ne,X),(0,$.registerVersion)(ne,X,"esm2017");const Gi="@firebase/remote-config",Ti=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bs{constructor(V,le,Ye,vt){this.client=V,this.storage=le,this.storageCache=Ye,this.logger=vt}isCachedDataFresh(V,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ye=Date.now()-le,vt=Ye<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ye}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${vt}.`),vt}fetch(V){var le=this;return(0,g.Z)(function*(){const[Ye,vt]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(vt&&le.isCachedDataFresh(V.cacheMaxAgeMillis,Ye))return vt;V.eTag=vt&&vt.eTag;const kt=yield le.client.fetch(V),tn=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===kt.status&&tn.push(le.storage.setLastSuccessfulFetchResponse(kt)),yield Promise.all(tn),kt})()}}function wo(k=navigator){return k.languages&&k.languages[0]||k.language}class er{constructor(V,le,Ye,vt,kt,tn){this.firebaseInstallations=V,this.sdkVersion=le,this.namespace=Ye,this.projectId=vt,this.apiKey=kt,this.appId=tn}fetch(V){var le=this;return(0,g.Z)(function*(){var Ye,vt,kt;const[tn,_n]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),ei=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,ti={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},qn={sdk_version:le.sdkVersion,app_instance_id:tn,app_instance_id_token:_n,app_id:le.appId,language_code:wo()},lr={method:"POST",headers:ti,body:JSON.stringify(qn)},Us=fetch(ei,lr),yo=new Promise((As,No)=>{V.signal.addEventListener(()=>{const au=new Error("The operation was aborted.");au.name="AbortError",No(au)})});let Jo;try{yield Promise.race([Us,yo]),Jo=yield Us}catch(As){let No="fetch-client-network";throw"AbortError"===(null===(Ye=As)||void 0===Ye?void 0:Ye.name)&&(No="fetch-timeout"),Ti.create(No,{originalErrorMessage:null===(vt=As)||void 0===vt?void 0:vt.message})}let Ys=Jo.status;const vc=Jo.headers.get("ETag")||void 0;let vl,ea;if(200===Jo.status){let As;try{As=yield Jo.json()}catch(No){throw Ti.create("fetch-client-parse",{originalErrorMessage:null===(kt=No)||void 0===kt?void 0:kt.message})}vl=As.entries,ea=As.state}if("INSTANCE_STATE_UNSPECIFIED"===ea?Ys=500:"NO_CHANGE"===ea?Ys=304:("NO_TEMPLATE"===ea||"EMPTY_CONFIG"===ea)&&(vl={}),304!==Ys&&200!==Ys)throw Ti.create("fetch-status",{httpStatus:Ys});return{status:Ys,eTag:vc,config:vl}})()}}class Do{constructor(V,le){this.client=V,this.storage=le}fetch(V){var le=this;return(0,g.Z)(function*(){const Ye=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(V,Ye)})()}attemptFetch(V,{throttleEndTimeMillis:le,backoffCount:Ye}){var vt=this;return(0,g.Z)(function*(){yield function zr(k,V){return new Promise((le,Ye)=>{const vt=Math.max(V-Date.now(),0),kt=setTimeout(le,vt);k.addEventListener(()=>{clearTimeout(kt),Ye(Ti.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,le);try{const kt=yield vt.client.fetch(V);return yield vt.storage.deleteThrottleMetadata(),kt}catch(kt){if(!function es(k){if(!(k instanceof we.ZR&&k.customData))return!1;const V=Number(k.customData.httpStatus);return 429===V||500===V||503===V||504===V}(kt))throw kt;const tn={throttleEndTimeMillis:Date.now()+(0,we.$s)(Ye),backoffCount:Ye+1};return yield vt.storage.setThrottleMetadata(tn),vt.attemptFetch(V,tn)}})()}}class ts{constructor(V,le,Ye,vt,kt){this.app=V,this._client=le,this._storageCache=Ye,this._storage=vt,this._logger=kt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ps(k,V){var le;const Ye=k.target.error||void 0;return Ti.create(V,{originalErrorMessage:Ye&&(null===(le=Ye)||void 0===le?void 0:le.message)})}const ns="app_namespace_store";class po{constructor(V,le,Ye,vt=function fo(){return new Promise((k,V)=>{var le;try{const Ye=indexedDB.open("firebase_remote_config",1);Ye.onerror=vt=>{V(Ps(vt,"storage-open"))},Ye.onsuccess=vt=>{k(vt.target.result)},Ye.onupgradeneeded=vt=>{0===vt.oldVersion&&vt.target.result.createObjectStore(ns,{keyPath:"compositeKey"})}}catch(Ye){V(Ti.create("storage-open",{originalErrorMessage:null===(le=Ye)||void 0===le?void 0:le.message}))}})}()){this.appId=V,this.appName=le,this.namespace=Ye,this.openDbPromise=vt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var le=this;return(0,g.Z)(function*(){const Ye=yield le.openDbPromise;return new Promise((vt,kt)=>{var tn;const Bn=Ye.transaction([ns],"readonly").objectStore(ns),ei=le.createCompositeKey(V);try{const ti=Bn.get(ei);ti.onerror=qn=>{kt(Ps(qn,"storage-get"))},ti.onsuccess=qn=>{const lr=qn.target.result;vt(lr?lr.value:void 0)}}catch(ti){kt(Ti.create("storage-get",{originalErrorMessage:null===(tn=ti)||void 0===tn?void 0:tn.message}))}})})()}set(V,le){var Ye=this;return(0,g.Z)(function*(){const vt=yield Ye.openDbPromise;return new Promise((kt,tn)=>{var _n;const ei=vt.transaction([ns],"readwrite").objectStore(ns),ti=Ye.createCompositeKey(V);try{const qn=ei.put({compositeKey:ti,value:le});qn.onerror=lr=>{tn(Ps(lr,"storage-set"))},qn.onsuccess=()=>{kt()}}catch(qn){tn(Ti.create("storage-set",{originalErrorMessage:null===(_n=qn)||void 0===_n?void 0:_n.message}))}})})()}delete(V){var le=this;return(0,g.Z)(function*(){const Ye=yield le.openDbPromise;return new Promise((vt,kt)=>{var tn;const Bn=Ye.transaction([ns],"readwrite").objectStore(ns),ei=le.createCompositeKey(V);try{const ti=Bn.delete(ei);ti.onerror=qn=>{kt(Ps(qn,"storage-delete"))},ti.onsuccess=()=>{vt()}}catch(ti){kt(Ti.create("storage-delete",{originalErrorMessage:null===(tn=ti)||void 0===tn?void 0:tn.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class Ks{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,g.Z)(function*(){const le=V.storage.getLastFetchStatus(),Ye=V.storage.getLastSuccessfulFetchTimestampMillis(),vt=V.storage.getActiveConfig(),kt=yield le;kt&&(V.lastFetchStatus=kt);const tn=yield Ye;tn&&(V.lastSuccessfulFetchTimestampMillis=tn);const _n=yield vt;_n&&(V.activeConfig=_n)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function Es(){return rs.apply(this,arguments)}function rs(){return(rs=(0,g.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(k){return!1}})).apply(this,arguments)}!function is(){(0,$._registerComponent)(new Ie.wA("remote-config",function k(V,{instanceIdentifier:le}){const Ye=V.getProvider("app").getImmediate(),vt=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ti.create("registration-window");if(!(0,we.hl)())throw Ti.create("indexed-db-unavailable");const{projectId:kt,apiKey:tn,appId:_n}=Ye.options;if(!kt)throw Ti.create("registration-project-id");if(!tn)throw Ti.create("registration-api-key");if(!_n)throw Ti.create("registration-app-id");const Bn=new po(_n,Ye.name,le=le||"firebase"),ei=new Ks(Bn),ti=new Pe.Yd(Gi);ti.logLevel=Pe.in.ERROR;const qn=new er(vt,$.SDK_VERSION,le,kt,tn,_n),lr=new Do(qn,Bn),Us=new bs(lr,Bn,ei,ti),yo=new ts(Ye,Us,ei,Bn,ti);return function fi(k){const V=(0,we.m9)(k);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(yo),yo},"PUBLIC").setMultipleInstances(!0)),(0,$.registerVersion)(Gi,"0.3.11"),(0,$.registerVersion)(Gi,"0.3.11","esm2017")}();const Go="/firebase-messaging-sw.js",ar="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Br="google.c.a.c_id",Fs="google.c.a.c_l",$o="google.c.a.ts",ls="google.c.a.e";var Cs=(()=>{return(k=Cs||(Cs={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",Cs;var k})();function fr(k){const V=new Uint8Array(k);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ws(k){const le=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ye=atob(le),vt=new Uint8Array(Ye.length);for(let kt=0;kt<Ye.length;++kt)vt[kt]=Ye.charCodeAt(kt);return vt}const Ri="fcm_token_details_db",wr="fcm_token_object_Store";function Pi(k){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,g.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(kt=>kt.name).includes(Ri))return null;let V=null;return(yield(0,_e.X3)(Ri,5,{upgrade:(Ye=(0,g.Z)(function*(vt,kt,tn,_n){var Bn;if(kt<2||!vt.objectStoreNames.contains(wr))return;const ei=_n.objectStore(wr),ti=yield ei.index("fcmSenderId").get(k);if(yield ei.clear(),ti)if(2===kt){const qn=ti;if(!qn.auth||!qn.p256dh||!qn.endpoint)return;V={token:qn.fcmToken,createTime:null!==(Bn=qn.createTime)&&void 0!==Bn?Bn:Date.now(),subscriptionOptions:{auth:qn.auth,p256dh:qn.p256dh,endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:"string"==typeof qn.vapidKey?qn.vapidKey:fr(qn.vapidKey)}}}else if(3===kt){const qn=ti;V={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:fr(qn.auth),p256dh:fr(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:fr(qn.vapidKey)}}}else if(4===kt){const qn=ti;V={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:fr(qn.auth),p256dh:fr(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:fr(qn.vapidKey)}}}}),function(kt,tn,_n,Bn){return Ye.apply(this,arguments)})})).close(),yield(0,_e.Lj)(Ri),yield(0,_e.Lj)("fcm_vapid_details_db"),yield(0,_e.Lj)("undefined"),ss(V)?V:null;var Ye}),Kr.apply(this,arguments)}function ss(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:V}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const Zr="firebase-messaging-store";let us=null;function yi(){return us||(us=(0,_e.X3)("firebase-messaging-database",1,{upgrade:(k,V)=>{0===V&&k.createObjectStore(Zr)}})),us}function j(k){return ae.apply(this,arguments)}function ae(){return(ae=(0,g.Z)(function*(k){const V=zt(k),Ye=yield(yield yi()).transaction(Zr).objectStore(Zr).get(V);if(Ye)return Ye;{const vt=yield Pi(k.appConfig.senderId);if(vt)return yield L(k,vt),vt}})).apply(this,arguments)}function L(k,V){return ye.apply(this,arguments)}function ye(){return(ye=(0,g.Z)(function*(k,V){const le=zt(k),vt=(yield yi()).transaction(Zr,"readwrite");return yield vt.objectStore(Zr).put(V,le),yield vt.done,V})).apply(this,arguments)}function et(k){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,g.Z)(function*(k){const V=zt(k),Ye=(yield yi()).transaction(Zr,"readwrite");yield Ye.objectStore(Zr).delete(V),yield Ye.done})).apply(this,arguments)}function zt({appConfig:k}){return k.appId}const $n=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gi(k,V){return li.apply(this,arguments)}function li(){return(li=(0,g.Z)(function*(k,V){var le;const Ye=yield F(k),vt=de(V),kt={method:"POST",headers:Ye,body:JSON.stringify(vt)};let tn;try{tn=yield(yield fetch(G(k.appConfig),kt)).json()}catch(_n){throw $n.create("token-subscribe-failed",{errorInfo:null===(le=_n)||void 0===le?void 0:le.toString()})}if(tn.error)throw $n.create("token-subscribe-failed",{errorInfo:tn.error.message});if(!tn.token)throw $n.create("token-subscribe-no-token");return tn.token})).apply(this,arguments)}function pi(k,V){return qi.apply(this,arguments)}function qi(){return(qi=(0,g.Z)(function*(k,V){var le;const Ye=yield F(k),vt=de(V.subscriptionOptions),kt={method:"PATCH",headers:Ye,body:JSON.stringify(vt)};let tn;try{tn=yield(yield fetch(`${G(k.appConfig)}/${V.token}`,kt)).json()}catch(_n){throw $n.create("token-update-failed",{errorInfo:null===(le=_n)||void 0===le?void 0:le.toString()})}if(tn.error)throw $n.create("token-update-failed",{errorInfo:tn.error.message});if(!tn.token)throw $n.create("token-update-no-token");return tn.token})).apply(this,arguments)}function Ci(k,V){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,g.Z)(function*(k,V){var le;const vt={method:"DELETE",headers:yield F(k)};try{const tn=yield(yield fetch(`${G(k.appConfig)}/${V}`,vt)).json();if(tn.error)throw $n.create("token-unsubscribe-failed",{errorInfo:tn.error.message})}catch(kt){throw $n.create("token-unsubscribe-failed",{errorInfo:null===(le=kt)||void 0===le?void 0:le.toString()})}})).apply(this,arguments)}function G({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function F(k){return S.apply(this,arguments)}function S(){return(S=(0,g.Z)(function*({appConfig:k,installations:V}){const le=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${le}`})})).apply(this,arguments)}function de({p256dh:k,auth:V,endpoint:le,vapidKey:Ye}){const vt={web:{endpoint:le,auth:V,p256dh:k}};return Ye!==Wr&&(vt.web.applicationPubKey=Ye),vt}const Bt=6048e5;function wn(k){return bi.apply(this,arguments)}function bi(){return(bi=(0,g.Z)(function*(k){const V=yield nr(k.swRegistration,k.vapidKey),le={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:V.endpoint,auth:fr(V.getKey("auth")),p256dh:fr(V.getKey("p256dh"))},Ye=yield j(k.firebaseDependencies);if(Ye){if(go(Ye.subscriptionOptions,le))return Date.now()>=Ye.createTime+Bt?ds(k,{token:Ye.token,createTime:Date.now(),subscriptionOptions:le}):Ye.token;try{yield Ci(k.firebaseDependencies,Ye.token)}catch(vt){console.warn(vt)}return vi(k.firebaseDependencies,le)}return vi(k.firebaseDependencies,le)})).apply(this,arguments)}function Vr(k){return mo.apply(this,arguments)}function mo(){return(mo=(0,g.Z)(function*(k){const V=yield j(k.firebaseDependencies);V&&(yield Ci(k.firebaseDependencies,V.token),yield et(k.firebaseDependencies));const le=yield k.swRegistration.pushManager.getSubscription();return!le||le.unsubscribe()})).apply(this,arguments)}function ds(k,V){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,g.Z)(function*(k,V){try{const le=yield pi(k.firebaseDependencies,V),Ye=Object.assign(Object.assign({},V),{token:le,createTime:Date.now()});return yield L(k.firebaseDependencies,Ye),le}catch(le){throw yield Vr(k),le}})).apply(this,arguments)}function vi(k,V){return zo.apply(this,arguments)}function zo(){return(zo=(0,g.Z)(function*(k,V){const Ye={token:yield gi(k,V),createTime:Date.now(),subscriptionOptions:V};return yield L(k,Ye),Ye.token})).apply(this,arguments)}function nr(k,V){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,g.Z)(function*(k,V){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ws(V)})})).apply(this,arguments)}function go(k,V){return V.vapidKey===k.vapidKey&&V.endpoint===k.endpoint&&V.auth===k.auth&&V.p256dh===k.p256dh}function Is(k){const V={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function To(k,V){if(!V.notification)return;k.notification={};const le=V.notification.title;le&&(k.notification.title=le);const Ye=V.notification.body;Ye&&(k.notification.body=Ye);const vt=V.notification.image;vt&&(k.notification.image=vt)}(V,k),function Da(k,V){!V.data||(k.data=V.data)}(V,k),function cl(k,V){var le,Ye,vt,kt,tn;if(!V.fcmOptions&&!(null===(le=V.notification)||void 0===le?void 0:le.click_action))return;k.fcmOptions={};const _n=null!==(vt=null===(Ye=V.fcmOptions)||void 0===Ye?void 0:Ye.link)&&void 0!==vt?vt:null===(kt=V.notification)||void 0===kt?void 0:kt.click_action;_n&&(k.fcmOptions.link=_n);const Bn=null===(tn=V.fcmOptions)||void 0===tn?void 0:tn.analytics_label;Bn&&(k.fcmOptions.analyticsLabel=Bn)}(V,k),V}function sa(k){return"object"==typeof k&&!!k&&Br in k}function to(k,V){const le=[];for(let Ye=0;Ye<k.length;Ye++)le.push(k.charAt(Ye)),Ye<V.length&&le.push(V.charAt(Ye));return le.join("")}function pr(k){return $n.create("missing-app-config-values",{valueName:k})}to("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),to("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ls{constructor(V,le,Ye){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const vt=function no(k){if(!k||!k.options)throw pr("App Configuration Object");if(!k.name)throw pr("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:le}=k;for(const Ye of V)if(!le[Ye])throw pr(Ye);return{appName:k.name,projectId:le.projectId,apiKey:le.apiKey,appId:le.appId,senderId:le.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:vt,installations:le,analyticsProvider:Ye}}_delete(){return Promise.resolve()}}function Ko(k){return ee.apply(this,arguments)}function ee(){return(ee=(0,g.Z)(function*(k){var V;try{k.swRegistration=yield navigator.serviceWorker.register(Go,{scope:ar}),k.swRegistration.update().catch(()=>{})}catch(le){throw $n.create("failed-service-worker-registration",{browserErrorMessage:null===(V=le)||void 0===V?void 0:V.message})}})).apply(this,arguments)}function y(k,V){return E.apply(this,arguments)}function E(){return(E=(0,g.Z)(function*(k,V){if(!V&&!k.swRegistration&&(yield Ko(k)),V||!k.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");k.swRegistration=V}})).apply(this,arguments)}function N(k,V){return re.apply(this,arguments)}function re(){return(re=(0,g.Z)(function*(k,V){V?k.vapidKey=V:k.vapidKey||(k.vapidKey=Wr)})).apply(this,arguments)}function rt(){return(rt=(0,g.Z)(function*(k,V){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield N(k,null==V?void 0:V.vapidKey),yield y(k,null==V?void 0:V.serviceWorkerRegistration),wn(k)})).apply(this,arguments)}function ot(k,V,le){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,g.Z)(function*(k,V,le){const Ye=Wt(V);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(Ye,{message_id:le[Br],message_name:le[Fs],message_time:le[$o],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wt(k){switch(k){case Cs.NOTIFICATION_CLICKED:return"notification_open";case Cs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Rn(){return(Rn=(0,g.Z)(function*(k,V){const le=V.data;if(!le.isFirebaseMessaging)return;k.onMessageHandler&&le.messageType===Cs.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(Is(le)):k.onMessageHandler.next(Is(le)));const Ye=le.data;sa(Ye)&&"1"===Ye[ls]&&(yield ot(k,le.messageType,Ye))})).apply(this,arguments)}const zn="@firebase/messaging",kn=k=>{const V=new Ls(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",le=>function Dn(k,V){return Rn.apply(this,arguments)}(V,le)),V},Zn=k=>{const V=k.getProvider("messaging").getImmediate();return{getToken:Ye=>function Oe(k,V){return rt.apply(this,arguments)}(V,Ye)}};function tr(){return ir.apply(this,arguments)}function ir(){return(ir=(0,g.Z)(function*(){try{yield(0,we.eu)()}catch(k){return!1}return"undefined"!=typeof window&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ki(){(0,$._registerComponent)(new Ie.wA("messaging",kn,"PUBLIC")),(0,$._registerComponent)(new Ie.wA("messaging-internal",Zn,"PRIVATE")),(0,$.registerVersion)(zn,"0.9.16"),(0,$.registerVersion)(zn,"0.9.16","esm2017")}();const Bs="analytics",So="firebase_id",hs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mn="https://www.googletagmanager.com/gtag/js",En=new Pe.Yd("@firebase/analytics");function Kn(k){return Promise.all(k.map(V=>V.catch(le=>le)))}function ui(k,V){const le=document.createElement("script");le.src=`${Mn}?l=${k}&id=${V}`,le.async=!0,document.head.appendChild(le)}function Ts(k,V,le,Ye,vt,kt){return rr.apply(this,arguments)}function rr(){return(rr=(0,g.Z)(function*(k,V,le,Ye,vt,kt){const tn=Ye[vt];try{if(tn)yield V[tn];else{const Bn=(yield Kn(le)).find(ei=>ei.measurementId===vt);Bn&&(yield V[Bn.appId])}}catch(_n){En.error(_n)}k("config",vt,kt)})).apply(this,arguments)}function os(k,V,le,Ye,vt){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,g.Z)(function*(k,V,le,Ye,vt){try{let kt=[];if(vt&&vt.send_to){let tn=vt.send_to;Array.isArray(tn)||(tn=[tn]);const _n=yield Kn(le);for(const Bn of tn){const ei=_n.find(qn=>qn.measurementId===Bn),ti=ei&&V[ei.appId];if(!ti){kt=[];break}kt.push(ti)}}0===kt.length&&(kt=Object.values(V)),yield Promise.all(kt),k("event",Ye,vt||{})}catch(kt){En.error(kt)}})).apply(this,arguments)}function Qr(){const k=window.document.getElementsByTagName("script");for(const V of Object.values(k))if(V.src&&V.src.includes(Mn))return V;return null}const Ki=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ul=new class Vs{constructor(V={},le=1e3){this.throttleMetadata=V,this.intervalMillis=le}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,le){this.throttleMetadata[V]=le}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function Ha(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function so(k){return dl.apply(this,arguments)}function dl(){return(dl=(0,g.Z)(function*(k){var V;const{appId:le,apiKey:Ye}=k,vt={method:"GET",headers:Ha(Ye)},kt=hs.replace("{app-id}",le),tn=yield fetch(kt,vt);if(200!==tn.status&&304!==tn.status){let _n="";try{const Bn=yield tn.json();(null===(V=Bn.error)||void 0===V?void 0:V.message)&&(_n=Bn.error.message)}catch(Bn){}throw Ki.create("config-fetch-failed",{httpStatus:tn.status,responseMessage:_n})}return tn.json()})).apply(this,arguments)}function Xi(k){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,g.Z)(function*(k,V=ul,le){const{appId:Ye,apiKey:vt,measurementId:kt}=k.options;if(!Ye)throw Ki.create("no-app-id");if(!vt){if(kt)return{measurementId:kt,appId:Ye};throw Ki.create("no-api-key")}const tn=V.getThrottleMetadata(Ye)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_n=new H;return setTimeout((0,g.Z)(function*(){_n.abort()}),void 0!==le?le:6e4),oa({appId:Ye,apiKey:vt,measurementId:kt},tn,_n,V)})).apply(this,arguments)}function oa(k,V,le){return A.apply(this,arguments)}function A(){return(A=(0,g.Z)(function*(k,{throttleEndTimeMillis:V,backoffCount:le},Ye,vt=ul){var kt,tn;const{appId:_n,measurementId:Bn}=k;try{yield I(Ye,V)}catch(ei){if(Bn)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${null===(kt=ei)||void 0===kt?void 0:kt.message}]`),{appId:_n,measurementId:Bn};throw ei}try{const ei=yield so(k);return vt.deleteThrottleMetadata(_n),ei}catch(ei){const ti=ei;if(!C(ti)){if(vt.deleteThrottleMetadata(_n),Bn)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${null==ti?void 0:ti.message}]`),{appId:_n,measurementId:Bn};throw ei}const qn=503===Number(null===(tn=null==ti?void 0:ti.customData)||void 0===tn?void 0:tn.httpStatus)?(0,we.$s)(le,vt.intervalMillis,30):(0,we.$s)(le,vt.intervalMillis),lr={throttleEndTimeMillis:Date.now()+qn,backoffCount:le+1};return vt.setThrottleMetadata(_n,lr),En.debug(`Calling attemptFetch again in ${qn} millis`),oa(k,lr,Ye,vt)}})).apply(this,arguments)}function I(k,V){return new Promise((le,Ye)=>{const vt=Math.max(V-Date.now(),0),kt=setTimeout(le,vt);k.addEventListener(()=>{clearTimeout(kt),Ye(Ki.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function C(k){if(!(k instanceof we.ZR&&k.customData))return!1;const V=Number(k.customData.httpStatus);return 429===V||500===V||503===V||504===V}class H{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}let K,Ji;function Be(){return(Be=(0,g.Z)(function*(k,V,le,Ye,vt){if(vt&&vt.global)k("event",le,Ye);else{const kt=yield V;k("event",le,Object.assign(Object.assign({},Ye),{send_to:kt}))}})).apply(this,arguments)}function ma(k){Ji=k}function ga(k){K=k}function xo(){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,g.Z)(function*(){var k;if(!(0,we.hl)())return En.warn(Ki.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(V){return En.warn(Ki.create("indexeddb-unavailable",{errorInfo:null===(k=V)||void 0===k?void 0:k.toString()}).message),!1}return!0})).apply(this,arguments)}function Fl(){return(Fl=(0,g.Z)(function*(k,V,le,Ye,vt,kt,tn){var _n;const Bn=Xi(k);Bn.then(Us=>{le[Us.measurementId]=Us.appId,k.options.measurementId&&Us.measurementId!==k.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Us.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Us=>En.error(Us)),V.push(Bn);const ei=xo().then(Us=>{if(Us)return Ye.getId()}),[ti,qn]=yield Promise.all([Bn,ei]);Qr()||ui(kt,ti.measurementId),Ji&&(vt("consent","default",Ji),ma(void 0)),vt("js",new Date);const lr=null!==(_n=null==tn?void 0:tn.config)&&void 0!==_n?_n:{};return lr.origin="firebase",lr.update=!0,null!=qn&&(lr[So]=qn),vt("config",ti.measurementId,lr),K&&(vt("set",K),ga(void 0)),ti.measurementId})).apply(this,arguments)}class Ma{constructor(V){this.app=V}_delete(){return delete Yo[this.app.options.appId],Promise.resolve()}}let Yo={},hl=[];const Ll={};let _o,Ro,Oo="dataLayer",Zi=!1;function ji(k,V,le){!function Bl(){const k=[];if((0,we.ru)()&&k.push("This is a browser extension environment."),(0,we.zI)()||k.push("Cookies are not available."),k.length>0){const V=k.map((Ye,vt)=>`(${vt+1}) ${Ye}`).join(" "),le=Ki.create("invalid-analytics-context",{errorInfo:V});En.warn(le.message)}}();const Ye=k.options.appId;if(!Ye)throw Ki.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Ki.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yo[Ye])throw Ki.create("already-exists",{id:Ye});if(!Zi){!function Ui(k){let V=[];Array.isArray(window[k])?V=window[k]:window[k]=V}(Oo);const{wrappedGtag:kt,gtagCore:tn}=function fs(k,V,le,Ye,vt){let kt=function(...tn){window[Ye].push(arguments)};return window[vt]&&"function"==typeof window[vt]&&(kt=window[vt]),window[vt]=function Zo(k,V,le,Ye){function kt(){return(kt=(0,g.Z)(function*(tn,_n,Bn){try{"event"===tn?yield os(k,V,le,_n,Bn):"config"===tn?yield Ts(k,V,le,Ye,_n,Bn):"consent"===tn?k("consent","update",Bn):k("set",_n)}catch(ei){En.error(ei)}})).apply(this,arguments)}return function vt(tn,_n,Bn){return kt.apply(this,arguments)}}(kt,k,V,le),{gtagCore:kt,wrappedGtag:window[vt]}}(Yo,hl,Ll,Oo,"gtag");Ro=kt,_o=tn,Zi=!0}return Yo[Ye]=function Ta(k,V,le,Ye,vt,kt,tn){return Fl.apply(this,arguments)}(k,hl,Ll,V,_o,Oo,le),new Ma(k)}function bn(){return fl.apply(this,arguments)}function fl(){return(fl=(0,g.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(k){return!1}})).apply(this,arguments)}const ml="@firebase/analytics";!function su(){(0,$._registerComponent)(new Ie.wA(Bs,(V,{options:le})=>ji(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),le),"PUBLIC")),(0,$._registerComponent)(new Ie.wA("analytics-internal",function k(V){try{const le=V.getProvider(Bs).getImmediate();return{logEvent:(Ye,vt,kt)=>function Ul(k,V,le,Ye){k=(0,we.m9)(k),function Q(k,V,le,Ye,vt){return Be.apply(this,arguments)}(Ro,Yo[k.app.options.appId],V,le,Ye).catch(vt=>En.error(vt))}(le,Ye,vt,kt)}}catch(le){throw Ki.create("interop-component-reg-failed",{reason:le})}},"PRIVATE")),(0,$.registerVersion)(ml,"0.8.0"),(0,$.registerVersion)(ml,"0.8.0","esm2017")}();var jl=b(4408),Xr=b(7565);const Pt=new class Sa extends Xr.v{}(class oo extends jl.o{constructor(V,le){super(V,le),this.scheduler=V,this.work=le}schedule(V,le=0){return le>0?super.schedule(V,le):(this.delay=le,this.state=V,this.scheduler.flush(this),this)}execute(V,le){return le>0||this.closed?super.execute(V,le):this._execute(V,le)}requestAsyncId(V,le,Ye=0){return null!=Ye&&Ye>0||null==Ye&&this.delay>0?super.requestAsyncId(V,le,Ye):V.flush(this)}});var Zs=b(4986),gl=b(8505),Po=b(9468),aa=b(5363);const ah=new h.GfV("7.4.1"),qo="__angularfire_symbol__analyticsIsSupportedValue",Ss="__angularfire_symbol__analyticsIsSupported",la="__angularfire_symbol__remoteConfigIsSupportedValue",ca="__angularfire_symbol__remoteConfigIsSupported",ou="__angularfire_symbol__messagingIsSupportedValue",ps="__angularfire_symbol__messagingIsSupported";function za(k,V,le){if(V){if(1===V.length)return V[0];const kt=V.filter(tn=>tn.app===le);if(1===kt.length)return kt[0]}return le.container.getProvider(k).getImmediate({optional:!0})}globalThis[Ss]||(globalThis[Ss]=bn().then(k=>globalThis[qo]=k).catch(()=>globalThis[qo]=!1)),globalThis[ps]||(globalThis[ps]=tr().then(k=>globalThis[ou]=k).catch(()=>globalThis[ou]=!1)),globalThis[ca]||(globalThis[ca]=Es().then(k=>globalThis[la]=k).catch(()=>globalThis[la]=!1));const Hr=(k,V)=>{const le=V?[V]:(0,w.C6)(),Ye=[];return le.forEach(vt=>{vt.container.getProvider(k).instances.forEach(tn=>{Ye.includes(tn)||Ye.push(tn)})}),Ye};function Fi(){}class Qo{constructor(V,le=Pt){this.zone=V,this.delegate=le}now(){return this.delegate.now()}schedule(V,le,Ye){const vt=this.zone;return this.delegate.schedule(function(tn){vt.runGuarded(()=>{V.apply(this,[tn])})},le,Ye)}}class _l{constructor(V){this.zone=V,this.task=null}call(V,le){const Ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fi,{},Fi,Fi)),le.pipe((0,gl.b)({next:Ye,complete:Ye,error:Ye})).subscribe(V).add(Ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ms=(()=>{class k{constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new Qo(Zone.current)),this.insideAngular=le.run(()=>new Qo(Zone.current,Zs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(le){return new(le||k)(h.LFG(h.R0b))},k.\u0275prov=h.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function ko(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Xo(k){return ko(),function Hl(k){return function(le){return(le=le.lift(new _l(k.ngZone))).pipe((0,Po.R)(k.outsideAngular),(0,aa.Q)(k.insideAngular))}}(ko())(k)}},2090:($t,Xe,b)=>{b.d(Xe,{BH:()=>ze,LL:()=>We,ZR:()=>Ne,zI:()=>se,US:()=>Ie,tV:()=>ne,L:()=>_e,$s:()=>Hn,r3:()=>Rt,Sg:()=>xe,ne:()=>fn,vZ:()=>bt,ZB:()=>pe,pd:()=>On,m9:()=>Ai,z$:()=>He,jU:()=>at,ru:()=>ke,d:()=>it,xb:()=>Ot,w1:()=>be,hl:()=>J,uI:()=>st,UG:()=>Fe,b$:()=>Nt,G6:()=>De,Mn:()=>fe,xO:()=>St,zd:()=>sn,eu:()=>Qe});const $=function(qe){const he=[];let U=0;for(let P=0;P<qe.length;P++){let R=qe.charCodeAt(P);R<128?he[U++]=R:R<2048?(he[U++]=R>>6|192,he[U++]=63&R|128):55296==(64512&R)&&P+1<qe.length&&56320==(64512&qe.charCodeAt(P+1))?(R=65536+((1023&R)<<10)+(1023&qe.charCodeAt(++P)),he[U++]=R>>18|240,he[U++]=R>>12&63|128,he[U++]=R>>6&63|128,he[U++]=63&R|128):(he[U++]=R>>12|224,he[U++]=R>>6&63|128,he[U++]=63&R|128)}return he},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(qe,he){if(!Array.isArray(qe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,P=[];for(let R=0;R<qe.length;R+=3){const me=qe[R],Re=R+1<qe.length,Dt=Re?qe[R+1]:0,mn=R+2<qe.length,Cn=mn?qe[R+2]:0;let hi=(15&Dt)<<2|Cn>>6,Ct=63&Cn;mn||(Ct=64,Re||(hi=64)),P.push(U[me>>2],U[(3&me)<<4|Dt>>4],U[hi],U[Ct])}return P.join("")},encodeString(qe,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(qe):this.encodeByteArray($(qe),he)},decodeString(qe,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(qe):function(qe){const he=[];let U=0,P=0;for(;U<qe.length;){const R=qe[U++];if(R<128)he[P++]=String.fromCharCode(R);else if(R>191&&R<224){const me=qe[U++];he[P++]=String.fromCharCode((31&R)<<6|63&me)}else if(R>239&&R<365){const mn=((7&R)<<18|(63&qe[U++])<<12|(63&qe[U++])<<6|63&qe[U++])-65536;he[P++]=String.fromCharCode(55296+(mn>>10)),he[P++]=String.fromCharCode(56320+(1023&mn))}else{const me=qe[U++],Re=qe[U++];he[P++]=String.fromCharCode((15&R)<<12|(63&me)<<6|63&Re)}}return he.join("")}(this.decodeStringToByteArray(qe,he))},decodeStringToByteArray(qe,he){this.init_();const U=he?this.charToByteMapWebSafe_:this.charToByteMap_,P=[];for(let R=0;R<qe.length;){const me=U[qe.charAt(R++)],Dt=R<qe.length?U[qe.charAt(R)]:0;++R;const Cn=R<qe.length?U[qe.charAt(R)]:64;++R;const vn=R<qe.length?U[qe.charAt(R)]:64;if(++R,null==me||null==Dt||null==Cn||null==vn)throw Error();P.push(me<<2|Dt>>4),64!==Cn&&(P.push(Dt<<4&240|Cn>>2),64!==vn&&P.push(Cn<<6&192|vn))}return P},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let qe=0;qe<this.ENCODED_VALS.length;qe++)this.byteToCharMap_[qe]=this.ENCODED_VALS.charAt(qe),this.charToByteMap_[this.byteToCharMap_[qe]]=qe,this.byteToCharMapWebSafe_[qe]=this.ENCODED_VALS_WEBSAFE.charAt(qe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[qe]]=qe,qe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(qe)]=qe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(qe)]=qe)}}},_e=function(qe){return function(qe){const he=$(qe);return Ie.encodeByteArray(he,!0)}(qe).replace(/\./g,"")},ne=function(qe){try{return Ie.decodeString(qe,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function pe(qe,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===qe&&(qe={});break;case Array:qe=[];break;default:return he}for(const U in he)!he.hasOwnProperty(U)||!ce(U)||(qe[U]=pe(qe[U],he[U]));return qe}function ce(qe){return"__proto__"!==qe}class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,U)=>{this.resolve=he,this.reject=U})}wrapCallback(he){return(U,P)=>{U?this.reject(U):this.resolve(P),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(U):he(U,P))}}}function xe(qe,he){if(qe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const P=he||"demo-project",R=qe.iat||0,me=qe.sub||qe.user_id;if(!me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Re=Object.assign({iss:`https://securetoken.google.com/${P}`,aud:P,iat:R,exp:R+3600,auth_time:R,sub:me,user_id:me,firebase:{sign_in_provider:"custom",identities:{}}},qe);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(Re)),""].join(".")}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(qe){return!1}}function at(){return"object"==typeof self&&self.self===self}function ke(){const qe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof qe&&void 0!==qe.id}function Nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){return He().indexOf("Electron/")>=0}function be(){const qe=He();return qe.indexOf("MSIE ")>=0||qe.indexOf("Trident/")>=0}function fe(){return He().indexOf("MSAppHost/")>=0}function De(){return!Fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){return"object"==typeof indexedDB}function Qe(){return new Promise((qe,he)=>{try{let U=!0;const P="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(P);R.onsuccess=()=>{R.result.close(),U||self.indexedDB.deleteDatabase(P),qe(!0)},R.onupgradeneeded=()=>{U=!1},R.onerror=()=>{var me;he((null===(me=R.error)||void 0===me?void 0:me.message)||"")}}catch(U){he(U)}})}function se(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ne extends Error{constructor(he,U,P){super(U),this.code=he,this.customData=P,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(he,U,P){this.service=he,this.serviceName=U,this.errors=P}create(he,...U){const P=U[0]||{},R=`${this.service}/${he}`,me=this.errors[he],Re=me?function yt(qe,he){return qe.replace(_t,(U,P)=>{const R=he[P];return null!=R?String(R):`<${P}?>`})}(me,P):"Error";return new Ne(R,`${this.serviceName}: ${Re} (${R}).`,P)}}const _t=/\{\$([^}]+)}/g;function Rt(qe,he){return Object.prototype.hasOwnProperty.call(qe,he)}function Ot(qe){for(const he in qe)if(Object.prototype.hasOwnProperty.call(qe,he))return!1;return!0}function bt(qe,he){if(qe===he)return!0;const U=Object.keys(qe),P=Object.keys(he);for(const R of U){if(!P.includes(R))return!1;const me=qe[R],Re=he[R];if(Vt(me)&&Vt(Re)){if(!bt(me,Re))return!1}else if(me!==Re)return!1}for(const R of P)if(!U.includes(R))return!1;return!0}function Vt(qe){return null!==qe&&"object"==typeof qe}function St(qe){const he=[];for(const[U,P]of Object.entries(qe))Array.isArray(P)?P.forEach(R=>{he.push(encodeURIComponent(U)+"="+encodeURIComponent(R))}):he.push(encodeURIComponent(U)+"="+encodeURIComponent(P));return he.length?"&"+he.join("&"):""}function sn(qe){const he={};return qe.replace(/^\?/,"").split("&").forEach(P=>{if(P){const[R,me]=P.split("=");he[decodeURIComponent(R)]=decodeURIComponent(me)}}),he}function On(qe){const he=qe.indexOf("?");if(!he)return"";const U=qe.indexOf("#",he);return qe.substring(he,U>0?U:void 0)}function fn(qe,he){const U=new gn(qe,he);return U.subscribe.bind(U)}class gn{constructor(he,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{he(this)}).catch(P=>{this.error(P)})}next(he){this.forEachObserver(U=>{U.next(he)})}error(he){this.forEachObserver(U=>{U.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,U,P){let R;if(void 0===he&&void 0===U&&void 0===P)throw new Error("Missing Observer.");R=function ht(qe,he){if("object"!=typeof qe||null===qe)return!1;for(const U of he)if(U in qe&&"function"==typeof qe[U])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:U,complete:P},void 0===R.next&&(R.next=O),void 0===R.error&&(R.error=O),void 0===R.complete&&(R.complete=O);const me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch(Re){}}),this.observers.push(R),me}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,he)}sendOne(he,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{U(this.observers[he])}catch(P){"undefined"!=typeof console&&console.error&&console.error(P)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O(){}function Hn(qe,he=1e3,U=2){const P=he*Math.pow(U,qe),R=Math.round(.5*P*(Math.random()-.5)*2);return Math.min(144e5,P+R)}function Ai(qe){return qe&&qe._delegate?qe._delegate:qe}},7018:($t,Xe,b)=>{b.d(Xe,{M:()=>h});var h=(()=>{return(w=h||(h={})).PAINTINGS="cuadros",w.BOX_TYPES="tipo_cuadro",w.MENU="menu",w.MEASURES="medidas",h;var w})()},5651:($t,Xe,b)=>{b.d(Xe,{W:()=>we});var h=b(1135),w=b(7018),g=b(5e3),$=b(7985);let we=(()=>{class Ie{constructor(_e){this.db=_e,this.measures$=new h.X(null)}loadMeasures(){this.db.collection(w.M.MEASURES).valueChanges({idField:"id"}).subscribe(_e=>this.measures$.next(_e))}}return Ie.\u0275fac=function(_e){return new(_e||Ie)(g.LFG($.ST))},Ie.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},4872:($t,Xe,b)=>{b.d(Xe,{q:()=>at});var h=b(4889),w=b(4594),g=b(8099),$=b(7423),we=b(9224),Ie=b(4107),Pe=b(508),_e=b(7399),ne=b(4623),X=b(6688),pe=b(4834),ce=b(149),ze=b(8966),xe=b(7261),He=b(9287),st=b(7238),Fe=b(5e3);let at=(()=>{class ke{}return ke.\u0275fac=function(it){return new(it||ke)},ke.\u0275mod=Fe.oAB({type:ke}),ke.\u0275inj=Fe.cJS({providers:[{provide:_e.xM,useValue:{panelClass:"bottom-sheet-custom-container",hasBackdrop:!0}}],imports:[st.AV,He.Iq,xe.ZX,Ie.LD,ce.dp,h.SJ,w.g0,g.Ps,$.ot,we.QW,Pe.si,_e._r,ne.ie,X.Hi,pe.t,ze.Is]}),ke})()},2278:($t,Xe,b)=>{var h=b(2313),w=b(5e3),g=b(5861),$=b(1402);const we=[{path:"",loadChildren:(Je=(0,g.Z)(function*(){return(yield Promise.all([b.e(592),b.e(510)]).then(b.bind(b,6510))).DashboardModule}),function(){return Je.apply(this,arguments)})},{path:"cuadros",loadChildren:function(){var Je=(0,g.Z)(function*(){return(yield Promise.all([b.e(592),b.e(339)]).then(b.bind(b,3339))).PaintingModule});return function(){return Je.apply(this,arguments)}}()},{path:"**",redirectTo:""}];var Je;let Ie=(()=>{class Je{}return Je.\u0275fac=function($e){return new($e||Je)},Je.\u0275mod=w.oAB({type:Je}),Je.\u0275inj=w.cJS({imports:[[$.Bz.forRoot(we)],$.Bz]}),Je})();var Pe=b(1777);const _e=(0,Pe.X$)("routeAnimations",[(0,Pe.eR)("* <=> *",[(0,Pe.IO)(":leave",(0,Pe.oB)({position:"absolute",left:0,right:0,transform:"translate3d(0%,0,0)",overflow:"hidden"}),{optional:!0}),(0,Pe.IO)(":enter",(0,Pe.oB)({position:"absolute",left:"15px",right:"15px",transform:"translate3d(-100%,0,0)",overflow:"hidden"}),{optional:!0}),(0,Pe.ru)([(0,Pe.IO)(":leave",(0,Pe.ru)([(0,Pe.jt)("0s ease-in-out",(0,Pe.oB)({transform:"translate3d(100%,0,0)"}))]),{optional:!0}),(0,Pe.IO)(":enter",(0,Pe.ru)([(0,Pe.jt)("300ms ease-in-out",(0,Pe.oB)({transform:"translate3d(0%,0,0)"}))]),{optional:!0})])])]);var ne=b(5651),X=b(4889),pe=b(2379),ce=b(149),ze=b(7579),xe=b(2722),He=b(7018),st=b(7985);let Fe=(()=>{class Je{constructor($e){this.db=$e}getMenu(){return this.db.collection(He.M.MENU).valueChanges({idField:"id"})}}return Je.\u0275fac=function($e){return new($e||Je)(w.LFG(st.ST))},Je.\u0275prov=w.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})();var at=b(9808);function ke(Je,je){if(1&Je){const $e=w.EpF();w.TgZ(0,"mat-tree-node",4),w.NdJ("click",function(){const z=w.CHM($e).$implicit;return w.oxw(2).navigate(z)}),w._uU(1),w.qZA()}if(2&Je){const $e=je.$implicit;w.xp6(1),w.hij(" ",$e.nombre," ")}}function Nt(Je,je){if(1&Je&&(w.TgZ(0,"mat-tree-node",5),w._uU(1),w.qZA()),2&Je){const $e=je.$implicit;w.xp6(1),w.hij(" ",$e.nombre," ")}}function it(Je,je){if(1&Je&&(w.ynx(0),w.TgZ(1,"mat-tree",1),w.YNc(2,ke,2,1,"mat-tree-node",2),w.YNc(3,Nt,2,1,"mat-tree-node",3),w.qZA(),w.BQk()),2&Je){const $e=w.oxw();w.xp6(1),w.Q6J("dataSource",$e.menu)("treeControl",$e.treeControl),w.xp6(2),w.Q6J("matTreeNodeDefWhen",$e.hasChild)}}let be=(()=>{class Je{constructor($e,Ee){this.router=$e,this.menuService=Ee,this._transformer=(Ge,z)=>Object.assign({expandable:!!Ge.children&&Ge.children.length>0,level:z},Ge),this.treeControl=new pe.C2(Ge=>Ge.level,Ge=>Ge.expandable),this.treeFlattener=new ce.JZ(this._transformer,Ge=>Ge.level,Ge=>Ge.expandable,Ge=>Ge.children),this.hasChild=(Ge,z)=>z.expandable,this.menu=new ce.kc(this.treeControl,this.treeFlattener),this.onDestroy$=new ze.x}ngOnInit(){this.menuService.getMenu().pipe((0,xe.R)(this.onDestroy$)).subscribe($e=>{this.menu.data=$e,this.tree.treeControl.expandAll()})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}navigate($e){this.router.navigate([$e.basePath,$e.id])}}return Je.\u0275fac=function($e){return new($e||Je)(w.Y36($.F0),w.Y36(Fe))},Je.\u0275cmp=w.Xpm({type:Je,selectors:[["app-menu"]],viewQuery:function($e,Ee){if(1&$e&&w.Gf(ce.gi,5),2&$e){let Ge;w.iGM(Ge=w.CRH())&&(Ee.tree=Ge.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[1,"tree",3,"dataSource","treeControl"],["class","child","matTreeNodePadding","",3,"click",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"child",3,"click"],["matTreeNodePadding",""]],template:function($e,Ee){1&$e&&w.YNc(0,it,4,3,"ng-container",0),2&$e&&w.Q6J("ngIf",Ee.menu.data)},directives:[at.O5,ce.gi,ce.fQ,ce.uo,ce.ah],styles:[".tree[_ngcontent-%COMP%]{padding:24px}.tree[_ngcontent-%COMP%]   .mat-tree-node.child[_ngcontent-%COMP%]:hover{background:#eeeeee;cursor:pointer}"]}),Je})();var fe=b(4594),Se=b(7423),De=b(8099);let J=(()=>{class Je{constructor($e){this.router=$e,this.onDrawerToggle=new w.vpe}ngOnInit(){}goToHome(){this.router.navigate([""])}}return Je.\u0275fac=function($e){return new($e||Je)(w.Y36($.F0))},Je.\u0275cmp=w.Xpm({type:Je,selectors:[["app-header"]],outputs:{onDrawerToggle:"onDrawerToggle"},decls:6,vars:0,consts:[["mat-icon-button","",3,"click"],[1,"clickable",3,"click"]],template:function($e,Ee){1&$e&&(w.TgZ(0,"button",0),w.NdJ("click",function(){return Ee.onDrawerToggle.emit()}),w.TgZ(1,"mat-icon"),w._uU(2,"menu"),w.qZA()(),w.TgZ(3,"div",1),w.NdJ("click",function(){return Ee.goToHome()}),w.TgZ(4,"span"),w._uU(5,"Fly cuadros"),w.qZA()())},directives:[Se.lW,De.Hw],styles:["[_nghost-%COMP%]{display:flex;gap:16px}.clickable[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}"]}),Je})(),Qe=(()=>{class Je{constructor($e,Ee){this.contexts=$e,this.measuresService=Ee}ngOnInit(){this.measuresService.loadMeasures()}getRouteAnimationData(){var $e,Ee,Ge,z;return null===(z=null===(Ge=null===(Ee=null===($e=this.contexts.getContext("primary"))||void 0===$e?void 0:$e.route)||void 0===Ee?void 0:Ee.snapshot)||void 0===Ge?void 0:Ge.data)||void 0===z?void 0:z.animation}}return Je.\u0275fac=function($e){return new($e||Je)(w.Y36($.y6),w.Y36(ne.W))},Je.\u0275cmp=w.Xpm({type:Je,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"full-height"],["mode","side",2,"width","300px"],["drawer",""],[3,"onDrawerToggle"],[1,"container"]],template:function($e,Ee){if(1&$e){const Ge=w.EpF();w.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),w._UZ(3,"app-menu"),w.qZA(),w.TgZ(4,"mat-drawer-content")(5,"mat-toolbar")(6,"app-header",3),w.NdJ("onDrawerToggle",function(){return w.CHM(Ge),w.MAs(2).toggle()}),w.qZA()(),w.TgZ(7,"main",4),w._UZ(8,"router-outlet"),w.qZA()()()}2&$e&&(w.xp6(7),w.Q6J("@routeAnimations",Ee.getRouteAnimationData()))},directives:[X.kh,X.jA,be,X.LW,fe.Ye,J,$.lC],styles:[".container[_ngcontent-%COMP%]{padding:15px}@media (max-width: 800px){.container[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}"],data:{animation:[_e]}}),Je})();var se=b(6360),Ue=b(4872);let te=(()=>{class Je{}return Je.\u0275fac=function($e){return new($e||Je)},Je.\u0275mod=w.oAB({type:Je}),Je.\u0275inj=w.cJS({providers:[],imports:[[at.ez,Ue.q]]}),Je})();var Ne=b(2011);const We={apiKey:"AIzaSyAPbYmpSoQ3DsOF_u4Lwwm1QAmaamV-gzo",authDomain:"fly-cuadros.firebaseapp.com",projectId:"fly-cuadros",storageBucket:"fly-cuadros.appspot.com",messagingSenderId:"650672944127",appId:"1:650672944127:web:108c938188ad030cb32dca",measurementId:"G-6FVF2K2V30"};let yt=(()=>{class Je{}return Je.\u0275fac=function($e){return new($e||Je)},Je.\u0275mod=w.oAB({type:Je,bootstrap:[Qe]}),Je.\u0275inj=w.cJS({imports:[[h.b2,Ie,se.PW,Ue.q,te,Ne.hO.initializeApp(We),st.yb]]}),Je})();(0,w.G48)(),h.q6().bootstrapModule(yt).catch(Je=>console.error(Je))},5867:($t,Xe,b)=>{b.d(Xe,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=b(9681);(0,h.registerVersion)("firebase","9.9.4","app")},127:($t,Xe,b)=>{b.d(Xe,{Z:()=>h.Z});var h=b(3942);h.Z.registerVersion("firebase","9.9.4","app-compat")},2274:($t,Xe,b)=>{b.r(Xe);var h=b(5861),w=b(3942),g=b(2090),$=b(9681),we=b(655),Ie=b(1877),Pe=b(4859);const He=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},st=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new Ie.Yd("@firebase/auth");function Nt(_,...d){ke.logLevel<=Ie.in.ERROR&&ke.error(`Auth (${$.SDK_VERSION}): ${_}`,...d)}function it(_,...d){throw De(_,...d)}function be(_,...d){return De(_,...d)}function fe(_,d,f){const D=Object.assign(Object.assign({},st()),{[d]:f});return new g.LL("auth","Firebase",D).create(d,{appName:_.name})}function Se(_,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&it(_,"argument-error"),fe(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function De(_,...d){if("string"!=typeof _){const f=d[0],D=[...d.slice(1)];return D[0]&&(D[0].appName=_.name),_._errorFactory.create(f,...D)}return Fe.create(_,...d)}function J(_,d,...f){if(!_)throw De(d,...f)}function Qe(_){const d="INTERNAL ASSERTION FAILED: "+_;throw Nt(d),new Error(d)}function se(_,d){_||Qe(d)}const Ue=new Map;function te(_){se(_ instanceof Function,"Expected a class definition");let d=Ue.get(_);return d?(se(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,Ue.set(_,d),d)}function yt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function _t(){return"http:"===Je()||"https:"===Je()}function Je(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ee{constructor(d,f){this.shortDelay=d,this.longDelay=f,se(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function je(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_t()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ge(_,d){se(_.emulator,"Emulator should always be set here");const{url:f}=_.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class z{static initialize(d,f,D){this.fetchImpl=d,f&&(this.headersImpl=f),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Rt=new Ee(3e4,6e4);function pt(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function Ot(_,d,f,D){return Et.apply(this,arguments)}function Et(){return(Et=(0,h.Z)(function*(_,d,f,D,W={}){return bt(_,W,(0,h.Z)(function*(){let ve={},ft={};D&&("GET"===d?ft=D:ve={body:JSON.stringify(D)});const Ut=(0,g.xO)(Object.assign({key:_.config.apiKey},ft)).slice(1),dn=yield _._getAdditionalHeaders();return dn["Content-Type"]="application/json",_.languageCode&&(dn["X-Firebase-Locale"]=_.languageCode),z.fetch()(sn(_,_.config.apiHost,f,Ut),Object.assign({method:d,headers:dn,referrerPolicy:"no-referrer"},ve))}))})).apply(this,arguments)}function bt(_,d,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(_,d,f){_._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ce),d);try{const W=new On(_),ve=yield Promise.race([f(),W.promise]);W.clearNetworkTimeout();const ft=yield ve.json();if("needConfirmation"in ft)throw Fn(_,"account-exists-with-different-credential",ft);if(ve.ok&&!("errorMessage"in ft))return ft;{const Ut=ve.ok?ft.errorMessage:ft.error.message,[dn,An]=Ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dn)throw Fn(_,"credential-already-in-use",ft);if("EMAIL_EXISTS"===dn)throw Fn(_,"email-already-in-use",ft);if("USER_DISABLED"===dn)throw Fn(_,"user-disabled",ft);const Qn=D[dn]||dn.toLowerCase().replace(/[_\s]+/g,"-");if(An)throw fe(_,Qn,An);it(_,Qn)}}catch(W){if(W instanceof g.ZR)throw W;it(_,"network-request-failed")}})).apply(this,arguments)}function Ze(_,d,f,D){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(_,d,f,D,W={}){const ve=yield Ot(_,d,f,D,W);return"mfaPendingCredential"in ve&&it(_,"multi-factor-auth-required",{_serverResponse:ve}),ve})).apply(this,arguments)}function sn(_,d,f,D){const W=`${d}${f}?${D}`;return _.config.emulator?Ge(_.config,W):`${_.config.apiScheme}://${W}`}class On{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,D)=>{this.timer=setTimeout(()=>D(be(this.auth,"network-request-failed")),Rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(_,d,f){const D={appName:_.name};f.email&&(D.email=f.email),f.phoneNumber&&(D.phoneNumber=f.phoneNumber);const W=be(_,d,D);return W.customData._tokenResponse=f,W}function gn(){return(gn=(0,h.Z)(function*(_,d){return Ot(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function cn(_,d){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(_,d){return Ot(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function O(_,d){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.Z)(function*(_,d){return Ot(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function ie(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function ue(){return(ue=(0,h.Z)(function*(_,d=!1){const f=(0,g.m9)(_),D=yield f.getIdToken(d),W=gt(D);J(W&&W.exp&&W.auth_time&&W.iat,f.auth,"internal-error");const ve="object"==typeof W.firebase?W.firebase:void 0,ft=null==ve?void 0:ve.sign_in_provider;return{claims:W,token:D,authTime:ie(tt(W.auth_time)),issuedAtTime:ie(tt(W.iat)),expirationTime:ie(tt(W.exp)),signInProvider:ft||null,signInSecondFactor:(null==ve?void 0:ve.sign_in_second_factor)||null}})).apply(this,arguments)}function tt(_){return 1e3*Number(_)}function gt(_){var d;const[f,D,W]=_.split(".");if(void 0===f||void 0===D||void 0===W)return Nt("JWT malformed, contained fewer than 3 sections"),null;try{const ve=(0,g.tV)(D);return ve?JSON.parse(ve):(Nt("Failed to decode base64 JWT payload"),null)}catch(ve){return Nt("Caught error parsing JWT payload as JSON",null===(d=ve)||void 0===d?void 0:d.toString()),null}}function rn(_,d){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(_,d,f=!1){if(f)return d;try{return yield d}catch(D){throw D instanceof g.ZR&&on(D)&&_.auth.currentUser===_&&(yield _.auth.signOut()),D}})).apply(this,arguments)}function on({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Un{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const W=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const D=this.getInterval(d);this.timerId=setTimeout((0,h.Z)(function*(){yield f.iteration()}),D)}iteration(){var d=this;return(0,h.Z)(function*(){var f;try{yield d.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(f=D)||void 0===f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class Hn{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=ie(this.lastLoginAt),this.creationTime=ie(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ii(_){return an.apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(_){var d;const f=_.auth,D=yield _.getIdToken(),W=yield rn(_,O(f,{idToken:D}));J(null==W?void 0:W.users.length,f,"internal-error");const ve=W.users[0];_._notifyReloadListener(ve);const ft=(null===(d=ve.providerUserInfo)||void 0===d?void 0:d.length)?U(ve.providerUserInfo):[],Ut=he(_.providerData,ft),Qn=!!_.isAnonymous&&!(_.email&&ve.passwordHash||(null==Ut?void 0:Ut.length)),Wn={uid:ve.localId,displayName:ve.displayName||null,photoURL:ve.photoUrl||null,email:ve.email||null,emailVerified:ve.emailVerified||!1,phoneNumber:ve.phoneNumber||null,tenantId:ve.tenantId||null,providerData:Ut,metadata:new Hn(ve.createdAt,ve.lastLoginAt),isAnonymous:Qn};Object.assign(_,Wn)})).apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(_){const d=(0,g.m9)(_);yield ii(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function he(_,d){return[..._.filter(D=>!d.some(W=>W.providerId===D.providerId)),...d]}function U(_){return _.map(d=>{var{providerId:f}=d,D=(0,we._T)(d,["providerId"]);return{providerId:f,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function R(){return(R=(0,h.Z)(function*(_,d){const f=yield bt(_,{},(0,h.Z)(function*(){const D=(0,g.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:W,apiKey:ve}=_.config,ft=sn(_,W,"/v1/token",`key=${ve}`),Ut=yield _._getAdditionalHeaders();return Ut["Content-Type"]="application/x-www-form-urlencoded",z.fetch()(ft,{method:"POST",headers:Ut,body:D})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class me{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){J(d.idToken,"internal-error"),J(void 0!==d.idToken,"internal-error"),J(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function Tt(_){const d=gt(_);return J(d,"internal-error"),J(void 0!==d.exp,"internal-error"),J(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var D=this;return(0,h.Z)(function*(){return J(!D.accessToken||D.refreshToken,d,"user-token-expired"),f||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(d,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var D=this;return(0,h.Z)(function*(){const{accessToken:W,refreshToken:ve,expiresIn:ft}=yield function P(_,d){return R.apply(this,arguments)}(d,f);D.updateTokensAndExpiration(W,ve,Number(ft))})()}updateTokensAndExpiration(d,f,D){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(d,f){const{refreshToken:D,accessToken:W,expirationTime:ve}=f,ft=new me;return D&&(J("string"==typeof D,"internal-error",{appName:d}),ft.refreshToken=D),W&&(J("string"==typeof W,"internal-error",{appName:d}),ft.accessToken=W),ve&&(J("number"==typeof ve,"internal-error",{appName:d}),ft.expirationTime=ve),ft}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new me,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function Re(_,d){J("string"==typeof _||void 0===_,"internal-error",{appName:d})}class Dt{constructor(d){var{uid:f,auth:D,stsTokenManager:W}=d,ve=(0,we._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=D,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ve.displayName||null,this.email=ve.email||null,this.emailVerified=ve.emailVerified||!1,this.phoneNumber=ve.phoneNumber||null,this.photoURL=ve.photoURL||null,this.isAnonymous=ve.isAnonymous||!1,this.tenantId=ve.tenantId||null,this.providerData=ve.providerData?[...ve.providerData]:[],this.metadata=new Hn(ve.createdAt||void 0,ve.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,h.Z)(function*(){const D=yield rn(f,f.stsTokenManager.getToken(f.auth,d));return J(D,f.auth,"internal-error"),f.accessToken!==D&&(f.accessToken=D,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),D})()}getIdTokenResult(d){return function Ae(_){return ue.apply(this,arguments)}(this,d)}reload(){return function Ai(_){return qe.apply(this,arguments)}(this)}_assign(d){this!==d&&(J(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Dt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var D=this;return(0,h.Z)(function*(){let W=!1;d.idToken&&d.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(d),W=!0),f&&(yield ii(D)),yield D.auth._persistUserIfCurrent(D),W&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var d=this;return(0,h.Z)(function*(){const f=yield d.getIdToken();return yield rn(d,function fn(_,d){return gn.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var D,W,ve,ft,Ut,dn,An,Qn;const Wn=null!==(D=f.displayName)&&void 0!==D?D:void 0,Jr=null!==(W=f.email)&&void 0!==W?W:void 0,bo=null!==(ve=f.phoneNumber)&&void 0!==ve?ve:void 0,ql=null!==(ft=f.photoURL)&&void 0!==ft?ft:void 0,Th=null!==(Ut=f.tenantId)&&void 0!==Ut?Ut:void 0,tl=null!==(dn=f._redirectEventId)&&void 0!==dn?dn:void 0,kc=null!==(An=f.createdAt)&&void 0!==An?An:void 0,ld=null!==(Qn=f.lastLoginAt)&&void 0!==Qn?Qn:void 0,{uid:cd,emailVerified:Pa,isAnonymous:wl,providerData:ud,stsTokenManager:Mh}=f;J(cd&&Mh,d,"internal-error");const vp=me.fromJSON(this.name,Mh);J("string"==typeof cd,d,"internal-error"),Re(Wn,d.name),Re(Jr,d.name),J("boolean"==typeof Pa,d,"internal-error"),J("boolean"==typeof wl,d,"internal-error"),Re(bo,d.name),Re(ql,d.name),Re(Th,d.name),Re(tl,d.name),Re(kc,d.name),Re(ld,d.name);const vu=new Dt({uid:cd,auth:d,email:Jr,emailVerified:Pa,displayName:Wn,isAnonymous:wl,photoURL:ql,phoneNumber:bo,tenantId:Th,stsTokenManager:vp,createdAt:kc,lastLoginAt:ld});return ud&&Array.isArray(ud)&&(vu.providerData=ud.map(uo=>Object.assign({},uo))),tl&&(vu._redirectEventId=tl),vu}static _fromIdTokenResponse(d,f,D=!1){return(0,h.Z)(function*(){const W=new me;W.updateFromServerResponse(f);const ve=new Dt({uid:f.localId,auth:d,stsTokenManager:W,isAnonymous:D});return yield ii(ve),ve})()}}const Cn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(f,D){var W=this;return(0,h.Z)(function*(){W.storage[f]=D})()}_get(f){var D=this;return(0,h.Z)(function*(){const W=D.storage[f];return void 0===W?null:W})()}_remove(f){var D=this;return(0,h.Z)(function*(){delete D.storage[f]})()}_addListener(f,D){}_removeListener(f,D){}}return _.type="NONE",_})();function Xn(_,d,f){return`firebase:${_}:${d}:${f}`}class vn{constructor(d,f,D){this.persistence=d,this.auth=f,this.userKey=D;const{config:W,name:ve}=this.auth;this.fullUserKey=Xn(this.userKey,W.apiKey,ve),this.fullPersistenceKey=Xn("persistence",W.apiKey,ve),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,h.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?Dt._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,h.Z)(function*(){if(f.persistence===d)return;const D=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,D?f.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,D="authUser"){return(0,h.Z)(function*(){if(!f.length)return new vn(te(Cn),d,D);const W=(yield Promise.all(f.map(function(){var An=(0,h.Z)(function*(Qn){if(yield Qn._isAvailable())return Qn});return function(Qn){return An.apply(this,arguments)}}()))).filter(An=>An);let ve=W[0]||te(Cn);const ft=Xn(D,d.config.apiKey,d.name);let Ut=null;for(const An of f)try{const Qn=yield An._get(ft);if(Qn){const Wn=Dt._fromJSON(d,Qn);An!==ve&&(Ut=Wn),ve=An;break}}catch(Qn){}const dn=W.filter(An=>An._shouldAllowMigration);return ve._shouldAllowMigration&&dn.length?(ve=dn[0],Ut&&(yield ve._set(ft,Ut.toJSON())),yield Promise.all(f.map(function(){var An=(0,h.Z)(function*(Qn){if(Qn!==ve)try{yield Qn._remove(ft)}catch(Wn){}});return function(Qn){return An.apply(this,arguments)}}())),new vn(ve,d,D)):new vn(ve,d,D)})()}}function hi(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(mt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ct(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(wt(d))return"Blackberry";if(Le(d))return"Webos";if(ut(d))return"Safari";if((d.includes("chrome/")||Ke(d))&&!d.includes("edge/"))return"Chrome";if(Gt(d))return"Android";{const D=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Ct(_=(0,g.z$)()){return/firefox\//i.test(_)}function ut(_=(0,g.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ke(_=(0,g.z$)()){return/crios\//i.test(_)}function mt(_=(0,g.z$)()){return/iemobile/i.test(_)}function Gt(_=(0,g.z$)()){return/android/i.test(_)}function wt(_=(0,g.z$)()){return/blackberry/i.test(_)}function Le(_=(0,g.z$)()){return/webos/i.test(_)}function Me(_=(0,g.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function hn(_=(0,g.z$)()){return Me(_)||Gt(_)||Le(_)||wt(_)||/windows phone/i.test(_)||mt(_)}function Nn(_,d=[]){let f;switch(_){case"Browser":f=hi((0,g.z$)());break;case"Worker":f=`${hi((0,g.z$)())}-${_}`;break;default:f=_}const D=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${$.SDK_VERSION}/${D}`}class jn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const D=ve=>new Promise((ft,Ut)=>{try{ft(d(ve))}catch(dn){Ut(dn)}});D.onAbort=f,this.queue.push(D);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,h.Z)(function*(){var D;if(f.auth.currentUser===d)return;const W=[];try{for(const ve of f.queue)yield ve(d),ve.onAbort&&W.push(ve.onAbort)}catch(ve){W.reverse();for(const ft of W)try{ft()}catch(Ut){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=ve)||void 0===D?void 0:D.message})}})()}}class Xt{constructor(d,f,D){this.app=d,this.heartbeatServiceProvider=f,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ai(this),this.idTokenSubscription=new ai(this),this.beforeStateQueue=new jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(d,f){var D=this;return f&&(this._popupRedirectResolver=te(f)),this._initializationPromise=this.queue((0,h.Z)(function*(){var W,ve;if(!D._deleted&&(D.persistenceManager=yield vn.create(D,d),!D._deleted)){if(null===(W=D._popupRedirectResolver)||void 0===W?void 0:W._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(ft){}yield D.initializeCurrentUser(f),D.lastNotifiedUid=(null===(ve=D.currentUser)||void 0===ve?void 0:ve.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,h.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,h.Z)(function*(){var D;const W=yield f.assertedPersistence.getCurrentUser();let ve=W,ft=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Ut=null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId,dn=null==ve?void 0:ve._redirectEventId,An=yield f.tryRedirectSignIn(d);(!Ut||Ut===dn)&&(null==An?void 0:An.user)&&(ve=An.user,ft=!0)}if(!ve)return f.directlySetCurrentUser(null);if(!ve._redirectEventId){if(ft)try{yield f.beforeStateQueue.runMiddleware(ve)}catch(Ut){ve=W,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Ut))}return ve?f.reloadAndSetCurrentUserOrClear(ve):f.directlySetCurrentUser(null)}return J(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===ve._redirectEventId?f.directlySetCurrentUser(ve):f.reloadAndSetCurrentUserOrClear(ve)})()}tryRedirectSignIn(d){var f=this;return(0,h.Z)(function*(){let D=null;try{D=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(W){yield f._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,h.Z)(function*(){var D;try{yield ii(d)}catch(W){if("auth/network-request-failed"!==(null===(D=W)||void 0===D?void 0:D.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function $e(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,h.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,h.Z)(function*(){const D=d?(0,g.m9)(d):null;return D&&J(D.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(D&&D._clone(f))})()}_updateCurrentUser(d,f=!1){var D=this;return(0,h.Z)(function*(){if(!D._deleted)return d&&J(D.tenantId===d.tenantId,D,"tenant-id-mismatch"),f||(yield D.beforeStateQueue.runMiddleware(d)),D.queue((0,h.Z)(function*(){yield D.directlySetCurrentUser(d),D.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,h.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,h.Z)(function*(){yield f.assertedPersistence.setPersistence(te(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new g.LL("auth","Firebase",d())}onAuthStateChanged(d,f,D){return this.registerStateListener(this.authStateSubscription,d,f,D)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,D){return this.registerStateListener(this.idTokenSubscription,d,f,D)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var D=this;return(0,h.Z)(function*(){const W=yield D.getOrInitRedirectPersistenceManager(f);return null===d?W.removeCurrentUser():W.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,h.Z)(function*(){if(!f.redirectPersistenceManager){const D=d&&te(d)||f._popupRedirectResolver;J(D,f,"argument-error"),f.redirectPersistenceManager=yield vn.create(f,[te(D._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,h.Z)(function*(){var D,W;return f._isInitialized&&(yield f.queue((0,h.Z)(function*(){}))),(null===(D=f._currentUser)||void 0===D?void 0:D._redirectEventId)===d?f._currentUser:(null===(W=f.redirectUser)||void 0===W?void 0:W._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,h.Z)(function*(){if(d===f.currentUser)return f.queue((0,h.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,D,W){if(this._deleted)return()=>{};const ve="function"==typeof f?f:f.next.bind(f),ft=this._isInitialized?Promise.resolve():this._initializationPromise;return J(ft,this,"internal-error"),ft.then(()=>ve(this.currentUser)),"function"==typeof f?d.addObserver(f,D,W):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,h.Z)(function*(){f.currentUser&&f.currentUser!==d&&f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh(),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,h.Z)(function*(){var f;const D={"X-Client-Version":d.clientVersion};d.app.options.appId&&(D["X-Firebase-gmpid"]=d.app.options.appId);const W=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return W&&(D["X-Firebase-Client"]=W),D})()}}function Sn(_){return(0,g.m9)(_)}class ai{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,g.ne)(f=>this.observer=f)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gi(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Er(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class $i{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Qe("not implemented")}_getIdTokenResponse(d){return Qe("not implemented")}_linkToIdToken(d,f){return Qe("not implemented")}_getReauthenticationResolver(d){return Qe("not implemented")}}function Ti(_,d){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(_,d){return Ot(_,"POST","/v1/accounts:resetPassword",pt(_,d))})).apply(this,arguments)}function kr(_,d){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(_,d){return Ot(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function _s(_,d){return mr.apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(_,d){return Ot(_,"POST","/v1/accounts:update",pt(_,d))})).apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:signInWithPassword",pt(_,d))})).apply(this,arguments)}function Fr(_,d){return dr.apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(_,d){return Ot(_,"POST","/v1/accounts:sendOobCode",pt(_,d))})).apply(this,arguments)}function fi(_,d){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(_,d){return Fr(_,d)})).apply(this,arguments)}function ys(_,d){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,h.Z)(function*(_,d){return Fr(_,d)})).apply(this,arguments)}function yr(_,d){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(_,d){return Fr(_,d)})).apply(this,arguments)}function zs(_,d){return or.apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(_,d){return Fr(_,d)})).apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:signInWithEmailLink",pt(_,d))})).apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:signInWithEmailLink",pt(_,d))})).apply(this,arguments)}class er extends $i{constructor(d,f,D,W=null){super("password",D),this._email=d,this._password=f,this._tenantId=W}static _fromEmailAndPassword(d,f){return new er(d,f,"password")}static _fromEmailAndCode(d,f,D=null){return new er(d,f,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,h.Z)(function*(){switch(f.signInMethod){case"password":return function Li(_,d){return Nr.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Ir(_,d){return Ws.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:it(d,"internal-error")}})()}_linkToIdToken(d,f){var D=this;return(0,h.Z)(function*(){switch(D.signInMethod){case"password":return kr(d,{idToken:f,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function bs(_,d){return wo.apply(this,arguments)}(d,{idToken:f,email:D._email,oobCode:D._password});default:it(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function zr(_,d){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:signInWithIdp",pt(_,d))})).apply(this,arguments)}class Oi extends $i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new Oi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):it("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:W}=f,ve=(0,we._T)(f,["providerId","signInMethod"]);if(!D||!W)return null;const ft=new Oi(D,W);return ft.idToken=ve.idToken||void 0,ft.accessToken=ve.accessToken||void 0,ft.secret=ve.secret,ft.nonce=ve.nonce,ft.pendingToken=ve.pendingToken||null,ft}_getIdTokenResponse(d){return zr(d,this.buildRequest())}_linkToIdToken(d,f){const D=this.buildRequest();return D.idToken=f,zr(d,D)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,zr(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,g.xO)(f)}return d}}function eo(_,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(_,d){return Ot(_,"POST","/v1/accounts:sendVerificationCode",pt(_,d))})).apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:signInWithPhoneNumber",pt(_,d))})).apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(_,d){const f=yield Ze(_,"POST","/v1/accounts:signInWithPhoneNumber",pt(_,d));if(f.temporaryProof)throw Fn(_,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const fo={USER_NOT_FOUND:"user-not-found"};function Ks(){return(Ks=(0,h.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:signInWithPhoneNumber",pt(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),fo)})).apply(this,arguments)}class is extends $i{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new is({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new is({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function Ps(_,d){return ns.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function ks(_,d){return Io.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function po(_,d){return Ks.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:D,verificationCode:W}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:D,code:W}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:D,phoneNumber:W,temporaryProof:ve}=d;return D||f||W||ve?new is({verificationId:f,verificationCode:D,phoneNumber:W,temporaryProof:ve}):null}}class Es{constructor(d){var f,D,W,ve,ft,Ut;const dn=(0,g.zd)((0,g.pd)(d)),An=null!==(f=dn.apiKey)&&void 0!==f?f:null,Qn=null!==(D=dn.oobCode)&&void 0!==D?D:null,Wn=function Ns(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=dn.mode)&&void 0!==W?W:null);J(An&&Qn&&Wn,"argument-error"),this.apiKey=An,this.operation=Wn,this.code=Qn,this.continueUrl=null!==(ve=dn.continueUrl)&&void 0!==ve?ve:null,this.languageCode=null!==(ft=dn.languageCode)&&void 0!==ft?ft:null,this.tenantId=null!==(Ut=dn.tenantId)&&void 0!==Ut?Ut:null}static parseLink(d){const f=function hr(_){const d=(0,g.zd)((0,g.pd)(_)).link,f=d?(0,g.zd)((0,g.pd)(d)).deep_link_id:null,D=(0,g.zd)((0,g.pd)(_)).deep_link_id;return(D?(0,g.zd)((0,g.pd)(D)).link:null)||D||f||d||_}(d);try{return new Es(f)}catch(D){return null}}}let Go=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(f,D){return er._fromEmailAndPassword(f,D)}static credentialWithLink(f,D){const W=Es.parseLink(D);return J(W,"argument-error"),er._fromEmailAndCode(f,W.code,W.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ar{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Wr extends ar{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class xr extends Wr{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return J("providerId"in f&&"signInMethod"in f,"argument-error"),Oi._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return J(d.idToken||d.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return xr.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return xr.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:D,oauthTokenSecret:W,pendingToken:ve,nonce:ft,providerId:Ut}=d;if(!D&&!W&&!f&&!ve||!Ut)return null;try{return new xr(Ut)._credential({idToken:f,accessToken:D,nonce:ft,pendingToken:ve})}catch(dn){return null}}}let Br=(()=>{class _ extends Wr{constructor(){super("facebook.com")}static credential(f){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch(D){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Fs=(()=>{class _ extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,D){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:D})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:D,oauthAccessToken:W}=f;if(!D&&!W)return null;try{return _.credential(D,W)}catch(ve){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),$o=(()=>{class _ extends Wr{constructor(){super("github.com")}static credential(f){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch(D){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Cr extends $i{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return zr(d,this.buildRequest())}_linkToIdToken(d,f){const D=this.buildRequest();return D.idToken=f,zr(d,D)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,zr(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:W,pendingToken:ve}=f;return D&&W&&ve&&D===W?new Cr(D,ve):null}static _create(d,f){return new Cr(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fr extends ar{constructor(d){J(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return fr.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return fr.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Cr.fromJSON(d);return J(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:D}=d;if(!f||!D)return null;try{return Cr._create(D,f)}catch(W){return null}}}let ws=(()=>{class _ extends Wr{constructor(){super("twitter.com")}static credential(f,D){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:D})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:D,oauthTokenSecret:W}=f;if(!D||!W)return null;try{return _.credential(D,W)}catch(ve){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ri(_,d){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:signUp",pt(_,d))})).apply(this,arguments)}class wr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,D,W=!1){return(0,h.Z)(function*(){const ve=yield Dt._fromIdTokenResponse(d,D,W),ft=Pi(D);return new wr({user:ve,providerId:ft,_tokenResponse:D,operationType:f})})()}static _forOperation(d,f,D){return(0,h.Z)(function*(){yield d._updateTokensIfNecessary(D,!0);const W=Pi(D);return new wr({user:d,providerId:W,_tokenResponse:D,operationType:f})})()}}function Pi(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ss(){return(ss=(0,h.Z)(function*(_){var d;const f=Sn(_);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new wr({user:f.currentUser,providerId:null,operationType:"signIn"});const D=yield Ri(f,{returnSecureToken:!0}),W=yield wr._fromIdTokenResponse(f,"signIn",D,!0);return yield f._updateCurrentUser(W.user),W})).apply(this,arguments)}class gr extends g.ZR{constructor(d,f,D,W){var ve;super(f.code,f.message),this.operationType=D,this.user=W,Object.setPrototypeOf(this,gr.prototype),this.customData={appName:d.name,tenantId:null!==(ve=d.tenantId)&&void 0!==ve?ve:void 0,_serverResponse:f.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(d,f,D,W){return new gr(d,f,D,W)}}function cs(_,d,f,D){return("reauthenticate"===d?f._getReauthenticationResolver(_):f._getIdTokenResponse(_)).catch(ve=>{throw"auth/multi-factor-auth-required"===ve.code?gr._fromErrorAndOperation(_,ve,d,D):ve})}function Zr(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function yi(){return(yi=(0,h.Z)(function*(_,d){const f=(0,g.m9)(_);yield L(!0,f,d);const{providerUserInfo:D}=yield cn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),W=Zr(D||[]);return f.providerData=f.providerData.filter(ve=>W.has(ve.providerId)),W.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function j(_,d){return ae.apply(this,arguments)}function ae(){return(ae=(0,h.Z)(function*(_,d,f=!1){const D=yield rn(_,d._linkToIdToken(_.auth,yield _.getIdToken()),f);return wr._forOperation(_,"link",D)})).apply(this,arguments)}function L(_,d,f){return ye.apply(this,arguments)}function ye(){return(ye=(0,h.Z)(function*(_,d,f){yield ii(d);const W=!1===_?"provider-already-linked":"no-such-provider";J(Zr(d.providerData).has(f)===_,d.auth,W)})).apply(this,arguments)}function et(_,d){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,h.Z)(function*(_,d,f=!1){var D;const{auth:W}=_,ve="reauthenticate";try{const ft=yield rn(_,cs(W,ve,d,_),f);J(ft.idToken,W,"internal-error");const Ut=gt(ft.idToken);J(Ut,W,"internal-error");const{sub:dn}=Ut;return J(_.uid===dn,W,"user-mismatch"),wr._forOperation(_,ve,ft)}catch(ft){throw"auth/user-not-found"===(null===(D=ft)||void 0===D?void 0:D.code)&&it(W,"user-mismatch"),ft}})).apply(this,arguments)}function zt(_,d){return In.apply(this,arguments)}function In(){return(In=(0,h.Z)(function*(_,d,f=!1){const D="signIn",W=yield cs(_,D,d),ve=yield wr._fromIdTokenResponse(_,D,W);return f||(yield _._updateCurrentUser(ve.user)),ve})).apply(this,arguments)}function $n(_,d){return gi.apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(_,d){return zt(Sn(_),d)})).apply(this,arguments)}function li(_,d){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(_,d){const f=(0,g.m9)(_);return yield L(!1,f,d.providerId),j(f,d)})).apply(this,arguments)}function qi(_,d){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(_,d){return et((0,g.m9)(_),d)})).apply(this,arguments)}function Wi(_,d){return G.apply(this,arguments)}function G(){return(G=(0,h.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:signInWithCustomToken",pt(_,d))})).apply(this,arguments)}function S(){return(S=(0,h.Z)(function*(_,d){const f=Sn(_),D=yield Wi(f,{token:d,returnSecureToken:!0}),W=yield wr._fromIdTokenResponse(f,"signIn",D);return yield f._updateCurrentUser(W.user),W})).apply(this,arguments)}class de{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?Bt._fromServerResponse(d,f):it(d,"internal-error")}}class Bt extends de{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new Bt(f)}}function wn(_,d,f){var D;J((null===(D=f.url)||void 0===D?void 0:D.length)>0,_,"invalid-continue-uri"),J(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(J(f.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(J(f.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function Vr(){return(Vr=(0,h.Z)(function*(_,d,f){const D=(0,g.m9)(_),W={requestType:"PASSWORD_RESET",email:d};f&&wn(D,W,f),yield ys(D,W)})).apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(_,d,f){yield Ti((0,g.m9)(_),{oobCode:d,newPassword:f})})).apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(_,d){yield _s((0,g.m9)(_),{oobCode:d})})).apply(this,arguments)}function zo(_,d){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(_,d){const f=(0,g.m9)(_),D=yield Ti(f,{oobCode:d}),W=D.requestType;switch(J(W,f,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(D.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(D.mfaInfo,f,"internal-error");default:J(D.email,f,"internal-error")}let ve=null;return D.mfaInfo&&(ve=de._fromServerResponse(Sn(f),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:ve},operation:W}})).apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(_,d){const{data:f}=yield zo((0,g.m9)(_),d);return f.email})).apply(this,arguments)}function To(){return(To=(0,h.Z)(function*(_,d,f){const D=Sn(_),W=yield Ri(D,{returnSecureToken:!0,email:d,password:f}),ve=yield wr._fromIdTokenResponse(D,"signIn",W);return yield D._updateCurrentUser(ve.user),ve})).apply(this,arguments)}function sa(){return(sa=(0,h.Z)(function*(_,d,f){const D=(0,g.m9)(_),W={requestType:"EMAIL_SIGNIN",email:d};J(f.handleCodeInApp,D,"argument-error"),f&&wn(D,W,f),yield yr(D,W)})).apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(_,d,f){const D=(0,g.m9)(_),W=Go.credentialWithLink(d,f||yt());return J(W._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),$n(D,W)})).apply(this,arguments)}function Ls(_,d){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(_,d){return Ot(_,"POST","/v1/accounts:createAuthUri",pt(_,d))})).apply(this,arguments)}function y(){return(y=(0,h.Z)(function*(_,d){const D={identifier:d,continueUri:_t()?yt():"http://localhost"},{signinMethods:W}=yield Ls((0,g.m9)(_),D);return W||[]})).apply(this,arguments)}function N(){return(N=(0,h.Z)(function*(_,d){const f=(0,g.m9)(_),W={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&wn(f.auth,W,d);const{email:ve}=yield fi(f.auth,W);ve!==_.email&&(yield _.reload())})).apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*(_,d,f){const D=(0,g.m9)(_),ve={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};f&&wn(D.auth,ve,f);const{email:ft}=yield zs(D.auth,ve);ft!==_.email&&(yield _.reload())})).apply(this,arguments)}function rt(_,d){return ot.apply(this,arguments)}function ot(){return(ot=(0,h.Z)(function*(_,d){return Ot(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Wt(){return(Wt=(0,h.Z)(function*(_,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const D=(0,g.m9)(_),ve={idToken:yield D.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},ft=yield rn(D,rt(D.auth,ve));D.displayName=ft.displayName||null,D.photoURL=ft.photoUrl||null;const Ut=D.providerData.find(({providerId:dn})=>"password"===dn);Ut&&(Ut.displayName=D.displayName,Ut.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ft)})).apply(this,arguments)}function zn(_,d,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(_,d,f){const{auth:D}=_,ve={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(ve.email=d),f&&(ve.password=f);const ft=yield rn(_,kr(D,ve));yield _._updateTokensIfNecessary(ft,!0)})).apply(this,arguments)}class Zn{constructor(d,f,D={}){this.isNewUser=d,this.providerId=f,this.profile=D}}class ki extends Zn{constructor(d,f,D,W){super(d,f,D),this.username=W}}class tr extends Zn{constructor(d,f){super(d,"facebook.com",f)}}class ir extends ki{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Ur extends Zn{constructor(d,f){super(d,"google.com",f)}}class wi extends ki{constructor(d,f,D){super(d,"twitter.com",f,D)}}function Or(_){const{user:d,_tokenResponse:f}=_;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function kn(_){var d,f;if(!_)return null;const{providerId:D}=_,W=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},ve=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!D&&(null==_?void 0:_.idToken)){const ft=null===(f=null===(d=gt(_.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(ft)return new Zn(ve,"anonymous"!==ft&&"custom"!==ft?ft:null)}if(!D)return null;switch(D){case"facebook.com":return new tr(ve,W);case"github.com":return new ir(ve,W);case"google.com":return new Ur(ve,W);case"twitter.com":return new wi(ve,W,_.screenName||null);case"custom":case"anonymous":return new Zn(ve,null);default:return new Zn(ve,D,W)}}(f)}class hs{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new hs("enroll",d)}static _fromMfaPendingCredential(d){return new hs("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,D;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return hs._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(D=d.multiFactorSession)||void 0===D?void 0:D.idToken)return hs._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Mn{constructor(d,f,D){this.session=d,this.hints=f,this.signInResolver=D}static _fromError(d,f){const D=Sn(d),W=f.customData._serverResponse,ve=(W.mfaInfo||[]).map(Ut=>de._fromServerResponse(D,Ut));J(W.mfaPendingCredential,D,"internal-error");const ft=hs._fromMfaPendingCredential(W.mfaPendingCredential);return new Mn(ft,ve,function(){var Ut=(0,h.Z)(function*(dn){const An=yield dn._process(D,ft);delete W.mfaInfo,delete W.mfaPendingCredential;const Qn=Object.assign(Object.assign({},W),{idToken:An.idToken,refreshToken:An.refreshToken});switch(f.operationType){case"signIn":const Wn=yield wr._fromIdTokenResponse(D,f.operationType,Qn);return yield D._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return J(f.user,D,"internal-error"),wr._forOperation(f.user,f.operationType,Qn);default:it(D,"internal-error")}});return function(dn){return Ut.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,h.Z)(function*(){return f.signInResolver(d)})()}}function Kn(_,d){return Ot(_,"POST","/v2/accounts/mfaEnrollment:start",pt(_,d))}class Ts{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(D=>de._fromServerResponse(d.auth,D)))})}static _fromUser(d){return new Ts(d)}getSession(){var d=this;return(0,h.Z)(function*(){return hs._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var D=this;return(0,h.Z)(function*(){const W=d,ve=yield D.getSession(),ft=yield rn(D.user,W._process(D.user.auth,ve,f));return yield D.user._updateTokensIfNecessary(ft),D.user.reload()})()}unenroll(d){var f=this;return(0,h.Z)(function*(){var D;const W="string"==typeof d?d:d.uid,ve=yield f.user.getIdToken(),ft=yield rn(f.user,function Ui(_,d){return Ot(_,"POST","/v2/accounts/mfaEnrollment:withdraw",pt(_,d))}(f.user.auth,{idToken:ve,mfaEnrollmentId:W}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Ut})=>Ut!==W),yield f.user._updateTokensIfNecessary(ft);try{yield f.user.reload()}catch(Ut){if("auth/user-token-expired"!==(null===(D=Ut)||void 0===D?void 0:D.code))throw Ut}})()}}const rr=new WeakMap,Ni="__sak";class Zo{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Ni,"1"),this.storage.removeItem(Ni),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ms=(()=>{class _ extends Zo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,D)=>this.onStorageEvent(f,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fs(){const _=(0,g.z$)();return ut(_)||Me(_)}()&&function xn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=hn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const D of Object.keys(this.listeners)){const W=this.storage.getItem(D),ve=this.localCache[D];W!==ve&&f(D,ve,W)}}onStorageEvent(f,D=!1){if(!f.key)return void this.forAllChangedKeys((Ut,dn,An)=>{this.notifyListeners(Ut,An)});const W=f.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ut=this.storage.getItem(W);if(f.newValue!==Ut)null!==f.newValue?this.storage.setItem(W,f.newValue):this.storage.removeItem(W);else if(this.localCache[W]===f.newValue&&!D)return}const ve=()=>{const Ut=this.storage.getItem(W);!D&&this.localCache[W]===Ut||this.notifyListeners(W,Ut)},ft=this.storage.getItem(W);!function Kt(){return(0,g.w1)()&&10===document.documentMode}()||ft===f.newValue||f.newValue===f.oldValue?ve():setTimeout(ve,10)}notifyListeners(f,D){this.localCache[f]=D;const W=this.listeners[f];if(W)for(const ve of Array.from(W))ve(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,D,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:D,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,D){var W=()=>super._set,ve=this;return(0,h.Z)(function*(){yield W().call(ve,f,D),ve.localCache[f]=JSON.stringify(D)})()}_get(f){var D=()=>super._get,W=this;return(0,h.Z)(function*(){const ve=yield D().call(W,f);return W.localCache[f]=JSON.stringify(ve),ve})()}_remove(f){var D=()=>super._remove,W=this;return(0,h.Z)(function*(){yield D().call(W,f),delete W.localCache[f]})()}}return _.type="LOCAL",_})(),Vs=(()=>{class _ extends Zo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,D){}_removeListener(f,D){}}return _.type="SESSION",_})();let Ha=(()=>{class _{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const D=this.receivers.find(ve=>ve.isListeningto(f));if(D)return D;const W=new _(f);return this.receivers.push(W),W}isListeningto(f){return this.eventTarget===f}handleEvent(f){var D=this;return(0,h.Z)(function*(){const W=f,{eventId:ve,eventType:ft,data:Ut}=W.data,dn=D.handlersMap[ft];if(!(null==dn?void 0:dn.size))return;W.ports[0].postMessage({status:"ack",eventId:ve,eventType:ft});const An=Array.from(dn).map(function(){var Wn=(0,h.Z)(function*(Jr){return Jr(W.origin,Ut)});return function(Jr){return Wn.apply(this,arguments)}}()),Qn=yield function ul(_){return Promise.all(_.map(function(){var d=(0,h.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(D){return{fulfilled:!1,reason:D}}});return function(f){return d.apply(this,arguments)}}()))}(An);W.ports[0].postMessage({status:"done",eventId:ve,eventType:ft,response:Qn})})()}_subscribe(f,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(D)}_unsubscribe(f,D){this.handlersMap[f]&&D&&this.handlersMap[f].delete(D),(!D||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function so(_="",d=10){let f="";for(let D=0;D<d;D++)f+=Math.floor(10*Math.random());return _+f}class dl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,D=50){var W=this;return(0,h.Z)(function*(){const ve="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ve)throw new Error("connection_unavailable");let ft,Ut;return new Promise((dn,An)=>{const Qn=so("",20);ve.port1.start();const Wn=setTimeout(()=>{An(new Error("unsupported_event"))},D);Ut={messageChannel:ve,onMessage(Jr){const bo=Jr;if(bo.data.eventId===Qn)switch(bo.data.status){case"ack":clearTimeout(Wn),ft=setTimeout(()=>{An(new Error("timeout"))},3e3);break;case"done":clearTimeout(ft),dn(bo.data.response);break;default:clearTimeout(Wn),clearTimeout(ft),An(new Error("invalid_response"))}}},W.handlers.add(Ut),ve.port1.addEventListener("message",Ut.onMessage),W.target.postMessage({eventType:d,eventId:Qn,data:f},[ve.port2])}).finally(()=>{Ut&&W.removeMessageHandler(Ut)})})()}}function Xi(){return window}function oa(){return void 0!==Xi().WorkerGlobalScope&&"function"==typeof Xi().importScripts}function I(){return(I=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const K="firebaseLocalStorageDb",Be="firebaseLocalStorage",ct="fbase_key";class jt{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ht(_,d){return _.transaction([Be],d?"readwrite":"readonly").objectStore(Be)}function Ln(){const _=indexedDB.open(K,1);return new Promise((d,f)=>{_.addEventListener("error",()=>{f(_.error)}),_.addEventListener("upgradeneeded",()=>{const D=_.result;try{D.createObjectStore(Be,{keyPath:ct})}catch(W){f(W)}}),_.addEventListener("success",(0,h.Z)(function*(){const D=_.result;D.objectStoreNames.contains(Be)?d(D):(D.close(),yield function un(){const _=indexedDB.deleteDatabase(K);return new jt(_).toPromise()}(),d(yield Ln()))}))})}function en(_,d,f){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(_,d,f){const D=Ht(_,!0).put({[ct]:d,value:f});return new jt(D).toPromise()})).apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(_,d){const f=Ht(_,!1).get(d),D=yield new jt(f).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ma(_,d){const f=Ht(_,!0).delete(d);return new jt(f).toPromise()}const Ta=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,h.Z)(function*(){return f.db||(f.db=yield Ln()),f.db})()}_withRetries(f){var D=this;return(0,h.Z)(function*(){let W=0;for(;;)try{const ve=yield D._openDb();return yield f(ve)}catch(ve){if(W++>3)throw ve;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,h.Z)(function*(){return oa()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,h.Z)(function*(){f.receiver=Ha._getInstance(function H(){return oa()?self:null}()),f.receiver._subscribe("keyChanged",function(){var D=(0,h.Z)(function*(W,ve){return{keyProcessed:(yield f._poll()).includes(ve.key)}});return function(W,ve){return D.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var D=(0,h.Z)(function*(W,ve){return["keyChanged"]});return function(W,ve){return D.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,h.Z)(function*(){var D,W;if(f.activeServiceWorker=yield function A(){return I.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new dl(f.activeServiceWorker);const ve=yield f.sender._send("ping",{},800);!ve||(null===(D=ve[0])||void 0===D?void 0:D.fulfilled)&&(null===(W=ve[0])||void 0===W?void 0:W.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var D=this;return(0,h.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function C(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:f},D.serviceWorkerReceiverAvailable?800:50)}catch(W){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Ln();return yield en(f,Ni,"1"),yield ma(f,Ni),!0}catch(f){}return!1})()}_withPendingWrite(f){var D=this;return(0,h.Z)(function*(){D.pendingWrites++;try{yield f()}finally{D.pendingWrites--}})()}_set(f,D){var W=this;return(0,h.Z)(function*(){return W._withPendingWrite((0,h.Z)(function*(){return yield W._withRetries(ve=>en(ve,f,D)),W.localCache[f]=D,W.notifyServiceWorker(f)}))})()}_get(f){var D=this;return(0,h.Z)(function*(){const W=yield D._withRetries(ve=>function Qt(_,d){return Ji.apply(this,arguments)}(ve,f));return D.localCache[f]=W,W})()}_remove(f){var D=this;return(0,h.Z)(function*(){return D._withPendingWrite((0,h.Z)(function*(){return yield D._withRetries(W=>ma(W,f)),delete D.localCache[f],D.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,h.Z)(function*(){const D=yield f._withRetries(ft=>{const Ut=Ht(ft,!1).getAll();return new jt(Ut).toPromise()});if(!D)return[];if(0!==f.pendingWrites)return[];const W=[],ve=new Set;for(const{fbase_key:ft,value:Ut}of D)ve.add(ft),JSON.stringify(f.localCache[ft])!==JSON.stringify(Ut)&&(f.notifyListeners(ft,Ut),W.push(ft));for(const ft of Object.keys(f.localCache))f.localCache[ft]&&!ve.has(ft)&&(f.notifyListeners(ft,null),W.push(ft));return W})()}notifyListeners(f,D){this.localCache[f]=D;const W=this.listeners[f];if(W)for(const ve of Array.from(W))ve(D)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Fl(_,d){return Ot(_,"POST","/v2/accounts/mfaSignIn:start",pt(_,d))}function hl(){return(hl=(0,h.Z)(function*(_){return(yield Ot(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oo(_){return new Promise((d,f)=>{const D=document.createElement("script");D.setAttribute("src",_),D.onload=d,D.onerror=W=>{const ve=be("internal-error");ve.customData=W,f(ve)},D.type="text/javascript",D.charset="UTF-8",function Ll(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(D)})}function Jn(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Zi=1e12;class Yn{constructor(d){this.auth=d,this.counter=Zi,this._widgets=new Map}render(d,f){const D=this.counter;return this._widgets.set(D,new Bl(d,this.auth.name,f||{})),this.counter++,D}reset(d){var f;const D=d||Zi;null===(f=this._widgets.get(D))||void 0===f||f.delete(),this._widgets.delete(D)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Zi))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,h.Z)(function*(){var D;return null===(D=f._widgets.get(d||Zi))||void 0===D||D.execute(),""})()}}class Bl{constructor(d,f,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof d?document.getElementById(d):d;J(W,"argument-error",{appName:f}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ji(_){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<_;D++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Tr=Jn("rcb"),Mr=new Ee(3e4,6e4);class fl{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(d=Xi().grecaptcha)||void 0===d?void 0:d.render)}load(d,f=""){return J(function Gu(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Xi().grecaptcha):new Promise((D,W)=>{const ve=Xi().setTimeout(()=>{W(be(d,"network-request-failed"))},Mr.get());Xi()[Tr]=()=>{Xi().clearTimeout(ve),delete Xi()[Tr];const Ut=Xi().grecaptcha;if(!Ut)return void W(be(d,"internal-error"));const dn=Ut.render;Ut.render=(An,Qn)=>{const Wn=dn(An,Qn);return this.counter++,Wn},this.hostLanguage=f,D(Ut)},Oo(`https://www.google.com/recaptcha/api.js??${(0,g.xO)({onload:Tr,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(ve),W(be(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!!(null===(f=Xi().grecaptcha)||void 0===f?void 0:f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pl{load(d){return(0,h.Z)(function*(){return new Yn(d)})()}clearedOneInstance(){}}const oh="recaptcha",ru={theme:"light",type:"image"};class Vl{constructor(d,f=Object.assign({},ru),D){this.parameters=f,this.type=oh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(D),this.isInvisible="invisible"===this.parameters.size,J("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof d?document.getElementById(d):d;J(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pl:new fl,this.validateStartingState()}verify(){var d=this;return(0,h.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),D=d.getAssertedRecaptcha();return D.getResponse(f)||new Promise(ve=>{const ft=Ut=>{!Ut||(d.tokenChangeListeners.delete(ft),ve(Ut))};d.tokenChangeListeners.add(ft),d.isInvisible&&D.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(D=>D(f)),"function"==typeof d)d(f);else if("string"==typeof d){const D=Xi()[d];"function"==typeof D&&D(f)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,h.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const D=document.createElement("div");f.appendChild(D),f=D}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,h.Z)(function*(){J(_t()&&!oa(),d.auth,"internal-error"),yield function Ul(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function Yo(_){return hl.apply(this,arguments)}(d.auth);J(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rr{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=is._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function jr(){return(jr=(0,h.Z)(function*(_,d,f){const D=Sn(_),W=yield Sa(D,d,(0,g.m9)(f));return new Rr(W,ve=>$n(D,ve))})).apply(this,arguments)}function jl(){return(jl=(0,h.Z)(function*(_,d,f){const D=(0,g.m9)(_);yield L(!1,D,"phone");const W=yield Sa(D.auth,d,(0,g.m9)(f));return new Rr(W,ve=>li(D,ve))})).apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(_,d,f){const D=(0,g.m9)(_),W=yield Sa(D.auth,d,(0,g.m9)(f));return new Rr(W,ve=>qi(D,ve))})).apply(this,arguments)}function Sa(_,d,f){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(_,d,f){var D;const W=yield f.verify();try{let ve;if(J("string"==typeof W,_,"argument-error"),J(f.type===oh,_,"argument-error"),ve="string"==typeof d?{phoneNumber:d}:d,"session"in ve){const ft=ve.session;if("phoneNumber"in ve)return J("enroll"===ft.type,_,"internal-error"),(yield Kn(_,{idToken:ft.credential,phoneEnrollmentInfo:{phoneNumber:ve.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{J("signin"===ft.type,_,"internal-error");const Ut=(null===(D=ve.multiFactorHint)||void 0===D?void 0:D.uid)||ve.multiFactorUid;return J(Ut,_,"missing-multi-factor-info"),(yield Fl(_,{mfaPendingCredential:ft.credential,mfaEnrollmentId:Ut,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ft}=yield eo(_,{phoneNumber:ve.phoneNumber,recaptchaToken:W});return ft}}finally{f._reset()}})).apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(_,d){yield j((0,g.m9)(_),d)})).apply(this,arguments)}let gl=(()=>{class _{constructor(f){this.providerId=_.PROVIDER_ID,this.auth=Sn(f)}verifyPhoneNumber(f,D){return Sa(this.auth,f,(0,g.m9)(D))}static credential(f,D){return is._fromVerification(f,D)}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:D,temporaryProof:W}=f;return D&&W?is._fromTokenResponse(D,W):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Po(_,d){return d?te(d):(J(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class aa extends $i{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return zr(d,this._buildIdpRequest())}_linkToIdToken(d,f){return zr(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return zr(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function ah(_){return zt(_.auth,new aa(_),_.bypassAuthState)}function qo(_){const{auth:d,user:f}=_;return J(f,d,"internal-error"),et(f,new aa(_),_.bypassAuthState)}function Ss(_){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(_){const{auth:d,user:f}=_;return J(f,d,"internal-error"),j(f,new aa(_),_.bypassAuthState)})).apply(this,arguments)}class ca{constructor(d,f,D,W,ve=!1){this.auth=d,this.resolver=D,this.user=W,this.bypassAuthState=ve,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,h.Z)(function*(D,W){d.pendingPromise={resolve:D,reject:W};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ve){d.reject(ve)}});return function(D,W){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,h.Z)(function*(){const{urlResponse:D,sessionId:W,postBody:ve,tenantId:ft,error:Ut,type:dn}=d;if(Ut)return void f.reject(Ut);const An={auth:f.auth,requestUri:D,sessionId:W,tenantId:ft||void 0,postBody:ve||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(dn)(An))}catch(Qn){f.reject(Qn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ah;case"linkViaPopup":case"linkViaRedirect":return Ss;case"reauthViaPopup":case"reauthViaRedirect":return qo;default:it(this.auth,"internal-error")}}resolve(d){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ou=new Ee(2e3,1e4);function Ga(){return(Ga=(0,h.Z)(function*(_,d,f){const D=Sn(_);Se(_,d,ar);const W=Po(D,f);return new Hr(D,"signInViaPopup",d,W).executeNotNull()})).apply(this,arguments)}function yc(){return(yc=(0,h.Z)(function*(_,d,f){const D=(0,g.m9)(_);Se(D.auth,d,ar);const W=Po(D.auth,f);return new Hr(D.auth,"reauthViaPopup",d,W,D).executeNotNull()})).apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(_,d,f){const D=(0,g.m9)(_);Se(D.auth,d,ar);const W=Po(D.auth,f);return new Hr(D.auth,"linkViaPopup",d,W,D).executeNotNull()})).apply(this,arguments)}let Hr=(()=>{class _ extends ca{constructor(f,D,W,ve,ft){super(f,D,ve,ft),this.provider=W,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var f=this;return(0,h.Z)(function*(){const D=yield f.execute();return J(D,f.auth,"internal-error"),D})()}onExecution(){var f=this;return(0,h.Z)(function*(){se(1===f.filter.length,"Popup operations only handle one event");const D=so();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],D),f.authWindow.associatedEvent=D,f.resolver._originValidation(f.auth).catch(W=>{f.reject(W)}),f.resolver._isIframeWebStorageSupported(f.auth,W=>{W||f.reject(be(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const f=()=>{var D,W;this.pollId=(null===(W=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===W?void 0:W.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,ou.get())};f()}}return _.currentPopupAction=null,_})();const Qo=new Map;class _l extends ca{constructor(d,f,D=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,D),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,h.Z)(function*(){let D=Qo.get(f.auth._key());if(!D){try{const ve=(yield function ms(_,d){return ko.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;D=()=>Promise.resolve(ve)}catch(W){D=()=>Promise.reject(W)}Qo.set(f.auth._key(),D)}return f.bypassAuthState||Qo.set(f.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,D=this;return(0,h.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(D,d);if("unknown"!==d.type){if(d.eventId){const W=yield D.auth._redirectUserForId(d.eventId);if(W)return D.user=W,f().call(D,d);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ko(){return(ko=(0,h.Z)(function*(_,d){const f=Hl(d),D=Xo(_);if(!(yield D._isAvailable()))return!1;const W="true"===(yield D._get(f));return yield D._remove(f),W})).apply(this,arguments)}function vr(_,d){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(_,d){return Xo(_)._set(Hl(d),"true")})).apply(this,arguments)}function Dr(_,d){Qo.set(_._key(),d)}function Xo(_){return te(_._redirectPersistence)}function Hl(_){return Xn("pendingRedirect",_.config.apiKey,_.name)}function k(){return(k=(0,h.Z)(function*(_,d,f){const D=Sn(_);Se(_,d,ar);const W=Po(D,f);return yield vr(W,D),W._openRedirect(D,d,"signInViaRedirect")})).apply(this,arguments)}function Ye(){return(Ye=(0,h.Z)(function*(_,d,f){const D=(0,g.m9)(_);Se(D.auth,d,ar);const W=Po(D.auth,f);yield vr(W,D.auth);const ve=yield qn(D);return W._openRedirect(D.auth,d,"reauthViaRedirect",ve)})).apply(this,arguments)}function tn(){return(tn=(0,h.Z)(function*(_,d,f){const D=(0,g.m9)(_);Se(D.auth,d,ar);const W=Po(D.auth,f);yield L(!1,D,d.providerId),yield vr(W,D.auth);const ve=yield qn(D);return W._openRedirect(D.auth,d,"linkViaRedirect",ve)})).apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(_,d){return yield Sn(_)._initializationPromise,ei(_,d,!1)})).apply(this,arguments)}function ei(_,d){return ti.apply(this,arguments)}function ti(){return(ti=(0,h.Z)(function*(_,d,f=!1){const D=Sn(_),W=Po(D,d),ft=yield new _l(D,W,f).execute();return ft&&!f&&(delete ft.user._redirectEventId,yield D._persistUserIfCurrent(ft.user),yield D._setRedirectUser(null,d)),ft})).apply(this,arguments)}function qn(_){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(_){const d=so(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class yo{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(d,D)&&(f=!0,this.sendToConsumer(d,D),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function vc(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ys(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var D;if(d.error&&!Ys(d)){const W=(null===(D=d.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";f.onError(be(this.auth,W))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const D=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&D}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(d))}saveEventToCache(d){this.cachedEventUids.add(Jo(d)),this.lastProcessedEventTime=Date.now()}}function Jo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function Ys({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===(null==d?void 0:d.code)}function vl(_){return ea.apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(_,d={}){return Ot(_,"GET","/v1/projects",d)})).apply(this,arguments)}const As=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,No=/^https?/;function lh(){return(lh=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield vl(_);for(const f of d)try{if($u(f))return}catch(D){}it(_,"unauthorized-domain")})).apply(this,arguments)}function $u(_){const d=yt(),{protocol:f,hostname:D}=new URL(d);if(_.startsWith("chrome-extension://")){const ft=new URL(_);return""===ft.hostname&&""===D?"chrome-extension:"===f&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&ft.hostname===D}if(!No.test(f))return!1;if(As.test(_))return D===_;const W=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(D)}const ch=new Ee(3e4,6e4);function js(){const _=Xi().___jsl;if(null==_?void 0:_.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let f=0;f<_.CP.length;f++)_.CP[f]=null}let cr=null;function lp(_){return cr=cr||function uh(_){return new Promise((d,f)=>{var D,W,ve;function ft(){js(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{js(),f(be(_,"network-request-failed"))},timeout:ch.get()})}if(null===(W=null===(D=Xi().gapi)||void 0===D?void 0:D.iframes)||void 0===W?void 0:W.Iframe)d(gapi.iframes.getContext());else{if(!(null===(ve=Xi().gapi)||void 0===ve?void 0:ve.load)){const Ut=Jn("iframefcb");return Xi()[Ut]=()=>{gapi.load?ft():f(be(_,"network-request-failed"))},Oo(`https://apis.google.com/js/api.js?onload=${Ut}`).catch(dn=>f(dn))}ft()}}).catch(d=>{throw cr=null,d})}(_),cr}const bc=new Ee(5e3,15e3),Ec={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zu(_){const d=_.config;J(d.authDomain,_,"auth-domain-config-required");const f=d.emulator?Ge(d,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,D={apiKey:d.apiKey,appName:_.name,v:$.SDK_VERSION},W=lu.get(_.config.apiHost);W&&(D.eid=W);const ve=_._getFrameworks();return ve.length&&(D.fw=ve.join(",")),`${f}?${(0,g.xO)(D).slice(1)}`}function $l(){return $l=(0,h.Z)(function*(_){const d=yield lp(_),f=Xi().gapi;return J(f,_,"internal-error"),d.open({where:document.body,url:zu(_),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ec,dontclear:!0},D=>new Promise(function(){var W=(0,h.Z)(function*(ve,ft){yield D.restyle({setHideOnLeave:!1});const Ut=be(_,"network-request-failed"),dn=Xi().setTimeout(()=>{ft(Ut)},bc.get());function An(){Xi().clearTimeout(dn),ve(D)}D.ping(An).then(An,()=>{ft(Ut)})});return function(ve,ft){return W.apply(this,arguments)}}()))}),$l.apply(this,arguments)}const xs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ph{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Fo(_,d,f,D,W,ve){J(_.config.authDomain,_,"auth-domain-config-required"),J(_.config.apiKey,_,"invalid-api-key");const ft={apiKey:_.config.apiKey,appName:_.name,authType:f,redirectUrl:D,v:$.SDK_VERSION,eventId:W};if(d instanceof ar){d.setDefaultLanguage(_.languageCode),ft.providerId=d.providerId||"",(0,g.xb)(d.getCustomParameters())||(ft.customParameters=JSON.stringify(d.getCustomParameters()));for(const[dn,An]of Object.entries(ve||{}))ft[dn]=An}if(d instanceof Wr){const dn=d.getScopes().filter(An=>""!==An);dn.length>0&&(ft.scopes=dn.join(","))}_.tenantId&&(ft.tid=_.tenantId);const Ut=ft;for(const dn of Object.keys(Ut))void 0===Ut[dn]&&delete Ut[dn];return`${function mh({config:_}){return _.emulator?Ge(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,g.xO)(Ut).slice(1)}`}const cu="webStorageSupport";class Ka extends class _h{constructor(d){this.factorId=d}_process(d,f,D){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,D);case"signin":return this._finalizeSignIn(d,f.credential);default:return Qe("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Ka(d)}_finalizeEnroll(d,f,D){return function ui(_,d){return Ot(_,"POST","/v2/accounts/mfaEnrollment:finalize",pt(_,d))}(d,{idToken:f,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function Ma(_,d){return Ot(_,"POST","/v2/accounts/mfaSignIn:finalize",pt(_,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wu=(()=>{class _{constructor(){}static assertion(f){return Ka._fromCredential(f)}}return _.FACTOR_ID="phone",_})();var uu="@firebase/auth";class Ku{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,h.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(D=>{var W;d((null===(W=D)||void 0===W?void 0:W.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ao(){return window}function Ra(){return(Ra=(0,h.Z)(function*(_,d,f){var D;const{BuildInfo:W}=ao();se(d.sessionId,"AuthEvent did not contain a session ID");const ve=yield Wl(d.sessionId),ft={};return Me()?ft.ibi=W.packageName:Gt()?ft.apn=W.packageName:it(_,"operation-not-supported-in-this-environment"),W.displayName&&(ft.appDisplayName=W.displayName),ft.sessionId=ve,Fo(_,f,d.type,void 0,null!==(D=d.eventId)&&void 0!==D?D:void 0,ft)})).apply(this,arguments)}function wc(){return(wc=(0,h.Z)(function*(_){const{BuildInfo:d}=ao(),f={};Me()?f.iosBundleId=d.packageName:Gt()?f.androidPackageName=d.packageName:it(_,"operation-not-supported-in-this-environment"),yield vl(_,f)})).apply(this,arguments)}function Qu(){return(Qu=(0,h.Z)(function*(_,d,f){const{cordova:D}=ao();let W=()=>{};try{yield new Promise((ve,ft)=>{let Ut=null;function dn(){var Wn;ve();const Jr=null===(Wn=D.plugins.browsertab)||void 0===Wn?void 0:Wn.close;"function"==typeof Jr&&Jr(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function An(){Ut||(Ut=window.setTimeout(()=>{ft(be(_,"redirect-cancelled-by-user"))},2e3))}function Qn(){"visible"===(null==document?void 0:document.visibilityState)&&An()}d.addPassiveListener(dn),document.addEventListener("resume",An,!1),Gt()&&document.addEventListener("visibilitychange",Qn,!1),W=()=>{d.removePassiveListener(dn),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",Qn,!1),Ut&&window.clearTimeout(Ut)}})}finally{W()}})).apply(this,arguments)}function Wl(_){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,h.Z)(function*(_){const d=Xu(_),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(W=>W.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xu(_){if(se(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),f=new Uint8Array(d);for(let D=0;D<_.length;D++)f[D]=_.charCodeAt(D);return f}!function Lo(_){(0,$._registerComponent)(new Pe.wA("auth",(d,{options:f})=>{const D=d.getProvider("app").getImmediate(),W=d.getProvider("heartbeat"),{apiKey:ve,authDomain:ft}=D.options;return((Ut,dn)=>{J(ve&&!ve.includes(":"),"invalid-api-key",{appName:Ut.name}),J(!(null==ft?void 0:ft.includes(":")),"argument-error",{appName:Ut.name});const An={apiKey:ve,authDomain:ft,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nn(_)},Qn=new Xt(Ut,dn,An);return function We(_,d){const f=(null==d?void 0:d.persistence)||[],D=(Array.isArray(f)?f:[f]).map(te);(null==d?void 0:d.errorMap)&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(D,null==d?void 0:d.popupRedirectResolver)}(Qn,f),Qn})(D,W)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,D)=>{d.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Pe.wA("auth-internal",d=>{const f=Sn(d.getProvider("auth").getImmediate());return new Ku(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(uu,"0.20.6",function zl(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,$.registerVersion)(uu,"0.20.6","esm2017")}("Browser");class Ic extends yo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,h.Z)(function*(){yield d.initPromise})()}}function Ya(_){return hu.apply(this,arguments)}function hu(){return(hu=(0,h.Z)(function*(_){const d=yield El()._get(qa(_));return d&&(yield El()._remove(qa(_))),d})).apply(this,arguments)}function Ju(){const _=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const D=Math.floor(Math.random()*d.length);_.push(d.charAt(D))}return _.join("")}function El(){return te(Ms)}function qa(_){return Xn("authEvent",_.config.apiKey,_.name)}function mi(_){if(!(null==_?void 0:_.includes("?")))return{};const[d,...f]=_.split("?");return(0,g.zd)(f.join("?"))}function td(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Bo(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Eh(_=(0,g.z$)()){return!("file:"!==Bo()&&"ionic:"!==Bo()&&"capacitor:"!==Bo()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gr(){try{const _=self.localStorage,d=so();if(_)return _.setItem(d,"1"),_.removeItem(d),!function Ch(_=(0,g.z$)()){return function as(){return(0,g.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Sc(_=(0,g.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,g.hl)()}catch(_){return ri()&&(0,g.hl)()}return!1}function ri(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qa(){return(function _p(){return"http:"===Bo()||"https:"===Bo()}()||(0,g.ru)()||Eh())&&!function Yl(){return(0,g.b$)()||(0,g.UG)()}()&&Gr()&&!ri()}function Ac(){return Eh()&&"undefined"!=typeof document}function nd(){return(nd=(0,h.Z)(function*(){return!!Ac()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})})).apply(this,arguments)}const vo={LOCAL:"local",NONE:"none",SESSION:"session"},ya=J,id="persistence";function mu(_){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,h.Z)(function*(_){yield _._initializationPromise;const d=wh(),f=Xn(id,_.config.apiKey,_.name);d&&d.setItem(f,_._getPersistence())})).apply(this,arguments)}function wh(){var _;try{return(null===(_=function lo(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(d){return null}}const Ei=J;class va{constructor(){this.browserResolver=te(class gh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vs,this._completeRedirectFn=ei,this._overrideRedirectResult=Dr}_openPopup(d,f,D,W){var ve=this;return(0,h.Z)(function*(){var ft;se(null===(ft=ve.eventManagers[d._key()])||void 0===ft?void 0:ft.manager,"_initialize() not called before _openPopup()");const Ut=Fo(d,f,D,yt(),W);return function cp(_,d,f,D=500,W=600){const ve=Math.max((window.screen.availHeight-W)/2,0).toString(),ft=Math.max((window.screen.availWidth-D)/2,0).toString();let Ut="";const dn=Object.assign(Object.assign({},xs),{width:D.toString(),height:W.toString(),top:ve,left:ft}),An=(0,g.z$)().toLowerCase();f&&(Ut=Ke(An)?"_blank":f),Ct(An)&&(d=d||"http://localhost",dn.scrollbars="yes");const Qn=Object.entries(dn).reduce((Jr,[bo,ql])=>`${Jr}${bo}=${ql},`,"");if(function Ft(_=(0,g.z$)()){var d;return Me(_)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(An)&&"_self"!==Ut)return function up(_,d){const f=document.createElement("a");f.href=_,f.target=d;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(D)}(d||"",Ut),new ph(null);const Wn=window.open(d||"",Ut,Qn);J(Wn,_,"popup-blocked");try{Wn.focus()}catch(Jr){}return new ph(Wn)}(d,Ut,so())})()}_openRedirect(d,f,D,W){var ve=this;return(0,h.Z)(function*(){return yield ve._originValidation(d),function Ia(_){Xi().location.href=_}(Fo(d,f,D,yt(),W)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:W,promise:ve}=this.eventManagers[f];return W?Promise.resolve(W):(se(ve,"If manager is not set, promise should be"),ve)}const D=this.initAndGetManager(d);return this.eventManagers[f]={promise:D},D.catch(()=>{delete this.eventManagers[f]}),D}initAndGetManager(d){var f=this;return(0,h.Z)(function*(){const D=yield function Cc(_){return $l.apply(this,arguments)}(d),W=new yo(d);return D.register("authEvent",ve=>(J(null==ve?void 0:ve.authEvent,d,"invalid-auth-event"),{status:W.onEvent(ve.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:W},f.iframes[d._key()]=D,W})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(cu,{type:cu},W=>{var ve;const ft=null===(ve=null==W?void 0:W[0])||void 0===ve?void 0:ve[cu];void 0!==ft&&f(!!ft),it(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function au(_){return lh.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return hn()||ut()||Me()}}),this.cordovaResolver=te(class fu{constructor(){this._redirectPersistence=Vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ei,this._overrideRedirectResult=Dr}_initialize(d){var f=this;return(0,h.Z)(function*(){const D=d._key();let W=f.eventManagers.get(D);return W||(W=new Ic(d),f.eventManagers.set(D,W),f.attachCallbackListeners(d,W)),W})()}_openPopup(d){it(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,D,W){var ve=this;return(0,h.Z)(function*(){!function fp(_){var d,f,D,W,ve,ft,Ut,dn,An,Qn;const Wn=ao();J("function"==typeof(null===(d=null==Wn?void 0:Wn.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(void 0!==(null===(f=null==Wn?void 0:Wn.BuildInfo)||void 0===f?void 0:f.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(ve=null===(W=null===(D=null==Wn?void 0:Wn.cordova)||void 0===D?void 0:D.plugins)||void 0===W?void 0:W.browsertab)||void 0===ve?void 0:ve.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(dn=null===(Ut=null===(ft=null==Wn?void 0:Wn.cordova)||void 0===ft?void 0:ft.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===dn?void 0:dn.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Qn=null===(An=null==Wn?void 0:Wn.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===Qn?void 0:Qn.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const ft=yield ve._initialize(d);yield ft.initialized(),ft.resetRedirect(),function xa(){Qo.clear()}(),yield ve._originValidation(d);const Ut=function Za(_,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:Ju(),postBody:null,tenantId:_.tenantId,error:be(_,"no-auth-event")}}(d,D,W);yield function vh(_,d){return El()._set(qa(_),d)}(d,Ut);const dn=yield function ta(_,d,f){return Ra.apply(this,arguments)}(d,Ut,f),An=yield function yh(_){const{cordova:d}=ao();return new Promise(f=>{d.plugins.browsertab.isAvailable(D=>{let W=null;D?d.plugins.browsertab.openUrl(_):W=d.InAppBrowser.open(_,function lt(_=(0,g.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),f(W)})})}(dn);return function hp(_,d,f){return Qu.apply(this,arguments)}(d,ft,An)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function qu(_){return wc.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:D,handleOpenURL:W,BuildInfo:ve}=ao(),ft=setTimeout((0,h.Z)(function*(){yield Ya(d),f.onEvent(td())}),500),Ut=function(){var Qn=(0,h.Z)(function*(Wn){clearTimeout(ft);const Jr=yield Ya(d);let bo=null;Jr&&(null==Wn?void 0:Wn.url)&&(bo=function Kl(_,d){var f,D;const W=function mp(_){const d=mi(_),f=d.link?decodeURIComponent(d.link):void 0,D=mi(f).link,W=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return mi(W).link||W||D||f||_}(d);if(W.includes("/__/auth/callback")){const ve=mi(W),ft=ve.firebaseError?function ed(_){try{return JSON.parse(_)}catch(d){return null}}(decodeURIComponent(ve.firebaseError)):null,Ut=null===(D=null===(f=null==ft?void 0:ft.code)||void 0===f?void 0:f.split("auth/"))||void 0===D?void 0:D[1],dn=Ut?be(Ut):null;return dn?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:dn,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:W,postBody:null}}return null}(Jr,Wn.url)),f.onEvent(bo||td())});return function(Jr){return Qn.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,Ut);const dn=W,An=`${ve.packageName.toLowerCase()}://`;ao().handleOpenURL=function(){var Qn=(0,h.Z)(function*(Wn){if(Wn.toLowerCase().startsWith(An)&&Ut({url:Wn}),"function"==typeof dn)try{dn(Wn)}catch(Jr){console.error(Jr)}});return function(Wn){return Qn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vs,this._completeRedirectFn=ei,this._overrideRedirectResult=Dr}_initialize(d){var f=this;return(0,h.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,D,W){var ve=this;return(0,h.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(d,f,D,W)})()}_openRedirect(d,f,D,W){var ve=this;return(0,h.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(d,f,D,W)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Ac()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ei(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,h.Z)(function*(){if(d.underlyingResolver)return;const f=yield function Xa(){return nd.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function xc(_){return _.unwrap()}function Ja(_){return sd(_)}function sd(_){const{_tokenResponse:d}=_ instanceof g.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof g.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return gl.credentialFromResult(_);const f=d.providerId;if(!f||"password"===f)return null;let D;switch(f){case"google.com":D=Fs;break;case"facebook.com":D=Br;break;case"github.com":D=$o;break;case"twitter.com":D=ws;break;default:const{oauthIdToken:W,oauthAccessToken:ve,oauthTokenSecret:ft,pendingToken:Ut,nonce:dn}=d;return ve||ft||W||Ut?Ut?f.startsWith("saml.")?Cr._create(f,Ut):Oi._fromParams({providerId:f,signInMethod:f,pendingToken:Ut,idToken:W,accessToken:ve}):new xr(f).credential({idToken:W,accessToken:ve,rawNonce:dn}):null}return _ instanceof g.ZR?D.credentialFromError(_):D.credentialFromResult(_)}function co(_,d){return d.catch(f=>{throw f instanceof g.ZR&&function gu(_,d){var f,D;const W=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(D=d)||void 0===D?void 0:D.code))d.resolver=new ad(_,function En(_,d){var f;const D=(0,g.m9)(_),W=d;return J(d.customData.operationType,D,"argument-error"),J(null===(f=W.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,D,"argument-error"),Mn._fromError(D,W)}(_,d));else if(W){const ve=sd(d),ft=d;ve&&(ft.credential=ve,ft.tenantId=W.tenantId||void 0,ft.email=W.email||void 0,ft.phoneNumber=W.phoneNumber||void 0)}}(_,f),f}).then(f=>{const W=f.user;return{operationType:f.operationType,credential:Ja(f),additionalUserInfo:Or(f),user:ba.getOrCreate(W)}})}function _u(_,d){return od.apply(this,arguments)}function od(){return(od=(0,h.Z)(function*(_,d){const f=yield d;return{verificationId:f.verificationId,confirm:D=>co(_,f.confirm(D))}})).apply(this,arguments)}class ad{constructor(d,f){this.resolver=f,this.auth=function Oc(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return co(xc(this.auth),this.resolver.resolveSignIn(d))}}class ba{constructor(d){this._delegate=d,this.multiFactor=function os(_){const d=(0,g.m9)(_);return rr.has(d)||rr.set(d,Ts._fromUser(d)),rr.get(d)}(d)}static getOrCreate(d){return ba.USER_MAP.has(d)||ba.USER_MAP.set(d,new ba(d)),ba.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,h.Z)(function*(){return co(f.auth,li(f._delegate,d))})()}linkWithPhoneNumber(d,f){var D=this;return(0,h.Z)(function*(){return _u(D.auth,function su(_,d,f){return jl.apply(this,arguments)}(D._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,h.Z)(function*(){return co(f.auth,function Pr(_,d,f){return za.apply(this,arguments)}(f._delegate,d,va))})()}linkWithRedirect(d){var f=this;return(0,h.Z)(function*(){return yield mu(Sn(f.auth)),function vt(_,d,f){return function kt(_,d,f){return tn.apply(this,arguments)}(_,d,f)}(f._delegate,d,va)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,h.Z)(function*(){return co(f.auth,qi(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return _u(this.auth,function oo(_,d,f){return Xr.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return co(this.auth,function $a(_,d,f){return yc.apply(this,arguments)}(this._delegate,d,va))}reauthenticateWithRedirect(d){var f=this;return(0,h.Z)(function*(){return yield mu(Sn(f.auth)),function V(_,d,f){return function le(_,d,f){return Ye.apply(this,arguments)}(_,d,f)}(f._delegate,d,va)})()}sendEmailVerification(d){return function E(_,d){return N.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,h.Z)(function*(){return yield function us(_,d){return yi.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function Dn(_,d){return zn((0,g.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function Rn(_,d){return zn((0,g.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Aa(_,d){return Zs.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Mt(_,d){return Wt.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function re(_,d,f){return Oe.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ba.USER_MAP=new WeakMap;const Rc=J;let Dh=(()=>{class _{constructor(f,D){if(this.app=f,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:W}=f.options;Rc(W,"invalid-api-key",{appName:f.name}),Rc(W,"invalid-api-key",{appName:f.name});const ve="undefined"!=typeof window?va:void 0;this._delegate=D.initialize({options:{persistence:Pc(W,f.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(He),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ba.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,D){!function Mi(_,d,f){const D=Sn(_);J(D._canInitEmulator,D,"emulator-config-failed"),J(/^https?:\/\//.test(d),D,"invalid-emulator-scheme");const W=!!(null==f?void 0:f.disableWarnings),ve=Gi(d),{host:ft,port:Ut}=function xi(_){const d=Gi(_),f=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!f)return{host:"",port:null};const D=f[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(D);if(W){const ve=W[1];return{host:ve,port:Er(D.substr(ve.length+1))}}{const[ve,ft]=D.split(":");return{host:ve,port:Er(ft)}}}(d);D.config.emulator={url:`${ve}//${ft}${null===Ut?"":`:${Ut}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ft,port:Ut,protocol:ve.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function _i(){function _(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,f,D)}applyActionCode(f){return function Jt(_,d){return vi.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return zo(this._delegate,f)}confirmPasswordReset(f,D){return function mo(_,d,f){return ds.apply(this,arguments)}(this._delegate,f,D)}createUserWithEmailAndPassword(f,D){var W=this;return(0,h.Z)(function*(){return co(W._delegate,function Is(_,d,f){return To.apply(this,arguments)}(W._delegate,f,D))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function ee(_,d){return y.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function to(_,d){const f=Es.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,h.Z)(function*(){Rc(Qa(),f._delegate,"operation-not-supported-in-this-environment");const D=yield function _n(_,d){return Bn.apply(this,arguments)}(f._delegate,va);return D?co(f._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Mc(_,d){Sn(_)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,D,W){const{next:ve,error:ft,complete:Ut}=Ih(f,D,W);return this._delegate.onAuthStateChanged(ve,ft,Ut)}onIdTokenChanged(f,D,W){const{next:ve,error:ft,complete:Ut}=Ih(f,D,W);return this._delegate.onIdTokenChanged(ve,ft,Ut)}sendSignInLinkToEmail(f,D){return function cl(_,d,f){return sa.apply(this,arguments)}(this._delegate,f,D)}sendPasswordResetEmail(f,D){return function bi(_,d,f){return Vr.apply(this,arguments)}(this._delegate,f,D||void 0)}setPersistence(f){var D=this;return(0,h.Z)(function*(){let W;switch(function da(_,d){ya(Object.values(vo).includes(d),_,"invalid-persistence-type"),(0,g.b$)()?ya(d!==vo.SESSION,_,"unsupported-persistence-type"):(0,g.UG)()?ya(d===vo.NONE,_,"unsupported-persistence-type"):ri()?ya(d===vo.NONE||d===vo.LOCAL&&(0,g.hl)(),_,"unsupported-persistence-type"):ya(d===vo.NONE||Gr(),_,"unsupported-persistence-type")}(D._delegate,f),f){case vo.SESSION:W=Vs;break;case vo.LOCAL:W=(yield te(Ta)._isAvailable())?Ta:Ms;break;case vo.NONE:W=Cn;break;default:return it("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(W)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return co(this._delegate,function Kr(_){return ss.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return co(this._delegate,$n(this._delegate,f))}signInWithCustomToken(f){return co(this._delegate,function F(_,d){return S.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,D){return co(this._delegate,function Da(_,d,f){return $n((0,g.m9)(_),Go.credential(d,f))}(this._delegate,f,D))}signInWithEmailLink(f,D){return co(this._delegate,function no(_,d,f){return pr.apply(this,arguments)}(this._delegate,f,D))}signInWithPhoneNumber(f,D){return _u(this._delegate,function ml(_,d,f){return jr.apply(this,arguments)}(this._delegate,f,D))}signInWithPopup(f){var D=this;return(0,h.Z)(function*(){return Rc(Qa(),D._delegate,"operation-not-supported-in-this-environment"),co(D._delegate,function ps(_,d,f){return Ga.apply(this,arguments)}(D._delegate,f,va))})()}signInWithRedirect(f){var D=this;return(0,h.Z)(function*(){return Rc(Qa(),D._delegate,"operation-not-supported-in-this-environment"),yield mu(D._delegate),function Wa(_,d,f){return function yl(_,d,f){return k.apply(this,arguments)}(_,d,f)}(D._delegate,f,va)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Wo(_,d){return go.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=vo,_})();function Ih(_,d,f){let D=_;"function"!=typeof _&&({next:D,error:d,complete:f}=_);const W=D;return{next:ft=>W(ft&&ba.getOrCreate(ft)),error:d,complete:f}}function Pc(_,d){const f=function rd(_,d){const f=wh();if(!f)return[];const D=Xn(id,_,d);switch(f.getItem(D)){case vo.NONE:return[Cn];case vo.LOCAL:return[Ta,Vs];case vo.SESSION:return[Vs];default:return[]}}(_,d);if("undefined"!=typeof self&&!f.includes(Ta)&&f.push(Ta),"undefined"!=typeof window)for(const D of[Ms,Vs])f.includes(D)||f.push(D);return f.includes(Cn)||f.push(Cn),f}class yu{constructor(){this.providerId="phone",this._delegate=new gl(xc(w.Z.auth()))}static credential(d,f){return gl.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}yu.PHONE_SIGN_IN_METHOD=gl.PHONE_SIGN_IN_METHOD,yu.PROVIDER_ID=gl.PROVIDER_ID;const yp=J;class Os{constructor(d,f,D=w.Z.app()){var W;yp(null===(W=D.options)||void 0===W?void 0:W.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Vl(d,f,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ha(_){_.INTERNAL.registerComponent(new Pe.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),D=d.getProvider("auth");return new Dh(f,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Go,FacebookAuthProvider:Br,GithubAuthProvider:$o,GoogleAuthProvider:Fs,OAuthProvider:xr,SAMLAuthProvider:fr,PhoneAuthProvider:yu,PhoneMultiFactorGenerator:Wu,RecaptchaVerifier:Os,TwitterAuthProvider:ws,Auth:Dh,AuthCredential:$i,Error:g.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.19")}(w.Z)},1135:($t,Xe,b)=>{b.d(Xe,{X:()=>w});var h=b(7579);class w extends h.x{constructor($){super(),this._value=$}get value(){return this.getValue()}_subscribe($){const we=super._subscribe($);return!we.closed&&$.next(this._value),we}getValue(){const{hasError:$,thrownError:we,_value:Ie}=this;if($)throw we;return this._throwIfClosed(),Ie}next($){super.next(this._value=$)}}},8306:($t,Xe,b)=>{b.d(Xe,{y:()=>X});var h=b(930),w=b(727),g=b(8822),$=b(4671);var Pe=b(2416),_e=b(576),ne=b(2806);let X=(()=>{class xe{constructor(st){st&&(this._subscribe=st)}lift(st){const Fe=new xe;return Fe.source=this,Fe.operator=st,Fe}subscribe(st,Fe,at){const ke=function ze(xe){return xe&&xe instanceof h.Lv||function ce(xe){return xe&&(0,_e.m)(xe.next)&&(0,_e.m)(xe.error)&&(0,_e.m)(xe.complete)}(xe)&&(0,w.Nn)(xe)}(st)?st:new h.Hp(st,Fe,at);return(0,ne.x)(()=>{const{operator:Nt,source:it}=this;ke.add(Nt?Nt.call(ke,it):it?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(st){try{return this._subscribe(st)}catch(Fe){st.error(Fe)}}forEach(st,Fe){return new(Fe=pe(Fe))((at,ke)=>{const Nt=new h.Hp({next:it=>{try{st(it)}catch(be){ke(be),Nt.unsubscribe()}},error:ke,complete:at});this.subscribe(Nt)})}_subscribe(st){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(st)}[g.L](){return this}pipe(...st){return function Ie(xe){return 0===xe.length?$.y:1===xe.length?xe[0]:function(st){return xe.reduce((Fe,at)=>at(Fe),st)}}(st)(this)}toPromise(st){return new(st=pe(st))((Fe,at)=>{let ke;this.subscribe(Nt=>ke=Nt,Nt=>at(Nt),()=>Fe(ke))})}}return xe.create=He=>new xe(He),xe})();function pe(xe){var He;return null!==(He=null!=xe?xe:Pe.v.Promise)&&void 0!==He?He:Promise}},7579:($t,Xe,b)=>{b.d(Xe,{x:()=>Pe});var h=b(8306),w=b(727);const $=(0,b(3888).d)(ne=>function(){ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=b(8737),Ie=b(2806);let Pe=(()=>{class ne extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const ce=new _e(this,this);return ce.operator=pe,ce}_throwIfClosed(){if(this.closed)throw new $}next(pe){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(pe)}})}error(pe){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:ce}=this;for(;ce.length;)ce.shift().error(pe)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:ce,isStopped:ze,observers:xe}=this;return ce||ze?w.Lc:(this.currentObservers=null,xe.push(pe),new w.w0(()=>{this.currentObservers=null,(0,we.P)(xe,pe)}))}_checkFinalizedStatuses(pe){const{hasError:ce,thrownError:ze,isStopped:xe}=this;ce?pe.error(ze):xe&&pe.complete()}asObservable(){const pe=new h.y;return pe.source=this,pe}}return ne.create=(X,pe)=>new _e(X,pe),ne})();class _e extends Pe{constructor(X,pe){super(),this.destination=X,this.source=pe}next(X){var pe,ce;null===(ce=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===ce||ce.call(pe,X)}error(X){var pe,ce;null===(ce=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===ce||ce.call(pe,X)}complete(){var X,pe;null===(pe=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===pe||pe.call(X)}_subscribe(X){var pe,ce;return null!==(ce=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(X))&&void 0!==ce?ce:w.Lc}}},930:($t,Xe,b)=>{b.d(Xe,{Hp:()=>st,Lv:()=>ce});var h=b(576),w=b(727),g=b(2416),$=b(7849),we=b(5032);const Ie=ne("C",void 0,void 0);function ne(it,be,fe){return{kind:it,value:be,error:fe}}var X=b(3410),pe=b(2806);class ce extends w.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,w.Nn)(be)&&be.add(this)):this.destination=Nt}static create(be,fe,Se){return new st(be,fe,Se)}next(be){this.isStopped?ke(function _e(it){return ne("N",it,void 0)}(be),this):this._next(be)}error(be){this.isStopped?ke(function Pe(it){return ne("E",void 0,it)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?ke(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function xe(it,be){return ze.call(it,be)}class He{constructor(be){this.partialObserver=be}next(be){const{partialObserver:fe}=this;if(fe.next)try{fe.next(be)}catch(Se){Fe(Se)}}error(be){const{partialObserver:fe}=this;if(fe.error)try{fe.error(be)}catch(Se){Fe(Se)}else Fe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(fe){Fe(fe)}}}class st extends ce{constructor(be,fe,Se){let De;if(super(),(0,h.m)(be)||!be)De={next:null!=be?be:void 0,error:null!=fe?fe:void 0,complete:null!=Se?Se:void 0};else{let J;this&&g.v.useDeprecatedNextContext?(J=Object.create(be),J.unsubscribe=()=>this.unsubscribe(),De={next:be.next&&xe(be.next,J),error:be.error&&xe(be.error,J),complete:be.complete&&xe(be.complete,J)}):De=be}this.destination=new He(De)}}function Fe(it){g.v.useDeprecatedSynchronousErrorHandling?(0,pe.O)(it):(0,$.h)(it)}function ke(it,be){const{onStoppedNotification:fe}=g.v;fe&&X.z.setTimeout(()=>fe(it,be))}const Nt={closed:!0,next:we.Z,error:function at(it){throw it},complete:we.Z}},727:($t,Xe,b)=>{b.d(Xe,{Lc:()=>Ie,w0:()=>we,Nn:()=>Pe});var h=b(576);const g=(0,b(3888).d)(ne=>function(pe){ne(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((ce,ze)=>`${ze+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var $=b(8737);class we{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const xe of pe)xe.remove(this);else pe.remove(this);const{initialTeardown:ce}=this;if((0,h.m)(ce))try{ce()}catch(xe){X=xe instanceof g?xe.errors:[xe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const xe of ze)try{_e(xe)}catch(He){X=null!=X?X:[],He instanceof g?X=[...X,...He.errors]:X.push(He)}}if(X)throw new g(X)}}add(X){var pe;if(X&&X!==this)if(this.closed)_e(X);else{if(X instanceof we){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(X)}}_hasParent(X){const{_parentage:pe}=this;return pe===X||Array.isArray(pe)&&pe.includes(X)}_addParent(X){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(X),pe):pe?[pe,X]:X}_removeParent(X){const{_parentage:pe}=this;pe===X?this._parentage=null:Array.isArray(pe)&&(0,$.P)(pe,X)}remove(X){const{_finalizers:pe}=this;pe&&(0,$.P)(pe,X),X instanceof we&&X._removeParent(this)}}we.EMPTY=(()=>{const ne=new we;return ne.closed=!0,ne})();const Ie=we.EMPTY;function Pe(ne){return ne instanceof we||ne&&"closed"in ne&&(0,h.m)(ne.remove)&&(0,h.m)(ne.add)&&(0,h.m)(ne.unsubscribe)}function _e(ne){(0,h.m)(ne)?ne():ne.unsubscribe()}},2416:($t,Xe,b)=>{b.d(Xe,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:($t,Xe,b)=>{b.d(Xe,{a:()=>X});var h=b(8306),w=b(4742),g=b(8996),$=b(4671),we=b(3268),Ie=b(3269),Pe=b(1810),_e=b(5403),ne=b(9672);function X(...ze){const xe=(0,Ie.yG)(ze),He=(0,Ie.jO)(ze),{args:st,keys:Fe}=(0,w.D)(ze);if(0===st.length)return(0,g.D)([],xe);const at=new h.y(function pe(ze,xe,He=$.y){return st=>{ce(xe,()=>{const{length:Fe}=ze,at=new Array(Fe);let ke=Fe,Nt=Fe;for(let it=0;it<Fe;it++)ce(xe,()=>{const be=(0,g.D)(ze[it],xe);let fe=!1;be.subscribe((0,_e.x)(st,Se=>{at[it]=Se,fe||(fe=!0,Nt--),Nt||st.next(He(at.slice()))},()=>{--ke||st.complete()}))},st)},st)}}(st,xe,Fe?ke=>(0,Pe.n)(Fe,ke):$.y));return He?at.pipe((0,we.Z)(He)):at}function ce(ze,xe,He){ze?(0,ne.f)(He,ze,xe):xe()}},7272:($t,Xe,b)=>{b.d(Xe,{z:()=>we});var h=b(8189),g=b(3269),$=b(8996);function we(...Ie){return function w(){return(0,h.J)(1)}()((0,$.D)(Ie,(0,g.yG)(Ie)))}},9770:($t,Xe,b)=>{b.d(Xe,{P:()=>g});var h=b(8306),w=b(8421);function g($){return new h.y(we=>{(0,w.Xf)($()).subscribe(we)})}},515:($t,Xe,b)=>{b.d(Xe,{E:()=>w});const w=new(b(8306).y)(we=>we.complete())},4128:($t,Xe,b)=>{b.d(Xe,{D:()=>_e});var h=b(8306),w=b(4742),g=b(8421),$=b(3269),we=b(5403),Ie=b(3268),Pe=b(1810);function _e(...ne){const X=(0,$.jO)(ne),{args:pe,keys:ce}=(0,w.D)(ne),ze=new h.y(xe=>{const{length:He}=pe;if(!He)return void xe.complete();const st=new Array(He);let Fe=He,at=He;for(let ke=0;ke<He;ke++){let Nt=!1;(0,g.Xf)(pe[ke]).subscribe((0,we.x)(xe,it=>{Nt||(Nt=!0,at--),st[ke]=it},()=>Fe--,void 0,()=>{(!Fe||!Nt)&&(at||xe.next(ce?(0,Pe.n)(ce,st):st),xe.complete())}))}});return X?ze.pipe((0,Ie.Z)(X)):ze}},8996:($t,Xe,b)=>{b.d(Xe,{D:()=>be});var h=b(8421),w=b(5363),g=b(9468),Ie=b(8306),_e=b(2202),ne=b(576),X=b(9672);function ce(fe,Se){if(!fe)throw new Error("Iterable cannot be null");return new Ie.y(De=>{(0,X.f)(De,Se,()=>{const J=fe[Symbol.asyncIterator]();(0,X.f)(De,Se,()=>{J.next().then(Qe=>{Qe.done?De.complete():De.next(Qe.value)})},0,!0)})})}var ze=b(3670),xe=b(8239),He=b(1144),st=b(6495),Fe=b(2206),at=b(4532),ke=b(3260);function be(fe,Se){return Se?function it(fe,Se){if(null!=fe){if((0,ze.c)(fe))return function $(fe,Se){return(0,h.Xf)(fe).pipe((0,g.R)(Se),(0,w.Q)(Se))}(fe,Se);if((0,He.z)(fe))return function Pe(fe,Se){return new Ie.y(De=>{let J=0;return Se.schedule(function(){J===fe.length?De.complete():(De.next(fe[J++]),De.closed||this.schedule())})})}(fe,Se);if((0,xe.t)(fe))return function we(fe,Se){return(0,h.Xf)(fe).pipe((0,g.R)(Se),(0,w.Q)(Se))}(fe,Se);if((0,Fe.D)(fe))return ce(fe,Se);if((0,st.T)(fe))return function pe(fe,Se){return new Ie.y(De=>{let J;return(0,X.f)(De,Se,()=>{J=fe[_e.h](),(0,X.f)(De,Se,()=>{let Qe,se;try{({value:Qe,done:se}=J.next())}catch(Ue){return void De.error(Ue)}se?De.complete():De.next(Qe)},0,!0)}),()=>(0,ne.m)(null==J?void 0:J.return)&&J.return()})}(fe,Se);if((0,ke.L)(fe))return function Nt(fe,Se){return ce((0,ke.Q)(fe),Se)}(fe,Se)}throw(0,at.z)(fe)}(fe,Se):(0,h.Xf)(fe)}},4968:($t,Xe,b)=>{b.d(Xe,{R:()=>X});var h=b(8421),w=b(8306),g=b(5577),$=b(1144),we=b(576),Ie=b(3268);const Pe=["addListener","removeListener"],_e=["addEventListener","removeEventListener"],ne=["on","off"];function X(He,st,Fe,at){if((0,we.m)(Fe)&&(at=Fe,Fe=void 0),at)return X(He,st,Fe).pipe((0,Ie.Z)(at));const[ke,Nt]=function xe(He){return(0,we.m)(He.addEventListener)&&(0,we.m)(He.removeEventListener)}(He)?_e.map(it=>be=>He[it](st,be,Fe)):function ce(He){return(0,we.m)(He.addListener)&&(0,we.m)(He.removeListener)}(He)?Pe.map(pe(He,st)):function ze(He){return(0,we.m)(He.on)&&(0,we.m)(He.off)}(He)?ne.map(pe(He,st)):[];if(!ke&&(0,$.z)(He))return(0,g.z)(it=>X(it,st,Fe))((0,h.Xf)(He));if(!ke)throw new TypeError("Invalid event target");return new w.y(it=>{const be=(...fe)=>it.next(1<fe.length?fe:fe[0]);return ke(be),()=>Nt(be)})}function pe(He,st){return Fe=>at=>He[Fe](st,at)}},8421:($t,Xe,b)=>{b.d(Xe,{Xf:()=>ze});var h=b(655),w=b(1144),g=b(8239),$=b(8306),we=b(3670),Ie=b(2206),Pe=b(4532),_e=b(6495),ne=b(3260),X=b(576),pe=b(7849),ce=b(8822);function ze(it){if(it instanceof $.y)return it;if(null!=it){if((0,we.c)(it))return function xe(it){return new $.y(be=>{const fe=it[ce.L]();if((0,X.m)(fe.subscribe))return fe.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(it);if((0,w.z)(it))return function He(it){return new $.y(be=>{for(let fe=0;fe<it.length&&!be.closed;fe++)be.next(it[fe]);be.complete()})}(it);if((0,g.t)(it))return function st(it){return new $.y(be=>{it.then(fe=>{be.closed||(be.next(fe),be.complete())},fe=>be.error(fe)).then(null,pe.h)})}(it);if((0,Ie.D)(it))return at(it);if((0,_e.T)(it))return function Fe(it){return new $.y(be=>{for(const fe of it)if(be.next(fe),be.closed)return;be.complete()})}(it);if((0,ne.L)(it))return function ke(it){return at((0,ne.Q)(it))}(it)}throw(0,Pe.z)(it)}function at(it){return new $.y(be=>{(function Nt(it,be){var fe,Se,De,J;return(0,h.mG)(this,void 0,void 0,function*(){try{for(fe=(0,h.KL)(it);!(Se=yield fe.next()).done;)if(be.next(Se.value),be.closed)return}catch(Qe){De={error:Qe}}finally{try{Se&&!Se.done&&(J=fe.return)&&(yield J.call(fe))}finally{if(De)throw De.error}}be.complete()})})(it,be).catch(fe=>be.error(fe))})}},6451:($t,Xe,b)=>{b.d(Xe,{T:()=>Ie});var h=b(8189),w=b(8421),g=b(515),$=b(3269),we=b(8996);function Ie(...Pe){const _e=(0,$.yG)(Pe),ne=(0,$._6)(Pe,1/0),X=Pe;return X.length?1===X.length?(0,w.Xf)(X[0]):(0,h.J)(ne)((0,we.D)(X,_e)):g.E}},9646:($t,Xe,b)=>{b.d(Xe,{of:()=>g});var h=b(3269),w=b(8996);function g(...$){const we=(0,h.yG)($);return(0,w.D)($,we)}},2843:($t,Xe,b)=>{b.d(Xe,{_:()=>g});var h=b(8306),w=b(576);function g($,we){const Ie=(0,w.m)($)?$:()=>$,Pe=_e=>_e.error(Ie());return new h.y(we?_e=>we.schedule(Pe,0,_e):Pe)}},5403:($t,Xe,b)=>{b.d(Xe,{x:()=>w});var h=b(930);function w($,we,Ie,Pe,_e){return new g($,we,Ie,Pe,_e)}class g extends h.Lv{constructor(we,Ie,Pe,_e,ne,X){super(we),this.onFinalize=ne,this.shouldUnsubscribe=X,this._next=Ie?function(pe){try{Ie(pe)}catch(ce){we.error(ce)}}:super._next,this._error=_e?function(pe){try{_e(pe)}catch(ce){we.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(pe){we.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},262:($t,Xe,b)=>{b.d(Xe,{K:()=>$});var h=b(8421),w=b(5403),g=b(4482);function $(we){return(0,g.e)((Ie,Pe)=>{let X,_e=null,ne=!1;_e=Ie.subscribe((0,w.x)(Pe,void 0,void 0,pe=>{X=(0,h.Xf)(we(pe,$(we)(Ie))),_e?(_e.unsubscribe(),_e=null,X.subscribe(Pe)):ne=!0})),ne&&(_e.unsubscribe(),_e=null,X.subscribe(Pe))})}},4351:($t,Xe,b)=>{b.d(Xe,{b:()=>g});var h=b(5577),w=b(576);function g($,we){return(0,w.m)(we)?(0,h.z)($,we,1):(0,h.z)($,1)}},8372:($t,Xe,b)=>{b.d(Xe,{b:()=>$});var h=b(4986),w=b(4482),g=b(5403);function $(we,Ie=h.z){return(0,w.e)((Pe,_e)=>{let ne=null,X=null,pe=null;const ce=()=>{if(ne){ne.unsubscribe(),ne=null;const xe=X;X=null,_e.next(xe)}};function ze(){const xe=pe+we,He=Ie.now();if(He<xe)return ne=this.schedule(void 0,xe-He),void _e.add(ne);ce()}Pe.subscribe((0,g.x)(_e,xe=>{X=xe,pe=Ie.now(),ne||(ne=Ie.schedule(ze,we),_e.add(ne))},()=>{ce(),_e.complete()},void 0,()=>{X=ne=null}))})}},6590:($t,Xe,b)=>{b.d(Xe,{d:()=>g});var h=b(4482),w=b(5403);function g($){return(0,h.e)((we,Ie)=>{let Pe=!1;we.subscribe((0,w.x)(Ie,_e=>{Pe=!0,Ie.next(_e)},()=>{Pe||Ie.next($),Ie.complete()}))})}},1884:($t,Xe,b)=>{b.d(Xe,{x:()=>$});var h=b(4671),w=b(4482),g=b(5403);function $(Ie,Pe=h.y){return Ie=null!=Ie?Ie:we,(0,w.e)((_e,ne)=>{let X,pe=!0;_e.subscribe((0,g.x)(ne,ce=>{const ze=Pe(ce);(pe||!Ie(X,ze))&&(pe=!1,X=ze,ne.next(ce))}))})}function we(Ie,Pe){return Ie===Pe}},9300:($t,Xe,b)=>{b.d(Xe,{h:()=>g});var h=b(4482),w=b(5403);function g($,we){return(0,h.e)((Ie,Pe)=>{let _e=0;Ie.subscribe((0,w.x)(Pe,ne=>$.call(we,ne,_e++)&&Pe.next(ne)))})}},8746:($t,Xe,b)=>{b.d(Xe,{x:()=>w});var h=b(4482);function w(g){return(0,h.e)(($,we)=>{try{$.subscribe(we)}finally{we.add(g)}})}},590:($t,Xe,b)=>{b.d(Xe,{P:()=>Pe});var h=b(6805),w=b(9300),g=b(5698),$=b(6590),we=b(8068),Ie=b(4671);function Pe(_e,ne){const X=arguments.length>=2;return pe=>pe.pipe(_e?(0,w.h)((ce,ze)=>_e(ce,ze,pe)):Ie.y,(0,g.q)(1),X?(0,$.d)(ne):(0,we.T)(()=>new h.K))}},4004:($t,Xe,b)=>{b.d(Xe,{U:()=>g});var h=b(4482),w=b(5403);function g($,we){return(0,h.e)((Ie,Pe)=>{let _e=0;Ie.subscribe((0,w.x)(Pe,ne=>{Pe.next($.call(we,ne,_e++))}))})}},8189:($t,Xe,b)=>{b.d(Xe,{J:()=>g});var h=b(5577),w=b(4671);function g($=1/0){return(0,h.z)(w.y,$)}},5577:($t,Xe,b)=>{b.d(Xe,{z:()=>_e});var h=b(4004),w=b(8421),g=b(4482),$=b(9672),we=b(5403),Pe=b(576);function _e(ne,X,pe=1/0){return(0,Pe.m)(X)?_e((ce,ze)=>(0,h.U)((xe,He)=>X(ce,xe,ze,He))((0,w.Xf)(ne(ce,ze))),pe):("number"==typeof X&&(pe=X),(0,g.e)((ce,ze)=>function Ie(ne,X,pe,ce,ze,xe,He,st){const Fe=[];let at=0,ke=0,Nt=!1;const it=()=>{Nt&&!Fe.length&&!at&&X.complete()},be=Se=>at<ce?fe(Se):Fe.push(Se),fe=Se=>{xe&&X.next(Se),at++;let De=!1;(0,w.Xf)(pe(Se,ke++)).subscribe((0,we.x)(X,J=>{null==ze||ze(J),xe?be(J):X.next(J)},()=>{De=!0},void 0,()=>{if(De)try{for(at--;Fe.length&&at<ce;){const J=Fe.shift();He?(0,$.f)(X,He,()=>fe(J)):fe(J)}it()}catch(J){X.error(J)}}))};return ne.subscribe((0,we.x)(X,be,()=>{Nt=!0,it()})),()=>{null==st||st()}}(ce,ze,ne,pe)))}},5363:($t,Xe,b)=>{b.d(Xe,{Q:()=>$});var h=b(9672),w=b(4482),g=b(5403);function $(we,Ie=0){return(0,w.e)((Pe,_e)=>{Pe.subscribe((0,g.x)(_e,ne=>(0,h.f)(_e,we,()=>_e.next(ne),Ie),()=>(0,h.f)(_e,we,()=>_e.complete(),Ie),ne=>(0,h.f)(_e,we,()=>_e.error(ne),Ie)))})}},5026:($t,Xe,b)=>{b.d(Xe,{R:()=>$});var h=b(4482),w=b(5403);function g(we,Ie,Pe,_e,ne){return(X,pe)=>{let ce=Pe,ze=Ie,xe=0;X.subscribe((0,w.x)(pe,He=>{const st=xe++;ze=ce?we(ze,He,st):(ce=!0,He),_e&&pe.next(ze)},ne&&(()=>{ce&&pe.next(ze),pe.complete()})))}}function $(we,Ie){return(0,h.e)(g(we,Ie,arguments.length>=2,!0))}},3099:($t,Xe,b)=>{b.d(Xe,{B:()=>we});var h=b(8421),w=b(7579),g=b(930),$=b(4482);function we(Pe={}){const{connector:_e=(()=>new w.x),resetOnError:ne=!0,resetOnComplete:X=!0,resetOnRefCountZero:pe=!0}=Pe;return ce=>{let ze,xe,He,st=0,Fe=!1,at=!1;const ke=()=>{null==xe||xe.unsubscribe(),xe=void 0},Nt=()=>{ke(),ze=He=void 0,Fe=at=!1},it=()=>{const be=ze;Nt(),null==be||be.unsubscribe()};return(0,$.e)((be,fe)=>{st++,!at&&!Fe&&ke();const Se=He=null!=He?He:_e();fe.add(()=>{st--,0===st&&!at&&!Fe&&(xe=Ie(it,pe))}),Se.subscribe(fe),!ze&&st>0&&(ze=new g.Hp({next:De=>Se.next(De),error:De=>{at=!0,ke(),xe=Ie(Nt,ne,De),Se.error(De)},complete:()=>{Fe=!0,ke(),xe=Ie(Nt,X),Se.complete()}}),(0,h.Xf)(be).subscribe(ze))})(ce)}}function Ie(Pe,_e,...ne){if(!0===_e)return void Pe();if(!1===_e)return;const X=new g.Hp({next:()=>{X.unsubscribe(),Pe()}});return _e(...ne).subscribe(X)}},5684:($t,Xe,b)=>{b.d(Xe,{T:()=>w});var h=b(9300);function w(g){return(0,h.h)(($,we)=>g<=we)}},8675:($t,Xe,b)=>{b.d(Xe,{O:()=>$});var h=b(7272),w=b(3269),g=b(4482);function $(...we){const Ie=(0,w.yG)(we);return(0,g.e)((Pe,_e)=>{(Ie?(0,h.z)(we,Pe,Ie):(0,h.z)(we,Pe)).subscribe(_e)})}},9468:($t,Xe,b)=>{b.d(Xe,{R:()=>w});var h=b(4482);function w(g,$=0){return(0,h.e)((we,Ie)=>{Ie.add(g.schedule(()=>we.subscribe(Ie),$))})}},3900:($t,Xe,b)=>{b.d(Xe,{w:()=>$});var h=b(8421),w=b(4482),g=b(5403);function $(we,Ie){return(0,w.e)((Pe,_e)=>{let ne=null,X=0,pe=!1;const ce=()=>pe&&!ne&&_e.complete();Pe.subscribe((0,g.x)(_e,ze=>{null==ne||ne.unsubscribe();let xe=0;const He=X++;(0,h.Xf)(we(ze,He)).subscribe(ne=(0,g.x)(_e,st=>_e.next(Ie?Ie(ze,st,He,xe++):st),()=>{ne=null,ce()}))},()=>{pe=!0,ce()}))})}},5698:($t,Xe,b)=>{b.d(Xe,{q:()=>$});var h=b(515),w=b(4482),g=b(5403);function $(we){return we<=0?()=>h.E:(0,w.e)((Ie,Pe)=>{let _e=0;Ie.subscribe((0,g.x)(Pe,ne=>{++_e<=we&&(Pe.next(ne),we<=_e&&Pe.complete())}))})}},2722:($t,Xe,b)=>{b.d(Xe,{R:()=>we});var h=b(4482),w=b(5403),g=b(8421),$=b(5032);function we(Ie){return(0,h.e)((Pe,_e)=>{(0,g.Xf)(Ie).subscribe((0,w.x)(_e,()=>_e.complete(),$.Z)),!_e.closed&&Pe.subscribe(_e)})}},8505:($t,Xe,b)=>{b.d(Xe,{b:()=>we});var h=b(576),w=b(4482),g=b(5403),$=b(4671);function we(Ie,Pe,_e){const ne=(0,h.m)(Ie)||Pe||_e?{next:Ie,error:Pe,complete:_e}:Ie;return ne?(0,w.e)((X,pe)=>{var ce;null===(ce=ne.subscribe)||void 0===ce||ce.call(ne);let ze=!0;X.subscribe((0,g.x)(pe,xe=>{var He;null===(He=ne.next)||void 0===He||He.call(ne,xe),pe.next(xe)},()=>{var xe;ze=!1,null===(xe=ne.complete)||void 0===xe||xe.call(ne),pe.complete()},xe=>{var He;ze=!1,null===(He=ne.error)||void 0===He||He.call(ne,xe),pe.error(xe)},()=>{var xe,He;ze&&(null===(xe=ne.unsubscribe)||void 0===xe||xe.call(ne)),null===(He=ne.finalize)||void 0===He||He.call(ne)}))}):$.y}},8068:($t,Xe,b)=>{b.d(Xe,{T:()=>$});var h=b(6805),w=b(4482),g=b(5403);function $(Ie=we){return(0,w.e)((Pe,_e)=>{let ne=!1;Pe.subscribe((0,g.x)(_e,X=>{ne=!0,_e.next(X)},()=>ne?_e.complete():_e.error(Ie())))})}function we(){return new h.K}},4408:($t,Xe,b)=>{b.d(Xe,{o:()=>we});var h=b(727);class w extends h.w0{constructor(Pe,_e){super()}schedule(Pe,_e=0){return this}}const g={setInterval(Ie,Pe,..._e){const{delegate:ne}=g;return(null==ne?void 0:ne.setInterval)?ne.setInterval(Ie,Pe,..._e):setInterval(Ie,Pe,..._e)},clearInterval(Ie){const{delegate:Pe}=g;return((null==Pe?void 0:Pe.clearInterval)||clearInterval)(Ie)},delegate:void 0};var $=b(8737);class we extends w{constructor(Pe,_e){super(Pe,_e),this.scheduler=Pe,this.work=_e,this.pending=!1}schedule(Pe,_e=0){if(this.closed)return this;this.state=Pe;const ne=this.id,X=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(X,ne,_e)),this.pending=!0,this.delay=_e,this.id=this.id||this.requestAsyncId(X,this.id,_e),this}requestAsyncId(Pe,_e,ne=0){return g.setInterval(Pe.flush.bind(Pe,this),ne)}recycleAsyncId(Pe,_e,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return _e;g.clearInterval(_e)}execute(Pe,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(Pe,_e);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,_e){let X,ne=!1;try{this.work(Pe)}catch(pe){ne=!0,X=pe||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:_e}=this,{actions:ne}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,$.P)(ne,this),null!=Pe&&(this.id=this.recycleAsyncId(_e,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:($t,Xe,b)=>{b.d(Xe,{v:()=>g});var h=b(6063);class w{constructor(we,Ie=w.now){this.schedulerActionCtor=we,this.now=Ie}schedule(we,Ie=0,Pe){return new this.schedulerActionCtor(this,we).schedule(Pe,Ie)}}w.now=h.l.now;class g extends w{constructor(we,Ie=w.now){super(we,Ie),this.actions=[],this._active=!1,this._scheduled=void 0}flush(we){const{actions:Ie}=this;if(this._active)return void Ie.push(we);let Pe;this._active=!0;do{if(Pe=we.execute(we.state,we.delay))break}while(we=Ie.shift());if(this._active=!1,Pe){for(;we=Ie.shift();)we.unsubscribe();throw Pe}}}},4986:($t,Xe,b)=>{b.d(Xe,{z:()=>g,P:()=>$});var h=b(4408);const g=new(b(7565).v)(h.o),$=g},6063:($t,Xe,b)=>{b.d(Xe,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:($t,Xe,b)=>{b.d(Xe,{z:()=>h});const h={setTimeout(w,g,...$){const{delegate:we}=h;return(null==we?void 0:we.setTimeout)?we.setTimeout(w,g,...$):setTimeout(w,g,...$)},clearTimeout(w){const{delegate:g}=h;return((null==g?void 0:g.clearTimeout)||clearTimeout)(w)},delegate:void 0}},2202:($t,Xe,b)=>{b.d(Xe,{h:()=>w});const w=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:($t,Xe,b)=>{b.d(Xe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:($t,Xe,b)=>{b.d(Xe,{K:()=>w});const w=(0,b(3888).d)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:($t,Xe,b)=>{b.d(Xe,{jO:()=>$,yG:()=>we,_6:()=>Ie});var h=b(576),w=b(3532);function g(Pe){return Pe[Pe.length-1]}function $(Pe){return(0,h.m)(g(Pe))?Pe.pop():void 0}function we(Pe){return(0,w.K)(g(Pe))?Pe.pop():void 0}function Ie(Pe,_e){return"number"==typeof g(Pe)?Pe.pop():_e}},4742:($t,Xe,b)=>{b.d(Xe,{D:()=>we});const{isArray:h}=Array,{getPrototypeOf:w,prototype:g,keys:$}=Object;function we(Pe){if(1===Pe.length){const _e=Pe[0];if(h(_e))return{args:_e,keys:null};if(function Ie(Pe){return Pe&&"object"==typeof Pe&&w(Pe)===g}(_e)){const ne=$(_e);return{args:ne.map(X=>_e[X]),keys:ne}}}return{args:Pe,keys:null}}},8737:($t,Xe,b)=>{function h(w,g){if(w){const $=w.indexOf(g);0<=$&&w.splice($,1)}}b.d(Xe,{P:()=>h})},3888:($t,Xe,b)=>{function h(w){const $=w(we=>{Error.call(we),we.stack=(new Error).stack});return $.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$}b.d(Xe,{d:()=>h})},1810:($t,Xe,b)=>{function h(w,g){return w.reduce(($,we,Ie)=>($[we]=g[Ie],$),{})}b.d(Xe,{n:()=>h})},2806:($t,Xe,b)=>{b.d(Xe,{x:()=>g,O:()=>$});var h=b(2416);let w=null;function g(we){if(h.v.useDeprecatedSynchronousErrorHandling){const Ie=!w;if(Ie&&(w={errorThrown:!1,error:null}),we(),Ie){const{errorThrown:Pe,error:_e}=w;if(w=null,Pe)throw _e}}else we()}function $(we){h.v.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=we)}},9672:($t,Xe,b)=>{function h(w,g,$,we=0,Ie=!1){const Pe=g.schedule(function(){$(),Ie?w.add(this.schedule(null,we)):this.unsubscribe()},we);if(w.add(Pe),!Ie)return Pe}b.d(Xe,{f:()=>h})},4671:($t,Xe,b)=>{function h(w){return w}b.d(Xe,{y:()=>h})},1144:($t,Xe,b)=>{b.d(Xe,{z:()=>h});const h=w=>w&&"number"==typeof w.length&&"function"!=typeof w},2206:($t,Xe,b)=>{b.d(Xe,{D:()=>w});var h=b(576);function w(g){return Symbol.asyncIterator&&(0,h.m)(null==g?void 0:g[Symbol.asyncIterator])}},576:($t,Xe,b)=>{function h(w){return"function"==typeof w}b.d(Xe,{m:()=>h})},3670:($t,Xe,b)=>{b.d(Xe,{c:()=>g});var h=b(8822),w=b(576);function g($){return(0,w.m)($[h.L])}},6495:($t,Xe,b)=>{b.d(Xe,{T:()=>g});var h=b(2202),w=b(576);function g($){return(0,w.m)(null==$?void 0:$[h.h])}},8239:($t,Xe,b)=>{b.d(Xe,{t:()=>w});var h=b(576);function w(g){return(0,h.m)(null==g?void 0:g.then)}},3260:($t,Xe,b)=>{b.d(Xe,{Q:()=>g,L:()=>$});var h=b(655),w=b(576);function g(we){return(0,h.FC)(this,arguments,function*(){const Pe=we.getReader();try{for(;;){const{value:_e,done:ne}=yield(0,h.qq)(Pe.read());if(ne)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(_e)}}finally{Pe.releaseLock()}})}function $(we){return(0,w.m)(null==we?void 0:we.getReader)}},3532:($t,Xe,b)=>{b.d(Xe,{K:()=>w});var h=b(576);function w(g){return g&&(0,h.m)(g.schedule)}},4482:($t,Xe,b)=>{b.d(Xe,{A:()=>w,e:()=>g});var h=b(576);function w($){return(0,h.m)(null==$?void 0:$.lift)}function g($){return we=>{if(w(we))return we.lift(function(Ie){try{return $(Ie,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:($t,Xe,b)=>{b.d(Xe,{Z:()=>$});var h=b(4004);const{isArray:w}=Array;function $(we){return(0,h.U)(Ie=>function g(we,Ie){return w(Ie)?we(...Ie):we(Ie)}(we,Ie))}},5032:($t,Xe,b)=>{function h(){}b.d(Xe,{Z:()=>h})},7849:($t,Xe,b)=>{b.d(Xe,{h:()=>g});var h=b(2416),w=b(3410);function g($){w.z.setTimeout(()=>{const{onUnhandledError:we}=h.v;if(!we)throw $;we($)})}},4532:($t,Xe,b)=>{function h(w){return new TypeError(`You provided ${null!==w&&"object"==typeof w?"an invalid object":`'${w}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}b.d(Xe,{z:()=>h})},655:($t,Xe,b)=>{function $(se,Ue){var te={};for(var Ne in se)Object.prototype.hasOwnProperty.call(se,Ne)&&Ue.indexOf(Ne)<0&&(te[Ne]=se[Ne]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Ne=Object.getOwnPropertySymbols(se);We<Ne.length;We++)Ue.indexOf(Ne[We])<0&&Object.prototype.propertyIsEnumerable.call(se,Ne[We])&&(te[Ne[We]]=se[Ne[We]])}return te}function _e(se,Ue,te,Ne){return new(te||(te=Promise))(function(yt,_t){function Je(Ee){try{$e(Ne.next(Ee))}catch(Ge){_t(Ge)}}function je(Ee){try{$e(Ne.throw(Ee))}catch(Ge){_t(Ge)}}function $e(Ee){Ee.done?yt(Ee.value):function We(yt){return yt instanceof te?yt:new te(function(_t){_t(yt)})}(Ee.value).then(Je,je)}$e((Ne=Ne.apply(se,Ue||[])).next())})}function Fe(se){return this instanceof Fe?(this.v=se,this):new Fe(se)}function at(se,Ue,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Ne=te.apply(se,Ue||[]),yt=[];return We={},_t("next"),_t("throw"),_t("return"),We[Symbol.asyncIterator]=function(){return this},We;function _t(z){Ne[z]&&(We[z]=function(Ce){return new Promise(function(Rt,pt){yt.push([z,Ce,Rt,pt])>1||Je(z,Ce)})})}function Je(z,Ce){try{!function je(z){z.value instanceof Fe?Promise.resolve(z.value.v).then($e,Ee):Ge(yt[0][2],z)}(Ne[z](Ce))}catch(Rt){Ge(yt[0][3],Rt)}}function $e(z){Je("next",z)}function Ee(z){Je("throw",z)}function Ge(z,Ce){z(Ce),yt.shift(),yt.length&&Je(yt[0][0],yt[0][1])}}function Nt(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,Ue=se[Symbol.asyncIterator];return Ue?Ue.call(se):(se=function ce(se){var Ue="function"==typeof Symbol&&Symbol.iterator,te=Ue&&se[Ue],Ne=0;if(te)return te.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Ne>=se.length&&(se=void 0),{value:se&&se[Ne++],done:!se}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),te={},Ne("next"),Ne("throw"),Ne("return"),te[Symbol.asyncIterator]=function(){return this},te);function Ne(yt){te[yt]=se[yt]&&function(_t){return new Promise(function(Je,je){!function We(yt,_t,Je,je){Promise.resolve(je).then(function($e){yt({value:$e,done:Je})},_t)}(Je,je,(_t=se[yt](_t)).done,_t.value)})}}}b.d(Xe,{_T:()=>$,mG:()=>_e,qq:()=>Fe,FC:()=>at,KL:()=>Nt})},1777:($t,Xe,b)=>{b.d(Xe,{l3:()=>g,_j:()=>h,LC:()=>w,ZN:()=>at,jt:()=>we,pV:()=>ze,ru:()=>Ie,F4:()=>X,IO:()=>He,vP:()=>Pe,SB:()=>ne,oB:()=>_e,eR:()=>pe,X$:()=>$,ZE:()=>ke,k1:()=>Nt});class h{}class w{}const g="*";function $(it,be){return{type:7,name:it,definitions:be,options:{}}}function we(it,be=null){return{type:4,styles:be,timings:it}}function Ie(it,be=null){return{type:3,steps:it,options:be}}function Pe(it,be=null){return{type:2,steps:it,options:be}}function _e(it){return{type:6,styles:it,offset:null}}function ne(it,be,fe){return{type:0,name:it,styles:be,options:fe}}function X(it){return{type:5,steps:it}}function pe(it,be,fe=null){return{type:1,expr:it,animation:be,options:fe}}function ze(it=null){return{type:9,options:it}}function He(it,be,fe=null){return{type:11,selector:it,animation:be,options:fe}}function Fe(it){Promise.resolve(null).then(it)}class at{constructor(be=0,fe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+fe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._onStartFns.push(be)}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const fe="start"==be?this._onStartFns:this._onDoneFns;fe.forEach(Se=>Se()),fe.length=0}}class ke{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let fe=0,Se=0,De=0;const J=this.players.length;0==J?Fe(()=>this._onFinish()):this.players.forEach(Qe=>{Qe.onDone(()=>{++fe==J&&this._onFinish()}),Qe.onDestroy(()=>{++Se==J&&this._onDestroy()}),Qe.onStart(()=>{++De==J&&this._onStart()})}),this.totalTime=this.players.reduce((Qe,se)=>Math.max(Qe,se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const fe=be*this.totalTime;this.players.forEach(Se=>{const De=Se.totalTime?Math.min(1,fe/Se.totalTime):1;Se.setPosition(De)})}getPosition(){const be=this.players.reduce((fe,Se)=>null===fe||Se.totalTime>fe.totalTime?Se:fe,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const fe="start"==be?this._onStartFns:this._onDoneFns;fe.forEach(Se=>Se()),fe.length=0}}const Nt="!"},5664:($t,Xe,b)=>{b.d(Xe,{rt:()=>he,s1:()=>Ne,$s:()=>Qe,Em:()=>We,tE:()=>Un,qV:()=>Ze,qm:()=>qe,ic:()=>_t,Kd:()=>Tt,X6:()=>cn,yG:()=>ht});var h=b(9808),w=b(5e3),g=b(925),$=b(7579),we=b(727),Ie=b(1135),Pe=b(9646),_e=b(1159),ne=b(8505),X=b(8372),pe=b(9300),ce=b(4004),ze=b(5698),xe=b(5684),He=b(1884),st=b(2722),Fe=b(3191),at=b(7144);function be(U,P){return(U.getAttribute(P)||"").match(/\S+/g)||[]}const Se="cdk-describedby-message",De="cdk-describedby-host";let J=0,Qe=(()=>{class U{constructor(R,me){this._platform=me,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+J++,this._document=R}describe(R,me,Re){if(!this._canBeDescribed(R,me))return;const Dt=se(me,Re);"string"!=typeof me?(Ue(me),this._messageRegistry.set(Dt,{messageElement:me,referenceCount:0})):this._messageRegistry.has(Dt)||this._createMessageElement(me,Re),this._isElementDescribedByMessage(R,Dt)||this._addMessageReference(R,Dt)}removeDescription(R,me,Re){var Dt;if(!me||!this._isElementNode(R))return;const mn=se(me,Re);if(this._isElementDescribedByMessage(R,mn)&&this._removeMessageReference(R,mn),"string"==typeof me){const Cn=this._messageRegistry.get(mn);Cn&&0===Cn.referenceCount&&this._deleteMessageElement(mn)}0===(null===(Dt=this._messagesContainer)||void 0===Dt?void 0:Dt.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var R;const me=this._document.querySelectorAll(`[${De}="${this._id}"]`);for(let Re=0;Re<me.length;Re++)this._removeCdkDescribedByReferenceIds(me[Re]),me[Re].removeAttribute(De);null===(R=this._messagesContainer)||void 0===R||R.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(R,me){const Re=this._document.createElement("div");Ue(Re),Re.textContent=R,me&&Re.setAttribute("role",me),this._createMessagesContainer(),this._messagesContainer.appendChild(Re),this._messageRegistry.set(se(R,me),{messageElement:Re,referenceCount:0})}_deleteMessageElement(R){var me,Re;null===(Re=null===(me=this._messageRegistry.get(R))||void 0===me?void 0:me.messageElement)||void 0===Re||Re.remove(),this._messageRegistry.delete(R)}_createMessagesContainer(){if(this._messagesContainer)return;const R="cdk-describedby-message-container",me=this._document.querySelectorAll(`.${R}[platform="server"]`);for(let Dt=0;Dt<me.length;Dt++)me[Dt].remove();const Re=this._document.createElement("div");Re.style.visibility="hidden",Re.classList.add(R),Re.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Re.setAttribute("platform","server"),this._document.body.appendChild(Re),this._messagesContainer=Re}_removeCdkDescribedByReferenceIds(R){const me=be(R,"aria-describedby").filter(Re=>0!=Re.indexOf(Se));R.setAttribute("aria-describedby",me.join(" "))}_addMessageReference(R,me){const Re=this._messageRegistry.get(me);(function Nt(U,P,R){const me=be(U,P);me.some(Re=>Re.trim()==R.trim())||(me.push(R.trim()),U.setAttribute(P,me.join(" ")))})(R,"aria-describedby",Re.messageElement.id),R.setAttribute(De,this._id),Re.referenceCount++}_removeMessageReference(R,me){const Re=this._messageRegistry.get(me);Re.referenceCount--,function it(U,P,R){const Re=be(U,P).filter(Dt=>Dt!=R.trim());Re.length?U.setAttribute(P,Re.join(" ")):U.removeAttribute(P)}(R,"aria-describedby",Re.messageElement.id),R.removeAttribute(De)}_isElementDescribedByMessage(R,me){const Re=be(R,"aria-describedby"),Dt=this._messageRegistry.get(me),mn=Dt&&Dt.messageElement.id;return!!mn&&-1!=Re.indexOf(mn)}_canBeDescribed(R,me){if(!this._isElementNode(R))return!1;if(me&&"object"==typeof me)return!0;const Re=null==me?"":`${me}`.trim(),Dt=R.getAttribute("aria-label");return!(!Re||Dt&&Dt.trim()===Re)}_isElementNode(R){return R.nodeType===this._document.ELEMENT_NODE}}return U.\u0275fac=function(R){return new(R||U)(w.LFG(h.K0),w.LFG(g.t4))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function se(U,P){return"string"==typeof U?`${P||""}/${U}`:U}function Ue(U){U.id||(U.id=`${Se}-${J++}`)}class te{constructor(P){this._items=P,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new $.x,this._typeaheadSubscription=we.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=R=>R.disabled,this._pressedLetters=[],this.tabOut=new $.x,this.change=new $.x,P instanceof w.n_E&&P.changes.subscribe(R=>{if(this._activeItem){const Re=R.toArray().indexOf(this._activeItem);Re>-1&&Re!==this._activeItemIndex&&(this._activeItemIndex=Re)}})}skipPredicate(P){return this._skipPredicateFn=P,this}withWrap(P=!0){return this._wrap=P,this}withVerticalOrientation(P=!0){return this._vertical=P,this}withHorizontalOrientation(P){return this._horizontal=P,this}withAllowedModifierKeys(P){return this._allowedModifierKeys=P,this}withTypeAhead(P=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ne.b)(R=>this._pressedLetters.push(R)),(0,X.b)(P),(0,pe.h)(()=>this._pressedLetters.length>0),(0,ce.U)(()=>this._pressedLetters.join(""))).subscribe(R=>{const me=this._getItemsArray();for(let Re=1;Re<me.length+1;Re++){const Dt=(this._activeItemIndex+Re)%me.length,mn=me[Dt];if(!this._skipPredicateFn(mn)&&0===mn.getLabel().toUpperCase().trim().indexOf(R)){this.setActiveItem(Dt);break}}this._pressedLetters=[]}),this}withHomeAndEnd(P=!0){return this._homeAndEnd=P,this}setActiveItem(P){const R=this._activeItem;this.updateActiveItem(P),this._activeItem!==R&&this.change.next(this._activeItemIndex)}onKeydown(P){const R=P.keyCode,Re=["altKey","ctrlKey","metaKey","shiftKey"].every(Dt=>!P[Dt]||this._allowedModifierKeys.indexOf(Dt)>-1);switch(R){case _e.Mf:return void this.tabOut.next();case _e.JH:if(this._vertical&&Re){this.setNextItemActive();break}return;case _e.LH:if(this._vertical&&Re){this.setPreviousItemActive();break}return;case _e.SV:if(this._horizontal&&Re){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case _e.oh:if(this._horizontal&&Re){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case _e.Sd:if(this._homeAndEnd&&Re){this.setFirstItemActive();break}return;case _e.uR:if(this._homeAndEnd&&Re){this.setLastItemActive();break}return;default:return void((Re||(0,_e.Vb)(P,"shiftKey"))&&(P.key&&1===P.key.length?this._letterKeyStream.next(P.key.toLocaleUpperCase()):(R>=_e.A&&R<=_e.Z||R>=_e.xE&&R<=_e.aO)&&this._letterKeyStream.next(String.fromCharCode(R))))}this._pressedLetters=[],P.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(P){const R=this._getItemsArray(),me="number"==typeof P?P:R.indexOf(P),Re=R[me];this._activeItem=null==Re?null:Re,this._activeItemIndex=me}_setActiveItemByDelta(P){this._wrap?this._setActiveInWrapMode(P):this._setActiveInDefaultMode(P)}_setActiveInWrapMode(P){const R=this._getItemsArray();for(let me=1;me<=R.length;me++){const Re=(this._activeItemIndex+P*me+R.length)%R.length;if(!this._skipPredicateFn(R[Re]))return void this.setActiveItem(Re)}}_setActiveInDefaultMode(P){this._setActiveItemByIndex(this._activeItemIndex+P,P)}_setActiveItemByIndex(P,R){const me=this._getItemsArray();if(me[P]){for(;this._skipPredicateFn(me[P]);)if(!me[P+=R])return;this.setActiveItem(P)}}_getItemsArray(){return this._items instanceof w.n_E?this._items.toArray():this._items}}class Ne extends te{setActiveItem(P){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(P),this.activeItem&&this.activeItem.setActiveStyles()}}class We extends te{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(P){return this._origin=P,this}setActiveItem(P){super.setActiveItem(P),this.activeItem&&this.activeItem.focus(this._origin)}}let _t=(()=>{class U{constructor(R){this._platform=R}isDisabled(R){return R.hasAttribute("disabled")}isVisible(R){return function je(U){return!!(U.offsetWidth||U.offsetHeight||"function"==typeof U.getClientRects&&U.getClientRects().length)}(R)&&"visible"===getComputedStyle(R).visibility}isTabbable(R){if(!this._platform.isBrowser)return!1;const me=function Je(U){try{return U.frameElement}catch(P){return null}}(function bt(U){return U.ownerDocument&&U.ownerDocument.defaultView||window}(R));if(me&&(-1===pt(me)||!this.isVisible(me)))return!1;let Re=R.nodeName.toLowerCase(),Dt=pt(R);return R.hasAttribute("contenteditable")?-1!==Dt:!("iframe"===Re||"object"===Re||this._platform.WEBKIT&&this._platform.IOS&&!function Ot(U){let P=U.nodeName.toLowerCase(),R="input"===P&&U.type;return"text"===R||"password"===R||"select"===P||"textarea"===P}(R))&&("audio"===Re?!!R.hasAttribute("controls")&&-1!==Dt:"video"===Re?-1!==Dt&&(null!==Dt||this._platform.FIREFOX||R.hasAttribute("controls")):R.tabIndex>=0)}isFocusable(R,me){return function Et(U){return!function Ee(U){return function z(U){return"input"==U.nodeName.toLowerCase()}(U)&&"hidden"==U.type}(U)&&(function $e(U){let P=U.nodeName.toLowerCase();return"input"===P||"select"===P||"button"===P||"textarea"===P}(U)||function Ge(U){return function Ce(U){return"a"==U.nodeName.toLowerCase()}(U)&&U.hasAttribute("href")}(U)||U.hasAttribute("contenteditable")||Rt(U))}(R)&&!this.isDisabled(R)&&((null==me?void 0:me.ignoreVisibility)||this.isVisible(R))}}return U.\u0275fac=function(R){return new(R||U)(w.LFG(g.t4))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function Rt(U){if(!U.hasAttribute("tabindex")||void 0===U.tabIndex)return!1;let P=U.getAttribute("tabindex");return!(!P||isNaN(parseInt(P,10)))}function pt(U){if(!Rt(U))return null;const P=parseInt(U.getAttribute("tabindex")||"",10);return isNaN(P)?-1:P}class Vt{constructor(P,R,me,Re,Dt=!1){this._element=P,this._checker=R,this._ngZone=me,this._document=Re,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Dt||this.attachAnchors()}get enabled(){return this._enabled}set enabled(P){this._enabled=P,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(P,this._startAnchor),this._toggleAnchorTabIndex(P,this._endAnchor))}destroy(){const P=this._startAnchor,R=this._endAnchor;P&&(P.removeEventListener("focus",this.startAnchorListener),P.remove()),R&&(R.removeEventListener("focus",this.endAnchorListener),R.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(P){return new Promise(R=>{this._executeOnStable(()=>R(this.focusInitialElement(P)))})}focusFirstTabbableElementWhenReady(P){return new Promise(R=>{this._executeOnStable(()=>R(this.focusFirstTabbableElement(P)))})}focusLastTabbableElementWhenReady(P){return new Promise(R=>{this._executeOnStable(()=>R(this.focusLastTabbableElement(P)))})}_getRegionBoundary(P){const R=this._element.querySelectorAll(`[cdk-focus-region-${P}], [cdkFocusRegion${P}], [cdk-focus-${P}]`);return"start"==P?R.length?R[0]:this._getFirstTabbableElement(this._element):R.length?R[R.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(P){const R=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(R){if(!this._checker.isFocusable(R)){const me=this._getFirstTabbableElement(R);return null==me||me.focus(P),!!me}return R.focus(P),!0}return this.focusFirstTabbableElement(P)}focusFirstTabbableElement(P){const R=this._getRegionBoundary("start");return R&&R.focus(P),!!R}focusLastTabbableElement(P){const R=this._getRegionBoundary("end");return R&&R.focus(P),!!R}hasAttached(){return this._hasAttached}_getFirstTabbableElement(P){if(this._checker.isFocusable(P)&&this._checker.isTabbable(P))return P;const R=P.children;for(let me=0;me<R.length;me++){const Re=R[me].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(R[me]):null;if(Re)return Re}return null}_getLastTabbableElement(P){if(this._checker.isFocusable(P)&&this._checker.isTabbable(P))return P;const R=P.children;for(let me=R.length-1;me>=0;me--){const Re=R[me].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(R[me]):null;if(Re)return Re}return null}_createAnchor(){const P=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,P),P.classList.add("cdk-visually-hidden"),P.classList.add("cdk-focus-trap-anchor"),P.setAttribute("aria-hidden","true"),P}_toggleAnchorTabIndex(P,R){P?R.setAttribute("tabindex","0"):R.removeAttribute("tabindex")}toggleAnchors(P){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(P,this._startAnchor),this._toggleAnchorTabIndex(P,this._endAnchor))}_executeOnStable(P){this._ngZone.isStable?P():this._ngZone.onStable.pipe((0,ze.q)(1)).subscribe(P)}}let Ze=(()=>{class U{constructor(R,me,Re){this._checker=R,this._ngZone=me,this._document=Re}create(R,me=!1){return new Vt(R,this._checker,this._ngZone,this._document,me)}}return U.\u0275fac=function(R){return new(R||U)(w.LFG(_t),w.LFG(w.R0b),w.LFG(h.K0))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function cn(U){return 0===U.buttons||0===U.offsetX&&0===U.offsetY}function ht(U){const P=U.touches&&U.touches[0]||U.changedTouches&&U.changedTouches[0];return!(!P||-1!==P.identifier||null!=P.radiusX&&1!==P.radiusX||null!=P.radiusY&&1!==P.radiusY)}const O=new w.OlP("cdk-input-modality-detector-options"),Z={ignoreKeys:[_e.zL,_e.jx,_e.b2,_e.MW,_e.JU]},ge=(0,g.i$)({passive:!0,capture:!0});let Ae=(()=>{class U{constructor(R,me,Re,Dt){this._platform=R,this._mostRecentTarget=null,this._modality=new Ie.X(null),this._lastTouchMs=0,this._onKeydown=mn=>{var Cn,Xn;(null===(Xn=null===(Cn=this._options)||void 0===Cn?void 0:Cn.ignoreKeys)||void 0===Xn?void 0:Xn.some(vn=>vn===mn.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,g.sA)(mn))},this._onMousedown=mn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(cn(mn)?"keyboard":"mouse"),this._mostRecentTarget=(0,g.sA)(mn))},this._onTouchstart=mn=>{ht(mn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,g.sA)(mn))},this._options=Object.assign(Object.assign({},Z),Dt),this.modalityDetected=this._modality.pipe((0,xe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,He.x)()),R.isBrowser&&me.runOutsideAngular(()=>{Re.addEventListener("keydown",this._onKeydown,ge),Re.addEventListener("mousedown",this._onMousedown,ge),Re.addEventListener("touchstart",this._onTouchstart,ge)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ge),document.removeEventListener("mousedown",this._onMousedown,ge),document.removeEventListener("touchstart",this._onTouchstart,ge))}}return U.\u0275fac=function(R){return new(R||U)(w.LFG(g.t4),w.LFG(w.R0b),w.LFG(h.K0),w.LFG(O,8))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();const ue=new w.OlP("liveAnnouncerElement",{providedIn:"root",factory:function tt(){return null}}),gt=new w.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Tt=(()=>{class U{constructor(R,me,Re,Dt){this._ngZone=me,this._defaultOptions=Dt,this._document=Re,this._liveElement=R||this._createLiveElement()}announce(R,...me){const Re=this._defaultOptions;let Dt,mn;return 1===me.length&&"number"==typeof me[0]?mn=me[0]:[Dt,mn]=me,this.clear(),clearTimeout(this._previousTimeout),Dt||(Dt=Re&&Re.politeness?Re.politeness:"polite"),null==mn&&Re&&(mn=Re.duration),this._liveElement.setAttribute("aria-live",Dt),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Cn=>this._currentResolve=Cn)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=R,"number"==typeof mn&&(this._previousTimeout=setTimeout(()=>this.clear(),mn)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var R,me;clearTimeout(this._previousTimeout),null===(R=this._liveElement)||void 0===R||R.remove(),this._liveElement=null,null===(me=this._currentResolve)||void 0===me||me.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const R="cdk-live-announcer-element",me=this._document.getElementsByClassName(R),Re=this._document.createElement("div");for(let Dt=0;Dt<me.length;Dt++)me[Dt].remove();return Re.classList.add(R),Re.classList.add("cdk-visually-hidden"),Re.setAttribute("aria-atomic","true"),Re.setAttribute("aria-live","polite"),this._document.body.appendChild(Re),Re}}return U.\u0275fac=function(R){return new(R||U)(w.LFG(ue,8),w.LFG(w.R0b),w.LFG(h.K0),w.LFG(gt,8))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();const ln=new w.OlP("cdk-focus-monitor-default-options"),on=(0,g.i$)({passive:!0,capture:!0});let Un=(()=>{class U{constructor(R,me,Re,Dt,mn){this._ngZone=R,this._platform=me,this._inputModalityDetector=Re,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $.x,this._rootNodeFocusAndBlurListener=Cn=>{const Xn=(0,g.sA)(Cn),vn="focus"===Cn.type?this._onFocus:this._onBlur;for(let hi=Xn;hi;hi=hi.parentElement)vn.call(this,Cn,hi)},this._document=Dt,this._detectionMode=(null==mn?void 0:mn.detectionMode)||0}monitor(R,me=!1){const Re=(0,Fe.fI)(R);if(!this._platform.isBrowser||1!==Re.nodeType)return(0,Pe.of)(null);const Dt=(0,g.kV)(Re)||this._getDocument(),mn=this._elementInfo.get(Re);if(mn)return me&&(mn.checkChildren=!0),mn.subject;const Cn={checkChildren:me,subject:new $.x,rootNode:Dt};return this._elementInfo.set(Re,Cn),this._registerGlobalListeners(Cn),Cn.subject}stopMonitoring(R){const me=(0,Fe.fI)(R),Re=this._elementInfo.get(me);Re&&(Re.subject.complete(),this._setClasses(me),this._elementInfo.delete(me),this._removeGlobalListeners(Re))}focusVia(R,me,Re){const Dt=(0,Fe.fI)(R);Dt===this._getDocument().activeElement?this._getClosestElementsInfo(Dt).forEach(([Cn,Xn])=>this._originChanged(Cn,me,Xn)):(this._setOrigin(me),"function"==typeof Dt.focus&&Dt.focus(Re))}ngOnDestroy(){this._elementInfo.forEach((R,me)=>this.stopMonitoring(me))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(R){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(R)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(R){return 1===this._detectionMode||!!(null==R?void 0:R.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(R,me){R.classList.toggle("cdk-focused",!!me),R.classList.toggle("cdk-touch-focused","touch"===me),R.classList.toggle("cdk-keyboard-focused","keyboard"===me),R.classList.toggle("cdk-mouse-focused","mouse"===me),R.classList.toggle("cdk-program-focused","program"===me)}_setOrigin(R,me=!1){this._ngZone.runOutsideAngular(()=>{this._origin=R,this._originFromTouchInteraction="touch"===R&&me,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(R,me){const Re=this._elementInfo.get(me),Dt=(0,g.sA)(R);!Re||!Re.checkChildren&&me!==Dt||this._originChanged(me,this._getFocusOrigin(Dt),Re)}_onBlur(R,me){const Re=this._elementInfo.get(me);!Re||Re.checkChildren&&R.relatedTarget instanceof Node&&me.contains(R.relatedTarget)||(this._setClasses(me),this._emitOrigin(Re.subject,null))}_emitOrigin(R,me){this._ngZone.run(()=>R.next(me))}_registerGlobalListeners(R){if(!this._platform.isBrowser)return;const me=R.rootNode,Re=this._rootNodeFocusListenerCount.get(me)||0;Re||this._ngZone.runOutsideAngular(()=>{me.addEventListener("focus",this._rootNodeFocusAndBlurListener,on),me.addEventListener("blur",this._rootNodeFocusAndBlurListener,on)}),this._rootNodeFocusListenerCount.set(me,Re+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,st.R)(this._stopInputModalityDetector)).subscribe(Dt=>{this._setOrigin(Dt,!0)}))}_removeGlobalListeners(R){const me=R.rootNode;if(this._rootNodeFocusListenerCount.has(me)){const Re=this._rootNodeFocusListenerCount.get(me);Re>1?this._rootNodeFocusListenerCount.set(me,Re-1):(me.removeEventListener("focus",this._rootNodeFocusAndBlurListener,on),me.removeEventListener("blur",this._rootNodeFocusAndBlurListener,on),this._rootNodeFocusListenerCount.delete(me))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(R,me,Re){this._setClasses(R,me),this._emitOrigin(Re.subject,me),this._lastFocusOrigin=me}_getClosestElementsInfo(R){const me=[];return this._elementInfo.forEach((Re,Dt)=>{(Dt===R||Re.checkChildren&&Dt.contains(R))&&me.push([Dt,Re])}),me}}return U.\u0275fac=function(R){return new(R||U)(w.LFG(w.R0b),w.LFG(g.t4),w.LFG(Ae),w.LFG(h.K0,8),w.LFG(ln,8))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();const ii="cdk-high-contrast-black-on-white",an="cdk-high-contrast-white-on-black",Ai="cdk-high-contrast-active";let qe=(()=>{class U{constructor(R,me){this._platform=R,this._document=me}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const R=this._document.createElement("div");R.style.backgroundColor="rgb(1,2,3)",R.style.position="absolute",this._document.body.appendChild(R);const me=this._document.defaultView||window,Re=me&&me.getComputedStyle?me.getComputedStyle(R):null,Dt=(Re&&Re.backgroundColor||"").replace(/ /g,"");switch(R.remove(),Dt){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const R=this._document.body.classList;R.remove(Ai),R.remove(ii),R.remove(an),this._hasCheckedHighContrastMode=!0;const me=this.getHighContrastMode();1===me?(R.add(Ai),R.add(ii)):2===me&&(R.add(Ai),R.add(an))}}}return U.\u0275fac=function(R){return new(R||U)(w.LFG(g.t4),w.LFG(h.K0))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),he=(()=>{class U{constructor(R){R._applyBodyHighContrastModeCssClasses()}}return U.\u0275fac=function(R){return new(R||U)(w.LFG(qe))},U.\u0275mod=w.oAB({type:U}),U.\u0275inj=w.cJS({imports:[[at.Q8]]}),U})()},226:($t,Xe,b)=>{b.d(Xe,{vT:()=>ne,Is:()=>Pe});var h=b(5e3),w=b(9808);const g=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function $(){return(0,h.f3M)(w.K0)}}),we=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Pe=(()=>{class X{constructor(ce){if(this.value="ltr",this.change=new h.vpe,ce){const xe=ce.documentElement?ce.documentElement.dir:null;this.value=function Ie(X){const pe=(null==X?void 0:X.toLowerCase())||"";return"auto"===pe&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?we.test(navigator.language)?"rtl":"ltr":"rtl"===pe?"rtl":"ltr"}((ce.body?ce.body.dir:null)||xe||"ltr")}}ngOnDestroy(){this.change.complete()}}return X.\u0275fac=function(ce){return new(ce||X)(h.LFG(g,8))},X.\u0275prov=h.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),ne=(()=>{class X{}return X.\u0275fac=function(ce){return new(ce||X)},X.\u0275mod=h.oAB({type:X}),X.\u0275inj=h.cJS({}),X})()},9287:($t,Xe,b)=>{b.d(Xe,{i3:()=>Ie,Iq:()=>Pe});var h=b(9808),w=b(5e3);class g{constructor(ne,X){this._document=X;const pe=this._textarea=this._document.createElement("textarea"),ce=pe.style;ce.position="fixed",ce.top=ce.opacity="0",ce.left="-999em",pe.setAttribute("aria-hidden","true"),pe.value=ne,this._document.body.appendChild(pe)}copy(){const ne=this._textarea;let X=!1;try{if(ne){const pe=this._document.activeElement;ne.select(),ne.setSelectionRange(0,ne.value.length),X=this._document.execCommand("copy"),pe&&pe.focus()}}catch(pe){}return X}destroy(){const ne=this._textarea;ne&&(ne.remove(),this._textarea=void 0)}}let $=(()=>{class _e{constructor(X){this._document=X}copy(X){const pe=this.beginCopy(X),ce=pe.copy();return pe.destroy(),ce}beginCopy(X){return new g(X,this._document)}}return _e.\u0275fac=function(X){return new(X||_e)(w.LFG(h.K0))},_e.\u0275prov=w.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const we=new w.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let Ie=(()=>{class _e{constructor(X,pe,ce){this._clipboard=X,this._ngZone=pe,this.text="",this.attempts=1,this.copied=new w.vpe,this._pending=new Set,ce&&null!=ce.attempts&&(this.attempts=ce.attempts)}copy(X=this.attempts){if(X>1){let pe=X;const ce=this._clipboard.beginCopy(this.text);this._pending.add(ce);const ze=()=>{const xe=ce.copy();xe||!--pe||this._destroyed?(this._currentTimeout=null,this._pending.delete(ce),ce.destroy(),this.copied.emit(xe)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(ze,1))};ze()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(X=>X.destroy()),this._pending.clear(),this._destroyed=!0}}return _e.\u0275fac=function(X){return new(X||_e)(w.Y36($),w.Y36(w.R0b),w.Y36(we,8))},_e.\u0275dir=w.lG2({type:_e,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(X,pe){1&X&&w.NdJ("click",function(){return pe.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),_e})(),Pe=(()=>{class _e{}return _e.\u0275fac=function(X){return new(X||_e)},_e.\u0275mod=w.oAB({type:_e}),_e.\u0275inj=w.cJS({}),_e})()},3191:($t,Xe,b)=>{b.d(Xe,{Eq:()=>we,Ig:()=>w,HM:()=>Ie,fI:()=>Pe,su:()=>g});var h=b(5e3);function w(ne){return null!=ne&&"false"!=`${ne}`}function g(ne,X=0){return function $(ne){return!isNaN(parseFloat(ne))&&!isNaN(Number(ne))}(ne)?Number(ne):X}function we(ne){return Array.isArray(ne)?ne:[ne]}function Ie(ne){return null==ne?"":"string"==typeof ne?ne:`${ne}px`}function Pe(ne){return ne instanceof h.SBq?ne.nativeElement:ne}},449:($t,Xe,b)=>{b.d(Xe,{o2:()=>g,Ov:()=>_e,Z9:()=>$});var h=b(7579);b(5e3);class g{}function $(ce){return ce&&"function"==typeof ce.connect}class _e{constructor(ze=!1,xe,He=!0){this._multiple=ze,this._emitChanges=He,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new h.x,xe&&xe.length&&(ze?xe.forEach(st=>this._markSelected(st)):this._markSelected(xe[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...ze){this._verifyValueAssignment(ze),ze.forEach(xe=>this._markSelected(xe)),this._emitChangeEvent()}deselect(...ze){this._verifyValueAssignment(ze),ze.forEach(xe=>this._unmarkSelected(xe)),this._emitChangeEvent()}toggle(ze){this.isSelected(ze)?this.deselect(ze):this.select(ze)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(ze){return this._selection.has(ze)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(ze){this._multiple&&this.selected&&this._selected.sort(ze)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(ze){this.isSelected(ze)||(this._multiple||this._unmarkAll(),this._selection.add(ze),this._emitChanges&&this._selectedToEmit.push(ze))}_unmarkSelected(ze){this.isSelected(ze)&&(this._selection.delete(ze),this._emitChanges&&this._deselectedToEmit.push(ze))}_unmarkAll(){this.isEmpty()||this._selection.forEach(ze=>this._unmarkSelected(ze))}_verifyValueAssignment(ze){}}},1159:($t,Xe,b)=>{b.d(Xe,{A:()=>Ge,zL:()=>_e,ZH:()=>w,jx:()=>Pe,yY:()=>Se,JH:()=>Nt,uR:()=>He,K5:()=>we,hY:()=>pe,Sd:()=>st,oh:()=>Fe,b2:()=>Fr,MW:()=>Tt,aO:()=>_t,SV:()=>ke,JU:()=>Ie,L_:()=>ce,Mf:()=>g,LH:()=>at,Z:()=>gt,xE:()=>De,Vb:()=>dr});const w=8,g=9,we=13,Ie=16,Pe=17,_e=18,pe=27,ce=32,He=35,st=36,Fe=37,at=38,ke=39,Nt=40,Se=46,De=48,_t=57,Ge=65,gt=90,Tt=91,Fr=224;function dr(fi,...Lr){return Lr.length?Lr.some(ys=>fi[ys]):fi.altKey||fi.shiftKey||fi.ctrlKey||fi.metaKey}},5113:($t,Xe,b)=>{b.d(Xe,{Yg:()=>Nt,u3:()=>be});var h=b(5e3),w=b(3191),g=b(7579),$=b(9841),we=b(7272),Ie=b(8306),Pe=b(5698),_e=b(5684),ne=b(8372),X=b(4004),pe=b(8675),ce=b(2722),ze=b(925);const He=new Set;let st,Fe=(()=>{class fe{constructor(De){this._platform=De,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ke}matchMedia(De){return(this._platform.WEBKIT||this._platform.BLINK)&&function at(fe){if(!He.has(fe))try{st||(st=document.createElement("style"),st.setAttribute("type","text/css"),document.head.appendChild(st)),st.sheet&&(st.sheet.insertRule(`@media ${fe} {body{ }}`,0),He.add(fe))}catch(Se){console.error(Se)}}(De),this._matchMedia(De)}}return fe.\u0275fac=function(De){return new(De||fe)(h.LFG(ze.t4))},fe.\u0275prov=h.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();function ke(fe){return{matches:"all"===fe||""===fe,media:fe,addListener:()=>{},removeListener:()=>{}}}let Nt=(()=>{class fe{constructor(De,J){this._mediaMatcher=De,this._zone=J,this._queries=new Map,this._destroySubject=new g.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(De){return it((0,w.Eq)(De)).some(Qe=>this._registerQuery(Qe).mql.matches)}observe(De){const Qe=it((0,w.Eq)(De)).map(Ue=>this._registerQuery(Ue).observable);let se=(0,$.a)(Qe);return se=(0,we.z)(se.pipe((0,Pe.q)(1)),se.pipe((0,_e.T)(1),(0,ne.b)(0))),se.pipe((0,X.U)(Ue=>{const te={matches:!1,breakpoints:{}};return Ue.forEach(({matches:Ne,query:We})=>{te.matches=te.matches||Ne,te.breakpoints[We]=Ne}),te}))}_registerQuery(De){if(this._queries.has(De))return this._queries.get(De);const J=this._mediaMatcher.matchMedia(De),se={observable:new Ie.y(Ue=>{const te=Ne=>this._zone.run(()=>Ue.next(Ne));return J.addListener(te),()=>{J.removeListener(te)}}).pipe((0,pe.O)(J),(0,X.U)(({matches:Ue})=>({query:De,matches:Ue})),(0,ce.R)(this._destroySubject)),mql:J};return this._queries.set(De,se),se}}return fe.\u0275fac=function(De){return new(De||fe)(h.LFG(Fe),h.LFG(h.R0b))},fe.\u0275prov=h.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();function it(fe){return fe.map(Se=>Se.split(",")).reduce((Se,De)=>Se.concat(De)).map(Se=>Se.trim())}const be={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7144:($t,Xe,b)=>{b.d(Xe,{wD:()=>_e,Q8:()=>ne});var h=b(3191),w=b(5e3),g=b(8306),$=b(7579),we=b(8372);let Ie=(()=>{class X{create(ce){return"undefined"==typeof MutationObserver?null:new MutationObserver(ce)}}return X.\u0275fac=function(ce){return new(ce||X)},X.\u0275prov=w.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),Pe=(()=>{class X{constructor(ce){this._mutationObserverFactory=ce,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ce,ze)=>this._cleanupObserver(ze))}observe(ce){const ze=(0,h.fI)(ce);return new g.y(xe=>{const st=this._observeElement(ze).subscribe(xe);return()=>{st.unsubscribe(),this._unobserveElement(ze)}})}_observeElement(ce){if(this._observedElements.has(ce))this._observedElements.get(ce).count++;else{const ze=new $.x,xe=this._mutationObserverFactory.create(He=>ze.next(He));xe&&xe.observe(ce,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ce,{observer:xe,stream:ze,count:1})}return this._observedElements.get(ce).stream}_unobserveElement(ce){this._observedElements.has(ce)&&(this._observedElements.get(ce).count--,this._observedElements.get(ce).count||this._cleanupObserver(ce))}_cleanupObserver(ce){if(this._observedElements.has(ce)){const{observer:ze,stream:xe}=this._observedElements.get(ce);ze&&ze.disconnect(),xe.complete(),this._observedElements.delete(ce)}}}return X.\u0275fac=function(ce){return new(ce||X)(w.LFG(Ie))},X.\u0275prov=w.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),_e=(()=>{class X{constructor(ce,ze,xe){this._contentObserver=ce,this._elementRef=ze,this._ngZone=xe,this.event=new w.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(ce){this._disabled=(0,h.Ig)(ce),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ce){this._debounce=(0,h.su)(ce),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ce=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ce.pipe((0,we.b)(this.debounce)):ce).subscribe(this.event)})}_unsubscribe(){var ce;null===(ce=this._currentSubscription)||void 0===ce||ce.unsubscribe()}}return X.\u0275fac=function(ce){return new(ce||X)(w.Y36(Pe),w.Y36(w.SBq),w.Y36(w.R0b))},X.\u0275dir=w.lG2({type:X,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),X})(),ne=(()=>{class X{}return X.\u0275fac=function(ce){return new(ce||X)},X.\u0275mod=w.oAB({type:X}),X.\u0275inj=w.cJS({providers:[Ie]}),X})()},9776:($t,Xe,b)=>{b.d(Xe,{pI:()=>On,xu:()=>sn,aV:()=>Vt,X_:()=>J,Xj:()=>yt,U8:()=>gn});var h=b(5494),w=b(9808),g=b(5e3),$=b(3191),we=b(925),Ie=b(226),Pe=b(7429),_e=b(7579),ne=b(727),X=b(6451),pe=b(4482),ce=b(5403),xe=b(5698),He=b(2722),st=b(1159);const Fe=(0,we.Mq)();class at{constructor(O,Z){this._viewportRuler=O,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Z}attach(){}enable(){if(this._canBeEnabled()){const O=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=O.style.left||"",this._previousHTMLStyles.top=O.style.top||"",O.style.left=(0,$.HM)(-this._previousScrollPosition.left),O.style.top=(0,$.HM)(-this._previousScrollPosition.top),O.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const O=this._document.documentElement,ie=O.style,ge=this._document.body.style,Ae=ie.scrollBehavior||"",ue=ge.scrollBehavior||"";this._isEnabled=!1,ie.left=this._previousHTMLStyles.left,ie.top=this._previousHTMLStyles.top,O.classList.remove("cdk-global-scrollblock"),Fe&&(ie.scrollBehavior=ge.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Fe&&(ie.scrollBehavior=Ae,ge.scrollBehavior=ue)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Z=this._document.body,ie=this._viewportRuler.getViewportSize();return Z.scrollHeight>ie.height||Z.scrollWidth>ie.width}}class Nt{constructor(O,Z,ie,ge){this._scrollDispatcher=O,this._ngZone=Z,this._viewportRuler=ie,this._config=ge,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(O){this._overlayRef=O}enable(){if(this._scrollSubscription)return;const O=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=O.subscribe(()=>{const Z=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Z-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=O.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class it{enable(){}disable(){}attach(){}}function be(ht,O){return O.some(Z=>ht.bottom<Z.top||ht.top>Z.bottom||ht.right<Z.left||ht.left>Z.right)}function fe(ht,O){return O.some(Z=>ht.top<Z.top||ht.bottom>Z.bottom||ht.left<Z.left||ht.right>Z.right)}class Se{constructor(O,Z,ie,ge){this._scrollDispatcher=O,this._viewportRuler=Z,this._ngZone=ie,this._config=ge,this._scrollSubscription=null}attach(O){this._overlayRef=O}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Z=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ie,height:ge}=this._viewportRuler.getViewportSize();be(Z,[{width:ie,height:ge,bottom:ge,right:ie,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let De=(()=>{class ht{constructor(Z,ie,ge,Ae){this._scrollDispatcher=Z,this._viewportRuler=ie,this._ngZone=ge,this.noop=()=>new it,this.close=ue=>new Nt(this._scrollDispatcher,this._ngZone,this._viewportRuler,ue),this.block=()=>new at(this._viewportRuler,this._document),this.reposition=ue=>new Se(this._scrollDispatcher,this._viewportRuler,this._ngZone,ue),this._document=Ae}}return ht.\u0275fac=function(Z){return new(Z||ht)(g.LFG(h.mF),g.LFG(h.rL),g.LFG(g.R0b),g.LFG(w.K0))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})();class J{constructor(O){if(this.scrollStrategy=new it,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,O){const Z=Object.keys(O);for(const ie of Z)void 0!==O[ie]&&(this[ie]=O[ie])}}}class Ue{constructor(O,Z){this.connectionPair=O,this.scrollableViewProperties=Z}}class We{constructor(O,Z,ie,ge,Ae,ue,tt,gt,Tt){this._portalOutlet=O,this._host=Z,this._pane=ie,this._config=ge,this._ngZone=Ae,this._keyboardDispatcher=ue,this._document=tt,this._location=gt,this._outsideClickDispatcher=Tt,this._backdropElement=null,this._backdropClick=new _e.x,this._attachments=new _e.x,this._detachments=new _e.x,this._locationChanges=ne.w0.EMPTY,this._backdropClickHandler=rn=>this._backdropClick.next(rn),this._backdropTransitionendHandler=rn=>{this._disposeBackdrop(rn.target)},this._keydownEvents=new _e.x,this._outsidePointerEvents=new _e.x,ge.scrollStrategy&&(this._scrollStrategy=ge.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ge.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(O){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Z=this._portalOutlet.attach(O);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,xe.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),Z}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const O=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),O}dispose(){var O;const Z=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(O=this._host)||void 0===O||O.remove(),this._previousHostParent=this._pane=this._host=null,Z&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(O){O!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=O,this.hasAttached()&&(O.attach(this),this.updatePosition()))}updateSize(O){this._config=Object.assign(Object.assign({},this._config),O),this._updateElementSize()}setDirection(O){this._config=Object.assign(Object.assign({},this._config),{direction:O}),this._updateElementDirection()}addPanelClass(O){this._pane&&this._toggleClasses(this._pane,O,!0)}removePanelClass(O){this._pane&&this._toggleClasses(this._pane,O,!1)}getDirection(){const O=this._config.direction;return O?"string"==typeof O?O:O.value:"ltr"}updateScrollStrategy(O){O!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=O,this.hasAttached()&&(O.attach(this),O.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const O=this._pane.style;O.width=(0,$.HM)(this._config.width),O.height=(0,$.HM)(this._config.height),O.minWidth=(0,$.HM)(this._config.minWidth),O.minHeight=(0,$.HM)(this._config.minHeight),O.maxWidth=(0,$.HM)(this._config.maxWidth),O.maxHeight=(0,$.HM)(this._config.maxHeight)}_togglePointerEvents(O){this._pane.style.pointerEvents=O?"":"none"}_attachBackdrop(){const O="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(O)})}):this._backdropElement.classList.add(O)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const O=this._backdropElement;!O||(O.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{O.addEventListener("transitionend",this._backdropTransitionendHandler)}),O.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(O)},500)))}_toggleClasses(O,Z,ie){const ge=(0,$.Eq)(Z||[]).filter(Ae=>!!Ae);ge.length&&(ie?O.classList.add(...ge):O.classList.remove(...ge))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const O=this._ngZone.onStable.pipe((0,He.R)((0,X.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),O.unsubscribe())})})}_disposeScrollStrategy(){const O=this._scrollStrategy;O&&(O.disable(),O.detach&&O.detach())}_disposeBackdrop(O){O&&(O.removeEventListener("click",this._backdropClickHandler),O.removeEventListener("transitionend",this._backdropTransitionendHandler),O.remove(),this._backdropElement===O&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let yt=(()=>{class ht{constructor(Z,ie){this._platform=ie,this._document=Z}ngOnDestroy(){var Z;null===(Z=this._containerElement)||void 0===Z||Z.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Z="cdk-overlay-container";if(this._platform.isBrowser||(0,we.Oy)()){const ge=this._document.querySelectorAll(`.${Z}[platform="server"], .${Z}[platform="test"]`);for(let Ae=0;Ae<ge.length;Ae++)ge[Ae].remove()}const ie=this._document.createElement("div");ie.classList.add(Z),(0,we.Oy)()?ie.setAttribute("platform","test"):this._platform.isBrowser||ie.setAttribute("platform","server"),this._document.body.appendChild(ie),this._containerElement=ie}}return ht.\u0275fac=function(Z){return new(Z||ht)(g.LFG(w.K0),g.LFG(we.t4))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})();const _t="cdk-overlay-connected-position-bounding-box",Je=/([A-Za-z%]+)$/;class je{constructor(O,Z,ie,ge,Ae){this._viewportRuler=Z,this._document=ie,this._platform=ge,this._overlayContainer=Ae,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _e.x,this._resizeSubscription=ne.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(O)}get positions(){return this._preferredPositions}attach(O){this._validatePositions(),O.hostElement.classList.add(_t),this._overlayRef=O,this._boundingBox=O.hostElement,this._pane=O.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const O=this._originRect,Z=this._overlayRect,ie=this._viewportRect,ge=this._containerRect,Ae=[];let ue;for(let tt of this._preferredPositions){let gt=this._getOriginPoint(O,ge,tt),Tt=this._getOverlayPoint(gt,Z,tt),rn=this._getOverlayFit(Tt,Z,ie,tt);if(rn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(tt,gt);this._canFitWithFlexibleDimensions(rn,Tt,ie)?Ae.push({position:tt,origin:gt,overlayRect:Z,boundingBoxRect:this._calculateBoundingBoxRect(gt,tt)}):(!ue||ue.overlayFit.visibleArea<rn.visibleArea)&&(ue={overlayFit:rn,overlayPoint:Tt,originPoint:gt,position:tt,overlayRect:Z})}if(Ae.length){let tt=null,gt=-1;for(const Tt of Ae){const rn=Tt.boundingBoxRect.width*Tt.boundingBoxRect.height*(Tt.position.weight||1);rn>gt&&(gt=rn,tt=Tt)}return this._isPushed=!1,void this._applyPosition(tt.position,tt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ue.position,ue.originPoint);this._applyPosition(ue.position,ue.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$e(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(_t),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const O=this._lastPosition;if(O){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Z=this._getOriginPoint(this._originRect,this._containerRect,O);this._applyPosition(O,Z)}else this.apply()}withScrollableContainers(O){return this._scrollables=O,this}withPositions(O){return this._preferredPositions=O,-1===O.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(O){return this._viewportMargin=O,this}withFlexibleDimensions(O=!0){return this._hasFlexibleDimensions=O,this}withGrowAfterOpen(O=!0){return this._growAfterOpen=O,this}withPush(O=!0){return this._canPush=O,this}withLockedPosition(O=!0){return this._positionLocked=O,this}setOrigin(O){return this._origin=O,this}withDefaultOffsetX(O){return this._offsetX=O,this}withDefaultOffsetY(O){return this._offsetY=O,this}withTransformOriginOn(O){return this._transformOriginSelector=O,this}_getOriginPoint(O,Z,ie){let ge,Ae;if("center"==ie.originX)ge=O.left+O.width/2;else{const ue=this._isRtl()?O.right:O.left,tt=this._isRtl()?O.left:O.right;ge="start"==ie.originX?ue:tt}return Z.left<0&&(ge-=Z.left),Ae="center"==ie.originY?O.top+O.height/2:"top"==ie.originY?O.top:O.bottom,Z.top<0&&(Ae-=Z.top),{x:ge,y:Ae}}_getOverlayPoint(O,Z,ie){let ge,Ae;return ge="center"==ie.overlayX?-Z.width/2:"start"===ie.overlayX?this._isRtl()?-Z.width:0:this._isRtl()?0:-Z.width,Ae="center"==ie.overlayY?-Z.height/2:"top"==ie.overlayY?0:-Z.height,{x:O.x+ge,y:O.y+Ae}}_getOverlayFit(O,Z,ie,ge){const Ae=Ge(Z);let{x:ue,y:tt}=O,gt=this._getOffset(ge,"x"),Tt=this._getOffset(ge,"y");gt&&(ue+=gt),Tt&&(tt+=Tt);let on=0-tt,Un=tt+Ae.height-ie.height,Hn=this._subtractOverflows(Ae.width,0-ue,ue+Ae.width-ie.width),ii=this._subtractOverflows(Ae.height,on,Un),an=Hn*ii;return{visibleArea:an,isCompletelyWithinViewport:Ae.width*Ae.height===an,fitsInViewportVertically:ii===Ae.height,fitsInViewportHorizontally:Hn==Ae.width}}_canFitWithFlexibleDimensions(O,Z,ie){if(this._hasFlexibleDimensions){const ge=ie.bottom-Z.y,Ae=ie.right-Z.x,ue=Ee(this._overlayRef.getConfig().minHeight),tt=Ee(this._overlayRef.getConfig().minWidth),Tt=O.fitsInViewportHorizontally||null!=tt&&tt<=Ae;return(O.fitsInViewportVertically||null!=ue&&ue<=ge)&&Tt}return!1}_pushOverlayOnScreen(O,Z,ie){if(this._previousPushAmount&&this._positionLocked)return{x:O.x+this._previousPushAmount.x,y:O.y+this._previousPushAmount.y};const ge=Ge(Z),Ae=this._viewportRect,ue=Math.max(O.x+ge.width-Ae.width,0),tt=Math.max(O.y+ge.height-Ae.height,0),gt=Math.max(Ae.top-ie.top-O.y,0),Tt=Math.max(Ae.left-ie.left-O.x,0);let rn=0,ln=0;return rn=ge.width<=Ae.width?Tt||-ue:O.x<this._viewportMargin?Ae.left-ie.left-O.x:0,ln=ge.height<=Ae.height?gt||-tt:O.y<this._viewportMargin?Ae.top-ie.top-O.y:0,this._previousPushAmount={x:rn,y:ln},{x:O.x+rn,y:O.y+ln}}_applyPosition(O,Z){if(this._setTransformOrigin(O),this._setOverlayElementStyles(Z,O),this._setBoundingBoxStyles(Z,O),O.panelClass&&this._addPanelClasses(O.panelClass),this._lastPosition=O,this._positionChanges.observers.length){const ie=this._getScrollVisibility(),ge=new Ue(O,ie);this._positionChanges.next(ge)}this._isInitialRender=!1}_setTransformOrigin(O){if(!this._transformOriginSelector)return;const Z=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ie,ge=O.overlayY;ie="center"===O.overlayX?"center":this._isRtl()?"start"===O.overlayX?"right":"left":"start"===O.overlayX?"left":"right";for(let Ae=0;Ae<Z.length;Ae++)Z[Ae].style.transformOrigin=`${ie} ${ge}`}_calculateBoundingBoxRect(O,Z){const ie=this._viewportRect,ge=this._isRtl();let Ae,ue,tt,rn,ln,on;if("top"===Z.overlayY)ue=O.y,Ae=ie.height-ue+this._viewportMargin;else if("bottom"===Z.overlayY)tt=ie.height-O.y+2*this._viewportMargin,Ae=ie.height-tt+this._viewportMargin;else{const Un=Math.min(ie.bottom-O.y+ie.top,O.y),Hn=this._lastBoundingBoxSize.height;Ae=2*Un,ue=O.y-Un,Ae>Hn&&!this._isInitialRender&&!this._growAfterOpen&&(ue=O.y-Hn/2)}if("end"===Z.overlayX&&!ge||"start"===Z.overlayX&&ge)on=ie.width-O.x+this._viewportMargin,rn=O.x-this._viewportMargin;else if("start"===Z.overlayX&&!ge||"end"===Z.overlayX&&ge)ln=O.x,rn=ie.right-O.x;else{const Un=Math.min(ie.right-O.x+ie.left,O.x),Hn=this._lastBoundingBoxSize.width;rn=2*Un,ln=O.x-Un,rn>Hn&&!this._isInitialRender&&!this._growAfterOpen&&(ln=O.x-Hn/2)}return{top:ue,left:ln,bottom:tt,right:on,width:rn,height:Ae}}_setBoundingBoxStyles(O,Z){const ie=this._calculateBoundingBoxRect(O,Z);!this._isInitialRender&&!this._growAfterOpen&&(ie.height=Math.min(ie.height,this._lastBoundingBoxSize.height),ie.width=Math.min(ie.width,this._lastBoundingBoxSize.width));const ge={};if(this._hasExactPosition())ge.top=ge.left="0",ge.bottom=ge.right=ge.maxHeight=ge.maxWidth="",ge.width=ge.height="100%";else{const Ae=this._overlayRef.getConfig().maxHeight,ue=this._overlayRef.getConfig().maxWidth;ge.height=(0,$.HM)(ie.height),ge.top=(0,$.HM)(ie.top),ge.bottom=(0,$.HM)(ie.bottom),ge.width=(0,$.HM)(ie.width),ge.left=(0,$.HM)(ie.left),ge.right=(0,$.HM)(ie.right),ge.alignItems="center"===Z.overlayX?"center":"end"===Z.overlayX?"flex-end":"flex-start",ge.justifyContent="center"===Z.overlayY?"center":"bottom"===Z.overlayY?"flex-end":"flex-start",Ae&&(ge.maxHeight=(0,$.HM)(Ae)),ue&&(ge.maxWidth=(0,$.HM)(ue))}this._lastBoundingBoxSize=ie,$e(this._boundingBox.style,ge)}_resetBoundingBoxStyles(){$e(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$e(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(O,Z){const ie={},ge=this._hasExactPosition(),Ae=this._hasFlexibleDimensions,ue=this._overlayRef.getConfig();if(ge){const rn=this._viewportRuler.getViewportScrollPosition();$e(ie,this._getExactOverlayY(Z,O,rn)),$e(ie,this._getExactOverlayX(Z,O,rn))}else ie.position="static";let tt="",gt=this._getOffset(Z,"x"),Tt=this._getOffset(Z,"y");gt&&(tt+=`translateX(${gt}px) `),Tt&&(tt+=`translateY(${Tt}px)`),ie.transform=tt.trim(),ue.maxHeight&&(ge?ie.maxHeight=(0,$.HM)(ue.maxHeight):Ae&&(ie.maxHeight="")),ue.maxWidth&&(ge?ie.maxWidth=(0,$.HM)(ue.maxWidth):Ae&&(ie.maxWidth="")),$e(this._pane.style,ie)}_getExactOverlayY(O,Z,ie){let ge={top:"",bottom:""},Ae=this._getOverlayPoint(Z,this._overlayRect,O);return this._isPushed&&(Ae=this._pushOverlayOnScreen(Ae,this._overlayRect,ie)),"bottom"===O.overlayY?ge.bottom=this._document.documentElement.clientHeight-(Ae.y+this._overlayRect.height)+"px":ge.top=(0,$.HM)(Ae.y),ge}_getExactOverlayX(O,Z,ie){let ue,ge={left:"",right:""},Ae=this._getOverlayPoint(Z,this._overlayRect,O);return this._isPushed&&(Ae=this._pushOverlayOnScreen(Ae,this._overlayRect,ie)),ue=this._isRtl()?"end"===O.overlayX?"left":"right":"end"===O.overlayX?"right":"left","right"===ue?ge.right=this._document.documentElement.clientWidth-(Ae.x+this._overlayRect.width)+"px":ge.left=(0,$.HM)(Ae.x),ge}_getScrollVisibility(){const O=this._getOriginRect(),Z=this._pane.getBoundingClientRect(),ie=this._scrollables.map(ge=>ge.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:fe(O,ie),isOriginOutsideView:be(O,ie),isOverlayClipped:fe(Z,ie),isOverlayOutsideView:be(Z,ie)}}_subtractOverflows(O,...Z){return Z.reduce((ie,ge)=>ie-Math.max(ge,0),O)}_getNarrowedViewportRect(){const O=this._document.documentElement.clientWidth,Z=this._document.documentElement.clientHeight,ie=this._viewportRuler.getViewportScrollPosition();return{top:ie.top+this._viewportMargin,left:ie.left+this._viewportMargin,right:ie.left+O-this._viewportMargin,bottom:ie.top+Z-this._viewportMargin,width:O-2*this._viewportMargin,height:Z-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(O,Z){return"x"===Z?null==O.offsetX?this._offsetX:O.offsetX:null==O.offsetY?this._offsetY:O.offsetY}_validatePositions(){}_addPanelClasses(O){this._pane&&(0,$.Eq)(O).forEach(Z=>{""!==Z&&-1===this._appliedPanelClasses.indexOf(Z)&&(this._appliedPanelClasses.push(Z),this._pane.classList.add(Z))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(O=>{this._pane.classList.remove(O)}),this._appliedPanelClasses=[])}_getOriginRect(){const O=this._origin;if(O instanceof g.SBq)return O.nativeElement.getBoundingClientRect();if(O instanceof Element)return O.getBoundingClientRect();const Z=O.width||0,ie=O.height||0;return{top:O.y,bottom:O.y+ie,left:O.x,right:O.x+Z,height:ie,width:Z}}}function $e(ht,O){for(let Z in O)O.hasOwnProperty(Z)&&(ht[Z]=O[Z]);return ht}function Ee(ht){if("number"!=typeof ht&&null!=ht){const[O,Z]=ht.split(Je);return Z&&"px"!==Z?null:parseFloat(O)}return ht||null}function Ge(ht){return{top:Math.floor(ht.top),right:Math.floor(ht.right),bottom:Math.floor(ht.bottom),left:Math.floor(ht.left),width:Math.floor(ht.width),height:Math.floor(ht.height)}}const z="cdk-global-overlay-wrapper";class Ce{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(O){const Z=O.getConfig();this._overlayRef=O,this._width&&!Z.width&&O.updateSize({width:this._width}),this._height&&!Z.height&&O.updateSize({height:this._height}),O.hostElement.classList.add(z),this._isDisposed=!1}top(O=""){return this._bottomOffset="",this._topOffset=O,this._alignItems="flex-start",this}left(O=""){return this._rightOffset="",this._leftOffset=O,this._justifyContent="flex-start",this}bottom(O=""){return this._topOffset="",this._bottomOffset=O,this._alignItems="flex-end",this}right(O=""){return this._leftOffset="",this._rightOffset=O,this._justifyContent="flex-end",this}width(O=""){return this._overlayRef?this._overlayRef.updateSize({width:O}):this._width=O,this}height(O=""){return this._overlayRef?this._overlayRef.updateSize({height:O}):this._height=O,this}centerHorizontally(O=""){return this.left(O),this._justifyContent="center",this}centerVertically(O=""){return this.top(O),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const O=this._overlayRef.overlayElement.style,Z=this._overlayRef.hostElement.style,ie=this._overlayRef.getConfig(),{width:ge,height:Ae,maxWidth:ue,maxHeight:tt}=ie,gt=!("100%"!==ge&&"100vw"!==ge||ue&&"100%"!==ue&&"100vw"!==ue),Tt=!("100%"!==Ae&&"100vh"!==Ae||tt&&"100%"!==tt&&"100vh"!==tt);O.position=this._cssPosition,O.marginLeft=gt?"0":this._leftOffset,O.marginTop=Tt?"0":this._topOffset,O.marginBottom=this._bottomOffset,O.marginRight=this._rightOffset,gt?Z.justifyContent="flex-start":"center"===this._justifyContent?Z.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?Z.justifyContent="flex-end":"flex-end"===this._justifyContent&&(Z.justifyContent="flex-start"):Z.justifyContent=this._justifyContent,Z.alignItems=Tt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const O=this._overlayRef.overlayElement.style,Z=this._overlayRef.hostElement,ie=Z.style;Z.classList.remove(z),ie.justifyContent=ie.alignItems=O.marginTop=O.marginBottom=O.marginLeft=O.marginRight=O.position="",this._overlayRef=null,this._isDisposed=!0}}let Rt=(()=>{class ht{constructor(Z,ie,ge,Ae){this._viewportRuler=Z,this._document=ie,this._platform=ge,this._overlayContainer=Ae}global(){return new Ce}flexibleConnectedTo(Z){return new je(Z,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return ht.\u0275fac=function(Z){return new(Z||ht)(g.LFG(h.rL),g.LFG(w.K0),g.LFG(we.t4),g.LFG(yt))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),pt=(()=>{class ht{constructor(Z){this._attachedOverlays=[],this._document=Z}ngOnDestroy(){this.detach()}add(Z){this.remove(Z),this._attachedOverlays.push(Z)}remove(Z){const ie=this._attachedOverlays.indexOf(Z);ie>-1&&this._attachedOverlays.splice(ie,1),0===this._attachedOverlays.length&&this.detach()}}return ht.\u0275fac=function(Z){return new(Z||ht)(g.LFG(w.K0))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),Ot=(()=>{class ht extends pt{constructor(Z,ie){super(Z),this._ngZone=ie,this._keydownListener=ge=>{const Ae=this._attachedOverlays;for(let ue=Ae.length-1;ue>-1;ue--)if(Ae[ue]._keydownEvents.observers.length>0){const tt=Ae[ue]._keydownEvents;this._ngZone?this._ngZone.run(()=>tt.next(ge)):tt.next(ge);break}}}add(Z){super.add(Z),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return ht.\u0275fac=function(Z){return new(Z||ht)(g.LFG(w.K0),g.LFG(g.R0b,8))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),Et=(()=>{class ht extends pt{constructor(Z,ie,ge){super(Z),this._platform=ie,this._ngZone=ge,this._cursorStyleIsSet=!1,this._pointerDownListener=Ae=>{this._pointerDownEventTarget=(0,we.sA)(Ae)},this._clickListener=Ae=>{const ue=(0,we.sA)(Ae),tt="click"===Ae.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ue;this._pointerDownEventTarget=null;const gt=this._attachedOverlays.slice();for(let Tt=gt.length-1;Tt>-1;Tt--){const rn=gt[Tt];if(rn._outsidePointerEvents.observers.length<1||!rn.hasAttached())continue;if(rn.overlayElement.contains(ue)||rn.overlayElement.contains(tt))break;const ln=rn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ln.next(Ae)):ln.next(Ae)}}}add(Z){if(super.add(Z),!this._isAttached){const ie=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ie)):this._addEventListeners(ie),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ie.style.cursor,ie.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Z=this._document.body;Z.removeEventListener("pointerdown",this._pointerDownListener,!0),Z.removeEventListener("click",this._clickListener,!0),Z.removeEventListener("auxclick",this._clickListener,!0),Z.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Z.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Z){Z.addEventListener("pointerdown",this._pointerDownListener,!0),Z.addEventListener("click",this._clickListener,!0),Z.addEventListener("auxclick",this._clickListener,!0),Z.addEventListener("contextmenu",this._clickListener,!0)}}return ht.\u0275fac=function(Z){return new(Z||ht)(g.LFG(w.K0),g.LFG(we.t4),g.LFG(g.R0b,8))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),bt=0,Vt=(()=>{class ht{constructor(Z,ie,ge,Ae,ue,tt,gt,Tt,rn,ln,on){this.scrollStrategies=Z,this._overlayContainer=ie,this._componentFactoryResolver=ge,this._positionBuilder=Ae,this._keyboardDispatcher=ue,this._injector=tt,this._ngZone=gt,this._document=Tt,this._directionality=rn,this._location=ln,this._outsideClickDispatcher=on}create(Z){const ie=this._createHostElement(),ge=this._createPaneElement(ie),Ae=this._createPortalOutlet(ge),ue=new J(Z);return ue.direction=ue.direction||this._directionality.value,new We(Ae,ie,ge,ue,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(Z){const ie=this._document.createElement("div");return ie.id="cdk-overlay-"+bt++,ie.classList.add("cdk-overlay-pane"),Z.appendChild(ie),ie}_createHostElement(){const Z=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Z),Z}_createPortalOutlet(Z){return this._appRef||(this._appRef=this._injector.get(g.z2F)),new Pe.u0(Z,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return ht.\u0275fac=function(Z){return new(Z||ht)(g.LFG(De),g.LFG(yt),g.LFG(g._Vd),g.LFG(Rt),g.LFG(Ot),g.LFG(g.zs3),g.LFG(g.R0b),g.LFG(w.K0),g.LFG(Ie.Is),g.LFG(w.Ye),g.LFG(Et))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac}),ht})();const Ze=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],St=new g.OlP("cdk-connected-overlay-scroll-strategy");let sn=(()=>{class ht{constructor(Z){this.elementRef=Z}}return ht.\u0275fac=function(Z){return new(Z||ht)(g.Y36(g.SBq))},ht.\u0275dir=g.lG2({type:ht,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),ht})(),On=(()=>{class ht{constructor(Z,ie,ge,Ae,ue){this._overlay=Z,this._dir=ue,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ne.w0.EMPTY,this._attachSubscription=ne.w0.EMPTY,this._detachSubscription=ne.w0.EMPTY,this._positionSubscription=ne.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new g.vpe,this.positionChange=new g.vpe,this.attach=new g.vpe,this.detach=new g.vpe,this.overlayKeydown=new g.vpe,this.overlayOutsideClick=new g.vpe,this._templatePortal=new Pe.UE(ie,ge),this._scrollStrategyFactory=Ae,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(Z){this._offsetX=Z,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Z){this._offsetY=Z,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Z){this._hasBackdrop=(0,$.Ig)(Z)}get lockPosition(){return this._lockPosition}set lockPosition(Z){this._lockPosition=(0,$.Ig)(Z)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Z){this._flexibleDimensions=(0,$.Ig)(Z)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Z){this._growAfterOpen=(0,$.Ig)(Z)}get push(){return this._push}set push(Z){this._push=(0,$.Ig)(Z)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Z){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Z.origin&&this.open&&this._position.apply()),Z.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Ze);const Z=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Z.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Z.detachments().subscribe(()=>this.detach.emit()),Z.keydownEvents().subscribe(ie=>{this.overlayKeydown.next(ie),ie.keyCode===st.hY&&!this.disableClose&&!(0,st.Vb)(ie)&&(ie.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(ie=>{this.overlayOutsideClick.next(ie)})}_buildConfig(){const Z=this._position=this.positionStrategy||this._createPositionStrategy(),ie=new J({direction:this._dir,positionStrategy:Z,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(ie.width=this.width),(this.height||0===this.height)&&(ie.height=this.height),(this.minWidth||0===this.minWidth)&&(ie.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(ie.minHeight=this.minHeight),this.backdropClass&&(ie.backdropClass=this.backdropClass),this.panelClass&&(ie.panelClass=this.panelClass),ie}_updatePositionStrategy(Z){const ie=this.positions.map(ge=>({originX:ge.originX,originY:ge.originY,overlayX:ge.overlayX,overlayY:ge.overlayY,offsetX:ge.offsetX||this.offsetX,offsetY:ge.offsetY||this.offsetY,panelClass:ge.panelClass||void 0}));return Z.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(ie).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Z=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Z),Z}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof sn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Z=>{this.backdropClick.emit(Z)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function ze(ht,O=!1){return(0,pe.e)((Z,ie)=>{let ge=0;Z.subscribe((0,ce.x)(ie,Ae=>{const ue=ht(Ae,ge++);(ue||O)&&ie.next(Ae),!ue&&ie.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Z=>{this.positionChange.emit(Z),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return ht.\u0275fac=function(Z){return new(Z||ht)(g.Y36(Vt),g.Y36(g.Rgc),g.Y36(g.s_b),g.Y36(St),g.Y36(Ie.Is,8))},ht.\u0275dir=g.lG2({type:ht,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[g.TTD]}),ht})();const fn={provide:St,deps:[Vt],useFactory:function Fn(ht){return()=>ht.scrollStrategies.reposition()}};let gn=(()=>{class ht{}return ht.\u0275fac=function(Z){return new(Z||ht)},ht.\u0275mod=g.oAB({type:ht}),ht.\u0275inj=g.cJS({providers:[Vt,fn],imports:[[Ie.vT,Pe.eL,h.Cl],h.Cl]}),ht})()},925:($t,Xe,b)=>{b.d(Xe,{t4:()=>$,sA:()=>Nt,ht:()=>ke,kV:()=>at,Oy:()=>it,_i:()=>He,i$:()=>pe,Mq:()=>xe});var h=b(5e3),w=b(9808);let g;try{g="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(be){g=!1}let ne,ce,ze,st,$=(()=>{class be{constructor(Se){this._platformId=Se,this.isBrowser=this._platformId?(0,w.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!g)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return be.\u0275fac=function(Se){return new(Se||be)(h.LFG(h.Lbi))},be.\u0275prov=h.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function pe(be){return function X(){if(null==ne&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ne=!0}))}finally{ne=ne||!1}return ne}()?be:!!be.capture}function xe(){if(null==ze){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ze=!1,ze;if("scrollBehavior"in document.documentElement.style)ze=!0;else{const be=Element.prototype.scrollTo;ze=!!be&&!/\{\s*\[native code\]\s*\}/.test(be.toString())}}return ze}function He(){if("object"!=typeof document||!document)return 0;if(null==ce){const be=document.createElement("div"),fe=be.style;be.dir="rtl",fe.width="1px",fe.overflow="auto",fe.visibility="hidden",fe.pointerEvents="none",fe.position="absolute";const Se=document.createElement("div"),De=Se.style;De.width="2px",De.height="1px",be.appendChild(Se),document.body.appendChild(be),ce=0,0===be.scrollLeft&&(be.scrollLeft=1,ce=0===be.scrollLeft?1:2),be.remove()}return ce}function at(be){if(function Fe(){if(null==st){const be="undefined"!=typeof document?document.head:null;st=!(!be||!be.createShadowRoot&&!be.attachShadow)}return st}()){const fe=be.getRootNode?be.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&fe instanceof ShadowRoot)return fe}return null}function ke(){let be="undefined"!=typeof document&&document?document.activeElement:null;for(;be&&be.shadowRoot;){const fe=be.shadowRoot.activeElement;if(fe===be)break;be=fe}return be}function Nt(be){return be.composedPath?be.composedPath()[0]:be.target}function it(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:($t,Xe,b)=>{b.d(Xe,{en:()=>ze,Pl:()=>ke,C5:()=>X,u0:()=>He,eL:()=>it,UE:()=>pe});var h=b(5e3),w=b(9808);class ne{attach(Se){return this._attachedHost=Se,Se.attach(this)}detach(){let Se=this._attachedHost;null!=Se&&(this._attachedHost=null,Se.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Se){this._attachedHost=Se}}class X extends ne{constructor(Se,De,J,Qe){super(),this.component=Se,this.viewContainerRef=De,this.injector=J,this.componentFactoryResolver=Qe}}class pe extends ne{constructor(Se,De,J){super(),this.templateRef=Se,this.viewContainerRef=De,this.context=J}get origin(){return this.templateRef.elementRef}attach(Se,De=this.context){return this.context=De,super.attach(Se)}detach(){return this.context=void 0,super.detach()}}class ce extends ne{constructor(Se){super(),this.element=Se instanceof h.SBq?Se.nativeElement:Se}}class ze{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Se){return Se instanceof X?(this._attachedPortal=Se,this.attachComponentPortal(Se)):Se instanceof pe?(this._attachedPortal=Se,this.attachTemplatePortal(Se)):this.attachDomPortal&&Se instanceof ce?(this._attachedPortal=Se,this.attachDomPortal(Se)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Se){this._disposeFn=Se}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class He extends ze{constructor(Se,De,J,Qe,se){super(),this.outletElement=Se,this._componentFactoryResolver=De,this._appRef=J,this._defaultInjector=Qe,this.attachDomPortal=Ue=>{const te=Ue.element,Ne=this._document.createComment("dom-portal");te.parentNode.insertBefore(Ne,te),this.outletElement.appendChild(te),this._attachedPortal=Ue,super.setDisposeFn(()=>{Ne.parentNode&&Ne.parentNode.replaceChild(te,Ne)})},this._document=se}attachComponentPortal(Se){const J=(Se.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Se.component);let Qe;return Se.viewContainerRef?(Qe=Se.viewContainerRef.createComponent(J,Se.viewContainerRef.length,Se.injector||Se.viewContainerRef.injector),this.setDisposeFn(()=>Qe.destroy())):(Qe=J.create(Se.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(Qe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Qe.hostView),Qe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Qe)),this._attachedPortal=Se,Qe}attachTemplatePortal(Se){let De=Se.viewContainerRef,J=De.createEmbeddedView(Se.templateRef,Se.context);return J.rootNodes.forEach(Qe=>this.outletElement.appendChild(Qe)),J.detectChanges(),this.setDisposeFn(()=>{let Qe=De.indexOf(J);-1!==Qe&&De.remove(Qe)}),this._attachedPortal=Se,J}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Se){return Se.hostView.rootNodes[0]}}let ke=(()=>{class fe extends ze{constructor(De,J,Qe){super(),this._componentFactoryResolver=De,this._viewContainerRef=J,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=se=>{const Ue=se.element,te=this._document.createComment("dom-portal");se.setAttachedHost(this),Ue.parentNode.insertBefore(te,Ue),this._getRootNode().appendChild(Ue),this._attachedPortal=se,super.setDisposeFn(()=>{te.parentNode&&te.parentNode.replaceChild(Ue,te)})},this._document=Qe}get portal(){return this._attachedPortal}set portal(De){this.hasAttached()&&!De&&!this._isInitialized||(this.hasAttached()&&super.detach(),De&&super.attach(De),this._attachedPortal=De||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(De){De.setAttachedHost(this);const J=null!=De.viewContainerRef?De.viewContainerRef:this._viewContainerRef,se=(De.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(De.component),Ue=J.createComponent(se,J.length,De.injector||J.injector);return J!==this._viewContainerRef&&this._getRootNode().appendChild(Ue.hostView.rootNodes[0]),super.setDisposeFn(()=>Ue.destroy()),this._attachedPortal=De,this._attachedRef=Ue,this.attached.emit(Ue),Ue}attachTemplatePortal(De){De.setAttachedHost(this);const J=this._viewContainerRef.createEmbeddedView(De.templateRef,De.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=De,this._attachedRef=J,this.attached.emit(J),J}_getRootNode(){const De=this._viewContainerRef.element.nativeElement;return De.nodeType===De.ELEMENT_NODE?De:De.parentNode}}return fe.\u0275fac=function(De){return new(De||fe)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(w.K0))},fe.\u0275dir=h.lG2({type:fe,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),fe})(),it=(()=>{class fe{}return fe.\u0275fac=function(De){return new(De||fe)},fe.\u0275mod=h.oAB({type:fe}),fe.\u0275inj=h.cJS({}),fe})()},5494:($t,Xe,b)=>{b.d(Xe,{PQ:()=>sn,ZD:()=>Z,mF:()=>St,Cl:()=>ie,rL:()=>Fn});var h=b(3191),w=b(5e3),g=b(4408),$=b(727);const we={schedule(ge){let Ae=requestAnimationFrame,ue=cancelAnimationFrame;const{delegate:tt}=we;tt&&(Ae=tt.requestAnimationFrame,ue=tt.cancelAnimationFrame);const gt=Ae(Tt=>{ue=void 0,ge(Tt)});return new $.w0(()=>null==ue?void 0:ue(gt))},requestAnimationFrame(...ge){const{delegate:Ae}=we;return((null==Ae?void 0:Ae.requestAnimationFrame)||requestAnimationFrame)(...ge)},cancelAnimationFrame(...ge){const{delegate:Ae}=we;return((null==Ae?void 0:Ae.cancelAnimationFrame)||cancelAnimationFrame)(...ge)},delegate:void 0};var Pe=b(7565);new class _e extends Pe.v{flush(Ae){this._active=!0;const ue=this._scheduled;this._scheduled=void 0;const{actions:tt}=this;let gt;Ae=Ae||tt.shift();do{if(gt=Ae.execute(Ae.state,Ae.delay))break}while((Ae=tt[0])&&Ae.id===ue&&tt.shift());if(this._active=!1,gt){for(;(Ae=tt[0])&&Ae.id===ue&&tt.shift();)Ae.unsubscribe();throw gt}}}(class Ie extends g.o{constructor(Ae,ue){super(Ae,ue),this.scheduler=Ae,this.work=ue}requestAsyncId(Ae,ue,tt=0){return null!==tt&&tt>0?super.requestAsyncId(Ae,ue,tt):(Ae.actions.push(this),Ae._scheduled||(Ae._scheduled=we.requestAnimationFrame(()=>Ae.flush(void 0))))}recycleAsyncId(Ae,ue,tt=0){if(null!=tt&&tt>0||null==tt&&this.delay>0)return super.recycleAsyncId(Ae,ue,tt);Ae.actions.some(gt=>gt.id===ue)||(we.cancelAnimationFrame(ue),Ae._scheduled=void 0)}});let ce,pe=1;const ze={};function xe(ge){return ge in ze&&(delete ze[ge],!0)}const He={setImmediate(ge){const Ae=pe++;return ze[Ae]=!0,ce||(ce=Promise.resolve()),ce.then(()=>xe(Ae)&&ge()),Ae},clearImmediate(ge){xe(ge)}},{setImmediate:Fe,clearImmediate:at}=He,ke={setImmediate(...ge){const{delegate:Ae}=ke;return((null==Ae?void 0:Ae.setImmediate)||Fe)(...ge)},clearImmediate(ge){const{delegate:Ae}=ke;return((null==Ae?void 0:Ae.clearImmediate)||at)(ge)},delegate:void 0};new class it extends Pe.v{flush(Ae){this._active=!0;const ue=this._scheduled;this._scheduled=void 0;const{actions:tt}=this;let gt;Ae=Ae||tt.shift();do{if(gt=Ae.execute(Ae.state,Ae.delay))break}while((Ae=tt[0])&&Ae.id===ue&&tt.shift());if(this._active=!1,gt){for(;(Ae=tt[0])&&Ae.id===ue&&tt.shift();)Ae.unsubscribe();throw gt}}}(class Nt extends g.o{constructor(Ae,ue){super(Ae,ue),this.scheduler=Ae,this.work=ue}requestAsyncId(Ae,ue,tt=0){return null!==tt&&tt>0?super.requestAsyncId(Ae,ue,tt):(Ae.actions.push(this),Ae._scheduled||(Ae._scheduled=ke.setImmediate(Ae.flush.bind(Ae,void 0))))}recycleAsyncId(Ae,ue,tt=0){if(null!=tt&&tt>0||null==tt&&this.delay>0)return super.recycleAsyncId(Ae,ue,tt);Ae.actions.some(gt=>gt.id===ue)||(ke.clearImmediate(ue),Ae._scheduled=void 0)}});var Se=b(7579),De=b(9646),J=b(8306),Qe=b(4968),se=b(4986),Ue=b(4482),te=b(8421),Ne=b(5403),yt=b(3532);function je(ge,Ae=se.z){return function We(ge){return(0,Ue.e)((Ae,ue)=>{let tt=!1,gt=null,Tt=null,rn=!1;const ln=()=>{if(null==Tt||Tt.unsubscribe(),Tt=null,tt){tt=!1;const Un=gt;gt=null,ue.next(Un)}rn&&ue.complete()},on=()=>{Tt=null,rn&&ue.complete()};Ae.subscribe((0,Ne.x)(ue,Un=>{tt=!0,gt=Un,Tt||(0,te.Xf)(ge(Un)).subscribe(Tt=(0,Ne.x)(ue,ln,on))},()=>{rn=!0,(!tt||!Tt||Tt.closed)&&ue.complete()}))})}(()=>function Je(ge=0,Ae,ue=se.P){let tt=-1;return null!=Ae&&((0,yt.K)(Ae)?ue=Ae:tt=Ae),new J.y(gt=>{let Tt=function _t(ge){return ge instanceof Date&&!isNaN(ge)}(ge)?+ge-ue.now():ge;Tt<0&&(Tt=0);let rn=0;return ue.schedule(function(){gt.closed||(gt.next(rn++),0<=tt?this.schedule(void 0,tt):gt.complete())},Tt)})}(ge,Ae))}var $e=b(9300),Ee=b(2722),Ge=b(9808),z=b(925),Ce=b(226);let St=(()=>{class ge{constructor(ue,tt,gt){this._ngZone=ue,this._platform=tt,this._scrolled=new Se.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=gt}register(ue){this.scrollContainers.has(ue)||this.scrollContainers.set(ue,ue.elementScrolled().subscribe(()=>this._scrolled.next(ue)))}deregister(ue){const tt=this.scrollContainers.get(ue);tt&&(tt.unsubscribe(),this.scrollContainers.delete(ue))}scrolled(ue=20){return this._platform.isBrowser?new J.y(tt=>{this._globalSubscription||this._addGlobalListener();const gt=ue>0?this._scrolled.pipe(je(ue)).subscribe(tt):this._scrolled.subscribe(tt);return this._scrolledCount++,()=>{gt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,De.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ue,tt)=>this.deregister(tt)),this._scrolled.complete()}ancestorScrolled(ue,tt){const gt=this.getAncestorScrollContainers(ue);return this.scrolled(tt).pipe((0,$e.h)(Tt=>!Tt||gt.indexOf(Tt)>-1))}getAncestorScrollContainers(ue){const tt=[];return this.scrollContainers.forEach((gt,Tt)=>{this._scrollableContainsElement(Tt,ue)&&tt.push(Tt)}),tt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ue,tt){let gt=(0,h.fI)(tt),Tt=ue.getElementRef().nativeElement;do{if(gt==Tt)return!0}while(gt=gt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ue=this._getWindow();return(0,Qe.R)(ue.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ge.\u0275fac=function(ue){return new(ue||ge)(w.LFG(w.R0b),w.LFG(z.t4),w.LFG(Ge.K0,8))},ge.\u0275prov=w.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),sn=(()=>{class ge{constructor(ue,tt,gt,Tt){this.elementRef=ue,this.scrollDispatcher=tt,this.ngZone=gt,this.dir=Tt,this._destroyed=new Se.x,this._elementScrolled=new J.y(rn=>this.ngZone.runOutsideAngular(()=>(0,Qe.R)(this.elementRef.nativeElement,"scroll").pipe((0,Ee.R)(this._destroyed)).subscribe(rn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ue){const tt=this.elementRef.nativeElement,gt=this.dir&&"rtl"==this.dir.value;null==ue.left&&(ue.left=gt?ue.end:ue.start),null==ue.right&&(ue.right=gt?ue.start:ue.end),null!=ue.bottom&&(ue.top=tt.scrollHeight-tt.clientHeight-ue.bottom),gt&&0!=(0,z._i)()?(null!=ue.left&&(ue.right=tt.scrollWidth-tt.clientWidth-ue.left),2==(0,z._i)()?ue.left=ue.right:1==(0,z._i)()&&(ue.left=ue.right?-ue.right:ue.right)):null!=ue.right&&(ue.left=tt.scrollWidth-tt.clientWidth-ue.right),this._applyScrollToOptions(ue)}_applyScrollToOptions(ue){const tt=this.elementRef.nativeElement;(0,z.Mq)()?tt.scrollTo(ue):(null!=ue.top&&(tt.scrollTop=ue.top),null!=ue.left&&(tt.scrollLeft=ue.left))}measureScrollOffset(ue){const tt="left",Tt=this.elementRef.nativeElement;if("top"==ue)return Tt.scrollTop;if("bottom"==ue)return Tt.scrollHeight-Tt.clientHeight-Tt.scrollTop;const rn=this.dir&&"rtl"==this.dir.value;return"start"==ue?ue=rn?"right":tt:"end"==ue&&(ue=rn?tt:"right"),rn&&2==(0,z._i)()?ue==tt?Tt.scrollWidth-Tt.clientWidth-Tt.scrollLeft:Tt.scrollLeft:rn&&1==(0,z._i)()?ue==tt?Tt.scrollLeft+Tt.scrollWidth-Tt.clientWidth:-Tt.scrollLeft:ue==tt?Tt.scrollLeft:Tt.scrollWidth-Tt.clientWidth-Tt.scrollLeft}}return ge.\u0275fac=function(ue){return new(ue||ge)(w.Y36(w.SBq),w.Y36(St),w.Y36(w.R0b),w.Y36(Ce.Is,8))},ge.\u0275dir=w.lG2({type:ge,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),ge})(),Fn=(()=>{class ge{constructor(ue,tt,gt){this._platform=ue,this._change=new Se.x,this._changeListener=Tt=>{this._change.next(Tt)},this._document=gt,tt.runOutsideAngular(()=>{if(ue.isBrowser){const Tt=this._getWindow();Tt.addEventListener("resize",this._changeListener),Tt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ue=this._getWindow();ue.removeEventListener("resize",this._changeListener),ue.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ue={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ue}getViewportRect(){const ue=this.getViewportScrollPosition(),{width:tt,height:gt}=this.getViewportSize();return{top:ue.top,left:ue.left,bottom:ue.top+gt,right:ue.left+tt,height:gt,width:tt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ue=this._document,tt=this._getWindow(),gt=ue.documentElement,Tt=gt.getBoundingClientRect();return{top:-Tt.top||ue.body.scrollTop||tt.scrollY||gt.scrollTop||0,left:-Tt.left||ue.body.scrollLeft||tt.scrollX||gt.scrollLeft||0}}change(ue=20){return ue>0?this._change.pipe(je(ue)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ue=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ue.innerWidth,height:ue.innerHeight}:{width:0,height:0}}}return ge.\u0275fac=function(ue){return new(ue||ge)(w.LFG(z.t4),w.LFG(w.R0b),w.LFG(Ge.K0,8))},ge.\u0275prov=w.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),Z=(()=>{class ge{}return ge.\u0275fac=function(ue){return new(ue||ge)},ge.\u0275mod=w.oAB({type:ge}),ge.\u0275inj=w.cJS({}),ge})(),ie=(()=>{class ge{}return ge.\u0275fac=function(ue){return new(ue||ge)},ge.\u0275mod=w.oAB({type:ge}),ge.\u0275inj=w.cJS({imports:[[Ce.vT,Z],Ce.vT,Z]}),ge})()},2379:($t,Xe,b)=>{b.d(Xe,{HI:()=>He,Xx:()=>se,_0:()=>Se,nZ:()=>yt,Hs:()=>De,rO:()=>at,cu:()=>st,XJ:()=>te,Ud:()=>Ne,C2:()=>ze});var h=b(449),w=b(8306),g=b(576);function $(_t){return!!_t&&(_t instanceof w.y||(0,g.m)(_t.lift)&&(0,g.m)(_t.subscribe))}var we=b(7579),Ie=b(1135),Pe=b(9646),_e=b(2722),ne=b(5e3),X=b(3191),pe=b(226);class ze extends class ce{constructor(){this.expansionModel=new h.Ov(!0)}toggle(Je){this.expansionModel.toggle(this._trackByValue(Je))}expand(Je){this.expansionModel.select(this._trackByValue(Je))}collapse(Je){this.expansionModel.deselect(this._trackByValue(Je))}isExpanded(Je){return this.expansionModel.isSelected(this._trackByValue(Je))}toggleDescendants(Je){this.expansionModel.isSelected(this._trackByValue(Je))?this.collapseDescendants(Je):this.expandDescendants(Je)}collapseAll(){this.expansionModel.clear()}expandDescendants(Je){let je=[Je];je.push(...this.getDescendants(Je)),this.expansionModel.select(...je.map($e=>this._trackByValue($e)))}collapseDescendants(Je){let je=[Je];je.push(...this.getDescendants(Je)),this.expansionModel.deselect(...je.map($e=>this._trackByValue($e)))}_trackByValue(Je){return this.trackBy?this.trackBy(Je):Je}}{constructor(Je,je,$e){super(),this.getLevel=Je,this.isExpandable=je,this.options=$e,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(Je){const $e=[];for(let Ee=this.dataNodes.indexOf(Je)+1;Ee<this.dataNodes.length&&this.getLevel(Je)<this.getLevel(this.dataNodes[Ee]);Ee++)$e.push(this.dataNodes[Ee]);return $e}expandAll(){this.expansionModel.select(...this.dataNodes.map(Je=>this._trackByValue(Je)))}}const He=new ne.OlP("CDK_TREE_NODE_OUTLET_NODE");let st=(()=>{class _t{constructor(je,$e){this.viewContainer=je,this._node=$e}}return _t.\u0275fac=function(je){return new(je||_t)(ne.Y36(ne.s_b),ne.Y36(He,8))},_t.\u0275dir=ne.lG2({type:_t,selectors:[["","cdkTreeNodeOutlet",""]]}),_t})();class Fe{constructor(Je){this.$implicit=Je}}let at=(()=>{class _t{constructor(je){this.template=je}}return _t.\u0275fac=function(je){return new(je||_t)(ne.Y36(ne.Rgc))},_t.\u0275dir=ne.lG2({type:_t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),_t})(),Se=(()=>{class _t{constructor(je,$e){this._differs=je,this._changeDetectorRef=$e,this._onDestroy=new we.x,this._levels=new Map,this.viewChange=new Ie.X({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(je){this._dataSource!==je&&this._switchDataSource(je)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const je=this._nodeDefs.filter($e=>!$e.when);this._defaultNodeDef=je[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(je){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),je||this._nodeOutlet.viewContainer.clear(),this._dataSource=je,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let je;(0,h.Z9)(this._dataSource)?je=this._dataSource.connect(this):$(this._dataSource)?je=this._dataSource:Array.isArray(this._dataSource)&&(je=(0,Pe.of)(this._dataSource)),je&&(this._dataSubscription=je.pipe((0,_e.R)(this._onDestroy)).subscribe($e=>this.renderNodeChanges($e)))}renderNodeChanges(je,$e=this._dataDiffer,Ee=this._nodeOutlet.viewContainer,Ge){const z=$e.diff(je);!z||(z.forEachOperation((Ce,Rt,pt)=>{if(null==Ce.previousIndex)this.insertNode(je[pt],pt,Ee,Ge);else if(null==pt)Ee.remove(Rt),this._levels.delete(Ce.item);else{const Ot=Ee.get(Rt);Ee.move(Ot,pt)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(je,$e){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(Ge=>Ge.when&&Ge.when($e,je))||this._defaultNodeDef}insertNode(je,$e,Ee,Ge){const z=this._getNodeDef(je,$e),Ce=new Fe(je);Ce.level=this.treeControl.getLevel?this.treeControl.getLevel(je):void 0!==Ge&&this._levels.has(Ge)?this._levels.get(Ge)+1:0,this._levels.set(je,Ce.level),(Ee||this._nodeOutlet.viewContainer).createEmbeddedView(z.template,Ce,$e),De.mostRecentTreeNode&&(De.mostRecentTreeNode.data=je)}}return _t.\u0275fac=function(je){return new(je||_t)(ne.Y36(ne.ZZ4),ne.Y36(ne.sBO))},_t.\u0275cmp=ne.Xpm({type:_t,selectors:[["cdk-tree"]],contentQueries:function(je,$e,Ee){if(1&je&&ne.Suo(Ee,at,5),2&je){let Ge;ne.iGM(Ge=ne.CRH())&&($e._nodeDefs=Ge)}},viewQuery:function(je,$e){if(1&je&&ne.Gf(st,7),2&je){let Ee;ne.iGM(Ee=ne.CRH())&&($e._nodeOutlet=Ee.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(je,$e){1&je&&ne.GkF(0,0)},directives:[st],encapsulation:2}),_t})(),De=(()=>{class _t{constructor(je,$e){this._elementRef=je,this._tree=$e,this._destroyed=new we.x,this._dataChanges=new we.x,_t.mostRecentTreeNode=this,this.role="treeitem"}get role(){return"treeitem"}set role(je){this._elementRef.nativeElement.setAttribute("role",je)}get data(){return this._data}set data(je){je!==this._data&&(this._data=je,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function J(_t){let Je=_t.parentElement;for(;Je&&!Qe(Je);)Je=Je.parentElement;return Je?Je.classList.contains("cdk-nested-tree-node")?(0,X.su)(Je.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){_t.mostRecentTreeNode===this&&(_t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return _t.mostRecentTreeNode=null,_t.\u0275fac=function(je){return new(je||_t)(ne.Y36(ne.SBq),ne.Y36(Se))},_t.\u0275dir=ne.lG2({type:_t,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(je,$e){2&je&&ne.uIk("aria-expanded",$e.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),_t})();function Qe(_t){const Je=_t.classList;return!(!(null==Je?void 0:Je.contains("cdk-nested-tree-node"))&&!(null==Je?void 0:Je.contains("cdk-tree")))}let se=(()=>{class _t extends De{constructor(je,$e,Ee){super(je,$e),this._differs=Ee}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const je=this._tree.treeControl.getChildren(this.data);Array.isArray(je)?this.updateChildrenNodes(je):$(je)&&je.pipe((0,_e.R)(this._destroyed)).subscribe($e=>this.updateChildrenNodes($e)),this.nodeOutlet.changes.pipe((0,_e.R)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(je){const $e=this._getNodeOutlet();je&&(this._children=je),$e&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,$e.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const je=this._getNodeOutlet();je&&(je.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const je=this.nodeOutlet;return je&&je.find($e=>!$e._node||$e._node===this)}}return _t.\u0275fac=function(je){return new(je||_t)(ne.Y36(ne.SBq),ne.Y36(Se),ne.Y36(ne.ZZ4))},_t.\u0275dir=ne.lG2({type:_t,selectors:[["cdk-nested-tree-node"]],contentQueries:function(je,$e,Ee){if(1&je&&ne.Suo(Ee,st,5),2&je){let Ge;ne.iGM(Ge=ne.CRH())&&($e.nodeOutlet=Ge)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[ne._Bn([{provide:De,useExisting:_t},{provide:He,useExisting:_t}]),ne.qOj]}),_t})();const Ue=/([A-Za-z%]+)$/;let te=(()=>{class _t{constructor(je,$e,Ee,Ge){this._treeNode=je,this._tree=$e,this._element=Ee,this._dir=Ge,this._destroyed=new we.x,this.indentUnits="px",this._indent=40,this._setPadding(),Ge&&Ge.change.pipe((0,_e.R)(this._destroyed)).subscribe(()=>this._setPadding(!0)),je._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(je){this._setLevelInput(je)}get indent(){return this._indent}set indent(je){this._setIndentInput(je)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const je=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,$e=null==this._level?je:this._level;return"number"==typeof $e?`${$e*this._indent}${this.indentUnits}`:null}_setPadding(je=!1){const $e=this._paddingIndent();if($e!==this._currentPadding||je){const Ee=this._element.nativeElement,Ge=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",z="paddingLeft"===Ge?"paddingRight":"paddingLeft";Ee.style[Ge]=$e||"",Ee.style[z]="",this._currentPadding=$e}}_setLevelInput(je){this._level=(0,X.su)(je,null),this._setPadding()}_setIndentInput(je){let $e=je,Ee="px";if("string"==typeof je){const Ge=je.split(Ue);$e=Ge[0],Ee=Ge[1]||Ee}this.indentUnits=Ee,this._indent=(0,X.su)($e),this._setPadding()}}return _t.\u0275fac=function(je){return new(je||_t)(ne.Y36(De),ne.Y36(Se),ne.Y36(ne.SBq),ne.Y36(pe.Is,8))},_t.\u0275dir=ne.lG2({type:_t,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),_t})(),Ne=(()=>{class _t{constructor(je,$e){this._tree=je,this._treeNode=$e,this._recursive=!1}get recursive(){return this._recursive}set recursive(je){this._recursive=(0,X.Ig)(je)}_toggle(je){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),je.stopPropagation()}}return _t.\u0275fac=function(je){return new(je||_t)(ne.Y36(Se),ne.Y36(De))},_t.\u0275dir=ne.lG2({type:_t,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(je,$e){1&je&&ne.NdJ("click",function(Ge){return $e._toggle(Ge)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),_t})(),yt=(()=>{class _t{}return _t.\u0275fac=function(je){return new(je||_t)},_t.\u0275mod=ne.oAB({type:_t}),_t.\u0275inj=ne.cJS({}),_t})()},9808:($t,Xe,b)=>{b.d(Xe,{mr:()=>ke,Ov:()=>eo,ez:()=>ls,H9:()=>Wr,K0:()=>Pe,Do:()=>it,V_:()=>X,Ye:()=>be,S$:()=>Fe,mk:()=>ur,sg:()=>Li,O5:()=>dr,RF:()=>Bi,n9:()=>yr,ED:()=>vs,tP:()=>bs,b0:()=>Nt,lw:()=>_e,EM:()=>ss,JF:()=>yi,NF:()=>Ri,PM:()=>Ds,w_:()=>Ie,bD:()=>Cr,q:()=>g,Mx:()=>kr,HT:()=>we});var h=b(5e3);let w=null;function g(){return w}function we(j){w||(w=j)}class Ie{}const Pe=new h.OlP("DocumentToken");let _e=(()=>{class j{historyGo(L){throw new Error("Not implemented")}}return j.\u0275fac=function(L){return new(L||j)},j.\u0275prov=h.Yz7({token:j,factory:function(){return function ne(){return(0,h.LFG)(pe)}()},providedIn:"platform"}),j})();const X=new h.OlP("Location Initialized");let pe=(()=>{class j extends _e{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(L){const ye=g().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("popstate",L,!1),()=>ye.removeEventListener("popstate",L)}onHashChange(L){const ye=g().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("hashchange",L,!1),()=>ye.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,ye,et){ce()?this._history.pushState(L,ye,et):this.location.hash=et}replaceState(L,ye,et){ce()?this._history.replaceState(L,ye,et):this.location.hash=et}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return j.\u0275fac=function(L){return new(L||j)(h.LFG(Pe))},j.\u0275prov=h.Yz7({token:j,factory:function(){return function ze(){return new pe((0,h.LFG)(Pe))}()},providedIn:"platform"}),j})();function ce(){return!!window.history.pushState}function xe(j,ae){if(0==j.length)return ae;if(0==ae.length)return j;let L=0;return j.endsWith("/")&&L++,ae.startsWith("/")&&L++,2==L?j+ae.substring(1):1==L?j+ae:j+"/"+ae}function He(j){const ae=j.match(/#|\?|$/),L=ae&&ae.index||j.length;return j.slice(0,L-("/"===j[L-1]?1:0))+j.slice(L)}function st(j){return j&&"?"!==j[0]?"?"+j:j}let Fe=(()=>{class j{historyGo(L){throw new Error("Not implemented")}}return j.\u0275fac=function(L){return new(L||j)},j.\u0275prov=h.Yz7({token:j,factory:function(){return function at(j){const ae=(0,h.LFG)(Pe).location;return new Nt((0,h.LFG)(_e),ae&&ae.origin||"")}()},providedIn:"root"}),j})();const ke=new h.OlP("appBaseHref");let Nt=(()=>{class j extends Fe{constructor(L,ye){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==ye&&(ye=this._platformLocation.getBaseHrefFromDOM()),null==ye)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ye}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return xe(this._baseHref,L)}path(L=!1){const ye=this._platformLocation.pathname+st(this._platformLocation.search),et=this._platformLocation.hash;return et&&L?`${ye}${et}`:ye}pushState(L,ye,et,Lt){const zt=this.prepareExternalUrl(et+st(Lt));this._platformLocation.pushState(L,ye,zt)}replaceState(L,ye,et,Lt){const zt=this.prepareExternalUrl(et+st(Lt));this._platformLocation.replaceState(L,ye,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var ye,et;null===(et=(ye=this._platformLocation).historyGo)||void 0===et||et.call(ye,L)}}return j.\u0275fac=function(L){return new(L||j)(h.LFG(_e),h.LFG(ke,8))},j.\u0275prov=h.Yz7({token:j,factory:j.\u0275fac}),j})(),it=(()=>{class j extends Fe{constructor(L,ye){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=ye&&(this._baseHref=ye)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let ye=this._platformLocation.hash;return null==ye&&(ye="#"),ye.length>0?ye.substring(1):ye}prepareExternalUrl(L){const ye=xe(this._baseHref,L);return ye.length>0?"#"+ye:ye}pushState(L,ye,et,Lt){let zt=this.prepareExternalUrl(et+st(Lt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(L,ye,zt)}replaceState(L,ye,et,Lt){let zt=this.prepareExternalUrl(et+st(Lt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(L,ye,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var ye,et;null===(et=(ye=this._platformLocation).historyGo)||void 0===et||et.call(ye,L)}}return j.\u0275fac=function(L){return new(L||j)(h.LFG(_e),h.LFG(ke,8))},j.\u0275prov=h.Yz7({token:j,factory:j.\u0275fac}),j})(),be=(()=>{class j{constructor(L,ye){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const et=this._platformStrategy.getBaseHref();this._platformLocation=ye,this._baseHref=He(De(et)),this._platformStrategy.onPopState(Lt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Lt.state,type:Lt.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,ye=""){return this.path()==this.normalize(L+st(ye))}normalize(L){return j.stripTrailingSlash(function Se(j,ae){return j&&ae.startsWith(j)?ae.substring(j.length):ae}(this._baseHref,De(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,ye="",et=null){this._platformStrategy.pushState(et,"",L,ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+st(ye)),et)}replaceState(L,ye="",et=null){this._platformStrategy.replaceState(et,"",L,ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+st(ye)),et)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var ye,et;null===(et=(ye=this._platformStrategy).historyGo)||void 0===et||et.call(ye,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ye=>{this._notifyUrlChangeListeners(ye.url,ye.state)}))}_notifyUrlChangeListeners(L="",ye){this._urlChangeListeners.forEach(et=>et(L,ye))}subscribe(L,ye,et){return this._subject.subscribe({next:L,error:ye,complete:et})}}return j.normalizeQueryParams=st,j.joinWithSlash=xe,j.stripTrailingSlash=He,j.\u0275fac=function(L){return new(L||j)(h.LFG(Fe),h.LFG(_e))},j.\u0275prov=h.Yz7({token:j,factory:function(){return function fe(){return new be((0,h.LFG)(Fe),(0,h.LFG)(_e))}()},providedIn:"root"}),j})();function De(j){return j.replace(/\/index.html$/,"")}const J={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Qe=(()=>((Qe=Qe||{})[Qe.Decimal=0]="Decimal",Qe[Qe.Percent=1]="Percent",Qe[Qe.Currency=2]="Currency",Qe[Qe.Scientific=3]="Scientific",Qe))(),We=(()=>((We=We||{})[We.Decimal=0]="Decimal",We[We.Group=1]="Group",We[We.List=2]="List",We[We.PercentSign=3]="PercentSign",We[We.PlusSign=4]="PlusSign",We[We.MinusSign=5]="MinusSign",We[We.Exponential=6]="Exponential",We[We.SuperscriptingExponent=7]="SuperscriptingExponent",We[We.PerMille=8]="PerMille",We[We.Infinity=9]="Infinity",We[We.NaN=10]="NaN",We[We.TimeSeparator=11]="TimeSeparator",We[We.CurrencyDecimal=12]="CurrencyDecimal",We[We.CurrencyGroup=13]="CurrencyGroup",We))();function Ot(j,ae){const L=(0,h.cg1)(j),ye=L[h.wAp.NumberSymbols][ae];if(void 0===ye){if(ae===We.CurrencyDecimal)return L[h.wAp.NumberSymbols][We.Decimal];if(ae===We.CurrencyGroup)return L[h.wAp.NumberSymbols][We.Group]}return ye}const Gt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function jn(j,ae,L,ye,et){const zt=function ai(j,ae="-"){const L={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ye=j.split(";"),et=ye[0],Lt=ye[1],zt=-1!==et.indexOf(".")?et.split("."):[et.substring(0,et.lastIndexOf("0")+1),et.substring(et.lastIndexOf("0")+1)],In=zt[0],$n=zt[1]||"";L.posPre=In.substr(0,In.indexOf("#"));for(let li=0;li<$n.length;li++){const pi=$n.charAt(li);"0"===pi?L.minFrac=L.maxFrac=li+1:"#"===pi?L.maxFrac=li+1:L.posSuf+=pi}const gi=In.split(",");if(L.gSize=gi[1]?gi[1].length:0,L.lgSize=gi[2]||gi[1]?(gi[2]||gi[1]).length:0,Lt){const li=et.length-L.posPre.length-L.posSuf.length,pi=Lt.indexOf("#");L.negPre=Lt.substr(0,pi).replace(/'/g,""),L.negSuf=Lt.substr(pi+li).replace(/'/g,"")}else L.negPre=ae+L.posPre,L.negSuf=L.posSuf;return L}(function Et(j,ae){return(0,h.cg1)(j)[h.wAp.NumberFormats][ae]}(ae,Qe.Currency),Ot(ae,We.MinusSign));return zt.minFrac=function ie(j){let ae;const L=J[j];return L&&(ae=L[2]),"number"==typeof ae?ae:2}(ye),zt.maxFrac=zt.minFrac,function Nn(j,ae,L,ye,et,Lt,zt=!1){let In="",$n=!1;if(isFinite(j)){let gi=function Gi(j){let ye,et,Lt,zt,In,ae=Math.abs(j)+"",L=0;for((et=ae.indexOf("."))>-1&&(ae=ae.replace(".","")),(Lt=ae.search(/e/i))>0?(et<0&&(et=Lt),et+=+ae.slice(Lt+1),ae=ae.substring(0,Lt)):et<0&&(et=ae.length),Lt=0;"0"===ae.charAt(Lt);Lt++);if(Lt===(In=ae.length))ye=[0],et=1;else{for(In--;"0"===ae.charAt(In);)In--;for(et-=Lt,ye=[],zt=0;Lt<=In;Lt++,zt++)ye[zt]=Number(ae.charAt(Lt))}return et>22&&(ye=ye.splice(0,21),L=et-1,et=1),{digits:ye,exponent:L,integerLen:et}}(j);zt&&(gi=function Mi(j){if(0===j.digits[0])return j;const ae=j.digits.length-j.integerLen;return j.exponent?j.exponent+=2:(0===ae?j.digits.push(0,0):1===ae&&j.digits.push(0),j.integerLen+=2),j}(gi));let li=ae.minInt,pi=ae.minFrac,qi=ae.maxFrac;if(Lt){const de=Lt.match(Gt);if(null===de)throw new Error(`${Lt} is not a valid digit info`);const Bt=de[1],wn=de[3],bi=de[5];null!=Bt&&(li=Er(Bt)),null!=wn&&(pi=Er(wn)),null!=bi?qi=Er(bi):null!=wn&&pi>qi&&(qi=pi)}!function xi(j,ae,L){if(ae>L)throw new Error(`The minimum number of digits after fraction (${ae}) is higher than the maximum (${L}).`);let ye=j.digits,et=ye.length-j.integerLen;const Lt=Math.min(Math.max(ae,et),L);let zt=Lt+j.integerLen,In=ye[zt];if(zt>0){ye.splice(Math.max(j.integerLen,zt));for(let pi=zt;pi<ye.length;pi++)ye[pi]=0}else{et=Math.max(0,et),j.integerLen=1,ye.length=Math.max(1,zt=Lt+1),ye[0]=0;for(let pi=1;pi<zt;pi++)ye[pi]=0}if(In>=5)if(zt-1<0){for(let pi=0;pi>zt;pi--)ye.unshift(0),j.integerLen++;ye.unshift(1),j.integerLen++}else ye[zt-1]++;for(;et<Math.max(0,Lt);et++)ye.push(0);let $n=0!==Lt;const gi=ae+j.integerLen,li=ye.reduceRight(function(pi,qi,Ci,Wi){return Wi[Ci]=(qi+=pi)<10?qi:qi-10,$n&&(0===Wi[Ci]&&Ci>=gi?Wi.pop():$n=!1),qi>=10?1:0},0);li&&(ye.unshift(li),j.integerLen++)}(gi,pi,qi);let Ci=gi.digits,Wi=gi.integerLen;const G=gi.exponent;let F=[];for($n=Ci.every(de=>!de);Wi<li;Wi++)Ci.unshift(0);for(;Wi<0;Wi++)Ci.unshift(0);Wi>0?F=Ci.splice(Wi,Ci.length):(F=Ci,Ci=[0]);const S=[];for(Ci.length>=ae.lgSize&&S.unshift(Ci.splice(-ae.lgSize,Ci.length).join(""));Ci.length>ae.gSize;)S.unshift(Ci.splice(-ae.gSize,Ci.length).join(""));Ci.length&&S.unshift(Ci.join("")),In=S.join(Ot(L,ye)),F.length&&(In+=Ot(L,et)+F.join("")),G&&(In+=Ot(L,We.Exponential)+"+"+G)}else In=Ot(L,We.Infinity);return In=j<0&&!$n?ae.negPre+In+ae.negSuf:ae.posPre+In+ae.posSuf,In}(j,zt,ae,We.CurrencyGroup,We.CurrencyDecimal,et).replace("\xa4",L).replace("\xa4","").trim()}function Er(j){const ae=parseInt(j);if(isNaN(ae))throw new Error("Invalid integer literal when parsing "+j);return ae}function kr(j,ae){ae=encodeURIComponent(ae);for(const L of j.split(";")){const ye=L.indexOf("="),[et,Lt]=-1==ye?[L,""]:[L.slice(0,ye),L.slice(ye+1)];if(et.trim()===ae)return decodeURIComponent(Lt)}return null}let ur=(()=>{class j{constructor(L,ye,et,Lt){this._iterableDiffers=L,this._keyValueDiffers=ye,this._ngEl=et,this._renderer=Lt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(ye=>this._toggleClass(ye.key,ye.currentValue)),L.forEachChangedItem(ye=>this._toggleClass(ye.key,ye.currentValue)),L.forEachRemovedItem(ye=>{ye.previousValue&&this._toggleClass(ye.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(ye=>{if("string"!=typeof ye.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(ye.item)}`);this._toggleClass(ye.item,!0)}),L.forEachRemovedItem(ye=>this._toggleClass(ye.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(ye=>this._toggleClass(ye,!0)):Object.keys(L).forEach(ye=>this._toggleClass(ye,!!L[ye])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(ye=>this._toggleClass(ye,!1)):Object.keys(L).forEach(ye=>this._toggleClass(ye,!1)))}_toggleClass(L,ye){(L=L.trim())&&L.split(/\s+/g).forEach(et=>{ye?this._renderer.addClass(this._ngEl.nativeElement,et):this._renderer.removeClass(this._ngEl.nativeElement,et)})}}return j.\u0275fac=function(L){return new(L||j)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},j.\u0275dir=h.lG2({type:j,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),j})();class mr{constructor(ae,L,ye,et){this.$implicit=ae,this.ngForOf=L,this.index=ye,this.count=et}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class j{constructor(L,ye,et){this._viewContainer=L,this._template=ye,this._differs=et,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const ye=this._viewContainer;L.forEachOperation((et,Lt,zt)=>{if(null==et.previousIndex)ye.createEmbeddedView(this._template,new mr(et.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)ye.remove(null===Lt?void 0:Lt);else if(null!==Lt){const In=ye.get(Lt);ye.move(In,zt),Nr(In,et)}});for(let et=0,Lt=ye.length;et<Lt;et++){const In=ye.get(et).context;In.index=et,In.count=Lt,In.ngForOf=this._ngForOf}L.forEachIdentityChange(et=>{Nr(ye.get(et.currentIndex),et)})}static ngTemplateContextGuard(L,ye){return!0}}return j.\u0275fac=function(L){return new(L||j)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},j.\u0275dir=h.lG2({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),j})();function Nr(j,ae){j.context.$implicit=ae.item}let dr=(()=>{class j{constructor(L,ye){this._viewContainer=L,this._context=new fi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ye}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Lr("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Lr("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,ye){return!0}}return j.\u0275fac=function(L){return new(L||j)(h.Y36(h.s_b),h.Y36(h.Rgc))},j.\u0275dir=h.lG2({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),j})();class fi{constructor(){this.$implicit=null,this.ngIf=null}}function Lr(j,ae){if(ae&&!ae.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,h.AaK)(ae)}'.`)}class ys{constructor(ae,L){this._viewContainerRef=ae,this._templateRef=L,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ae){ae&&!this._created?this.create():!ae&&this._created&&this.destroy()}}let Bi=(()=>{class j{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(L){this._ngSwitch=L,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(L){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(L)}_matchCase(L){const ye=L==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ye,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ye}_updateDefaultCases(L){if(this._defaultViews&&L!==this._defaultUsed){this._defaultUsed=L;for(let ye=0;ye<this._defaultViews.length;ye++)this._defaultViews[ye].enforceState(L)}}}return j.\u0275fac=function(L){return new(L||j)},j.\u0275dir=h.lG2({type:j,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),j})(),yr=(()=>{class j{constructor(L,ye,et){this.ngSwitch=et,et._addCase(),this._view=new ys(L,ye)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return j.\u0275fac=function(L){return new(L||j)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Bi,9))},j.\u0275dir=h.lG2({type:j,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),j})(),vs=(()=>{class j{constructor(L,ye,et){et._addDefault(new ys(L,ye))}}return j.\u0275fac=function(L){return new(L||j)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Bi,9))},j.\u0275dir=h.lG2({type:j,selectors:[["","ngSwitchDefault",""]]}),j})(),bs=(()=>{class j{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(L){if(L.ngTemplateOutlet){const ye=this._viewContainerRef;this._viewRef&&ye.remove(ye.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ye.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return j.\u0275fac=function(L){return new(L||j)(h.Y36(h.s_b))},j.\u0275dir=h.lG2({type:j,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[h.TTD]}),j})();function er(j,ae){return new h.vHH(2100,"")}class zr{createSubscription(ae,L){return ae.subscribe({next:L,error:ye=>{throw ye}})}dispose(ae){ae.unsubscribe()}onDestroy(ae){ae.unsubscribe()}}class es{createSubscription(ae,L){return ae.then(L,ye=>{throw ye})}dispose(ae){}onDestroy(ae){}}const Do=new es,Oi=new zr;let eo=(()=>{class j{constructor(L){this._ref=L,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(L){return this._obj?L!==this._obj?(this._dispose(),this.transform(L)):this._latestValue:(L&&this._subscribe(L),this._latestValue)}_subscribe(L){this._obj=L,this._strategy=this._selectStrategy(L),this._subscription=this._strategy.createSubscription(L,ye=>this._updateLatestValue(L,ye))}_selectStrategy(L){if((0,h.QGY)(L))return Do;if((0,h.F4k)(L))return Oi;throw er()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(L,ye){L===this._obj&&(this._latestValue=ye,this._ref.markForCheck())}}return j.\u0275fac=function(L){return new(L||j)(h.Y36(h.sBO,16))},j.\u0275pipe=h.Yjl({name:"async",type:j,pure:!1}),j})(),Wr=(()=>{class j{constructor(L,ye="USD"){this._locale=L,this._defaultCurrencyCode=ye}transform(L,ye=this._defaultCurrencyCode,et="symbol",Lt,zt){if(!function xr(j){return!(null==j||""===j||j!=j)}(L))return null;zt=zt||this._locale,"boolean"==typeof et&&(et=et?"symbol":"code");let In=ye||this._defaultCurrencyCode;"code"!==et&&(In="symbol"===et||"symbol-narrow"===et?function O(j,ae,L="en"){const ye=function St(j){return(0,h.cg1)(j)[h.wAp.Currencies]}(L)[j]||J[j]||[],et=ye[1];return"narrow"===ae&&"string"==typeof et?et:ye[0]||j}(In,"symbol"===et?"wide":"narrow",zt):et);try{return jn(function Br(j){if("string"==typeof j&&!isNaN(Number(j)-parseFloat(j)))return Number(j);if("number"!=typeof j)throw new Error(`${j} is not a number`);return j}(L),zt,In,ye,Lt)}catch($n){throw er()}}}return j.\u0275fac=function(L){return new(L||j)(h.Y36(h.soG,16),h.Y36(h.EJc,16))},j.\u0275pipe=h.Yjl({name:"currency",type:j,pure:!0}),j})();let ls=(()=>{class j{}return j.\u0275fac=function(L){return new(L||j)},j.\u0275mod=h.oAB({type:j}),j.\u0275inj=h.cJS({}),j})();const Cr="browser";function Ri(j){return j===Cr}function Ds(j){return"server"===j}let ss=(()=>{class j{}return j.\u0275prov=(0,h.Yz7)({token:j,providedIn:"root",factory:()=>new gr((0,h.LFG)(Pe),window)}),j})();class gr{constructor(ae,L){this.document=ae,this.window=L,this.offset=()=>[0,0]}setOffset(ae){this.offset=Array.isArray(ae)?()=>ae:ae}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ae){this.supportsScrolling()&&this.window.scrollTo(ae[0],ae[1])}scrollToAnchor(ae){if(!this.supportsScrolling())return;const L=function Zr(j,ae){const L=j.getElementById(ae)||j.getElementsByName(ae)[0];if(L)return L;if("function"==typeof j.createTreeWalker&&j.body&&(j.body.createShadowRoot||j.body.attachShadow)){const ye=j.createTreeWalker(j.body,NodeFilter.SHOW_ELEMENT);let et=ye.currentNode;for(;et;){const Lt=et.shadowRoot;if(Lt){const zt=Lt.getElementById(ae)||Lt.querySelector(`[name="${ae}"]`);if(zt)return zt}et=ye.nextNode()}}return null}(this.document,ae);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(ae){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=ae)}}scrollToElement(ae){const L=ae.getBoundingClientRect(),ye=L.left+this.window.pageXOffset,et=L.top+this.window.pageYOffset,Lt=this.offset();this.window.scrollTo(ye-Lt[0],et-Lt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ae=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!ae||!ae.writable&&!ae.set)}catch(ae){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ae){return!1}}}function cs(j){return Object.getOwnPropertyDescriptor(j,"scrollRestoration")}class yi{}},5e3:($t,Xe,b)=>{b.d(Xe,{deG:()=>Mr,tb:()=>LE,AFp:()=>PE,ip1:()=>RE,CZH:()=>m0,hGG:()=>pw,z2F:()=>C0,sBO:()=>XC,Sil:()=>RC,_Vd:()=>nu,EJc:()=>xC,SBq:()=>Yd,qLn:()=>Ja,vpe:()=>ll,tBr:()=>ei,XFs:()=>fn,OlP:()=>Tr,zs3:()=>Eo,ZZ4:()=>S0,aQg:()=>A0,soG:()=>_0,YKP:()=>ip,h0i:()=>Xd,PXZ:()=>$C,R0b:()=>Pl,FiY:()=>ti,Lbi:()=>FE,g9A:()=>NE,n_E:()=>iu,Qsj:()=>zb,FYo:()=>zy,JOm:()=>W,q3G:()=>mi,tp0:()=>lr,Rgc:()=>Hu,dDg:()=>jE,q4F:()=>pg,GfV:()=>qd,s_b:()=>nh,ifc:()=>tt,eFA:()=>$E,G48:()=>QC,Gpc:()=>pe,f3M:()=>Ye,X6Q:()=>qC,_c5:()=>fw,VLi:()=>jC,c2e:()=>BE,zSh:()=>Id,wAp:()=>si,vHH:()=>He,EiD:()=>qa,mCW:()=>ao,qzn:()=>Fo,JVY:()=>cu,pB0:()=>Ka,eBb:()=>_a,L6k:()=>gh,LAX:()=>_h,cg1:()=>qm,kL8:()=>Qm,yhl:()=>mh,dqk:()=>on,sIi:()=>Kc,CqO:()=>Tm,QGY:()=>z_,F4k:()=>gs,RDi:()=>cs,AaK:()=>_e,z3N:()=>qs,qOj:()=>_f,TTD:()=>xr,_Bn:()=>Zd,xp6:()=>Ug,uIk:()=>mm,Gre:()=>zm,ekj:()=>Bf,Suo:()=>Zt,Xpm:()=>Re,lG2:()=>ut,Yz7:()=>Ce,cJS:()=>pt,oAB:()=>vn,Yjl:()=>Ke,Y36:()=>_r,_UZ:()=>Rf,GkF:()=>Sr,BQk:()=>kf,ynx:()=>Pf,qZA:()=>Pd,TgZ:()=>qc,EpF:()=>Qv,n5z:()=>Yo,Ikx:()=>Zm,LFG:()=>V,$8M:()=>Ll,$Z:()=>ho,NdJ:()=>Mm,CRH:()=>qt,oxw:()=>Y_,ALo:()=>yg,lcZ:()=>vg,Hsn:()=>Q_,F$t:()=>q_,Q6J:()=>Ea,VKq:()=>Qy,iGM:()=>nt,MAs:()=>O_,CHM:()=>zo,oJD:()=>Tc,LSH:()=>pu,Udp:()=>ku,WFA:()=>Sm,d8E:()=>Ym,YNc:()=>_m,W1O:()=>Di,_uU:()=>Vm,Oqu:()=>Um,hij:()=>Uf,Gf:()=>xt});var h=b(7579),w=b(727),g=b(8306),$=b(6451),we=b(3099);function Ie(n){for(let i in n)if(n[i]===Ie)return i;throw Error("Could not find renamed property on target object.")}function Pe(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function _e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(_e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ne(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const X=Ie({__forward_ref__:Ie});function pe(n){return n.__forward_ref__=pe,n.toString=function(){return _e(this())},n}function ce(n){return ze(n)?n():n}function ze(n){return"function"==typeof n&&n.hasOwnProperty(X)&&n.__forward_ref__===pe}class He extends Error{constructor(i,o){super(function st(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,o)),this.code=i}}function Fe(n){return"string"==typeof n?n:null==n?"":String(n)}function at(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fe(n)}function be(n,i){const o=i?` in ${i}`:"";throw new He(-201,`No provider for ${at(n)} found${o}`)}function je(n,i){null==n&&function $e(n,i,o,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function Ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ot(n){return Et(n,St)||Et(n,On)}function Et(n,i){return n.hasOwnProperty(i)?n[i]:null}function Ze(n){return n&&(n.hasOwnProperty(sn)||n.hasOwnProperty(Fn))?n[sn]:null}const St=Ie({\u0275prov:Ie}),sn=Ie({\u0275inj:Ie}),On=Ie({ngInjectableDef:Ie}),Fn=Ie({ngInjectorDef:Ie});var fn=(()=>((fn=fn||{})[fn.Default=0]="Default",fn[fn.Host=1]="Host",fn[fn.Self=2]="Self",fn[fn.SkipSelf=4]="SkipSelf",fn[fn.Optional=8]="Optional",fn))();let gn;function ht(n){const i=gn;return gn=n,i}function O(n,i,o){const l=Ot(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&fn.Optional?null:void 0!==i?i:void be(_e(n),"Injector")}function ie(n){return{toString:n}.toString()}var ge=(()=>((ge=ge||{})[ge.OnPush=0]="OnPush",ge[ge.Default=1]="Default",ge))(),tt=(()=>{return(n=tt||(tt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",tt;var n})();const gt="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,rn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,on=gt||"undefined"!=typeof global&&global||Tt||rn,ii={},an=[],Ai=Ie({\u0275cmp:Ie}),qe=Ie({\u0275dir:Ie}),he=Ie({\u0275pipe:Ie}),U=Ie({\u0275mod:Ie}),P=Ie({\u0275fac:Ie}),R=Ie({__NG_ELEMENT_ID__:Ie});let me=0;function Re(n){return ie(()=>{const o={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ge.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||an,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||tt.Emulated,id:"c",styles:n.styles||an,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,p=n.features,v=n.pipes;return l.id+=me++,l.inputs=Ct(n.inputs,o),l.outputs=Ct(n.outputs),p&&p.forEach(T=>T(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(mn):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(Cn):null,l})}function mn(n){return mt(n)||function Gt(n){return n[qe]||null}(n)}function Cn(n){return function wt(n){return n[he]||null}(n)}const Xn={};function vn(n){return ie(()=>{const i={type:n.type,bootstrap:n.bootstrap||an,declarations:n.declarations||an,imports:n.imports||an,exports:n.exports||an,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Xn[n.id]=n.type),i})}function Ct(n,i){if(null==n)return ii;const o={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),o[c]=l,i&&(i[c]=p)}return o}const ut=Re;function Ke(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function mt(n){return n[Ai]||null}function Le(n,i){const o=n[U]||null;if(!o&&!0===i)throw new Error(`Type ${_e(n)} does not have '\u0275mod' property.`);return o}function Bi(n){return Array.isArray(n)&&"object"==typeof n[1]}function yr(n){return Array.isArray(n)&&!0===n[1]}function vs(n){return 0!=(8&n.flags)}function zs(n){return 2==(2&n.flags)}function or(n){return 1==(1&n.flags)}function Ir(n){return null!==n.template}function Ws(n){return 0!=(512&n[2])}function ar(n,i){return n.hasOwnProperty(P)?n[P]:null}class Wr{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function xr(){return Br}function Br(n){return n.type.prototype.ngOnChanges&&(n.setInput=$o),Fs}function Fs(){const n=Cr(this),i=null==n?void 0:n.current;if(i){const o=n.previous;if(o===ii)n.previous=i;else for(let l in i)o[l]=i[l];n.current=null,this.ngOnChanges(i)}}function $o(n,i,o,l){const c=Cr(n)||function Cs(n,i){return n[ls]=i}(n,{previous:ii,current:null}),p=c.current||(c.current={}),v=c.previous,T=this.declaredInputs[o],x=v[T];p[T]=new Wr(x&&x.currentValue,i,v===ii),n[l]=i}xr.ngInherit=!0;const ls="__ngSimpleChanges__";function Cr(n){return n[ls]||null}let gr;function cs(n){gr=n}function Zr(){return void 0!==gr?gr:"undefined"!=typeof document?document:void 0}function yi(n){return!!n.listen}const j={createRenderer:(n,i)=>Zr()};function L(n){for(;Array.isArray(n);)n=n[0];return n}function Lt(n,i){return L(i[n])}function zt(n,i){return L(i[n.index])}function $n(n,i){return n.data[i]}function gi(n,i){return n[i]}function li(n,i){const o=i[n];return Bi(o)?o:o[0]}function pi(n){return 4==(4&n[2])}function qi(n){return 128==(128&n[2])}function Wi(n,i){return null==i?null:n[i]}function G(n){n[18]=0}function F(n,i){n[5]+=i;let o=n,l=n[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const S={lFrame:kn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vr(){return S.bindingsEnabled}function Jt(){return S.lFrame.lView}function vi(){return S.lFrame.tView}function zo(n){return S.lFrame.contextLView=n,n[8]}function nr(){let n=Wo();for(;null!==n&&64===n.type;)n=n.parent;return n}function Wo(){return S.lFrame.currentTNode}function Is(n,i){const o=S.lFrame;o.currentTNode=n,o.isParent=i}function To(){return S.lFrame.isParent}function Da(){S.lFrame.isParent=!1}function to(){return S.isInCheckNoChangesMode}function no(n){S.isInCheckNoChangesMode=n}function pr(){const n=S.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function ee(){return S.lFrame.bindingIndex++}function y(n){const i=S.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function re(n,i){const o=S.lFrame;o.bindingIndex=o.bindingRootIndex=n,rt(i)}function rt(n){S.lFrame.currentDirectiveIndex=n}function ot(n){const i=S.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Mt(){return S.lFrame.currentQueryIndex}function Wt(n){S.lFrame.currentQueryIndex=n}function Dn(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function Rn(n,i,o){if(o&fn.SkipSelf){let c=i,p=n;for(;!(c=c.parent,null!==c||o&fn.Host||(c=Dn(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;i=c,n=p}const l=S.lFrame=ci();return l.currentTNode=i,l.lView=n,!0}function zn(n){const i=ci(),o=n[1];S.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ci(){const n=S.lFrame,i=null===n?null:n.child;return null===i?kn(n):i}function kn(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Zn(){const n=S.lFrame;return S.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ki=Zn;function tr(){const n=Zn();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wi(){return S.lFrame.selectedIndex}function Or(n){S.lFrame.selectedIndex=n}function Vi(){const n=S.lFrame;return $n(n.tView,n.selectedIndex)}function qr(n,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:x,ngAfterViewChecked:Y,ngOnDestroy:oe}=p;v&&(n.contentHooks||(n.contentHooks=[])).push(-o,v),T&&((n.contentHooks||(n.contentHooks=[])).push(o,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,T)),x&&(n.viewHooks||(n.viewHooks=[])).push(-o,x),Y&&((n.viewHooks||(n.viewHooks=[])).push(o,Y),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,Y)),null!=oe&&(n.destroyHooks||(n.destroyHooks=[])).push(o,oe)}}function ro(n,i,o){En(n,i,3,o)}function hs(n,i,o,l){(3&n[2])===o&&En(n,i,o,l)}function Mn(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function En(n,i,o,l){const p=null!=l?l:-1,v=i.length-1;let T=0;for(let x=void 0!==l?65535&n[18]:0;x<v;x++)if("number"==typeof i[x+1]){if(T=i[x],null!=l&&T>=l)break}else i[x]<0&&(n[18]+=65536),(T<p||-1==p)&&(Kn(n,o,i,x),n[18]=(4294901760&n[18])+x+2),x++}function Kn(n,i,o,l){const c=o[l]<0,p=o[l+1],T=n[c?-o[l]:o[l]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{p.call(T)}finally{}}}else try{p.call(T)}finally{}}class Ui{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ki(n,i,o){const l=yi(n);let c=0;for(;c<o.length;){const p=o[c];if("number"==typeof p){if(0!==p)break;c++;const v=o[c++],T=o[c++],x=o[c++];l?n.setAttribute(i,T,x,v):i.setAttributeNS(v,T,x)}else{const v=p,T=o[++c];pa(v)?l&&n.setProperty(i,v,T):l?n.setAttribute(i,v,T):i.setAttribute(v,T),c++}}return c}function Ms(n){return 3===n||4===n||6===n}function pa(n){return 64===n.charCodeAt(0)}function Vs(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?o=c:0===o||ul(n,o,c,null,-1===o||2===o?i[++l]:null)}}return n}function ul(n,i,o,l,c){let p=0,v=n.length;if(-1===i)v=-1;else for(;p<n.length;){const T=n[p++];if("number"==typeof T){if(T===i){v=-1;break}if(T>i){v=p-1;break}}}for(;p<n.length;){const T=n[p];if("number"==typeof T)break;if(T===o){if(null===l)return void(null!==c&&(n[p+1]=c));if(l===n[p+1])return void(n[p+2]=c)}p++,null!==l&&p++,null!==c&&p++}-1!==v&&(n.splice(v,0,i),p=v+1),n.splice(p++,0,o),null!==l&&n.splice(p++,0,l),null!==c&&n.splice(p++,0,c)}function Ha(n){return-1!==n}function so(n){return 32767&n}function Xi(n,i){let o=function dl(n){return n>>16}(n),l=i;for(;o>0;)l=l[15],o--;return l}let Ia=!0;function oa(n){const i=Ia;return Ia=n,i}let H=0;function Q(n,i){const o=ct(n,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(n.injectorIndex=i.length,Be(l.data,n),Be(i,null),Be(l.blueprint,null));const c=jt(n,i),p=n.injectorIndex;if(Ha(c)){const v=so(c),T=Xi(c,i),x=T[1].data;for(let Y=0;Y<8;Y++)i[p+Y]=T[v+Y]|x[v+Y]}return i[p+8]=c,p}function Be(n,i){n.push(0,0,0,0,0,0,0,0,i)}function ct(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function jt(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,l=null,c=i;for(;null!==c;){const p=c[1],v=p.type;if(l=2===v?p.declTNode:1===v?c[6]:null,null===l)return-1;if(o++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Ht(n,i,o){!function K(n,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(R)&&(l=o[R]),null==l&&(l=o[R]=H++);const c=255&l;i.data[n+(c>>5)]|=1<<c}(n,i,o)}function Ln(n,i,o){if(o&fn.Optional)return n;be(i,"NodeInjector")}function en(n,i,o,l){if(o&fn.Optional&&void 0===l&&(l=null),0==(o&(fn.Self|fn.Host))){const c=n[9],p=ht(void 0);try{return c?c.get(i,l,o&fn.Optional):O(i,l,o&fn.Optional)}finally{ht(p)}}return Ln(l,i,o)}function It(n,i,o,l=fn.Default,c){if(null!==n){const p=function Nl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(R)?n[R]:void 0;return"number"==typeof i?i>=0?255&i:Ji:i}(o);if("function"==typeof p){if(!Rn(i,n,l))return l&fn.Host?Ln(c,o,l):en(i,o,l,c);try{const v=p(l);if(null!=v||l&fn.Optional)return v;be(o)}finally{ki()}}else if("number"==typeof p){let v=null,T=ct(n,i),x=-1,Y=l&fn.Host?i[16][6]:null;for((-1===T||l&fn.SkipSelf)&&(x=-1===T?jt(n,i):i[T+8],-1!==x&&Fl(l,!1)?(v=i[1],T=so(x),i=Xi(x,i)):T=-1);-1!==T;){const oe=i[1];if(Ta(p,T,oe.data)){const Ve=ma(T,i,o,v,l,Y);if(Ve!==Qt)return Ve}x=i[T+8],-1!==x&&Fl(l,i[1].data[T+8]===Y)&&Ta(p,T,i)?(v=oe,T=so(x),i=Xi(x,i)):T=-1}}}return en(i,o,l,c)}const Qt={};function Ji(){return new Ma(nr(),Jt())}function ma(n,i,o,l,c,p){const v=i[1],T=v.data[n+8],oe=ga(T,v,o,null==l?zs(T)&&Ia:l!=v&&0!=(3&T.type),c&fn.Host&&p===T);return null!==oe?xo(i,v,oe,T):Qt}function ga(n,i,o,l,c){const p=n.providerIndexes,v=i.data,T=1048575&p,x=n.directiveStart,oe=p>>20,dt=c?T+oe:n.directiveEnd;for(let At=l?T:T+oe;At<dt;At++){const Yt=v[At];if(At<x&&o===Yt||At>=x&&Yt.type===o)return At}if(c){const At=v[x];if(At&&Ir(At)&&At.type===o)return x}return null}function xo(n,i,o,l){let c=n[o];const p=i.data;if(function Ts(n){return n instanceof Ui}(c)){const v=c;v.resolving&&function ke(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new He(-200,`Circular dependency in DI detected for ${n}${o}`)}(at(p[o]));const T=oa(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?ht(v.injectImpl):null;Rn(n,l,fn.Default);try{c=n[o]=v.factory(void 0,p,n,l),i.firstCreatePass&&o>=l.directiveStart&&function So(n,i,o){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:p}=i.type.prototype;if(l){const v=Br(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,v)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,c),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],i)}finally{null!==x&&ht(x),oa(T),v.resolving=!1,ki()}}return c}function Ta(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function Fl(n,i){return!(n&fn.Self||n&fn.Host&&i)}class Ma{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return It(this._tNode,this._lView,i,l,o)}}function Yo(n){return ie(()=>{const i=n.prototype.constructor,o=i[P]||hl(i),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const p=c[P]||hl(c);if(p&&p!==o)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function hl(n){return ze(n)?()=>{const i=hl(ce(n));return i&&i()}:ar(n)}function Ll(n){return function un(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const l=o.length;let c=0;for(;c<l;){const p=o[c];if(Ms(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<l&&"string"==typeof o[c];)c++;else{if(p===i)return o[c+1];c+=2}}}return null}(nr(),n)}const Jn="__parameters__";function Yn(n,i,o){return ie(()=>{const l=function Zi(n){return function(...o){if(n){const l=n(...o);for(const c in l)this[c]=l[c]}}}(i);function c(...p){if(this instanceof c)return l.apply(this,p),this;const v=new c(...p);return T.annotation=v,T;function T(x,Y,oe){const Ve=x.hasOwnProperty(Jn)?x[Jn]:Object.defineProperty(x,Jn,{value:[]})[Jn];for(;Ve.length<=oe;)Ve.push(null);return(Ve[oe]=Ve[oe]||[]).push(v),x}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Tr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ce({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Mr=new Tr("AnalyzeForEntryComponents");function oo(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let l=n[o];Array.isArray(l)?(i===n&&(i=n.slice(0,o)),oo(l,i)):i!==n&&i.push(l)}return i}function Xr(n,i){n.forEach(o=>Array.isArray(o)?Xr(o,i):i(o))}function Sa(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Pt(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Aa(n,i){const o=[];for(let l=0;l<n;l++)o.push(i);return o}function Ss(n,i,o){let l=ca(n,i);return l>=0?n[1|l]=o:(l=~l,function Po(n,i,o,l){let c=n.length;if(c==i)n.push(o,l);else if(1===c)n.push(l,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=o,n[i+1]=l}}(n,l,i,o)),l}function la(n,i){const o=ca(n,i);if(o>=0)return n[1|o]}function ca(n,i){return function ps(n,i,o){let l=0,c=n.length>>o;for(;c!==l;){const p=l+(c-l>>1),v=n[p<<o];if(i===v)return p<<o;v>i?c=p:l=p+1}return~(c<<o)}(n,i,1)}const ms={},ko="__NG_DI_FLAG__",vr="ngTempTokenPath",xa=/\n/gm,Xo="__source",Hl=Ie({provide:String,useValue:Ie});let Wa;function yl(n){const i=Wa;return Wa=n,i}function k(n,i=fn.Default){if(void 0===Wa)throw new He(203,"");return null===Wa?O(n,void 0,i):Wa.get(n,i&fn.Optional?null:void 0,i)}function V(n,i=fn.Default){return(function cn(){return gn}()||k)(ce(n),i)}const Ye=V;function vt(n){const i=[];for(let o=0;o<n.length;o++){const l=ce(n[o]);if(Array.isArray(l)){if(0===l.length)throw new He(900,"");let c,p=fn.Default;for(let v=0;v<l.length;v++){const T=l[v],x=tn(T);"number"==typeof x?-1===x?c=T.token:p|=x:c=T}i.push(V(c,p))}else i.push(V(l))}return i}function kt(n,i){return n[ko]=i,n.prototype[ko]=i,n}function tn(n){return n[ko]}const ei=kt(Yn("Inject",n=>({token:n})),-1),ti=kt(Yn("Optional"),8),lr=kt(Yn("SkipSelf"),4);let bc,Cc;function Gl(n){var i;return(null===(i=function Oa(){if(void 0===bc&&(bc=null,on.trustedTypes))try{bc=on.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return bc}())||void 0===i?void 0:i.createHTML(n))||n}function xs(n){var i;return(null===(i=function $l(){if(void 0===Cc&&(Cc=null,on.trustedTypes))try{Cc=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Cc}())||void 0===i?void 0:i.createHTML(n))||n}class bl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fh extends bl{getTypeName(){return"HTML"}}class ph extends bl{getTypeName(){return"Style"}}class cp extends bl{getTypeName(){return"Script"}}class up extends bl{getTypeName(){return"URL"}}class dp extends bl{getTypeName(){return"ResourceURL"}}function qs(n){return n instanceof bl?n.changingThisBreaksApplicationSecurity:n}function Fo(n,i){const o=mh(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function mh(n){return n instanceof bl&&n.getTypeName()||null}function cu(n){return new fh(n)}function gh(n){return new ph(n)}function _a(n){return new cp(n)}function _h(n){return new up(n)}function Ka(n){return new dp(n)}class uu{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Gl(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class du{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Gl(i),o;const l=this.inertDocument.createElement("body");return l.innerHTML=Gl(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const v=o.item(c).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&i.removeAttribute(v)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const zl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ao(n){return(n=String(n)).match(zl)||n.match(Zu)?n:"unsafe:"+n}function ta(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Ra(...n){const i={};for(const o of n)for(const l in o)o.hasOwnProperty(l)&&(i[l]=!0);return i}const qu=ta("area,br,col,hr,img,wbr"),wc=ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yh=ta("rp,rt"),Wl=Ra(qu,Ra(wc,ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ra(yh,ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ra(yh,wc)),Dc=ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xu=ta("srcset"),Za=Ra(Dc,Xu,ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vh=ta("script,style,template");class Ya{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Wl.hasOwnProperty(o))return this.sanitizedSomething=!0,!vh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=i.attributes;for(let c=0;c<l.length;c++){const p=l.item(c),v=p.name,T=v.toLowerCase();if(!Za.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let x=p.value;Dc[T]&&(x=ao(x)),Xu[T]&&(n=x,x=(n=String(n)).split(",").map(i=>ao(i.trim())).join(", ")),this.buf.push(" ",v,'="',Ju(x),'"')}var n;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Wl.hasOwnProperty(o)&&!qu.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Ju(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const hu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kl=/([^\#-~ |!])/g;function Ju(n){return n.replace(/&/g,"&amp;").replace(hu,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Kl,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let El;function qa(n,i){let o=null;try{El=El||function Wu(n){const i=new du(n);return function Ku(){try{return!!(new window.DOMParser).parseFromString(Gl(""),"text/html")}catch(n){return!1}}()?new uu(i):i}(n);let l=i?String(i):"";o=El.getInertBodyElement(l);let c=5,p=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=p,p=o.innerHTML,o=El.getInertBodyElement(l)}while(l!==p);return Gl((new Ya).sanitizeChildren(ed(o)||o))}finally{if(o){const l=ed(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ed(n){return"content"in n&&function mp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var mi=(()=>((mi=mi||{})[mi.NONE=0]="NONE",mi[mi.HTML=1]="HTML",mi[mi.STYLE=2]="STYLE",mi[mi.SCRIPT=3]="SCRIPT",mi[mi.URL=4]="URL",mi[mi.RESOURCE_URL=5]="RESOURCE_URL",mi))();function Tc(n){const i=Yl();return i?xs(i.sanitize(mi.HTML,n)||""):Fo(n,"HTML")?xs(qs(n)):qa(Zr(),Fe(n))}function pu(n){const i=Yl();return i?i.sanitize(mi.URL,n)||"":Fo(n,"URL")?qs(n):ao(Fe(n))}function Yl(){const n=Jt();return n&&n[12]}const Gr="__ngContext__";function ri(n,i){n[Gr]=i}function Ac(n){const i=function Qa(n){return n[Gr]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function va(n){return n.ngOriginalError}function Oc(n,...i){n.error(...i)}class Ja{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),l=function xc(n){return n&&n.ngErrorLogger||Oc}(i);l(this._console,"ERROR",i),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&va(i);for(;o&&va(o);)o=va(o);return o||null}}const Pc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(on))();function ha(n){return n instanceof Function?n():n}var W=(()=>((W=W||{})[W.Important=1]="Important",W[W.DashCase=2]="DashCase",W))();function ft(n,i){return undefined(n,i)}function An(n){const i=n[3];return yr(i)?i[3]:i}function Jr(n){return ql(n[13])}function bo(n){return ql(n[4])}function ql(n){for(;null!==n&&!yr(n);)n=n[4];return n}function tl(n,i,o,l,c){if(null!=l){let p,v=!1;yr(l)?p=l:Bi(l)&&(v=!0,l=l[0]);const T=L(l);0===n&&null!==o?null==c?xg(i,o,T):Nc(i,o,T,c||null,!0):1===n&&null!==o?Nc(i,o,T,c||null,!0):2===n?function wp(n,i,o){const l=Oh(n,i);l&&function pv(n,i,o,l){yi(n)?n.removeChild(i,o,l):i.removeChild(o)}(n,l,i,o)}(i,T,v):3===n&&i.destroyNode(T),null!=p&&function Ip(n,i,o,l,c){const p=o[7];p!==L(o)&&tl(i,n,l,p,c);for(let T=10;T<o.length;T++){const x=o[T];dd(x[1],x,n,i,l,p)}}(i,n,p,o,c)}}function Pa(n,i,o){if(yi(n))return n.createElement(i,o);{const l=null!==o?function ss(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(o):null;return null===l?n.createElement(i):n.createElementNS(l,i)}}function Tg(n,i){const o=n[9],l=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,F(c,-1)),o.splice(l,1)}function Sh(n,i){if(n.length<=10)return;const o=10+i,l=n[o];if(l){const c=l[17];null!==c&&c!==n&&Tg(c,l),i>0&&(n[o-1][4]=l[4]);const p=Pt(n,10+i);!function wl(n,i){dd(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const v=p[19];null!==v&&v.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function ka(n,i){if(!(256&i[2])){const o=i[11];yi(o)&&o.destroyNode&&dd(n,i,o,3,null,null),function vp(n){let i=n[13];if(!i)return Ah(n[1],n);for(;i;){let o=null;if(Bi(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==n;)Bi(i)&&Ah(i[1],i),i=i[3];null===i&&(i=n),Bi(i)&&Ah(i[1],i),o=i&&i[4]}i=o}}(i)}}function Ah(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function Mg(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let l=0;l<o.length;l+=2){const c=i[o[l]];if(!(c instanceof Ui)){const p=o[l+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const T=c[p[v]],x=p[v+1];try{x.call(T)}finally{}}else try{p.call(c)}finally{}}}}(n,i),function xh(n,i){const o=n.cleanup,l=i[7];let c=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const v=o[p+1],T="function"==typeof v?v(i):L(i[v]),x=l[c=o[p+2]],Y=o[p+3];"boolean"==typeof Y?T.removeEventListener(o[p],x,Y):Y>=0?l[c=Y]():l[c=-Y].unsubscribe(),p+=2}else{const v=l[c=o[p+1]];o[p].call(v)}if(null!==l){for(let p=c+1;p<l.length;p++)l[p]();i[7]=null}}(n,i),1===i[1].type&&yi(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&yr(i[3])){o!==i[3]&&Tg(o,i);const l=i[19];null!==l&&l.detachView(n)}}}function Sg(n,i,o){return function Ag(n,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const c=n.data[l.directiveStart].encapsulation;if(c===tt.None||c===tt.Emulated)return null}return zt(l,o)}(n,i.parent,o)}function Nc(n,i,o,l,c){yi(n)?n.insertBefore(i,o,l,c):i.insertBefore(o,l,c)}function xg(n,i,o){yi(n)?n.appendChild(i,o):i.appendChild(o)}function Og(n,i,o,l,c){null!==l?Nc(n,i,o,l,c):xg(n,i,o)}function Oh(n,i){return yi(n)?n.parentNode(i):i.parentNode}function Rg(n,i,o){return kg(n,i,o)}let kg=function Pg(n,i,o){return 40&n.type?zt(n,o):null};function Rh(n,i,o,l){const c=Sg(n,l,i),p=i[11],T=Rg(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(o))for(let x=0;x<o.length;x++)Og(p,c,o[x],T,!1);else Og(p,c,o,T,!1)}function Ph(n,i){if(null!==i){const o=i.type;if(3&o)return zt(i,n);if(4&o)return Cp(-1,n[i.index]);if(8&o){const l=i.child;if(null!==l)return Ph(n,l);{const c=n[i.index];return yr(c)?Cp(-1,c):L(c)}}if(32&o)return ft(i,n)()||L(n[i.index]);{const l=Ep(n,i);return null!==l?Array.isArray(l)?l[0]:Ph(An(n[16]),l):Ph(n,i.next)}}return null}function Ep(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Cp(n,i){const o=10+n+1;if(o<i.length){const l=i[o],c=l[1].firstChild;if(null!==c)return Ph(l,c)}return i[7]}function kh(n,i,o,l,c,p,v){for(;null!=o;){const T=l[o.index],x=o.type;if(v&&0===i&&(T&&ri(L(T),l),o.flags|=4),64!=(64&o.flags))if(8&x)kh(n,i,o.child,l,c,p,!1),tl(i,n,c,T,p);else if(32&x){const Y=ft(o,l);let oe;for(;oe=Y();)tl(i,n,c,oe,p);tl(i,n,c,T,p)}else 16&x?Hs(n,i,l,o,c,p):tl(i,n,c,T,p);o=v?o.projectionNext:o.next}}function dd(n,i,o,l,c,p){kh(o,l,n.firstChild,i,c,p,!1)}function Hs(n,i,o,l,c,p){const v=o[16],x=v[6].projection[l.projection];if(Array.isArray(x))for(let Y=0;Y<x.length;Y++)tl(i,n,c,x[Y],p);else kh(n,i,x,v[3],c,p,!0)}function Nh(n,i,o){yi(n)?n.setAttribute(i,"style",o):i.style.cssText=o}function nl(n,i,o){yi(n)?""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o):i.className=o}function Mp(n,i,o){let l=n.length;for(;;){const c=n.indexOf(i,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const p=i.length;if(c+p===l||n.charCodeAt(c+p)<=32)return c}o=c+1}}const Sp="ng-template";function Fh(n,i,o){let l=0;for(;l<n.length;){let c=n[l++];if(o&&"class"===c){if(c=n[l],-1!==Mp(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<n.length&&"string"==typeof(c=n[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function Ql(n){return 4===n.type&&n.value!==Sp}function Fc(n,i,o){return i===(4!==n.type||o?n.value:Sp)}function Lc(n,i,o){let l=4;const c=n.attrs||[],p=function Lg(n){for(let i=0;i<n.length;i++)if(Ms(n[i]))return i;return n.length}(c);let v=!1;for(let T=0;T<i.length;T++){const x=i[T];if("number"!=typeof x){if(!v)if(4&l){if(l=2|1&l,""!==x&&!Fc(n,x,o)||""===x&&1===i.length){if(Vo(l))return!1;v=!0}}else{const Y=8&l?x:i[++T];if(8&l&&null!==n.attrs){if(!Fh(n.attrs,Y,o)){if(Vo(l))return!1;v=!0}continue}const Ve=Fg(8&l?"class":x,c,Ql(n),o);if(-1===Ve){if(Vo(l))return!1;v=!0;continue}if(""!==Y){let dt;dt=Ve>p?"":c[Ve+1].toLowerCase();const At=8&l?dt:null;if(At&&-1!==Mp(At,Y,0)||2&l&&Y!==dt){if(Vo(l))return!1;v=!0}}}}else{if(!v&&!Vo(l)&&!Vo(x))return!1;if(v&&Vo(x))continue;v=!1,l=x|1&l}}return Vo(l)||v}function Vo(n){return 0==(1&n)}function Fg(n,i,o,l){if(null===i)return-1;let c=0;if(l||!o){let p=!1;for(;c<i.length;){const v=i[c];if(v===n)return c;if(3===v||6===v)p=!0;else{if(1===v||2===v){let T=i[++c];for(;"string"==typeof T;)T=i[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=p?1:2}return-1}return function Bg(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const l=n[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,n)}function Lh(n,i,o=!1){for(let l=0;l<i.length;l++)if(Lc(n,i[l],o))return!0;return!1}function gv(n,i){e:for(let o=0;o<i.length;o++){const l=i[o];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function xp(n,i){return n?":not("+i.trim()+")":i}function Vg(n){let i=n[0],o=1,l=2,c="",p=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&l){const T=n[++o];c+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&l?c+="."+v:4&l&&(c+=" "+v);else""!==c&&!Vo(v)&&(i+=xp(p,c),c=""),l=v,p=p||!Vo(l);o++}return""!==c&&(i+=xp(p,c)),i}const di={};function Ug(n){Op(vi(),Jt(),wi()+n,to())}function Op(n,i,o,l){if(!l)if(3==(3&i[2])){const p=n.preOrderCheckHooks;null!==p&&ro(i,p,o)}else{const p=n.preOrderHooks;null!==p&&hs(i,p,0,o)}Or(o)}function Vh(n,i){return n<<17|i<<2}function Na(n){return n>>17&32767}function Dl(n){return 2|n}function il(n){return(131068&n)>>2}function Rp(n,i){return-131069&n|i<<2}function fd(n){return 1|n}function qg(n,i){const o=n.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const c=o[l],p=o[l+1];if(-1!==p){const v=n.data[p];Wt(c),v.contentQueries(2,i[p],p)}}}function gd(n,i,o,l,c,p,v,T,x,Y){const oe=i.blueprint.slice();return oe[0]=c,oe[2]=140|l,G(oe),oe[3]=oe[15]=n,oe[8]=o,oe[10]=v||n&&n[10],oe[11]=T||n&&n[11],oe[12]=x||n&&n[12]||null,oe[9]=Y||n&&n[9]||null,oe[6]=p,oe[16]=2==i.type?n[16]:oe,oe}function Sl(n,i,o,l,c){let p=n.data[i];if(null===p)p=function Lp(n,i,o,l,c){const p=Wo(),v=To(),x=n.data[i]=function t_(n,i,o,l,c,p){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,o,i,l,c);return null===n.firstChild&&(n.firstChild=x),null!==p&&(v?null==p.child&&null!==x.parent&&(p.child=x):null===p.next&&(p.next=x)),x}(n,i,o,l,c),function E(){return S.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=l,p.attrs=c;const v=function go(){const n=S.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return Is(p,!0),p}function Hc(n,i,o,l){if(0===o)return-1;const c=i.length;for(let p=0;p<o;p++)i.push(l),n.blueprint.push(l),n.data.push(null);return c}function Gc(n,i,o){zn(i);try{const l=n.viewQuery;null!==l&&tf(1,l,o);const c=n.template;null!==c&&yd(n,i,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qg(n,i),n.staticViewQueries&&tf(2,n.viewQuery,o);const p=n.components;null!==p&&function Qg(n,i){for(let o=0;o<i.length;o++)Av(n,i[o])}(i,p)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[2]&=-5,tr()}}function ec(n,i,o,l){const c=i[2];if(256==(256&c))return;zn(i);const p=to();try{G(i),function Ko(n){return S.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&yd(n,i,o,2,l);const v=3==(3&c);if(!p)if(v){const Y=n.preOrderCheckHooks;null!==Y&&ro(i,Y,null)}else{const Y=n.preOrderHooks;null!==Y&&hs(i,Y,0,null),Mn(i,0)}if(function u_(n){for(let i=Jr(n);null!==i;i=bo(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const c=o[l],p=c[3];0==(1024&c[2])&&F(p,1),c[2]|=1024}}}(i),function Wp(n){for(let i=Jr(n);null!==i;i=bo(i))for(let o=10;o<i.length;o++){const l=i[o],c=l[1];qi(l)&&ec(c,l,c.template,l[8])}}(i),null!==n.contentQueries&&qg(n,i),!p)if(v){const Y=n.contentCheckHooks;null!==Y&&ro(i,Y)}else{const Y=n.contentHooks;null!==Y&&hs(i,Y,1),Mn(i,1)}!function Cv(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const c=o[l];if(c<0)Or(~c);else{const p=c,v=o[++l],T=o[++l];re(v,p),T(2,i[p])}}}finally{Or(-1)}}(n,i);const T=n.components;null!==T&&function wv(n,i){for(let o=0;o<i.length;o++)Sv(n,i[o])}(i,T);const x=n.viewQuery;if(null!==x&&tf(2,x,l),!p)if(v){const Y=n.viewCheckHooks;null!==Y&&ro(i,Y)}else{const Y=n.viewHooks;null!==Y&&hs(i,Y,2),Mn(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),p||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,F(i[3],-1))}finally{tr()}}function _d(n,i,o,l){const c=i[10],p=!to(),v=pi(i);try{p&&!v&&c.begin&&c.begin(),v&&Gc(n,i,l),ec(n,i,o,l)}finally{p&&!v&&c.end&&c.end()}}function yd(n,i,o,l,c){const p=wi(),v=2&l;try{Or(-1),v&&i.length>20&&Op(n,i,20,to()),o(l,c)}finally{Or(p)}}function Kh(n,i,o){if(vs(i)){const c=i.directiveEnd;for(let p=i.directiveStart;p<c;p++){const v=n.data[p];v.contentQueries&&v.contentQueries(1,o[p],p)}}}function vd(n,i,o){!Vr()||(function Up(n,i,o,l){const c=o.directiveStart,p=o.directiveEnd;n.firstCreatePass||Q(o,i),ri(l,i);const v=o.initialInputs;for(let T=c;T<p;T++){const x=n.data[T],Y=Ir(x);Y&&l_(i,o,x);const oe=xo(i,n,T,o);ri(oe,i),null!==v&&Mv(0,T-c,oe,x,0,v),Y&&(li(o.index,i)[8]=oe)}}(n,i,o,zt(o,i)),128==(128&o.flags)&&function Qh(n,i,o){const l=o.directiveStart,c=o.directiveEnd,v=o.index,T=function Oe(){return S.lFrame.currentDirectiveIndex}();try{Or(v);for(let x=l;x<c;x++){const Y=n.data[x],oe=i[x];rt(x),(null!==Y.hostBindings||0!==Y.hostVars||null!==Y.hostAttrs)&&Du(Y,oe)}}finally{Or(-1),rt(T)}}(n,i,o))}function Zh(n,i,o=zt){const l=i.localNames;if(null!==l){let c=i.index+1;for(let p=0;p<l.length;p+=2){const v=l[p+1],T=-1===v?o(i,n):n[v];n[c++]=T}}}function Xg(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=bd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function bd(n,i,o,l,c,p,v,T,x,Y){const oe=20+l,Ve=oe+c,dt=function Jg(n,i){const o=[];for(let l=0;l<i;l++)o.push(l<n?null:di);return o}(oe,Ve),At="function"==typeof Y?Y():Y;return dt[1]={type:n,blueprint:dt,template:o,queries:null,viewQuery:T,declTNode:i,data:dt.slice().fill(null,oe),bindingStartIndex:oe,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:At,incompleteFirstPass:!1}}function e_(n,i,o,l){const c=Al(i);null===o?c.push(l):(c.push(o),n.firstCreatePass&&Qp(n).push(l,c.length-1))}function n_(n,i,o){for(let l in n)if(n.hasOwnProperty(l)){const c=n[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,c):o[l]=[i,c]}return o}function Uo(n,i,o,l,c,p,v,T){const x=zt(i,o);let oe,Y=i.inputs;!T&&null!=Y&&(oe=Y[l])?(f_(n,o,oe,l,c),zs(i)&&function qh(n,i){const o=li(i,n);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(l=function wu(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=v?v(c,i.value||"",l):c,yi(p)?p.setProperty(x,l,c):pa(l)||(x.setProperty?x.setProperty(l,c):x[l]=c))}function Ed(n,i,o,l){let c=!1;if(Vr()){const p=function Xh(n,i,o){const l=n.directiveRegistry;let c=null;if(l)for(let p=0;p<l.length;p++){const v=l[p];Lh(o,v.selectors,!1)&&(c||(c=[]),Ht(Q(o,i),n,v.type),Ir(v)?(Jh(n,o),c.unshift(v)):c.push(v))}return c}(n,i,o),v=null===l?null:{"":-1};if(null!==p){c=!0,Gp(o,n.data.length,p.length);for(let oe=0;oe<p.length;oe++){const Ve=p[oe];Ve.providersResolver&&Ve.providersResolver(Ve)}let T=!1,x=!1,Y=Hc(n,i,p.length,null);for(let oe=0;oe<p.length;oe++){const Ve=p[oe];o.mergedAttrs=Vs(o.mergedAttrs,Ve.hostAttrs),a_(n,o,i,Y,Ve),Hp(Y,Ve,v),null!==Ve.contentQueries&&(o.flags|=8),(null!==Ve.hostBindings||null!==Ve.hostAttrs||0!==Ve.hostVars)&&(o.flags|=128);const dt=Ve.type.prototype;!T&&(dt.ngOnChanges||dt.ngOnInit||dt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),T=!0),!x&&(dt.ngOnChanges||dt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),x=!0),Y++}!function Cu(n,i){const l=i.directiveEnd,c=n.data,p=i.attrs,v=[];let T=null,x=null;for(let Y=i.directiveStart;Y<l;Y++){const oe=c[Y],Ve=oe.inputs,dt=null===p||Ql(i)?null:c_(Ve,p);v.push(dt),T=n_(Ve,Y,T),x=n_(oe.outputs,Y,x)}null!==T&&(T.hasOwnProperty("class")&&(i.flags|=16),T.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=v,i.inputs=T,i.outputs=x}(n,o)}v&&function jp(n,i,o){if(i){const l=n.localNames=[];for(let c=0;c<i.length;c+=2){const p=o[i[c+1]];if(null==p)throw new He(-301,!1);l.push(i[c],p)}}}(o,l,v)}return o.mergedAttrs=Vs(o.mergedAttrs,o.attrs),c}function Vp(n,i,o,l,c,p){const v=p.hostBindings;if(v){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const x=~i.index;(function o_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(T)!=x&&T.push(x),T.push(l,c,v)}}function Du(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Jh(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Hp(n,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=n;Ir(i)&&(o[""]=n)}}function Gp(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function a_(n,i,o,l,c){n.data[l]=c;const p=c.factory||(c.factory=ar(c.type)),v=new Ui(p,Ir(c),null);n.blueprint[l]=v,o[l]=v,Vp(n,i,0,l,Hc(n,o,c.hostVars,di),c)}function l_(n,i,o){const l=zt(i,n),c=Xg(o),p=n[10],v=ef(n,gd(n,c,null,o.onPush?64:16,l,i,p,p.createRenderer(l,o),null,null));n[i.index]=v}function sl(n,i,o,l,c,p){const v=zt(n,i);!function $p(n,i,o,l,c,p,v){if(null==p)yi(n)?n.removeAttribute(i,c,o):i.removeAttribute(c);else{const T=null==v?Fe(p):v(p,l||"",c);yi(n)?n.setAttribute(i,c,T,o):o?i.setAttributeNS(o,c,T):i.setAttribute(c,T)}}(i[11],v,p,n.value,o,l,c)}function Mv(n,i,o,l,c,p){const v=p[i];if(null!==v){const T=l.setInput;for(let x=0;x<v.length;){const Y=v[x++],oe=v[x++],Ve=v[x++];null!==T?l.setInput(o,Ve,Y,oe):o[oe]=Ve}}}function c_(n,i){let o=null,l=0;for(;l<i.length;){const c=i[l];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,n[c],i[l+1])),l+=2}else l+=2;else l+=4}return o}function Iu(n,i,o,l){return new Array(n,!0,!1,i,null,0,l,o,null,null)}function Sv(n,i){const o=li(i,n);if(qi(o)){const l=o[1];80&o[2]?ec(l,o,l.template,o[8]):o[5]>0&&Kp(o)}}function Kp(n){for(let l=Jr(n);null!==l;l=bo(l))for(let c=10;c<l.length;c++){const p=l[c];if(1024&p[2]){const v=p[1];ec(v,p,v.template,p[8])}else p[5]>0&&Kp(p)}const o=n[1].components;if(null!==o)for(let l=0;l<o.length;l++){const c=li(o[l],n);qi(c)&&c[5]>0&&Kp(c)}}function Av(n,i){const o=li(i,n),l=o[1];(function xv(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(l,o),Gc(l,o,o[8])}function ef(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function $c(n){for(;n;){n[2]|=64;const i=An(n);if(Ws(n)&&!i)return n;n=i}return null}function Cd(n,i,o){const l=i[10];l.begin&&l.begin();try{ec(n,i,n.template,o)}catch(c){throw nf(i,c),c}finally{l.end&&l.end()}}function wd(n){!function tc(n){for(let i=0;i<n.components.length;i++){const o=n.components[i],l=Ac(o),c=l[1];_d(c,l,c.template,o)}}(n[8])}function tf(n,i,o){Wt(0),i(n,o)}const qp=(()=>Promise.resolve(null))();function Al(n){return n[7]||(n[7]=[])}function Qp(n){return n.cleanup||(n.cleanup=[])}function h_(n,i,o){return(null===n||Ir(n))&&(o=function ye(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[i.index])),o[11]}function nf(n,i){const o=n[9],l=o?o.get(Ja,null):null;l&&l.handleError(i)}function f_(n,i,o,l,c){for(let p=0;p<o.length;){const v=o[p++],T=o[p++],x=i[v],Y=n.data[v];null!==Y.setInput?Y.setInput(x,c,l,T):x[T]=c}}function Fa(n,i,o){const l=Lt(i,n);!function ld(n,i,o){yi(n)?n.setValue(i,o):i.textContent=o}(n[11],l,o)}function rf(n,i,o){let l=o?n.styles:null,c=o?n.classes:null,p=0;if(null!==i)for(let v=0;v<i.length;v++){const T=i[v];"number"==typeof T?p=T:1==p?c=ne(c,T):2==p&&(l=ne(l,T+": "+i[++v]+";"))}o?n.styles=l:n.stylesWithoutHost=l,o?n.classes=c:n.classesWithoutHost=c}const af=new Tr("INJECTOR",-1);class zc{get(i,o=ms){if(o===ms){const l=new Error(`NullInjectorError: No provider for ${_e(i)}!`);throw l.name="NullInjectorError",l}return o}}const Id=new Tr("Set Injector scope."),Td={},Ov={};let lf;function Jp(){return void 0===lf&&(lf=new zc),lf}function m_(n,i=null,o=null,l){const c=cf(n,i,o,l);return c._resolveInjectorDefTypes(),c}function cf(n,i=null,o=null,l){return new Rv(n,o,i||Jp(),l)}class Rv{constructor(i,o,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];o&&Xr(o,T=>this.processProvider(T,i,o)),Xr([i],T=>this.processInjectorType(T,[],p)),this.records.set(af,nc(void 0,this));const v=this.records.get(Id);this.scope=null!=v?v.value:null,this.source=c||("object"==typeof i?null:_e(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=ms,l=fn.Default){this.assertNotDestroyed();const c=yl(this),p=ht(void 0);try{if(!(l&fn.SkipSelf)){let T=this.records.get(i);if(void 0===T){const x=function Mu(n){return"function"==typeof n||"object"==typeof n&&n instanceof Tr}(i)&&Ot(i);T=x&&this.injectableDefInScope(x)?nc(Md(i),Td):null,this.records.set(i,T)}if(null!=T)return this.hydrate(i,T)}return(l&fn.Self?Jp():this.parent).get(i,o=l&fn.Optional&&o===ms?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[vr]=v[vr]||[]).unshift(_e(i)),c)throw v;return function _n(n,i,o,l){const c=n[vr];throw i[Xo]&&c.unshift(i[Xo]),n.message=function Bn(n,i,o,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=_e(i);if(Array.isArray(i))c=i.map(_e).join(" -> ");else if("object"==typeof i){let p=[];for(let v in i)if(i.hasOwnProperty(v)){let T=i[v];p.push(v+":"+("string"==typeof T?JSON.stringify(T):_e(T)))}c=`{${p.join(", ")}}`}return`${o}${l?"("+l+")":""}[${c}]: ${n.replace(xa,"\n  ")}`}("\n"+n.message,c,o,l),n.ngTokenPath=c,n[vr]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{ht(p),yl(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,c)=>i.push(_e(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processInjectorType(i,o,l){if(!(i=ce(i)))return!1;let c=Ze(i);const p=null==c&&i.ngModule||void 0,v=void 0===p?i:p,T=-1!==l.indexOf(v);if(void 0!==p&&(c=Ze(p)),null==c)return!1;if(null!=c.imports&&!T){let oe;l.push(v);try{Xr(c.imports,Ve=>{this.processInjectorType(Ve,o,l)&&(void 0===oe&&(oe=[]),oe.push(Ve))})}finally{}if(void 0!==oe)for(let Ve=0;Ve<oe.length;Ve++){const{ngModule:dt,providers:At}=oe[Ve];Xr(At,Yt=>this.processProvider(Yt,dt,At||an))}}this.injectorDefTypes.add(v);const x=ar(v)||(()=>new v);this.records.set(v,nc(x,Td));const Y=c.providers;if(null!=Y&&!T){const oe=i;Xr(Y,Ve=>this.processProvider(Ve,oe,Y))}return void 0!==p&&void 0!==i.providers}processProvider(i,o,l){let c=ic(i=ce(i))?i:ce(i&&i.provide);const p=function em(n,i,o){return tm(n)?nc(void 0,n.useValue):nc(g_(n),Td)}(i);if(ic(i)||!0!==i.multi)this.records.get(c);else{let v=this.records.get(c);v||(v=nc(void 0,Td,!0),v.factory=()=>vt(v.multi),this.records.set(c,v)),c=i,v.multi.push(i)}this.records.set(c,p)}hydrate(i,o){return o.value===Td&&(o.value=Ov,o.value=o.factory()),"object"==typeof o.value&&o.value&&function rm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ce(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Md(n){const i=Ot(n),o=null!==i?i.factory:ar(n);if(null!==o)return o;if(n instanceof Tr)throw new He(204,!1);if(n instanceof Function)return function Pv(n){const i=n.length;if(i>0)throw Aa(i,"?"),new He(204,!1);const o=function bt(n){const i=n&&(n[St]||n[On]);if(i){const o=function Vt(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new He(204,!1)}function g_(n,i,o){let l;if(ic(n)){const c=ce(n);return ar(c)||Md(c)}if(tm(n))l=()=>ce(n.useValue);else if(function im(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...vt(n.deps||[]));else if(function nm(n){return!(!n||!n.useExisting)}(n))l=()=>V(ce(n.useExisting));else{const c=ce(n&&(n.useClass||n.provide));if(!function rc(n){return!!n.deps}(n))return ar(c)||Md(c);l=()=>new c(...vt(n.deps))}return l}function nc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function tm(n){return null!==n&&"object"==typeof n&&Hl in n}function ic(n){return"function"==typeof n}let Eo=(()=>{class n{static create(o,l){var c;if(Array.isArray(o))return m_({name:""},l,o,"");{const p=null!==(c=o.name)&&void 0!==c?c:"";return m_({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=ms,n.NULL=new zc,n.\u0275prov=Ce({token:n,providedIn:"any",factory:()=>V(af)}),n.__NG_ELEMENT_ID__=-1,n})();function cm(n,i){qr(Ac(n)[1],nr())}function _f(n){let i=function gf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const l=[n];for(;i;){let c;if(Ir(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new He(903,"");c=i.\u0275dir}if(c){if(o){l.push(c);const v=n;v.inputs=yf(n.inputs),v.declaredInputs=yf(n.declaredInputs),v.outputs=yf(n.outputs);const T=c.hostBindings;T&&Bv(n,T);const x=c.viewQuery,Y=c.contentQueries;if(x&&Lv(n,x),Y&&dm(n,Y),Pe(n.inputs,c.inputs),Pe(n.declaredInputs,c.declaredInputs),Pe(n.outputs,c.outputs),Ir(c)&&c.data.animation){const oe=n.data;oe.animation=(oe.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let v=0;v<p.length;v++){const T=p[v];T&&T.ngInherit&&T(n),T===_f&&(o=!1)}}i=Object.getPrototypeOf(i)}!function um(n){let i=0,o=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=i+=c.hostVars,c.hostAttrs=Vs(c.hostAttrs,o=Vs(o,c.hostAttrs))}}(l)}function yf(n){return n===ii?{}:n===an?[]:n}function Lv(n,i){const o=n.viewQuery;n.viewQuery=o?(l,c)=>{i(l,c),o(l,c)}:i}function dm(n,i){const o=n.contentQueries;n.contentQueries=o?(l,c,p)=>{i(l,c,p),o(l,c,p)}:i}function Bv(n,i){const o=n.hostBindings;n.hostBindings=o?(l,c)=>{i(l,c),o(l,c)}:i}let vf=null;function sc(){if(!vf){const n=on.Symbol;if(n&&n.iterator)vf=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(vf=l)}}}return vf}function Kc(n){return!!Sd(n)&&(Array.isArray(n)||!(n instanceof Map)&&sc()in n)}function Sd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function $r(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function mm(n,i,o,l){const c=Jt();return $r(c,ee(),i)&&(vi(),sl(Vi(),c,n,i,o,l)),mm}function oc(n,i,o,l){return $r(n,ee(),o)?i+Fe(o)+l:di}function _m(n,i,o,l,c,p,v,T){const x=Jt(),Y=vi(),oe=n+20,Ve=Y.firstCreatePass?function Uv(n,i,o,l,c,p,v,T,x){const Y=i.consts,oe=Sl(i,n,4,v||null,Wi(Y,T));Ed(i,o,oe,Wi(Y,x)),qr(i,oe);const Ve=oe.tViews=bd(2,oe,l,c,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Y);return null!==i.queries&&(i.queries.template(i,oe),Ve.queries=i.queries.embeddedTView(oe)),oe}(oe,Y,x,i,o,l,c,p,v):Y.data[oe];Is(Ve,!1);const dt=x[11].createComment("");Rh(Y,x,dt,Ve),ri(dt,x),ef(x,x[oe]=Iu(dt,x,dt,Ve)),or(Ve)&&vd(Y,x,Ve),null!=v&&Zh(x,Ve,T)}function O_(n){return gi(function sa(){return S.lFrame.contextLView}(),20+n)}function _r(n,i=fn.Default){const o=Jt();return null===o?V(n,i):It(nr(),o,ce(n),i)}function ho(){throw new Error("invalid")}function Ea(n,i,o){const l=Jt();return $r(l,ee(),i)&&Uo(vi(),Vi(),l,n,i,l[11],o,!1),Ea}function Of(n,i,o,l,c){const v=c?"class":"style";f_(n,o,i.inputs[v],v,l)}function qc(n,i,o,l){const c=Jt(),p=vi(),v=20+n,T=c[11],x=c[v]=Pa(T,i,function Bs(){return S.lFrame.currentNamespace}()),Y=p.firstCreatePass?function qv(n,i,o,l,c,p,v){const T=i.consts,Y=Sl(i,n,2,c,Wi(T,p));return Ed(i,o,Y,Wi(T,v)),null!==Y.attrs&&rf(Y,Y.attrs,!1),null!==Y.mergedAttrs&&rf(Y,Y.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,Y),Y}(v,p,c,0,i,o,l):p.data[v];Is(Y,!0);const oe=Y.mergedAttrs;null!==oe&&Ki(T,x,oe);const Ve=Y.classes;null!==Ve&&nl(T,x,Ve);const dt=Y.styles;return null!==dt&&Nh(T,x,dt),64!=(64&Y.flags)&&Rh(p,c,x,Y),0===function Bt(){return S.lFrame.elementDepthCount}()&&ri(x,c),function wn(){S.lFrame.elementDepthCount++}(),or(Y)&&(vd(p,c,Y),Kh(p,Y,c)),null!==l&&Zh(c,Y),qc}function Pd(){let n=nr();To()?Da():(n=n.parent,Is(n,!1));const i=n;!function bi(){S.lFrame.elementDepthCount--}();const o=vi();return o.firstCreatePass&&(qr(o,n),vs(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Zo(n){return 0!=(16&n.flags)}(i)&&Of(o,i,Jt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function fs(n){return 0!=(32&n.flags)}(i)&&Of(o,i,Jt(),i.stylesWithoutHost,!1),Pd}function Rf(n,i,o,l){return qc(n,i,o,l),Pd(),Rf}function Pf(n,i,o){const l=Jt(),c=vi(),p=n+20,v=c.firstCreatePass?function Im(n,i,o,l,c){const p=i.consts,v=Wi(p,l),T=Sl(i,n,8,"ng-container",v);return null!==v&&rf(T,v,!0),Ed(i,o,T,Wi(p,c)),null!==i.queries&&i.queries.elementStart(i,T),T}(p,c,l,i,o):c.data[p];Is(v,!0);const T=l[p]=l[11].createComment("");return Rh(c,l,T,v),ri(T,l),or(v)&&(vd(c,l,v),Kh(c,v,l)),null!=o&&Zh(l,v),Pf}function kf(){let n=nr();const i=vi();return To()?Da():(n=n.parent,Is(n,!1)),i.firstCreatePass&&(qr(i,n),vs(n)&&i.queries.elementEnd(n)),kf}function Sr(n,i,o){return Pf(n,i,o),kf(),Sr}function Qv(){return Jt()}function z_(n){return!!n&&"function"==typeof n.then}function gs(n){return!!n&&"function"==typeof n.subscribe}const Tm=gs;function Mm(n,i,o,l){const c=Jt(),p=vi(),v=nr();return K_(p,c,c[11],v,n,i,!!o,l),Mm}function Sm(n,i){const o=nr(),l=Jt(),c=vi();return K_(c,l,h_(ot(c.data),o,l),o,n,i,!1),Sm}function K_(n,i,o,l,c,p,v,T){const x=or(l),oe=n.firstCreatePass&&Qp(n),Ve=i[8],dt=Al(i);let At=!0;if(3&l.type||T){const Tn=zt(l,i),Vn=T?T(Tn):Tn,nn=dt.length,oi=T?Yi=>T(L(Yi[l.index])):l.index;if(yi(o)){let Yi=null;if(!T&&x&&(Yi=function W_(n,i,o,l){const c=n.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const v=c[p];if(v===o&&c[p+1]===l){const T=i[7],x=c[p+2];return T.length>x?T[x]:null}"string"==typeof v&&(p+=2)}return null}(n,i,c,l.index)),null!==Yi)(Yi.__ngLastListenerFn__||Yi).__ngNextListenerFn__=p,Yi.__ngLastListenerFn__=p,At=!1;else{p=Am(l,i,Ve,p,!1);const br=o.listen(Vn,c,p);dt.push(p,br),oe&&oe.push(c,oi,nn,nn+1)}}else p=Am(l,i,Ve,p,!0),Vn.addEventListener(c,p,v),dt.push(p),oe&&oe.push(c,oi,nn,v)}else p=Am(l,i,Ve,p,!1);const Yt=l.outputs;let pn;if(At&&null!==Yt&&(pn=Yt[c])){const Tn=pn.length;if(Tn)for(let Vn=0;Vn<Tn;Vn+=2){const ja=i[pn[Vn]][pn[Vn+1]].subscribe(p),sh=dt.length;dt.push(p,ja),oe&&oe.push(c,l.index,sh,-(sh+1))}}}function Z_(n,i,o,l){try{return!1!==o(l)}catch(c){return nf(n,c),!1}}function Am(n,i,o,l,c){return function p(v){if(v===Function)return l;const T=2&n.flags?li(n.index,i):i;0==(32&i[2])&&$c(T);let x=Z_(i,0,l,v),Y=p.__ngNextListenerFn__;for(;Y;)x=Z_(i,0,Y,v)&&x,Y=Y.__ngNextListenerFn__;return c&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function Y_(n=1){return function ir(n){return(S.lFrame.contextLView=function Ur(n,i){for(;n>0;)i=i[15],n--;return i}(n,S.lFrame.contextLView))[8]}(n)}function J0(n,i){let o=null;const l=function Ap(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let c=0;c<i.length;c++){const p=i[c];if("*"!==p){if(null===l?Lh(n,p,!0):gv(l,p))return c}else o=c}return o}function q_(n){const i=Jt()[16][6];if(!i.projection){const l=i.projection=Aa(n?n.length:1,null),c=l.slice();let p=i.child;for(;null!==p;){const v=n?J0(p,n):0;null!==v&&(c[v]?c[v].projectionNext=p:l[v]=p,c[v]=p),p=p.next}}}function Q_(n,i=0,o){const l=Jt(),c=vi(),p=Sl(c,20+n,16,null,o||null);null===p.projection&&(p.projection=i),Da(),64!=(64&p.flags)&&function Dp(n,i,o){Hs(i[11],0,i,o,Sg(n,o,i),Rg(o.parent||i[6],o,i))}(c,l,p)}function Nd(n,i,o,l,c){const p=n[o+1],v=null===i;let T=l?Na(p):il(p),x=!1;for(;0!==T&&(!1===x||v);){const oe=n[T+1];Fd(n[T],i)&&(x=!0,n[T+1]=l?fd(oe):Dl(oe)),T=l?Na(oe):il(oe)}x&&(n[o+1]=l?Dl(p):fd(p))}function Fd(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&ca(n,i)>=0}const Rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Nf(n){return n.substring(Rs.key,Rs.keyEnd)}function ey(n,i){const o=Rs.textEnd;return o===i?-1:(i=Rs.keyEnd=function ty(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Rs.key=i,o),Ca(n,i,o))}function Ca(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function ku(n,i,o){return Gs(n,i,o,!1),ku}function Bf(n,i){return Gs(n,i,null,!0),Bf}function Co(n,i){for(let o=function tb(n){return function Nm(n){Rs.key=0,Rs.keyEnd=0,Rs.value=0,Rs.valueEnd=0,Rs.textEnd=n.length}(n),ey(n,Ca(n,0,Rs.textEnd))}(i);o>=0;o=ey(i,o))Ss(n,Nf(i),!0)}function Gs(n,i,o,l){const c=Jt(),p=vi(),v=y(2);p.firstUpdatePass&&ry(p,n,v,l),i!==di&&$r(c,v,i)&&cy(p,p.data[wi()],c,c[11],n,c[v+1]=function rb(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=_e(qs(n)))),n}(i,o),l,v)}function Ol(n,i){return i>=n.expandoStartIndex}function ry(n,i,o,l){const c=n.data;if(null===c[o+1]){const p=c[wi()],v=Ol(n,o);dy(p,l)&&null===i&&!v&&(i=!1),i=function sy(n,i,o,l){const c=ot(n);let p=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(o=Bd(o=Bm(null,n,i,o,l),i.attrs,l),p=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==c)if(o=Bm(c,n,i,o,l),null===p){let x=function oy(n,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==il(l))return n[Na(l)]}(n,i,l);void 0!==x&&Array.isArray(x)&&(x=Bm(null,n,i,x[1],l),x=Bd(x,i.attrs,l),function Ld(n,i,o,l){n[Na(o?i.classBindings:i.styleBindings)]=l}(n,i,l,x))}else p=function hc(n,i,o){let l;const c=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<c;p++)l=Bd(l,n[p].hostAttrs,o);return Bd(l,i.attrs,o)}(n,i,l)}return void 0!==p&&(l?i.residualClasses=p:i.residualStyles=p),o}(c,p,i,l),function Jv(n,i,o,l,c,p){let v=p?i.classBindings:i.styleBindings,T=Na(v),x=il(v);n[l]=o;let oe,Y=!1;if(Array.isArray(o)){const Ve=o;oe=Ve[1],(null===oe||ca(Ve,oe)>0)&&(Y=!0)}else oe=o;if(c)if(0!==x){const dt=Na(n[T+1]);n[l+1]=Vh(dt,T),0!==dt&&(n[dt+1]=Rp(n[dt+1],l)),n[T+1]=function Bc(n,i){return 131071&n|i<<17}(n[T+1],l)}else n[l+1]=Vh(T,0),0!==T&&(n[T+1]=Rp(n[T+1],l)),T=l;else n[l+1]=Vh(x,0),0===T?T=l:n[x+1]=Rp(n[x+1],l),x=l;Y&&(n[l+1]=Dl(n[l+1])),Nd(n,oe,l,!0),Nd(n,oe,l,!1),function Qc(n,i,o,l,c){const p=c?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof i&&ca(p,i)>=0&&(o[l+1]=fd(o[l+1]))}(i,oe,n,l,p),v=Vh(T,x),p?i.classBindings=v:i.styleBindings=v}(c,p,i,o,v,l)}}function Bm(n,i,o,l,c){let p=null;const v=o.directiveEnd;let T=o.directiveStylingLast;for(-1===T?T=o.directiveStart:T++;T<v&&(p=i[T],l=Bd(l,p.hostAttrs,c),p!==n);)T++;return null!==n&&(o.directiveStylingLast=T),l}function Bd(n,i,o){const l=o?1:2;let c=-1;if(null!==i)for(let p=0;p<i.length;p++){const v=i[p];"number"==typeof v?c=v:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ss(n,v,!!o||i[++p]))}return void 0===n?null:n}function cy(n,i,o,l,c,p,v,T){if(!(3&i.type))return;const x=n.data,Y=x[T+1];Vd(function Hg(n){return 1==(1&n)}(Y)?uy(x,i,o,c,il(Y),v):void 0)||(Vd(p)||function bu(n){return 2==(2&n)}(Y)&&(p=uy(x,null,o,c,T,v)),function Tp(n,i,o,l,c){const p=yi(n);if(i)c?p?n.addClass(o,l):o.classList.add(l):p?n.removeClass(o,l):o.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:W.DashCase;if(null==c)p?n.removeStyle(o,l,v):o.style.removeProperty(l);else{const T="string"==typeof c&&c.endsWith("!important");T&&(c=c.slice(0,-10),v|=W.Important),p?n.setStyle(o,l,c,v):o.style.setProperty(l,c,T?"important":"")}}}(l,v,Lt(wi(),o),c,p))}function uy(n,i,o,l,c,p){const v=null===i;let T;for(;c>0;){const x=n[c],Y=Array.isArray(x),oe=Y?x[1]:x,Ve=null===oe;let dt=o[c+1];dt===di&&(dt=Ve?an:void 0);let At=Ve?la(dt,l):oe===l?dt:void 0;if(Y&&!Vd(At)&&(At=la(x,l)),Vd(At)&&(T=At,v))return T;const Yt=n[c+1];c=v?Na(Yt):il(Yt)}if(null!==i){let x=p?i.residualClasses:i.residualStyles;null!=x&&(T=la(x,l))}return T}function Vd(n){return void 0!==n}function dy(n,i){return 0!=(n.flags&(i?16:32))}function Vm(n,i=""){const o=Jt(),l=vi(),c=n+20,p=l.firstCreatePass?Sl(l,c,1,i,null):l.data[c],v=o[c]=function kc(n,i){return yi(n)?n.createText(i):n.createTextNode(i)}(o[11],i);Rh(l,o,v,p),Is(p,!1)}function Um(n){return Uf("",n,""),Um}function Uf(n,i,o){const l=Jt(),c=oc(l,n,i,o);return c!==di&&Fa(l,wi(),c),Uf}function zm(n,i,o){!function jo(n,i,o,l){const c=vi(),p=y(2);c.firstUpdatePass&&ry(c,null,p,l);const v=Jt();if(o!==di&&$r(v,p,o)){const T=c.data[wi()];if(dy(T,l)&&!Ol(c,p)){let x=l?T.classesWithoutHost:T.stylesWithoutHost;null!==x&&(o=ne(x,o||"")),Of(c,T,v,o,l)}else!function ly(n,i,o,l,c,p,v,T){c===di&&(c=an);let x=0,Y=0,oe=0<c.length?c[0]:null,Ve=0<p.length?p[0]:null;for(;null!==oe||null!==Ve;){const dt=x<c.length?c[x+1]:void 0,At=Y<p.length?p[Y+1]:void 0;let pn,Yt=null;oe===Ve?(x+=2,Y+=2,dt!==At&&(Yt=Ve,pn=At)):null===Ve||null!==oe&&oe<Ve?(x+=2,Yt=oe):(Y+=2,Yt=Ve,pn=At),null!==Yt&&cy(n,i,o,l,Yt,pn,v,T),oe=x<c.length?c[x]:null,Ve=Y<p.length?p[Y]:null}}(c,T,v,v[11],v[p+1],v[p+1]=function ib(n,i,o){if(null==o||""===o)return an;const l=[],c=qs(o);if(Array.isArray(c))for(let p=0;p<c.length;p++)n(l,c[p],!0);else if("object"==typeof c)for(const p in c)c.hasOwnProperty(p)&&n(l,p,c[p]);else"string"==typeof c&&i(l,c);return l}(n,i,o),l,p)}}(Ss,Co,oc(Jt(),n,i,o),!0)}function Zm(n,i,o){const l=Jt();return $r(l,ee(),i)&&Uo(vi(),Vi(),l,n,i,l[11],o,!0),Zm}function Ym(n,i,o){const l=Jt();if($r(l,ee(),i)){const p=vi(),v=Vi();Uo(p,v,l,n,i,h_(ot(p.data),v,l),o,!0)}return Ym}const Rl=void 0;var Dy=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wy(n){const o=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let al={};function qm(n){const i=function Ty(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=jd(i);if(o)return o;const l=i.split("-")[0];if(o=jd(l),o)return o;if("en"===l)return Dy;throw new Error(`Missing locale data for the locale "${n}".`)}function Qm(n){return qm(n)[si.PluralCase]}function jd(n){return n in al||(al[n]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[n]),al[n]}var si=(()=>((si=si||{})[si.LocaleId=0]="LocaleId",si[si.DayPeriodsFormat=1]="DayPeriodsFormat",si[si.DayPeriodsStandalone=2]="DayPeriodsStandalone",si[si.DaysFormat=3]="DaysFormat",si[si.DaysStandalone=4]="DaysStandalone",si[si.MonthsFormat=5]="MonthsFormat",si[si.MonthsStandalone=6]="MonthsStandalone",si[si.Eras=7]="Eras",si[si.FirstDayOfWeek=8]="FirstDayOfWeek",si[si.WeekendRange=9]="WeekendRange",si[si.DateFormat=10]="DateFormat",si[si.TimeFormat=11]="TimeFormat",si[si.DateTimeFormat=12]="DateTimeFormat",si[si.NumberSymbols=13]="NumberSymbols",si[si.NumberFormats=14]="NumberFormats",si[si.CurrencyCode=15]="CurrencyCode",si[si.CurrencySymbol=16]="CurrencySymbol",si[si.CurrencyName=17]="CurrencyName",si[si.Currencies=18]="Currencies",si[si.Directionality=19]="Directionality",si[si.PluralCase=20]="PluralCase",si[si.ExtraData=21]="ExtraData",si))();const Xs="en-US";let Sy=Xs;function ag(n,i,o,l,c){if(n=ce(n),Array.isArray(n))for(let p=0;p<n.length;p++)ag(n[p],i,o,l,c);else{const p=vi(),v=Jt();let T=ic(n)?n:ce(n.provide),x=g_(n);const Y=nr(),oe=1048575&Y.providerIndexes,Ve=Y.directiveStart,dt=Y.providerIndexes>>20;if(ic(n)||!n.multi){const At=new Ui(x,c,_r),Yt=Jf(T,i,c?oe:oe+dt,Ve);-1===Yt?(Ht(Q(Y,v),p,T),Kd(p,n,i.length),i.push(T),Y.directiveStart++,Y.directiveEnd++,c&&(Y.providerIndexes+=1048576),o.push(At),v.push(At)):(o[Yt]=At,v[Yt]=At)}else{const At=Jf(T,i,oe+dt,Ve),Yt=Jf(T,i,oe,oe+dt),pn=At>=0&&o[At],Tn=Yt>=0&&o[Yt];if(c&&!Tn||!c&&!pn){Ht(Q(Y,v),p,T);const Vn=function Hb(n,i,o,l,c){const p=new Ui(n,o,_r);return p.multi=[],p.index=i,p.componentProviders=0,lg(p,c,l&&!o),p}(c?jb:cg,o.length,c,l,x);!c&&Tn&&(o[Yt].providerFactory=Vn),Kd(p,n,i.length,0),i.push(T),Y.directiveStart++,Y.directiveEnd++,c&&(Y.providerIndexes+=1048576),o.push(Vn),v.push(Vn)}else Kd(p,n,At>-1?At:Yt,lg(o[c?Yt:At],x,!c&&l));!c&&l&&Tn&&o[Yt].componentProviders++}}}function Kd(n,i,o,l){const c=ic(i),p=function Tu(n){return!!n.useClass}(i);if(c||p){const x=(p?ce(i.useClass):i).prototype.ngOnDestroy;if(x){const Y=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const oe=Y.indexOf(o);-1===oe?Y.push(o,[l,x]):Y[oe+1].push(l,x)}else Y.push(o,x)}}}function lg(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Jf(n,i,o,l){for(let c=o;c<l;c++)if(i[c]===n)return c;return-1}function cg(n,i,o,l){return ug(this.multi,[])}function jb(n,i,o,l){const c=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=xo(o,o[1],this.providerFactory.index,l);p=T.slice(0,v),ug(c,p);for(let x=v;x<T.length;x++)p.push(T[x])}else p=[],ug(c,p);return p}function ug(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Zd(n,i=[]){return o=>{o.providersResolver=(l,c)=>function Gy(n,i,o){const l=vi();if(l.firstCreatePass){const c=Ir(n);ag(o,l.data,l.blueprint,c,!0),ag(i,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,i)}}class ep{}class $y{resolveComponentFactory(i){throw function hg(n){const i=Error(`No component factory found for ${_e(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let nu=(()=>{class n{}return n.NULL=new $y,n})();function Gb(){return Uu(nr(),Jt())}function Uu(n,i){return new Yd(zt(n,i))}let Yd=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Gb,n})();function $b(n){return n instanceof Yd?n.nativeElement:n}class zy{}let zb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Kb(){const n=Jt(),o=li(nr().index,n);return function Wb(n){return n[11]}(Bi(o)?o:n)}(),n})(),Zb=(()=>{class n{}return n.\u0275prov=Ce({token:n,providedIn:"root",factory:()=>null}),n})();class qd{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const pg=new qd("13.2.7"),tp={};function ju(n,i,o,l,c=!1){for(;null!==o;){const p=i[o.index];if(null!==p&&l.push(L(p)),yr(p))for(let T=10;T<p.length;T++){const x=p[T],Y=x[1].firstChild;null!==Y&&ju(x[1],x,Y,l)}const v=o.type;if(8&v)ju(n,i,o.child,l);else if(32&v){const T=ft(o,i);let x;for(;x=T();)l.push(x)}else if(16&v){const T=Ep(i,o);if(Array.isArray(T))l.push(...T);else{const x=An(i[16]);ju(x[1],x,T,l,!0)}}o=c?o.projectionNext:o.next}return l}class Qd{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return ju(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(yr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Sh(i,l),Pt(o,l))}this._attachedToViewContainer=!1}ka(this._lView[1],this._lView)}onDestroy(i){e_(this._lView[1],this._lView,null,i)}markForCheck(){$c(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Dd(n,i,o){no(!0);try{Cd(n,i,o)}finally{no(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new He(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mh(n,i){dd(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new He(902,"");this._appRef=i}}class Yb extends Qd{constructor(i){super(i),this._view=i}detectChanges(){wd(this._view)}checkNoChanges(){!function Yp(n){no(!0);try{wd(n)}finally{no(!1)}}(this._view)}get context(){return null}}class Wy extends nu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=mt(i);return new np(o,this.ngModule)}}function mg(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class np extends ep{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Bh(n){return n.map(Vg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return mg(this.componentDef.inputs)}get outputs(){return mg(this.componentDef.outputs)}create(i,o,l,c){const p=(c=c||this.ngModule)?function Zy(n,i){return{get:(o,l,c)=>{const p=n.get(o,tp,c);return p!==tp||l===tp?p:i.get(o,l,c)}}}(i,c.injector):i,v=p.get(zy,j),T=p.get(Zb,null),x=v.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",oe=l?function Bp(n,i,o){if(yi(n))return n.selectRootElement(i,o===tt.ShadowDom);let l="string"==typeof i?n.querySelector(i):i;return l.textContent="",l}(x,l,this.componentDef.encapsulation):Pa(v.createRenderer(null,this.componentDef),Y,function Ky(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Y)),Ve=this.componentDef.onPush?576:528,dt=function I_(n,i){return{components:[],scheduler:n||Pc,clean:qp,playerHandler:i||null,flags:0}}(),At=bd(0,null,null,1,0,null,null,null,null,null),Yt=gd(null,At,dt,Ve,null,null,v,x,T,p);let pn,Tn;zn(Yt);try{const Vn=function pf(n,i,o,l,c,p){const v=o[1];o[20]=n;const x=Sl(v,20,2,"#host",null),Y=x.mergedAttrs=i.hostAttrs;null!==Y&&(rf(x,Y,!0),null!==n&&(Ki(c,n,Y),null!==x.classes&&nl(c,n,x.classes),null!==x.styles&&Nh(c,n,x.styles)));const oe=l.createRenderer(n,i),Ve=gd(o,Xg(i),null,i.onPush?64:16,o[20],x,l,oe,p||null,null);return v.firstCreatePass&&(Ht(Q(x,o),v,i.type),Jh(v,x),Gp(x,o.length,1)),ef(o,Ve),o[20]=Ve}(oe,this.componentDef,Yt,v,x);if(oe)if(l)Ki(x,oe,["ng-version",pg.full]);else{const{attrs:nn,classes:oi}=function hd(n){const i=[],o=[];let l=1,c=2;for(;l<n.length;){let p=n[l];if("string"==typeof p)2===c?""!==p&&i.push(p,n[++l]):8===c&&o.push(p);else{if(!Vo(c))break;c=p}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);nn&&Ki(x,oe,nn),oi&&oi.length>0&&nl(x,oe,oi.join(" "))}if(Tn=$n(At,20),void 0!==o){const nn=Tn.projection=[];for(let oi=0;oi<this.ngContentSelectors.length;oi++){const Yi=o[oi];nn.push(null!=Yi?Array.from(Yi):null)}}pn=function mf(n,i,o,l,c){const p=o[1],v=function Tv(n,i,o){const l=nr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),a_(n,l,i,Hc(n,i,1,null),o));const c=xo(i,n,l.directiveStart,l);ri(c,i);const p=zt(l,i);return p&&ri(p,i),c}(p,o,i);if(l.components.push(v),n[8]=v,c&&c.forEach(x=>x(v,i)),i.contentQueries){const x=nr();i.contentQueries(1,v,x.directiveStart)}const T=nr();return!p.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Or(T.index),Vp(o[1],T,0,T.directiveStart,T.directiveEnd,i),Du(i,v)),v}(Vn,this.componentDef,Yt,dt,[cm]),Gc(At,Yt,null)}finally{tr()}return new qb(this.componentType,pn,Uu(Tn,Yt),Yt,Tn)}}class qb extends class dg{}{constructor(i,o,l,c,p){super(),this.location=l,this._rootLView=c,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Yb(c),this.componentType=i}get injector(){return new Ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Xd{}class ip{}const Jd=new Map;class Jb extends Xd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Wy(this);const l=Le(i);this._bootstrapComponents=ha(l.bootstrap),this._r3Injector=cf(i,o,[{provide:Xd,useValue:this},{provide:nu,useValue:this.componentFactoryResolver}],_e(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Eo.THROW_IF_NOT_FOUND,l=fn.Default){return i===Eo||i===Xd||i===af?this:this._r3Injector.get(i,o,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class eh extends ip{constructor(i){super(),this.moduleType=i,null!==Le(i)&&function Qb(n){const i=new Set;!function o(l){const c=Le(l,!0),p=c.id;null!==p&&(function gg(n,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${n} - ${_e(i)} vs ${_e(i.name)}`)}(p,Jd.get(p),l),Jd.set(p,l));const v=ha(c.imports);for(const T of v)i.has(T)||(i.add(T),o(T))}(n)}(i)}create(i){return new Jb(this.moduleType,i)}}function Qy(n,i,o,l){return r0(Jt(),pr(),n,i,o,l)}function r0(n,i,o,l,c,p){const v=i+o;return $r(n,v,c)?function ol(n,i,o){return n[i]=o}(n,v+1,p?l.call(p,c):l(c)):function sp(n,i){const o=n[i];return o===di?void 0:o}(n,v+1)}function yg(n,i){const o=vi();let l;const c=n+20;o.firstCreatePass?(l=function ev(n,i){if(i)for(let o=i.length-1;o>=0;o--){const l=i[o];if(n===l.name)return l}}(i,o.pipeRegistry),o.data[c]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,l.onDestroy)):l=o.data[c];const p=l.factory||(l.factory=ar(l.type)),v=ht(_r);try{const T=oa(!1),x=p();return oa(T),function x_(n,i,o,l){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=l}(o,Jt(),c,x),x}finally{ht(v)}}function vg(n,i,o){const l=n+20,c=Jt(),p=gi(c,l);return function op(n,i){return n[1].data[i].pure}(c,l)?r0(c,pr(),i,p.transform,o,p):p.transform(o)}function ap(n){return i=>{setTimeout(n,void 0,i)}}const ll=class o0 extends h.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){var c,p,v;let T=i,x=o||(()=>null),Y=l;if(i&&"object"==typeof i){const Ve=i;T=null===(c=Ve.next)||void 0===c?void 0:c.bind(Ve),x=null===(p=Ve.error)||void 0===p?void 0:p.bind(Ve),Y=null===(v=Ve.complete)||void 0===v?void 0:v.bind(Ve)}this.__isAsync&&(x=ap(x),T&&(T=ap(T)),Y&&(Y=ap(Y)));const oe=super.subscribe({next:T,error:x,complete:Y});return i instanceof w.w0&&i.add(oe),oe}};function bg(){return this._results[sc()]()}class iu{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=sc(),l=iu.prototype;l[o]||(l[o]=bg)}get changes(){return this._changes||(this._changes=new ll)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const c=oo(i);(this._changesDetected=!function jl(n,i,o){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],p=i[l];if(o&&(c=o(c),p=o(p)),p!==c)return!1}return!0}(l._results,c,o))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hu=(()=>{class n{}return n.__NG_ELEMENT_ID__=l0,n})();const a0=Hu,Eg=class extends a0{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i){const o=this._declarationTContainer.tViews,l=gd(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(o)),Gc(o,l,i),new Qd(l)}};function l0(){return th(nr(),Jt())}function th(n,i){return 4&n.type?new Eg(i,n,Uu(n,i)):null}let nh=(()=>{class n{}return n.__NG_ELEMENT_ID__=sv,n})();function sv(){return ov(nr(),Jt())}const c0=nh,Cg=class extends c0{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return Uu(this._hostTNode,this._hostLView)}get injector(){return new Ma(this._hostTNode,this._hostLView)}get parentInjector(){const i=jt(this._hostTNode,this._hostLView);if(Ha(i)){const o=Xi(i,this._hostLView),l=so(i);return new Ma(o[1].data[l+8],o)}return new Ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=wg(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){const c=i.createEmbeddedView(o||{});return this.insert(c,l),c}createComponent(i,o,l,c,p){const v=i&&!function jr(n){return"function"==typeof n}(i);let T;if(v)T=o;else{const Ve=o||{};T=Ve.index,l=Ve.injector,c=Ve.projectableNodes,p=Ve.ngModuleRef}const x=v?i:new np(mt(i)),Y=l||this.parentInjector;if(!p&&null==x.ngModule){const dt=(v?Y:this.parentInjector).get(Xd,null);dt&&(p=dt)}const oe=x.create(Y,c,void 0,p);return this.insert(oe.hostView,T),oe}insert(i,o){const l=i._lView,c=l[1];if(function Ci(n){return yr(n[3])}(l)){const oe=this.indexOf(i);if(-1!==oe)this.detach(oe);else{const Ve=l[3],dt=new Cg(Ve,Ve[6],Ve[3]);dt.detach(dt.indexOf(i))}}const p=this._adjustIndex(o),v=this._lContainer;!function vu(n,i,o,l){const c=10+l,p=o.length;l>0&&(o[c-1][4]=i),l<p-10?(i[4]=o[c],Sa(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const v=i[17];null!==v&&o!==v&&function uo(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(v,i);const T=i[19];null!==T&&T.insertView(n),i[2]|=128}(c,l,v,p);const T=Cp(p,v),x=l[11],Y=Oh(x,v[7]);return null!==Y&&function ud(n,i,o,l,c,p){l[0]=c,l[6]=i,dd(n,l,o,1,c,p)}(c,v[6],x,l,Y,T),i.attachToViewContainerRef(),Sa(Dg(v),p,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=wg(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Sh(this._lContainer,o);l&&(Pt(Dg(this._lContainer),o),ka(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Sh(this._lContainer,o);return l&&null!=Pt(Dg(this._lContainer),o)?new Qd(l):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function wg(n){return n[8]}function Dg(n){return n[8]||(n[8]=[])}function ov(n,i){let o;const l=i[n.index];if(yr(l))o=l;else{let c;if(8&n.type)c=L(l);else{const p=i[11];c=p.createComment("");const v=zt(n,i);Nc(p,Oh(p,v),c,function mv(n,i){return yi(n)?n.nextSibling(i):i.nextSibling}(p,v),!1)}i[n.index]=o=Iu(l,i,c,n),ef(i,o)}return new Cg(o,n,i)}class r{constructor(i){this.queryList=i,this.matches=null}clone(){return new r(this.queryList)}setDirty(){this.queryList.setDirty()}}class e{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let p=0;p<l;p++){const v=o.getByIndex(p);c.push(this.queries[v.indexInDeclarationView].clone())}return new e(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==zi(i,o).matches&&this.queries[o].setDirty()}}class t{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class s{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const c=null!==o?o.length:0,p=this.getByIndex(l).embeddedTView(i,c);p&&(p.indexInDeclarationView=l,null!==o?o.push(p):o=[p])}return null!==o?new s(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class a{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new a(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const p=l[c];this.matchTNodeWithReadOption(i,o,u(o,p)),this.matchTNodeWithReadOption(i,o,ga(o,i,p,!1,!1))}else l===Hu?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ga(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Yd||c===nh||c===Hu&&4&o.type)this.addMatch(o.index,-2);else{const p=ga(o,i,c,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function u(n,i){const o=n.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function M(n,i,o,l){return-1===o?function m(n,i){return 11&n.type?Uu(n,i):4&n.type?th(n,i):null}(i,n):-2===o?function B(n,i,o){return o===Yd?Uu(i,n):o===Hu?th(i,n):o===nh?ov(i,n):void 0}(n,i,l):xo(n,n[1],o,i)}function q(n,i,o,l){const c=i[19].queries[l];if(null===c.matches){const p=n.data,v=o.matches,T=[];for(let x=0;x<v.length;x+=2){const Y=v[x];T.push(Y<0?null:M(i,p[Y],v[x+1],o.metadata.read))}c.matches=T}return c.matches}function Te(n,i,o,l){const c=n.queries.getByIndex(o),p=c.matches;if(null!==p){const v=q(n,i,c,o);for(let T=0;T<p.length;T+=2){const x=p[T];if(x>0)l.push(v[T/2]);else{const Y=p[T+1],oe=i[-x];for(let Ve=10;Ve<oe.length;Ve++){const dt=oe[Ve];dt[17]===dt[3]&&Te(dt[1],dt,Y,l)}if(null!==oe[9]){const Ve=oe[9];for(let dt=0;dt<Ve.length;dt++){const At=Ve[dt];Te(At[1],At,Y,l)}}}}}return l}function nt(n){const i=Jt(),o=vi(),l=Mt();Wt(l+1);const c=zi(o,l);if(n.dirty&&pi(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const p=c.crossesNgTemplate?Te(o,i,l,[]):q(o,i,c,l);n.reset(p,$b),n.notifyOnChanges()}return!0}return!1}function xt(n,i,o){const l=vi();l.firstCreatePass&&(Si(l,new t(n,i,o),-1),2==(2&i)&&(l.staticViewQueries=!0)),Pn(l,Jt(),i)}function Zt(n,i,o,l){const c=vi();if(c.firstCreatePass){const p=nr();Si(c,new t(i,o,l),p.index),function sr(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}Pn(c,Jt(),o)}function qt(){return function yn(n,i){return n[19].queries[i].queryList}(Jt(),Mt())}function Pn(n,i,o){const l=new iu(4==(4&o));e_(n,i,l,l.destroy),null===i[19]&&(i[19]=new e),i[19].queries.push(new r(l))}function Si(n,i,o){null===n.queries&&(n.queries=new s),n.queries.track(new a(i,o))}function zi(n,i){return n.queries.getByIndex(i)}function Di(n,i){return th(n,i)}function dv(...n){}const RE=new Tr("Application Initializer");let m0=(()=>{class n{constructor(o){this.appInits=o,this.resolve=dv,this.reject=dv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(z_(p))o.push(p);else if(Tm(p)){const v=new Promise((T,x)=>{p.subscribe({complete:T,error:x})});o.push(v)}}Promise.all(o).then(()=>{l()}).catch(c=>{this.reject(c)}),0===o.length&&l(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(V(RE,8))},n.\u0275prov=Ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PE=new Tr("AppId",{providedIn:"root",factory:function kE(){return`${g0()}${g0()}${g0()}`}});function g0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NE=new Tr("Platform Initializer"),FE=new Tr("Platform ID"),LE=new Tr("appBootstrapListener");let BE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ce({token:n,factory:n.\u0275fac}),n})();const _0=new Tr("LocaleId",{providedIn:"root",factory:()=>Ye(_0,fn.Optional|fn.SkipSelf)||function AC(){return"undefined"!=typeof $localize&&$localize.locale||Xs}()}),xC=new Tr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class OC{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let RC=(()=>{class n{compileModuleSync(o){return new eh(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),p=ha(Le(o).declarations).reduce((v,T)=>{const x=mt(T);return x&&v.push(new np(x)),v},[]);return new OC(l,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kC=(()=>Promise.resolve(0))();function y0(n){"undefined"==typeof Zone?kC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Pl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ll(!1),this.onMicrotaskEmpty=new ll(!1),this.onStable=new ll(!1),this.onError=new ll(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&o,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function NC(){let n=on.requestAnimationFrame,i=on.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function BC(n){const i=()=>{!function LC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(on,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,b0(n),n.isCheckStableRunning=!0,v0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),b0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,c,p,v,T)=>{try{return VE(n),o.invokeTask(c,p,v,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&i(),UE(n)}},onInvoke:(o,l,c,p,v,T,x)=>{try{return VE(n),o.invoke(c,p,v,T,x)}finally{n.shouldCoalesceRunChangeDetection&&i(),UE(n)}},onHasTask:(o,l,c,p)=>{o.hasTask(c,p),l===c&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,b0(n),v0(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,l,c,p)=>(o.handleError(c,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,c){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+c,i,FC,dv,dv);try{return p.runTask(v,o,l)}finally{p.cancelTask(v)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const FC={};function v0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function b0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function VE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function UE(n){n._nesting--,v0(n)}class VC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ll,this.onMicrotaskEmpty=new ll,this.onStable=new ll,this.onError=new ll}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,c){return i.apply(o,l)}}let jE=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pl.assertNotInAngularZone(),y0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,c){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:c})}whenStable(o,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(V(Pl))},n.\u0275prov=Ce({token:n,factory:n.\u0275fac}),n})(),HE=(()=>{class n{constructor(){this._applications=new Map,E0.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return E0.findTestabilityInTree(this,o,l)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ce({token:n,factory:n.\u0275fac}),n})();class UC{addToWindow(i){}findTestabilityInTree(i,o,l){return null}}function jC(n){E0=n}let kl,E0=new UC;const GE=new Tr("AllowMultipleToken");class $C{constructor(i,o){this.name=i,this.token=o}}function $E(n,i,o=[]){const l=`Platform: ${i}`,c=new Tr(l);return(p=[])=>{let v=zE();if(!v||v.injector.get(GE,!1))if(n)n(o.concat(p).concat({provide:c,useValue:!0}));else{const T=o.concat(p).concat({provide:c,useValue:!0},{provide:Id,useValue:"platform"});!function zC(n){if(kl&&!kl.destroyed&&!kl.injector.get(GE,!1))throw new He(400,"");kl=n.get(WE);const i=n.get(NE,null);i&&i.forEach(o=>o())}(Eo.create({providers:T,name:l}))}return function WC(n){const i=zE();if(!i)throw new He(401,"");return i}()}}function zE(){return kl&&!kl.destroyed?kl:null}let WE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const T=function KC(n,i){let o;return o="noop"===n?new VC:("zone.js"===n?void 0:n)||new Pl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),x=[{provide:Pl,useValue:T}];return T.run(()=>{const Y=Eo.create({providers:x,parent:this.injector,name:o.moduleType.name}),oe=o.create(Y),Ve=oe.injector.get(Ja,null);if(!Ve)throw new He(402,"");return T.runOutsideAngular(()=>{const dt=T.onError.subscribe({next:At=>{Ve.handleError(At)}});oe.onDestroy(()=>{w0(this._modules,oe),dt.unsubscribe()})}),function ZC(n,i,o){try{const l=o();return z_(l)?l.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(Ve,T,()=>{const dt=oe.injector.get(m0);return dt.runInitializers(),dt.donePromise.then(()=>(function Xm(n){je(n,"Expected localeId to be defined"),"string"==typeof n&&(Sy=n.toLowerCase().replace(/_/g,"-"))}(oe.injector.get(_0,Xs)||Xs),this._moduleDoBootstrap(oe),oe))})})}bootstrapModule(o,l=[]){const c=KE({},l);return function HC(n,i,o){const l=new eh(o);return Promise.resolve(l)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(o){const l=o.injector.get(C0);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new He(403,"");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(V(Eo))},n.\u0275prov=Ce({token:n,factory:n.\u0275fac}),n})();function KE(n,i){return Array.isArray(i)?i.reduce(KE,n):Object.assign(Object.assign({},n),i)}let C0=(()=>{class n{constructor(o,l,c,p,v){this._zone=o,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new g.y(Y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Y.next(this._stable),Y.complete()})}),x=new g.y(Y=>{let oe;this._zone.runOutsideAngular(()=>{oe=this._zone.onStable.subscribe(()=>{Pl.assertNotInAngularZone(),y0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Y.next(!0))})})});const Ve=this._zone.onUnstable.subscribe(()=>{Pl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Y.next(!1)}))});return()=>{oe.unsubscribe(),Ve.unsubscribe()}});this.isStable=(0,$.T)(T,x.pipe((0,we.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new He(405,"");let c;c=o instanceof ep?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const p=function GC(n){return n.isBoundToModule}(c)?void 0:this._injector.get(Xd),T=c.create(Eo.NULL,[],l||c.selector,p),x=T.location.nativeElement,Y=T.injector.get(jE,null),oe=Y&&T.injector.get(HE);return Y&&oe&&oe.registerApplication(x,Y),T.onDestroy(()=>{this.detachView(T.hostView),w0(this.components,T),oe&&oe.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new He(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;w0(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(LE,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(V(Pl),V(Eo),V(Ja),V(nu),V(m0))},n.\u0275prov=Ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w0(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let YE=!0,qE=!1;function qC(){return qE=!0,YE}function QC(){if(qE)throw new Error("Cannot enable prod mode after platform setup.");YE=!1}let XC=(()=>{class n{}return n.__NG_ELEMENT_ID__=JC,n})();function JC(n){return function ew(n,i,o){if(zs(n)&&!o){const l=li(n.index,i);return new Qd(l,l)}return 47&n.type?new Qd(i[16],i):null}(nr(),Jt(),16==(16&n))}class eC{constructor(){}supports(i){return Kc(i)}create(i){return new ow(i)}}const sw=(n,i)=>i;class ow{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||sw}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,c=0,p=null;for(;o||l;){const v=!l||o&&o.currentIndex<nC(l,c,p)?o:l,T=nC(v,c,p),x=v.currentIndex;if(v===l)c--,l=l._nextRemoved;else if(o=o._next,null==v.previousIndex)c++;else{p||(p=[]);const Y=T-c,oe=x-c;if(Y!=oe){for(let dt=0;dt<Y;dt++){const At=dt<p.length?p[dt]:p[dt]=0,Yt=At+dt;oe<=Yt&&Yt<Y&&(p[dt]=At+1)}p[v.previousIndex]=oe-Y}}T!==x&&i(v,T,x)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Kc(i))throw new He(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,p,v,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let T=0;T<this.length;T++)p=i[T],v=this._trackByFn(T,p),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,p,v,T)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,v,T),l=!0),o=o._next}else c=0,function T_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[sc()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,T=>{v=this._trackByFn(c,T),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,T,v,c)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,v,c),l=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,c){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,c)):i=this._addAfter(new aw(o,l),p,c),i}_verifyReinsertion(i,o,l,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?i=this._reinsertAfter(p,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,p=i._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new tC),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class aw{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class tC{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new lw,this.map.set(o,l)),l.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nC(n,i,o){const l=n.previousIndex;if(null===l)return l;let c=0;return o&&l<o.length&&(c=o[l]),l+i+c}class iC{constructor(){}supports(i){return i instanceof Map||Sd(i)}create(){return new cw}}class cw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Sd(i)))throw new He(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(c,l);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const p=c._prev,v=c._next;return p&&(p._next=v),v&&(v._prev=p),c._next=null,c._prev=null,c}const l=new uw(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class uw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rC(){return new S0([new eC])}let S0=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const c=l.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||rC()),deps:[[n,new lr,new ti]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(null!=l)return l;throw new He(901,"")}}return n.\u0275prov=Ce({token:n,providedIn:"root",factory:rC}),n})();function sC(){return new A0([new iC])}let A0=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(l){const c=l.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||sC()),deps:[[n,new lr,new ti]]}}find(o){const l=this.factories.find(p=>p.supports(o));if(l)return l;throw new He(901,"")}}return n.\u0275prov=Ce({token:n,providedIn:"root",factory:sC}),n})();const fw=$E(null,"core",[{provide:FE,useValue:"unknown"},{provide:WE,deps:[Eo]},{provide:HE,deps:[]},{provide:BE,deps:[]}]);let pw=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(V(C0))},n.\u0275mod=vn({type:n}),n.\u0275inj=pt({}),n})()},3075:($t,Xe,b)=>{b.d(Xe,{qu:()=>Ci,u:()=>hr,sg:()=>ks,u5:()=>li,JU:()=>_e,a5:()=>Ze,JJ:()=>fn,JL:()=>gn,F:()=>Li,UX:()=>pi,kI:()=>Nt,_Y:()=>or});var h=b(5e3),w=b(9808),g=b(8996),$=b(4128),we=b(4004);let Ie=(()=>{class G{constructor(S,de){this._renderer=S,this._elementRef=de,this.onChange=Bt=>{},this.onTouched=()=>{}}setProperty(S,de){this._renderer.setProperty(this._elementRef.nativeElement,S,de)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return G.\u0275fac=function(S){return new(S||G)(h.Y36(h.Qsj),h.Y36(h.SBq))},G.\u0275dir=h.lG2({type:G}),G})(),Pe=(()=>{class G extends Ie{}return G.\u0275fac=function(){let F;return function(de){return(F||(F=h.n5z(G)))(de||G)}}(),G.\u0275dir=h.lG2({type:G,features:[h.qOj]}),G})();const _e=new h.OlP("NgValueAccessor"),pe={provide:_e,useExisting:(0,h.Gpc)(()=>xe),multi:!0},ze=new h.OlP("CompositionEventMode");let xe=(()=>{class G extends Ie{constructor(S,de,Bt){super(S,de),this._compositionMode=Bt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ce(){const G=(0,w.q)()?(0,w.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(S){this.setProperty("value",null==S?"":S)}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return G.\u0275fac=function(S){return new(S||G)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(ze,8))},G.\u0275dir=h.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,de){1&S&&h.NdJ("input",function(wn){return de._handleInput(wn.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(wn){return de._compositionEnd(wn.target.value)})},features:[h._Bn([pe]),h.qOj]}),G})();function He(G){return null==G||0===G.length}function st(G){return null!=G&&"number"==typeof G.length}const Fe=new h.OlP("NgValidators"),at=new h.OlP("NgAsyncValidators"),ke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nt{static min(F){return function it(G){return F=>{if(He(F.value)||He(G))return null;const S=parseFloat(F.value);return!isNaN(S)&&S<G?{min:{min:G,actual:F.value}}:null}}(F)}static max(F){return function be(G){return F=>{if(He(F.value)||He(G))return null;const S=parseFloat(F.value);return!isNaN(S)&&S>G?{max:{max:G,actual:F.value}}:null}}(F)}static required(F){return function fe(G){return He(G.value)?{required:!0}:null}(F)}static requiredTrue(F){return function Se(G){return!0===G.value?null:{required:!0}}(F)}static email(F){return function De(G){return He(G.value)||ke.test(G.value)?null:{email:!0}}(F)}static minLength(F){return function J(G){return F=>He(F.value)||!st(F.value)?null:F.value.length<G?{minlength:{requiredLength:G,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function Qe(G){return F=>st(F.value)&&F.value.length>G?{maxlength:{requiredLength:G,actualLength:F.value.length}}:null}(F)}static pattern(F){return function se(G){if(!G)return Ue;let F,S;return"string"==typeof G?(S="","^"!==G.charAt(0)&&(S+="^"),S+=G,"$"!==G.charAt(G.length-1)&&(S+="$"),F=new RegExp(S)):(S=G.toString(),F=G),de=>{if(He(de.value))return null;const Bt=de.value;return F.test(Bt)?null:{pattern:{requiredPattern:S,actualValue:Bt}}}}(F)}static nullValidator(F){return null}static compose(F){return je(F)}static composeAsync(F){return Ee(F)}}function Ue(G){return null}function te(G){return null!=G}function Ne(G){const F=(0,h.QGY)(G)?(0,g.D)(G):G;return(0,h.CqO)(F),F}function We(G){let F={};return G.forEach(S=>{F=null!=S?Object.assign(Object.assign({},F),S):F}),0===Object.keys(F).length?null:F}function yt(G,F){return F.map(S=>S(G))}function Je(G){return G.map(F=>function _t(G){return!G.validate}(F)?F:S=>F.validate(S))}function je(G){if(!G)return null;const F=G.filter(te);return 0==F.length?null:function(S){return We(yt(S,F))}}function $e(G){return null!=G?je(Je(G)):null}function Ee(G){if(!G)return null;const F=G.filter(te);return 0==F.length?null:function(S){const de=yt(S,F).map(Ne);return(0,$.D)(de).pipe((0,we.U)(We))}}function Ge(G){return null!=G?Ee(Je(G)):null}function z(G,F){return null===G?[F]:Array.isArray(G)?[...G,F]:[G,F]}function Ce(G){return G._rawValidators}function Rt(G){return G._rawAsyncValidators}function pt(G){return G?Array.isArray(G)?G:[G]:[]}function Ot(G,F){return Array.isArray(G)?G.includes(F):G===F}function Et(G,F){const S=pt(F);return pt(G).forEach(Bt=>{Ot(S,Bt)||S.push(Bt)}),S}function bt(G,F){return pt(F).filter(S=>!Ot(G,S))}class Vt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=$e(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=Ge(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,S){return!!this.control&&this.control.hasError(F,S)}getError(F,S){return this.control?this.control.getError(F,S):null}}class Ze extends Vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class St extends Vt{get formDirective(){return null}get path(){return null}}class sn{constructor(F){this._cd=F}is(F){var S,de,Bt;return"submitted"===F?!!(null===(S=this._cd)||void 0===S?void 0:S.submitted):!!(null===(Bt=null===(de=this._cd)||void 0===de?void 0:de.control)||void 0===Bt?void 0:Bt[F])}}let fn=(()=>{class G extends sn{constructor(S){super(S)}}return G.\u0275fac=function(S){return new(S||G)(h.Y36(Ze,2))},G.\u0275dir=h.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,de){2&S&&h.ekj("ng-untouched",de.is("untouched"))("ng-touched",de.is("touched"))("ng-pristine",de.is("pristine"))("ng-dirty",de.is("dirty"))("ng-valid",de.is("valid"))("ng-invalid",de.is("invalid"))("ng-pending",de.is("pending"))},features:[h.qOj]}),G})(),gn=(()=>{class G extends sn{constructor(S){super(S)}}return G.\u0275fac=function(S){return new(S||G)(h.Y36(St,10))},G.\u0275dir=h.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,de){2&S&&h.ekj("ng-untouched",de.is("untouched"))("ng-touched",de.is("touched"))("ng-pristine",de.is("pristine"))("ng-dirty",de.is("dirty"))("ng-valid",de.is("valid"))("ng-invalid",de.is("invalid"))("ng-pending",de.is("pending"))("ng-submitted",de.is("submitted"))},features:[h.qOj]}),G})();function an(G,F){U(G,F),F.valueAccessor.writeValue(G.value),function R(G,F){F.valueAccessor.registerOnChange(S=>{G._pendingValue=S,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Re(G,F)})}(G,F),function Dt(G,F){const S=(de,Bt)=>{F.valueAccessor.writeValue(de),Bt&&F.viewToModelUpdate(de)};G.registerOnChange(S),F._registerOnDestroy(()=>{G._unregisterOnChange(S)})}(G,F),function me(G,F){F.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Re(G,F),"submit"!==G.updateOn&&G.markAsTouched()})}(G,F),function he(G,F){if(F.valueAccessor.setDisabledState){const S=de=>{F.valueAccessor.setDisabledState(de)};G.registerOnDisabledChange(S),F._registerOnDestroy(()=>{G._unregisterOnDisabledChange(S)})}}(G,F)}function Ai(G,F,S=!0){const de=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(de),F.valueAccessor.registerOnTouched(de)),P(G,F),G&&(F._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function qe(G,F){G.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(F)})}function U(G,F){const S=Ce(G);null!==F.validator?G.setValidators(z(S,F.validator)):"function"==typeof S&&G.setValidators([S]);const de=Rt(G);null!==F.asyncValidator?G.setAsyncValidators(z(de,F.asyncValidator)):"function"==typeof de&&G.setAsyncValidators([de]);const Bt=()=>G.updateValueAndValidity();qe(F._rawValidators,Bt),qe(F._rawAsyncValidators,Bt)}function P(G,F){let S=!1;if(null!==G){if(null!==F.validator){const Bt=Ce(G);if(Array.isArray(Bt)&&Bt.length>0){const wn=Bt.filter(bi=>bi!==F.validator);wn.length!==Bt.length&&(S=!0,G.setValidators(wn))}}if(null!==F.asyncValidator){const Bt=Rt(G);if(Array.isArray(Bt)&&Bt.length>0){const wn=Bt.filter(bi=>bi!==F.asyncValidator);wn.length!==Bt.length&&(S=!0,G.setAsyncValidators(wn))}}}const de=()=>{};return qe(F._rawValidators,de),qe(F._rawAsyncValidators,de),S}function Re(G,F){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function mn(G,F){U(G,F)}function mt(G,F){G._syncPendingControls(),F.forEach(S=>{const de=S.control;"submit"===de.updateOn&&de._pendingChange&&(S.viewToModelUpdate(de._pendingValue),de._pendingChange=!1)})}function wt(G,F){const S=G.indexOf(F);S>-1&&G.splice(S,1)}const lt="VALID",Ft="INVALID",Kt="PENDING",hn="DISABLED";function Nn(G){return(ai(G)?G.validators:G)||null}function jn(G){return Array.isArray(G)?$e(G):G||null}function Xt(G,F){return(ai(F)?F.asyncValidators:G)||null}function Sn(G){return Array.isArray(G)?Ge(G):G||null}function ai(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}const Mi=G=>G instanceof Gn,Gi=G=>G instanceof kr,xi=G=>G instanceof ur;function Er(G){return Mi(G)?G.value:G.getRawValue()}function _i(G,F){const S=Gi(G),de=G.controls;if(!(S?Object.keys(de):de).length)throw new h.vHH(1e3,"");if(!de[F])throw new h.vHH(1001,"")}function $i(G,F){Gi(G),G._forEachChild((de,Bt)=>{if(void 0===F[Bt])throw new h.vHH(1002,"")})}class Ti{constructor(F,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=S,this._composedValidatorFn=jn(this._rawValidators),this._composedAsyncValidatorFn=Sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===lt}get invalid(){return this.status===Ft}get pending(){return this.status==Kt}get disabled(){return this.status===hn}get enabled(){return this.status!==hn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=jn(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=Sn(F)}addValidators(F){this.setValidators(Et(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(Et(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(bt(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(bt(F,this._rawAsyncValidators))}hasValidator(F){return Ot(this._rawValidators,F)}hasAsyncValidator(F){return Ot(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=Kt,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const S=this._parentMarkedDirty(F.onlySelf);this.status=hn,this.errors=null,this._forEachChild(de=>{de.disable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:S})),this._onDisabledChange.forEach(de=>de(!0))}enable(F={}){const S=this._parentMarkedDirty(F.onlySelf);this.status=lt,this._forEachChild(de=>{de.enable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:S})),this._onDisabledChange.forEach(de=>de(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lt||this.status===Kt)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hn:lt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=Kt,this._hasOwnPendingAsyncValidator=!0;const S=Ne(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(de=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(de,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,S={}){this.errors=F,this._updateControlsErrors(!1!==S.emitEvent)}get(F){return function xn(G,F,S){if(null==F||(Array.isArray(F)||(F=F.split(S)),Array.isArray(F)&&0===F.length))return null;let de=G;return F.forEach(Bt=>{de=Gi(de)?de.controls.hasOwnProperty(Bt)?de.controls[Bt]:null:xi(de)&&de.at(Bt)||null}),de}(this,F,".")}getError(F,S){const de=S?this.get(S):this;return de&&de.errors?de.errors[F]:null}hasError(F,S){return!!this.getError(F,S)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?hn:this.errors?Ft:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kt)?Kt:this._anyControlsHaveStatus(Ft)?Ft:lt}_anyControlsHaveStatus(F){return this._anyControls(S=>S.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_isBoxedValue(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){ai(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Gn extends Ti{constructor(F=null,S,de){super(Nn(S),Xt(de,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ai(S)&&S.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(F)?F.value:F)}setValue(F,S={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(de=>de(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(F,S={}){this.setValue(F,S)}reset(F=this.defaultValue,S={}){this._applyFormState(F),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){wt(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){wt(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){this._isBoxedValue(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}}class kr extends Ti{constructor(F,S,de){super(Nn(S),Xt(de,S)),this.controls=F,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,S){return this.controls[F]?this.controls[F]:(this.controls[F]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(F,S,de={}){this.registerControl(F,S),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}removeControl(F,S={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(F,S,de={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],S&&this.registerControl(F,S),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,S={}){$i(this,F),Object.keys(F).forEach(de=>{_i(this,de),this.controls[de].setValue(F[de],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(F,S={}){null!=F&&(Object.keys(F).forEach(de=>{this.controls[de]&&this.controls[de].patchValue(F[de],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(F={},S={}){this._forEachChild((de,Bt)=>{de.reset(F[Bt],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(F,S,de)=>(F[de]=Er(S),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(S,de)=>!!de._syncPendingControls()||S);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(S=>{const de=this.controls[S];de&&F(de,S)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const S of Object.keys(this.controls)){const de=this.controls[S];if(this.contains(S)&&F(de))return!0}return!1}_reduceValue(){return this._reduceChildren({},(F,S,de)=>((S.enabled||this.disabled)&&(F[de]=S.value),F))}_reduceChildren(F,S){let de=F;return this._forEachChild((Bt,wn)=>{de=S(de,Bt,wn)}),de}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ur extends Ti{constructor(F,S,de){super(Nn(S),Xt(de,S)),this.controls=F,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[F]}push(F,S={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(F,S,de={}){this.controls.splice(F,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:de.emitEvent})}removeAt(F,S={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(F,S,de={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),S&&(this.controls.splice(F,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,S={}){$i(this,F),F.forEach((de,Bt)=>{_i(this,Bt),this.at(Bt).setValue(de,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(F,S={}){null!=F&&(F.forEach((de,Bt)=>{this.at(Bt)&&this.at(Bt).patchValue(de,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(F=[],S={}){this._forEachChild((de,Bt)=>{de.reset(F[Bt],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(F=>Er(F))}clear(F={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_syncPendingControls(){let F=this.controls.reduce((S,de)=>!!de._syncPendingControls()||S,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((S,de)=>{F(S,de)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(S=>S.enabled&&F(S))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}}const _s={provide:St,useExisting:(0,h.Gpc)(()=>Li)},mr=(()=>Promise.resolve(null))();let Li=(()=>{class G extends St{constructor(S,de){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new kr({},$e(S),Ge(de))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){mr.then(()=>{const de=this._findContainer(S.path);S.control=de.registerControl(S.name,S.control),an(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){mr.then(()=>{const de=this._findContainer(S.path);de&&de.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){mr.then(()=>{const de=this._findContainer(S.path),Bt=new kr({});mn(Bt,S),de.registerControl(S.name,Bt),Bt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){mr.then(()=>{const de=this._findContainer(S.path);de&&de.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,de){mr.then(()=>{this.form.get(S.path).setValue(de)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,mt(this.form,this._directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return G.\u0275fac=function(S){return new(S||G)(h.Y36(Fe,10),h.Y36(at,10))},G.\u0275dir=h.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,de){1&S&&h.NdJ("submit",function(wn){return de.onSubmit(wn)})("reset",function(){return de.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([_s]),h.qOj]}),G})(),or=(()=>{class G{}return G.\u0275fac=function(S){return new(S||G)},G.\u0275dir=h.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})(),er=(()=>{class G{}return G.\u0275fac=function(S){return new(S||G)},G.\u0275mod=h.oAB({type:G}),G.\u0275inj=h.cJS({}),G})();const eo=new h.OlP("NgModelWithFormControlWarning"),ns={provide:St,useExisting:(0,h.Gpc)(()=>ks)};let ks=(()=>{class G extends St{constructor(S,de){super(),this.validators=S,this.asyncValidators=de,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(S),this._setAsyncValidators(de)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(P(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const de=this.form.get(S.path);return an(de,S),de.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),de}getControl(S){return this.form.get(S.path)}removeControl(S){Ai(S.control||null,S,!1),wt(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,de){this.form.get(S.path).setValue(de)}onSubmit(S){return this.submitted=!0,mt(this.form,this.directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const de=S.control,Bt=this.form.get(S.path);de!==Bt&&(Ai(de||null,S),Mi(Bt)&&(an(Bt,S),S.control=Bt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const de=this.form.get(S.path);mn(de,S),de.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const de=this.form.get(S.path);de&&function Cn(G,F){return P(G,F)}(de,S)&&de.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){U(this.form,this),this._oldForm&&P(this._oldForm,this)}_checkFormPresent(){}}return G.\u0275fac=function(S){return new(S||G)(h.Y36(Fe,10),h.Y36(at,10))},G.\u0275dir=h.lG2({type:G,selectors:[["","formGroup",""]],hostBindings:function(S,de){1&S&&h.NdJ("submit",function(wn){return de.onSubmit(wn)})("reset",function(){return de.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ns]),h.qOj,h.TTD]}),G})();const Ns={provide:Ze,useExisting:(0,h.Gpc)(()=>hr)};let hr=(()=>{class G extends Ze{constructor(S,de,Bt,wn,bi){super(),this._ngModelWarningConfig=bi,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(de),this._setAsyncValidators(Bt),this.valueAccessor=function Gt(G,F){if(!F)return null;let S,de,Bt;return Array.isArray(F),F.forEach(wn=>{wn.constructor===xe?S=wn:function Ke(G){return Object.getPrototypeOf(G.constructor)===Pe}(wn)?de=wn:Bt=wn}),Bt||de||S||null}(0,wn)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),function ut(G,F){if(!G.hasOwnProperty("model"))return!1;const S=G.model;return!!S.isFirstChange()||!Object.is(F,S.currentValue)}(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return function ii(G,F){return[...F.path,G]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return G._ngModelWarningSentOnce=!1,G.\u0275fac=function(S){return new(S||G)(h.Y36(St,13),h.Y36(Fe,10),h.Y36(at,10),h.Y36(_e,10),h.Y36(eo,8))},G.\u0275dir=h.lG2({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Ns]),h.qOj,h.TTD]}),G})(),gi=(()=>{class G{}return G.\u0275fac=function(S){return new(S||G)},G.\u0275mod=h.oAB({type:G}),G.\u0275inj=h.cJS({imports:[[er]]}),G})(),li=(()=>{class G{}return G.\u0275fac=function(S){return new(S||G)},G.\u0275mod=h.oAB({type:G}),G.\u0275inj=h.cJS({imports:[gi]}),G})(),pi=(()=>{class G{static withConfig(S){return{ngModule:G,providers:[{provide:eo,useValue:S.warnOnNgModelWithFormControl}]}}}return G.\u0275fac=function(S){return new(S||G)},G.\u0275mod=h.oAB({type:G}),G.\u0275inj=h.cJS({imports:[gi]}),G})(),Ci=(()=>{class G{group(S,de=null){const Bt=this._reduceControls(S);let Vr,wn=null,bi=null;return null!=de&&(function qi(G){return void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn}(de)?(wn=null!=de.validators?de.validators:null,bi=null!=de.asyncValidators?de.asyncValidators:null,Vr=null!=de.updateOn?de.updateOn:void 0):(wn=null!=de.validator?de.validator:null,bi=null!=de.asyncValidator?de.asyncValidator:null)),new kr(Bt,{asyncValidators:bi,updateOn:Vr,validators:wn})}control(S,de,Bt){return new Gn(S,de,Bt)}array(S,de,Bt){const wn=S.map(bi=>this._createControl(bi));return new ur(wn,de,Bt)}_reduceControls(S){const de={};return Object.keys(S).forEach(Bt=>{de[Bt]=this._createControl(S[Bt])}),de}_createControl(S){return Mi(S)||Gi(S)||xi(S)?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return G.\u0275fac=function(S){return new(S||G)},G.\u0275prov=h.Yz7({token:G,factory:G.\u0275fac,providedIn:pi}),G})()},7399:($t,Xe,b)=>{b.d(Xe,{OG:()=>Nt,xM:()=>De,ch:()=>J,_r:()=>fe,oL:()=>Se});var h=b(9776),w=b(7429),g=b(5e3),$=b(508),we=b(3191),Ie=b(5113),Pe=b(925),_e=b(9808),ne=b(1777),X=b(5664),pe=b(226),ce=b(7579),ze=b(6451),xe=b(9646),He=b(1159),st=b(9300),Fe=b(5698);function at(se,Ue){}const ke={bottomSheetState:(0,ne.X$)("state",[(0,ne.SB)("void, hidden",(0,ne.oB)({transform:"translateY(100%)"})),(0,ne.SB)("visible",(0,ne.oB)({transform:"translateY(0%)"})),(0,ne.eR)("visible => void, visible => hidden",(0,ne.ru)([(0,ne.jt)(`${$.mZ.COMPLEX} ${$.yN.ACCELERATION_CURVE}`),(0,ne.IO)("@*",(0,ne.pV)(),{optional:!0})])),(0,ne.eR)("void => visible",(0,ne.ru)([(0,ne.jt)(`${$.mZ.EXITING} ${$.yN.DECELERATION_CURVE}`),(0,ne.IO)("@*",(0,ne.pV)(),{optional:!0})]))])},Nt=new g.OlP("MatBottomSheetData");class it{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}let be=(()=>{class se extends w.en{constructor(te,Ne,We,yt,_t,Je,je,$e){super(),this._elementRef=te,this._changeDetectorRef=Ne,this._focusTrapFactory=We,this._interactivityChecker=yt,this._ngZone=_t,this.bottomSheetConfig=$e,this._animationState="void",this._animationStateChanged=new g.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=Ee=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(Ee)),this._document=je,this._breakpointSubscription=Je.observe([Ie.u3.Medium,Ie.u3.Large,Ie.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",Je.isMatched(Ie.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",Je.isMatched(Ie.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",Je.isMatched(Ie.u3.XLarge))})}attachComponentPortal(te){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(te)}attachTemplatePortal(te){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(te)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(te){"hidden"===te.toState?this._restoreFocus():"visible"===te.toState&&this._trapFocus(),this._animationStateChanged.emit(te)}_onAnimationStart(te){this._animationStateChanged.emit(te)}_toggleClass(te,Ne){this._elementRef.nativeElement.classList.toggle(te,Ne)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){this._elementRef.nativeElement.classList.add(...(0,we.Eq)(this.bottomSheetConfig.panelClass||[]))}_forceFocus(te,Ne){this._interactivityChecker.isFocusable(te)||(te.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const We=()=>{te.removeEventListener("blur",We),te.removeEventListener("mousedown",We),te.removeAttribute("tabindex")};te.addEventListener("blur",We),te.addEventListener("mousedown",We)})),te.focus(Ne)}_focusByCssSelector(te,Ne){let We=this._elementRef.nativeElement.querySelector(te);We&&this._forceFocus(We,Ne)}_trapFocus(){const te=this._elementRef.nativeElement;switch(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(te)),this.bottomSheetConfig.autoFocus){case!1:case"dialog":const Ne=(0,Pe.ht)();Ne!==te&&!te.contains(Ne)&&te.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.bottomSheetConfig.autoFocus)}}_restoreFocus(){const te=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&te&&"function"==typeof te.focus){const Ne=(0,Pe.ht)(),We=this._elementRef.nativeElement;(!Ne||Ne===this._document.body||Ne===We||We.contains(Ne))&&te.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,Pe.ht)(),this._elementRef.nativeElement.focus&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this._elementRef.nativeElement.focus())})}}return se.\u0275fac=function(te){return new(te||se)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(X.qV),g.Y36(X.ic),g.Y36(g.R0b),g.Y36(Ie.Yg),g.Y36(_e.K0,8),g.Y36(it))},se.\u0275cmp=g.Xpm({type:se,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(te,Ne){if(1&te&&g.Gf(w.Pl,7),2&te){let We;g.iGM(We=g.CRH())&&(Ne._portalOutlet=We.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(te,Ne){1&te&&g.WFA("@state.start",function(yt){return Ne._onAnimationStart(yt)})("@state.done",function(yt){return Ne._onAnimationDone(yt)}),2&te&&(g.uIk("aria-label",null==Ne.bottomSheetConfig?null:Ne.bottomSheetConfig.ariaLabel),g.d8E("@state",Ne._animationState))},features:[g.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(te,Ne){1&te&&g.YNc(0,at,0,0,"ng-template",0)},directives:[w.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[ke.bottomSheetState]}}),se})(),fe=(()=>{class se{}return se.\u0275fac=function(te){return new(te||se)},se.\u0275mod=g.oAB({type:se}),se.\u0275inj=g.cJS({imports:[[h.U8,$.BQ,w.eL],$.BQ]}),se})();class Se{constructor(Ue,te){this._overlayRef=te,this._afterDismissed=new ce.x,this._afterOpened=new ce.x,this.containerInstance=Ue,this.disableClose=Ue.bottomSheetConfig.disableClose,Ue._animationStateChanged.pipe((0,st.h)(Ne=>"done"===Ne.phaseName&&"visible"===Ne.toState),(0,Fe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ue._animationStateChanged.pipe((0,st.h)(Ne=>"done"===Ne.phaseName&&"hidden"===Ne.toState),(0,Fe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),te.dispose()}),te.detachments().pipe((0,Fe.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,ze.T)(te.backdropClick(),te.keydownEvents().pipe((0,st.h)(Ne=>Ne.keyCode===He.hY))).subscribe(Ne=>{!this.disableClose&&("keydown"!==Ne.type||!(0,He.Vb)(Ne))&&(Ne.preventDefault(),this.dismiss())})}dismiss(Ue){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,st.h)(te=>"start"===te.phaseName),(0,Fe.q)(1)).subscribe(te=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},te.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=Ue,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const De=new g.OlP("mat-bottom-sheet-default-options");let J=(()=>{class se{constructor(te,Ne,We,yt){this._overlay=te,this._injector=Ne,this._parentBottomSheet=We,this._defaultOptions=yt,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const te=this._parentBottomSheet;return te?te._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(te){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=te:this._bottomSheetRefAtThisLevel=te}open(te,Ne){const We=function Qe(se,Ue){return Object.assign(Object.assign({},se),Ue)}(this._defaultOptions||new it,Ne),yt=this._createOverlay(We),_t=this._attachContainer(yt,We),Je=new Se(_t,yt);if(te instanceof g.Rgc)_t.attachTemplatePortal(new w.UE(te,null,{$implicit:We.data,bottomSheetRef:Je}));else{const je=new w.C5(te,void 0,this._createInjector(We,Je)),$e=_t.attachComponentPortal(je);Je.instance=$e.instance}return Je.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==Je&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>Je.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):Je.containerInstance.enter(),this._openedBottomSheetRef=Je,Je}dismiss(te){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(te)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(te,Ne){const yt=g.zs3.create({parent:Ne&&Ne.viewContainerRef&&Ne.viewContainerRef.injector||this._injector,providers:[{provide:it,useValue:Ne}]}),_t=new w.C5(be,Ne.viewContainerRef,yt);return te.attach(_t).instance}_createOverlay(te){const Ne=new h.X_({direction:te.direction,hasBackdrop:te.hasBackdrop,disposeOnNavigation:te.closeOnNavigation,maxWidth:"100%",scrollStrategy:te.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return te.backdropClass&&(Ne.backdropClass=te.backdropClass),this._overlay.create(Ne)}_createInjector(te,Ne){const We=te&&te.viewContainerRef&&te.viewContainerRef.injector,yt=[{provide:Se,useValue:Ne},{provide:Nt,useValue:te.data}];return te.direction&&(!We||!We.get(pe.Is,null,g.XFs.Optional))&&yt.push({provide:pe.Is,useValue:{value:te.direction,change:(0,xe.of)()}}),g.zs3.create({parent:We||this._injector,providers:yt})}}return se.\u0275fac=function(te){return new(te||se)(g.LFG(h.aV),g.LFG(g.zs3),g.LFG(se,12),g.LFG(De,8))},se.\u0275prov=g.Yz7({token:se,factory:se.\u0275fac,providedIn:fe}),se})()},7423:($t,Xe,b)=>{b.d(Xe,{lW:()=>pe,ot:()=>ze});var h=b(5e3),w=b(508),g=b(6360),$=b(5664);const we=["mat-button",""],Ie=["*"],ne=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],X=(0,w.pj)((0,w.Id)((0,w.Kr)(class{constructor(xe){this._elementRef=xe}})));let pe=(()=>{class xe extends X{constructor(st,Fe,at){super(st),this._focusMonitor=Fe,this._animationMode=at,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const ke of ne)this._hasHostAttributes(ke)&&this._getHostElement().classList.add(ke);st.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(st,Fe){st?this._focusMonitor.focusVia(this._getHostElement(),st,Fe):this._getHostElement().focus(Fe)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...st){return st.some(Fe=>this._getHostElement().hasAttribute(Fe))}}return xe.\u0275fac=function(st){return new(st||xe)(h.Y36(h.SBq),h.Y36($.tE),h.Y36(g.Qb,8))},xe.\u0275cmp=h.Xpm({type:xe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(st,Fe){if(1&st&&h.Gf(w.wG,5),2&st){let at;h.iGM(at=h.CRH())&&(Fe.ripple=at.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(st,Fe){2&st&&(h.uIk("disabled",Fe.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===Fe._animationMode)("mat-button-disabled",Fe.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:we,ngContentSelectors:Ie,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(st,Fe){1&st&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1)(3,"span",2)),2&st&&(h.xp6(2),h.ekj("mat-button-ripple-round",Fe.isRoundButton||Fe.isIconButton),h.Q6J("matRippleDisabled",Fe._isRippleDisabled())("matRippleCentered",Fe.isIconButton)("matRippleTrigger",Fe._getHostElement()))},directives:[w.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),xe})(),ze=(()=>{class xe{}return xe.\u0275fac=function(st){return new(st||xe)},xe.\u0275mod=h.oAB({type:xe}),xe.\u0275inj=h.cJS({imports:[[w.si,w.BQ],w.BQ]}),xe})()},9224:($t,Xe,b)=>{b.d(Xe,{a8:()=>it,hq:()=>ze,kc:()=>Nt,dn:()=>X,rt:()=>xe,dk:()=>be,G2:()=>He,QW:()=>Se,n5:()=>pe});var h=b(5e3),w=b(6360),g=b(508);const $=["*",[["mat-card-footer"]]],we=["*","mat-card-footer"],Ie=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Pe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let X=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275dir=h.lG2({type:De,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),De})(),pe=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275dir=h.lG2({type:De,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),De})(),ze=(()=>{class De{constructor(){this.align="start"}}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275dir=h.lG2({type:De,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(Qe,se){2&Qe&&h.ekj("mat-card-actions-align-end","end"===se.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),De})(),xe=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275dir=h.lG2({type:De,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),De})(),He=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275dir=h.lG2({type:De,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),De})(),Nt=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275dir=h.lG2({type:De,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),De})(),it=(()=>{class De{constructor(Qe){this._animationMode=Qe}}return De.\u0275fac=function(Qe){return new(Qe||De)(h.Y36(w.Qb,8))},De.\u0275cmp=h.Xpm({type:De,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(Qe,se){2&Qe&&h.ekj("_mat-animation-noopable","NoopAnimations"===se._animationMode)},exportAs:["matCard"],ngContentSelectors:we,decls:2,vars:0,template:function(Qe,se){1&Qe&&(h.F$t($),h.Hsn(0),h.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),De})(),be=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275cmp=h.Xpm({type:De,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Pe,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(Qe,se){1&Qe&&(h.F$t(Ie),h.Hsn(0),h.TgZ(1,"div",0),h.Hsn(2,1),h.qZA(),h.Hsn(3,2))},encapsulation:2,changeDetection:0}),De})(),Se=(()=>{class De{}return De.\u0275fac=function(Qe){return new(Qe||De)},De.\u0275mod=h.oAB({type:De}),De.\u0275inj=h.cJS({imports:[[g.BQ],g.BQ]}),De})()},6688:($t,Xe,b)=>{b.d(Xe,{HS:()=>Qe,EC:()=>De,qn:()=>Je,Hi:()=>$e});var h=b(1159),w=b(5e3),g=b(508),$=b(3191),we=b(9808),Ie=b(6360),Pe=b(7579),_e=b(6451),ne=b(5698),X=b(2722),pe=b(8675),ce=b(925),ze=b(5664),xe=b(449),He=b(3075),st=b(7322),Fe=b(226);const at=["*"],Nt=new w.OlP("MatChipRemove"),it=new w.OlP("MatChipAvatar"),be=new w.OlP("MatChipTrailingIcon");class fe{constructor(Ge){this._elementRef=Ge}}const Se=(0,g.sb)((0,g.pj)((0,g.Kr)(fe),"primary"),-1);let De=(()=>{class Ee{}return Ee.\u0275fac=function(z){return new(z||Ee)},Ee.\u0275dir=w.lG2({type:Ee,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"],features:[w._Bn([{provide:it,useExisting:Ee}])]}),Ee})(),Qe=(()=>{class Ee extends Se{constructor(z,Ce,Rt,pt,Ot,Et,bt,Vt){super(z),this._ngZone=Ce,this._changeDetectorRef=Ot,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Pe.x,this._onBlur=new Pe.x,this.selectionChange=new w.vpe,this.destroyed=new w.vpe,this.removed=new w.vpe,this._addHostClassName(),this._chipRippleTarget=Et.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new g.IR(this,Ce,this._chipRippleTarget,Rt),this._chipRipple.setupTriggerEvents(z),this.rippleConfig=pt||{},this._animationsDisabled="NoopAnimations"===bt,this.tabIndex=null!=Vt&&parseInt(Vt)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(z){const Ce=(0,$.Ig)(z);Ce!==this._selected&&(this._selected=Ce,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(z){this._value=z}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(z){this._selectable=(0,$.Ig)(z)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(z){this._disabled=(0,$.Ig)(z)}get removable(){return this._removable}set removable(z){this._removable=(0,$.Ig)(z)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const z="mat-basic-chip",Ce=this._elementRef.nativeElement;Ce.hasAttribute(z)||Ce.tagName.toLowerCase()===z?Ce.classList.add(z):Ce.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(z=!1){return this._selected=!this.selected,this._dispatchSelectionChange(z),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(z){this.disabled&&z.preventDefault()}_handleKeydown(z){if(!this.disabled)switch(z.keyCode){case h.yY:case h.ZH:this.remove(),z.preventDefault();break;case h.L_:this.selectable&&this.toggleSelected(!0),z.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,ne.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(z=!1){this.selectionChange.emit({source:this,isUserInput:z,selected:this._selected})}}return Ee.\u0275fac=function(z){return new(z||Ee)(w.Y36(w.SBq),w.Y36(w.R0b),w.Y36(ce.t4),w.Y36(g.Y2,8),w.Y36(w.sBO),w.Y36(we.K0),w.Y36(Ie.Qb,8),w.$8M("tabindex"))},Ee.\u0275dir=w.lG2({type:Ee,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(z,Ce,Rt){if(1&z&&(w.Suo(Rt,it,5),w.Suo(Rt,be,5),w.Suo(Rt,Nt,5)),2&z){let pt;w.iGM(pt=w.CRH())&&(Ce.avatar=pt.first),w.iGM(pt=w.CRH())&&(Ce.trailingIcon=pt.first),w.iGM(pt=w.CRH())&&(Ce.removeIcon=pt.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(z,Ce){1&z&&w.NdJ("click",function(pt){return Ce._handleClick(pt)})("keydown",function(pt){return Ce._handleKeydown(pt)})("focus",function(){return Ce.focus()})("blur",function(){return Ce._blur()}),2&z&&(w.uIk("tabindex",Ce.disabled?null:Ce.tabIndex)("disabled",Ce.disabled||null)("aria-disabled",Ce.disabled.toString())("aria-selected",Ce.ariaSelected),w.ekj("mat-chip-selected",Ce.selected)("mat-chip-with-avatar",Ce.avatar)("mat-chip-with-trailing-icon",Ce.trailingIcon||Ce.removeIcon)("mat-chip-disabled",Ce.disabled)("_mat-animation-noopable",Ce._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[w.qOj]}),Ee})();const Ue=new w.OlP("mat-chips-default-options"),We=(0,g.FD)(class{constructor(Ee,Ge,z,Ce){this._defaultErrorStateMatcher=Ee,this._parentForm=Ge,this._parentFormGroup=z,this.ngControl=Ce}});let yt=0;class _t{constructor(Ge,z){this.source=Ge,this.value=z}}let Je=(()=>{class Ee extends We{constructor(z,Ce,Rt,pt,Ot,Et,bt){super(Et,pt,Ot,bt),this._elementRef=z,this._changeDetectorRef=Ce,this._dir=Rt,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Pe.x,this._uid="mat-chip-list-"+yt++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(Vt,Ze)=>Vt===Ze,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new w.vpe,this.valueChange=new w.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var z,Ce;return this.multiple?(null===(z=this._selectionModel)||void 0===z?void 0:z.selected)||[]:null===(Ce=this._selectionModel)||void 0===Ce?void 0:Ce.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(z){this._multiple=(0,$.Ig)(z),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(z){this._compareWith=z,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(z){this.writeValue(z),this._value=z}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var z,Ce,Rt,pt;return null!==(pt=null!==(z=this._required)&&void 0!==z?z:null===(Rt=null===(Ce=this.ngControl)||void 0===Ce?void 0:Ce.control)||void 0===Rt?void 0:Rt.hasValidator(He.kI.required))&&void 0!==pt&&pt}set required(z){this._required=(0,$.Ig)(z),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(z){this._placeholder=z,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(z){this._disabled=(0,$.Ig)(z),this._syncChipsState()}get selectable(){return this._selectable}set selectable(z){this._selectable=(0,$.Ig)(z),this.chips&&this.chips.forEach(Ce=>Ce.chipListSelectable=this._selectable)}set tabIndex(z){this._userTabIndex=z,this._tabIndex=z}get chipSelectionChanges(){return(0,_e.T)(...this.chips.map(z=>z.selectionChange))}get chipFocusChanges(){return(0,_e.T)(...this.chips.map(z=>z._onFocus))}get chipBlurChanges(){return(0,_e.T)(...this.chips.map(z=>z._onBlur))}get chipRemoveChanges(){return(0,_e.T)(...this.chips.map(z=>z.destroyed))}ngAfterContentInit(){this._keyManager=new ze.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,X.R)(this._destroyed)).subscribe(z=>this._keyManager.withHorizontalOrientation(z)),this._keyManager.tabOut.pipe((0,X.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,pe.O)(null),(0,X.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new xe.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(z){this._chipInput=z,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",z.id)}setDescribedByIds(z){this._ariaDescribedby=z.join(" ")}writeValue(z){this.chips&&this._setSelectionByValue(z,!1)}registerOnChange(z){this._onChange=z}registerOnTouched(z){this._onTouched=z}setDisabledState(z){this.disabled=z,this.stateChanges.next()}onContainerClick(z){this._originatesFromChip(z)||this.focus()}focus(z){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(z),this.stateChanges.next()))}_focusInput(z){this._chipInput&&this._chipInput.focus(z)}_keydown(z){const Ce=z.target;Ce&&Ce.classList.contains("mat-chip")&&(this._keyManager.onKeydown(z),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const z=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(z)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(z){return z>=0&&z<this.chips.length}_setSelectionByValue(z,Ce=!0){if(this._clearSelection(),this.chips.forEach(Rt=>Rt.deselect()),Array.isArray(z))z.forEach(Rt=>this._selectValue(Rt,Ce)),this._sortValues();else{const Rt=this._selectValue(z,Ce);Rt&&Ce&&this._keyManager.setActiveItem(Rt)}}_selectValue(z,Ce=!0){const Rt=this.chips.find(pt=>null!=pt.value&&this._compareWith(pt.value,z));return Rt&&(Ce?Rt.selectViaInteraction():Rt.select(),this._selectionModel.select(Rt)),Rt}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(z){this._selectionModel.clear(),this.chips.forEach(Ce=>{Ce!==z&&Ce.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(z=>{z.selected&&this._selectionModel.select(z)}),this.stateChanges.next())}_propagateChanges(z){let Ce=null;Ce=Array.isArray(this.selected)?this.selected.map(Rt=>Rt.value):this.selected?this.selected.value:z,this._value=Ce,this.change.emit(new _t(this,Ce)),this.valueChange.emit(Ce),this._onChange(Ce),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(z=>{z.source.selected?this._selectionModel.select(z.source):this._selectionModel.deselect(z.source),this.multiple||this.chips.forEach(Ce=>{!this._selectionModel.isSelected(Ce)&&Ce.selected&&Ce.deselect()}),z.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(z=>{let Ce=this.chips.toArray().indexOf(z.chip);this._isValidIndex(Ce)&&this._keyManager.updateActiveItem(Ce),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(z=>{const Ce=z.chip,Rt=this.chips.toArray().indexOf(z.chip);this._isValidIndex(Rt)&&Ce._hasFocus&&(this._lastDestroyedChipIndex=Rt)})}_originatesFromChip(z){let Ce=z.target;for(;Ce&&Ce!==this._elementRef.nativeElement;){if(Ce.classList.contains("mat-chip"))return!0;Ce=Ce.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(z=>z._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(z=>{z._chipListDisabled=this._disabled,z._chipListMultiple=this.multiple})}}return Ee.\u0275fac=function(z){return new(z||Ee)(w.Y36(w.SBq),w.Y36(w.sBO),w.Y36(Fe.Is,8),w.Y36(He.F,8),w.Y36(He.sg,8),w.Y36(g.rD),w.Y36(He.a5,10))},Ee.\u0275cmp=w.Xpm({type:Ee,selectors:[["mat-chip-list"]],contentQueries:function(z,Ce,Rt){if(1&z&&w.Suo(Rt,Qe,5),2&z){let pt;w.iGM(pt=w.CRH())&&(Ce.chips=pt)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(z,Ce){1&z&&w.NdJ("focus",function(){return Ce.focus()})("blur",function(){return Ce._blur()})("keydown",function(pt){return Ce._keydown(pt)}),2&z&&(w.Ikx("id",Ce._uid),w.uIk("tabindex",Ce.disabled?null:Ce._tabIndex)("aria-describedby",Ce._ariaDescribedby||null)("aria-required",Ce.role?Ce.required:null)("aria-disabled",Ce.disabled.toString())("aria-invalid",Ce.errorState)("aria-multiselectable",Ce.multiple)("role",Ce.role)("aria-orientation",Ce.ariaOrientation),w.ekj("mat-chip-list-disabled",Ce.disabled)("mat-chip-list-invalid",Ce.errorState)("mat-chip-list-required",Ce.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[w._Bn([{provide:st.Eo,useExisting:Ee}]),w.qOj],ngContentSelectors:at,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(z,Ce){1&z&&(w.F$t(),w.TgZ(0,"div",0),w.Hsn(1),w.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),Ee})(),$e=(()=>{class Ee{}return Ee.\u0275fac=function(z){return new(z||Ee)},Ee.\u0275mod=w.oAB({type:Ee}),Ee.\u0275inj=w.cJS({providers:[g.rD,{provide:Ue,useValue:{separatorKeyCodes:[h.K5]}}],imports:[[g.BQ]]}),Ee})()},508:($t,Xe,b)=>{b.d(Xe,{yN:()=>at,mZ:()=>ke,rD:()=>pt,K7:()=>rn,HF:()=>ue,Y2:()=>O,BQ:()=>be,X2:()=>Ot,uc:()=>Vt,ey:()=>ii,Ng:()=>qe,nP:()=>ge,us:()=>Ae,wG:()=>Z,si:()=>ie,IR:()=>gn,CB:()=>an,jH:()=>Ai,pj:()=>Qe,Kr:()=>se,Id:()=>J,FD:()=>te,sb:()=>Ue,E0:()=>Et});var h=b(5e3),w=b(226),$=b(9808),we=b(925),Ie=b(5664),Pe=b(3191),_e=b(7579),ne=b(8675),X=b(6360),pe=b(1159);function xe(he,U){if(1&he&&h._UZ(0,"mat-pseudo-checkbox",4),2&he){const P=h.oxw();h.Q6J("state",P.selected?"checked":"unchecked")("disabled",P.disabled)}}function He(he,U){if(1&he&&(h.TgZ(0,"span",5),h._uU(1),h.qZA()),2&he){const P=h.oxw();h.xp6(1),h.hij("(",P.group.label,")")}}const st=["*"];let at=(()=>{class he{}return he.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",he.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",he.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",he.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",he})(),ke=(()=>{class he{}return he.COMPLEX="375ms",he.ENTERING="225ms",he.EXITING="195ms",he})();const it=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function Nt(){return!0}});let be=(()=>{class he{constructor(P,R,me){this._sanityChecks=R,this._document=me,this._hasDoneGlobalChecks=!1,P._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(P){return!(0,we.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[P])}}return he.\u0275fac=function(P){return new(P||he)(h.LFG(Ie.qm),h.LFG(it,8),h.LFG($.K0))},he.\u0275mod=h.oAB({type:he}),he.\u0275inj=h.cJS({imports:[[w.vT],w.vT]}),he})();function J(he){return class extends he{constructor(...U){super(...U),this._disabled=!1}get disabled(){return this._disabled}set disabled(U){this._disabled=(0,Pe.Ig)(U)}}}function Qe(he,U){return class extends he{constructor(...P){super(...P),this.defaultColor=U,this.color=U}get color(){return this._color}set color(P){const R=P||this.defaultColor;R!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),R&&this._elementRef.nativeElement.classList.add(`mat-${R}`),this._color=R)}}}function se(he){return class extends he{constructor(...U){super(...U),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(U){this._disableRipple=(0,Pe.Ig)(U)}}}function Ue(he,U=0){return class extends he{constructor(...P){super(...P),this._tabIndex=U,this.defaultTabIndex=U}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(P){this._tabIndex=null!=P?(0,Pe.su)(P):this.defaultTabIndex}}}function te(he){return class extends he{constructor(...U){super(...U),this.stateChanges=new _e.x,this.errorState=!1}updateErrorState(){const U=this.errorState,Re=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Re!==U&&(this.errorState=Re,this.stateChanges.next())}}}let pt=(()=>{class he{isErrorState(P,R){return!!(P&&P.invalid&&(P.touched||R&&R.submitted))}}return he.\u0275fac=function(P){return new(P||he)},he.\u0275prov=h.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),Ot=(()=>{class he{}return he.\u0275fac=function(P){return new(P||he)},he.\u0275dir=h.lG2({type:he,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),he})();function Et(he,U,P="mat"){he.changes.pipe((0,ne.O)(he)).subscribe(({length:R})=>{bt(U,`${P}-2-line`,!1),bt(U,`${P}-3-line`,!1),bt(U,`${P}-multi-line`,!1),2===R||3===R?bt(U,`${P}-${R}-line`,!0):R>3&&bt(U,`${P}-multi-line`,!0)})}function bt(he,U,P){he.nativeElement.classList.toggle(U,P)}let Vt=(()=>{class he{}return he.\u0275fac=function(P){return new(P||he)},he.\u0275mod=h.oAB({type:he}),he.\u0275inj=h.cJS({imports:[[be],be]}),he})();class Ze{constructor(U,P,R){this._renderer=U,this.element=P,this.config=R,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const St={enterDuration:225,exitDuration:150},On=(0,we.i$)({passive:!0}),Fn=["mousedown","touchstart"],fn=["mouseup","mouseleave","touchend","touchcancel"];class gn{constructor(U,P,R,me){this._target=U,this._ngZone=P,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,me.isBrowser&&(this._containerElement=(0,Pe.fI)(R))}fadeInRipple(U,P,R={}){const me=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Re=Object.assign(Object.assign({},St),R.animation);R.centered&&(U=me.left+me.width/2,P=me.top+me.height/2);const Dt=R.radius||function ht(he,U,P){const R=Math.max(Math.abs(he-P.left),Math.abs(he-P.right)),me=Math.max(Math.abs(U-P.top),Math.abs(U-P.bottom));return Math.sqrt(R*R+me*me)}(U,P,me),mn=U-me.left,Cn=P-me.top,Xn=Re.enterDuration,vn=document.createElement("div");vn.classList.add("mat-ripple-element"),vn.style.left=mn-Dt+"px",vn.style.top=Cn-Dt+"px",vn.style.height=2*Dt+"px",vn.style.width=2*Dt+"px",null!=R.color&&(vn.style.backgroundColor=R.color),vn.style.transitionDuration=`${Xn}ms`,this._containerElement.appendChild(vn),function cn(he){window.getComputedStyle(he).getPropertyValue("opacity")}(vn),vn.style.transform="scale(1)";const hi=new Ze(this,vn,R);return hi.state=0,this._activeRipples.add(hi),R.persistent||(this._mostRecentTransientRipple=hi),this._runTimeoutOutsideZone(()=>{const Ct=hi===this._mostRecentTransientRipple;hi.state=1,!R.persistent&&(!Ct||!this._isPointerDown)&&hi.fadeOut()},Xn),hi}fadeOutRipple(U){const P=this._activeRipples.delete(U);if(U===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!P)return;const R=U.element,me=Object.assign(Object.assign({},St),U.config.animation);R.style.transitionDuration=`${me.exitDuration}ms`,R.style.opacity="0",U.state=2,this._runTimeoutOutsideZone(()=>{U.state=3,R.remove()},me.exitDuration)}fadeOutAll(){this._activeRipples.forEach(U=>U.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(U=>{U.config.persistent||U.fadeOut()})}setupTriggerEvents(U){const P=(0,Pe.fI)(U);!P||P===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=P,this._registerEvents(Fn))}handleEvent(U){"mousedown"===U.type?this._onMousedown(U):"touchstart"===U.type?this._onTouchStart(U):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(fn),this._pointerUpEventsRegistered=!0)}_onMousedown(U){const P=(0,Ie.X6)(U),R=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!P&&!R&&(this._isPointerDown=!0,this.fadeInRipple(U.clientX,U.clientY,this._target.rippleConfig))}_onTouchStart(U){if(!this._target.rippleDisabled&&!(0,Ie.yG)(U)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const P=U.changedTouches;for(let R=0;R<P.length;R++)this.fadeInRipple(P[R].clientX,P[R].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(U=>{!U.config.persistent&&(1===U.state||U.config.terminateOnPointerUp&&0===U.state)&&U.fadeOut()}))}_runTimeoutOutsideZone(U,P=0){this._ngZone.runOutsideAngular(()=>setTimeout(U,P))}_registerEvents(U){this._ngZone.runOutsideAngular(()=>{U.forEach(P=>{this._triggerElement.addEventListener(P,this,On)})})}_removeTriggerEvents(){this._triggerElement&&(Fn.forEach(U=>{this._triggerElement.removeEventListener(U,this,On)}),this._pointerUpEventsRegistered&&fn.forEach(U=>{this._triggerElement.removeEventListener(U,this,On)}))}}const O=new h.OlP("mat-ripple-global-options");let Z=(()=>{class he{constructor(P,R,me,Re,Dt){this._elementRef=P,this._animationMode=Dt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Re||{},this._rippleRenderer=new gn(this,R,P,me)}get disabled(){return this._disabled}set disabled(P){P&&this.fadeOutAllNonPersistent(),this._disabled=P,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(P){this._trigger=P,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(P,R=0,me){return"number"==typeof P?this._rippleRenderer.fadeInRipple(P,R,Object.assign(Object.assign({},this.rippleConfig),me)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),P))}}return he.\u0275fac=function(P){return new(P||he)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(we.t4),h.Y36(O,8),h.Y36(X.Qb,8))},he.\u0275dir=h.lG2({type:he,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(P,R){2&P&&h.ekj("mat-ripple-unbounded",R.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),he})(),ie=(()=>{class he{}return he.\u0275fac=function(P){return new(P||he)},he.\u0275mod=h.oAB({type:he}),he.\u0275inj=h.cJS({imports:[[be],be]}),he})(),ge=(()=>{class he{constructor(P){this._animationMode=P,this.state="unchecked",this.disabled=!1}}return he.\u0275fac=function(P){return new(P||he)(h.Y36(X.Qb,8))},he.\u0275cmp=h.Xpm({type:he,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(P,R){2&P&&h.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===R.state)("mat-pseudo-checkbox-checked","checked"===R.state)("mat-pseudo-checkbox-disabled",R.disabled)("_mat-animation-noopable","NoopAnimations"===R._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(P,R){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),he})(),Ae=(()=>{class he{}return he.\u0275fac=function(P){return new(P||he)},he.\u0275mod=h.oAB({type:he}),he.\u0275inj=h.cJS({imports:[[be]]}),he})();const ue=new h.OlP("MAT_OPTION_PARENT_COMPONENT"),rn=new h.OlP("MatOptgroup");let on=0;class Un{constructor(U,P=!1){this.source=U,this.isUserInput=P}}let Hn=(()=>{class he{constructor(P,R,me,Re){this._element=P,this._changeDetectorRef=R,this._parent=me,this.group=Re,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+on++,this.onSelectionChange=new h.vpe,this._stateChanges=new _e.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(P){this._disabled=(0,Pe.Ig)(P)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(P,R){const me=this._getHostElement();"function"==typeof me.focus&&me.focus(R)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(P){(P.keyCode===pe.K5||P.keyCode===pe.L_)&&!(0,pe.Vb)(P)&&(this._selectViaInteraction(),P.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const P=this.viewValue;P!==this._mostRecentViewValue&&(this._mostRecentViewValue=P,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(P=!1){this.onSelectionChange.emit(new Un(this,P))}}return he.\u0275fac=function(P){h.$Z()},he.\u0275dir=h.lG2({type:he,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),he})(),ii=(()=>{class he extends Hn{constructor(P,R,me,Re){super(P,R,me,Re)}}return he.\u0275fac=function(P){return new(P||he)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(ue,8),h.Y36(rn,8))},he.\u0275cmp=h.Xpm({type:he,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(P,R){1&P&&h.NdJ("click",function(){return R._selectViaInteraction()})("keydown",function(Re){return R._handleKeydown(Re)}),2&P&&(h.Ikx("id",R.id),h.uIk("tabindex",R._getTabIndex())("aria-selected",R._getAriaSelected())("aria-disabled",R.disabled.toString()),h.ekj("mat-selected",R.selected)("mat-option-multiple",R.multiple)("mat-active",R.active)("mat-option-disabled",R.disabled))},exportAs:["matOption"],features:[h.qOj],ngContentSelectors:st,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(P,R){1&P&&(h.F$t(),h.YNc(0,xe,1,2,"mat-pseudo-checkbox",0),h.TgZ(1,"span",1),h.Hsn(2),h.qZA(),h.YNc(3,He,2,1,"span",2),h._UZ(4,"div",3)),2&P&&(h.Q6J("ngIf",R.multiple),h.xp6(3),h.Q6J("ngIf",R.group&&R.group._inert),h.xp6(1),h.Q6J("matRippleTrigger",R._getHostElement())("matRippleDisabled",R.disabled||R.disableRipple))},directives:[ge,$.O5,Z],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),he})();function an(he,U,P){if(P.length){let R=U.toArray(),me=P.toArray(),Re=0;for(let Dt=0;Dt<he+1;Dt++)R[Dt].group&&R[Dt].group===me[Re]&&Re++;return Re}return 0}function Ai(he,U,P,R){return he<P?he:he+U>P+R?Math.max(0,he-R+U):P}let qe=(()=>{class he{}return he.\u0275fac=function(P){return new(P||he)},he.\u0275mod=h.oAB({type:he}),he.\u0275inj=h.cJS({imports:[[ie,$.ez,be,Ae]]}),he})()},8966:($t,Xe,b)=>{b.d(Xe,{uw:()=>_t,Is:()=>Rt});var h=b(9776),w=b(7429),g=b(5e3),$=b(508),we=b(226),Ie=b(7579),Pe=b(9770),_e=b(9646),ne=b(9300),X=b(5698),pe=b(8675),ce=b(925),ze=b(9808),xe=b(1777),He=b(5664),st=b(1159),Fe=b(6360);function at(pt,Ot){}class ke{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Nt={dialogContainer:(0,xe.X$)("dialogContainer",[(0,xe.SB)("void, exit",(0,xe.oB)({opacity:0,transform:"scale(0.7)"})),(0,xe.SB)("enter",(0,xe.oB)({transform:"none"})),(0,xe.eR)("* => enter",(0,xe.ru)([(0,xe.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,xe.oB)({transform:"none",opacity:1})),(0,xe.IO)("@*",(0,xe.pV)(),{optional:!0})])),(0,xe.eR)("* => void, * => exit",(0,xe.ru)([(0,xe.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,xe.oB)({opacity:0})),(0,xe.IO)("@*",(0,xe.pV)(),{optional:!0})]))])};let be=(()=>{class pt extends w.en{constructor(Et,bt,Vt,Ze,St,sn,On,Fn){super(),this._elementRef=Et,this._focusTrapFactory=bt,this._changeDetectorRef=Vt,this._config=St,this._interactivityChecker=sn,this._ngZone=On,this._focusMonitor=Fn,this._animationStateChanged=new g.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=fn=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(fn)),this._ariaLabelledBy=St.ariaLabelledBy||null,this._document=Ze}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,ce.ht)())}attachComponentPortal(Et){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(Et)}attachTemplatePortal(Et){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(Et)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Et,bt){this._interactivityChecker.isFocusable(Et)||(Et.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Vt=()=>{Et.removeEventListener("blur",Vt),Et.removeEventListener("mousedown",Vt),Et.removeAttribute("tabindex")};Et.addEventListener("blur",Vt),Et.addEventListener("mousedown",Vt)})),Et.focus(bt)}_focusByCssSelector(Et,bt){let Vt=this._elementRef.nativeElement.querySelector(Et);Vt&&this._forceFocus(Vt,bt)}_trapFocus(){const Et=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Et.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(bt=>{bt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Et=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&Et&&"function"==typeof Et.focus){const bt=(0,ce.ht)(),Vt=this._elementRef.nativeElement;(!bt||bt===this._document.body||bt===Vt||Vt.contains(bt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Et,this._closeInteractionType),this._closeInteractionType=null):Et.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Et=this._elementRef.nativeElement,bt=(0,ce.ht)();return Et===bt||Et.contains(bt)}}return pt.\u0275fac=function(Et){return new(Et||pt)(g.Y36(g.SBq),g.Y36(He.qV),g.Y36(g.sBO),g.Y36(ze.K0,8),g.Y36(ke),g.Y36(He.ic),g.Y36(g.R0b),g.Y36(He.tE))},pt.\u0275dir=g.lG2({type:pt,viewQuery:function(Et,bt){if(1&Et&&g.Gf(w.Pl,7),2&Et){let Vt;g.iGM(Vt=g.CRH())&&(bt._portalOutlet=Vt.first)}},features:[g.qOj]}),pt})(),fe=(()=>{class pt extends be{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:Et,totalTime:bt}){"enter"===Et?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:bt})):"exit"===Et&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:bt}))}_onAnimationStart({toState:Et,totalTime:bt}){"enter"===Et?this._animationStateChanged.next({state:"opening",totalTime:bt}):("exit"===Et||"void"===Et)&&this._animationStateChanged.next({state:"closing",totalTime:bt})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return pt.\u0275fac=function(){let Ot;return function(bt){return(Ot||(Ot=g.n5z(pt)))(bt||pt)}}(),pt.\u0275cmp=g.Xpm({type:pt,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(Et,bt){1&Et&&g.WFA("@dialogContainer.start",function(Ze){return bt._onAnimationStart(Ze)})("@dialogContainer.done",function(Ze){return bt._onAnimationDone(Ze)}),2&Et&&(g.Ikx("id",bt._id),g.uIk("role",bt._config.role)("aria-labelledby",bt._config.ariaLabel?null:bt._ariaLabelledBy)("aria-label",bt._config.ariaLabel)("aria-describedby",bt._config.ariaDescribedBy||null),g.d8E("@dialogContainer",bt._state))},features:[g.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Et,bt){1&Et&&g.YNc(0,at,0,0,"ng-template",0)},directives:[w.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Nt.dialogContainer]}}),pt})(),Se=0;class De{constructor(Ot,Et,bt="mat-dialog-"+Se++){this._overlayRef=Ot,this._containerInstance=Et,this.id=bt,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ie.x,this._afterClosed=new Ie.x,this._beforeClosed=new Ie.x,this._state=0,Et._id=bt,Et._animationStateChanged.pipe((0,ne.h)(Vt=>"opened"===Vt.state),(0,X.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Et._animationStateChanged.pipe((0,ne.h)(Vt=>"closed"===Vt.state),(0,X.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Ot.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),Ot.keydownEvents().pipe((0,ne.h)(Vt=>Vt.keyCode===st.hY&&!this.disableClose&&!(0,st.Vb)(Vt))).subscribe(Vt=>{Vt.preventDefault(),J(this,"keyboard")}),Ot.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():J(this,"mouse")})}close(Ot){this._result=Ot,this._containerInstance._animationStateChanged.pipe((0,ne.h)(Et=>"closing"===Et.state),(0,X.q)(1)).subscribe(Et=>{this._beforeClosed.next(Ot),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Et.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(Ot){let Et=this._getPositionStrategy();return Ot&&(Ot.left||Ot.right)?Ot.left?Et.left(Ot.left):Et.right(Ot.right):Et.centerHorizontally(),Ot&&(Ot.top||Ot.bottom)?Ot.top?Et.top(Ot.top):Et.bottom(Ot.bottom):Et.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(Ot="",Et=""){return this._overlayRef.updateSize({width:Ot,height:Et}),this._overlayRef.updatePosition(),this}addPanelClass(Ot){return this._overlayRef.addPanelClass(Ot),this}removePanelClass(Ot){return this._overlayRef.removePanelClass(Ot),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function J(pt,Ot,Et){return void 0!==pt._containerInstance&&(pt._containerInstance._closeInteractionType=Ot),pt.close(Et)}const Qe=new g.OlP("MatDialogData"),se=new g.OlP("mat-dialog-default-options"),Ue=new g.OlP("mat-dialog-scroll-strategy"),We={provide:Ue,deps:[h.aV],useFactory:function Ne(pt){return()=>pt.scrollStrategies.block()}};let yt=(()=>{class pt{constructor(Et,bt,Vt,Ze,St,sn,On,Fn,fn,gn){this._overlay=Et,this._injector=bt,this._defaultOptions=Vt,this._parentDialog=Ze,this._overlayContainer=St,this._dialogRefConstructor=On,this._dialogContainerType=Fn,this._dialogDataToken=fn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ie.x,this._afterOpenedAtThisLevel=new Ie.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Pe.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,pe.O)(void 0))),this._scrollStrategy=sn}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Et=this._parentDialog;return Et?Et._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Et,bt){bt=function Je(pt,Ot){return Object.assign(Object.assign({},Ot),pt)}(bt,this._defaultOptions||new ke),bt.id&&this.getDialogById(bt.id);const Vt=this._createOverlay(bt),Ze=this._attachDialogContainer(Vt,bt),St=this._attachDialogContent(Et,Ze,Vt,bt);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(St),St.afterClosed().subscribe(()=>this._removeOpenDialog(St)),this.afterOpened.next(St),Ze._initializeWithAttachedContent(),St}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Et){return this.openDialogs.find(bt=>bt.id===Et)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(Et){const bt=this._getOverlayConfig(Et);return this._overlay.create(bt)}_getOverlayConfig(Et){const bt=new h.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:Et.scrollStrategy||this._scrollStrategy(),panelClass:Et.panelClass,hasBackdrop:Et.hasBackdrop,direction:Et.direction,minWidth:Et.minWidth,minHeight:Et.minHeight,maxWidth:Et.maxWidth,maxHeight:Et.maxHeight,disposeOnNavigation:Et.closeOnNavigation});return Et.backdropClass&&(bt.backdropClass=Et.backdropClass),bt}_attachDialogContainer(Et,bt){const Ze=g.zs3.create({parent:bt&&bt.viewContainerRef&&bt.viewContainerRef.injector||this._injector,providers:[{provide:ke,useValue:bt}]}),St=new w.C5(this._dialogContainerType,bt.viewContainerRef,Ze,bt.componentFactoryResolver);return Et.attach(St).instance}_attachDialogContent(Et,bt,Vt,Ze){const St=new this._dialogRefConstructor(Vt,bt,Ze.id);if(Et instanceof g.Rgc)bt.attachTemplatePortal(new w.UE(Et,null,{$implicit:Ze.data,dialogRef:St}));else{const sn=this._createInjector(Ze,St,bt),On=bt.attachComponentPortal(new w.C5(Et,Ze.viewContainerRef,sn,Ze.componentFactoryResolver));St.componentInstance=On.instance}return St.updateSize(Ze.width,Ze.height).updatePosition(Ze.position),St}_createInjector(Et,bt,Vt){const Ze=Et&&Et.viewContainerRef&&Et.viewContainerRef.injector,St=[{provide:this._dialogContainerType,useValue:Vt},{provide:this._dialogDataToken,useValue:Et.data},{provide:this._dialogRefConstructor,useValue:bt}];return Et.direction&&(!Ze||!Ze.get(we.Is,null,g.XFs.Optional))&&St.push({provide:we.Is,useValue:{value:Et.direction,change:(0,_e.of)()}}),g.zs3.create({parent:Ze||this._injector,providers:St})}_removeOpenDialog(Et){const bt=this.openDialogs.indexOf(Et);bt>-1&&(this.openDialogs.splice(bt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Vt,Ze)=>{Vt?Ze.setAttribute("aria-hidden",Vt):Ze.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Et=this._overlayContainer.getContainerElement();if(Et.parentElement){const bt=Et.parentElement.children;for(let Vt=bt.length-1;Vt>-1;Vt--){let Ze=bt[Vt];Ze!==Et&&"SCRIPT"!==Ze.nodeName&&"STYLE"!==Ze.nodeName&&!Ze.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Ze,Ze.getAttribute("aria-hidden")),Ze.setAttribute("aria-hidden","true"))}}}_closeDialogs(Et){let bt=Et.length;for(;bt--;)Et[bt].close()}}return pt.\u0275fac=function(Et){g.$Z()},pt.\u0275dir=g.lG2({type:pt}),pt})(),_t=(()=>{class pt extends yt{constructor(Et,bt,Vt,Ze,St,sn,On,Fn){super(Et,bt,Ze,sn,On,St,De,fe,Qe,Fn)}}return pt.\u0275fac=function(Et){return new(Et||pt)(g.LFG(h.aV),g.LFG(g.zs3),g.LFG(ze.Ye,8),g.LFG(se,8),g.LFG(Ue),g.LFG(pt,12),g.LFG(h.Xj),g.LFG(Fe.Qb,8))},pt.\u0275prov=g.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),Rt=(()=>{class pt{}return pt.\u0275fac=function(Et){return new(Et||pt)},pt.\u0275mod=g.oAB({type:pt}),pt.\u0275inj=g.cJS({providers:[_t,We],imports:[[h.U8,w.eL,$.BQ],$.BQ]}),pt})()},4834:($t,Xe,b)=>{b.d(Xe,{d:()=>$,t:()=>we});var h=b(5e3),w=b(3191),g=b(508);let $=(()=>{class Ie{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(_e){this._vertical=(0,w.Ig)(_e)}get inset(){return this._inset}set inset(_e){this._inset=(0,w.Ig)(_e)}}return Ie.\u0275fac=function(_e){return new(_e||Ie)},Ie.\u0275cmp=h.Xpm({type:Ie,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(_e,ne){2&_e&&(h.uIk("aria-orientation",ne.vertical?"vertical":"horizontal"),h.ekj("mat-divider-vertical",ne.vertical)("mat-divider-horizontal",!ne.vertical)("mat-divider-inset",ne.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(_e,ne){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),Ie})(),we=(()=>{class Ie{}return Ie.\u0275fac=function(_e){return new(_e||Ie)},Ie.\u0275mod=h.oAB({type:Ie}),Ie.\u0275inj=h.cJS({imports:[[g.BQ],g.BQ]}),Ie})()},7322:($t,Xe,b)=>{b.d(Xe,{G_:()=>gn,TO:()=>_t,KE:()=>cn,Eo:()=>je,lN:()=>ht,hX:()=>pt});var h=b(7144),w=b(9808),g=b(5e3),$=b(508),we=b(3191),Ie=b(7579),Pe=b(6451),_e=b(4968),ne=b(8675),X=b(2722),pe=b(5698),ce=b(1777),ze=b(6360),xe=b(226),He=b(925);const st=["connectionContainer"],Fe=["inputContainer"],at=["label"];function ke(O,Z){1&O&&(g.ynx(0),g.TgZ(1,"div",14),g._UZ(2,"div",15)(3,"div",16)(4,"div",17),g.qZA(),g.TgZ(5,"div",18),g._UZ(6,"div",15)(7,"div",16)(8,"div",17),g.qZA(),g.BQk())}function Nt(O,Z){if(1&O){const ie=g.EpF();g.TgZ(0,"div",19),g.NdJ("cdkObserveContent",function(){return g.CHM(ie),g.oxw().updateOutlineGap()}),g.Hsn(1,1),g.qZA()}if(2&O){const ie=g.oxw();g.Q6J("cdkObserveContentDisabled","outline"!=ie.appearance)}}function it(O,Z){if(1&O&&(g.ynx(0),g.Hsn(1,2),g.TgZ(2,"span"),g._uU(3),g.qZA(),g.BQk()),2&O){const ie=g.oxw(2);g.xp6(3),g.Oqu(ie._control.placeholder)}}function be(O,Z){1&O&&g.Hsn(0,3,["*ngSwitchCase","true"])}function fe(O,Z){1&O&&(g.TgZ(0,"span",23),g._uU(1," *"),g.qZA())}function Se(O,Z){if(1&O){const ie=g.EpF();g.TgZ(0,"label",20,21),g.NdJ("cdkObserveContent",function(){return g.CHM(ie),g.oxw().updateOutlineGap()}),g.YNc(2,it,4,1,"ng-container",12),g.YNc(3,be,1,0,"ng-content",12),g.YNc(4,fe,2,0,"span",22),g.qZA()}if(2&O){const ie=g.oxw();g.ekj("mat-empty",ie._control.empty&&!ie._shouldAlwaysFloat())("mat-form-field-empty",ie._control.empty&&!ie._shouldAlwaysFloat())("mat-accent","accent"==ie.color)("mat-warn","warn"==ie.color),g.Q6J("cdkObserveContentDisabled","outline"!=ie.appearance)("id",ie._labelId)("ngSwitch",ie._hasLabel()),g.uIk("for",ie._control.id)("aria-owns",ie._control.id),g.xp6(2),g.Q6J("ngSwitchCase",!1),g.xp6(1),g.Q6J("ngSwitchCase",!0),g.xp6(1),g.Q6J("ngIf",!ie.hideRequiredMarker&&ie._control.required&&!ie._control.disabled)}}function De(O,Z){1&O&&(g.TgZ(0,"div",24),g.Hsn(1,4),g.qZA())}function J(O,Z){if(1&O&&(g.TgZ(0,"div",25),g._UZ(1,"span",26),g.qZA()),2&O){const ie=g.oxw();g.xp6(1),g.ekj("mat-accent","accent"==ie.color)("mat-warn","warn"==ie.color)}}function Qe(O,Z){if(1&O&&(g.TgZ(0,"div"),g.Hsn(1,5),g.qZA()),2&O){const ie=g.oxw();g.Q6J("@transitionMessages",ie._subscriptAnimationState)}}function se(O,Z){if(1&O&&(g.TgZ(0,"div",30),g._uU(1),g.qZA()),2&O){const ie=g.oxw(2);g.Q6J("id",ie._hintLabelId),g.xp6(1),g.Oqu(ie.hintLabel)}}function Ue(O,Z){if(1&O&&(g.TgZ(0,"div",27),g.YNc(1,se,2,2,"div",28),g.Hsn(2,6),g._UZ(3,"div",29),g.Hsn(4,7),g.qZA()),2&O){const ie=g.oxw();g.Q6J("@transitionMessages",ie._subscriptAnimationState),g.xp6(1),g.Q6J("ngIf",ie.hintLabel)}}const te=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ne=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let We=0;const yt=new g.OlP("MatError");let _t=(()=>{class O{constructor(ie,ge){this.id="mat-error-"+We++,ie||ge.nativeElement.setAttribute("aria-live","polite")}}return O.\u0275fac=function(ie){return new(ie||O)(g.$8M("aria-live"),g.Y36(g.SBq))},O.\u0275dir=g.lG2({type:O,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(ie,ge){2&ie&&g.uIk("id",ge.id)},inputs:{id:"id"},features:[g._Bn([{provide:yt,useExisting:O}])]}),O})();const Je={transitionMessages:(0,ce.X$)("transitionMessages",[(0,ce.SB)("enter",(0,ce.oB)({opacity:1,transform:"translateY(0%)"})),(0,ce.eR)("void => enter",[(0,ce.oB)({opacity:0,transform:"translateY(-5px)"}),(0,ce.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let je=(()=>{class O{}return O.\u0275fac=function(ie){return new(ie||O)},O.\u0275dir=g.lG2({type:O}),O})();const Ce=new g.OlP("MatHint");let pt=(()=>{class O{}return O.\u0275fac=function(ie){return new(ie||O)},O.\u0275dir=g.lG2({type:O,selectors:[["mat-label"]]}),O})(),Ot=(()=>{class O{}return O.\u0275fac=function(ie){return new(ie||O)},O.\u0275dir=g.lG2({type:O,selectors:[["mat-placeholder"]]}),O})();const Et=new g.OlP("MatPrefix"),Vt=new g.OlP("MatSuffix");let St=0;const Fn=(0,$.pj)(class{constructor(O){this._elementRef=O}},"primary"),fn=new g.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),gn=new g.OlP("MatFormField");let cn=(()=>{class O extends Fn{constructor(ie,ge,Ae,ue,tt,gt,Tt){super(ie),this._changeDetectorRef=ge,this._dir=Ae,this._defaults=ue,this._platform=tt,this._ngZone=gt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ie.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+St++,this._labelId="mat-form-field-label-"+St++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Tt,this.appearance=ue&&ue.appearance?ue.appearance:"legacy",this._hideRequiredMarker=!(!ue||null==ue.hideRequiredMarker)&&ue.hideRequiredMarker}get appearance(){return this._appearance}set appearance(ie){const ge=this._appearance;this._appearance=ie||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&ge!==ie&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(ie){this._hideRequiredMarker=(0,we.Ig)(ie)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(ie){this._hintLabel=ie,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(ie){ie!==this._floatLabel&&(this._floatLabel=ie||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(ie){this._explicitFormFieldControl=ie}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const ie=this._control;ie.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${ie.controlType}`),ie.stateChanges.pipe((0,ne.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),ie.ngControl&&ie.ngControl.valueChanges&&ie.ngControl.valueChanges.pipe((0,X.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,X.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Pe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,ne.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,ne.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,X.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(ie){const ge=this._control?this._control.ngControl:null;return ge&&ge[ie]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,_e.R)(this._label.nativeElement,"transitionend").pipe((0,pe.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let ie=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ie.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const ge=this._hintChildren?this._hintChildren.find(ue=>"start"===ue.align):null,Ae=this._hintChildren?this._hintChildren.find(ue=>"end"===ue.align):null;ge?ie.push(ge.id):this._hintLabel&&ie.push(this._hintLabelId),Ae&&ie.push(Ae.id)}else this._errorChildren&&ie.push(...this._errorChildren.map(ge=>ge.id));this._control.setDescribedByIds(ie)}}_validateControlChild(){}updateOutlineGap(){const ie=this._label?this._label.nativeElement:null,ge=this._connectionContainerRef.nativeElement,Ae=".mat-form-field-outline-start",ue=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!ie||!ie.children.length||!ie.textContent.trim()){const ln=ge.querySelectorAll(`${Ae}, ${ue}`);for(let on=0;on<ln.length;on++)ln[on].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let tt=0,gt=0;const Tt=ge.querySelectorAll(Ae),rn=ge.querySelectorAll(ue);if(this._label&&this._label.nativeElement.children.length){const ln=ge.getBoundingClientRect();if(0===ln.width&&0===ln.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const on=this._getStartEnd(ln),Un=ie.children,Hn=this._getStartEnd(Un[0].getBoundingClientRect());let ii=0;for(let an=0;an<Un.length;an++)ii+=Un[an].offsetWidth;tt=Math.abs(Hn-on)-5,gt=ii>0?.75*ii+10:0}for(let ln=0;ln<Tt.length;ln++)Tt[ln].style.width=`${tt}px`;for(let ln=0;ln<rn.length;ln++)rn[ln].style.width=`${gt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(ie){return this._dir&&"rtl"===this._dir.value?ie.right:ie.left}_isAttachedToDOM(){const ie=this._elementRef.nativeElement;if(ie.getRootNode){const ge=ie.getRootNode();return ge&&ge!==ie}return document.documentElement.contains(ie)}}return O.\u0275fac=function(ie){return new(ie||O)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(xe.Is,8),g.Y36(fn,8),g.Y36(He.t4),g.Y36(g.R0b),g.Y36(ze.Qb,8))},O.\u0275cmp=g.Xpm({type:O,selectors:[["mat-form-field"]],contentQueries:function(ie,ge,Ae){if(1&ie&&(g.Suo(Ae,je,5),g.Suo(Ae,je,7),g.Suo(Ae,pt,5),g.Suo(Ae,pt,7),g.Suo(Ae,Ot,5),g.Suo(Ae,yt,5),g.Suo(Ae,Ce,5),g.Suo(Ae,Et,5),g.Suo(Ae,Vt,5)),2&ie){let ue;g.iGM(ue=g.CRH())&&(ge._controlNonStatic=ue.first),g.iGM(ue=g.CRH())&&(ge._controlStatic=ue.first),g.iGM(ue=g.CRH())&&(ge._labelChildNonStatic=ue.first),g.iGM(ue=g.CRH())&&(ge._labelChildStatic=ue.first),g.iGM(ue=g.CRH())&&(ge._placeholderChild=ue.first),g.iGM(ue=g.CRH())&&(ge._errorChildren=ue),g.iGM(ue=g.CRH())&&(ge._hintChildren=ue),g.iGM(ue=g.CRH())&&(ge._prefixChildren=ue),g.iGM(ue=g.CRH())&&(ge._suffixChildren=ue)}},viewQuery:function(ie,ge){if(1&ie&&(g.Gf(st,7),g.Gf(Fe,5),g.Gf(at,5)),2&ie){let Ae;g.iGM(Ae=g.CRH())&&(ge._connectionContainerRef=Ae.first),g.iGM(Ae=g.CRH())&&(ge._inputContainerRef=Ae.first),g.iGM(Ae=g.CRH())&&(ge._label=Ae.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(ie,ge){2&ie&&g.ekj("mat-form-field-appearance-standard","standard"==ge.appearance)("mat-form-field-appearance-fill","fill"==ge.appearance)("mat-form-field-appearance-outline","outline"==ge.appearance)("mat-form-field-appearance-legacy","legacy"==ge.appearance)("mat-form-field-invalid",ge._control.errorState)("mat-form-field-can-float",ge._canLabelFloat())("mat-form-field-should-float",ge._shouldLabelFloat())("mat-form-field-has-label",ge._hasFloatingLabel())("mat-form-field-hide-placeholder",ge._hideControlPlaceholder())("mat-form-field-disabled",ge._control.disabled)("mat-form-field-autofilled",ge._control.autofilled)("mat-focused",ge._control.focused)("ng-untouched",ge._shouldForward("untouched"))("ng-touched",ge._shouldForward("touched"))("ng-pristine",ge._shouldForward("pristine"))("ng-dirty",ge._shouldForward("dirty"))("ng-valid",ge._shouldForward("valid"))("ng-invalid",ge._shouldForward("invalid"))("ng-pending",ge._shouldForward("pending"))("_mat-animation-noopable",!ge._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[g._Bn([{provide:gn,useExisting:O}]),g.qOj],ngContentSelectors:Ne,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(ie,ge){1&ie&&(g.F$t(te),g.TgZ(0,"div",0)(1,"div",1,2),g.NdJ("click",function(ue){return ge._control.onContainerClick&&ge._control.onContainerClick(ue)}),g.YNc(3,ke,9,0,"ng-container",3),g.YNc(4,Nt,2,1,"div",4),g.TgZ(5,"div",5,6),g.Hsn(7),g.TgZ(8,"span",7),g.YNc(9,Se,5,16,"label",8),g.qZA()(),g.YNc(10,De,2,0,"div",9),g.qZA(),g.YNc(11,J,2,4,"div",10),g.TgZ(12,"div",11),g.YNc(13,Qe,2,1,"div",12),g.YNc(14,Ue,5,2,"div",13),g.qZA()()),2&ie&&(g.xp6(3),g.Q6J("ngIf","outline"==ge.appearance),g.xp6(1),g.Q6J("ngIf",ge._prefixChildren.length),g.xp6(5),g.Q6J("ngIf",ge._hasFloatingLabel()),g.xp6(1),g.Q6J("ngIf",ge._suffixChildren.length),g.xp6(1),g.Q6J("ngIf","outline"!=ge.appearance),g.xp6(1),g.Q6J("ngSwitch",ge._getDisplayedMessages()),g.xp6(1),g.Q6J("ngSwitchCase","error"),g.xp6(1),g.Q6J("ngSwitchCase","hint"))},directives:[w.O5,h.wD,w.RF,w.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Je.transitionMessages]},changeDetection:0}),O})(),ht=(()=>{class O{}return O.\u0275fac=function(ie){return new(ie||O)},O.\u0275mod=g.oAB({type:O}),O.\u0275inj=g.cJS({imports:[[w.ez,$.BQ,h.Q8],$.BQ]}),O})()},8099:($t,Xe,b)=>{b.d(Xe,{Hw:()=>mt,Ps:()=>Gt});var h=b(5e3),w=b(508),g=b(3191),$=b(9808),we=b(9646),Ie=b(2843),Pe=b(4128),_e=b(727),ne=b(8505),X=b(4004),pe=b(262),ce=b(8746),ze=b(3099),xe=b(5698),He=b(4351),st=b(9300);class Fe{}class ke{constructor(Le){this.normalizedNames=new Map,this.lazyUpdate=null,Le?this.lazyInit="string"==typeof Le?()=>{this.headers=new Map,Le.split("\n").forEach(Me=>{const lt=Me.indexOf(":");if(lt>0){const Ft=Me.slice(0,lt),Kt=Ft.toLowerCase(),hn=Me.slice(lt+1).trim();this.maybeSetNormalizedName(Ft,Kt),this.headers.has(Kt)?this.headers.get(Kt).push(hn):this.headers.set(Kt,[hn])}})}:()=>{this.headers=new Map,Object.keys(Le).forEach(Me=>{let lt=Le[Me];const Ft=Me.toLowerCase();"string"==typeof lt&&(lt=[lt]),lt.length>0&&(this.headers.set(Ft,lt),this.maybeSetNormalizedName(Me,Ft))})}:this.headers=new Map}has(Le){return this.init(),this.headers.has(Le.toLowerCase())}get(Le){this.init();const Me=this.headers.get(Le.toLowerCase());return Me&&Me.length>0?Me[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Le){return this.init(),this.headers.get(Le.toLowerCase())||null}append(Le,Me){return this.clone({name:Le,value:Me,op:"a"})}set(Le,Me){return this.clone({name:Le,value:Me,op:"s"})}delete(Le,Me){return this.clone({name:Le,value:Me,op:"d"})}maybeSetNormalizedName(Le,Me){this.normalizedNames.has(Me)||this.normalizedNames.set(Me,Le)}init(){this.lazyInit&&(this.lazyInit instanceof ke?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Le=>this.applyUpdate(Le)),this.lazyUpdate=null))}copyFrom(Le){Le.init(),Array.from(Le.headers.keys()).forEach(Me=>{this.headers.set(Me,Le.headers.get(Me)),this.normalizedNames.set(Me,Le.normalizedNames.get(Me))})}clone(Le){const Me=new ke;return Me.lazyInit=this.lazyInit&&this.lazyInit instanceof ke?this.lazyInit:this,Me.lazyUpdate=(this.lazyUpdate||[]).concat([Le]),Me}applyUpdate(Le){const Me=Le.name.toLowerCase();switch(Le.op){case"a":case"s":let lt=Le.value;if("string"==typeof lt&&(lt=[lt]),0===lt.length)return;this.maybeSetNormalizedName(Le.name,Me);const Ft=("a"===Le.op?this.headers.get(Me):void 0)||[];Ft.push(...lt),this.headers.set(Me,Ft);break;case"d":const Kt=Le.value;if(Kt){let hn=this.headers.get(Me);if(!hn)return;hn=hn.filter(xn=>-1===Kt.indexOf(xn)),0===hn.length?(this.headers.delete(Me),this.normalizedNames.delete(Me)):this.headers.set(Me,hn)}else this.headers.delete(Me),this.normalizedNames.delete(Me)}}forEach(Le){this.init(),Array.from(this.normalizedNames.keys()).forEach(Me=>Le(this.normalizedNames.get(Me),this.headers.get(Me)))}}class Nt{encodeKey(Le){return Se(Le)}encodeValue(Le){return Se(Le)}decodeKey(Le){return decodeURIComponent(Le)}decodeValue(Le){return decodeURIComponent(Le)}}const be=/%(\d[a-f0-9])/gi,fe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Se(wt){return encodeURIComponent(wt).replace(be,(Le,Me)=>{var lt;return null!==(lt=fe[Me])&&void 0!==lt?lt:Le})}function De(wt){return`${wt}`}class J{constructor(Le={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Le.encoder||new Nt,Le.fromString){if(Le.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function it(wt,Le){const Me=new Map;return wt.length>0&&wt.replace(/^\?/,"").split("&").forEach(Ft=>{const Kt=Ft.indexOf("="),[hn,xn]=-1==Kt?[Le.decodeKey(Ft),""]:[Le.decodeKey(Ft.slice(0,Kt)),Le.decodeValue(Ft.slice(Kt+1))],Nn=Me.get(hn)||[];Nn.push(xn),Me.set(hn,Nn)}),Me}(Le.fromString,this.encoder)}else Le.fromObject?(this.map=new Map,Object.keys(Le.fromObject).forEach(Me=>{const lt=Le.fromObject[Me];this.map.set(Me,Array.isArray(lt)?lt:[lt])})):this.map=null}has(Le){return this.init(),this.map.has(Le)}get(Le){this.init();const Me=this.map.get(Le);return Me?Me[0]:null}getAll(Le){return this.init(),this.map.get(Le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Le,Me){return this.clone({param:Le,value:Me,op:"a"})}appendAll(Le){const Me=[];return Object.keys(Le).forEach(lt=>{const Ft=Le[lt];Array.isArray(Ft)?Ft.forEach(Kt=>{Me.push({param:lt,value:Kt,op:"a"})}):Me.push({param:lt,value:Ft,op:"a"})}),this.clone(Me)}set(Le,Me){return this.clone({param:Le,value:Me,op:"s"})}delete(Le,Me){return this.clone({param:Le,value:Me,op:"d"})}toString(){return this.init(),this.keys().map(Le=>{const Me=this.encoder.encodeKey(Le);return this.map.get(Le).map(lt=>Me+"="+this.encoder.encodeValue(lt)).join("&")}).filter(Le=>""!==Le).join("&")}clone(Le){const Me=new J({encoder:this.encoder});return Me.cloneFrom=this.cloneFrom||this,Me.updates=(this.updates||[]).concat(Le),Me}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Le=>this.map.set(Le,this.cloneFrom.map.get(Le))),this.updates.forEach(Le=>{switch(Le.op){case"a":case"s":const Me=("a"===Le.op?this.map.get(Le.param):void 0)||[];Me.push(De(Le.value)),this.map.set(Le.param,Me);break;case"d":if(void 0===Le.value){this.map.delete(Le.param);break}{let lt=this.map.get(Le.param)||[];const Ft=lt.indexOf(De(Le.value));-1!==Ft&&lt.splice(Ft,1),lt.length>0?this.map.set(Le.param,lt):this.map.delete(Le.param)}}}),this.cloneFrom=this.updates=null)}}class se{constructor(){this.map=new Map}set(Le,Me){return this.map.set(Le,Me),this}get(Le){return this.map.has(Le)||this.map.set(Le,Le.defaultValue()),this.map.get(Le)}delete(Le){return this.map.delete(Le),this}has(Le){return this.map.has(Le)}keys(){return this.map.keys()}}function te(wt){return"undefined"!=typeof ArrayBuffer&&wt instanceof ArrayBuffer}function Ne(wt){return"undefined"!=typeof Blob&&wt instanceof Blob}function We(wt){return"undefined"!=typeof FormData&&wt instanceof FormData}class _t{constructor(Le,Me,lt,Ft){let Kt;if(this.url=Me,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Le.toUpperCase(),function Ue(wt){switch(wt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ft?(this.body=void 0!==lt?lt:null,Kt=Ft):Kt=lt,Kt&&(this.reportProgress=!!Kt.reportProgress,this.withCredentials=!!Kt.withCredentials,Kt.responseType&&(this.responseType=Kt.responseType),Kt.headers&&(this.headers=Kt.headers),Kt.context&&(this.context=Kt.context),Kt.params&&(this.params=Kt.params)),this.headers||(this.headers=new ke),this.context||(this.context=new se),this.params){const hn=this.params.toString();if(0===hn.length)this.urlWithParams=Me;else{const xn=Me.indexOf("?");this.urlWithParams=Me+(-1===xn?"?":xn<Me.length-1?"&":"")+hn}}else this.params=new J,this.urlWithParams=Me}serializeBody(){return null===this.body?null:te(this.body)||Ne(this.body)||We(this.body)||function yt(wt){return"undefined"!=typeof URLSearchParams&&wt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof J?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||We(this.body)?null:Ne(this.body)?this.body.type||null:te(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof J?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Le={}){var Me;const lt=Le.method||this.method,Ft=Le.url||this.url,Kt=Le.responseType||this.responseType,hn=void 0!==Le.body?Le.body:this.body,xn=void 0!==Le.withCredentials?Le.withCredentials:this.withCredentials,Nn=void 0!==Le.reportProgress?Le.reportProgress:this.reportProgress;let jn=Le.headers||this.headers,Xt=Le.params||this.params;const Sn=null!==(Me=Le.context)&&void 0!==Me?Me:this.context;return void 0!==Le.setHeaders&&(jn=Object.keys(Le.setHeaders).reduce((ai,Mi)=>ai.set(Mi,Le.setHeaders[Mi]),jn)),Le.setParams&&(Xt=Object.keys(Le.setParams).reduce((ai,Mi)=>ai.set(Mi,Le.setParams[Mi]),Xt)),new _t(lt,Ft,hn,{params:Xt,headers:jn,context:Sn,reportProgress:Nn,responseType:Kt,withCredentials:xn})}}var Je=(()=>((Je=Je||{})[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je))();class Ee extends class je{constructor(Le,Me=200,lt="OK"){this.headers=Le.headers||new ke,this.status=void 0!==Le.status?Le.status:Me,this.statusText=Le.statusText||lt,this.url=Le.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(Le={}){super(Le),this.type=Je.Response,this.body=void 0!==Le.body?Le.body:null}clone(Le={}){return new Ee({body:void 0!==Le.body?Le.body:this.body,headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}function z(wt,Le){return{body:Le,headers:wt.headers,context:wt.context,observe:wt.observe,params:wt.params,reportProgress:wt.reportProgress,responseType:wt.responseType,withCredentials:wt.withCredentials}}let Ce=(()=>{class wt{constructor(Me){this.handler=Me}request(Me,lt,Ft={}){let Kt;if(Me instanceof _t)Kt=Me;else{let Nn,jn;Nn=Ft.headers instanceof ke?Ft.headers:new ke(Ft.headers),Ft.params&&(jn=Ft.params instanceof J?Ft.params:new J({fromObject:Ft.params})),Kt=new _t(Me,lt,void 0!==Ft.body?Ft.body:null,{headers:Nn,context:Ft.context,params:jn,reportProgress:Ft.reportProgress,responseType:Ft.responseType||"json",withCredentials:Ft.withCredentials})}const hn=(0,we.of)(Kt).pipe((0,He.b)(Nn=>this.handler.handle(Nn)));if(Me instanceof _t||"events"===Ft.observe)return hn;const xn=hn.pipe((0,st.h)(Nn=>Nn instanceof Ee));switch(Ft.observe||"body"){case"body":switch(Kt.responseType){case"arraybuffer":return xn.pipe((0,X.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Nn.body}));case"blob":return xn.pipe((0,X.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof Blob))throw new Error("Response is not a Blob.");return Nn.body}));case"text":return xn.pipe((0,X.U)(Nn=>{if(null!==Nn.body&&"string"!=typeof Nn.body)throw new Error("Response is not a string.");return Nn.body}));default:return xn.pipe((0,X.U)(Nn=>Nn.body))}case"response":return xn;default:throw new Error(`Unreachable: unhandled observe type ${Ft.observe}}`)}}delete(Me,lt={}){return this.request("DELETE",Me,lt)}get(Me,lt={}){return this.request("GET",Me,lt)}head(Me,lt={}){return this.request("HEAD",Me,lt)}jsonp(Me,lt){return this.request("JSONP",Me,{params:(new J).append(lt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Me,lt={}){return this.request("OPTIONS",Me,lt)}patch(Me,lt,Ft={}){return this.request("PATCH",Me,z(Ft,lt))}post(Me,lt,Ft={}){return this.request("POST",Me,z(Ft,lt))}put(Me,lt,Ft={}){return this.request("PUT",Me,z(Ft,lt))}}return wt.\u0275fac=function(Me){return new(Me||wt)(h.LFG(Fe))},wt.\u0275prov=h.Yz7({token:wt,factory:wt.\u0275fac}),wt})();var on=b(2313);const Un=["*"];let Hn;function an(wt){var Le;return(null===(Le=function ii(){if(void 0===Hn&&(Hn=null,"undefined"!=typeof window)){const wt=window;void 0!==wt.trustedTypes&&(Hn=wt.trustedTypes.createPolicy("angular#components",{createHTML:Le=>Le}))}return Hn}())||void 0===Le?void 0:Le.createHTML(wt))||wt}function Ai(wt){return Error(`Unable to find icon with the name "${wt}"`)}function he(wt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${wt}".`)}function U(wt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${wt}".`)}class P{constructor(Le,Me,lt){this.url=Le,this.svgText=Me,this.options=lt}}let R=(()=>{class wt{constructor(Me,lt,Ft,Kt){this._httpClient=Me,this._sanitizer=lt,this._errorHandler=Kt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=Ft}addSvgIcon(Me,lt,Ft){return this.addSvgIconInNamespace("",Me,lt,Ft)}addSvgIconLiteral(Me,lt,Ft){return this.addSvgIconLiteralInNamespace("",Me,lt,Ft)}addSvgIconInNamespace(Me,lt,Ft,Kt){return this._addSvgIconConfig(Me,lt,new P(Ft,null,Kt))}addSvgIconResolver(Me){return this._resolvers.push(Me),this}addSvgIconLiteralInNamespace(Me,lt,Ft,Kt){const hn=this._sanitizer.sanitize(h.q3G.HTML,Ft);if(!hn)throw U(Ft);const xn=an(hn);return this._addSvgIconConfig(Me,lt,new P("",xn,Kt))}addSvgIconSet(Me,lt){return this.addSvgIconSetInNamespace("",Me,lt)}addSvgIconSetLiteral(Me,lt){return this.addSvgIconSetLiteralInNamespace("",Me,lt)}addSvgIconSetInNamespace(Me,lt,Ft){return this._addSvgIconSetConfig(Me,new P(lt,null,Ft))}addSvgIconSetLiteralInNamespace(Me,lt,Ft){const Kt=this._sanitizer.sanitize(h.q3G.HTML,lt);if(!Kt)throw U(lt);const hn=an(Kt);return this._addSvgIconSetConfig(Me,new P("",hn,Ft))}registerFontClassAlias(Me,lt=Me){return this._fontCssClassesByAlias.set(Me,lt),this}classNameForFontAlias(Me){return this._fontCssClassesByAlias.get(Me)||Me}setDefaultFontSetClass(Me){return this._defaultFontSetClass=Me,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Me){const lt=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,Me);if(!lt)throw he(Me);const Ft=this._cachedIconsByUrl.get(lt);return Ft?(0,we.of)(Dt(Ft)):this._loadSvgIconFromConfig(new P(Me,null)).pipe((0,ne.b)(Kt=>this._cachedIconsByUrl.set(lt,Kt)),(0,X.U)(Kt=>Dt(Kt)))}getNamedSvgIcon(Me,lt=""){const Ft=mn(lt,Me);let Kt=this._svgIconConfigs.get(Ft);if(Kt)return this._getSvgFromConfig(Kt);if(Kt=this._getIconConfigFromResolvers(lt,Me),Kt)return this._svgIconConfigs.set(Ft,Kt),this._getSvgFromConfig(Kt);const hn=this._iconSetConfigs.get(lt);return hn?this._getSvgFromIconSetConfigs(Me,hn):(0,Ie._)(Ai(Ft))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Me){return Me.svgText?(0,we.of)(Dt(this._svgElementFromConfig(Me))):this._loadSvgIconFromConfig(Me).pipe((0,X.U)(lt=>Dt(lt)))}_getSvgFromIconSetConfigs(Me,lt){const Ft=this._extractIconWithNameFromAnySet(Me,lt);if(Ft)return(0,we.of)(Ft);const Kt=lt.filter(hn=>!hn.svgText).map(hn=>this._loadSvgIconSetFromConfig(hn).pipe((0,pe.K)(xn=>{const jn=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,hn.url)} failed: ${xn.message}`;return this._errorHandler.handleError(new Error(jn)),(0,we.of)(null)})));return(0,Pe.D)(Kt).pipe((0,X.U)(()=>{const hn=this._extractIconWithNameFromAnySet(Me,lt);if(!hn)throw Ai(Me);return hn}))}_extractIconWithNameFromAnySet(Me,lt){for(let Ft=lt.length-1;Ft>=0;Ft--){const Kt=lt[Ft];if(Kt.svgText&&Kt.svgText.toString().indexOf(Me)>-1){const hn=this._svgElementFromConfig(Kt),xn=this._extractSvgIconFromSet(hn,Me,Kt.options);if(xn)return xn}}return null}_loadSvgIconFromConfig(Me){return this._fetchIcon(Me).pipe((0,ne.b)(lt=>Me.svgText=lt),(0,X.U)(()=>this._svgElementFromConfig(Me)))}_loadSvgIconSetFromConfig(Me){return Me.svgText?(0,we.of)(null):this._fetchIcon(Me).pipe((0,ne.b)(lt=>Me.svgText=lt))}_extractSvgIconFromSet(Me,lt,Ft){const Kt=Me.querySelector(`[id="${lt}"]`);if(!Kt)return null;const hn=Kt.cloneNode(!0);if(hn.removeAttribute("id"),"svg"===hn.nodeName.toLowerCase())return this._setSvgAttributes(hn,Ft);if("symbol"===hn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(hn),Ft);const xn=this._svgElementFromString(an("<svg></svg>"));return xn.appendChild(hn),this._setSvgAttributes(xn,Ft)}_svgElementFromString(Me){const lt=this._document.createElement("DIV");lt.innerHTML=Me;const Ft=lt.querySelector("svg");if(!Ft)throw Error("<svg> tag not found");return Ft}_toSvgElement(Me){const lt=this._svgElementFromString(an("<svg></svg>")),Ft=Me.attributes;for(let Kt=0;Kt<Ft.length;Kt++){const{name:hn,value:xn}=Ft[Kt];"id"!==hn&&lt.setAttribute(hn,xn)}for(let Kt=0;Kt<Me.childNodes.length;Kt++)Me.childNodes[Kt].nodeType===this._document.ELEMENT_NODE&&lt.appendChild(Me.childNodes[Kt].cloneNode(!0));return lt}_setSvgAttributes(Me,lt){return Me.setAttribute("fit",""),Me.setAttribute("height","100%"),Me.setAttribute("width","100%"),Me.setAttribute("preserveAspectRatio","xMidYMid meet"),Me.setAttribute("focusable","false"),lt&&lt.viewBox&&Me.setAttribute("viewBox",lt.viewBox),Me}_fetchIcon(Me){var lt;const{url:Ft,options:Kt}=Me,hn=null!==(lt=null==Kt?void 0:Kt.withCredentials)&&void 0!==lt&&lt;if(!this._httpClient)throw function qe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Ft)throw Error(`Cannot fetch icon from URL "${Ft}".`);const xn=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,Ft);if(!xn)throw he(Ft);const Nn=this._inProgressUrlFetches.get(xn);if(Nn)return Nn;const jn=this._httpClient.get(xn,{responseType:"text",withCredentials:hn}).pipe((0,X.U)(Xt=>an(Xt)),(0,ce.x)(()=>this._inProgressUrlFetches.delete(xn)),(0,ze.B)());return this._inProgressUrlFetches.set(xn,jn),jn}_addSvgIconConfig(Me,lt,Ft){return this._svgIconConfigs.set(mn(Me,lt),Ft),this}_addSvgIconSetConfig(Me,lt){const Ft=this._iconSetConfigs.get(Me);return Ft?Ft.push(lt):this._iconSetConfigs.set(Me,[lt]),this}_svgElementFromConfig(Me){if(!Me.svgElement){const lt=this._svgElementFromString(Me.svgText);this._setSvgAttributes(lt,Me.options),Me.svgElement=lt}return Me.svgElement}_getIconConfigFromResolvers(Me,lt){for(let Ft=0;Ft<this._resolvers.length;Ft++){const Kt=this._resolvers[Ft](lt,Me);if(Kt)return Cn(Kt)?new P(Kt.url,null,Kt.options):new P(Kt,null)}}}return wt.\u0275fac=function(Me){return new(Me||wt)(h.LFG(Ce,8),h.LFG(on.H7),h.LFG($.K0,8),h.LFG(h.qLn))},wt.\u0275prov=h.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();function Dt(wt){return wt.cloneNode(!0)}function mn(wt,Le){return wt+":"+Le}function Cn(wt){return!(!wt.url||!wt.options)}const Xn=(0,w.pj)(class{constructor(wt){this._elementRef=wt}}),vn=new h.OlP("mat-icon-location",{providedIn:"root",factory:function hi(){const wt=(0,h.f3M)($.K0),Le=wt?wt.location:null;return{getPathname:()=>Le?Le.pathname+Le.search:""}}}),Ct=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ut=Ct.map(wt=>`[${wt}]`).join(", "),Ke=/^url\(['"]?#(.*?)['"]?\)$/;let mt=(()=>{class wt extends Xn{constructor(Me,lt,Ft,Kt,hn){super(Me),this._iconRegistry=lt,this._location=Kt,this._errorHandler=hn,this._inline=!1,this._currentIconFetch=_e.w0.EMPTY,Ft||Me.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Me){this._inline=(0,g.Ig)(Me)}get svgIcon(){return this._svgIcon}set svgIcon(Me){Me!==this._svgIcon&&(Me?this._updateSvgIcon(Me):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Me)}get fontSet(){return this._fontSet}set fontSet(Me){const lt=this._cleanupFontValue(Me);lt!==this._fontSet&&(this._fontSet=lt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Me){const lt=this._cleanupFontValue(Me);lt!==this._fontIcon&&(this._fontIcon=lt,this._updateFontIconClasses())}_splitIconName(Me){if(!Me)return["",""];const lt=Me.split(":");switch(lt.length){case 1:return["",lt[0]];case 2:return lt;default:throw Error(`Invalid icon name: "${Me}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Me=this._elementsWithExternalReferences;if(Me&&Me.size){const lt=this._location.getPathname();lt!==this._previousPath&&(this._previousPath=lt,this._prependPathToReferences(lt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Me){this._clearSvgElement();const lt=this._location.getPathname();this._previousPath=lt,this._cacheChildrenWithExternalReferences(Me),this._prependPathToReferences(lt),this._elementRef.nativeElement.appendChild(Me)}_clearSvgElement(){const Me=this._elementRef.nativeElement;let lt=Me.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();lt--;){const Ft=Me.childNodes[lt];(1!==Ft.nodeType||"svg"===Ft.nodeName.toLowerCase())&&Ft.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Me=this._elementRef.nativeElement,lt=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();lt!=this._previousFontSetClass&&(this._previousFontSetClass&&Me.classList.remove(this._previousFontSetClass),lt&&Me.classList.add(lt),this._previousFontSetClass=lt),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&Me.classList.remove(this._previousFontIconClass),this.fontIcon&&Me.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Me){return"string"==typeof Me?Me.trim().split(" ")[0]:Me}_prependPathToReferences(Me){const lt=this._elementsWithExternalReferences;lt&&lt.forEach((Ft,Kt)=>{Ft.forEach(hn=>{Kt.setAttribute(hn.name,`url('${Me}#${hn.value}')`)})})}_cacheChildrenWithExternalReferences(Me){const lt=Me.querySelectorAll(ut),Ft=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Kt=0;Kt<lt.length;Kt++)Ct.forEach(hn=>{const xn=lt[Kt],Nn=xn.getAttribute(hn),jn=Nn?Nn.match(Ke):null;if(jn){let Xt=Ft.get(xn);Xt||(Xt=[],Ft.set(xn,Xt)),Xt.push({name:hn,value:jn[1]})}})}_updateSvgIcon(Me){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Me){const[lt,Ft]=this._splitIconName(Me);lt&&(this._svgNamespace=lt),Ft&&(this._svgName=Ft),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ft,lt).pipe((0,xe.q)(1)).subscribe(Kt=>this._setSvgElement(Kt),Kt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${lt}:${Ft}! ${Kt.message}`))})}}}return wt.\u0275fac=function(Me){return new(Me||wt)(h.Y36(h.SBq),h.Y36(R),h.$8M("aria-hidden"),h.Y36(vn),h.Y36(h.qLn))},wt.\u0275cmp=h.Xpm({type:wt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(Me,lt){2&Me&&(h.uIk("data-mat-icon-type",lt._usingFontIcon()?"font":"svg")("data-mat-icon-name",lt._svgName||lt.fontIcon)("data-mat-icon-namespace",lt._svgNamespace||lt.fontSet),h.ekj("mat-icon-inline",lt.inline)("mat-icon-no-color","primary"!==lt.color&&"accent"!==lt.color&&"warn"!==lt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:Un,decls:1,vars:0,template:function(Me,lt){1&Me&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),wt})(),Gt=(()=>{class wt{}return wt.\u0275fac=function(Me){return new(Me||wt)},wt.\u0275mod=h.oAB({type:wt}),wt.\u0275inj=h.cJS({imports:[[w.BQ],w.BQ]}),wt})()},4623:($t,Xe,b)=>{b.d(Xe,{i$:()=>J,Tg:()=>te,ie:()=>$e});var h=b(9808),w=b(5e3),g=b(508),$=b(3191),we=b(7579),Ie=b(2722),ce=(b(8675),b(5664),b(449),b(1159),b(3075),b(4834));const ze=["*"],He=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],st=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],it=(0,g.Id)((0,g.Kr)(class{})),be=(0,g.Kr)(class{}),fe=new w.OlP("MatList"),Se=new w.OlP("MatNavList");let J=(()=>{class Ee extends it{constructor(z){super(),this._elementRef=z,this._stateChanges=new we.x,"action-list"===this._getListType()&&z.nativeElement.classList.add("mat-action-list")}_getListType(){const z=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===z?"list":"mat-action-list"===z?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return Ee.\u0275fac=function(z){return new(z||Ee)(w.Y36(w.SBq))},Ee.\u0275cmp=w.Xpm({type:Ee,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[w._Bn([{provide:fe,useExisting:Ee}]),w.qOj,w.TTD],ngContentSelectors:ze,decls:1,vars:0,template:function(z,Ce){1&z&&(w.F$t(),w.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),Ee})(),Qe=(()=>{class Ee{}return Ee.\u0275fac=function(z){return new(z||Ee)},Ee.\u0275dir=w.lG2({type:Ee,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),Ee})(),se=(()=>{class Ee{}return Ee.\u0275fac=function(z){return new(z||Ee)},Ee.\u0275dir=w.lG2({type:Ee,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),Ee})(),te=(()=>{class Ee extends be{constructor(z,Ce,Rt,pt){super(),this._element=z,this._isInteractiveList=!1,this._destroyed=new we.x,this._disabled=!1,this._isInteractiveList=!!(Rt||pt&&"action-list"===pt._getListType()),this._list=Rt||pt;const Ot=this._getHostElement();"button"===Ot.nodeName.toLowerCase()&&!Ot.hasAttribute("type")&&Ot.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,Ie.R)(this._destroyed)).subscribe(()=>{Ce.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(z){this._disabled=(0,$.Ig)(z)}ngAfterContentInit(){(0,g.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return Ee.\u0275fac=function(z){return new(z||Ee)(w.Y36(w.SBq),w.Y36(w.sBO),w.Y36(Se,8),w.Y36(fe,8))},Ee.\u0275cmp=w.Xpm({type:Ee,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(z,Ce,Rt){if(1&z&&(w.Suo(Rt,Qe,5),w.Suo(Rt,se,5),w.Suo(Rt,g.X2,5)),2&z){let pt;w.iGM(pt=w.CRH())&&(Ce._avatar=pt.first),w.iGM(pt=w.CRH())&&(Ce._icon=pt.first),w.iGM(pt=w.CRH())&&(Ce._lines=pt)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(z,Ce){2&z&&w.ekj("mat-list-item-disabled",Ce.disabled)("mat-list-item-avatar",Ce._avatar||Ce._icon)("mat-list-item-with-avatar",Ce._avatar||Ce._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[w.qOj],ngContentSelectors:st,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(z,Ce){1&z&&(w.F$t(He),w.TgZ(0,"span",0),w._UZ(1,"span",1),w.Hsn(2),w.TgZ(3,"span",2),w.Hsn(4,1),w.qZA(),w.Hsn(5,2),w.qZA()),2&z&&(w.xp6(1),w.Q6J("matRippleTrigger",Ce._getHostElement())("matRippleDisabled",Ce._isRippleDisabled()))},directives:[g.wG],encapsulation:2,changeDetection:0}),Ee})(),$e=(()=>{class Ee{}return Ee.\u0275fac=function(z){return new(z||Ee)},Ee.\u0275mod=w.oAB({type:Ee}),Ee.\u0275inj=w.cJS({imports:[[g.uc,g.si,g.BQ,g.us,h.ez],g.uc,g.BQ,g.us,ce.t]}),Ee})()},4107:($t,Xe,b)=>{b.d(Xe,{gD:()=>fn,LD:()=>gn});var h=b(9776),w=b(9808),g=b(5e3),$=b(508),we=b(7322),Ie=b(5494),Pe=b(5664),_e=b(3191),ne=b(449),X=b(1159),pe=b(3075),ce=b(7579),ze=b(9770),xe=b(6451),He=b(8675),st=b(3900),Fe=b(5698),at=b(9300),ke=b(4004),Nt=b(1884),it=b(2722),be=b(1777),fe=b(226);const Se=["trigger"],De=["panel"];function J(cn,ht){if(1&cn&&(g.TgZ(0,"span",8),g._uU(1),g.qZA()),2&cn){const O=g.oxw();g.xp6(1),g.Oqu(O.placeholder)}}function Qe(cn,ht){if(1&cn&&(g.TgZ(0,"span",12),g._uU(1),g.qZA()),2&cn){const O=g.oxw(2);g.xp6(1),g.Oqu(O.triggerValue)}}function se(cn,ht){1&cn&&g.Hsn(0,0,["*ngSwitchCase","true"])}function Ue(cn,ht){if(1&cn&&(g.TgZ(0,"span",9),g.YNc(1,Qe,2,1,"span",10),g.YNc(2,se,1,0,"ng-content",11),g.qZA()),2&cn){const O=g.oxw();g.Q6J("ngSwitch",!!O.customTrigger),g.xp6(2),g.Q6J("ngSwitchCase",!0)}}function te(cn,ht){if(1&cn){const O=g.EpF();g.TgZ(0,"div",13)(1,"div",14,15),g.NdJ("@transformPanel.done",function(ie){return g.CHM(O),g.oxw()._panelDoneAnimatingStream.next(ie.toState)})("keydown",function(ie){return g.CHM(O),g.oxw()._handleKeydown(ie)}),g.Hsn(3,1),g.qZA()()}if(2&cn){const O=g.oxw();g.Q6J("@transformPanelWrap",void 0),g.xp6(1),g.Gre("mat-select-panel ",O._getPanelTheme(),""),g.Udp("transform-origin",O._transformOrigin)("font-size",O._triggerFontSize,"px"),g.Q6J("ngClass",O.panelClass)("@transformPanel",O.multiple?"showing-multiple":"showing"),g.uIk("id",O.id+"-panel")("aria-multiselectable",O.multiple)("aria-label",O.ariaLabel||null)("aria-labelledby",O._getPanelAriaLabelledby())}}const Ne=[[["mat-select-trigger"]],"*"],We=["mat-select-trigger","*"],yt={transformPanelWrap:(0,be.X$)("transformPanelWrap",[(0,be.eR)("* => void",(0,be.IO)("@transformPanel",[(0,be.pV)()],{optional:!0}))]),transformPanel:(0,be.X$)("transformPanel",[(0,be.SB)("void",(0,be.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,be.SB)("showing",(0,be.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,be.SB)("showing-multiple",(0,be.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,be.eR)("void => *",(0,be.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,be.eR)("* => void",(0,be.jt)("100ms 25ms linear",(0,be.oB)({opacity:0})))])};let $e=0;const Ot=new g.OlP("mat-select-scroll-strategy"),bt=new g.OlP("MAT_SELECT_CONFIG"),Vt={provide:Ot,deps:[h.aV],useFactory:function Et(cn){return()=>cn.scrollStrategies.reposition()}};class Ze{constructor(ht,O){this.source=ht,this.value=O}}const St=(0,$.Kr)((0,$.sb)((0,$.Id)((0,$.FD)(class{constructor(cn,ht,O,Z,ie){this._elementRef=cn,this._defaultErrorStateMatcher=ht,this._parentForm=O,this._parentFormGroup=Z,this.ngControl=ie}})))),sn=new g.OlP("MatSelectTrigger");let Fn=(()=>{class cn extends St{constructor(O,Z,ie,ge,Ae,ue,tt,gt,Tt,rn,ln,on,Un,Hn){var ii,an,Ai;super(Ae,ge,tt,gt,rn),this._viewportRuler=O,this._changeDetectorRef=Z,this._ngZone=ie,this._dir=ue,this._parentFormField=Tt,this._liveAnnouncer=Un,this._defaultOptions=Hn,this._panelOpen=!1,this._compareWith=(qe,he)=>qe===he,this._uid="mat-select-"+$e++,this._triggerAriaLabelledBy=null,this._destroy=new ce.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+$e++,this._panelDoneAnimatingStream=new ce.x,this._overlayPanelClass=(null===(ii=this._defaultOptions)||void 0===ii?void 0:ii.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ai=null===(an=this._defaultOptions)||void 0===an?void 0:an.disableOptionCentering)&&void 0!==Ai&&Ai,this.ariaLabel="",this.optionSelectionChanges=(0,ze.P)(()=>{const qe=this.options;return qe?qe.changes.pipe((0,He.O)(qe),(0,st.w)(()=>(0,xe.T)(...qe.map(he=>he.onSelectionChange)))):this._ngZone.onStable.pipe((0,Fe.q)(1),(0,st.w)(()=>this.optionSelectionChanges))}),this.openedChange=new g.vpe,this._openedStream=this.openedChange.pipe((0,at.h)(qe=>qe),(0,ke.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,at.h)(qe=>!qe),(0,ke.U)(()=>{})),this.selectionChange=new g.vpe,this.valueChange=new g.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Hn?void 0:Hn.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Hn.typeaheadDebounceInterval),this._scrollStrategyFactory=on,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ln)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(O){this._placeholder=O,this.stateChanges.next()}get required(){var O,Z,ie,ge;return null!==(ge=null!==(O=this._required)&&void 0!==O?O:null===(ie=null===(Z=this.ngControl)||void 0===Z?void 0:Z.control)||void 0===ie?void 0:ie.hasValidator(pe.kI.required))&&void 0!==ge&&ge}set required(O){this._required=(0,_e.Ig)(O),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(O){this._multiple=(0,_e.Ig)(O)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(O){this._disableOptionCentering=(0,_e.Ig)(O)}get compareWith(){return this._compareWith}set compareWith(O){this._compareWith=O,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(O){this._assignValue(O)&&this._onChange(O)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(O){this._typeaheadDebounceInterval=(0,_e.su)(O)}get id(){return this._id}set id(O){this._id=O||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ne.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Nt.x)(),(0,it.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,it.R)(this._destroy)).subscribe(O=>{O.added.forEach(Z=>Z.select()),O.removed.forEach(Z=>Z.deselect())}),this.options.changes.pipe((0,He.O)(null),(0,it.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const O=this._getTriggerAriaLabelledby(),Z=this.ngControl;if(O!==this._triggerAriaLabelledBy){const ie=this._elementRef.nativeElement;this._triggerAriaLabelledBy=O,O?ie.setAttribute("aria-labelledby",O):ie.removeAttribute("aria-labelledby")}Z&&(this._previousControl!==Z.control&&(void 0!==this._previousControl&&null!==Z.disabled&&Z.disabled!==this.disabled&&(this.disabled=Z.disabled),this._previousControl=Z.control),this.updateErrorState())}ngOnChanges(O){O.disabled&&this.stateChanges.next(),O.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(O){this._assignValue(O)}registerOnChange(O){this._onChange=O}registerOnTouched(O){this._onTouched=O}setDisabledState(O){this.disabled=O,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var O,Z;return this.multiple?(null===(O=this._selectionModel)||void 0===O?void 0:O.selected)||[]:null===(Z=this._selectionModel)||void 0===Z?void 0:Z.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const O=this._selectionModel.selected.map(Z=>Z.viewValue);return this._isRtl()&&O.reverse(),O.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(O){this.disabled||(this.panelOpen?this._handleOpenKeydown(O):this._handleClosedKeydown(O))}_handleClosedKeydown(O){const Z=O.keyCode,ie=Z===X.JH||Z===X.LH||Z===X.oh||Z===X.SV,ge=Z===X.K5||Z===X.L_,Ae=this._keyManager;if(!Ae.isTyping()&&ge&&!(0,X.Vb)(O)||(this.multiple||O.altKey)&&ie)O.preventDefault(),this.open();else if(!this.multiple){const ue=this.selected;Ae.onKeydown(O);const tt=this.selected;tt&&ue!==tt&&this._liveAnnouncer.announce(tt.viewValue,1e4)}}_handleOpenKeydown(O){const Z=this._keyManager,ie=O.keyCode,ge=ie===X.JH||ie===X.LH,Ae=Z.isTyping();if(ge&&O.altKey)O.preventDefault(),this.close();else if(Ae||ie!==X.K5&&ie!==X.L_||!Z.activeItem||(0,X.Vb)(O))if(!Ae&&this._multiple&&ie===X.A&&O.ctrlKey){O.preventDefault();const ue=this.options.some(tt=>!tt.disabled&&!tt.selected);this.options.forEach(tt=>{tt.disabled||(ue?tt.select():tt.deselect())})}else{const ue=Z.activeItemIndex;Z.onKeydown(O),this._multiple&&ge&&O.shiftKey&&Z.activeItem&&Z.activeItemIndex!==ue&&Z.activeItem._selectViaInteraction()}else O.preventDefault(),Z.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Fe.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(O){if(this._selectionModel.selected.forEach(Z=>Z.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&O)Array.isArray(O),O.forEach(Z=>this._selectOptionByValue(Z)),this._sortValues();else{const Z=this._selectOptionByValue(O);Z?this._keyManager.updateActiveItem(Z):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(O){const Z=this.options.find(ie=>{if(this._selectionModel.isSelected(ie))return!1;try{return null!=ie.value&&this._compareWith(ie.value,O)}catch(ge){return!1}});return Z&&this._selectionModel.select(Z),Z}_assignValue(O){return!!(O!==this._value||this._multiple&&Array.isArray(O))&&(this.options&&this._setSelectionByValue(O),this._value=O,!0)}_initKeyManager(){this._keyManager=new Pe.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,it.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,it.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const O=(0,xe.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,it.R)(O)).subscribe(Z=>{this._onSelect(Z.source,Z.isUserInput),Z.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,xe.T)(...this.options.map(Z=>Z._stateChanges)).pipe((0,it.R)(O)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(O,Z){const ie=this._selectionModel.isSelected(O);null!=O.value||this._multiple?(ie!==O.selected&&(O.selected?this._selectionModel.select(O):this._selectionModel.deselect(O)),Z&&this._keyManager.setActiveItem(O),this.multiple&&(this._sortValues(),Z&&this.focus())):(O.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(O.value)),ie!==this._selectionModel.isSelected(O)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const O=this.options.toArray();this._selectionModel.sort((Z,ie)=>this.sortComparator?this.sortComparator(Z,ie,O):O.indexOf(Z)-O.indexOf(ie)),this.stateChanges.next()}}_propagateChanges(O){let Z=null;Z=this.multiple?this.selected.map(ie=>ie.value):this.selected?this.selected.value:O,this._value=Z,this.valueChange.emit(Z),this._onChange(Z),this.selectionChange.emit(this._getChangeEvent(Z)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var O;return!this._panelOpen&&!this.disabled&&(null===(O=this.options)||void 0===O?void 0:O.length)>0}focus(O){this._elementRef.nativeElement.focus(O)}_getPanelAriaLabelledby(){var O;if(this.ariaLabel)return null;const Z=null===(O=this._parentFormField)||void 0===O?void 0:O.getLabelId();return this.ariaLabelledby?(Z?Z+" ":"")+this.ariaLabelledby:Z}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var O;if(this.ariaLabel)return null;const Z=null===(O=this._parentFormField)||void 0===O?void 0:O.getLabelId();let ie=(Z?Z+" ":"")+this._valueId;return this.ariaLabelledby&&(ie+=" "+this.ariaLabelledby),ie}_panelDoneAnimating(O){this.openedChange.emit(O)}setDescribedByIds(O){this._ariaDescribedby=O.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return cn.\u0275fac=function(O){return new(O||cn)(g.Y36(Ie.rL),g.Y36(g.sBO),g.Y36(g.R0b),g.Y36($.rD),g.Y36(g.SBq),g.Y36(fe.Is,8),g.Y36(pe.F,8),g.Y36(pe.sg,8),g.Y36(we.G_,8),g.Y36(pe.a5,10),g.$8M("tabindex"),g.Y36(Ot),g.Y36(Pe.Kd),g.Y36(bt,8))},cn.\u0275dir=g.lG2({type:cn,viewQuery:function(O,Z){if(1&O&&(g.Gf(Se,5),g.Gf(De,5),g.Gf(h.pI,5)),2&O){let ie;g.iGM(ie=g.CRH())&&(Z.trigger=ie.first),g.iGM(ie=g.CRH())&&(Z.panel=ie.first),g.iGM(ie=g.CRH())&&(Z._overlayDir=ie.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[g.qOj,g.TTD]}),cn})(),fn=(()=>{class cn extends Fn{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(O,Z,ie){const ge=this._getItemHeight();return Math.min(Math.max(0,ge*O-Z+ge/2),ie)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,it.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Fe.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(O){const Z=(0,$.CB)(O,this.options,this.optionGroups),ie=this._getItemHeight();this.panel.nativeElement.scrollTop=0===O&&1===Z?0:(0,$.jH)((O+Z)*ie,ie,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(O){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(O)}_getChangeEvent(O){return new Ze(this,O)}_calculateOverlayOffsetX(){const O=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),Z=this._viewportRuler.getViewportSize(),ie=this._isRtl(),ge=this.multiple?56:32;let Ae;if(this.multiple)Ae=40;else if(this.disableOptionCentering)Ae=16;else{let gt=this._selectionModel.selected[0]||this.options.first;Ae=gt&&gt.group?32:16}ie||(Ae*=-1);const ue=0-(O.left+Ae-(ie?ge:0)),tt=O.right+Ae-Z.width+(ie?0:ge);ue>0?Ae+=ue+8:tt>0&&(Ae-=tt+8),this._overlayDir.offsetX=Math.round(Ae),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(O,Z,ie){const ge=this._getItemHeight(),Ae=(ge-this._triggerRect.height)/2,ue=Math.floor(256/ge);let tt;return this.disableOptionCentering?0:(tt=0===this._scrollTop?O*ge:this._scrollTop===ie?(O-(this._getItemCount()-ue))*ge+(ge-(this._getItemCount()*ge-256)%ge):Z-ge/2,Math.round(-1*tt-Ae))}_checkOverlayWithinViewport(O){const Z=this._getItemHeight(),ie=this._viewportRuler.getViewportSize(),ge=this._triggerRect.top-8,Ae=ie.height-this._triggerRect.bottom-8,ue=Math.abs(this._offsetY),gt=Math.min(this._getItemCount()*Z,256)-ue-this._triggerRect.height;gt>Ae?this._adjustPanelUp(gt,Ae):ue>ge?this._adjustPanelDown(ue,ge,O):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(O,Z){const ie=Math.round(O-Z);this._scrollTop-=ie,this._offsetY-=ie,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(O,Z,ie){const ge=Math.round(O-Z);if(this._scrollTop+=ge,this._offsetY+=ge,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=ie)return this._scrollTop=ie,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const O=this._getItemHeight(),Z=this._getItemCount(),ie=Math.min(Z*O,256),Ae=Z*O-ie;let ue;ue=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),ue+=(0,$.CB)(ue,this.options,this.optionGroups);const tt=ie/2;this._scrollTop=this._calculateOverlayScroll(ue,tt,Ae),this._offsetY=this._calculateOverlayOffsetY(ue,tt,Ae),this._checkOverlayWithinViewport(Ae)}_getOriginBasedOnOption(){const O=this._getItemHeight(),Z=(O-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-Z+O/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return cn.\u0275fac=function(){let ht;return function(Z){return(ht||(ht=g.n5z(cn)))(Z||cn)}}(),cn.\u0275cmp=g.Xpm({type:cn,selectors:[["mat-select"]],contentQueries:function(O,Z,ie){if(1&O&&(g.Suo(ie,sn,5),g.Suo(ie,$.ey,5),g.Suo(ie,$.K7,5)),2&O){let ge;g.iGM(ge=g.CRH())&&(Z.customTrigger=ge.first),g.iGM(ge=g.CRH())&&(Z.options=ge),g.iGM(ge=g.CRH())&&(Z.optionGroups=ge)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(O,Z){1&O&&g.NdJ("keydown",function(ge){return Z._handleKeydown(ge)})("focus",function(){return Z._onFocus()})("blur",function(){return Z._onBlur()}),2&O&&(g.uIk("id",Z.id)("tabindex",Z.tabIndex)("aria-controls",Z.panelOpen?Z.id+"-panel":null)("aria-expanded",Z.panelOpen)("aria-label",Z.ariaLabel||null)("aria-required",Z.required.toString())("aria-disabled",Z.disabled.toString())("aria-invalid",Z.errorState)("aria-describedby",Z._ariaDescribedby||null)("aria-activedescendant",Z._getAriaActiveDescendant()),g.ekj("mat-select-disabled",Z.disabled)("mat-select-invalid",Z.errorState)("mat-select-required",Z.required)("mat-select-empty",Z.empty)("mat-select-multiple",Z.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[g._Bn([{provide:we.Eo,useExisting:cn},{provide:$.HF,useExisting:cn}]),g.qOj],ngContentSelectors:We,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(O,Z){if(1&O&&(g.F$t(Ne),g.TgZ(0,"div",0,1),g.NdJ("click",function(){return Z.toggle()}),g.TgZ(3,"div",2),g.YNc(4,J,2,1,"span",3),g.YNc(5,Ue,3,2,"span",4),g.qZA(),g.TgZ(6,"div",5),g._UZ(7,"div",6),g.qZA()(),g.YNc(8,te,4,14,"ng-template",7),g.NdJ("backdropClick",function(){return Z.close()})("attach",function(){return Z._onAttached()})("detach",function(){return Z.close()})),2&O){const ie=g.MAs(1);g.uIk("aria-owns",Z.panelOpen?Z.id+"-panel":null),g.xp6(3),g.Q6J("ngSwitch",Z.empty),g.uIk("id",Z._valueId),g.xp6(1),g.Q6J("ngSwitchCase",!0),g.xp6(1),g.Q6J("ngSwitchCase",!1),g.xp6(3),g.Q6J("cdkConnectedOverlayPanelClass",Z._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Z._scrollStrategy)("cdkConnectedOverlayOrigin",ie)("cdkConnectedOverlayOpen",Z.panelOpen)("cdkConnectedOverlayPositions",Z._positions)("cdkConnectedOverlayMinWidth",null==Z._triggerRect?null:Z._triggerRect.width)("cdkConnectedOverlayOffsetY",Z._offsetY)}},directives:[h.xu,w.RF,w.n9,w.ED,h.pI,w.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[yt.transformPanelWrap,yt.transformPanel]},changeDetection:0}),cn})(),gn=(()=>{class cn{}return cn.\u0275fac=function(O){return new(O||cn)},cn.\u0275mod=g.oAB({type:cn}),cn.\u0275inj=g.cJS({providers:[Vt],imports:[[w.ez,h.U8,$.Ng,$.BQ],Ie.ZD,we.lN,$.Ng,$.BQ]}),cn})()},4889:($t,Xe,b)=>{b.d(Xe,{jA:()=>z,kh:()=>Ce,LW:()=>Ge,SJ:()=>Et});var h=b(5494),w=b(9808),g=b(5e3),$=b(508),we=b(3191),Ie=b(1159),Pe=b(7579),_e=b(4968),ne=b(6451),X=b(4004);function pe(bt){return(0,X.U)(()=>bt)}var ce=b(9300),ze=b(2722),xe=b(1884),He=b(5698),st=b(8675),Fe=b(8372),at=b(1777),ke=b(6360),Nt=b(5664),it=b(925),be=b(226);const fe=["*"],Se=["content"];function De(bt,Vt){if(1&bt){const Ze=g.EpF();g.TgZ(0,"div",2),g.NdJ("click",function(){return g.CHM(Ze),g.oxw()._onBackdropClicked()}),g.qZA()}if(2&bt){const Ze=g.oxw();g.ekj("mat-drawer-shown",Ze._isShowingBackdrop())}}function J(bt,Vt){1&bt&&(g.TgZ(0,"mat-drawer-content"),g.Hsn(1,2),g.qZA())}const Qe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],se=["mat-drawer","mat-drawer-content","*"],_t={transformDrawer:(0,at.X$)("transform",[(0,at.SB)("open, open-instant",(0,at.oB)({transform:"none",visibility:"visible"})),(0,at.SB)("void",(0,at.oB)({"box-shadow":"none",visibility:"hidden"})),(0,at.eR)("void => open-instant",(0,at.jt)("0ms")),(0,at.eR)("void <=> open, open-instant => void",(0,at.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},je=new g.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Ee(){return!1}}),$e=new g.OlP("MAT_DRAWER_CONTAINER");let Ge=(()=>{class bt extends h.PQ{constructor(Ze,St,sn,On,Fn){super(sn,On,Fn),this._changeDetectorRef=Ze,this._container=St}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return bt.\u0275fac=function(Ze){return new(Ze||bt)(g.Y36(g.sBO),g.Y36((0,g.Gpc)(()=>Ce)),g.Y36(g.SBq),g.Y36(h.mF),g.Y36(g.R0b))},bt.\u0275cmp=g.Xpm({type:bt,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(Ze,St){2&Ze&&g.Udp("margin-left",St._container._contentMargins.left,"px")("margin-right",St._container._contentMargins.right,"px")},features:[g._Bn([{provide:h.PQ,useExisting:bt}]),g.qOj],ngContentSelectors:fe,decls:1,vars:0,template:function(Ze,St){1&Ze&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),bt})(),z=(()=>{class bt{constructor(Ze,St,sn,On,Fn,fn,gn,cn){this._elementRef=Ze,this._focusTrapFactory=St,this._focusMonitor=sn,this._platform=On,this._ngZone=Fn,this._interactivityChecker=fn,this._doc=gn,this._container=cn,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Pe.x,this._animationEnd=new Pe.x,this._animationState="void",this.openedChange=new g.vpe(!0),this._openedStream=this.openedChange.pipe((0,ce.h)(ht=>ht),(0,X.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,ce.h)(ht=>ht.fromState!==ht.toState&&0===ht.toState.indexOf("open")),pe(void 0)),this._closedStream=this.openedChange.pipe((0,ce.h)(ht=>!ht),(0,X.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,ce.h)(ht=>ht.fromState!==ht.toState&&"void"===ht.toState),pe(void 0)),this._destroyed=new Pe.x,this.onPositionChanged=new g.vpe,this._modeChanged=new Pe.x,this.openedChange.subscribe(ht=>{ht?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,_e.R)(this._elementRef.nativeElement,"keydown").pipe((0,ce.h)(ht=>ht.keyCode===Ie.hY&&!this.disableClose&&!(0,Ie.Vb)(ht)),(0,ze.R)(this._destroyed)).subscribe(ht=>this._ngZone.run(()=>{this.close(),ht.stopPropagation(),ht.preventDefault()}))}),this._animationEnd.pipe((0,xe.x)((ht,O)=>ht.fromState===O.fromState&&ht.toState===O.toState)).subscribe(ht=>{const{fromState:O,toState:Z}=ht;(0===Z.indexOf("open")&&"void"===O||"void"===Z&&0===O.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(Ze){(Ze="end"===Ze?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(Ze),this._position=Ze,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(Ze){this._mode=Ze,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(Ze){this._disableClose=(0,we.Ig)(Ze)}get autoFocus(){const Ze=this._autoFocus;return null==Ze?"side"===this.mode?"dialog":"first-tabbable":Ze}set autoFocus(Ze){("true"===Ze||"false"===Ze||null==Ze)&&(Ze=(0,we.Ig)(Ze)),this._autoFocus=Ze}get opened(){return this._opened}set opened(Ze){this.toggle((0,we.Ig)(Ze))}_forceFocus(Ze,St){this._interactivityChecker.isFocusable(Ze)||(Ze.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const sn=()=>{Ze.removeEventListener("blur",sn),Ze.removeEventListener("mousedown",sn),Ze.removeAttribute("tabindex")};Ze.addEventListener("blur",sn),Ze.addEventListener("mousedown",sn)})),Ze.focus(St)}_focusByCssSelector(Ze,St){let sn=this._elementRef.nativeElement.querySelector(Ze);sn&&this._forceFocus(sn,St)}_takeFocus(){if(!this._focusTrap)return;const Ze=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(St=>{!St&&"function"==typeof this._elementRef.nativeElement.focus&&Ze.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(Ze){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,Ze):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const Ze=this._doc.activeElement;return!!Ze&&this._elementRef.nativeElement.contains(Ze)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var Ze;this._focusTrap&&this._focusTrap.destroy(),null===(Ze=this._anchor)||void 0===Ze||Ze.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(Ze){return this.toggle(!0,Ze)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(Ze=!this.opened,St){Ze&&St&&(this._openedVia=St);const sn=this._setOpen(Ze,!Ze&&this._isFocusWithinDrawer(),this._openedVia||"program");return Ze||(this._openedVia=null),sn}_setOpen(Ze,St,sn){return this._opened=Ze,Ze?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",St&&this._restoreFocus(sn)),this._updateFocusTrapState(),new Promise(On=>{this.openedChange.pipe((0,He.q)(1)).subscribe(Fn=>On(Fn?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(Ze){const St=this._elementRef.nativeElement,sn=St.parentNode;"end"===Ze?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),sn.insertBefore(this._anchor,St)),sn.appendChild(St)):this._anchor&&this._anchor.parentNode.insertBefore(St,this._anchor)}}return bt.\u0275fac=function(Ze){return new(Ze||bt)(g.Y36(g.SBq),g.Y36(Nt.qV),g.Y36(Nt.tE),g.Y36(it.t4),g.Y36(g.R0b),g.Y36(Nt.ic),g.Y36(w.K0,8),g.Y36($e,8))},bt.\u0275cmp=g.Xpm({type:bt,selectors:[["mat-drawer"]],viewQuery:function(Ze,St){if(1&Ze&&g.Gf(Se,5),2&Ze){let sn;g.iGM(sn=g.CRH())&&(St._content=sn.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(Ze,St){1&Ze&&g.WFA("@transform.start",function(On){return St._animationStarted.next(On)})("@transform.done",function(On){return St._animationEnd.next(On)}),2&Ze&&(g.uIk("align",null),g.d8E("@transform",St._animationState),g.ekj("mat-drawer-end","end"===St.position)("mat-drawer-over","over"===St.mode)("mat-drawer-push","push"===St.mode)("mat-drawer-side","side"===St.mode)("mat-drawer-opened",St.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:fe,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(Ze,St){1&Ze&&(g.F$t(),g.TgZ(0,"div",0,1),g.Hsn(2),g.qZA())},directives:[h.PQ],encapsulation:2,data:{animation:[_t.transformDrawer]},changeDetection:0}),bt})(),Ce=(()=>{class bt{constructor(Ze,St,sn,On,Fn,fn=!1,gn){this._dir=Ze,this._element=St,this._ngZone=sn,this._changeDetectorRef=On,this._animationMode=gn,this._drawers=new g.n_E,this.backdropClick=new g.vpe,this._destroyed=new Pe.x,this._doCheckSubject=new Pe.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Pe.x,Ze&&Ze.change.pipe((0,ze.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Fn.change().pipe((0,ze.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=fn}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(Ze){this._autosize=(0,we.Ig)(Ze)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(Ze){this._backdropOverride=null==Ze?null:(0,we.Ig)(Ze)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,st.O)(this._allDrawers),(0,ze.R)(this._destroyed)).subscribe(Ze=>{this._drawers.reset(Ze.filter(St=>!St._container||St._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,st.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(Ze=>{this._watchDrawerToggle(Ze),this._watchDrawerPosition(Ze),this._watchDrawerMode(Ze)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Fe.b)(10),(0,ze.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(Ze=>Ze.open())}close(){this._drawers.forEach(Ze=>Ze.close())}updateContentMargins(){let Ze=0,St=0;if(this._left&&this._left.opened)if("side"==this._left.mode)Ze+=this._left._getWidth();else if("push"==this._left.mode){const sn=this._left._getWidth();Ze+=sn,St-=sn}if(this._right&&this._right.opened)if("side"==this._right.mode)St+=this._right._getWidth();else if("push"==this._right.mode){const sn=this._right._getWidth();St+=sn,Ze-=sn}Ze=Ze||null,St=St||null,(Ze!==this._contentMargins.left||St!==this._contentMargins.right)&&(this._contentMargins={left:Ze,right:St},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(Ze){Ze._animationStarted.pipe((0,ce.h)(St=>St.fromState!==St.toState),(0,ze.R)(this._drawers.changes)).subscribe(St=>{"open-instant"!==St.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==Ze.mode&&Ze.openedChange.pipe((0,ze.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(Ze.opened))}_watchDrawerPosition(Ze){!Ze||Ze.onPositionChanged.pipe((0,ze.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,He.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(Ze){Ze&&Ze._modeChanged.pipe((0,ze.R)((0,ne.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(Ze){const St=this._element.nativeElement.classList,sn="mat-drawer-container-has-open";Ze?St.add(sn):St.remove(sn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(Ze=>{"end"==Ze.position?this._end=Ze:this._start=Ze}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(Ze=>Ze&&!Ze.disableClose&&this._canHaveBackdrop(Ze)).forEach(Ze=>Ze._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(Ze){return"side"!==Ze.mode||!!this._backdropOverride}_isDrawerOpen(Ze){return null!=Ze&&Ze.opened}}return bt.\u0275fac=function(Ze){return new(Ze||bt)(g.Y36(be.Is,8),g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(g.sBO),g.Y36(h.rL),g.Y36(je),g.Y36(ke.Qb,8))},bt.\u0275cmp=g.Xpm({type:bt,selectors:[["mat-drawer-container"]],contentQueries:function(Ze,St,sn){if(1&Ze&&(g.Suo(sn,Ge,5),g.Suo(sn,z,5)),2&Ze){let On;g.iGM(On=g.CRH())&&(St._content=On.first),g.iGM(On=g.CRH())&&(St._allDrawers=On)}},viewQuery:function(Ze,St){if(1&Ze&&g.Gf(Ge,5),2&Ze){let sn;g.iGM(sn=g.CRH())&&(St._userContent=sn.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(Ze,St){2&Ze&&g.ekj("mat-drawer-container-explicit-backdrop",St._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[g._Bn([{provide:$e,useExisting:bt}])],ngContentSelectors:se,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Ze,St){1&Ze&&(g.F$t(Qe),g.YNc(0,De,1,2,"div",0),g.Hsn(1),g.Hsn(2,1),g.YNc(3,J,2,0,"mat-drawer-content",1)),2&Ze&&(g.Q6J("ngIf",St.hasBackdrop),g.xp6(3),g.Q6J("ngIf",!St._content))},directives:[Ge,w.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),bt})(),Et=(()=>{class bt{}return bt.\u0275fac=function(Ze){return new(Ze||bt)},bt.\u0275mod=g.oAB({type:bt}),bt.\u0275inj=g.cJS({imports:[[w.ez,$.BQ,h.ZD],h.ZD,$.BQ]}),bt})()},7261:($t,Xe,b)=>{b.d(Xe,{qD:()=>st,ux:()=>Qe,ZX:()=>fe});var h=b(9776),w=b(7429),g=b(9808),$=b(5e3),we=b(508),Ie=b(7423),Pe=b(7579),_e=b(5698),ne=b(2722),X=b(1777),pe=b(925),ce=b(5113),ze=b(5664);function xe(se,Ue){if(1&se){const te=$.EpF();$.TgZ(0,"div",2)(1,"button",3),$.NdJ("click",function(){return $.CHM(te),$.oxw().action()}),$._uU(2),$.qZA()()}if(2&se){const te=$.oxw();$.xp6(2),$.Oqu(te.data.action)}}function He(se,Ue){}const st=new $.OlP("MatSnackBarData");class Fe{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const at=Math.pow(2,31)-1;class ke{constructor(Ue,te){this._overlayRef=te,this._afterDismissed=new Pe.x,this._afterOpened=new Pe.x,this._onAction=new Pe.x,this._dismissedByAction=!1,this.containerInstance=Ue,Ue._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ue){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ue,at))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Nt=(()=>{class se{constructor(te,Ne){this.snackBarRef=te,this.data=Ne}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return se.\u0275fac=function(te){return new(te||se)($.Y36(ke),$.Y36(st))},se.\u0275cmp=$.Xpm({type:se,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(te,Ne){1&te&&($.TgZ(0,"span",0),$._uU(1),$.qZA(),$.YNc(2,xe,3,1,"div",1)),2&te&&($.xp6(1),$.Oqu(Ne.data.message),$.xp6(1),$.Q6J("ngIf",Ne.hasAction))},directives:[Ie.lW,g.O5],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),se})();const it={snackBarState:(0,X.X$)("state",[(0,X.SB)("void, hidden",(0,X.oB)({transform:"scale(0.8)",opacity:0})),(0,X.SB)("visible",(0,X.oB)({transform:"scale(1)",opacity:1})),(0,X.eR)("* => visible",(0,X.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,X.eR)("* => void, * => hidden",(0,X.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,X.oB)({opacity:0})))])};let be=(()=>{class se extends w.en{constructor(te,Ne,We,yt,_t){super(),this._ngZone=te,this._elementRef=Ne,this._changeDetectorRef=We,this._platform=yt,this.snackBarConfig=_t,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Pe.x,this._onExit=new Pe.x,this._onEnter=new Pe.x,this._animationState="void",this.attachDomPortal=Je=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(Je)),this._live="assertive"!==_t.politeness||_t.announcementMessage?"off"===_t.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(te){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(te)}attachTemplatePortal(te){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(te)}onAnimationEnd(te){const{fromState:Ne,toState:We}=te;if(("void"===We&&"void"!==Ne||"hidden"===We)&&this._completeExit(),"visible"===We){const yt=this._onEnter;this._ngZone.run(()=>{yt.next(),yt.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,_e.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const te=this._elementRef.nativeElement,Ne=this.snackBarConfig.panelClass;Ne&&(Array.isArray(Ne)?Ne.forEach(We=>te.classList.add(We)):te.classList.add(Ne)),"center"===this.snackBarConfig.horizontalPosition&&te.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&te.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const te=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Ne=this._elementRef.nativeElement.querySelector("[aria-live]");if(te&&Ne){let We=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&te.contains(document.activeElement)&&(We=document.activeElement),te.removeAttribute("aria-hidden"),Ne.appendChild(te),null==We||We.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return se.\u0275fac=function(te){return new(te||se)($.Y36($.R0b),$.Y36($.SBq),$.Y36($.sBO),$.Y36(pe.t4),$.Y36(Fe))},se.\u0275cmp=$.Xpm({type:se,selectors:[["snack-bar-container"]],viewQuery:function(te,Ne){if(1&te&&$.Gf(w.Pl,7),2&te){let We;$.iGM(We=$.CRH())&&(Ne._portalOutlet=We.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(te,Ne){1&te&&$.WFA("@state.done",function(yt){return Ne.onAnimationEnd(yt)}),2&te&&$.d8E("@state",Ne._animationState)},features:[$.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(te,Ne){1&te&&($.TgZ(0,"div",0),$.YNc(1,He,0,0,"ng-template",1),$.qZA(),$._UZ(2,"div")),2&te&&($.xp6(2),$.uIk("aria-live",Ne._live)("role",Ne._role))},directives:[w.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[it.snackBarState]}}),se})(),fe=(()=>{class se{}return se.\u0275fac=function(te){return new(te||se)},se.\u0275mod=$.oAB({type:se}),se.\u0275inj=$.cJS({imports:[[h.U8,w.eL,g.ez,Ie.ot,we.BQ],we.BQ]}),se})();const Se=new $.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function De(){return new Fe}});let J=(()=>{class se{constructor(te,Ne,We,yt,_t,Je){this._overlay=te,this._live=Ne,this._injector=We,this._breakpointObserver=yt,this._parentSnackBar=_t,this._defaultConfig=Je,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const te=this._parentSnackBar;return te?te._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(te){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=te:this._snackBarRefAtThisLevel=te}openFromComponent(te,Ne){return this._attach(te,Ne)}openFromTemplate(te,Ne){return this._attach(te,Ne)}open(te,Ne="",We){const yt=Object.assign(Object.assign({},this._defaultConfig),We);return yt.data={message:te,action:Ne},yt.announcementMessage===te&&(yt.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,yt)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(te,Ne){const yt=$.zs3.create({parent:Ne&&Ne.viewContainerRef&&Ne.viewContainerRef.injector||this._injector,providers:[{provide:Fe,useValue:Ne}]}),_t=new w.C5(this.snackBarContainerComponent,Ne.viewContainerRef,yt),Je=te.attach(_t);return Je.instance.snackBarConfig=Ne,Je.instance}_attach(te,Ne){const We=Object.assign(Object.assign(Object.assign({},new Fe),this._defaultConfig),Ne),yt=this._createOverlay(We),_t=this._attachSnackBarContainer(yt,We),Je=new ke(_t,yt);if(te instanceof $.Rgc){const je=new w.UE(te,null,{$implicit:We.data,snackBarRef:Je});Je.instance=_t.attachTemplatePortal(je)}else{const je=this._createInjector(We,Je),$e=new w.C5(te,void 0,je),Ee=_t.attachComponentPortal($e);Je.instance=Ee.instance}return this._breakpointObserver.observe(ce.u3.HandsetPortrait).pipe((0,ne.R)(yt.detachments())).subscribe(je=>{yt.overlayElement.classList.toggle(this.handsetCssClass,je.matches)}),We.announcementMessage&&_t._onAnnounce.subscribe(()=>{this._live.announce(We.announcementMessage,We.politeness)}),this._animateSnackBar(Je,We),this._openedSnackBarRef=Je,this._openedSnackBarRef}_animateSnackBar(te,Ne){te.afterDismissed().subscribe(()=>{this._openedSnackBarRef==te&&(this._openedSnackBarRef=null),Ne.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{te.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):te.containerInstance.enter(),Ne.duration&&Ne.duration>0&&te.afterOpened().subscribe(()=>te._dismissAfter(Ne.duration))}_createOverlay(te){const Ne=new h.X_;Ne.direction=te.direction;let We=this._overlay.position().global();const yt="rtl"===te.direction,_t="left"===te.horizontalPosition||"start"===te.horizontalPosition&&!yt||"end"===te.horizontalPosition&&yt,Je=!_t&&"center"!==te.horizontalPosition;return _t?We.left("0"):Je?We.right("0"):We.centerHorizontally(),"top"===te.verticalPosition?We.top("0"):We.bottom("0"),Ne.positionStrategy=We,this._overlay.create(Ne)}_createInjector(te,Ne){return $.zs3.create({parent:te&&te.viewContainerRef&&te.viewContainerRef.injector||this._injector,providers:[{provide:ke,useValue:Ne},{provide:st,useValue:te.data}]})}}return se.\u0275fac=function(te){return new(te||se)($.LFG(h.aV),$.LFG(ze.Kd),$.LFG($.zs3),$.LFG(ce.Yg),$.LFG(se,12),$.LFG(Se))},se.\u0275prov=$.Yz7({token:se,factory:se.\u0275fac}),se})(),Qe=(()=>{class se extends J{constructor(te,Ne,We,yt,_t,Je){super(te,Ne,We,yt,_t,Je),this.simpleSnackBarComponent=Nt,this.snackBarContainerComponent=be,this.handsetCssClass="mat-snack-bar-handset"}}return se.\u0275fac=function(te){return new(te||se)($.LFG(h.aV),$.LFG(ze.Kd),$.LFG($.zs3),$.LFG(ce.Yg),$.LFG(se,12),$.LFG(Se))},se.\u0275prov=$.Yz7({token:se,factory:se.\u0275fac,providedIn:fe}),se})()},4594:($t,Xe,b)=>{b.d(Xe,{Ye:()=>ne,g0:()=>pe});var h=b(5e3),w=b(508),g=b(9808),$=b(925);const we=["*",[["mat-toolbar-row"]]],Ie=["*","mat-toolbar-row"],Pe=(0,w.pj)(class{constructor(ce){this._elementRef=ce}});let _e=(()=>{class ce{}return ce.\u0275fac=function(xe){return new(xe||ce)},ce.\u0275dir=h.lG2({type:ce,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),ce})(),ne=(()=>{class ce extends Pe{constructor(xe,He,st){super(xe),this._platform=He,this._document=st}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return ce.\u0275fac=function(xe){return new(xe||ce)(h.Y36(h.SBq),h.Y36($.t4),h.Y36(g.K0))},ce.\u0275cmp=h.Xpm({type:ce,selectors:[["mat-toolbar"]],contentQueries:function(xe,He,st){if(1&xe&&h.Suo(st,_e,5),2&xe){let Fe;h.iGM(Fe=h.CRH())&&(He._toolbarRows=Fe)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(xe,He){2&xe&&h.ekj("mat-toolbar-multiple-rows",He._toolbarRows.length>0)("mat-toolbar-single-row",0===He._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:Ie,decls:2,vars:0,template:function(xe,He){1&xe&&(h.F$t(we),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),ce})(),pe=(()=>{class ce{}return ce.\u0275fac=function(xe){return new(xe||ce)},ce.\u0275mod=h.oAB({type:ce}),ce.\u0275inj=h.cJS({imports:[[w.BQ],w.BQ]}),ce})()},7238:($t,Xe,b)=>{b.d(Xe,{gM:()=>Ne,AV:()=>_t});var h=b(9776),w=b(5664),g=b(9808),$=b(5e3),we=b(508),Ie=b(5494),Pe=b(3191),_e=b(1159),ne=b(5113),X=b(925),pe=b(7429),ce=b(6360),ze=b(7579),xe=b(2722),He=b(5698),st=b(226);b(1777);const at=["tooltip"],it="tooltip-panel",be=(0,X.i$)({passive:!0}),De=new $.OlP("mat-tooltip-scroll-strategy"),Qe={provide:De,deps:[h.aV],useFactory:function J(je){return()=>je.scrollStrategies.reposition({scrollThrottle:20})}},se=new $.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Ue(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let te=(()=>{class je{constructor(Ee,Ge,z,Ce,Rt,pt,Ot,Et,bt,Vt,Ze,St){this._overlay=Ee,this._elementRef=Ge,this._scrollDispatcher=z,this._viewContainerRef=Ce,this._ngZone=Rt,this._platform=pt,this._ariaDescriber=Ot,this._focusMonitor=Et,this._dir=Vt,this._defaultOptions=Ze,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ze.x,this._scrollStrategy=bt,this._document=St,Ze&&(Ze.position&&(this.position=Ze.position),Ze.touchGestures&&(this.touchGestures=Ze.touchGestures)),Vt.change.pipe((0,xe.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(Ee){var Ge;Ee!==this._position&&(this._position=Ee,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(Ge=this._tooltipInstance)||void 0===Ge||Ge.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(Ee){this._disabled=(0,Pe.Ig)(Ee),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(Ee){this._showDelay=(0,Pe.su)(Ee)}get hideDelay(){return this._hideDelay}set hideDelay(Ee){this._hideDelay=(0,Pe.su)(Ee),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(Ee){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=Ee?String(Ee).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(Ee){this._tooltipClass=Ee,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,xe.R)(this._destroyed)).subscribe(Ee=>{Ee?"keyboard"===Ee&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const Ee=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Ge,z])=>{Ee.removeEventListener(Ge,z,be)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(Ee,this.message,"tooltip"),this._focusMonitor.stopMonitoring(Ee)}show(Ee=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const Ge=this._createOverlay();this._detach(),this._portal=this._portal||new pe.C5(this._tooltipComponent,this._viewContainerRef);const z=this._tooltipInstance=Ge.attach(this._portal).instance;z._triggerElement=this._elementRef.nativeElement,z._mouseLeaveHideDelay=this._hideDelay,z.afterHidden().pipe((0,xe.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),z.show(Ee)}hide(Ee=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(Ee)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var Ee;if(this._overlayRef)return this._overlayRef;const Ge=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),z=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Ge);return z.positionChanges.pipe((0,xe.R)(this._destroyed)).subscribe(Ce=>{this._updateCurrentPositionClass(Ce.connectionPair),this._tooltipInstance&&Ce.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:z,panelClass:`${this._cssClassPrefix}-${it}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,xe.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,xe.R)(this._destroyed)).subscribe(()=>{var Ce;return null===(Ce=this._tooltipInstance)||void 0===Ce?void 0:Ce._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe((0,xe.R)(this._destroyed)).subscribe(Ce=>{this._isTooltipVisible()&&Ce.keyCode===_e.hY&&!(0,_e.Vb)(Ce)&&(Ce.preventDefault(),Ce.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(Ee=this._defaultOptions)||void 0===Ee?void 0:Ee.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(Ee){const Ge=Ee.getConfig().positionStrategy,z=this._getOrigin(),Ce=this._getOverlayPosition();Ge.withPositions([this._addOffset(Object.assign(Object.assign({},z.main),Ce.main)),this._addOffset(Object.assign(Object.assign({},z.fallback),Ce.fallback))])}_addOffset(Ee){return Ee}_getOrigin(){const Ee=!this._dir||"ltr"==this._dir.value,Ge=this.position;let z;"above"==Ge||"below"==Ge?z={originX:"center",originY:"above"==Ge?"top":"bottom"}:"before"==Ge||"left"==Ge&&Ee||"right"==Ge&&!Ee?z={originX:"start",originY:"center"}:("after"==Ge||"right"==Ge&&Ee||"left"==Ge&&!Ee)&&(z={originX:"end",originY:"center"});const{x:Ce,y:Rt}=this._invertPosition(z.originX,z.originY);return{main:z,fallback:{originX:Ce,originY:Rt}}}_getOverlayPosition(){const Ee=!this._dir||"ltr"==this._dir.value,Ge=this.position;let z;"above"==Ge?z={overlayX:"center",overlayY:"bottom"}:"below"==Ge?z={overlayX:"center",overlayY:"top"}:"before"==Ge||"left"==Ge&&Ee||"right"==Ge&&!Ee?z={overlayX:"end",overlayY:"center"}:("after"==Ge||"right"==Ge&&Ee||"left"==Ge&&!Ee)&&(z={overlayX:"start",overlayY:"center"});const{x:Ce,y:Rt}=this._invertPosition(z.overlayX,z.overlayY);return{main:z,fallback:{overlayX:Ce,overlayY:Rt}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,He.q)(1),(0,xe.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(Ee){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=Ee,this._tooltipInstance._markForCheck())}_invertPosition(Ee,Ge){return"above"===this.position||"below"===this.position?"top"===Ge?Ge="bottom":"bottom"===Ge&&(Ge="top"):"end"===Ee?Ee="start":"start"===Ee&&(Ee="end"),{x:Ee,y:Ge}}_updateCurrentPositionClass(Ee){const{overlayY:Ge,originX:z,originY:Ce}=Ee;let Rt;if(Rt="center"===Ge?this._dir&&"rtl"===this._dir.value?"end"===z?"left":"right":"start"===z?"left":"right":"bottom"===Ge&&"top"===Ce?"above":"below",Rt!==this._currentPosition){const pt=this._overlayRef;if(pt){const Ot=`${this._cssClassPrefix}-${it}-`;pt.removePanelClass(Ot+this._currentPosition),pt.addPanelClass(Ot+Rt)}this._currentPosition=Rt}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const Ee=[];if(this._platformSupportsMouseEvents())Ee.push(["mouseleave",Ge=>{var z;const Ce=Ge.relatedTarget;(!Ce||!(null===(z=this._overlayRef)||void 0===z?void 0:z.overlayElement.contains(Ce)))&&this.hide()}],["wheel",Ge=>this._wheelListener(Ge)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Ge=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};Ee.push(["touchend",Ge],["touchcancel",Ge])}this._addListeners(Ee),this._passiveListeners.push(...Ee)}_addListeners(Ee){Ee.forEach(([Ge,z])=>{this._elementRef.nativeElement.addEventListener(Ge,z,be)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(Ee){if(this._isTooltipVisible()){const Ge=this._document.elementFromPoint(Ee.clientX,Ee.clientY),z=this._elementRef.nativeElement;Ge!==z&&!z.contains(Ge)&&this.hide()}}_disableNativeGesturesIfNecessary(){const Ee=this.touchGestures;if("off"!==Ee){const Ge=this._elementRef.nativeElement,z=Ge.style;("on"===Ee||"INPUT"!==Ge.nodeName&&"TEXTAREA"!==Ge.nodeName)&&(z.userSelect=z.msUserSelect=z.webkitUserSelect=z.MozUserSelect="none"),("on"===Ee||!Ge.draggable)&&(z.webkitUserDrag="none"),z.touchAction="none",z.webkitTapHighlightColor="transparent"}}}return je.\u0275fac=function(Ee){$.$Z()},je.\u0275dir=$.lG2({type:je,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),je})(),Ne=(()=>{class je extends te{constructor(Ee,Ge,z,Ce,Rt,pt,Ot,Et,bt,Vt,Ze,St){super(Ee,Ge,z,Ce,Rt,pt,Ot,Et,bt,Vt,Ze,St),this._tooltipComponent=yt}}return je.\u0275fac=function(Ee){return new(Ee||je)($.Y36(h.aV),$.Y36($.SBq),$.Y36(Ie.mF),$.Y36($.s_b),$.Y36($.R0b),$.Y36(X.t4),$.Y36(w.$s),$.Y36(w.tE),$.Y36(De),$.Y36(st.Is,8),$.Y36(se,8),$.Y36(g.K0))},je.\u0275dir=$.lG2({type:je,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[$.qOj]}),je})(),We=(()=>{class je{constructor(Ee,Ge){this._changeDetectorRef=Ee,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ze.x,this._animationsDisabled="NoopAnimations"===Ge}show(Ee){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},Ee)}hide(Ee){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},Ee)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:Ee}){(!Ee||!this._triggerElement.contains(Ee))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:Ee}){(Ee===this._showAnimation||Ee===this._hideAnimation)&&this._finalizeAnimation(Ee===this._showAnimation)}_finalizeAnimation(Ee){Ee?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(Ee){const Ge=this._tooltip.nativeElement,z=this._showAnimation,Ce=this._hideAnimation;if(Ge.classList.remove(Ee?Ce:z),Ge.classList.add(Ee?z:Ce),this._isVisible=Ee,Ee&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Rt=getComputedStyle(Ge);("0s"===Rt.getPropertyValue("animation-duration")||"none"===Rt.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}Ee&&this._onShow(),this._animationsDisabled&&(Ge.classList.add("_mat-animation-noopable"),this._finalizeAnimation(Ee))}}return je.\u0275fac=function(Ee){return new(Ee||je)($.Y36($.sBO),$.Y36(ce.Qb,8))},je.\u0275dir=$.lG2({type:je}),je})(),yt=(()=>{class je extends We{constructor(Ee,Ge,z){super(Ee,z),this._breakpointObserver=Ge,this._isHandset=this._breakpointObserver.observe(ne.u3.Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return je.\u0275fac=function(Ee){return new(Ee||je)($.Y36($.sBO),$.Y36(ne.Yg),$.Y36(ce.Qb,8))},je.\u0275cmp=$.Xpm({type:je,selectors:[["mat-tooltip-component"]],viewQuery:function(Ee,Ge){if(1&Ee&&$.Gf(at,7),2&Ee){let z;$.iGM(z=$.CRH())&&(Ge._tooltip=z.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Ee,Ge){1&Ee&&$.NdJ("mouseleave",function(Ce){return Ge._handleMouseLeave(Ce)}),2&Ee&&$.Udp("zoom",Ge.isVisible()?1:null)},features:[$.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(Ee,Ge){if(1&Ee&&($.TgZ(0,"div",0,1),$.NdJ("animationend",function(Ce){return Ge._handleAnimationEnd(Ce)}),$.ALo(2,"async"),$._uU(3),$.qZA()),2&Ee){let z;$.ekj("mat-tooltip-handset",null==(z=$.lcZ(2,4,Ge._isHandset))?null:z.matches),$.Q6J("ngClass",Ge.tooltipClass),$.xp6(3),$.Oqu(Ge.message)}},directives:[g.mk],pipes:[g.Ov],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),je})(),_t=(()=>{class je{}return je.\u0275fac=function(Ee){return new(Ee||je)},je.\u0275mod=$.oAB({type:je}),je.\u0275inj=$.cJS({providers:[Qe],imports:[[w.rt,g.ez,h.U8,we.BQ],we.BQ,Ie.ZD]}),je})()},149:($t,Xe,b)=>{b.d(Xe,{gi:()=>st,kc:()=>it,JZ:()=>Nt,dp:()=>ke,uo:()=>pe,fQ:()=>ce,ah:()=>xe});var h=b(2379),w=b(5e3),g=b(508),we=(b(3191),b(449)),Ie=b(1135),Pe=b(6451),_e=b(5698),ne=b(4004);const X=(0,g.sb)((0,g.Id)(h.Hs));let pe=(()=>{class fe extends X{constructor(De,J,Qe){super(De,J),this.tabIndex=Number(Qe)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return fe.\u0275fac=function(De){return new(De||fe)(w.Y36(w.SBq),w.Y36(h._0),w.$8M("tabindex"))},fe.\u0275dir=w.lG2({type:fe,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[w._Bn([{provide:h.Hs,useExisting:fe}]),w.qOj]}),fe})(),ce=(()=>{class fe extends h.rO{}return fe.\u0275fac=function(){let Se;return function(J){return(Se||(Se=w.n5z(fe)))(J||fe)}}(),fe.\u0275dir=w.lG2({type:fe,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[w._Bn([{provide:h.rO,useExisting:fe}]),w.qOj]}),fe})(),xe=(()=>{class fe extends h.XJ{get level(){return this._level}set level(De){this._setLevelInput(De)}get indent(){return this._indent}set indent(De){this._setIndentInput(De)}}return fe.\u0275fac=function(){let Se;return function(J){return(Se||(Se=w.n5z(fe)))(J||fe)}}(),fe.\u0275dir=w.lG2({type:fe,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[w._Bn([{provide:h.XJ,useExisting:fe}]),w.qOj]}),fe})(),He=(()=>{class fe{constructor(De,J){this.viewContainer=De,this._node=J}}return fe.\u0275fac=function(De){return new(De||fe)(w.Y36(w.s_b),w.Y36(h.HI,8))},fe.\u0275dir=w.lG2({type:fe,selectors:[["","matTreeNodeOutlet",""]],features:[w._Bn([{provide:h.cu,useExisting:fe}])]}),fe})(),st=(()=>{class fe extends h._0{}return fe.\u0275fac=function(){let Se;return function(J){return(Se||(Se=w.n5z(fe)))(J||fe)}}(),fe.\u0275cmp=w.Xpm({type:fe,selectors:[["mat-tree"]],viewQuery:function(De,J){if(1&De&&w.Gf(He,7),2&De){let Qe;w.iGM(Qe=w.CRH())&&(J._nodeOutlet=Qe.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[w._Bn([{provide:h._0,useExisting:fe}]),w.qOj],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(De,J){1&De&&w.GkF(0,0)},directives:[He],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),fe})(),ke=(()=>{class fe{}return fe.\u0275fac=function(De){return new(De||fe)},fe.\u0275mod=w.oAB({type:fe}),fe.\u0275inj=w.cJS({imports:[[h.nZ,g.BQ],g.BQ]}),fe})();class Nt{constructor(Se,De,J,Qe){this.transformFunction=Se,this.getLevel=De,this.isExpandable=J,this.getChildren=Qe}_flattenNode(Se,De,J,Qe){const se=this.transformFunction(Se,De);if(J.push(se),this.isExpandable(se)){const Ue=this.getChildren(Se);Ue&&(Array.isArray(Ue)?this._flattenChildren(Ue,De,J,Qe):Ue.pipe((0,_e.q)(1)).subscribe(te=>{this._flattenChildren(te,De,J,Qe)}))}return J}_flattenChildren(Se,De,J,Qe){Se.forEach((se,Ue)=>{let te=Qe.slice();te.push(Ue!=Se.length-1),this._flattenNode(se,De+1,J,te)})}flattenNodes(Se){let De=[];return Se.forEach(J=>this._flattenNode(J,0,De,[])),De}expandFlattenedNodes(Se,De){let J=[],Qe=[];return Qe[0]=!0,Se.forEach(se=>{let Ue=!0;for(let te=0;te<=this.getLevel(se);te++)Ue=Ue&&Qe[te];Ue&&J.push(se),this.isExpandable(se)&&(Qe[this.getLevel(se)+1]=De.isExpanded(se))}),J}}class it extends we.o2{constructor(Se,De,J){super(),this._treeControl=Se,this._treeFlattener=De,this._flattenedData=new Ie.X([]),this._expandedData=new Ie.X([]),this._data=new Ie.X([]),J&&(this.data=J)}get data(){return this._data.value}set data(Se){this._data.next(Se),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(Se){return(0,Pe.T)(Se.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,ne.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}},6360:($t,Xe,b)=>{b.d(Xe,{Qb:()=>sa,PW:()=>Ls});var h=b(5e3),w=b(2313),g=b(1777);const $=!1;function Ie(ee){return new h.vHH(3e3,$)}function Rt(){return"undefined"!=typeof window&&void 0!==window.document}function pt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ot(ee){switch(ee.length){case 0:return new g.ZN;case 1:return ee[0];default:return new g.ZE(ee)}}function Et(ee,y,E,N,re={},Oe={}){const rt=[],ot=[];let Mt=-1,Wt=null;if(N.forEach(Dn=>{const Rn=Dn.offset,zn=Rn==Mt,ci=zn&&Wt||{};Object.keys(Dn).forEach(kn=>{let Zn=kn,ki=Dn[kn];if("offset"!==kn)switch(Zn=y.normalizePropertyName(Zn,rt),ki){case g.k1:ki=re[kn];break;case g.l3:ki=Oe[kn];break;default:ki=y.normalizeStyleValue(kn,Zn,ki,rt)}ci[Zn]=ki}),zn||ot.push(ci),Wt=ci,Mt=Rn}),rt.length)throw function te(ee){return new h.vHH(3502,$)}();return ot}function bt(ee,y,E,N){switch(y){case"start":ee.onStart(()=>N(E&&Vt(E,"start",ee)));break;case"done":ee.onDone(()=>N(E&&Vt(E,"done",ee)));break;case"destroy":ee.onDestroy(()=>N(E&&Vt(E,"destroy",ee)))}}function Vt(ee,y,E){const N=E.totalTime,Oe=Ze(ee.element,ee.triggerName,ee.fromState,ee.toState,y||ee.phaseName,null==N?ee.totalTime:N,!!E.disabled),rt=ee._data;return null!=rt&&(Oe._data=rt),Oe}function Ze(ee,y,E,N,re="",Oe=0,rt){return{element:ee,triggerName:y,fromState:E,toState:N,phaseName:re,totalTime:Oe,disabled:!!rt}}function St(ee,y,E){let N;return ee instanceof Map?(N=ee.get(y),N||ee.set(y,N=E)):(N=ee[y],N||(N=ee[y]=E)),N}function sn(ee){const y=ee.indexOf(":");return[ee.substring(1,y),ee.substr(y+1)]}let On=(ee,y)=>!1,Fn=(ee,y,E)=>[],fn=null;function gn(ee){const y=ee.parentNode||ee.host;return y===fn?null:y}(pt()||"undefined"!=typeof Element)&&(Rt()?(fn=(()=>document.documentElement)(),On=(ee,y)=>{for(;y;){if(y===ee)return!0;y=gn(y)}return!1}):On=(ee,y)=>ee.contains(y),Fn=(ee,y,E)=>{if(E)return Array.from(ee.querySelectorAll(y));const N=ee.querySelector(y);return N?[N]:[]});let O=null,Z=!1;function ie(ee){O||(O=function ge(){return"undefined"!=typeof document?document.body:null}()||{},Z=!!O.style&&"WebkitAppearance"in O.style);let y=!0;return O.style&&!function ht(ee){return"ebkit"==ee.substring(1,6)}(ee)&&(y=ee in O.style,!y&&Z&&(y="Webkit"+ee.charAt(0).toUpperCase()+ee.substr(1)in O.style)),y}const Ae=On,ue=Fn;let gt=(()=>{class ee{validateStyleProperty(E){return ie(E)}matchesElement(E,N){return!1}containsElement(E,N){return Ae(E,N)}getParentElement(E){return gn(E)}query(E,N,re){return ue(E,N,re)}computeStyle(E,N,re){return re||""}animate(E,N,re,Oe,rt,ot=[],Mt){return new g.ZN(re,Oe)}}return ee.\u0275fac=function(E){return new(E||ee)},ee.\u0275prov=h.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),Tt=(()=>{class ee{}return ee.NOOP=new gt,ee})();const Un="ng-enter",Hn="ng-leave",ii="ng-trigger",an=".ng-trigger",Ai="ng-animating",qe=".ng-animating";function he(ee){if("number"==typeof ee)return ee;const y=ee.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:U(parseFloat(y[1]),y[2])}function U(ee,y){return"s"===y?1e3*ee:ee}function P(ee,y,E){return ee.hasOwnProperty("duration")?ee:function R(ee,y,E){let re,Oe=0,rt="";if("string"==typeof ee){const ot=ee.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ot)return y.push(Ie()),{duration:0,delay:0,easing:""};re=U(parseFloat(ot[1]),ot[2]);const Mt=ot[3];null!=Mt&&(Oe=U(parseFloat(Mt),ot[4]));const Wt=ot[5];Wt&&(rt=Wt)}else re=ee;if(!E){let ot=!1,Mt=y.length;re<0&&(y.push(function Pe(){return new h.vHH(3100,$)}()),ot=!0),Oe<0&&(y.push(function _e(){return new h.vHH(3101,$)}()),ot=!0),ot&&y.splice(Mt,0,Ie())}return{duration:re,delay:Oe,easing:rt}}(ee,y,E)}function me(ee,y={}){return Object.keys(ee).forEach(E=>{y[E]=ee[E]}),y}function Dt(ee,y,E={}){if(y)for(let N in ee)E[N]=ee[N];else me(ee,E);return E}function mn(ee,y,E){return E?y+":"+E+";":""}function Cn(ee){let y="";for(let E=0;E<ee.style.length;E++){const N=ee.style.item(E);y+=mn(0,N,ee.style.getPropertyValue(N))}for(const E in ee.style)ee.style.hasOwnProperty(E)&&!E.startsWith("_")&&(y+=mn(0,Me(E),ee.style[E]));ee.setAttribute("style",y)}function Xn(ee,y,E){ee.style&&(Object.keys(y).forEach(N=>{const re=Le(N);E&&!E.hasOwnProperty(N)&&(E[N]=ee.style[re]),ee.style[re]=y[N]}),pt()&&Cn(ee))}function vn(ee,y){ee.style&&(Object.keys(y).forEach(E=>{const N=Le(E);ee.style[N]=""}),pt()&&Cn(ee))}function hi(ee){return Array.isArray(ee)?1==ee.length?ee[0]:(0,g.vP)(ee):ee}const ut=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ke(ee){let y=[];if("string"==typeof ee){let E;for(;E=ut.exec(ee);)y.push(E[1]);ut.lastIndex=0}return y}function mt(ee,y,E){const N=ee.toString(),re=N.replace(ut,(Oe,rt)=>{let ot=y[rt];return y.hasOwnProperty(rt)||(E.push(function X(ee){return new h.vHH(3003,$)}()),ot=""),ot.toString()});return re==N?ee:re}function Gt(ee){const y=[];let E=ee.next();for(;!E.done;)y.push(E.value),E=ee.next();return y}const wt=/-+([a-z0-9])/g;function Le(ee){return ee.replace(wt,(...y)=>y[1].toUpperCase())}function Me(ee){return ee.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Kt(ee,y,E){switch(y.type){case 7:return ee.visitTrigger(y,E);case 0:return ee.visitState(y,E);case 1:return ee.visitTransition(y,E);case 2:return ee.visitSequence(y,E);case 3:return ee.visitGroup(y,E);case 4:return ee.visitAnimate(y,E);case 5:return ee.visitKeyframes(y,E);case 6:return ee.visitStyle(y,E);case 8:return ee.visitReference(y,E);case 9:return ee.visitAnimateChild(y,E);case 10:return ee.visitAnimateRef(y,E);case 11:return ee.visitQuery(y,E);case 12:return ee.visitStagger(y,E);default:throw function pe(ee){return new h.vHH(3004,$)}()}}function hn(ee,y){return window.getComputedStyle(ee)[y]}function xi(ee,y){const E=[];return"string"==typeof ee?ee.split(/\s*,\s*/).forEach(N=>function Er(ee,y,E){if(":"==ee[0]){const Mt=function _i(ee,y){switch(ee){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,N)=>parseFloat(N)>parseFloat(E);case":decrement":return(E,N)=>parseFloat(N)<parseFloat(E);default:return y.push(function J(ee){return new h.vHH(3016,$)}()),"* => *"}}(ee,E);if("function"==typeof Mt)return void y.push(Mt);ee=Mt}const N=ee.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return E.push(function De(ee){return new h.vHH(3015,$)}()),y;const re=N[1],Oe=N[2],rt=N[3];y.push(Gn(re,rt));"<"==Oe[0]&&!("*"==re&&"*"==rt)&&y.push(Gn(rt,re))}(N,E,y)):E.push(ee),E}const $i=new Set(["true","1"]),Ti=new Set(["false","0"]);function Gn(ee,y){const E=$i.has(ee)||Ti.has(ee),N=$i.has(y)||Ti.has(y);return(re,Oe)=>{let rt="*"==ee||ee==re,ot="*"==y||y==Oe;return!rt&&E&&"boolean"==typeof re&&(rt=re?$i.has(ee):Ti.has(ee)),!ot&&N&&"boolean"==typeof Oe&&(ot=Oe?$i.has(y):Ti.has(y)),rt&&ot}}const ur=new RegExp("s*:selfs*,?","g");function _s(ee,y,E,N){return new Li(ee).build(y,E,N)}class Li{constructor(y){this._driver=y}build(y,E,N){const re=new dr(E);this._resetContextStyleTimingState(re);const Oe=Kt(this,hi(y),re);return re.unsupportedCSSPropertiesFound.size&&re.unsupportedCSSPropertiesFound.keys(),Oe}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles={},y.collectedStyles[""]={},y.currentTime=0}visitTrigger(y,E){let N=E.queryCount=0,re=E.depCount=0;const Oe=[],rt=[];return"@"==y.name.charAt(0)&&E.errors.push(function ze(){return new h.vHH(3006,$)}()),y.definitions.forEach(ot=>{if(this._resetContextStyleTimingState(E),0==ot.type){const Mt=ot,Wt=Mt.name;Wt.toString().split(/\s*,\s*/).forEach(Dn=>{Mt.name=Dn,Oe.push(this.visitState(Mt,E))}),Mt.name=Wt}else if(1==ot.type){const Mt=this.visitTransition(ot,E);N+=Mt.queryCount,re+=Mt.depCount,rt.push(Mt)}else E.errors.push(function xe(){return new h.vHH(3007,$)}())}),{type:7,name:y.name,states:Oe,transitions:rt,queryCount:N,depCount:re,options:null}}visitState(y,E){const N=this.visitStyle(y.styles,E),re=y.options&&y.options.params||null;if(N.containsDynamicStyles){const Oe=new Set,rt=re||{};N.styles.forEach(ot=>{if(Lr(ot)){const Mt=ot;Object.keys(Mt).forEach(Wt=>{Ke(Mt[Wt]).forEach(Dn=>{rt.hasOwnProperty(Dn)||Oe.add(Dn)})})}}),Oe.size&&(Gt(Oe.values()),E.errors.push(function He(ee,y){return new h.vHH(3008,$)}()))}return{type:0,name:y.name,style:N,options:re?{params:re}:null}}visitTransition(y,E){E.queryCount=0,E.depCount=0;const N=Kt(this,hi(y.animation),E);return{type:1,matchers:xi(y.expr,E.errors),animation:N,queryCount:E.queryCount,depCount:E.depCount,options:Bi(y.options)}}visitSequence(y,E){return{type:2,steps:y.steps.map(N=>Kt(this,N,E)),options:Bi(y.options)}}visitGroup(y,E){const N=E.currentTime;let re=0;const Oe=y.steps.map(rt=>{E.currentTime=N;const ot=Kt(this,rt,E);return re=Math.max(re,E.currentTime),ot});return E.currentTime=re,{type:3,steps:Oe,options:Bi(y.options)}}visitAnimate(y,E){const N=function ys(ee,y){let E=null;if(ee.hasOwnProperty("duration"))E=ee;else if("number"==typeof ee)return yr(P(ee,y).duration,0,"");const N=ee;if(N.split(/\s+/).some(Oe=>"{"==Oe.charAt(0)&&"{"==Oe.charAt(1))){const Oe=yr(0,0,"");return Oe.dynamic=!0,Oe.strValue=N,Oe}return E=E||P(N,y),yr(E.duration,E.delay,E.easing)}(y.timings,E.errors);E.currentAnimateTimings=N;let re,Oe=y.styles?y.styles:(0,g.oB)({});if(5==Oe.type)re=this.visitKeyframes(Oe,E);else{let rt=y.styles,ot=!1;if(!rt){ot=!0;const Wt={};N.easing&&(Wt.easing=N.easing),rt=(0,g.oB)(Wt)}E.currentTime+=N.duration+N.delay;const Mt=this.visitStyle(rt,E);Mt.isEmptyStep=ot,re=Mt}return E.currentAnimateTimings=null,{type:4,timings:N,style:re,options:null}}visitStyle(y,E){const N=this._makeStyleAst(y,E);return this._validateStyleAst(N,E),N}_makeStyleAst(y,E){const N=[];Array.isArray(y.styles)?y.styles.forEach(rt=>{"string"==typeof rt?rt==g.l3?N.push(rt):E.errors.push(function st(ee){return new h.vHH(3002,$)}()):N.push(rt)}):N.push(y.styles);let re=!1,Oe=null;return N.forEach(rt=>{if(Lr(rt)){const ot=rt,Mt=ot.easing;if(Mt&&(Oe=Mt,delete ot.easing),!re)for(let Wt in ot)if(ot[Wt].toString().indexOf("{{")>=0){re=!0;break}}}),{type:6,styles:N,easing:Oe,offset:y.offset,containsDynamicStyles:re,options:null}}_validateStyleAst(y,E){const N=E.currentAnimateTimings;let re=E.currentTime,Oe=E.currentTime;N&&Oe>0&&(Oe-=N.duration+N.delay),y.styles.forEach(rt=>{"string"!=typeof rt&&Object.keys(rt).forEach(ot=>{if(!this._driver.validateStyleProperty(ot))return delete rt[ot],void E.unsupportedCSSPropertiesFound.add(ot);const Mt=E.collectedStyles[E.currentQuerySelector],Wt=Mt[ot];let Dn=!0;Wt&&(Oe!=re&&Oe>=Wt.startTime&&re<=Wt.endTime&&(E.errors.push(function at(ee,y,E,N,re){return new h.vHH(3010,$)}()),Dn=!1),Oe=Wt.startTime),Dn&&(Mt[ot]={startTime:Oe,endTime:re}),E.options&&function Ct(ee,y,E){const N=y.params||{},re=Ke(ee);re.length&&re.forEach(Oe=>{N.hasOwnProperty(Oe)||E.push(function ne(ee){return new h.vHH(3001,$)}())})}(rt[ot],E.options,E.errors)})})}visitKeyframes(y,E){const N={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function ke(){return new h.vHH(3011,$)}()),N;let Oe=0;const rt=[];let ot=!1,Mt=!1,Wt=0;const Dn=y.steps.map(tr=>{const ir=this._makeStyleAst(tr,E);let Ur=null!=ir.offset?ir.offset:function fi(ee){if("string"==typeof ee)return null;let y=null;if(Array.isArray(ee))ee.forEach(E=>{if(Lr(E)&&E.hasOwnProperty("offset")){const N=E;y=parseFloat(N.offset),delete N.offset}});else if(Lr(ee)&&ee.hasOwnProperty("offset")){const E=ee;y=parseFloat(E.offset),delete E.offset}return y}(ir.styles),wi=0;return null!=Ur&&(Oe++,wi=ir.offset=Ur),Mt=Mt||wi<0||wi>1,ot=ot||wi<Wt,Wt=wi,rt.push(wi),ir});Mt&&E.errors.push(function Nt(){return new h.vHH(3012,$)}()),ot&&E.errors.push(function it(){return new h.vHH(3200,$)}());const Rn=y.steps.length;let zn=0;Oe>0&&Oe<Rn?E.errors.push(function be(){return new h.vHH(3202,$)}()):0==Oe&&(zn=1/(Rn-1));const ci=Rn-1,kn=E.currentTime,Zn=E.currentAnimateTimings,ki=Zn.duration;return Dn.forEach((tr,ir)=>{const Ur=zn>0?ir==ci?1:zn*ir:rt[ir],wi=Ur*ki;E.currentTime=kn+Zn.delay+wi,Zn.duration=wi,this._validateStyleAst(tr,E),tr.offset=Ur,N.styles.push(tr)}),N}visitReference(y,E){return{type:8,animation:Kt(this,hi(y.animation),E),options:Bi(y.options)}}visitAnimateChild(y,E){return E.depCount++,{type:9,options:Bi(y.options)}}visitAnimateRef(y,E){return{type:10,animation:this.visitReference(y.animation,E),options:Bi(y.options)}}visitQuery(y,E){const N=E.currentQuerySelector,re=y.options||{};E.queryCount++,E.currentQuery=y;const[Oe,rt]=function Nr(ee){const y=!!ee.split(/\s*,\s*/).find(E=>":self"==E);return y&&(ee=ee.replace(ur,"")),ee=ee.replace(/@\*/g,an).replace(/@\w+/g,E=>an+"-"+E.substr(1)).replace(/:animating/g,qe),[ee,y]}(y.selector);E.currentQuerySelector=N.length?N+" "+Oe:Oe,St(E.collectedStyles,E.currentQuerySelector,{});const ot=Kt(this,hi(y.animation),E);return E.currentQuery=null,E.currentQuerySelector=N,{type:11,selector:Oe,limit:re.limit||0,optional:!!re.optional,includeSelf:rt,animation:ot,originalSelector:y.selector,options:Bi(y.options)}}visitStagger(y,E){E.currentQuery||E.errors.push(function fe(){return new h.vHH(3013,$)}());const N="full"===y.timings?{duration:0,delay:0,easing:"full"}:P(y.timings,E.errors,!0);return{type:12,animation:Kt(this,hi(y.animation),E),timings:N,options:null}}}class dr{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lr(ee){return!Array.isArray(ee)&&"object"==typeof ee}function Bi(ee){return ee?(ee=me(ee)).params&&(ee.params=function Fr(ee){return ee?me(ee):null}(ee.params)):ee={},ee}function yr(ee,y,E){return{duration:ee,delay:y,easing:E}}function vs(ee,y,E,N,re,Oe,rt=null,ot=!1){return{type:1,element:ee,keyframes:y,preStyleProps:E,postStyleProps:N,duration:re,delay:Oe,totalTime:re+Oe,easing:rt,subTimeline:ot}}class zs{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,E){let N=this._map.get(y);N||this._map.set(y,N=[]),N.push(...E)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Ws=new RegExp(":enter","g"),wo=new RegExp(":leave","g");function er(ee,y,E,N,re,Oe={},rt={},ot,Mt,Wt=[]){return(new zr).buildKeyframes(ee,y,E,N,re,Oe,rt,ot,Mt,Wt)}class zr{buildKeyframes(y,E,N,re,Oe,rt,ot,Mt,Wt,Dn=[]){Wt=Wt||new zs;const Rn=new Do(y,E,Wt,re,Oe,Dn,[]);Rn.options=Mt,Rn.currentTimeline.setStyles([rt],null,Rn.errors,Mt),Kt(this,N,Rn);const zn=Rn.timelines.filter(ci=>ci.containsAnimation());if(Object.keys(ot).length){let ci;for(let kn=zn.length-1;kn>=0;kn--){const Zn=zn[kn];if(Zn.element===E){ci=Zn;break}}ci&&!ci.allowOnlyTimelineStyles()&&ci.setStyles([ot],null,Rn.errors,Mt)}return zn.length?zn.map(ci=>ci.buildKeyframes()):[vs(E,[],[],[],0,0,"",!1)]}visitTrigger(y,E){}visitState(y,E){}visitTransition(y,E){}visitAnimateChild(y,E){const N=E.subInstructions.get(E.element);if(N){const re=E.createSubContext(y.options),Oe=E.currentTimeline.currentTime,rt=this._visitSubInstructions(N,re,re.options);Oe!=rt&&E.transformIntoNewTimeline(rt)}E.previousNode=y}visitAnimateRef(y,E){const N=E.createSubContext(y.options);N.transformIntoNewTimeline(),this.visitReference(y.animation,N),E.transformIntoNewTimeline(N.currentTimeline.currentTime),E.previousNode=y}_visitSubInstructions(y,E,N){let Oe=E.currentTimeline.currentTime;const rt=null!=N.duration?he(N.duration):null,ot=null!=N.delay?he(N.delay):null;return 0!==rt&&y.forEach(Mt=>{const Wt=E.appendInstructionToTimeline(Mt,rt,ot);Oe=Math.max(Oe,Wt.duration+Wt.delay)}),Oe}visitReference(y,E){E.updateOptions(y.options,!0),Kt(this,y.animation,E),E.previousNode=y}visitSequence(y,E){const N=E.subContextCount;let re=E;const Oe=y.options;if(Oe&&(Oe.params||Oe.delay)&&(re=E.createSubContext(Oe),re.transformIntoNewTimeline(),null!=Oe.delay)){6==re.previousNode.type&&(re.currentTimeline.snapshotCurrentStyles(),re.previousNode=es);const rt=he(Oe.delay);re.delayNextStep(rt)}y.steps.length&&(y.steps.forEach(rt=>Kt(this,rt,re)),re.currentTimeline.applyStylesToKeyframe(),re.subContextCount>N&&re.transformIntoNewTimeline()),E.previousNode=y}visitGroup(y,E){const N=[];let re=E.currentTimeline.currentTime;const Oe=y.options&&y.options.delay?he(y.options.delay):0;y.steps.forEach(rt=>{const ot=E.createSubContext(y.options);Oe&&ot.delayNextStep(Oe),Kt(this,rt,ot),re=Math.max(re,ot.currentTimeline.currentTime),N.push(ot.currentTimeline)}),N.forEach(rt=>E.currentTimeline.mergeTimelineCollectedStyles(rt)),E.transformIntoNewTimeline(re),E.previousNode=y}_visitTiming(y,E){if(y.dynamic){const N=y.strValue;return P(E.params?mt(N,E.params,E.errors):N,E.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,E){const N=E.currentAnimateTimings=this._visitTiming(y.timings,E),re=E.currentTimeline;N.delay&&(E.incrementTime(N.delay),re.snapshotCurrentStyles());const Oe=y.style;5==Oe.type?this.visitKeyframes(Oe,E):(E.incrementTime(N.duration),this.visitStyle(Oe,E),re.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=y}visitStyle(y,E){const N=E.currentTimeline,re=E.currentAnimateTimings;!re&&N.getCurrentStyleProperties().length&&N.forwardFrame();const Oe=re&&re.easing||y.easing;y.isEmptyStep?N.applyEmptyStep(Oe):N.setStyles(y.styles,Oe,E.errors,E.options),E.previousNode=y}visitKeyframes(y,E){const N=E.currentAnimateTimings,re=E.currentTimeline.duration,Oe=N.duration,ot=E.createSubContext().currentTimeline;ot.easing=N.easing,y.styles.forEach(Mt=>{ot.forwardTime((Mt.offset||0)*Oe),ot.setStyles(Mt.styles,Mt.easing,E.errors,E.options),ot.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(ot),E.transformIntoNewTimeline(re+Oe),E.previousNode=y}visitQuery(y,E){const N=E.currentTimeline.currentTime,re=y.options||{},Oe=re.delay?he(re.delay):0;Oe&&(6===E.previousNode.type||0==N&&E.currentTimeline.getCurrentStyleProperties().length)&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=es);let rt=N;const ot=E.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!re.optional,E.errors);E.currentQueryTotal=ot.length;let Mt=null;ot.forEach((Wt,Dn)=>{E.currentQueryIndex=Dn;const Rn=E.createSubContext(y.options,Wt);Oe&&Rn.delayNextStep(Oe),Wt===E.element&&(Mt=Rn.currentTimeline),Kt(this,y.animation,Rn),Rn.currentTimeline.applyStylesToKeyframe(),rt=Math.max(rt,Rn.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(rt),Mt&&(E.currentTimeline.mergeTimelineCollectedStyles(Mt),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=y}visitStagger(y,E){const N=E.parentContext,re=E.currentTimeline,Oe=y.timings,rt=Math.abs(Oe.duration),ot=rt*(E.currentQueryTotal-1);let Mt=rt*E.currentQueryIndex;switch(Oe.duration<0?"reverse":Oe.easing){case"reverse":Mt=ot-Mt;break;case"full":Mt=N.currentStaggerTime}const Dn=E.currentTimeline;Mt&&Dn.delayNextStep(Mt);const Rn=Dn.currentTime;Kt(this,y.animation,E),E.previousNode=y,N.currentStaggerTime=re.currentTime-Rn+(re.startTime-N.currentTimeline.startTime)}}const es={};class Do{constructor(y,E,N,re,Oe,rt,ot,Mt){this._driver=y,this.element=E,this.subInstructions=N,this._enterClassName=re,this._leaveClassName=Oe,this.errors=rt,this.timelines=ot,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=es,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Mt||new Oi(this._driver,E,0),ot.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,E){if(!y)return;const N=y;let re=this.options;null!=N.duration&&(re.duration=he(N.duration)),null!=N.delay&&(re.delay=he(N.delay));const Oe=N.params;if(Oe){let rt=re.params;rt||(rt=this.options.params={}),Object.keys(Oe).forEach(ot=>{(!E||!rt.hasOwnProperty(ot))&&(rt[ot]=mt(Oe[ot],rt,this.errors))})}}_copyOptions(){const y={};if(this.options){const E=this.options.params;if(E){const N=y.params={};Object.keys(E).forEach(re=>{N[re]=E[re]})}}return y}createSubContext(y=null,E,N){const re=E||this.element,Oe=new Do(this._driver,re,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(re,N||0));return Oe.previousNode=this.previousNode,Oe.currentAnimateTimings=this.currentAnimateTimings,Oe.options=this._copyOptions(),Oe.updateOptions(y),Oe.currentQueryIndex=this.currentQueryIndex,Oe.currentQueryTotal=this.currentQueryTotal,Oe.parentContext=this,this.subContextCount++,Oe}transformIntoNewTimeline(y){return this.previousNode=es,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,E,N){const re={duration:null!=E?E:y.duration,delay:this.currentTimeline.currentTime+(null!=N?N:0)+y.delay,easing:""},Oe=new eo(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,re,y.stretchStartingKeyframe);return this.timelines.push(Oe),re}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,E,N,re,Oe,rt){let ot=[];if(re&&ot.push(this.element),y.length>0){y=(y=y.replace(Ws,"."+this._enterClassName)).replace(wo,"."+this._leaveClassName);let Wt=this._driver.query(this.element,y,1!=N);0!==N&&(Wt=N<0?Wt.slice(Wt.length+N,Wt.length):Wt.slice(0,N)),ot.push(...Wt)}return!Oe&&0==ot.length&&rt.push(function Se(ee){return new h.vHH(3014,$)}()),ot}}class Oi{constructor(y,E,N,re){this._driver=y,this.element=E,this.startTime=N,this._elementTimelineStylesLookup=re,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const E=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||E?(this.forwardTime(this.currentTime+y),E&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,E){return this.applyStylesToKeyframe(),new Oi(this._driver,y,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,E){this._localTimelineStyles[y]=E,this._globalTimelineStyles[y]=E,this._styleSummary[y]={time:this.currentTime,value:E}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&(this._previousKeyframe.easing=y),Object.keys(this._globalTimelineStyles).forEach(E=>{this._backFill[E]=this._globalTimelineStyles[E]||g.l3,this._currentKeyframe[E]=g.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,E,N,re){E&&(this._previousKeyframe.easing=E);const Oe=re&&re.params||{},rt=function Ps(ee,y){const E={};let N;return ee.forEach(re=>{"*"===re?(N=N||Object.keys(y),N.forEach(Oe=>{E[Oe]=g.l3})):Dt(re,!1,E)}),E}(y,this._globalTimelineStyles);Object.keys(rt).forEach(ot=>{const Mt=mt(rt[ot],Oe,N);this._pendingStyles[ot]=Mt,this._localTimelineStyles.hasOwnProperty(ot)||(this._backFill[ot]=this._globalTimelineStyles.hasOwnProperty(ot)?this._globalTimelineStyles[ot]:g.l3),this._updateStyle(ot,Mt)})}applyStylesToKeyframe(){const y=this._pendingStyles,E=Object.keys(y);0!=E.length&&(this._pendingStyles={},E.forEach(N=>{this._currentKeyframe[N]=y[N]}),Object.keys(this._localTimelineStyles).forEach(N=>{this._currentKeyframe.hasOwnProperty(N)||(this._currentKeyframe[N]=this._localTimelineStyles[N])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(y=>{const E=this._localTimelineStyles[y];this._pendingStyles[y]=E,this._updateStyle(y,E)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let E in this._currentKeyframe)y.push(E);return y}mergeTimelineCollectedStyles(y){Object.keys(y._styleSummary).forEach(E=>{const N=this._styleSummary[E],re=y._styleSummary[E];(!N||re.time>N.time)&&this._updateStyle(E,re.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,E=new Set,N=1===this._keyframes.size&&0===this.duration;let re=[];this._keyframes.forEach((ot,Mt)=>{const Wt=Dt(ot,!0);Object.keys(Wt).forEach(Dn=>{const Rn=Wt[Dn];Rn==g.k1?y.add(Dn):Rn==g.l3&&E.add(Dn)}),N||(Wt.offset=Mt/this.duration),re.push(Wt)});const Oe=y.size?Gt(y.values()):[],rt=E.size?Gt(E.values()):[];if(N){const ot=re[0],Mt=me(ot);ot.offset=0,Mt.offset=1,re=[ot,Mt]}return vs(this.element,re,Oe,rt,this.duration,this.startTime,this.easing,!1)}}class eo extends Oi{constructor(y,E,N,re,Oe,rt,ot=!1){super(y,E,rt.delay),this.keyframes=N,this.preStyleProps=re,this.postStyleProps=Oe,this._stretchStartingKeyframe=ot,this.timings={duration:rt.duration,delay:rt.delay,easing:rt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:E,duration:N,easing:re}=this.timings;if(this._stretchStartingKeyframe&&E){const Oe=[],rt=N+E,ot=E/rt,Mt=Dt(y[0],!1);Mt.offset=0,Oe.push(Mt);const Wt=Dt(y[0],!1);Wt.offset=ts(ot),Oe.push(Wt);const Dn=y.length-1;for(let Rn=1;Rn<=Dn;Rn++){let zn=Dt(y[Rn],!1);zn.offset=ts((E+zn.offset*N)/rt),Oe.push(zn)}N=rt,E=0,re="",y=Oe}return vs(this.element,y,this.preStyleProps,this.postStyleProps,N,E,re,!0)}}function ts(ee,y=3){const E=Math.pow(10,y-1);return Math.round(ee*E)/E}class ks{}class fo extends ks{normalizePropertyName(y,E){return Le(y)}normalizeStyleValue(y,E,N,re){let Oe="";const rt=N.toString().trim();if(po[E]&&0!==N&&"0"!==N)if("number"==typeof N)Oe="px";else{const ot=N.match(/^[+-]?[\d\.]+([a-z]*)$/);ot&&0==ot[1].length&&re.push(function ce(ee,y){return new h.vHH(3005,$)}())}return rt+Oe}}const po=(()=>function Ks(ee){const y={};return ee.forEach(E=>y[E]=!0),y}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function is(ee,y,E,N,re,Oe,rt,ot,Mt,Wt,Dn,Rn,zn){return{type:0,element:ee,triggerName:y,isRemovalTransition:re,fromState:E,fromStyles:Oe,toState:N,toStyles:rt,timelines:ot,queriedElements:Mt,preStyleProps:Wt,postStyleProps:Dn,totalTime:Rn,errors:zn}}const Ns={};class hr{constructor(y,E,N){this._triggerName=y,this.ast=E,this._stateStyles=N}match(y,E,N,re){return function Es(ee,y,E,N,re){return ee.some(Oe=>Oe(y,E,N,re))}(this.ast.matchers,y,E,N,re)}buildStyles(y,E,N){const re=this._stateStyles["*"],Oe=this._stateStyles[y],rt=re?re.buildStyles(E,N):{};return Oe?Oe.buildStyles(E,N):rt}build(y,E,N,re,Oe,rt,ot,Mt,Wt,Dn){const Rn=[],zn=this.ast.options&&this.ast.options.params||Ns,kn=this.buildStyles(N,ot&&ot.params||Ns,Rn),Zn=Mt&&Mt.params||Ns,ki=this.buildStyles(re,Zn,Rn),tr=new Set,ir=new Map,Ur=new Map,wi="void"===re,Or={params:Object.assign(Object.assign({},zn),Zn)},Vi=Dn?[]:er(y,E,this.ast.animation,Oe,rt,kn,ki,Or,Wt,Rn);let Yr=0;if(Vi.forEach(Mo=>{Yr=Math.max(Mo.duration+Mo.delay,Yr)}),Rn.length)return is(E,this._triggerName,N,re,wi,kn,ki,[],[],ir,Ur,Yr,Rn);Vi.forEach(Mo=>{const io=Mo.element,Bs=St(ir,io,{});Mo.preStyleProps.forEach(qr=>Bs[qr]=!0);const So=St(Ur,io,{});Mo.postStyleProps.forEach(qr=>So[qr]=!0),io!==E&&tr.add(io)});const Qi=Gt(tr.values());return is(E,this._triggerName,N,re,wi,kn,ki,Vi,Qi,ir,Ur,Yr)}}class rs{constructor(y,E,N){this.styles=y,this.defaultParams=E,this.normalizer=N}buildStyles(y,E){const N={},re=me(this.defaultParams);return Object.keys(y).forEach(Oe=>{const rt=y[Oe];null!=rt&&(re[Oe]=rt)}),this.styles.styles.forEach(Oe=>{if("string"!=typeof Oe){const rt=Oe;Object.keys(rt).forEach(ot=>{let Mt=rt[ot];Mt.length>1&&(Mt=mt(Mt,re,E));const Wt=this.normalizer.normalizePropertyName(ot,E);Mt=this.normalizer.normalizeStyleValue(ot,Wt,Mt,E),N[Wt]=Mt})}}),N}}class ar{constructor(y,E,N){this.name=y,this.ast=E,this._normalizer=N,this.transitionFactories=[],this.states={},E.states.forEach(re=>{this.states[re.name]=new rs(re.style,re.options&&re.options.params||{},N)}),xr(this.states,"true","1"),xr(this.states,"false","0"),E.transitions.forEach(re=>{this.transitionFactories.push(new hr(y,re,this.states))}),this.fallbackTransition=function Wr(ee,y,E){return new hr(ee,{type:1,animation:{type:2,steps:[],options:null},matchers:[(rt,ot)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,E,N,re){return this.transitionFactories.find(rt=>rt.match(y,E,N,re))||null}matchStyles(y,E,N){return this.fallbackTransition.buildStyles(y,E,N)}}function xr(ee,y,E){ee.hasOwnProperty(y)?ee.hasOwnProperty(E)||(ee[E]=ee[y]):ee.hasOwnProperty(E)&&(ee[y]=ee[E])}const Br=new zs;class Fs{constructor(y,E,N){this.bodyNode=y,this._driver=E,this._normalizer=N,this._animations={},this._playersById={},this.players=[]}register(y,E){const N=[],Oe=_s(this._driver,E,N,[]);if(N.length)throw function Ne(ee){return new h.vHH(3503,$)}();this._animations[y]=Oe}_buildPlayer(y,E,N){const re=y.element,Oe=Et(0,this._normalizer,0,y.keyframes,E,N);return this._driver.animate(re,Oe,y.duration,y.delay,y.easing,[],!0)}create(y,E,N={}){const re=[],Oe=this._animations[y];let rt;const ot=new Map;if(Oe?(rt=er(this._driver,E,Oe,Un,Hn,{},{},N,Br,re),rt.forEach(Dn=>{const Rn=St(ot,Dn.element,{});Dn.postStyleProps.forEach(zn=>Rn[zn]=null)})):(re.push(function We(){return new h.vHH(3300,$)}()),rt=[]),re.length)throw function yt(ee){return new h.vHH(3504,$)}();ot.forEach((Dn,Rn)=>{Object.keys(Dn).forEach(zn=>{Dn[zn]=this._driver.computeStyle(Rn,zn,g.l3)})});const Wt=Ot(rt.map(Dn=>{const Rn=ot.get(Dn.element);return this._buildPlayer(Dn,{},Rn)}));return this._playersById[y]=Wt,Wt.onDestroy(()=>this.destroy(y)),this.players.push(Wt),Wt}destroy(y){const E=this._getPlayer(y);E.destroy(),delete this._playersById[y];const N=this.players.indexOf(E);N>=0&&this.players.splice(N,1)}_getPlayer(y){const E=this._playersById[y];if(!E)throw function _t(ee){return new h.vHH(3301,$)}();return E}listen(y,E,N,re){const Oe=Ze(E,"","","");return bt(this._getPlayer(y),N,Oe,re),()=>{}}command(y,E,N,re){if("register"==N)return void this.register(y,re[0]);if("create"==N)return void this.create(y,E,re[0]||{});const Oe=this._getPlayer(y);switch(N){case"play":Oe.play();break;case"pause":Oe.pause();break;case"reset":Oe.reset();break;case"restart":Oe.restart();break;case"finish":Oe.finish();break;case"init":Oe.init();break;case"setPosition":Oe.setPosition(parseFloat(re[0]));break;case"destroy":this.destroy(y)}}}const $o="ng-animate-queued",Cr="ng-animate-disabled",Ri=[],Ds={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pi="__ng_removed";class Kr{constructor(y,E=""){this.namespaceId=E;const N=y&&y.hasOwnProperty("value");if(this.value=function j(ee){return null!=ee?ee:null}(N?y.value:y),N){const Oe=me(y);delete Oe.value,this.options=Oe}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(y){const E=y.params;if(E){const N=this.options.params;Object.keys(E).forEach(re=>{null==N[re]&&(N[re]=E[re])})}}}const ss="void",gr=new Kr(ss);class cs{constructor(y,E,N){this.id=y,this.hostElement=E,this._engine=N,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,zt(E,this._hostClassName)}listen(y,E,N,re){if(!this._triggers.hasOwnProperty(E))throw function Je(ee,y){return new h.vHH(3302,$)}();if(null==N||0==N.length)throw function je(ee){return new h.vHH(3303,$)}();if(!function L(ee){return"start"==ee||"done"==ee}(N))throw function $e(ee,y){return new h.vHH(3400,$)}();const Oe=St(this._elementListeners,y,[]),rt={name:E,phase:N,callback:re};Oe.push(rt);const ot=St(this._engine.statesByElement,y,{});return ot.hasOwnProperty(E)||(zt(y,ii),zt(y,ii+"-"+E),ot[E]=gr),()=>{this._engine.afterFlush(()=>{const Mt=Oe.indexOf(rt);Mt>=0&&Oe.splice(Mt,1),this._triggers[E]||delete ot[E]})}}register(y,E){return!this._triggers[y]&&(this._triggers[y]=E,!0)}_getTrigger(y){const E=this._triggers[y];if(!E)throw function Ee(ee){return new h.vHH(3401,$)}();return E}trigger(y,E,N,re=!0){const Oe=this._getTrigger(E),rt=new us(this.id,E,y);let ot=this._engine.statesByElement.get(y);ot||(zt(y,ii),zt(y,ii+"-"+E),this._engine.statesByElement.set(y,ot={}));let Mt=ot[E];const Wt=new Kr(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&Mt&&Wt.absorbOptions(Mt.options),ot[E]=Wt,Mt||(Mt=gr),Wt.value!==ss&&Mt.value===Wt.value){if(!function pi(ee,y){const E=Object.keys(ee),N=Object.keys(y);if(E.length!=N.length)return!1;for(let re=0;re<E.length;re++){const Oe=E[re];if(!y.hasOwnProperty(Oe)||ee[Oe]!==y[Oe])return!1}return!0}(Mt.params,Wt.params)){const Zn=[],ki=Oe.matchStyles(Mt.value,Mt.params,Zn),tr=Oe.matchStyles(Wt.value,Wt.params,Zn);Zn.length?this._engine.reportError(Zn):this._engine.afterFlush(()=>{vn(y,ki),Xn(y,tr)})}return}const zn=St(this._engine.playersByElement,y,[]);zn.forEach(Zn=>{Zn.namespaceId==this.id&&Zn.triggerName==E&&Zn.queued&&Zn.destroy()});let ci=Oe.matchTransition(Mt.value,Wt.value,y,Wt.params),kn=!1;if(!ci){if(!re)return;ci=Oe.fallbackTransition,kn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:E,transition:ci,fromState:Mt,toState:Wt,player:rt,isFallbackTransition:kn}),kn||(zt(y,$o),rt.onStart(()=>{In(y,$o)})),rt.onDone(()=>{let Zn=this.players.indexOf(rt);Zn>=0&&this.players.splice(Zn,1);const ki=this._engine.playersByElement.get(y);if(ki){let tr=ki.indexOf(rt);tr>=0&&ki.splice(tr,1)}}),this.players.push(rt),zn.push(rt),rt}deregister(y){delete this._triggers[y],this._engine.statesByElement.forEach((E,N)=>{delete E[y]}),this._elementListeners.forEach((E,N)=>{this._elementListeners.set(N,E.filter(re=>re.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const E=this._engine.playersByElement.get(y);E&&(E.forEach(N=>N.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,E){const N=this._engine.driver.query(y,an,!0);N.forEach(re=>{if(re[Pi])return;const Oe=this._engine.fetchNamespacesByElement(re);Oe.size?Oe.forEach(rt=>rt.triggerLeaveAnimation(re,E,!1,!0)):this.clearElementCache(re)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(re=>this.clearElementCache(re)))}triggerLeaveAnimation(y,E,N,re){const Oe=this._engine.statesByElement.get(y),rt=new Map;if(Oe){const ot=[];if(Object.keys(Oe).forEach(Mt=>{if(rt.set(Mt,Oe[Mt].value),this._triggers[Mt]){const Wt=this.trigger(y,Mt,ss,re);Wt&&ot.push(Wt)}}),ot.length)return this._engine.markElementAsRemoved(this.id,y,!0,E,rt),N&&Ot(ot).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const E=this._elementListeners.get(y),N=this._engine.statesByElement.get(y);if(E&&N){const re=new Set;E.forEach(Oe=>{const rt=Oe.name;if(re.has(rt))return;re.add(rt);const Mt=this._triggers[rt].fallbackTransition,Wt=N[rt]||gr,Dn=new Kr(ss),Rn=new us(this.id,rt,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:rt,transition:Mt,fromState:Wt,toState:Dn,player:Rn,isFallbackTransition:!0})})}}removeNode(y,E){const N=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,E),this.triggerLeaveAnimation(y,E,!0))return;let re=!1;if(N.totalAnimations){const Oe=N.players.length?N.playersByQueriedElement.get(y):[];if(Oe&&Oe.length)re=!0;else{let rt=y;for(;rt=rt.parentNode;)if(N.statesByElement.get(rt)){re=!0;break}}}if(this.prepareLeaveAnimationListeners(y),re)N.markElementAsRemoved(this.id,y,!1,E);else{const Oe=y[Pi];(!Oe||Oe===Ds)&&(N.afterFlush(()=>this.clearElementCache(y)),N.destroyInnerAnimations(y),N._onRemovalComplete(y,E))}}insertNode(y,E){zt(y,this._hostClassName)}drainQueuedTransitions(y){const E=[];return this._queue.forEach(N=>{const re=N.player;if(re.destroyed)return;const Oe=N.element,rt=this._elementListeners.get(Oe);rt&&rt.forEach(ot=>{if(ot.name==N.triggerName){const Mt=Ze(Oe,N.triggerName,N.fromState.value,N.toState.value);Mt._data=y,bt(N.player,ot.phase,Mt,ot.callback)}}),re.markedForDestroy?this._engine.afterFlush(()=>{re.destroy()}):E.push(N)}),this._queue=[],E.sort((N,re)=>{const Oe=N.transition.ast.depCount,rt=re.transition.ast.depCount;return 0==Oe||0==rt?Oe-rt:this._engine.driver.containsElement(N.element,re.element)?1:-1})}destroy(y){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let E=!1;return this._elementListeners.has(y)&&(E=!0),E=!!this._queue.find(N=>N.element===y)||E,E}}class Zr{constructor(y,E,N){this.bodyNode=y,this.driver=E,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(re,Oe)=>{}}_onRemovalComplete(y,E){this.onRemovalComplete(y,E)}get queuedPlayers(){const y=[];return this._namespaceList.forEach(E=>{E.players.forEach(N=>{N.queued&&y.push(N)})}),y}createNamespace(y,E){const N=new cs(y,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(N,E):(this.newHostElements.set(E,N),this.collectEnterElement(E)),this._namespaceLookup[y]=N}_balanceNamespaceList(y,E){const N=this._namespaceList,re=this.namespacesByHostElement,Oe=N.length-1;if(Oe>=0){let rt=!1;if(void 0!==this.driver.getParentElement){let ot=this.driver.getParentElement(E);for(;ot;){const Mt=re.get(ot);if(Mt){const Wt=N.indexOf(Mt);N.splice(Wt+1,0,y),rt=!0;break}ot=this.driver.getParentElement(ot)}}else for(let ot=Oe;ot>=0;ot--)if(this.driver.containsElement(N[ot].hostElement,E)){N.splice(ot+1,0,y),rt=!0;break}rt||N.unshift(y)}else N.push(y);return re.set(E,y),y}register(y,E){let N=this._namespaceLookup[y];return N||(N=this.createNamespace(y,E)),N}registerTrigger(y,E,N){let re=this._namespaceLookup[y];re&&re.register(E,N)&&this.totalAnimations++}destroy(y,E){if(!y)return;const N=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[y];const re=this._namespaceList.indexOf(N);re>=0&&this._namespaceList.splice(re,1)}),this.afterFlushAnimationsDone(()=>N.destroy(E))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const E=new Set,N=this.statesByElement.get(y);if(N){const re=Object.keys(N);for(let Oe=0;Oe<re.length;Oe++){const rt=N[re[Oe]].namespaceId;if(rt){const ot=this._fetchNamespace(rt);ot&&E.add(ot)}}}return E}trigger(y,E,N,re){if(ae(E)){const Oe=this._fetchNamespace(y);if(Oe)return Oe.trigger(E,N,re),!0}return!1}insertNode(y,E,N,re){if(!ae(E))return;const Oe=E[Pi];if(Oe&&Oe.setForRemoval){Oe.setForRemoval=!1,Oe.setForMove=!0;const rt=this.collectedLeaveElements.indexOf(E);rt>=0&&this.collectedLeaveElements.splice(rt,1)}if(y){const rt=this._fetchNamespace(y);rt&&rt.insertNode(E,N)}re&&this.collectEnterElement(E)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,E){E?this.disabledNodes.has(y)||(this.disabledNodes.add(y),zt(y,Cr)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),In(y,Cr))}removeNode(y,E,N,re){if(ae(E)){const Oe=y?this._fetchNamespace(y):null;if(Oe?Oe.removeNode(E,re):this.markElementAsRemoved(y,E,!1,re),N){const rt=this.namespacesByHostElement.get(E);rt&&rt.id!==y&&rt.removeNode(E,re)}}else this._onRemovalComplete(E,re)}markElementAsRemoved(y,E,N,re,Oe){this.collectedLeaveElements.push(E),E[Pi]={namespaceId:y,setForRemoval:re,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:Oe}}listen(y,E,N,re,Oe){return ae(E)?this._fetchNamespace(y).listen(E,N,re,Oe):()=>{}}_buildInstruction(y,E,N,re,Oe){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,N,re,y.fromState.options,y.toState.options,E,Oe)}destroyInnerAnimations(y){let E=this.driver.query(y,an,!0);E.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(y,qe,!0),E.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(y){const E=this.playersByElement.get(y);E&&E.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(y){const E=this.playersByQueriedElement.get(y);E&&E.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Ot(this.players).onDone(()=>y());y()})}processLeaveNode(y){var E;const N=y[Pi];if(N&&N.setForRemoval){if(y[Pi]=Ds,N.namespaceId){this.destroyInnerAnimations(y);const re=this._fetchNamespace(N.namespaceId);re&&re.clearElementCache(y)}this._onRemovalComplete(y,N.setForRemoval)}(null===(E=y.classList)||void 0===E?void 0:E.contains(Cr))&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(re=>{this.markElementAsDisabled(re,!1)})}flush(y=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,re)=>this._balanceNamespaceList(N,re)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)zt(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{E=this._flushAnimations(N,y)}finally{for(let re=0;re<N.length;re++)N[re]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],E.length?Ot(E).onDone(()=>{N.forEach(re=>re())}):N.forEach(re=>re())}}reportError(y){throw function Ge(ee){return new h.vHH(3402,$)}()}_flushAnimations(y,E){const N=new zs,re=[],Oe=new Map,rt=[],ot=new Map,Mt=new Map,Wt=new Map,Dn=new Set;this.disabledNodes.forEach(Mn=>{Dn.add(Mn);const En=this.driver.query(Mn,".ng-animate-queued",!0);for(let Kn=0;Kn<En.length;Kn++)Dn.add(En[Kn])});const Rn=this.bodyNode,zn=Array.from(this.statesByElement.keys()),ci=Lt(zn,this.collectedEnterElements),kn=new Map;let Zn=0;ci.forEach((Mn,En)=>{const Kn=Un+Zn++;kn.set(En,Kn),Mn.forEach(ui=>zt(ui,Kn))});const ki=[],tr=new Set,ir=new Set;for(let Mn=0;Mn<this.collectedLeaveElements.length;Mn++){const En=this.collectedLeaveElements[Mn],Kn=En[Pi];Kn&&Kn.setForRemoval&&(ki.push(En),tr.add(En),Kn.hasAnimation?this.driver.query(En,".ng-star-inserted",!0).forEach(ui=>tr.add(ui)):ir.add(En))}const Ur=new Map,wi=Lt(zn,Array.from(tr));wi.forEach((Mn,En)=>{const Kn=Hn+Zn++;Ur.set(En,Kn),Mn.forEach(ui=>zt(ui,Kn))}),y.push(()=>{ci.forEach((Mn,En)=>{const Kn=kn.get(En);Mn.forEach(ui=>In(ui,Kn))}),wi.forEach((Mn,En)=>{const Kn=Ur.get(En);Mn.forEach(ui=>In(ui,Kn))}),ki.forEach(Mn=>{this.processLeaveNode(Mn)})});const Or=[],Vi=[];for(let Mn=this._namespaceList.length-1;Mn>=0;Mn--)this._namespaceList[Mn].drainQueuedTransitions(E).forEach(Kn=>{const ui=Kn.player,Ui=Kn.element;if(Or.push(ui),this.collectedEnterElements.length){const Qr=Ui[Pi];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(Kn.triggerName)){const Ao=Qr.previousTriggersValues.get(Kn.triggerName),Ki=this.statesByElement.get(Kn.element);Ki&&Ki[Kn.triggerName]&&(Ki[Kn.triggerName].value=Ao)}return void ui.destroy()}}const Ts=!Rn||!this.driver.containsElement(Rn,Ui),rr=Ur.get(Ui),os=kn.get(Ui),Ni=this._buildInstruction(Kn,N,os,rr,Ts);if(Ni.errors&&Ni.errors.length)return void Vi.push(Ni);if(Ts)return ui.onStart(()=>vn(Ui,Ni.fromStyles)),ui.onDestroy(()=>Xn(Ui,Ni.toStyles)),void re.push(ui);if(Kn.isFallbackTransition)return ui.onStart(()=>vn(Ui,Ni.fromStyles)),ui.onDestroy(()=>Xn(Ui,Ni.toStyles)),void re.push(ui);const Zo=[];Ni.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||Zo.push(Qr)}),Ni.timelines=Zo,N.append(Ui,Ni.timelines),rt.push({instruction:Ni,player:ui,element:Ui}),Ni.queriedElements.forEach(Qr=>St(ot,Qr,[]).push(ui)),Ni.preStyleProps.forEach((Qr,Ao)=>{const Ki=Object.keys(Qr);if(Ki.length){let Ms=Mt.get(Ao);Ms||Mt.set(Ao,Ms=new Set),Ki.forEach(pa=>Ms.add(pa))}}),Ni.postStyleProps.forEach((Qr,Ao)=>{const Ki=Object.keys(Qr);let Ms=Wt.get(Ao);Ms||Wt.set(Ao,Ms=new Set),Ki.forEach(pa=>Ms.add(pa))})});if(Vi.length){const Mn=[];Vi.forEach(En=>{Mn.push(function Ce(ee,y){return new h.vHH(3505,$)}())}),Or.forEach(En=>En.destroy()),this.reportError(Mn)}const Yr=new Map,Qi=new Map;rt.forEach(Mn=>{const En=Mn.element;N.has(En)&&(Qi.set(En,En),this._beforeAnimationBuild(Mn.player.namespaceId,Mn.instruction,Yr))}),re.forEach(Mn=>{const En=Mn.element;this._getPreviousPlayers(En,!1,Mn.namespaceId,Mn.triggerName,null).forEach(ui=>{St(Yr,En,[]).push(ui),ui.destroy()})});const Mo=ki.filter(Mn=>qi(Mn,Mt,Wt)),io=new Map;et(io,this.driver,ir,Wt,g.l3).forEach(Mn=>{qi(Mn,Mt,Wt)&&Mo.push(Mn)});const So=new Map;ci.forEach((Mn,En)=>{et(So,this.driver,new Set(Mn),Mt,g.k1)}),Mo.forEach(Mn=>{const En=io.get(Mn),Kn=So.get(Mn);io.set(Mn,Object.assign(Object.assign({},En),Kn))});const qr=[],ro=[],hs={};rt.forEach(Mn=>{const{element:En,player:Kn,instruction:ui}=Mn;if(N.has(En)){if(Dn.has(En))return Kn.onDestroy(()=>Xn(En,ui.toStyles)),Kn.disabled=!0,Kn.overrideTotalTime(ui.totalTime),void re.push(Kn);let Ui=hs;if(Qi.size>1){let rr=En;const os=[];for(;rr=rr.parentNode;){const Ni=Qi.get(rr);if(Ni){Ui=Ni;break}os.push(rr)}os.forEach(Ni=>Qi.set(Ni,Ui))}const Ts=this._buildAnimation(Kn.namespaceId,ui,Yr,Oe,So,io);if(Kn.setRealPlayer(Ts),Ui===hs)qr.push(Kn);else{const rr=this.playersByElement.get(Ui);rr&&rr.length&&(Kn.parentPlayer=Ot(rr)),re.push(Kn)}}else vn(En,ui.fromStyles),Kn.onDestroy(()=>Xn(En,ui.toStyles)),ro.push(Kn),Dn.has(En)&&re.push(Kn)}),ro.forEach(Mn=>{const En=Oe.get(Mn.element);if(En&&En.length){const Kn=Ot(En);Mn.setRealPlayer(Kn)}}),re.forEach(Mn=>{Mn.parentPlayer?Mn.syncPlayerEvents(Mn.parentPlayer):Mn.destroy()});for(let Mn=0;Mn<ki.length;Mn++){const En=ki[Mn],Kn=En[Pi];if(In(En,Hn),Kn&&Kn.hasAnimation)continue;let ui=[];if(ot.size){let Ts=ot.get(En);Ts&&Ts.length&&ui.push(...Ts);let rr=this.driver.query(En,qe,!0);for(let os=0;os<rr.length;os++){let Ni=ot.get(rr[os]);Ni&&Ni.length&&ui.push(...Ni)}}const Ui=ui.filter(Ts=>!Ts.destroyed);Ui.length?$n(this,En,Ui):this.processLeaveNode(En)}return ki.length=0,qr.forEach(Mn=>{this.players.push(Mn),Mn.onDone(()=>{Mn.destroy();const En=this.players.indexOf(Mn);this.players.splice(En,1)}),Mn.play()}),qr}elementContainsData(y,E){let N=!1;const re=E[Pi];return re&&re.setForRemoval&&(N=!0),this.playersByElement.has(E)&&(N=!0),this.playersByQueriedElement.has(E)&&(N=!0),this.statesByElement.has(E)&&(N=!0),this._fetchNamespace(y).elementContainsData(E)||N}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,E,N,re,Oe){let rt=[];if(E){const ot=this.playersByQueriedElement.get(y);ot&&(rt=ot)}else{const ot=this.playersByElement.get(y);if(ot){const Mt=!Oe||Oe==ss;ot.forEach(Wt=>{Wt.queued||!Mt&&Wt.triggerName!=re||rt.push(Wt)})}}return(N||re)&&(rt=rt.filter(ot=>!(N&&N!=ot.namespaceId||re&&re!=ot.triggerName))),rt}_beforeAnimationBuild(y,E,N){const Oe=E.element,rt=E.isRemovalTransition?void 0:y,ot=E.isRemovalTransition?void 0:E.triggerName;for(const Mt of E.timelines){const Wt=Mt.element,Dn=Wt!==Oe,Rn=St(N,Wt,[]);this._getPreviousPlayers(Wt,Dn,rt,ot,E.toState).forEach(ci=>{const kn=ci.getRealPlayer();kn.beforeDestroy&&kn.beforeDestroy(),ci.destroy(),Rn.push(ci)})}vn(Oe,E.fromStyles)}_buildAnimation(y,E,N,re,Oe,rt){const ot=E.triggerName,Mt=E.element,Wt=[],Dn=new Set,Rn=new Set,zn=E.timelines.map(kn=>{const Zn=kn.element;Dn.add(Zn);const ki=Zn[Pi];if(ki&&ki.removedBeforeQueried)return new g.ZN(kn.duration,kn.delay);const tr=Zn!==Mt,ir=function gi(ee){const y=[];return li(ee,y),y}((N.get(Zn)||Ri).map(Yr=>Yr.getRealPlayer())).filter(Yr=>!!Yr.element&&Yr.element===Zn),Ur=Oe.get(Zn),wi=rt.get(Zn),Or=Et(0,this._normalizer,0,kn.keyframes,Ur,wi),Vi=this._buildPlayer(kn,Or,ir);if(kn.subTimeline&&re&&Rn.add(Zn),tr){const Yr=new us(y,ot,Zn);Yr.setRealPlayer(Vi),Wt.push(Yr)}return Vi});Wt.forEach(kn=>{St(this.playersByQueriedElement,kn.element,[]).push(kn),kn.onDone(()=>function yi(ee,y,E){let N;if(ee instanceof Map){if(N=ee.get(y),N){if(N.length){const re=N.indexOf(E);N.splice(re,1)}0==N.length&&ee.delete(y)}}else if(N=ee[y],N){if(N.length){const re=N.indexOf(E);N.splice(re,1)}0==N.length&&delete ee[y]}return N}(this.playersByQueriedElement,kn.element,kn))}),Dn.forEach(kn=>zt(kn,Ai));const ci=Ot(zn);return ci.onDestroy(()=>{Dn.forEach(kn=>In(kn,Ai)),Xn(Mt,E.toStyles)}),Rn.forEach(kn=>{St(re,kn,[]).push(ci)}),ci}_buildPlayer(y,E,N){return E.length>0?this.driver.animate(y.element,E,y.duration,y.delay,y.easing,N):new g.ZN(y.duration,y.delay)}}class us{constructor(y,E,N){this.namespaceId=y,this.triggerName=E,this.element=N,this._player=new g.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,Object.keys(this._queuedCallbacks).forEach(E=>{this._queuedCallbacks[E].forEach(N=>bt(y,E,void 0,N))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const E=this._player;E.triggerCallback&&y.onStart(()=>E.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,E){St(this._queuedCallbacks,y,[]).push(E)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const E=this._player;E.triggerCallback&&E.triggerCallback(y)}}function ae(ee){return ee&&1===ee.nodeType}function ye(ee,y){const E=ee.style.display;return ee.style.display=null!=y?y:"none",E}function et(ee,y,E,N,re){const Oe=[];E.forEach(Mt=>Oe.push(ye(Mt)));const rt=[];N.forEach((Mt,Wt)=>{const Dn={};Mt.forEach(Rn=>{const zn=Dn[Rn]=y.computeStyle(Wt,Rn,re);(!zn||0==zn.length)&&(Wt[Pi]=wr,rt.push(Wt))}),ee.set(Wt,Dn)});let ot=0;return E.forEach(Mt=>ye(Mt,Oe[ot++])),rt}function Lt(ee,y){const E=new Map;if(ee.forEach(ot=>E.set(ot,[])),0==y.length)return E;const re=new Set(y),Oe=new Map;function rt(ot){if(!ot)return 1;let Mt=Oe.get(ot);if(Mt)return Mt;const Wt=ot.parentNode;return Mt=E.has(Wt)?Wt:re.has(Wt)?1:rt(Wt),Oe.set(ot,Mt),Mt}return y.forEach(ot=>{const Mt=rt(ot);1!==Mt&&E.get(Mt).push(ot)}),E}function zt(ee,y){var E;null===(E=ee.classList)||void 0===E||E.add(y)}function In(ee,y){var E;null===(E=ee.classList)||void 0===E||E.remove(y)}function $n(ee,y,E){Ot(E).onDone(()=>ee.processLeaveNode(y))}function li(ee,y){for(let E=0;E<ee.length;E++){const N=ee[E];N instanceof g.ZE?li(N.players,y):y.push(N)}}function qi(ee,y,E){const N=E.get(ee);if(!N)return!1;let re=y.get(ee);return re?N.forEach(Oe=>re.add(Oe)):y.set(ee,N),E.delete(ee),!0}class Ci{constructor(y,E,N){this.bodyNode=y,this._driver=E,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(re,Oe)=>{},this._transitionEngine=new Zr(y,E,N),this._timelineEngine=new Fs(y,E,N),this._transitionEngine.onRemovalComplete=(re,Oe)=>this.onRemovalComplete(re,Oe)}registerTrigger(y,E,N,re,Oe){const rt=y+"-"+re;let ot=this._triggerCache[rt];if(!ot){const Mt=[],Dn=_s(this._driver,Oe,Mt,[]);if(Mt.length)throw function Ue(ee,y){return new h.vHH(3404,$)}();ot=function Go(ee,y,E){return new ar(ee,y,E)}(re,Dn,this._normalizer),this._triggerCache[rt]=ot}this._transitionEngine.registerTrigger(E,re,ot)}register(y,E){this._transitionEngine.register(y,E)}destroy(y,E){this._transitionEngine.destroy(y,E)}onInsert(y,E,N,re){this._transitionEngine.insertNode(y,E,N,re)}onRemove(y,E,N,re){this._transitionEngine.removeNode(y,E,re||!1,N)}disableAnimations(y,E){this._transitionEngine.markElementAsDisabled(y,E)}process(y,E,N,re){if("@"==N.charAt(0)){const[Oe,rt]=sn(N);this._timelineEngine.command(Oe,E,rt,re)}else this._transitionEngine.trigger(y,E,N,re)}listen(y,E,N,re,Oe){if("@"==N.charAt(0)){const[rt,ot]=sn(N);return this._timelineEngine.listen(rt,E,ot,Oe)}return this._transitionEngine.listen(y,E,N,re,Oe)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let G=(()=>{class ee{constructor(E,N,re){this._element=E,this._startStyles=N,this._endStyles=re,this._state=0;let Oe=ee.initialStylesByElement.get(E);Oe||ee.initialStylesByElement.set(E,Oe={}),this._initialStyles=Oe}start(){this._state<1&&(this._startStyles&&Xn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xn(this._element,this._initialStyles),this._endStyles&&(Xn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ee.initialStylesByElement.delete(this._element),this._startStyles&&(vn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vn(this._element,this._endStyles),this._endStyles=null),Xn(this._element,this._initialStyles),this._state=3)}}return ee.initialStylesByElement=new WeakMap,ee})();function F(ee){let y=null;const E=Object.keys(ee);for(let N=0;N<E.length;N++){const re=E[N];S(re)&&(y=y||{},y[re]=ee[re])}return y}function S(ee){return"display"===ee||"position"===ee}class de{constructor(y,E,N,re){this.element=y,this.keyframes=E,this.options=N,this._specialStyles=re,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(y,E,N){return y.animate(E,N)}onStart(y){this._onStartFns.push(y)}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y={};if(this.hasStarted()){const E=this._finalKeyframe;Object.keys(E).forEach(N=>{"offset"!=N&&(y[N]=this._finished?E[N]:hn(this.element,N))})}this.currentSnapshot=y}triggerCallback(y){const E="start"==y?this._onStartFns:this._onDoneFns;E.forEach(N=>N()),E.length=0}}class Bt{validateStyleProperty(y){return ie(y)}matchesElement(y,E){return!1}containsElement(y,E){return Ae(y,E)}getParentElement(y){return gn(y)}query(y,E,N){return ue(y,E,N)}computeStyle(y,E,N){return window.getComputedStyle(y)[E]}animate(y,E,N,re,Oe,rt=[]){const Mt={duration:N,delay:re,fill:0==re?"both":"forwards"};Oe&&(Mt.easing=Oe);const Wt={},Dn=rt.filter(zn=>zn instanceof de);(function lt(ee,y){return 0===ee||0===y})(N,re)&&Dn.forEach(zn=>{let ci=zn.currentSnapshot;Object.keys(ci).forEach(kn=>Wt[kn]=ci[kn])}),E=function Ft(ee,y,E){const N=Object.keys(E);if(N.length&&y.length){let Oe=y[0],rt=[];if(N.forEach(ot=>{Oe.hasOwnProperty(ot)||rt.push(ot),Oe[ot]=E[ot]}),rt.length)for(var re=1;re<y.length;re++){let ot=y[re];rt.forEach(function(Mt){ot[Mt]=hn(ee,Mt)})}}return y}(y,E=E.map(zn=>Dt(zn,!1)),Wt);const Rn=function Wi(ee,y){let E=null,N=null;return Array.isArray(y)&&y.length?(E=F(y[0]),y.length>1&&(N=F(y[y.length-1]))):y&&(E=F(y)),E||N?new G(ee,E,N):null}(y,E);return new de(y,E,Mt,Rn)}}var wn=b(9808);let bi=(()=>{class ee extends g._j{constructor(E,N){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(N.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(E){const N=this._nextAnimationId.toString();this._nextAnimationId++;const re=Array.isArray(E)?(0,g.vP)(E):E;return ds(this._renderer,null,N,"register",[re]),new Vr(N,this._renderer)}}return ee.\u0275fac=function(E){return new(E||ee)(h.LFG(h.FYo),h.LFG(wn.K0))},ee.\u0275prov=h.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class Vr extends g.LC{constructor(y,E){super(),this._id=y,this._renderer=E}create(y,E){return new mo(this._id,y,E||{},this._renderer)}}class mo{constructor(y,E,N,re){this.id=y,this.element=E,this._renderer=re,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(y,E){return this._renderer.listen(this.element,`@@${this.id}:${y}`,E)}_command(y,...E){return ds(this._renderer,this.element,this.id,y,E)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){var y,E;return null!==(E=null===(y=this._renderer.engine.players[+this.id])||void 0===y?void 0:y.getPosition())&&void 0!==E?E:0}}function ds(ee,y,E,N,re){return ee.setProperty(y,`@@${E}:${N}`,re)}const vi="@.disabled";let zo=(()=>{class ee{constructor(E,N,re){this.delegate=E,this.engine=N,this._zone=re,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(Oe,rt)=>{const ot=null==rt?void 0:rt.parentNode(Oe);ot&&rt.removeChild(ot,Oe)}}createRenderer(E,N){const Oe=this.delegate.createRenderer(E,N);if(!(E&&N&&N.data&&N.data.animation)){let Dn=this._rendererCache.get(Oe);return Dn||(Dn=new nr("",Oe,this.engine),this._rendererCache.set(Oe,Dn)),Dn}const rt=N.id,ot=N.id+"-"+this._currentId;this._currentId++,this.engine.register(ot,E);const Mt=Dn=>{Array.isArray(Dn)?Dn.forEach(Mt):this.engine.registerTrigger(rt,ot,E,Dn.name,Dn)};return N.data.animation.forEach(Mt),new Wo(this,ot,Oe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,N,re){E>=0&&E<this._microtaskId?this._zone.run(()=>N(re)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Oe=>{const[rt,ot]=Oe;rt(ot)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,re]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return ee.\u0275fac=function(E){return new(E||ee)(h.LFG(h.FYo),h.LFG(Ci),h.LFG(h.R0b))},ee.\u0275prov=h.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class nr{constructor(y,E,N){this.namespaceId=y,this.delegate=E,this.engine=N,this.destroyNode=this.delegate.destroyNode?re=>E.destroyNode(re):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(y,E){return this.delegate.createElement(y,E)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,E){this.delegate.appendChild(y,E),this.engine.onInsert(this.namespaceId,E,y,!1)}insertBefore(y,E,N,re=!0){this.delegate.insertBefore(y,E,N),this.engine.onInsert(this.namespaceId,E,y,re)}removeChild(y,E,N){this.engine.onRemove(this.namespaceId,E,this.delegate,N)}selectRootElement(y,E){return this.delegate.selectRootElement(y,E)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,E,N,re){this.delegate.setAttribute(y,E,N,re)}removeAttribute(y,E,N){this.delegate.removeAttribute(y,E,N)}addClass(y,E){this.delegate.addClass(y,E)}removeClass(y,E){this.delegate.removeClass(y,E)}setStyle(y,E,N,re){this.delegate.setStyle(y,E,N,re)}removeStyle(y,E,N){this.delegate.removeStyle(y,E,N)}setProperty(y,E,N){"@"==E.charAt(0)&&E==vi?this.disableAnimations(y,!!N):this.delegate.setProperty(y,E,N)}setValue(y,E){this.delegate.setValue(y,E)}listen(y,E,N){return this.delegate.listen(y,E,N)}disableAnimations(y,E){this.engine.disableAnimations(y,E)}}class Wo extends nr{constructor(y,E,N,re){super(E,N,re),this.factory=y,this.namespaceId=E}setProperty(y,E,N){"@"==E.charAt(0)?"."==E.charAt(1)&&E==vi?this.disableAnimations(y,N=void 0===N||!!N):this.engine.process(this.namespaceId,y,E.substr(1),N):this.delegate.setProperty(y,E,N)}listen(y,E,N){if("@"==E.charAt(0)){const re=function go(ee){switch(ee){case"body":return document.body;case"document":return document;case"window":return window;default:return ee}}(y);let Oe=E.substr(1),rt="";return"@"!=Oe.charAt(0)&&([Oe,rt]=function Is(ee){const y=ee.indexOf(".");return[ee.substring(0,y),ee.substr(y+1)]}(Oe)),this.engine.listen(this.namespaceId,re,Oe,rt,ot=>{this.factory.scheduleListenerCallback(ot._data||-1,N,ot)})}return this.delegate.listen(y,E,N)}}let To=(()=>{class ee extends Ci{constructor(E,N,re){super(E.body,N,re)}ngOnDestroy(){this.flush()}}return ee.\u0275fac=function(E){return new(E||ee)(h.LFG(wn.K0),h.LFG(Tt),h.LFG(ks))},ee.\u0275prov=h.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const sa=new h.OlP("AnimationModuleType"),to=[{provide:g._j,useClass:bi},{provide:ks,useFactory:function Da(){return new fo}},{provide:Ci,useClass:To},{provide:h.FYo,useFactory:function cl(ee,y,E){return new zo(ee,y,E)},deps:[w.se,Ci,h.R0b]}],no=[{provide:Tt,useFactory:()=>new Bt},{provide:sa,useValue:"BrowserAnimations"},...to],pr=[{provide:Tt,useClass:gt},{provide:sa,useValue:"NoopAnimations"},...to];let Ls=(()=>{class ee{static withConfig(E){return{ngModule:ee,providers:E.disableAnimations?pr:no}}}return ee.\u0275fac=function(E){return new(E||ee)},ee.\u0275mod=h.oAB({type:ee}),ee.\u0275inj=h.cJS({providers:no,imports:[w.b2]}),ee})()},2313:($t,Xe,b)=>{b.d(Xe,{b2:()=>On,H7:()=>Cn,q6:()=>St,se:()=>Ne});var h=b(9808),w=b(5e3);class g extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $ extends g{static makeCurrent(){(0,h.HT)(new $)}onAndCancel(ut,Ke,mt){return ut.addEventListener(Ke,mt,!1),()=>{ut.removeEventListener(Ke,mt,!1)}}dispatchEvent(ut,Ke){ut.dispatchEvent(Ke)}remove(ut){ut.parentNode&&ut.parentNode.removeChild(ut)}createElement(ut,Ke){return(Ke=Ke||this.getDefaultDocument()).createElement(ut)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ut){return ut.nodeType===Node.ELEMENT_NODE}isShadowRoot(ut){return ut instanceof DocumentFragment}getGlobalEventTarget(ut,Ke){return"window"===Ke?window:"document"===Ke?ut:"body"===Ke?ut.body:null}getBaseHref(ut){const Ke=function Ie(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==Ke?null:function _e(Ct){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",Ct);const ut=Pe.pathname;return"/"===ut.charAt(0)?ut:`/${ut}`}(Ke)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(ut){return(0,h.Mx)(document.cookie,ut)}}let Pe,we=null;const ne=new w.OlP("TRANSITION_ID"),pe=[{provide:w.ip1,useFactory:function X(Ct,ut,Ke){return()=>{Ke.get(w.CZH).donePromise.then(()=>{const mt=(0,h.q)(),Gt=ut.querySelectorAll(`style[ng-transition="${Ct}"]`);for(let wt=0;wt<Gt.length;wt++)mt.remove(Gt[wt])})}},deps:[ne,h.K0,w.zs3],multi:!0}];class ce{static init(){(0,w.VLi)(new ce)}addToWindow(ut){w.dqk.getAngularTestability=(mt,Gt=!0)=>{const wt=ut.findTestabilityInTree(mt,Gt);if(null==wt)throw new Error("Could not find testability for element.");return wt},w.dqk.getAllAngularTestabilities=()=>ut.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>ut.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push(mt=>{const Gt=w.dqk.getAllAngularTestabilities();let wt=Gt.length,Le=!1;const Me=function(lt){Le=Le||lt,wt--,0==wt&&mt(Le)};Gt.forEach(function(lt){lt.whenStable(Me)})})}findTestabilityInTree(ut,Ke,mt){if(null==Ke)return null;const Gt=ut.getTestability(Ke);return null!=Gt?Gt:mt?(0,h.q)().isShadowRoot(Ke)?this.findTestabilityInTree(ut,Ke.host,!0):this.findTestabilityInTree(ut,Ke.parentElement,!0):null}}let ze=(()=>{class Ct{build(){return new XMLHttpRequest}}return Ct.\u0275fac=function(Ke){return new(Ke||Ct)},Ct.\u0275prov=w.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();const xe=new w.OlP("EventManagerPlugins");let He=(()=>{class Ct{constructor(Ke,mt){this._zone=mt,this._eventNameToPlugin=new Map,Ke.forEach(Gt=>Gt.manager=this),this._plugins=Ke.slice().reverse()}addEventListener(Ke,mt,Gt){return this._findPluginFor(mt).addEventListener(Ke,mt,Gt)}addGlobalEventListener(Ke,mt,Gt){return this._findPluginFor(mt).addGlobalEventListener(Ke,mt,Gt)}getZone(){return this._zone}_findPluginFor(Ke){const mt=this._eventNameToPlugin.get(Ke);if(mt)return mt;const Gt=this._plugins;for(let wt=0;wt<Gt.length;wt++){const Le=Gt[wt];if(Le.supports(Ke))return this._eventNameToPlugin.set(Ke,Le),Le}throw new Error(`No event manager plugin found for event ${Ke}`)}}return Ct.\u0275fac=function(Ke){return new(Ke||Ct)(w.LFG(xe),w.LFG(w.R0b))},Ct.\u0275prov=w.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();class st{constructor(ut){this._doc=ut}addGlobalEventListener(ut,Ke,mt){const Gt=(0,h.q)().getGlobalEventTarget(this._doc,ut);if(!Gt)throw new Error(`Unsupported event target ${Gt} for event ${Ke}`);return this.addEventListener(Gt,Ke,mt)}}let Fe=(()=>{class Ct{constructor(){this._stylesSet=new Set}addStyles(Ke){const mt=new Set;Ke.forEach(Gt=>{this._stylesSet.has(Gt)||(this._stylesSet.add(Gt),mt.add(Gt))}),this.onStylesAdded(mt)}onStylesAdded(Ke){}getAllStyles(){return Array.from(this._stylesSet)}}return Ct.\u0275fac=function(Ke){return new(Ke||Ct)},Ct.\u0275prov=w.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})(),at=(()=>{class Ct extends Fe{constructor(Ke){super(),this._doc=Ke,this._hostNodes=new Map,this._hostNodes.set(Ke.head,[])}_addStylesToHost(Ke,mt,Gt){Ke.forEach(wt=>{const Le=this._doc.createElement("style");Le.textContent=wt,Gt.push(mt.appendChild(Le))})}addHost(Ke){const mt=[];this._addStylesToHost(this._stylesSet,Ke,mt),this._hostNodes.set(Ke,mt)}removeHost(Ke){const mt=this._hostNodes.get(Ke);mt&&mt.forEach(ke),this._hostNodes.delete(Ke)}onStylesAdded(Ke){this._hostNodes.forEach((mt,Gt)=>{this._addStylesToHost(Ke,Gt,mt)})}ngOnDestroy(){this._hostNodes.forEach(Ke=>Ke.forEach(ke))}}return Ct.\u0275fac=function(Ke){return new(Ke||Ct)(w.LFG(h.K0))},Ct.\u0275prov=w.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();function ke(Ct){(0,h.q)().remove(Ct)}const Nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g;function se(Ct,ut,Ke){for(let mt=0;mt<ut.length;mt++){let Gt=ut[mt];Array.isArray(Gt)?se(Ct,Gt,Ke):(Gt=Gt.replace(it,Ct),Ke.push(Gt))}return Ke}function Ue(Ct){return ut=>{if("__ngUnwrap__"===ut)return Ct;!1===Ct(ut)&&(ut.preventDefault(),ut.returnValue=!1)}}let Ne=(()=>{class Ct{constructor(Ke,mt,Gt){this.eventManager=Ke,this.sharedStylesHost=mt,this.appId=Gt,this.rendererByCompId=new Map,this.defaultRenderer=new We(Ke)}createRenderer(Ke,mt){if(!Ke||!mt)return this.defaultRenderer;switch(mt.encapsulation){case w.ifc.Emulated:{let Gt=this.rendererByCompId.get(mt.id);return Gt||(Gt=new Je(this.eventManager,this.sharedStylesHost,mt,this.appId),this.rendererByCompId.set(mt.id,Gt)),Gt.applyToHost(Ke),Gt}case 1:case w.ifc.ShadowDom:return new je(this.eventManager,this.sharedStylesHost,Ke,mt);default:if(!this.rendererByCompId.has(mt.id)){const Gt=se(mt.id,mt.styles,[]);this.sharedStylesHost.addStyles(Gt),this.rendererByCompId.set(mt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ct.\u0275fac=function(Ke){return new(Ke||Ct)(w.LFG(He),w.LFG(at),w.LFG(w.AFp))},Ct.\u0275prov=w.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();class We{constructor(ut){this.eventManager=ut,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ut,Ke){return Ke?document.createElementNS(Nt[Ke]||Ke,ut):document.createElement(ut)}createComment(ut){return document.createComment(ut)}createText(ut){return document.createTextNode(ut)}appendChild(ut,Ke){ut.appendChild(Ke)}insertBefore(ut,Ke,mt){ut&&ut.insertBefore(Ke,mt)}removeChild(ut,Ke){ut&&ut.removeChild(Ke)}selectRootElement(ut,Ke){let mt="string"==typeof ut?document.querySelector(ut):ut;if(!mt)throw new Error(`The selector "${ut}" did not match any elements`);return Ke||(mt.textContent=""),mt}parentNode(ut){return ut.parentNode}nextSibling(ut){return ut.nextSibling}setAttribute(ut,Ke,mt,Gt){if(Gt){Ke=Gt+":"+Ke;const wt=Nt[Gt];wt?ut.setAttributeNS(wt,Ke,mt):ut.setAttribute(Ke,mt)}else ut.setAttribute(Ke,mt)}removeAttribute(ut,Ke,mt){if(mt){const Gt=Nt[mt];Gt?ut.removeAttributeNS(Gt,Ke):ut.removeAttribute(`${mt}:${Ke}`)}else ut.removeAttribute(Ke)}addClass(ut,Ke){ut.classList.add(Ke)}removeClass(ut,Ke){ut.classList.remove(Ke)}setStyle(ut,Ke,mt,Gt){Gt&(w.JOm.DashCase|w.JOm.Important)?ut.style.setProperty(Ke,mt,Gt&w.JOm.Important?"important":""):ut.style[Ke]=mt}removeStyle(ut,Ke,mt){mt&w.JOm.DashCase?ut.style.removeProperty(Ke):ut.style[Ke]=""}setProperty(ut,Ke,mt){ut[Ke]=mt}setValue(ut,Ke){ut.nodeValue=Ke}listen(ut,Ke,mt){return"string"==typeof ut?this.eventManager.addGlobalEventListener(ut,Ke,Ue(mt)):this.eventManager.addEventListener(ut,Ke,Ue(mt))}}class Je extends We{constructor(ut,Ke,mt,Gt){super(ut),this.component=mt;const wt=se(Gt+"-"+mt.id,mt.styles,[]);Ke.addStyles(wt),this.contentAttr=function J(Ct){return"_ngcontent-%COMP%".replace(it,Ct)}(Gt+"-"+mt.id),this.hostAttr=function Qe(Ct){return"_nghost-%COMP%".replace(it,Ct)}(Gt+"-"+mt.id)}applyToHost(ut){super.setAttribute(ut,this.hostAttr,"")}createElement(ut,Ke){const mt=super.createElement(ut,Ke);return super.setAttribute(mt,this.contentAttr,""),mt}}class je extends We{constructor(ut,Ke,mt,Gt){super(ut),this.sharedStylesHost=Ke,this.hostEl=mt,this.shadowRoot=mt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const wt=se(Gt.id,Gt.styles,[]);for(let Le=0;Le<wt.length;Le++){const Me=document.createElement("style");Me.textContent=wt[Le],this.shadowRoot.appendChild(Me)}}nodeOrShadowRoot(ut){return ut===this.hostEl?this.shadowRoot:ut}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ut,Ke){return super.appendChild(this.nodeOrShadowRoot(ut),Ke)}insertBefore(ut,Ke,mt){return super.insertBefore(this.nodeOrShadowRoot(ut),Ke,mt)}removeChild(ut,Ke){return super.removeChild(this.nodeOrShadowRoot(ut),Ke)}parentNode(ut){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ut)))}}let $e=(()=>{class Ct extends st{constructor(Ke){super(Ke)}supports(Ke){return!0}addEventListener(Ke,mt,Gt){return Ke.addEventListener(mt,Gt,!1),()=>this.removeEventListener(Ke,mt,Gt)}removeEventListener(Ke,mt,Gt){return Ke.removeEventListener(mt,Gt)}}return Ct.\u0275fac=function(Ke){return new(Ke||Ct)(w.LFG(h.K0))},Ct.\u0275prov=w.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();const Ee=["alt","control","meta","shift"],z={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ce={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Rt={alt:Ct=>Ct.altKey,control:Ct=>Ct.ctrlKey,meta:Ct=>Ct.metaKey,shift:Ct=>Ct.shiftKey};let pt=(()=>{class Ct extends st{constructor(Ke){super(Ke)}supports(Ke){return null!=Ct.parseEventName(Ke)}addEventListener(Ke,mt,Gt){const wt=Ct.parseEventName(mt),Le=Ct.eventCallback(wt.fullKey,Gt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(Ke,wt.domEventName,Le))}static parseEventName(Ke){const mt=Ke.toLowerCase().split("."),Gt=mt.shift();if(0===mt.length||"keydown"!==Gt&&"keyup"!==Gt)return null;const wt=Ct._normalizeKey(mt.pop());let Le="";if(Ee.forEach(lt=>{const Ft=mt.indexOf(lt);Ft>-1&&(mt.splice(Ft,1),Le+=lt+".")}),Le+=wt,0!=mt.length||0===wt.length)return null;const Me={};return Me.domEventName=Gt,Me.fullKey=Le,Me}static getEventFullKey(Ke){let mt="",Gt=function Ot(Ct){let ut=Ct.key;if(null==ut){if(ut=Ct.keyIdentifier,null==ut)return"Unidentified";ut.startsWith("U+")&&(ut=String.fromCharCode(parseInt(ut.substring(2),16)),3===Ct.location&&Ce.hasOwnProperty(ut)&&(ut=Ce[ut]))}return z[ut]||ut}(Ke);return Gt=Gt.toLowerCase()," "===Gt?Gt="space":"."===Gt&&(Gt="dot"),Ee.forEach(wt=>{wt!=Gt&&Rt[wt](Ke)&&(mt+=wt+".")}),mt+=Gt,mt}static eventCallback(Ke,mt,Gt){return wt=>{Ct.getEventFullKey(wt)===Ke&&Gt.runGuarded(()=>mt(wt))}}static _normalizeKey(Ke){return"esc"===Ke?"escape":Ke}}return Ct.\u0275fac=function(Ke){return new(Ke||Ct)(w.LFG(h.K0))},Ct.\u0275prov=w.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();const St=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:h.bD},{provide:w.g9A,useValue:function Et(){$.makeCurrent(),ce.init()},multi:!0},{provide:h.K0,useFactory:function Vt(){return(0,w.RDi)(document),document},deps:[]}]),sn=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function bt(){return new w.qLn},deps:[]},{provide:xe,useClass:$e,multi:!0,deps:[h.K0,w.R0b,w.Lbi]},{provide:xe,useClass:pt,multi:!0,deps:[h.K0]},{provide:Ne,useClass:Ne,deps:[He,at,w.AFp]},{provide:w.FYo,useExisting:Ne},{provide:Fe,useExisting:at},{provide:at,useClass:at,deps:[h.K0]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b]},{provide:He,useClass:He,deps:[xe,w.R0b]},{provide:h.JF,useClass:ze,deps:[]}];let On=(()=>{class Ct{constructor(Ke){if(Ke)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Ke){return{ngModule:Ct,providers:[{provide:w.AFp,useValue:Ke.appId},{provide:ne,useExisting:w.AFp},pe]}}}return Ct.\u0275fac=function(Ke){return new(Ke||Ct)(w.LFG(Ct,12))},Ct.\u0275mod=w.oAB({type:Ct}),Ct.\u0275inj=w.cJS({providers:sn,imports:[h.ez,w.hGG]}),Ct})();"undefined"!=typeof window&&window;let Cn=(()=>{class Ct{}return Ct.\u0275fac=function(Ke){return new(Ke||Ct)},Ct.\u0275prov=w.Yz7({token:Ct,factory:function(Ke){let mt=null;return mt=Ke?new(Ke||Ct):w.LFG(vn),mt},providedIn:"root"}),Ct})(),vn=(()=>{class Ct extends Cn{constructor(Ke){super(),this._doc=Ke}sanitize(Ke,mt){if(null==mt)return null;switch(Ke){case w.q3G.NONE:return mt;case w.q3G.HTML:return(0,w.qzn)(mt,"HTML")?(0,w.z3N)(mt):(0,w.EiD)(this._doc,String(mt)).toString();case w.q3G.STYLE:return(0,w.qzn)(mt,"Style")?(0,w.z3N)(mt):mt;case w.q3G.SCRIPT:if((0,w.qzn)(mt,"Script"))return(0,w.z3N)(mt);throw new Error("unsafe value used in a script context");case w.q3G.URL:return(0,w.yhl)(mt),(0,w.qzn)(mt,"URL")?(0,w.z3N)(mt):(0,w.mCW)(String(mt));case w.q3G.RESOURCE_URL:if((0,w.qzn)(mt,"ResourceURL"))return(0,w.z3N)(mt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ke} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ke){return(0,w.JVY)(Ke)}bypassSecurityTrustStyle(Ke){return(0,w.L6k)(Ke)}bypassSecurityTrustScript(Ke){return(0,w.eBb)(Ke)}bypassSecurityTrustUrl(Ke){return(0,w.LAX)(Ke)}bypassSecurityTrustResourceUrl(Ke){return(0,w.pB0)(Ke)}}return Ct.\u0275fac=function(Ke){return new(Ke||Ct)(w.LFG(h.K0))},Ct.\u0275prov=w.Yz7({token:Ct,factory:function(Ke){let mt=null;return mt=Ke?new Ke:function Xn(Ct){return new vn(Ct.get(h.K0))}(w.LFG(w.zs3)),mt},providedIn:"root"}),Ct})()},1402:($t,Xe,b)=>{b.d(Xe,{gz:()=>ur,y6:()=>ls,F0:()=>Qi,rH:()=>Bs,Bz:()=>fs,lC:()=>Cr});var h=b(5e3),w=b(8306),g=b(727),$=b(4482),we=b(5403);function Ie(){return(0,$.e)((A,I)=>{let C=null;A._refCount++;const H=(0,we.x)(I,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(C=null);const K=A._connection,Q=C;C=null,K&&(!Q||K===Q)&&K.unsubscribe(),I.unsubscribe()});A.subscribe(H),H.closed||(C=A.connect())})}class Pe extends w.y{constructor(I,C){super(),this.source=I,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,$.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new g.w0;const C=this.getSubject();I.add(this.source.subscribe((0,we.x)(C,void 0,()=>{this._teardown(),C.complete()},H=>{this._teardown(),C.error(H)},()=>this._teardown()))),I.closed&&(this._connection=null,I=g.w0.EMPTY)}return I}refCount(){return Ie()(this)}}var _e=b(8996),ne=b(9646),X=b(1135),pe=b(9841),ce=b(2843),ze=b(6805),xe=b(7272),He=b(9770),st=b(515),Fe=b(7579),at=b(9300);function ke(A){return A<=0?()=>st.E:(0,$.e)((I,C)=>{let H=[];I.subscribe((0,we.x)(C,K=>{H.push(K),A<H.length&&H.shift()},()=>{for(const K of H)C.next(K);C.complete()},void 0,()=>{H=null}))})}var Nt=b(8068),it=b(6590),be=b(4671),Se=b(4004),De=b(3900),J=b(5698),Qe=b(8675),se=b(5026),Ue=b(262),te=b(4351),Ne=b(590),We=b(5577),yt=b(8505),_t=b(8746),Je=b(8189),je=b(9808);class $e{constructor(I,C){this.id=I,this.url=C}}class Ee extends $e{constructor(I,C,H="imperative",K=null){super(I,C),this.navigationTrigger=H,this.restoredState=K}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ge extends $e{constructor(I,C,H){super(I,C),this.urlAfterRedirects=H}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class z extends $e{constructor(I,C,H){super(I,C),this.reason=H}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ce extends $e{constructor(I,C,H){super(I,C),this.error=H}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rt extends $e{constructor(I,C,H,K){super(I,C),this.urlAfterRedirects=H,this.state=K}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pt extends $e{constructor(I,C,H,K){super(I,C),this.urlAfterRedirects=H,this.state=K}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ot extends $e{constructor(I,C,H,K,Q){super(I,C),this.urlAfterRedirects=H,this.state=K,this.shouldActivate=Q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Et extends $e{constructor(I,C,H,K){super(I,C),this.urlAfterRedirects=H,this.state=K}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bt extends $e{constructor(I,C,H,K){super(I,C),this.urlAfterRedirects=H,this.state=K}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ze{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class St{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sn{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(I,C,H){this.routerEvent=I,this.position=C,this.anchor=H}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gn="primary";class cn{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const C=this.params[I];return Array.isArray(C)?C[0]:C}return null}getAll(I){if(this.has(I)){const C=this.params[I];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function ht(A){return new cn(A)}const O="ngNavigationCancelingError";function Z(A){const I=Error("NavigationCancelingError: "+A);return I[O]=!0,I}function ge(A,I,C){const H=C.path.split("/");if(H.length>A.length||"full"===C.pathMatch&&(I.hasChildren()||H.length<A.length))return null;const K={};for(let Q=0;Q<H.length;Q++){const Be=H[Q],ct=A[Q];if(Be.startsWith(":"))K[Be.substring(1)]=ct;else if(Be!==ct.path)return null}return{consumed:A.slice(0,H.length),posParams:K}}function ue(A,I){const C=A?Object.keys(A):void 0,H=I?Object.keys(I):void 0;if(!C||!H||C.length!=H.length)return!1;let K;for(let Q=0;Q<C.length;Q++)if(K=C[Q],!tt(A[K],I[K]))return!1;return!0}function tt(A,I){if(Array.isArray(A)&&Array.isArray(I)){if(A.length!==I.length)return!1;const C=[...A].sort(),H=[...I].sort();return C.every((K,Q)=>H[Q]===K)}return A===I}function gt(A){return Array.prototype.concat.apply([],A)}function Tt(A){return A.length>0?A[A.length-1]:null}function ln(A,I){for(const C in A)A.hasOwnProperty(C)&&I(A[C],C)}function on(A){return(0,h.CqO)(A)?A:(0,h.QGY)(A)?(0,_e.D)(Promise.resolve(A)):(0,ne.of)(A)}const Hn={exact:function qe(A,I,C){if(!Cn(A.segments,I.segments)||!R(A.segments,I.segments,C)||A.numberOfChildren!==I.numberOfChildren)return!1;for(const H in I.children)if(!A.children[H]||!qe(A.children[H],I.children[H],C))return!1;return!0},subset:U},ii={exact:function Ai(A,I){return ue(A,I)},subset:function he(A,I){return Object.keys(I).length<=Object.keys(A).length&&Object.keys(I).every(C=>tt(A[C],I[C]))},ignored:()=>!0};function an(A,I,C){return Hn[C.paths](A.root,I.root,C.matrixParams)&&ii[C.queryParams](A.queryParams,I.queryParams)&&!("exact"===C.fragment&&A.fragment!==I.fragment)}function U(A,I,C){return P(A,I,I.segments,C)}function P(A,I,C,H){if(A.segments.length>C.length){const K=A.segments.slice(0,C.length);return!(!Cn(K,C)||I.hasChildren()||!R(K,C,H))}if(A.segments.length===C.length){if(!Cn(A.segments,C)||!R(A.segments,C,H))return!1;for(const K in I.children)if(!A.children[K]||!U(A.children[K],I.children[K],H))return!1;return!0}{const K=C.slice(0,A.segments.length),Q=C.slice(A.segments.length);return!!(Cn(A.segments,K)&&R(A.segments,K,H)&&A.children[gn])&&P(A.children[gn],I,Q,H)}}function R(A,I,C){return I.every((H,K)=>ii[C](A[K].parameters,H.parameters))}class me{constructor(I,C,H){this.root=I,this.queryParams=C,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}toString(){return Ct.serialize(this)}}class Re{constructor(I,C){this.segments=I,this.children=C,this.parent=null,ln(C,(H,K)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ut(this)}}class Dt{constructor(I,C){this.path=I,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=ht(this.parameters)),this._parameterMap}toString(){return Ft(this)}}function Cn(A,I){return A.length===I.length&&A.every((C,H)=>C.path===I[H].path)}class vn{}class hi{parse(I){const C=new Mi(I);return new me(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(I){const C=`/${Ke(I.root,!0)}`,H=function hn(A){const I=Object.keys(A).map(C=>{const H=A[C];return Array.isArray(H)?H.map(K=>`${Gt(C)}=${Gt(K)}`).join("&"):`${Gt(C)}=${Gt(H)}`}).filter(C=>!!C);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${C}${H}${"string"==typeof I.fragment?`#${function wt(A){return encodeURI(A)}(I.fragment)}`:""}`}}const Ct=new hi;function ut(A){return A.segments.map(I=>Ft(I)).join("/")}function Ke(A,I){if(!A.hasChildren())return ut(A);if(I){const C=A.children[gn]?Ke(A.children[gn],!1):"",H=[];return ln(A.children,(K,Q)=>{Q!==gn&&H.push(`${Q}:${Ke(K,!1)}`)}),H.length>0?`${C}(${H.join("//")})`:C}{const C=function Xn(A,I){let C=[];return ln(A.children,(H,K)=>{K===gn&&(C=C.concat(I(H,K)))}),ln(A.children,(H,K)=>{K!==gn&&(C=C.concat(I(H,K)))}),C}(A,(H,K)=>K===gn?[Ke(A.children[gn],!1)]:[`${K}:${Ke(H,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[gn]?`${ut(A)}/${C[0]}`:`${ut(A)}/(${C.join("//")})`}}function mt(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gt(A){return mt(A).replace(/%3B/gi,";")}function Le(A){return mt(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Me(A){return decodeURIComponent(A)}function lt(A){return Me(A.replace(/\+/g,"%20"))}function Ft(A){return`${Le(A.path)}${function Kt(A){return Object.keys(A).map(I=>`;${Le(I)}=${Le(A[I])}`).join("")}(A.parameters)}`}const xn=/^[^\/()?;=#]+/;function Nn(A){const I=A.match(xn);return I?I[0]:""}const jn=/^[^=?&#]+/,Sn=/^[^&#]+/;class Mi{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(I.length>0||Object.keys(C).length>0)&&(H[gn]=new Re(I,C)),H}parseSegment(){const I=Nn(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new Dt(Me(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const C=Nn(this.remaining);if(!C)return;this.capture(C);let H="";if(this.consumeOptional("=")){const K=Nn(this.remaining);K&&(H=K,this.capture(H))}I[Me(C)]=Me(H)}parseQueryParam(I){const C=function Xt(A){const I=A.match(jn);return I?I[0]:""}(this.remaining);if(!C)return;this.capture(C);let H="";if(this.consumeOptional("=")){const Be=function ai(A){const I=A.match(Sn);return I?I[0]:""}(this.remaining);Be&&(H=Be,this.capture(H))}const K=lt(C),Q=lt(H);if(I.hasOwnProperty(K)){let Be=I[K];Array.isArray(Be)||(Be=[Be],I[K]=Be),Be.push(Q)}else I[K]=Q}parseParens(I){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=Nn(this.remaining),K=this.remaining[H.length];if("/"!==K&&")"!==K&&";"!==K)throw new Error(`Cannot parse url '${this.url}'`);let Q;H.indexOf(":")>-1?(Q=H.substr(0,H.indexOf(":")),this.capture(Q),this.capture(":")):I&&(Q=gn);const Be=this.parseChildren();C[Q]=1===Object.keys(Be).length?Be[gn]:new Re([],Be),this.consumeOptional("//")}return C}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Gi{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const C=this.pathFromRoot(I);return C.length>1?C[C.length-2]:null}children(I){const C=xi(I,this._root);return C?C.children.map(H=>H.value):[]}firstChild(I){const C=xi(I,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(I){const C=Er(I,this._root);return C.length<2?[]:C[C.length-2].children.map(K=>K.value).filter(K=>K!==I)}pathFromRoot(I){return Er(I,this._root).map(C=>C.value)}}function xi(A,I){if(A===I.value)return I;for(const C of I.children){const H=xi(A,C);if(H)return H}return null}function Er(A,I){if(A===I.value)return[I];for(const C of I.children){const H=Er(A,C);if(H.length)return H.unshift(I),H}return[]}class _i{constructor(I,C){this.value=I,this.children=C}toString(){return`TreeNode(${this.value})`}}function $i(A){const I={};return A&&A.children.forEach(C=>I[C.value.outlet]=C),I}class Ti extends Gi{constructor(I,C){super(I),this.snapshot=C,Fr(this,I)}toString(){return this.snapshot.toString()}}function Gn(A,I){const C=function kr(A,I){const Be=new Li([],{},{},"",{},gn,I,null,A.root,-1,{});return new Nr("",new _i(Be,[]))}(A,I),H=new X.X([new Dt("",{})]),K=new X.X({}),Q=new X.X({}),Be=new X.X({}),ct=new X.X(""),jt=new ur(H,K,Be,ct,Q,gn,I,C.root);return jt.snapshot=C.root,new Ti(new _i(jt,[]),C)}class ur{constructor(I,C,H,K,Q,Be,ct,jt){this.url=I,this.params=C,this.queryParams=H,this.fragment=K,this.data=Q,this.outlet=Be,this.component=ct,this._futureSnapshot=jt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(I=>ht(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(I=>ht(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _s(A,I="emptyOnly"){const C=A.pathFromRoot;let H=0;if("always"!==I)for(H=C.length-1;H>=1;){const K=C[H],Q=C[H-1];if(K.routeConfig&&""===K.routeConfig.path)H--;else{if(Q.component)break;H--}}return function mr(A){return A.reduce((I,C)=>({params:Object.assign(Object.assign({},I.params),C.params),data:Object.assign(Object.assign({},I.data),C.data),resolve:Object.assign(Object.assign({},I.resolve),C._resolvedData)}),{params:{},data:{},resolve:{}})}(C.slice(H))}class Li{constructor(I,C,H,K,Q,Be,ct,jt,Ht,un,Ln){this.url=I,this.params=C,this.queryParams=H,this.fragment=K,this.data=Q,this.outlet=Be,this.component=ct,this.routeConfig=jt,this._urlSegment=Ht,this._lastPathIndex=un,this._resolve=Ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ht(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nr extends Gi{constructor(I,C){super(C),this.url=I,Fr(this,C)}toString(){return dr(this._root)}}function Fr(A,I){I.value._routerState=A,I.children.forEach(C=>Fr(A,C))}function dr(A){const I=A.children.length>0?` { ${A.children.map(dr).join(", ")} } `:"";return`${A.value}${I}`}function fi(A){if(A.snapshot){const I=A.snapshot,C=A._futureSnapshot;A.snapshot=C,ue(I.queryParams,C.queryParams)||A.queryParams.next(C.queryParams),I.fragment!==C.fragment&&A.fragment.next(C.fragment),ue(I.params,C.params)||A.params.next(C.params),function Ae(A,I){if(A.length!==I.length)return!1;for(let C=0;C<A.length;++C)if(!ue(A[C],I[C]))return!1;return!0}(I.url,C.url)||A.url.next(C.url),ue(I.data,C.data)||A.data.next(C.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Lr(A,I){const C=ue(A.params,I.params)&&function mn(A,I){return Cn(A,I)&&A.every((C,H)=>ue(C.parameters,I[H].parameters))}(A.url,I.url);return C&&!(!A.parent!=!I.parent)&&(!A.parent||Lr(A.parent,I.parent))}function Bi(A,I,C){if(C&&A.shouldReuseRoute(I.value,C.value.snapshot)){const H=C.value;H._futureSnapshot=I.value;const K=function yr(A,I,C){return I.children.map(H=>{for(const K of C.children)if(A.shouldReuseRoute(H.value,K.value.snapshot))return Bi(A,H,K);return Bi(A,H)})}(A,I,C);return new _i(H,K)}{if(A.shouldAttach(I.value)){const Q=A.retrieve(I.value);if(null!==Q){const Be=Q.route;return Be.value._futureSnapshot=I.value,Be.children=I.children.map(ct=>Bi(A,ct)),Be}}const H=function vs(A){return new ur(new X.X(A.url),new X.X(A.params),new X.X(A.queryParams),new X.X(A.fragment),new X.X(A.data),A.outlet,A.component,A)}(I.value),K=I.children.map(Q=>Bi(A,Q));return new _i(H,K)}}function or(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Ir(A){return"object"==typeof A&&null!=A&&A.outlets}function Ws(A,I,C,H,K){let Q={};if(H&&ln(H,(ct,jt)=>{Q[jt]=Array.isArray(ct)?ct.map(Ht=>`${Ht}`):`${ct}`}),A===I)return new me(C,Q,K);const Be=bs(A,I,C);return new me(Be,Q,K)}function bs(A,I,C){const H={};return ln(A.children,(K,Q)=>{H[Q]=K===I?C:bs(K,I,C)}),new Re(A.segments,H)}class wo{constructor(I,C,H){if(this.isAbsolute=I,this.numberOfDoubleDots=C,this.commands=H,I&&H.length>0&&or(H[0]))throw new Error("Root segment cannot have matrix parameters");const K=H.find(Ir);if(K&&K!==Tt(H))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zr{constructor(I,C,H){this.segmentGroup=I,this.processChildren=C,this.index=H}}function eo(A,I,C){if(A||(A=new Re([],{})),0===A.segments.length&&A.hasChildren())return ts(A,I,C);const H=function Ps(A,I,C){let H=0,K=I;const Q={match:!1,pathIndex:0,commandIndex:0};for(;K<A.segments.length;){if(H>=C.length)return Q;const Be=A.segments[K],ct=C[H];if(Ir(ct))break;const jt=`${ct}`,Ht=H<C.length-1?C[H+1]:null;if(K>0&&void 0===jt)break;if(jt&&Ht&&"object"==typeof Ht&&void 0===Ht.outlets){if(!fo(jt,Ht,Be))return Q;H+=2}else{if(!fo(jt,{},Be))return Q;H++}K++}return{match:!0,pathIndex:K,commandIndex:H}}(A,I,C),K=C.slice(H.commandIndex);if(H.match&&H.pathIndex<A.segments.length){const Q=new Re(A.segments.slice(0,H.pathIndex),{});return Q.children[gn]=new Re(A.segments.slice(H.pathIndex),A.children),ts(Q,0,K)}return H.match&&0===K.length?new Re(A.segments,{}):H.match&&!A.hasChildren()?ns(A,I,C):H.match?ts(A,0,K):ns(A,I,C)}function ts(A,I,C){if(0===C.length)return new Re(A.segments,{});{const H=function Oi(A){return Ir(A[0])?A[0].outlets:{[gn]:A}}(C),K={};return ln(H,(Q,Be)=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&(K[Be]=eo(A.children[Be],I,Q))}),ln(A.children,(Q,Be)=>{void 0===H[Be]&&(K[Be]=Q)}),new Re(A.segments,K)}}function ns(A,I,C){const H=A.segments.slice(0,I);let K=0;for(;K<C.length;){const Q=C[K];if(Ir(Q)){const jt=ks(Q.outlets);return new Re(H,jt)}if(0===K&&or(C[0])){H.push(new Dt(A.segments[I].path,Io(C[0]))),K++;continue}const Be=Ir(Q)?Q.outlets[gn]:`${Q}`,ct=K<C.length-1?C[K+1]:null;Be&&ct&&or(ct)?(H.push(new Dt(Be,Io(ct))),K+=2):(H.push(new Dt(Be,{})),K++)}return new Re(H,{})}function ks(A){const I={};return ln(A,(C,H)=>{"string"==typeof C&&(C=[C]),null!==C&&(I[H]=ns(new Re([],{}),0,C))}),I}function Io(A){const I={};return ln(A,(C,H)=>I[H]=`${C}`),I}function fo(A,I,C){return A==C.path&&ue(I,C.parameters)}class Ks{constructor(I,C,H,K){this.routeReuseStrategy=I,this.futureState=C,this.currState=H,this.forwardEvent=K}activate(I){const C=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,H,I),fi(this.futureState.root),this.activateChildRoutes(C,H,I)}deactivateChildRoutes(I,C,H){const K=$i(C);I.children.forEach(Q=>{const Be=Q.value.outlet;this.deactivateRoutes(Q,K[Be],H),delete K[Be]}),ln(K,(Q,Be)=>{this.deactivateRouteAndItsChildren(Q,H)})}deactivateRoutes(I,C,H){const K=I.value,Q=C?C.value:null;if(K===Q)if(K.component){const Be=H.getContext(K.outlet);Be&&this.deactivateChildRoutes(I,C,Be.children)}else this.deactivateChildRoutes(I,C,H);else Q&&this.deactivateRouteAndItsChildren(C,H)}deactivateRouteAndItsChildren(I,C){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,C):this.deactivateRouteAndOutlet(I,C)}detachAndStoreRouteSubtree(I,C){const H=C.getContext(I.value.outlet),K=H&&I.value.component?H.children:C,Q=$i(I);for(const Be of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[Be],K);if(H&&H.outlet){const Be=H.outlet.detach(),ct=H.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Be,route:I,contexts:ct})}}deactivateRouteAndOutlet(I,C){const H=C.getContext(I.value.outlet),K=H&&I.value.component?H.children:C,Q=$i(I);for(const Be of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[Be],K);H&&H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated(),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(I,C,H){const K=$i(C);I.children.forEach(Q=>{this.activateRoutes(Q,K[Q.value.outlet],H),this.forwardEvent(new Fn(Q.value.snapshot))}),I.children.length&&this.forwardEvent(new sn(I.value.snapshot))}activateRoutes(I,C,H){const K=I.value,Q=C?C.value:null;if(fi(K),K===Q)if(K.component){const Be=H.getOrCreateContext(K.outlet);this.activateChildRoutes(I,C,Be.children)}else this.activateChildRoutes(I,C,H);else if(K.component){const Be=H.getOrCreateContext(K.outlet);if(this.routeReuseStrategy.shouldAttach(K.snapshot)){const ct=this.routeReuseStrategy.retrieve(K.snapshot);this.routeReuseStrategy.store(K.snapshot,null),Be.children.onOutletReAttached(ct.contexts),Be.attachRef=ct.componentRef,Be.route=ct.route.value,Be.outlet&&Be.outlet.attach(ct.componentRef,ct.route.value),fi(ct.route.value),this.activateChildRoutes(I,null,Be.children)}else{const ct=function is(A){for(let I=A.parent;I;I=I.parent){const C=I.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig;if(C&&C.component)return null}return null}(K.snapshot),jt=ct?ct.module.componentFactoryResolver:null;Be.attachRef=null,Be.route=K,Be.resolver=jt,Be.outlet&&Be.outlet.activateWith(K,jt),this.activateChildRoutes(I,null,Be.children)}}else this.activateChildRoutes(I,null,H)}}class Ns{constructor(I,C){this.routes=I,this.module=C}}function hr(A){return"function"==typeof A}function rs(A){return A instanceof me}const Br=Symbol("INITIAL_VALUE");function Fs(){return(0,De.w)(A=>(0,pe.a)(A.map(I=>I.pipe((0,J.q)(1),(0,Qe.O)(Br)))).pipe((0,se.R)((I,C)=>{let H=!1;return C.reduce((K,Q,Be)=>K!==Br?K:(Q===Br&&(H=!0),H||!1!==Q&&Be!==C.length-1&&!rs(Q)?K:Q),I)},Br),(0,at.h)(I=>I!==Br),(0,Se.U)(I=>rs(I)?I:!0===I),(0,J.q)(1)))}class $o{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ls,this.attachRef=null}}class ls{constructor(){this.contexts=new Map}onChildOutletCreated(I,C){const H=this.getOrCreateContext(I);H.outlet=C,this.contexts.set(I,H)}onChildOutletDestroyed(I){const C=this.getContext(I);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let C=this.getContext(I);return C||(C=new $o,this.contexts.set(I,C)),C}getContext(I){return this.contexts.get(I)||null}}let Cr=(()=>{class A{constructor(C,H,K,Q,Be){this.parentContexts=C,this.location=H,this.resolver=K,this.changeDetector=Be,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=Q||gn,C.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const C=this.parentContexts.getContext(this.name);C&&C.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,H){this.activated=C,this._activatedRoute=H,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,H){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=C;const Be=(H=H||this.resolver).resolveComponentFactory(C._futureSnapshot.routeConfig.component),ct=this.parentContexts.getOrCreateContext(this.name).children,jt=new Cs(C,ct,this.location.injector);this.activated=this.location.createComponent(Be,this.location.length,jt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(C){return new(C||A)(h.Y36(ls),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},A.\u0275dir=h.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),A})();class Cs{constructor(I,C,H){this.route=I,this.childContexts=C,this.parent=H}get(I,C){return I===ur?this.route:I===ls?this.childContexts:this.parent.get(I,C)}}let fr=(()=>{class A{}return A.\u0275fac=function(C){return new(C||A)},A.\u0275cmp=h.Xpm({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(C,H){1&C&&h._UZ(0,"router-outlet")},directives:[Cr],encapsulation:2}),A})();function ws(A,I=""){for(let C=0;C<A.length;C++){const H=A[C];Ri(H,Ds(I,H))}}function Ri(A,I){A.children&&ws(A.children,I)}function Ds(A,I){return I?A||I.path?A&&!I.path?`${A}/`:!A&&I.path?I.path:`${A}/${I.path}`:"":A}function wr(A){const I=A.children&&A.children.map(wr),C=I?Object.assign(Object.assign({},A),{children:I}):Object.assign({},A);return!C.component&&(I||C.loadChildren)&&C.outlet&&C.outlet!==gn&&(C.component=fr),C}function Pi(A){return A.outlet||gn}function Kr(A,I){const C=A.filter(H=>Pi(H)===I);return C.push(...A.filter(H=>Pi(H)!==I)),C}const ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gr(A,I,C){var H;if(""===I.path)return"full"===I.pathMatch&&(A.hasChildren()||C.length>0)?Object.assign({},ss):{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const Q=(I.matcher||ge)(C,A,I);if(!Q)return Object.assign({},ss);const Be={};ln(Q.posParams,(jt,Ht)=>{Be[Ht]=jt.path});const ct=Q.consumed.length>0?Object.assign(Object.assign({},Be),Q.consumed[Q.consumed.length-1].parameters):Be;return{matched:!0,consumedSegments:Q.consumed,remainingSegments:C.slice(Q.consumed.length),parameters:ct,positionalParamSegments:null!==(H=Q.posParams)&&void 0!==H?H:{}}}function cs(A,I,C,H,K="corrected"){if(C.length>0&&function yi(A,I,C){return C.some(H=>ae(A,I,H)&&Pi(H)!==gn)}(A,C,H)){const Be=new Re(I,function us(A,I,C,H){const K={};K[gn]=H,H._sourceSegment=A,H._segmentIndexShift=I.length;for(const Q of C)if(""===Q.path&&Pi(Q)!==gn){const Be=new Re([],{});Be._sourceSegment=A,Be._segmentIndexShift=I.length,K[Pi(Q)]=Be}return K}(A,I,H,new Re(C,A.children)));return Be._sourceSegment=A,Be._segmentIndexShift=I.length,{segmentGroup:Be,slicedSegments:[]}}if(0===C.length&&function j(A,I,C){return C.some(H=>ae(A,I,H))}(A,C,H)){const Be=new Re(A.segments,function Zr(A,I,C,H,K,Q){const Be={};for(const ct of H)if(ae(A,C,ct)&&!K[Pi(ct)]){const jt=new Re([],{});jt._sourceSegment=A,jt._segmentIndexShift="legacy"===Q?A.segments.length:I.length,Be[Pi(ct)]=jt}return Object.assign(Object.assign({},K),Be)}(A,I,C,H,A.children,K));return Be._sourceSegment=A,Be._segmentIndexShift=I.length,{segmentGroup:Be,slicedSegments:C}}const Q=new Re(A.segments,A.children);return Q._sourceSegment=A,Q._segmentIndexShift=I.length,{segmentGroup:Q,slicedSegments:C}}function ae(A,I,C){return(!(A.hasChildren()||I.length>0)||"full"!==C.pathMatch)&&""===C.path}function L(A,I,C,H){return!!(Pi(A)===H||H!==gn&&ae(I,C,A))&&("**"===A.path||gr(I,A,C).matched)}function ye(A,I,C){return 0===I.length&&!A.children[C]}class et{constructor(I){this.segmentGroup=I||null}}class Lt{constructor(I){this.urlTree=I}}function zt(A){return(0,ce._)(new et(A))}function In(A){return(0,ce._)(new Lt(A))}class pi{constructor(I,C,H,K,Q){this.configLoader=C,this.urlSerializer=H,this.urlTree=K,this.config=Q,this.allowRedirects=!0,this.ngModule=I.get(h.h0i)}apply(){const I=cs(this.urlTree.root,[],[],this.config).segmentGroup,C=new Re(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,C,gn).pipe((0,Se.U)(Q=>this.createUrlTree(Ci(Q),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ue.K)(Q=>{if(Q instanceof Lt)return this.allowRedirects=!1,this.match(Q.urlTree);throw Q instanceof et?this.noMatchError(Q):Q}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,gn).pipe((0,Se.U)(K=>this.createUrlTree(Ci(K),I.queryParams,I.fragment))).pipe((0,Ue.K)(K=>{throw K instanceof et?this.noMatchError(K):K}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,C,H){const K=I.segments.length>0?new Re([],{[gn]:I}):I;return new me(K,C,H)}expandSegmentGroup(I,C,H,K){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(I,C,H).pipe((0,Se.U)(Q=>new Re([],Q))):this.expandSegment(I,H,C,H.segments,K,!0)}expandChildren(I,C,H){const K=[];for(const Q of Object.keys(H.children))"primary"===Q?K.unshift(Q):K.push(Q);return(0,_e.D)(K).pipe((0,te.b)(Q=>{const Be=H.children[Q],ct=Kr(C,Q);return this.expandSegmentGroup(I,ct,Be,Q).pipe((0,Se.U)(jt=>({segment:jt,outlet:Q})))}),(0,se.R)((Q,Be)=>(Q[Be.outlet]=Be.segment,Q),{}),function fe(A,I){const C=arguments.length>=2;return H=>H.pipe(A?(0,at.h)((K,Q)=>A(K,Q,H)):be.y,ke(1),C?(0,it.d)(I):(0,Nt.T)(()=>new ze.K))}())}expandSegment(I,C,H,K,Q,Be){return(0,_e.D)(H).pipe((0,te.b)(ct=>this.expandSegmentAgainstRoute(I,C,H,ct,K,Q,Be).pipe((0,Ue.K)(Ht=>{if(Ht instanceof et)return(0,ne.of)(null);throw Ht}))),(0,Ne.P)(ct=>!!ct),(0,Ue.K)((ct,jt)=>{if(ct instanceof ze.K||"EmptyError"===ct.name)return ye(C,K,Q)?(0,ne.of)(new Re([],{})):zt(C);throw ct}))}expandSegmentAgainstRoute(I,C,H,K,Q,Be,ct){return L(K,C,Q,Be)?void 0===K.redirectTo?this.matchSegmentAgainstRoute(I,C,K,Q,Be):ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,C,H,K,Q,Be):zt(C):zt(C)}expandSegmentAgainstRouteUsingRedirect(I,C,H,K,Q,Be){return"**"===K.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,H,K,Be):this.expandRegularSegmentAgainstRouteUsingRedirect(I,C,H,K,Q,Be)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,C,H,K){const Q=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?In(Q):this.lineralizeSegments(H,Q).pipe((0,We.z)(Be=>{const ct=new Re(Be,{});return this.expandSegment(I,ct,C,Be,K,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,C,H,K,Q,Be){const{matched:ct,consumedSegments:jt,remainingSegments:Ht,positionalParamSegments:un}=gr(C,K,Q);if(!ct)return zt(C);const Ln=this.applyRedirectCommands(jt,K.redirectTo,un);return K.redirectTo.startsWith("/")?In(Ln):this.lineralizeSegments(K,Ln).pipe((0,We.z)(en=>this.expandSegment(I,C,H,en.concat(Ht),Be,!1)))}matchSegmentAgainstRoute(I,C,H,K,Q){if("**"===H.path)return H.loadChildren?(H._loadedConfig?(0,ne.of)(H._loadedConfig):this.configLoader.load(I.injector,H)).pipe((0,Se.U)(Ln=>(H._loadedConfig=Ln,new Re(K,{})))):(0,ne.of)(new Re(K,{}));const{matched:Be,consumedSegments:ct,remainingSegments:jt}=gr(C,H,K);return Be?this.getChildConfig(I,H,K).pipe((0,We.z)(un=>{const Ln=un.module,en=un.routes,{segmentGroup:It,slicedSegments:Qt}=cs(C,ct,jt,en),Ji=new Re(It.segments,It.children);if(0===Qt.length&&Ji.hasChildren())return this.expandChildren(Ln,en,Ji).pipe((0,Se.U)(Nl=>new Re(ct,Nl)));if(0===en.length&&0===Qt.length)return(0,ne.of)(new Re(ct,{}));const ma=Pi(H)===Q;return this.expandSegment(Ln,Ji,en,Qt,ma?gn:Q,!0).pipe((0,Se.U)(xo=>new Re(ct.concat(xo.segments),xo.children)))})):zt(C)}getChildConfig(I,C,H){return C.children?(0,ne.of)(new Ns(C.children,I)):C.loadChildren?void 0!==C._loadedConfig?(0,ne.of)(C._loadedConfig):this.runCanLoadGuards(I.injector,C,H).pipe((0,We.z)(K=>K?this.configLoader.load(I.injector,C).pipe((0,Se.U)(Q=>(C._loadedConfig=Q,Q))):function gi(A){return(0,ce._)(Z(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))}(C))):(0,ne.of)(new Ns([],I))}runCanLoadGuards(I,C,H){const K=C.canLoad;if(!K||0===K.length)return(0,ne.of)(!0);const Q=K.map(Be=>{const ct=I.get(Be);let jt;if(function Go(A){return A&&hr(A.canLoad)}(ct))jt=ct.canLoad(C,H);else{if(!hr(ct))throw new Error("Invalid CanLoad guard");jt=ct(C,H)}return on(jt)});return(0,ne.of)(Q).pipe(Fs(),(0,yt.b)(Be=>{if(!rs(Be))return;const ct=Z(`Redirecting to "${this.urlSerializer.serialize(Be)}"`);throw ct.url=Be,ct}),(0,Se.U)(Be=>!0===Be))}lineralizeSegments(I,C){let H=[],K=C.root;for(;;){if(H=H.concat(K.segments),0===K.numberOfChildren)return(0,ne.of)(H);if(K.numberOfChildren>1||!K.children[gn])return(0,ce._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I.redirectTo}'`));K=K.children[gn]}}applyRedirectCommands(I,C,H){return this.applyRedirectCreatreUrlTree(C,this.urlSerializer.parse(C),I,H)}applyRedirectCreatreUrlTree(I,C,H,K){const Q=this.createSegmentGroup(I,C.root,H,K);return new me(Q,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(I,C){const H={};return ln(I,(K,Q)=>{if("string"==typeof K&&K.startsWith(":")){const ct=K.substring(1);H[Q]=C[ct]}else H[Q]=K}),H}createSegmentGroup(I,C,H,K){const Q=this.createSegments(I,C.segments,H,K);let Be={};return ln(C.children,(ct,jt)=>{Be[jt]=this.createSegmentGroup(I,ct,H,K)}),new Re(Q,Be)}createSegments(I,C,H,K){return C.map(Q=>Q.path.startsWith(":")?this.findPosParam(I,Q,K):this.findOrReturn(Q,H))}findPosParam(I,C,H){const K=H[C.path.substring(1)];if(!K)throw new Error(`Cannot redirect to '${I}'. Cannot find '${C.path}'.`);return K}findOrReturn(I,C){let H=0;for(const K of C){if(K.path===I.path)return C.splice(H),K;H++}return I}}function Ci(A){const I={};for(const H of Object.keys(A.children)){const Q=Ci(A.children[H]);(Q.segments.length>0||Q.hasChildren())&&(I[H]=Q)}return function qi(A){if(1===A.numberOfChildren&&A.children[gn]){const I=A.children[gn];return new Re(A.segments.concat(I.segments),I.children)}return A}(new Re(A.segments,I))}class G{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class F{constructor(I,C){this.component=I,this.route=C}}function S(A,I,C){const H=A._root;return bi(H,I?I._root:null,C,[H.value])}function Bt(A,I,C){const H=function wn(A){if(!A)return null;for(let I=A.parent;I;I=I.parent){const C=I.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig}return null}(I);return(H?H.module.injector:C).get(A)}function bi(A,I,C,H,K={canDeactivateChecks:[],canActivateChecks:[]}){const Q=$i(I);return A.children.forEach(Be=>{(function Vr(A,I,C,H,K={canDeactivateChecks:[],canActivateChecks:[]}){const Q=A.value,Be=I?I.value:null,ct=C?C.getContext(A.value.outlet):null;if(Be&&Q.routeConfig===Be.routeConfig){const jt=function mo(A,I,C){if("function"==typeof C)return C(A,I);switch(C){case"pathParamsChange":return!Cn(A.url,I.url);case"pathParamsOrQueryParamsChange":return!Cn(A.url,I.url)||!ue(A.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lr(A,I)||!ue(A.queryParams,I.queryParams);default:return!Lr(A,I)}}(Be,Q,Q.routeConfig.runGuardsAndResolvers);jt?K.canActivateChecks.push(new G(H)):(Q.data=Be.data,Q._resolvedData=Be._resolvedData),bi(A,I,Q.component?ct?ct.children:null:C,H,K),jt&&ct&&ct.outlet&&ct.outlet.isActivated&&K.canDeactivateChecks.push(new F(ct.outlet.component,Be))}else Be&&ds(I,ct,K),K.canActivateChecks.push(new G(H)),bi(A,null,Q.component?ct?ct.children:null:C,H,K)})(Be,Q[Be.value.outlet],C,H.concat([Be.value]),K),delete Q[Be.value.outlet]}),ln(Q,(Be,ct)=>ds(Be,C.getContext(ct),K)),K}function ds(A,I,C){const H=$i(A),K=A.value;ln(H,(Q,Be)=>{ds(Q,K.component?I?I.children.getContext(Be):null:I,C)}),C.canDeactivateChecks.push(new F(K.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,K))}class Da{}function cl(A){return new w.y(I=>I.error(A))}class to{constructor(I,C,H,K,Q,Be){this.rootComponentType=I,this.config=C,this.urlTree=H,this.url=K,this.paramsInheritanceStrategy=Q,this.relativeLinkResolution=Be}recognize(){const I=cs(this.urlTree.root,[],[],this.config.filter(Be=>void 0===Be.redirectTo),this.relativeLinkResolution).segmentGroup,C=this.processSegmentGroup(this.config,I,gn);if(null===C)return null;const H=new Li([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},gn,this.rootComponentType,null,this.urlTree.root,-1,{}),K=new _i(H,C),Q=new Nr(this.url,K);return this.inheritParamsAndData(Q._root),Q}inheritParamsAndData(I){const C=I.value,H=_s(C,this.paramsInheritanceStrategy);C.params=Object.freeze(H.params),C.data=Object.freeze(H.data),I.children.forEach(K=>this.inheritParamsAndData(K))}processSegmentGroup(I,C,H){return 0===C.segments.length&&C.hasChildren()?this.processChildren(I,C):this.processSegment(I,C,C.segments,H)}processChildren(I,C){const H=[];for(const Q of Object.keys(C.children)){const Be=C.children[Q],ct=Kr(I,Q),jt=this.processSegmentGroup(ct,Be,Q);if(null===jt)return null;H.push(...jt)}const K=Ko(H);return function no(A){A.sort((I,C)=>I.value.outlet===gn?-1:C.value.outlet===gn?1:I.value.outlet.localeCompare(C.value.outlet))}(K),K}processSegment(I,C,H,K){for(const Q of I){const Be=this.processSegmentAgainstRoute(Q,C,H,K);if(null!==Be)return Be}return ye(C,H,K)?[]:null}processSegmentAgainstRoute(I,C,H,K){if(I.redirectTo||!L(I,C,H,K))return null;let Q,Be=[],ct=[];if("**"===I.path){const It=H.length>0?Tt(H).parameters:{};Q=new Li(H,It,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,N(I),Pi(I),I.component,I,y(C),E(C)+H.length,re(I))}else{const It=gr(C,I,H);if(!It.matched)return null;Be=It.consumedSegments,ct=It.remainingSegments,Q=new Li(Be,It.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,N(I),Pi(I),I.component,I,y(C),E(C)+Be.length,re(I))}const jt=function pr(A){return A.children?A.children:A.loadChildren?A._loadedConfig.routes:[]}(I),{segmentGroup:Ht,slicedSegments:un}=cs(C,Be,ct,jt.filter(It=>void 0===It.redirectTo),this.relativeLinkResolution);if(0===un.length&&Ht.hasChildren()){const It=this.processChildren(jt,Ht);return null===It?null:[new _i(Q,It)]}if(0===jt.length&&0===un.length)return[new _i(Q,[])];const Ln=Pi(I)===K,en=this.processSegment(jt,Ht,un,Ln?gn:K);return null===en?null:[new _i(Q,en)]}}function Ls(A){const I=A.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Ko(A){const I=[],C=new Set;for(const H of A){if(!Ls(H)){I.push(H);continue}const K=I.find(Q=>H.value.routeConfig===Q.value.routeConfig);void 0!==K?(K.children.push(...H.children),C.add(K)):I.push(H)}for(const H of C){const K=Ko(H.children);I.push(new _i(H.value,K))}return I.filter(H=>!C.has(H))}function y(A){let I=A;for(;I._sourceSegment;)I=I._sourceSegment;return I}function E(A){let I=A,C=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,C+=I._segmentIndexShift?I._segmentIndexShift:0;return C-1}function N(A){return A.data||{}}function re(A){return A.resolve||{}}function Wt(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function Rn(A){return(0,De.w)(I=>{const C=A(I);return C?(0,_e.D)(C).pipe((0,Se.U)(()=>I)):(0,ne.of)(I)})}class kn extends class ci{shouldDetach(I){return!1}store(I,C){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,C){return I.routeConfig===C.routeConfig}}{}const Zn=new h.OlP("ROUTES");class ki{constructor(I,C,H,K){this.injector=I,this.compiler=C,this.onLoadStartListener=H,this.onLoadEndListener=K}load(I,C){if(C._loader$)return C._loader$;this.onLoadStartListener&&this.onLoadStartListener(C);const K=this.loadModuleFactory(C.loadChildren).pipe((0,Se.U)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(C);const Be=Q.create(I);return new Ns(gt(Be.injector.get(Zn,void 0,h.XFs.Self|h.XFs.Optional)).map(wr),Be)}),(0,Ue.K)(Q=>{throw C._loader$=void 0,Q}));return C._loader$=new Pe(K,()=>new Fe.x).pipe(Ie()),C._loader$}loadModuleFactory(I){return on(I()).pipe((0,We.z)(C=>C instanceof h.YKP?(0,ne.of)(C):(0,_e.D)(this.compiler.compileModuleAsync(C))))}}class ir{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,C){return I}}function Ur(A){throw A}function wi(A,I,C){return I.parse("/")}function Or(A,I){return(0,ne.of)(null)}const Vi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qi=(()=>{class A{constructor(C,H,K,Q,Be,ct,jt){this.rootComponentType=C,this.urlSerializer=H,this.rootContexts=K,this.location=Q,this.config=jt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fe.x,this.errorHandler=Ur,this.malformedUriErrorHandler=wi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Or,afterPreactivation:Or},this.urlHandlingStrategy=new ir,this.routeReuseStrategy=new kn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Be.get(h.h0i),this.console=Be.get(h.c2e);const Ln=Be.get(h.R0b);this.isNgZoneEnabled=Ln instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(jt),this.currentUrlTree=function Un(){return new me(new Re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ki(Be,ct,en=>this.triggerEvent(new Vt(en)),en=>this.triggerEvent(new Ze(en))),this.routerState=Gn(this.currentUrlTree,this.rootComponentType),this.transitions=new X.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var C;return null===(C=this.location.getState())||void 0===C?void 0:C.\u0275routerPageId}setupNavigations(C){const H=this.events;return C.pipe((0,at.h)(K=>0!==K.id),(0,Se.U)(K=>Object.assign(Object.assign({},K),{extractedUrl:this.urlHandlingStrategy.extract(K.rawUrl)})),(0,De.w)(K=>{let Q=!1,Be=!1;return(0,ne.of)(K).pipe((0,yt.b)(ct=>{this.currentNavigation={id:ct.id,initialUrl:ct.currentRawUrl,extractedUrl:ct.extractedUrl,trigger:ct.source,extras:ct.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,De.w)(ct=>{const jt=this.browserUrlTree.toString(),Ht=!this.navigated||ct.extractedUrl.toString()!==jt||jt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ht)&&this.urlHandlingStrategy.shouldProcessUrl(ct.rawUrl))return io(ct.source)&&(this.browserUrlTree=ct.extractedUrl),(0,ne.of)(ct).pipe((0,De.w)(Ln=>{const en=this.transitions.getValue();return H.next(new Ee(Ln.id,this.serializeUrl(Ln.extractedUrl),Ln.source,Ln.restoredState)),en!==this.transitions.getValue()?st.E:Promise.resolve(Ln)}),function Wi(A,I,C,H){return(0,De.w)(K=>function li(A,I,C,H,K){return new pi(A,I,C,H,K).apply()}(A,I,C,K.extractedUrl,H).pipe((0,Se.U)(Q=>Object.assign(Object.assign({},K),{urlAfterRedirects:Q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yt.b)(Ln=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ln.urlAfterRedirects})}),function Oe(A,I,C,H,K){return(0,We.z)(Q=>function sa(A,I,C,H,K="emptyOnly",Q="legacy"){try{const Be=new to(A,I,C,H,K,Q).recognize();return null===Be?cl(new Da):(0,ne.of)(Be)}catch(Be){return cl(Be)}}(A,I,Q.urlAfterRedirects,C(Q.urlAfterRedirects),H,K).pipe((0,Se.U)(Be=>Object.assign(Object.assign({},Q),{targetSnapshot:Be}))))}(this.rootComponentType,this.config,Ln=>this.serializeUrl(Ln),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yt.b)(Ln=>{if("eager"===this.urlUpdateStrategy){if(!Ln.extras.skipLocationChange){const It=this.urlHandlingStrategy.merge(Ln.urlAfterRedirects,Ln.rawUrl);this.setBrowserUrl(It,Ln)}this.browserUrlTree=Ln.urlAfterRedirects}const en=new Rt(Ln.id,this.serializeUrl(Ln.extractedUrl),this.serializeUrl(Ln.urlAfterRedirects),Ln.targetSnapshot);H.next(en)}));if(Ht&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:en,extractedUrl:It,source:Qt,restoredState:Ji,extras:ma}=ct,ga=new Ee(en,this.serializeUrl(It),Qt,Ji);H.next(ga);const xo=Gn(It,this.rootComponentType).snapshot;return(0,ne.of)(Object.assign(Object.assign({},ct),{targetSnapshot:xo,urlAfterRedirects:It,extras:Object.assign(Object.assign({},ma),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ct.rawUrl,ct.resolve(null),st.E}),Rn(ct=>{const{targetSnapshot:jt,id:Ht,extractedUrl:un,rawUrl:Ln,extras:{skipLocationChange:en,replaceUrl:It}}=ct;return this.hooks.beforePreactivation(jt,{navigationId:Ht,appliedUrlTree:un,rawUrlTree:Ln,skipLocationChange:!!en,replaceUrl:!!It})}),(0,yt.b)(ct=>{const jt=new pt(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent(jt)}),(0,Se.U)(ct=>Object.assign(Object.assign({},ct),{guards:S(ct.targetSnapshot,ct.currentSnapshot,this.rootContexts)})),function Jt(A,I){return(0,We.z)(C=>{const{targetSnapshot:H,currentSnapshot:K,guards:{canActivateChecks:Q,canDeactivateChecks:Be}}=C;return 0===Be.length&&0===Q.length?(0,ne.of)(Object.assign(Object.assign({},C),{guardsResult:!0})):function vi(A,I,C,H){return(0,_e.D)(A).pipe((0,We.z)(K=>function To(A,I,C,H,K){const Q=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,ne.of)(!0);const Be=Q.map(ct=>{const jt=Bt(ct,I,K);let Ht;if(function xr(A){return A&&hr(A.canDeactivate)}(jt))Ht=on(jt.canDeactivate(A,I,C,H));else{if(!hr(jt))throw new Error("Invalid CanDeactivate guard");Ht=on(jt(A,I,C,H))}return Ht.pipe((0,Ne.P)())});return(0,ne.of)(Be).pipe(Fs())}(K.component,K.route,C,I,H)),(0,Ne.P)(K=>!0!==K,!0))}(Be,H,K,A).pipe((0,We.z)(ct=>ct&&function Es(A){return"boolean"==typeof A}(ct)?function zo(A,I,C,H){return(0,_e.D)(I).pipe((0,te.b)(K=>(0,xe.z)(function Wo(A,I){return null!==A&&I&&I(new St(A)),(0,ne.of)(!0)}(K.route.parent,H),function nr(A,I){return null!==A&&I&&I(new On(A)),(0,ne.of)(!0)}(K.route,H),function Is(A,I,C){const H=I[I.length-1],Q=I.slice(0,I.length-1).reverse().map(Be=>function de(A){const I=A.routeConfig?A.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:A,guards:I}:null}(Be)).filter(Be=>null!==Be).map(Be=>(0,He.P)(()=>{const ct=Be.guards.map(jt=>{const Ht=Bt(jt,Be.node,C);let un;if(function Wr(A){return A&&hr(A.canActivateChild)}(Ht))un=on(Ht.canActivateChild(H,A));else{if(!hr(Ht))throw new Error("Invalid CanActivateChild guard");un=on(Ht(H,A))}return un.pipe((0,Ne.P)())});return(0,ne.of)(ct).pipe(Fs())}));return(0,ne.of)(Q).pipe(Fs())}(A,K.path,C),function go(A,I,C){const H=I.routeConfig?I.routeConfig.canActivate:null;if(!H||0===H.length)return(0,ne.of)(!0);const K=H.map(Q=>(0,He.P)(()=>{const Be=Bt(Q,I,C);let ct;if(function ar(A){return A&&hr(A.canActivate)}(Be))ct=on(Be.canActivate(I,A));else{if(!hr(Be))throw new Error("Invalid CanActivate guard");ct=on(Be(I,A))}return ct.pipe((0,Ne.P)())}));return(0,ne.of)(K).pipe(Fs())}(A,K.route,C))),(0,Ne.P)(K=>!0!==K,!0))}(H,Q,A,I):(0,ne.of)(ct)),(0,Se.U)(ct=>Object.assign(Object.assign({},C),{guardsResult:ct})))})}(this.ngModule.injector,ct=>this.triggerEvent(ct)),(0,yt.b)(ct=>{if(rs(ct.guardsResult)){const Ht=Z(`Redirecting to "${this.serializeUrl(ct.guardsResult)}"`);throw Ht.url=ct.guardsResult,Ht}const jt=new Ot(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot,!!ct.guardsResult);this.triggerEvent(jt)}),(0,at.h)(ct=>!!ct.guardsResult||(this.restoreHistory(ct),this.cancelNavigationTransition(ct,""),!1)),Rn(ct=>{if(ct.guards.canActivateChecks.length)return(0,ne.of)(ct).pipe((0,yt.b)(jt=>{const Ht=new Et(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);this.triggerEvent(Ht)}),(0,De.w)(jt=>{let Ht=!1;return(0,ne.of)(jt).pipe(function rt(A,I){return(0,We.z)(C=>{const{targetSnapshot:H,guards:{canActivateChecks:K}}=C;if(!K.length)return(0,ne.of)(C);let Q=0;return(0,_e.D)(K).pipe((0,te.b)(Be=>function ot(A,I,C,H){return function Mt(A,I,C,H){const K=Wt(A);if(0===K.length)return(0,ne.of)({});const Q={};return(0,_e.D)(K).pipe((0,We.z)(Be=>function Dn(A,I,C,H){const K=Bt(A,I,H);return on(K.resolve?K.resolve(I,C):K(I,C))}(A[Be],I,C,H).pipe((0,yt.b)(ct=>{Q[Be]=ct}))),ke(1),(0,We.z)(()=>Wt(Q).length===K.length?(0,ne.of)(Q):st.E))}(A._resolve,A,I,H).pipe((0,Se.U)(Q=>(A._resolvedData=Q,A.data=Object.assign(Object.assign({},A.data),_s(A,C).resolve),null)))}(Be.route,H,A,I)),(0,yt.b)(()=>Q++),ke(1),(0,We.z)(Be=>Q===K.length?(0,ne.of)(C):st.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yt.b)({next:()=>Ht=!0,complete:()=>{Ht||(this.restoreHistory(jt),this.cancelNavigationTransition(jt,"At least one route resolver didn't emit any value."))}}))}),(0,yt.b)(jt=>{const Ht=new bt(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);this.triggerEvent(Ht)}))}),Rn(ct=>{const{targetSnapshot:jt,id:Ht,extractedUrl:un,rawUrl:Ln,extras:{skipLocationChange:en,replaceUrl:It}}=ct;return this.hooks.afterPreactivation(jt,{navigationId:Ht,appliedUrlTree:un,rawUrlTree:Ln,skipLocationChange:!!en,replaceUrl:!!It})}),(0,Se.U)(ct=>{const jt=function ys(A,I,C){const H=Bi(A,I._root,C?C._root:void 0);return new Ti(H,I)}(this.routeReuseStrategy,ct.targetSnapshot,ct.currentRouterState);return Object.assign(Object.assign({},ct),{targetRouterState:jt})}),(0,yt.b)(ct=>{this.currentUrlTree=ct.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ct.urlAfterRedirects,ct.rawUrl),this.routerState=ct.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ct.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ct),this.browserUrlTree=ct.urlAfterRedirects)}),((A,I,C)=>(0,Se.U)(H=>(new Ks(I,H.targetRouterState,H.currentRouterState,C).activate(A),H)))(this.rootContexts,this.routeReuseStrategy,ct=>this.triggerEvent(ct)),(0,yt.b)({next(){Q=!0},complete(){Q=!0}}),(0,_t.x)(()=>{var ct;Q||Be||this.cancelNavigationTransition(K,`Navigation ID ${K.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ct=this.currentNavigation)||void 0===ct?void 0:ct.id)===K.id&&(this.currentNavigation=null)}),(0,Ue.K)(ct=>{if(Be=!0,function ie(A){return A&&A[O]}(ct)){const jt=rs(ct.url);jt||(this.navigated=!0,this.restoreHistory(K,!0));const Ht=new z(K.id,this.serializeUrl(K.extractedUrl),ct.message);H.next(Ht),jt?setTimeout(()=>{const un=this.urlHandlingStrategy.merge(ct.url,this.rawUrlTree),Ln={skipLocationChange:K.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||io(K.source)};this.scheduleNavigation(un,"imperative",null,Ln,{resolve:K.resolve,reject:K.reject,promise:K.promise})},0):K.resolve(!1)}else{this.restoreHistory(K,!0);const jt=new Ce(K.id,this.serializeUrl(K.extractedUrl),ct);H.next(jt);try{K.resolve(this.errorHandler(ct))}catch(Ht){K.reject(Ht)}}return st.E}))}))}resetRootComponentType(C){this.rootComponentType=C,this.routerState.root.component=this.rootComponentType}setTransition(C){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),C))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const H="popstate"===C.type?"popstate":"hashchange";"popstate"===H&&setTimeout(()=>{var K;const Q={replaceUrl:!0},Be=(null===(K=C.state)||void 0===K?void 0:K.navigationId)?C.state:null;if(Be){const jt=Object.assign({},Be);delete jt.navigationId,delete jt.\u0275routerPageId,0!==Object.keys(jt).length&&(Q.state=jt)}const ct=this.parseUrl(C.url);this.scheduleNavigation(ct,H,Be,Q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(C){this.events.next(C)}resetConfig(C){ws(C),this.config=C.map(wr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,H={}){const{relativeTo:K,queryParams:Q,fragment:Be,queryParamsHandling:ct,preserveFragment:jt}=H,Ht=K||this.routerState.root,un=jt?this.currentUrlTree.fragment:Be;let Ln=null;switch(ct){case"merge":Ln=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Q);break;case"preserve":Ln=this.currentUrlTree.queryParams;break;default:Ln=Q||null}return null!==Ln&&(Ln=this.removeEmptyProps(Ln)),function zs(A,I,C,H,K){if(0===C.length)return Ws(I.root,I.root,I.root,H,K);const Q=function er(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new wo(!0,0,A);let I=0,C=!1;const H=A.reduce((K,Q,Be)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const ct={};return ln(Q.outlets,(jt,Ht)=>{ct[Ht]="string"==typeof jt?jt.split("/"):jt}),[...K,{outlets:ct}]}if(Q.segmentPath)return[...K,Q.segmentPath]}return"string"!=typeof Q?[...K,Q]:0===Be?(Q.split("/").forEach((ct,jt)=>{0==jt&&"."===ct||(0==jt&&""===ct?C=!0:".."===ct?I++:""!=ct&&K.push(ct))}),K):[...K,Q]},[]);return new wo(C,I,H)}(C);if(Q.toRoot())return Ws(I.root,I.root,new Re([],{}),H,K);const Be=function es(A,I,C){if(A.isAbsolute)return new zr(I.root,!0,0);if(-1===C.snapshot._lastPathIndex){const Q=C.snapshot._urlSegment;return new zr(Q,Q===I.root,0)}const H=or(A.commands[0])?0:1;return function Do(A,I,C){let H=A,K=I,Q=C;for(;Q>K;){if(Q-=K,H=H.parent,!H)throw new Error("Invalid number of '../'");K=H.segments.length}return new zr(H,!1,K-Q)}(C.snapshot._urlSegment,C.snapshot._lastPathIndex+H,A.numberOfDoubleDots)}(Q,I,A),ct=Be.processChildren?ts(Be.segmentGroup,Be.index,Q.commands):eo(Be.segmentGroup,Be.index,Q.commands);return Ws(I.root,Be.segmentGroup,ct,H,K)}(Ht,this.currentUrlTree,C,Ln,null!=un?un:null)}navigateByUrl(C,H={skipLocationChange:!1}){const K=rs(C)?C:this.parseUrl(C),Q=this.urlHandlingStrategy.merge(K,this.rawUrlTree);return this.scheduleNavigation(Q,"imperative",null,H)}navigate(C,H={skipLocationChange:!1}){return function Mo(A){for(let I=0;I<A.length;I++){const C=A[I];if(null==C)throw new Error(`The requested path contains ${C} segment at index ${I}`)}}(C),this.navigateByUrl(this.createUrlTree(C,H),H)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let H;try{H=this.urlSerializer.parse(C)}catch(K){H=this.malformedUriErrorHandler(K,this.urlSerializer,C)}return H}isActive(C,H){let K;if(K=!0===H?Object.assign({},Vi):!1===H?Object.assign({},Yr):H,rs(C))return an(this.currentUrlTree,C,K);const Q=this.parseUrl(C);return an(this.currentUrlTree,Q,K)}removeEmptyProps(C){return Object.keys(C).reduce((H,K)=>{const Q=C[K];return null!=Q&&(H[K]=Q),H},{})}processNavigations(){this.navigations.subscribe(C=>{this.navigated=!0,this.lastSuccessfulId=C.id,this.currentPageId=C.targetPageId,this.events.next(new Ge(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,C.resolve(!0)},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}scheduleNavigation(C,H,K,Q,Be){var ct,jt;if(this.disposed)return Promise.resolve(!1);let Ht,un,Ln;Be?(Ht=Be.resolve,un=Be.reject,Ln=Be.promise):Ln=new Promise((Qt,Ji)=>{Ht=Qt,un=Ji});const en=++this.navigationId;let It;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(K=this.location.getState()),It=K&&K.\u0275routerPageId?K.\u0275routerPageId:Q.replaceUrl||Q.skipLocationChange?null!==(ct=this.browserPageId)&&void 0!==ct?ct:0:(null!==(jt=this.browserPageId)&&void 0!==jt?jt:0)+1):It=0,this.setTransition({id:en,targetPageId:It,source:H,restoredState:K,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:C,extras:Q,resolve:Ht,reject:un,promise:Ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ln.catch(Qt=>Promise.reject(Qt))}setBrowserUrl(C,H){const K=this.urlSerializer.serialize(C),Q=Object.assign(Object.assign({},H.extras.state),this.generateNgRouterState(H.id,H.targetPageId));this.location.isCurrentPathEqualTo(K)||H.extras.replaceUrl?this.location.replaceState(K,"",Q):this.location.go(K,"",Q)}restoreHistory(C,H=!1){var K,Q;if("computed"===this.canceledNavigationResolution){const Be=this.currentPageId-C.targetPageId;"popstate"!==C.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(K=this.currentNavigation)||void 0===K?void 0:K.finalUrl)||0===Be?this.currentUrlTree===(null===(Q=this.currentNavigation)||void 0===Q?void 0:Q.finalUrl)&&0===Be&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Be)}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(C,H){const K=new z(C.id,this.serializeUrl(C.extractedUrl),H);this.triggerEvent(K),C.resolve(!1)}generateNgRouterState(C,H){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:H}:{navigationId:C}}}return A.\u0275fac=function(C){h.$Z()},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();function io(A){return"imperative"!==A}let Bs=(()=>{class A{constructor(C,H,K,Q,Be){this.router=C,this.route=H,this.tabIndexAttribute=K,this.renderer=Q,this.el=Be,this.commands=null,this.onChanges=new Fe.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(C){if(null!=this.tabIndexAttribute)return;const H=this.renderer,K=this.el.nativeElement;null!==C?H.setAttribute(K,"tabindex",C):H.removeAttribute(K,"tabindex")}ngOnChanges(C){this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const C={skipLocationChange:qr(this.skipLocationChange),replaceUrl:qr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qr(this.preserveFragment)})}}return A.\u0275fac=function(C){return new(C||A)(h.Y36(Qi),h.Y36(ur),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},A.\u0275dir=h.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(C,H){1&C&&h.NdJ("click",function(){return H.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),A})();function qr(A){return""===A||!!A}class Mn{}class Kn{preload(I,C){return(0,ne.of)(null)}}let ui=(()=>{class A{constructor(C,H,K,Q){this.router=C,this.injector=K,this.preloadingStrategy=Q,this.loader=new ki(K,H,jt=>C.triggerEvent(new Vt(jt)),jt=>C.triggerEvent(new Ze(jt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,at.h)(C=>C instanceof Ge),(0,te.b)(()=>this.preload())).subscribe(()=>{})}preload(){const C=this.injector.get(h.h0i);return this.processRoutes(C,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,H){const K=[];for(const Q of H)if(Q.loadChildren&&!Q.canLoad&&Q._loadedConfig){const Be=Q._loadedConfig;K.push(this.processRoutes(Be.module,Be.routes))}else Q.loadChildren&&!Q.canLoad?K.push(this.preloadConfig(C,Q)):Q.children&&K.push(this.processRoutes(C,Q.children));return(0,_e.D)(K).pipe((0,Je.J)(),(0,Se.U)(Q=>{}))}preloadConfig(C,H){return this.preloadingStrategy.preload(H,()=>(H._loadedConfig?(0,ne.of)(H._loadedConfig):this.loader.load(C.injector,H)).pipe((0,We.z)(Q=>(H._loadedConfig=Q,this.processRoutes(Q.module,Q.routes)))))}}return A.\u0275fac=function(C){return new(C||A)(h.LFG(Qi),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Mn))},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})(),Ui=(()=>{class A{constructor(C,H,K={}){this.router=C,this.viewportScroller=H,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(C=>{C instanceof Ee?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof Ge&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.router.parseUrl(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(C=>{C instanceof fn&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,H){this.router.triggerEvent(new fn(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(C){h.$Z()},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();const rr=new h.OlP("ROUTER_CONFIGURATION"),os=new h.OlP("ROUTER_FORROOT_GUARD"),Ni=[je.Ye,{provide:vn,useClass:hi},{provide:Qi,useFactory:function pa(A,I,C,H,K,Q,Be={},ct,jt){const Ht=new Qi(null,A,I,C,H,K,gt(Q));return ct&&(Ht.urlHandlingStrategy=ct),jt&&(Ht.routeReuseStrategy=jt),function Vs(A,I){A.errorHandler&&(I.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(I.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(I.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(I.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(I.urlUpdateStrategy=A.urlUpdateStrategy),A.canceledNavigationResolution&&(I.canceledNavigationResolution=A.canceledNavigationResolution)}(Be,Ht),Be.enableTracing&&Ht.events.subscribe(un=>{var Ln,en;null===(Ln=console.group)||void 0===Ln||Ln.call(console,`Router Event: ${un.constructor.name}`),console.log(un.toString()),console.log(un),null===(en=console.groupEnd)||void 0===en||en.call(console)}),Ht},deps:[vn,ls,je.Ye,h.zs3,h.Sil,Zn,rr,[class tr{},new h.FiY],[class zn{},new h.FiY]]},ls,{provide:ur,useFactory:function ul(A){return A.routerState.root},deps:[Qi]},ui,Kn,class En{preload(I,C){return C().pipe((0,Ue.K)(()=>(0,ne.of)(null)))}},{provide:rr,useValue:{enableTracing:!1}}];function Zo(){return new h.PXZ("Router",Qi)}let fs=(()=>{class A{constructor(C,H){}static forRoot(C,H){return{ngModule:A,providers:[Ni,Ms(C),{provide:os,useFactory:Ki,deps:[[Qi,new h.FiY,new h.tp0]]},{provide:rr,useValue:H||{}},{provide:je.S$,useFactory:Ao,deps:[je.lw,[new h.tBr(je.mr),new h.FiY],rr]},{provide:Ui,useFactory:Qr,deps:[Qi,je.EM,rr]},{provide:Mn,useExisting:H&&H.preloadingStrategy?H.preloadingStrategy:Kn},{provide:h.PXZ,multi:!0,useFactory:Zo},[Ha,{provide:h.ip1,multi:!0,useFactory:so,deps:[Ha]},{provide:Xi,useFactory:dl,deps:[Ha]},{provide:h.tb,multi:!0,useExisting:Xi}]]}}static forChild(C){return{ngModule:A,providers:[Ms(C)]}}}return A.\u0275fac=function(C){return new(C||A)(h.LFG(os,8),h.LFG(Qi,8))},A.\u0275mod=h.oAB({type:A}),A.\u0275inj=h.cJS({}),A})();function Qr(A,I,C){return C.scrollOffset&&I.setOffset(C.scrollOffset),new Ui(A,I,C)}function Ao(A,I,C={}){return C.useHash?new je.Do(A,I):new je.b0(A,I)}function Ki(A){return"guarded"}function Ms(A){return[{provide:h.deG,multi:!0,useValue:A},{provide:Zn,multi:!0,useValue:A}]}let Ha=(()=>{class A{constructor(C){this.injector=C,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Fe.x}appInitializer(){return this.injector.get(je.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let H=null;const K=new Promise(ct=>H=ct),Q=this.injector.get(Qi),Be=this.injector.get(rr);return"disabled"===Be.initialNavigation?(Q.setUpLocationChangeListener(),H(!0)):"enabled"===Be.initialNavigation||"enabledBlocking"===Be.initialNavigation?(Q.hooks.afterPreactivation=()=>this.initNavigation?(0,ne.of)(null):(this.initNavigation=!0,H(!0),this.resultOfPreactivationDone),Q.initialNavigation()):H(!0),K})}bootstrapListener(C){const H=this.injector.get(rr),K=this.injector.get(ui),Q=this.injector.get(Ui),Be=this.injector.get(Qi),ct=this.injector.get(h.z2F);C===ct.components[0]&&(("enabledNonBlocking"===H.initialNavigation||void 0===H.initialNavigation)&&Be.initialNavigation(),K.setUpPreloading(),Q.init(),Be.resetRootComponentType(ct.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(C){return new(C||A)(h.LFG(h.zs3))},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();function so(A){return A.appInitializer.bind(A)}function dl(A){return A.bootstrapListener.bind(A)}const Xi=new h.OlP("Router Initializer")},3942:($t,Xe,b)=>{b.d(Xe,{Z:()=>He});var h=b(2090),w=b(4859),g=b(9681),$=b(1877);class we{constructor(Fe,at){this._delegate=Fe,this.firebase=at,(0,g._addComponent)(Fe,new w.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,g.deleteApp)(this._delegate)))}_getService(Fe,at=g._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const Nt=this._delegate.container.getProvider(Fe);return!Nt.isInitialized()&&"EXPLICIT"===(null===(ke=Nt.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&Nt.initialize(),Nt.getImmediate({identifier:at})}_removeServiceInstance(Fe,at=g._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(at)}_addComponent(Fe){(0,g._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,g._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function ne(){const st=function _e(st){const Fe={},at={__esModule:!0,initializeApp:function it(De,J={}){const Qe=g.initializeApp(De,J);if((0,h.r3)(Fe,Qe.name))return Fe[Qe.name];const se=new st(Qe,at);return Fe[Qe.name]=se,se},app:Nt,registerVersion:g.registerVersion,setLogLevel:g.setLogLevel,onLog:g.onLog,apps:null,SDK_VERSION:g.SDK_VERSION,INTERNAL:{registerComponent:function fe(De){const J=De.name,Qe=J.replace("-compat","");if(g._registerComponent(De)&&"PUBLIC"===De.type){const se=(Ue=Nt())=>{if("function"!=typeof Ue[Qe])throw Pe.create("invalid-app-argument",{appName:J});return Ue[Qe]()};void 0!==De.serviceProps&&(0,h.ZB)(se,De.serviceProps),at[Qe]=se,st.prototype[Qe]=function(...Ue){return this._getService.bind(this,J).apply(this,De.multipleInstances?Ue:[])}}return"PUBLIC"===De.type?at[Qe]:null},removeApp:function ke(De){delete Fe[De]},useAsService:function Se(De,J){return"serverAuth"===J?null:J},modularAPIs:g}};function Nt(De){if(!(0,h.r3)(Fe,De=De||g._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:De});return Fe[De]}return at.default=at,Object.defineProperty(at,"apps",{get:function be(){return Object.keys(Fe).map(De=>Fe[De])}}),Nt.App=st,at}(we);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function Fe(at){(0,h.ZB)(st,at)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),st}(),pe=new $.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=X;!function xe(st){(0,g.registerVersion)("@firebase/app-compat","0.1.33",st)}()},9681:($t,Xe,b)=>{b.r(Xe),b.d(Xe,{FirebaseError:()=>$.ZR,SDK_VERSION:()=>St,_DEFAULT_ENTRY_NAME:()=>je,_addComponent:()=>z,_addOrOverwriteComponent:()=>Ce,_apps:()=>Ee,_clearComponents:()=>Et,_components:()=>Ge,_getProvider:()=>pt,_registerComponent:()=>Rt,_removeServiceInstance:()=>Ot,deleteApp:()=>fn,getApp:()=>On,getApps:()=>Fn,initializeApp:()=>sn,onLog:()=>ht,registerVersion:()=>cn,setLogLevel:()=>O});var h=b(5861),w=b(4859),g=b(1877),$=b(2090),we=b(8766);class Ie{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map(R=>{if(function Pe(U){const P=U.getComponent();return"VERSION"===(null==P?void 0:P.type)}(R)){const me=R.getImmediate();return`${me.library}/${me.version}`}return null}).filter(R=>R).join(" ")}}const _e="@firebase/app",X=new g.Yd("@firebase/app"),je="[DEFAULT]",$e={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ee=new Map,Ge=new Map;function z(U,P){try{U.container.addComponent(P)}catch(R){X.debug(`Component ${P.name} failed to register with FirebaseApp ${U.name}`,R)}}function Ce(U,P){U.container.addOrOverwriteComponent(P)}function Rt(U){const P=U.name;if(Ge.has(P))return X.debug(`There were multiple attempts to register component ${P}.`),!1;Ge.set(P,U);for(const R of Ee.values())z(R,U);return!0}function pt(U,P){const R=U.container.getProvider("heartbeat").getImmediate({optional:!0});return R&&R.triggerHeartbeat(),U.container.getProvider(P)}function Ot(U,P,R=je){pt(U,P).clearInstance(R)}function Et(){Ge.clear()}const Vt=new $.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ze{constructor(P,R,me){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},R),this._name=R.name,this._automaticDataCollectionEnabled=R.automaticDataCollectionEnabled,this._container=me,this.container.addComponent(new w.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}const St="9.9.4";function sn(U,P={}){"object"!=typeof P&&(P={name:P});const R=Object.assign({name:je,automaticDataCollectionEnabled:!1},P),me=R.name;if("string"!=typeof me||!me)throw Vt.create("bad-app-name",{appName:String(me)});const Re=Ee.get(me);if(Re){if((0,$.vZ)(U,Re.options)&&(0,$.vZ)(R,Re.config))return Re;throw Vt.create("duplicate-app",{appName:me})}const Dt=new w.H0(me);for(const Cn of Ge.values())Dt.addComponent(Cn);const mn=new Ze(U,R,Dt);return Ee.set(me,mn),mn}function On(U=je){const P=Ee.get(U);if(!P)throw Vt.create("no-app",{appName:U});return P}function Fn(){return Array.from(Ee.values())}function fn(U){return gn.apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(U){const P=U.name;Ee.has(P)&&(Ee.delete(P),yield Promise.all(U.container.getProviders().map(R=>R.delete())),U.isDeleted=!0)})).apply(this,arguments)}function cn(U,P,R){var me;let Re=null!==(me=$e[U])&&void 0!==me?me:U;R&&(Re+=`-${R}`);const Dt=Re.match(/\s|\//),mn=P.match(/\s|\//);if(Dt||mn){const Cn=[`Unable to register library "${Re}" with version "${P}":`];return Dt&&Cn.push(`library name "${Re}" contains illegal characters (whitespace or "/")`),Dt&&mn&&Cn.push("and"),mn&&Cn.push(`version name "${P}" contains illegal characters (whitespace or "/")`),void X.warn(Cn.join(" "))}Rt(new w.wA(`${Re}-version`,()=>({library:Re,version:P}),"VERSION"))}function ht(U,P){if(null!==U&&"function"!=typeof U)throw Vt.create("invalid-log-argument");(0,g.Am)(U,P)}function O(U){(0,g.Ub)(U)}const ge="firebase-heartbeat-store";let Ae=null;function ue(){return Ae||(Ae=(0,we.X3)("firebase-heartbeat-database",1,{upgrade:(U,P)=>{0===P&&U.createObjectStore(ge)}}).catch(U=>{throw Vt.create("idb-open",{originalErrorMessage:U.message})})),Ae}function gt(){return(gt=(0,h.Z)(function*(U){var P;try{return(yield ue()).transaction(ge).objectStore(ge).get(ln(U))}catch(R){if(R instanceof $.ZR)X.warn(R.message);else{const me=Vt.create("idb-get",{originalErrorMessage:null===(P=R)||void 0===P?void 0:P.message});X.warn(me.message)}}})).apply(this,arguments)}function Tt(U,P){return rn.apply(this,arguments)}function rn(){return(rn=(0,h.Z)(function*(U,P){var R;try{const Re=(yield ue()).transaction(ge,"readwrite");return yield Re.objectStore(ge).put(P,ln(U)),Re.done}catch(me){if(me instanceof $.ZR)X.warn(me.message);else{const Re=Vt.create("idb-set",{originalErrorMessage:null===(R=me)||void 0===R?void 0:R.message});X.warn(Re.message)}}})).apply(this,arguments)}function ln(U){return`${U.name}!${U.options.appId}`}class Hn{constructor(P){this.container=P,this._heartbeatsCache=null;const R=this.container.getProvider("app").getImmediate();this._storage=new Ai(R),this._heartbeatsCachePromise=this._storage.read().then(me=>(this._heartbeatsCache=me,me))}triggerHeartbeat(){var P=this;return(0,h.Z)(function*(){const me=P.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Re=ii();if(null===P._heartbeatsCache&&(P._heartbeatsCache=yield P._heartbeatsCachePromise),P._heartbeatsCache.lastSentHeartbeatDate!==Re&&!P._heartbeatsCache.heartbeats.some(Dt=>Dt.date===Re))return P._heartbeatsCache.heartbeats.push({date:Re,agent:me}),P._heartbeatsCache.heartbeats=P._heartbeatsCache.heartbeats.filter(Dt=>{const mn=new Date(Dt.date).valueOf();return Date.now()-mn<=2592e6}),P._storage.overwrite(P._heartbeatsCache)})()}getHeartbeatsHeader(){var P=this;return(0,h.Z)(function*(){if(null===P._heartbeatsCache&&(yield P._heartbeatsCachePromise),null===P._heartbeatsCache||0===P._heartbeatsCache.heartbeats.length)return"";const R=ii(),{heartbeatsToSend:me,unsentEntries:Re}=function an(U,P=1024){const R=[];let me=U.slice();for(const Re of U){const Dt=R.find(mn=>mn.agent===Re.agent);if(Dt){if(Dt.dates.push(Re.date),qe(R)>P){Dt.dates.pop();break}}else if(R.push({agent:Re.agent,dates:[Re.date]}),qe(R)>P){R.pop();break}me=me.slice(1)}return{heartbeatsToSend:R,unsentEntries:me}}(P._heartbeatsCache.heartbeats),Dt=(0,$.L)(JSON.stringify({version:2,heartbeats:me}));return P._heartbeatsCache.lastSentHeartbeatDate=R,Re.length>0?(P._heartbeatsCache.heartbeats=Re,yield P._storage.overwrite(P._heartbeatsCache)):(P._heartbeatsCache.heartbeats=[],P._storage.overwrite(P._heartbeatsCache)),Dt})()}}function ii(){return(new Date).toISOString().substring(0,10)}class Ai{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,$.hl)()&&(0,$.eu)().then(()=>!0).catch(()=>!1)})()}read(){var P=this;return(0,h.Z)(function*(){return(yield P._canUseIndexedDBPromise)&&(yield function tt(U){return gt.apply(this,arguments)}(P.app))||{heartbeats:[]}})()}overwrite(P){var R=this;return(0,h.Z)(function*(){var me;if(yield R._canUseIndexedDBPromise){const Dt=yield R.read();return Tt(R.app,{lastSentHeartbeatDate:null!==(me=P.lastSentHeartbeatDate)&&void 0!==me?me:Dt.lastSentHeartbeatDate,heartbeats:P.heartbeats})}})()}add(P){var R=this;return(0,h.Z)(function*(){var me;if(yield R._canUseIndexedDBPromise){const Dt=yield R.read();return Tt(R.app,{lastSentHeartbeatDate:null!==(me=P.lastSentHeartbeatDate)&&void 0!==me?me:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...P.heartbeats]})}})()}}function qe(U){return(0,$.L)(JSON.stringify({version:2,heartbeats:U})).length}!function he(U){Rt(new w.wA("platform-logger",P=>new Ie(P),"PRIVATE")),Rt(new w.wA("heartbeat",P=>new Hn(P),"PRIVATE")),cn(_e,"0.7.32",U),cn(_e,"0.7.32","esm2017"),cn("fire-js","")}("")},4859:($t,Xe,b)=>{b.d(Xe,{wA:()=>g,H0:()=>_e});var h=b(5861),w=b(2090);class g{constructor(X,pe,ce){this.name=X,this.instanceFactory=pe,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const $="[DEFAULT]";class we{constructor(X,pe){this.name=X,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const pe=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(pe)){const ce=new w.BH;if(this.instancesDeferred.set(pe,ce),this.isInitialized(pe)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:pe});ze&&ce.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(pe).promise}getImmediate(X){var pe;const ce=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),ze=null!==(pe=null==X?void 0:X.optional)&&void 0!==pe&&pe;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(xe){if(ze)return null;throw xe}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Pe(ne){return"EAGER"===ne.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:$})}catch(pe){}for(const[pe,ce]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(pe);try{const xe=this.getOrInitializeService({instanceIdentifier:ze});ce.resolve(xe)}catch(xe){}}}}clearInstance(X=$){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,h.Z)(function*(){const pe=Array.from(X.instances.values());yield Promise.all([...pe.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...pe.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=$){return this.instances.has(X)}getOptions(X=$){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:pe={}}=X,ce=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ce,options:pe});for(const[xe,He]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(xe)&&He.resolve(ze);return ze}onInit(X,pe){var ce;const ze=this.normalizeInstanceIdentifier(pe),xe=null!==(ce=this.onInitCallbacks.get(ze))&&void 0!==ce?ce:new Set;xe.add(X),this.onInitCallbacks.set(ze,xe);const He=this.instances.get(ze);return He&&X(He,ze),()=>{xe.delete(X)}}invokeOnInitCallbacks(X,pe){const ce=this.onInitCallbacks.get(pe);if(ce)for(const ze of ce)try{ze(X,pe)}catch(xe){}}getOrInitializeService({instanceIdentifier:X,options:pe={}}){let ce=this.instances.get(X);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=X,ne===$?void 0:ne),options:pe}),this.instances.set(X,ce),this.instancesOptions.set(X,pe),this.invokeOnInitCallbacks(ce,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,ce)}catch(ze){}var ne;return ce||null}normalizeInstanceIdentifier(X=$){return this.component?this.component.multipleInstances?X:$:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const pe=this.getProvider(X.name);if(pe.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);pe.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const pe=new we(X,this);return this.providers.set(X,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1877:($t,Xe,b)=>{b.d(Xe,{in:()=>w,Yd:()=>Pe,Ub:()=>_e,Am:()=>ne});const h=[];var w=(()=>{return(X=w||(w={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",w;var X})();const g={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},$=w.INFO,we={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},Ie=(X,pe,...ce)=>{if(pe<X.logLevel)return;const ze=(new Date).toISOString(),xe=we[pe];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[xe](`[${ze}]  ${X.name}:`,...ce)};class Pe{constructor(pe){this.name=pe,this._logLevel=$,this._logHandler=Ie,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in w))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?g[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...pe),this._logHandler(this,w.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...pe),this._logHandler(this,w.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,w.INFO,...pe),this._logHandler(this,w.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,w.WARN,...pe),this._logHandler(this,w.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,w.ERROR,...pe),this._logHandler(this,w.ERROR,...pe)}}function _e(X){h.forEach(pe=>{pe.setLogLevel(X)})}function ne(X,pe){for(const ce of h){let ze=null;pe&&pe.level&&(ze=g[pe.level]),ce.userLogHandler=null===X?null:(xe,He,...st)=>{const Fe=st.map(at=>{if(null==at)return null;if("string"==typeof at)return at;if("number"==typeof at||"boolean"==typeof at)return at.toString();if(at instanceof Error)return at.message;try{return JSON.stringify(at)}catch(ke){return null}}).filter(at=>at).join(" ");He>=(null!=ze?ze:xe.logLevel)&&X({level:w[He].toLowerCase(),message:Fe,args:st,type:xe.name})}}}},8766:($t,Xe,b)=>{b.d(Xe,{Lj:()=>it,X3:()=>Nt});var h=b(5861);let g,$;const Pe=new WeakMap,_e=new WeakMap,ne=new WeakMap,X=new WeakMap,pe=new WeakMap;let xe={get(J,Qe,se){if(J instanceof IDBTransaction){if("done"===Qe)return _e.get(J);if("objectStoreNames"===Qe)return J.objectStoreNames||ne.get(J);if("store"===Qe)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return at(J[Qe])},set:(J,Qe,se)=>(J[Qe]=se,!0),has:(J,Qe)=>J instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in J};function Fe(J){return"function"==typeof J?function st(J){return J!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(J)?function(...Qe){return J.apply(ke(this),Qe),at(Pe.get(this))}:function(...Qe){return at(J.apply(ke(this),Qe))}:function(Qe,...se){const Ue=J.call(ke(this),Qe,...se);return ne.set(Ue,Qe.sort?Qe.sort():[Qe]),at(Ue)}}(J):(J instanceof IDBTransaction&&function ze(J){if(_e.has(J))return;const Qe=new Promise((se,Ue)=>{const te=()=>{J.removeEventListener("complete",Ne),J.removeEventListener("error",We),J.removeEventListener("abort",We)},Ne=()=>{se(),te()},We=()=>{Ue(J.error||new DOMException("AbortError","AbortError")),te()};J.addEventListener("complete",Ne),J.addEventListener("error",We),J.addEventListener("abort",We)});_e.set(J,Qe)}(J),((J,Qe)=>Qe.some(se=>J instanceof se))(J,function we(){return g||(g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(J,xe):J)}function at(J){if(J instanceof IDBRequest)return function ce(J){const Qe=new Promise((se,Ue)=>{const te=()=>{J.removeEventListener("success",Ne),J.removeEventListener("error",We)},Ne=()=>{se(at(J.result)),te()},We=()=>{Ue(J.error),te()};J.addEventListener("success",Ne),J.addEventListener("error",We)});return Qe.then(se=>{se instanceof IDBCursor&&Pe.set(se,J)}).catch(()=>{}),pe.set(Qe,J),Qe}(J);if(X.has(J))return X.get(J);const Qe=Fe(J);return Qe!==J&&(X.set(J,Qe),pe.set(Qe,J)),Qe}const ke=J=>pe.get(J);function Nt(J,Qe,{blocked:se,upgrade:Ue,blocking:te,terminated:Ne}={}){const We=indexedDB.open(J,Qe),yt=at(We);return Ue&&We.addEventListener("upgradeneeded",_t=>{Ue(at(We.result),_t.oldVersion,_t.newVersion,at(We.transaction))}),se&&We.addEventListener("blocked",()=>se()),yt.then(_t=>{Ne&&_t.addEventListener("close",()=>Ne()),te&&_t.addEventListener("versionchange",()=>te())}).catch(()=>{}),yt}function it(J,{blocked:Qe}={}){const se=indexedDB.deleteDatabase(J);return Qe&&se.addEventListener("blocked",()=>Qe()),at(se).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],fe=["put","add","delete","clear"],Se=new Map;function De(J,Qe){if(!(J instanceof IDBDatabase)||Qe in J||"string"!=typeof Qe)return;if(Se.get(Qe))return Se.get(Qe);const se=Qe.replace(/FromIndex$/,""),Ue=Qe!==se,te=fe.includes(se);if(!(se in(Ue?IDBIndex:IDBObjectStore).prototype)||!te&&!be.includes(se))return;const Ne=function(){var We=(0,h.Z)(function*(yt,..._t){const Je=this.transaction(yt,te?"readwrite":"readonly");let je=Je.store;return Ue&&(je=je.index(_t.shift())),(yield Promise.all([je[se](..._t),te&&Je.done]))[0]});return function(_t){return We.apply(this,arguments)}}();return Se.set(Qe,Ne),Ne}!function He(J){xe=J(xe)}(J=>cC(lC({},J),{get:(Qe,se,Ue)=>De(Qe,se)||J.get(Qe,se,Ue),has:(Qe,se)=>!!De(Qe,se)||J.has(Qe,se)}))},5861:($t,Xe,b)=>{function h(g,$,we,Ie,Pe,_e,ne){try{var X=g[_e](ne),pe=X.value}catch(ce){return void we(ce)}X.done?$(pe):Promise.resolve(pe).then(Ie,Pe)}function w(g){return function(){var $=this,we=arguments;return new Promise(function(Ie,Pe){var _e=g.apply($,we);function ne(pe){h(_e,Ie,Pe,ne,X,"next",pe)}function X(pe){h(_e,Ie,Pe,ne,X,"throw",pe)}ne(void 0)})}}b.d(Xe,{Z:()=>w})}},$t=>{$t($t.s=2278)}]);