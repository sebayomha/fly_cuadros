"use strict";(self.webpackChunkfly_cuadros=self.webpackChunkfly_cuadros||[]).push([[872],{6872:(L,Z,e)=>{e.r(Z),e.d(Z,{PaintingCatalogModule:()=>E});var P=e(4466),c=e(9808),h=e(1402),U=e(7579),y=e(2722),p=(()=>((p||(p={})).CONFIRM="CONFIRMAR",p))(),m=e(3075),u=e(6498),t=e(5e3),g=e(9224),f=e(4623),C=e(508),v=e(4106),x=e(4107),O=e(4834),T=e(7423);function F(n,o){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const i=o.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i.tamanio," ")}}let M=(()=>{class n{constructor(i,a,r){this.data=i,this._bottomSheetRef=a,this.formBuilder=r,this.purchaseForm=this.formBuilder.group({measure:[m.kI.required],price:null}),this.painting=i,this.measures=i.medidas}measureChange({value:i}){this.purchaseForm.get("price").patchValue(i.precio)}confirm(){this._bottomSheetRef.dismiss({event:p.CONFIRM,data:this.purchaseForm})}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(u.OG),t.Y36(u.oL),t.Y36(m.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-purchase"]],decls:31,vars:10,consts:[[3,"formGroup","ngSubmit"],[1,"purchase-card"],[1,"purchase-list"],["mat-card-avatar","",3,"src"],["mat-list-item",""],["mat-line",""],[2,"margin-top","24px"],["formControlName","measure",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"price-container"],["mat-line","",1,"price"],[2,"margin","0 16px"],["mat-raised-button","","type","submit","color","primary",1,"full-width",3,"disabled"],[3,"value"]],template:function(i,a){1&i&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return a.confirm()}),t.TgZ(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Confirmar reserva"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"mat-list",2)(7,"mat-list-item"),t._UZ(8,"img",3),t.TgZ(9,"a",4)(10,"span",5),t._uU(11),t.qZA()()(),t.TgZ(12,"mat-list-item")(13,"mat-form-field",6)(14,"mat-label"),t._uU(15,"Tama\xf1o"),t.qZA(),t.TgZ(16,"mat-select",7),t.NdJ("selectionChange",function(s){return a.measureChange(s)}),t.YNc(17,F,2,2,"mat-option",8),t.qZA()()(),t.TgZ(18,"mat-list-item")(19,"div",9)(20,"span",5),t._uU(21,"Precio Final"),t.qZA(),t.TgZ(22,"span",10),t._uU(23),t.ALo(24,"currency"),t.ALo(25,"currency"),t.qZA()()()(),t._UZ(26,"mat-divider")(27,"div"),t.qZA(),t.TgZ(28,"mat-card-actions",11)(29,"button",12),t._uU(30,"CONFIRMAR"),t.qZA()()()()),2&i&&(t.Q6J("formGroup",a.purchaseForm),t.xp6(8),t.Q6J("src",a.painting.imagen,t.LSH),t.xp6(3),t.Oqu(a.painting.nombre),t.xp6(6),t.Q6J("ngForOf",a.measures),t.xp6(6),t.Oqu(t.lcZ(24,6,a.purchaseForm.get("price").value)||t.lcZ(25,8,"0")),t.xp6(6),t.Q6J("disabled",a.purchaseForm.invalid))},directives:[m._Y,m.JL,m.sg,g.a8,g.dk,g.n5,g.dn,f.i$,f.Tg,g.kc,C.X2,v.KE,v.hX,x.gD,m.JJ,m.u,c.sg,C.ey,O.d,g.hq,T.lW],pipes:[c.H9],styles:[".purchase-card[_ngcontent-%COMP%]{box-shadow:none!important;padding-left:0!important;padding-right:0!important;padding-bottom:0!important}mat-list-item[_ngcontent-%COMP%]{display:flex!important;gap:10px}.purchase-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{margin-top:16px}.price-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px}.price-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:500}"]}),n})();var S=e(4004),A=e(7018),R=e(7985),I=e(5651);let b=(()=>{class n{constructor(i,a){this.db=i,this.measuresService=a}getPaintings(i){return this.db.collection(A.M.PAINTINGS,a=>a.where("tipo_cuadro","==",i)).valueChanges({idField:"id"}).pipe((0,S.U)(a=>a.map(r=>{var s,l;return Object.assign(Object.assign({},r),{medidas:null!==(l=null===(s=this.measuresService.measures$.getValue())||void 0===s?void 0:s.filter($=>$.tipo===r.tipo_cuadro))&&void 0!==l?l:[]})})))}getBoxDetail(i){return this.db.collection(A.M.BOX_TYPES).doc(i).valueChanges()}}return n.\u0275fac=function(i){return new(i||n)(t.LFG(R.ST),t.LFG(I.W))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var d=e(6688),J=e(5381);function N(n,o){if(1&n&&(t.TgZ(0,"section"),t._uU(1),t.qZA()),2&n){const i=o.ngIf;t.xp6(1),t.hij(" Ingresaste a ver el catalogo del cuadro: ",null==i?null:i.nombre,"\n")}}function D(n,o){if(1&n){const i=t.EpF();t.ynx(0),t.TgZ(1,"app-image-card",12),t.ynx(2,13),t.TgZ(3,"button",14),t.NdJ("click",function(){const s=t.CHM(i).$implicit;return t.oxw().openReservationConfirmation(s)}),t._uU(4,"RESERVAR"),t.qZA(),t.BQk(),t.qZA(),t.BQk()}if(2&n){const i=o.$implicit;t.xp6(1),t.Q6J("cardInfo",i)("showRipple",!1)}}const B=[{path:"",component:(()=>{class n{constructor(i,a,r){this.activatedRoute=i,this.bottomSheet=a,this.paintingService=r,this.onDestroy$=new U.x,this.paintingCode=i.snapshot.paramMap.get("code")}ngOnInit(){this.getPaintings(),this.getBoxDetail()}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}openReservationConfirmation(i){this.bottomSheet.open(M,{data:i}).afterDismissed().pipe((0,y.R)(this.onDestroy$)).subscribe(a=>{a&&a.event===p.CONFIRM&&alert("CONFIRMACION:: ABRIR POPUP DE EXITO")})}onTeamChanges(i){console.log(i)}getPaintings(){this.paintings$=this.paintingService.getPaintings(this.paintingCode)}getBoxDetail(){this.boxDetail$=this.paintingService.getBoxDetail(this.paintingCode)}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(h.gz),t.Y36(u.ch),t.Y36(b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-painting-catalog"]],decls:61,vars:8,consts:[[4,"ngIf"],[1,"filter-section"],[3,"multiple","selectable","change"],["matChipAvatar","","src","https://media.tycsports.com/files/2020/09/04/116649/aldosivi.png"],["color","primary"],["matChipAvatar","","src","https://media.tycsports.com/files/2020/09/04/116700/argentinos-juniors.png"],["color","accent"],["matChipAvatar","","src","https://media.tycsports.com/files/2020/09/04/116701/arsenal.png"],["matChipAvatar","","src","https://media.tycsports.com/files/2020/09/04/116650/atletico-tucuman.png"],["matChipAvatar","","src","https://media.tycsports.com/files/2020/09/04/116702/banfield.png"],[1,"image-container"],[4,"ngFor","ngForOf"],[2,"flex","0 1 33%",3,"cardInfo","showRipple"],["slot","actions"],["mat-raised-button","","color","primary",1,"full-width",3,"click"]],template:function(i,a){1&i&&(t.YNc(0,N,2,1,"section",0),t.ALo(1,"async"),t.TgZ(2,"section",1)(3,"mat-chip-list",2),t.NdJ("change",function(s){return a.onTeamChanges(s)}),t.TgZ(4,"mat-chip"),t._UZ(5,"img",3),t.qZA(),t.TgZ(6,"mat-chip",4),t._UZ(7,"img",5),t.qZA(),t.TgZ(8,"mat-chip",6),t._UZ(9,"img",7),t.qZA(),t.TgZ(10,"mat-chip",6),t._UZ(11,"img",8),t.qZA(),t.TgZ(12,"mat-chip",6),t._UZ(13,"img",9),t.qZA(),t.TgZ(14,"mat-chip"),t._UZ(15,"img",3),t.qZA(),t.TgZ(16,"mat-chip",4),t._UZ(17,"img",5),t.qZA(),t.TgZ(18,"mat-chip",6),t._UZ(19,"img",7),t.qZA(),t.TgZ(20,"mat-chip",6),t._UZ(21,"img",8),t.qZA(),t.TgZ(22,"mat-chip",6),t._UZ(23,"img",9),t.qZA(),t.TgZ(24,"mat-chip"),t._UZ(25,"img",3),t.qZA(),t.TgZ(26,"mat-chip",6),t._UZ(27,"img",8),t.qZA(),t.TgZ(28,"mat-chip",6),t._UZ(29,"img",9),t.qZA(),t.TgZ(30,"mat-chip"),t._UZ(31,"img",3),t.qZA(),t.TgZ(32,"mat-chip",6),t._UZ(33,"img",8),t.qZA(),t.TgZ(34,"mat-chip",6),t._UZ(35,"img",9),t.qZA(),t.TgZ(36,"mat-chip"),t._UZ(37,"img",3),t.qZA(),t.TgZ(38,"mat-chip",6),t._UZ(39,"img",8),t.qZA(),t.TgZ(40,"mat-chip",6),t._UZ(41,"img",9),t.qZA(),t.TgZ(42,"mat-chip"),t._UZ(43,"img",3),t.qZA(),t.TgZ(44,"mat-chip",6),t._UZ(45,"img",8),t.qZA(),t.TgZ(46,"mat-chip",6),t._UZ(47,"img",9),t.qZA(),t.TgZ(48,"mat-chip"),t._UZ(49,"img",3),t.qZA(),t.TgZ(50,"mat-chip",6),t._UZ(51,"img",8),t.qZA(),t.TgZ(52,"mat-chip",6),t._UZ(53,"img",9),t.qZA(),t.TgZ(54,"mat-chip"),t._UZ(55,"img",3),t.qZA(),t.TgZ(56,"mat-chip"),t._UZ(57,"img",3),t.qZA()()(),t.TgZ(58,"div",10),t.YNc(59,D,5,2,"ng-container",11),t.ALo(60,"async"),t.qZA()),2&i&&(t.Q6J("ngIf",t.lcZ(1,4,a.boxDetail$)),t.xp6(3),t.Q6J("multiple",!1)("selectable",!0),t.xp6(56),t.Q6J("ngForOf",t.lcZ(60,6,a.paintings$)))},directives:[c.O5,d.qn,d.HS,d.EC,c.sg,J.Y,T.lW],pipes:[c.Ov],styles:[".image-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:40px}@media (max-width: 800px){.image-container[_ngcontent-%COMP%]{flex-direction:column}}.filter-section[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px}.mat-chip[_ngcontent-%COMP%]{padding:0!important}.mat-chip-avatar[_ngcontent-%COMP%]{width:32px!important;height:32px!important}"]}),n})(),data:{animation:"PaintingPage"}}];let Y=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.Bz.forChild(B)],h.Bz]}),n})();var _=e(4872);let E=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[],imports:[[c.ez,Y,P.m,_.q]]}),n})()}}]);