"use strict";var gw=Object.defineProperty,_w=Object.defineProperties,yw=Object.getOwnPropertyDescriptors,oC=Object.getOwnPropertySymbols,vw=Object.prototype.hasOwnProperty,bw=Object.prototype.propertyIsEnumerable,aC=(Yt,Ye,b)=>Ye in Yt?gw(Yt,Ye,{enumerable:!0,configurable:!0,writable:!0,value:b}):Yt[Ye]=b,lC=(Yt,Ye)=>{for(var b in Ye||(Ye={}))vw.call(Ye,b)&&aC(Yt,b,Ye[b]);if(oC)for(var b of oC(Ye))bw.call(Ye,b)&&aC(Yt,b,Ye[b]);return Yt},cC=(Yt,Ye)=>_w(Yt,yw(Ye));(self.webpackChunkfly_cuadros=self.webpackChunkfly_cuadros||[]).push([[179],{7985:(Yt,Ye,b)=>{b.d(Ye,{ST:()=>lv,yb:()=>mE});var h=b(5e3),g=b(4986),C=b(8306),ne=b(8996),ge=b(9646),ve=b(5813),ke=b(4482),ye=b(5403);function le(){return(0,ke.e)((r,e)=>{let t,s=!1;r.subscribe((0,ye.x)(e,a=>{const u=t;t=a,s&&e.next([u,a]),s=!0}))})}var ee,se=b(8675),fe=b(4004),De=b(5026),We=b(1884),Re=b(9300),je=b(2011),lt=b(9808),rt=(b(2274),b(3942)),Ae=b(5861),Ft=b(9681),nt=b(4859),pe=b(1877),he=b(2090),xe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ee={},Ge=Ge||{},be=xe||self;function Je(){}function it(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function wt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var kt="closure_uid_"+(1e9*Math.random()>>>0),At=0;function ct(r,e,t){return r.call.apply(r.bind,arguments)}function Xe(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function $e(r,e,t){return($e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:Xe).apply(null,arguments)}function et(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function gt(r,e){function t(){}t.prototype=e.prototype,r.Z=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(s,a,u){for(var m=Array(arguments.length-2),S=2;S<arguments.length;S++)m[S-2]=arguments[S];return e.prototype[a].apply(s,m)}}function Q(){this.s=this.s,this.o=this.o}var Bt={};Q.prototype.s=!1,Q.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function yt(r){return Object.prototype.hasOwnProperty.call(r,kt)&&r[kt]||(r[kt]=++At)}(this);delete Bt[r]}},Q.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1},pt=Array.prototype.forEach?function(r,e,t){Array.prototype.forEach.call(r,e,t)}:function(r,e,t){const s=r.length,a="string"==typeof r?r.split(""):r;for(let u=0;u<s;u++)u in a&&e.call(t,a[u],u,r)};function Me(r){return Array.prototype.concat.apply([],arguments)}function vt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Se(r){return/^[\s\xa0]*$/.test(r)}var Mn,Et=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Jt(r,e){return-1!=r.indexOf(e)}function cn(r,e){return r<e?-1:r>e?1:0}e:{var un=be.navigator;if(un){var pn=un.userAgent;if(pn){Mn=pn;break e}}Mn=""}function dn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function ft(r){const e={};for(const t in r)e[t]=r[t];return e}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let u=0;u<V.length;u++)t=V[u],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function we(r){return we[" "](r),r}we[" "]=Je;var ln,r,Pe=Jt(Mn,"Opera"),q=Jt(Mn,"Trident")||Jt(Mn,"MSIE"),Be=Jt(Mn,"Edge"),de=Be||q,Ke=Jt(Mn,"Gecko")&&!(Jt(Mn.toLowerCase(),"webkit")&&!Jt(Mn,"Edge"))&&!(Jt(Mn,"Trident")||Jt(Mn,"MSIE"))&&!Jt(Mn,"Edge"),Vt=Jt(Mn.toLowerCase(),"webkit")&&!Jt(Mn,"Edge");function en(){var r=be.document;return r?r.documentMode:void 0}e:{var jn="",Ln=(r=Mn,Ke?/rv:([^\);]+)(\)|;)/.exec(r):Be?/Edge\/([\d\.]+)/.exec(r):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Vt?/WebKit\/(\S+)/.exec(r):Pe?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Ln&&(jn=Ln?Ln[1]:""),q){var ni=en();if(null!=ni&&ni>parseFloat(jn)){ln=String(ni);break e}}ln=jn}var on={};var P=be.document&&q&&(en()||parseInt(ln,10))||void 0,x=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{be.addEventListener("test",Je,e),be.removeEventListener("test",Je,e)}catch(t){}return r}();function G(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}function Te(r,e){if(G.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ke){e:{try{we(e.nodeName);var a=!0;break e}catch(u){}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:dt[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Te.Z.h.call(this)}}G.prototype.h=function(){this.defaultPrevented=!0},gt(Te,G);var dt={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Wt="closure_listenable_"+(1e6*Math.random()|0),Pn=0;function Nn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++Pn,this.ca=this.fa=!1}function oi(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function vn(r){this.src=r,this.g={},this.h=0}function bi(r,e){var t=e.type;if(t in r.g){var u,s=r.g[t],a=bt(s,e);(u=0<=a)&&Array.prototype.splice.call(s,a,1),u&&(oi(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Dt(r,e,t,s){for(var a=0;a<r.length;++a){var u=r[a];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==s)return a}return-1}vn.prototype.add=function(r,e,t,s,a){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var m=Dt(r,e,s,a);return-1<m?(e=r[m],t||(e.fa=!1)):((e=new Nn(e,this.src,u,!!s,a)).fa=t,r.push(e)),e};var at="closure_lm_"+(1e6*Math.random()|0),Ve={};function _t(r,e,t,s,a){if(s&&s.once)return Ne(r,e,t,s,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)_t(r,e[u],t,s,a);return null}return t=Fn(t),r&&r[Wt]?r.N(e,t,wt(s)?!!s.capture:!!s,a):Gt(r,e,t,!1,s,a)}function Gt(r,e,t,s,a,u){if(!e)throw Error("Invalid event type");var m=wt(a)?!!a.capture:!!a,S=mn(r);if(S||(r[at]=S=new vn(r)),(t=S.add(e,t,s,m,u)).proxy)return t;if(s=function It(){var e=Kt;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)x||(a=m),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Pt(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Ne(r,e,t,s,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ne(r,e[u],t,s,a);return null}return t=Fn(t),r&&r[Wt]?r.O(e,t,wt(s)?!!s.capture:!!s,a):Gt(r,e,t,!0,s,a)}function _e(r,e,t,s,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)_e(r,e[u],t,s,a);else s=wt(s)?!!s.capture:!!s,t=Fn(t),r&&r[Wt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Dt(u=r.g[e],t,s,a))&&(oi(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=mn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Dt(e,t,s,a)),(t=-1<r?e[r]:null)&&st(t))}function st(r){if("number"!=typeof r&&r&&!r.ca){var e=r.src;if(e&&e[Wt])bi(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Pt(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=mn(e))?(bi(t,r),0==t.h&&(t.src=null,e[at]=null)):oi(r)}}}function Pt(r){return r in Ve?Ve[r]:Ve[r]="on"+r}function Kt(r,e){if(r.ca)r=!0;else{e=new Te(e,this);var t=r.listener,s=r.ia||r.src;r.fa&&st(r),r=t.call(s,e)}return r}function mn(r){return(r=r[at])instanceof vn?r:null}var xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fn(r){return"function"==typeof r?r:(r[xn]||(r[xn]=function(e){return r.handleEvent(e)}),r[xn])}function Hn(){Q.call(this),this.i=new vn(this),this.P=this,this.I=null}function tn(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new G(e,r);else if(e instanceof G)e.target=e.target||r;else{var a=e;X(e=new G(s,r),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var m=e.g=t[u];a=Sn(m,s,!0,e)&&a}if(a=Sn(m=e.g=r,s,!0,e)&&a,a=Sn(m,s,!1,e)&&a,t)for(u=0;u<t.length;u++)a=Sn(m=e.g=t[u],s,!1,e)&&a}function Sn(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var m=e[u];if(m&&!m.ca&&m.capture==t){var S=m.listener,L=m.ia||m.src;m.fa&&bi(r.i,m),a=!1!==S.call(L,s)&&a}}return a&&!s.defaultPrevented}gt(Hn,Q),Hn.prototype[Wt]=!0,Hn.prototype.removeEventListener=function(r,e,t,s){_e(this,r,e,t,s)},Hn.prototype.M=function(){if(Hn.Z.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)oi(t[s]);delete r.g[e],r.h--}}this.I=null},Hn.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Hn.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var ai=be.JSON.stringify;function Mi(){var r=ur;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Si,xi=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Er,r=>r.reset());class Er{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gi(r){be.setTimeout(()=>{throw r},0)}function $i(r,e){Si||function Gn(){var r=be.Promise.resolve(void 0);Si=function(){r.then(_s)}}(),Pr||(Si(),Pr=!0),ur.add(r,e)}var Pr=!1,ur=new class Gi{constructor(){this.h=this.g=null}add(e,t){const s=xi.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function _s(){for(var r;r=Mi();){try{r.h.call(r.g)}catch(t){gi(t)}var e=xi;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Pr=!1}function mr(r,e){Hn.call(this),this.h=r||1,this.g=e||be,this.j=$e(this.kb,this),this.l=Date.now()}function Li(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Nr(r,e,t){if("function"==typeof r)t&&(r=$e(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=$e(r.handleEvent,r)}return 2147483647<Number(e)?-1:be.setTimeout(r,e||0)}function Fr(r){r.g=Nr(()=>{r.g=null,r.i&&(r.i=!1,Fr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}gt(mr,Hn),(ee=mr.prototype).da=!1,ee.S=null,ee.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),tn(this,"tick"),this.da&&(Li(this),this.start()))}},ee.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ee.M=function(){mr.Z.M.call(this),Li(this),delete this.g};class dr extends Q{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fr(this)}M(){super.M(),this.g&&(be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(r){Q.call(this),this.h=r,this.g={}}gt(hi,Q);var Lr=[];function ys(r,e,t,s){Array.isArray(t)||(t&&(Lr[0]=t.toString()),t=Lr);for(var a=0;a<t.length;a++){var u=_t(e,t[a],s||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function Bi(r){dn(r.g,function(e,t){this.g.hasOwnProperty(t)&&st(e)},r),r.g={}}function yr(){this.g=!0}function or(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ws(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var m=1;m<a.length;m++)a[m]=""}}}return ai(t)}catch(S){return e}}(r,t)+(s?" "+s:"")})}hi.prototype.M=function(){hi.Z.M.call(this),Bi(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yr.prototype.Aa=function(){this.g=!1},yr.prototype.info=function(){};var bs={},wo=null;function er(){return wo=wo||new Hn}function zr(r){G.call(this,bs.Ma,r)}function es(r){const e=er();tn(e,new zr(e,r))}function Do(r,e){G.call(this,bs.STAT_EVENT,r),this.stat=e}function Oi(r){const e=er();tn(e,new Do(e,r))}function eo(r,e){G.call(this,bs.Na,r),this.size=e}function ts(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){r()},e)}bs.Ma="serverreachability",gt(zr,G),bs.STAT_EVENT="statevent",gt(Do,G),bs.Na="timingevent",gt(eo,G);var ks={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ns={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ps(){}function fo(){}Ps.prototype.h=null;var Ns,po={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ks(){G.call(this,"d")}function is(){G.call(this,"c")}function hr(){}function Es(r,e,t,s){this.l=r,this.j=e,this.m=t,this.X=s||1,this.V=new hi(this),this.P=Go,this.W=new mr(r=de?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}gt(Ks,G),gt(is,G),gt(hr,Ps),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},Ns=new hr;var Go=45e3,ar={},Wr={};function xr(r,e,t){r.K=1,r.v=Nt(_i(e)),r.s=t,r.U=!0,Br(r,null)}function Br(r,e){r.F=Date.now(),Cr(r),r.A=_i(r.v);var t=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),Cn(t.h,"t",s),r.C=0,t=r.l.H,r.h=new rs,r.g=os(r.l,t?e:null,!r.s),0<r.O&&(r.L=new dr($e(r.Ia,r,r.g),r.O)),ys(r.V,r.g,"readystatechange",r.gb),e=r.H?ft(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),es(1),function vs(r,e,t,s,a,u){r.info(function(){if(r.g)if(u)for(var m="",S=u.split("&"),L=0;L<S.length;L++){var Z=S[L].split("=");if(1<Z.length){var me=Z[0];Z=Z[1];var qe=me.split("_");m=2<=qe.length&&"type"==qe[1]?m+(me+"=")+Z+"&":m+(me+"=redacted&")}}else m=null;else m=u;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+m})}(r.j,r.u,r.A,r.m,r.X,r.s)}function Fs(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function $o(r,e,t){let a,s=!0;for(;!r.I&&r.C<t.length;){if(a=ls(r,t),a==Wr){4==e&&(r.o=4,Oi(14),s=!1),or(r.j,r.m,null,"[Incomplete Response]");break}if(a==ar){r.o=4,Oi(15),or(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}or(r.j,r.m,a,null),Ds(r,a)}Fs(r)&&a!=Wr&&a!=ar&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Oi(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.aa&&(r.aa=!0,(e=r.l).g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),hs(e),e.L=!0,Oi(11))):(or(r.j,r.m,t,"[Invalid Chunked Response]"),Ri(r),ws(r))}function ls(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Wr:(t=Number(e.substring(t,s)),isNaN(t)?ar:(s+=1)+t>e.length?Wr:(e=e.substr(s,t),r.C=s+t,e))}function Cr(r){r.Y=Date.now()+r.P,Cs(r,r.P)}function Cs(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ts($e(r.eb,r),e)}function fr(r){r.B&&(be.clearTimeout(r.B),r.B=null)}function ws(r){0==r.l.G||r.I||Kn(r.l,r)}function Ri(r){fr(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Li(r.W),Bi(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Ds(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||nr(t.i,r)))if(t.I=r.N,!r.J&&nr(t.i,r)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(Z){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=ts($e(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;En(t),Or(t)}ro(t),Oi(18)}if(1>=zo(t.i)&&t.ka){try{t.ka()}catch(Z){}t.ka=void 0}}else Ui(t,11)}else if((r.J||t.g==r)&&En(t),!Se(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let Z=a[e];if(t.U=Z[0],Z=Z[1],2==t.G)if("c"==Z[0]){t.J=Z[1],t.la=Z[2];const me=Z[3];null!=me&&(t.ma=me,t.h.info("VER="+t.ma));const qe=Z[4];null!=qe&&(t.za=qe,t.h.info("SVER="+t.za));const xt=Z[5];null!=xt&&"number"==typeof xt&&0<xt&&(t.K=s=1.5*xt,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const Zt=r.g;if(Zt){const Qt=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qt){var u=s.i;!u.g&&(Jt(Qt,"spdy")||Jt(Qt,"quic")||Jt(Qt,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Wo(u,u.h),u.h=null))}if(s.D){const yn=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;yn&&(s.sa=yn,Ze(s.F,s.D,yn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-r.F,t.h.info("Handshake RTT: "+t.O+"ms"));var m=r;if((s=t).oa=rr(s,s.H?s.la:null,s.W),m.J){go(s.i,m);var S=m,L=s.K;L&&S.setTimeout(L),S.B&&(fr(S),Cr(S)),s.g=m}else qr(s);0<t.l.length&&Qi(t)}else"stop"!=Z[0]&&"close"!=Z[0]||Ui(t,7);else 3==t.G&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?Ui(t,7):Di(t):"noop"!=Z[0]&&t.j&&t.j.wa(Z),t.A=0)}es(4)}catch(Z){}}function ki(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(it(r)||"string"==typeof r)pt(r,e,void 0);else{if(r.T&&"function"==typeof r.T)var t=r.T();else if(r.R&&"function"==typeof r.R)t=void 0;else if(it(r)||"string"==typeof r){t=[];for(var s=r.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,r)t[s++]=a;s=function wr(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(it(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length;for(var u=0;u<a;u++)e.call(void 0,s[u],t&&t[u],r)}}function Kr(r,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Kr)for(t=r.T(),s=0;s<t.length;s++)this.set(t[s],r.get(t[s]));else for(s in r)this.set(s,r[s])}function ss(r){if(r.i!=r.g.length){for(var e=0,t=0;e<r.g.length;){var s=r.g[e];gr(r.h,s)&&(r.g[t++]=s),e++}r.g.length=t}if(r.i!=r.g.length){var a={};for(t=e=0;e<r.g.length;)gr(a,s=r.g[e])||(r.g[t++]=s,a[s]=1),e++;r.g.length=t}}function gr(r,e){return Object.prototype.hasOwnProperty.call(r,e)}(ee=Es.prototype).setTimeout=function(r){this.P=r},ee.gb=function(r){r=r.target;const e=this.L;e&&3==kn(r)?e.l():this.Ia(r)},ee.Ia=function(r){try{if(r==this.g)e:{const me=kn(this.g);var e=this.g.Da();const qe=this.g.ba();if(!(3>me)&&(3!=me||de||this.g&&(this.h.h||this.g.ga()||Zn(this.g)))){this.I||4!=me||7==e||es(8==e||0>=qe?3:2),fr(this);var t=this.g.ba();this.N=t;t:if(Fs(this)){var s=Zn(this.g);r="";var a=s.length,u=4==kn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ri(this),ws(this);var m="";break t}this.h.i=new be.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:u&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==t,function zs(r,e,t,s,a,u,m){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+m})}(this.j,this.u,this.A,this.m,this.X,me,t),this.i){if(this.$&&!this.J){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Se(S)){var Z=S;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,Oi(12),Ri(this),ws(this);break e}or(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ds(this,t)}this.U?($o(this,me,m),de&&this.i&&3==me&&(ys(this.V,this.W,"tick",this.fb),this.W.start())):(or(this.j,this.m,m,null),Ds(this,m)),4==me&&Ri(this),this.i&&!this.I&&(4==me?Kn(this.l,this):(this.i=!1,Cr(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,Oi(12)):(this.o=0,Oi(13)),Ri(this),ws(this)}}}catch(me){}},ee.fb=function(){if(this.g){var r=kn(this.g),e=this.g.ga();this.C<e.length&&(fr(this),$o(this,r,e),this.i&&4!=r&&Cr(this))}},ee.cancel=function(){this.I=!0,Ri(this)},ee.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Ir(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(es(3),Oi(17)),Ri(this),this.o=2,ws(this)):Cs(this,this.Y-r)},(ee=Kr.prototype).R=function(){ss(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r},ee.T=function(){return ss(this),this.g.concat()},ee.get=function(r,e){return gr(this.h,r)?this.h[r]:e},ee.set=function(r,e){gr(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e},ee.forEach=function(r,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],u=this.get(a);r.call(e,u,a,this)}};var cs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function us(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof us){this.g=void 0!==e?e:r.g,U(this,r.j),this.s=r.s,re(this,r.i),F(this,r.m),this.l=r.l,e=r.h;var t=new N;t.i=e.i,e.g&&(t.g=new Kr(e.g),t.h=e.h),ce(this,t),this.o=r.o}else r&&(t=String(r).match(cs))?(this.g=!!e,U(this,t[1]||"",!0),this.s=$n(t[2]||""),re(this,t[3]||"",!0),F(this,t[4]),this.l=$n(t[5]||"",!0),ce(this,t[6]||"",!0),this.o=$n(t[7]||"")):(this.g=!!e,this.h=new N(null,this.g))}function _i(r){return new us(r)}function U(r,e,t){r.j=t?$n(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function re(r,e,t){r.i=t?$n(e,!0):e}function F(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ce(r,e,t){e instanceof N?(r.h=e,function Vr(r,e){e&&!r.j&&(M(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(ae(this,s),Cn(this,a,t))},r)),r.j=e}(r.h,r.g)):(t||(e=mi(e,Wi)),r.h=new N(e,r.g))}function Ze(r,e,t){r.h.set(e,t)}function Nt(r){return Ze(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function $n(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function mi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,li),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function li(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}us.prototype.toString=function(){var r=[],e=this.j;e&&r.push(mi(e,fi,!0),":");var t=this.i;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(mi(e,fi,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&r.push("/"),r.push(mi(t,"/"==t.charAt(0)?wi:qi,!0))),(t=this.h.toString())&&r.push("?",t),(t=this.o)&&r.push("#",mi(t,H)),r.join("")};var fi=/[#\/\?@]/g,qi=/[#\?:]/g,wi=/[#\?]/g,Wi=/[#\?@]/g,H=/#/g;function N(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function M(r){r.g||(r.g=new Kr,r.h=0,r.i&&function Zr(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var u=r[t].substring(0,s);a=r[t].substring(s+1)}else u=r[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ae(r,e){M(r),e=vi(r,e),gr(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,gr((r=r.g).h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&ss(r)))}function Lt(r,e){return M(r),e=vi(r,e),gr(r.g.h,e)}function Cn(r,e,t){ae(r,e),0<t.length&&(r.i=null,r.g.set(vi(r,e),vt(t)),r.h+=t.length)}function vi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ds(r){this.l=r||nn,r=be.PerformanceNavigationTiming?0<(r=be.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(be.g&&be.g.Ea&&be.g.Ea()&&be.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ee=N.prototype).add=function(r,e){M(this),this.i=null,r=vi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ee.forEach=function(r,e){M(this),this.g.forEach(function(t,s){pt(t,function(a){r.call(e,a,s,this)},this)},this)},ee.T=function(){M(this);for(var r=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=r[s],u=0;u<a.length;u++)t.push(e[s]);return t},ee.R=function(r){M(this);var e=[];if("string"==typeof r)Lt(this,r)&&(e=Me(e,this.g.get(vi(this,r))));else{r=this.g.R();for(var t=0;t<r.length;t++)e=Me(e,r[t])}return e},ee.set=function(r,e){return M(this),this.i=null,Lt(this,r=vi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ee.get=function(r,e){return r&&0<(r=this.R(r)).length?String(r[0]):e},ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var u=0;u<s.length;u++){var m=a;""!==s[u]&&(m+="="+encodeURIComponent(String(s[u]))),r.push(m)}}return this.i=r.join("&")};var nn=10;function yi(r){return!!r.h||!!r.g&&r.g.size>=r.j}function zo(r){return r.h?1:r.g?r.g.size:0}function nr(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Wo(r,e){r.g?r.g.add(e):r.h=e}function go(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Is(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return vt(r.i)}function To(){}function Da(){this.g=new To}function cl(r,e,t){const s=t||"";try{ki(r,function(a,u){let m=a;wt(a)&&(m=ai(a)),e.push(s+u+"="+encodeURIComponent(m))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function to(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(u){}}function no(r){this.l=r.$b||null,this.j=r.ib||!1}function pr(r,e){Hn.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ds.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},To.prototype.stringify=function(r){return be.JSON.stringify(r,void 0)},To.prototype.parse=function(r){return be.JSON.parse(r,void 0)},gt(no,Ps),no.prototype.g=function(){return new pr(this.l,this.j)},no.prototype.i=function(r){return function(){return r}}({}),gt(pr,Hn);var Ls=0;function Ko(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function J(r){r.readyState=4,r.l=null,r.j=null,r.A=null,y(r)}function y(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ee=pr.prototype).open=function(r,e){if(this.readyState!=Ls)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,y(this)},ee.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||be).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,J(this)),this.readyState=Ls},ee.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,y(this)),this.g&&(this.readyState=3,y(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==be.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ko(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},ee.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?J(this):y(this),3==this.readyState&&Ko(this)}},ee.Ua=function(r){this.g&&(this.response=this.responseText=r,J(this))},ee.Ta=function(r){this.g&&(this.response=r,J(this))},ee.ha=function(){this.g&&J(this)},ee.setRequestHeader=function(r,e){this.v.append(r,e)},ee.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ee.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var E=be.JSON.parse;function k(r){Hn.call(this),this.headers=new Kr,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=te,this.K=this.L=!1}gt(k,Hn);var te="",Ie=/^https?$/i,Qe=["POST","PUT"];function St(r){return"content-type"==r.toLowerCase()}function zt(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,wn(r),zn(r)}function wn(r){r.D||(r.D=!0,tn(r,"complete"),tn(r,"error"))}function On(r){if(r.h&&void 0!==Ge&&(!r.C[1]||4!=kn(r)||2!=r.ba()))if(r.v&&4==kn(r))Nr(r.Fa,0,r);else if(tn(r,"readystatechange"),4==kn(r)){r.h=!1;try{const S=r.ba();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===S){var a=String(r.H).match(cs)[1]||null;if(!a&&be.self&&be.self.location){var u=be.self.location.protocol;a=u.substr(0,u.length-1)}s=!Ie.test(a?a.toLowerCase():"")}t=s}if(t)tn(r,"complete"),tn(r,"success");else{r.m=6;try{var m=2<kn(r)?r.g.statusText:""}catch(L){m=""}r.j=m+" ["+r.ba()+"]",wn(r)}}finally{zn(r)}}}function zn(r,e){if(r.g){ci(r);const t=r.g,s=r.C[0]?Je:null;r.g=null,r.C=null,e||tn(r,"ready");try{t.onreadystatechange=s}catch(a){}}}function ci(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(be.clearTimeout(r.A),r.A=null)}function kn(r){return r.g?r.g.readyState:0}function Zn(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case te:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tr(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function Pi(r){let e="";return dn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ze(r,e,t))}function ir(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ur(r){this.za=0,this.l=[],this.h=new yr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ir("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ir("baseRetryDelayMs",5e3,r),this.$a=ir("retryDelaySeedMs",1e4,r),this.Ya=ir("forwardChannelMaxRetries",2,r),this.ra=ir("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new ds(r&&r.concurrentRequestLimit),this.Ca=new Da,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function Di(r){if(Vi(r),3==r.G){var e=r.V++,t=_i(r.F);Ze(t,"SID",r.J),Ze(t,"RID",e),Ze(t,"TYPE","terminate"),Bs(r,t),(e=new Es(r,r.h,e,void 0)).K=2,e.v=Nt(_i(t)),t=!1,be.navigator&&be.navigator.sendBeacon&&(t=be.navigator.sendBeacon(e.v.toString(),"")),!t&&be.Image&&((new Image).src=e.v,t=!0),t||(e.g=os(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Cr(e)}Ts(r)}function Or(r){r.g&&(hs(r),r.g.cancel(),r.g=null)}function Vi(r){Or(r),r.u&&(be.clearTimeout(r.u),r.u=null),En(r),r.i.cancel(),r.m&&("number"==typeof r.m&&be.clearTimeout(r.m),r.m=null)}function Yr(r,e){r.l.push(new class{constructor(r,e){this.h=r,this.g=e}}(r.Za++,e)),3==r.G&&Qi(r)}function Qi(r){yi(r.i)||r.m||(r.m=!0,$i(r.Ha,r),r.C=0)}function io(r,e){var t;t=e?e.m:r.V++;const s=_i(r.F);Ze(s,"SID",r.J),Ze(s,"RID",t),Ze(s,"AID",r.U),Bs(r,s),r.o&&r.s&&tr(s,r.o,r.s),t=new Es(r,r.h,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.l=e.D.concat(r.l)),e=Mo(r,t,1e3),t.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),Wo(r.i,t),xr(t,s,e)}function Bs(r,e){r.j&&ki({},function(t,s){Ze(e,s,t)})}function Mo(r,e,t){t=Math.min(r.l.length,t);var s=r.j?$e(r.j.Oa,r.j,r):null;e:{var a=r.l;let u=-1;for(;;){const m=["count="+t];-1==u?0<t?(u=a[0].h,m.push("ofs="+u)):u=0:m.push("ofs="+u);let S=!0;for(let L=0;L<t;L++){let Z=a[L].h;const me=a[L].g;if(Z-=u,0>Z)u=Math.max(0,a[L].h-100),S=!1;else try{cl(me,m,"req"+Z+"_")}catch(qe){s&&s(me)}}if(S){s=m.join("&");break e}}}return r=r.l.splice(0,t),e.D=r,s}function qr(r){r.g||r.u||(r.Y=1,$i(r.Ga,r),r.A=0)}function ro(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=ts($e(r.Ga,r),ui(r,r.A)),r.A++,0))}function hs(r){null!=r.B&&(be.clearTimeout(r.B),r.B=null)}function Tn(r){r.g=new Es(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var e=_i(r.oa);Ze(e,"RID","rpc"),Ze(e,"SID",r.J),Ze(e,"CI",r.N?"0":"1"),Ze(e,"AID",r.U),Bs(r,e),Ze(e,"TYPE","xmlhttp"),r.o&&r.s&&tr(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.la,t.K=1,t.v=Nt(_i(e)),t.s=null,t.U=!0,Br(t,r)}function En(r){null!=r.v&&(be.clearTimeout(r.v),r.v=null)}function Kn(r,e){var t=null;if(r.g==e){En(r),hs(r),r.g=null;var s=2}else{if(!nr(r.i,e))return;t=e.D,go(r.i,e),s=1}if(r.I=e.N,0!=r.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=r.C;tn(s=er(),new eo(s,t,e,a)),Qi(r)}else qr(r);else if(3==(a=e.o)||0==a&&0<r.I||!(1==s&&function So(r,e){return!(zo(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=e.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=ts($e(r.Ha,r,e),ui(r,r.C)),r.C++,0)))}(r,e)||2==s&&ro(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Ui(r,5);break;case 4:Ui(r,10);break;case 3:Ui(r,6);break;default:Ui(r,2)}}function ui(r,e){let t=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(t*=2),t*e}function Ui(r,e){if(r.h.info("Error code "+e),2==e){var t=null;r.j&&(t=null);var s=$e(r.jb,r);t||(t=new us("//www.google.com/images/cleardot.gif"),be.location&&"http"==be.location.protocol||U(t,"https"),Nt(t)),function sa(r,e){const t=new yr;if(be.Image){const s=new Image;s.onload=et(to,t,s,"TestLoadImage: loaded",!0,e),s.onerror=et(to,t,s,"TestLoadImage: error",!1,e),s.onabort=et(to,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=et(to,t,s,"TestLoadImage: timeout",!1,e),be.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Oi(2);r.G=0,r.j&&r.j.va(e),Ts(r),Vi(r)}function Ts(r){r.G=0,r.I=-1,r.j&&((0!=Is(r.i).length||0!=r.l.length)&&(r.i.i.length=0,vt(r.l),r.l.length=0),r.j.ua())}function rr(r,e,t){let s=function $t(r){return r instanceof us?_i(r):new us(r,void 0)}(t);if(""!=s.i)e&&re(s,e+"."+s.i),F(s,s.m);else{const a=be.location;s=function Dn(r,e,t,s){var a=new us(null,void 0);return r&&U(a,r),e&&re(a,e),t&&F(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return r.aa&&dn(r.aa,function(a,u){Ze(s,u,a)}),t=r.sa,(e=r.D)&&t&&Ze(s,e,t),Ze(s,"VER",r.ma),Bs(r,s),s}function os(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new k(t&&r.Ba&&!r.qa?new no({ib:!0}):r.qa)).L=r.H,e}function Ni(){}function Zo(){if(q&&!(10<=Number(P)))throw Error("Environmental error: no available transport.")}function fs(r,e){Hn.call(this),this.g=new Ur(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!Se(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Se(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ki(this)}function Qr(r){Ks.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ao(){is.call(this),this.status=1}function Ki(r){this.g=r}(ee=k.prototype).ea=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ns.g(),this.C=function Io(r){return r.h||(r.h=r.i())}(this.u?this.u:Ns),this.g.onreadystatechange=$e(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(u){return void zt(this,u)}r=t||"";const a=new Kr(this.headers);s&&ki(s,function(u,m){a.set(m,u)}),s=function ht(r){e:{var e=St;const t=r.length,s="string"==typeof r?r.split(""):r;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,r)){e=a;break e}e=-1}return 0>e?null:"string"==typeof r?r.charAt(e):r[e]}(a.T()),t=be.FormData&&r instanceof be.FormData,!(0<=bt(Qe,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(u,m){this.g.setRequestHeader(m,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ci(this),0<this.B&&((this.K=function tt(r){return q&&function Ci(){return function Oe(r){var e=on;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Et(String(ln)).split("."),t=Et("9").split("."),s=Math.max(e.length,t.length);for(let m=0;0==r&&m<s;m++){var a=e[m]||"",u=t[m]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;r=cn(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||cn(0==a[2].length,0==u[2].length)||cn(a[2],u[2]),a=a[3],u=u[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$e(this.pa,this)):this.A=Nr(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){zt(this,u)}},ee.pa=function(){void 0!==Ge&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tn(this,"timeout"),this.abort(8))},ee.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,tn(this,"complete"),tn(this,"abort"),zn(this))},ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zn(this,!0)),k.Z.M.call(this)},ee.Fa=function(){this.s||(this.F||this.v||this.l?On(this):this.cb())},ee.cb=function(){On(this)},ee.ba=function(){try{return 2<kn(this)?this.g.status:-1}catch(r){return-1}},ee.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ee.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),E(e)}},ee.Da=function(){return this.m},ee.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ee=Ur.prototype).ma=8,ee.G=1,ee.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(e){}},ee.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const a=new Es(this,this.h,r,void 0);let u=this.s;if(this.P&&(u?(u=ft(u),X(u,this.P)):u=this.P),null===this.o&&(a.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mo(this,a,e),Ze(t=_i(this.F),"RID",r),Ze(t,"CVER",22),this.D&&Ze(t,"X-HTTP-Session-Id",this.D),Bs(this,t),this.o&&u&&tr(t,this.o,u),Wo(this.i,a),this.Ra&&Ze(t,"TYPE","init"),this.ja?(Ze(t,"$req",e),Ze(t,"SID","null"),a.$=!0,xr(a,t,null)):xr(a,t,e),this.G=2}}else 3==this.G&&(r?io(this,r):0==this.l.length||yi(this.i)||io(this))},ee.Ga=function(){if(this.u=null,Tn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=ts($e(this.bb,this),r)}},ee.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Oi(10),Or(this),Tn(this))},ee.ab=function(){null!=this.v&&(this.v=null,Or(this),ro(this),Oi(19))},ee.jb=function(r){r?(this.h.info("Successfully pinged google.com"),Oi(2)):(this.h.info("Failed to ping google.com"),Oi(1))},(ee=Ni.prototype).xa=function(){},ee.wa=function(){},ee.va=function(){},ee.ua=function(){},ee.Oa=function(){},Zo.prototype.g=function(r,e){return new fs(r,e)},gt(fs,Hn),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),$i($e(r.hb,r,e))),Oi(0),r.W=e,r.aa=t||{},r.N=r.X,r.F=rr(r,null,r.W),Qi(r)},fs.prototype.close=function(){Di(this.g)},fs.prototype.u=function(r){if("string"==typeof r){var e={};e.__data__=r,Yr(this.g,e)}else this.v?((e={}).__data__=ai(r),Yr(this.g,e)):Yr(this.g,r)},fs.prototype.M=function(){this.g.j=null,delete this.j,Di(this.g),delete this.g,fs.Z.M.call(this)},gt(Qr,Ks),gt(Ao,is),gt(Ki,Ni),Ki.prototype.xa=function(){tn(this.g,"a")},Ki.prototype.wa=function(r){tn(this.g,new Qr(r))},Ki.prototype.va=function(r){tn(this.g,new Ao(r))},Ki.prototype.ua=function(){tn(this.g,"b")},Zo.prototype.createWebChannel=Zo.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,ns.COMPLETE="complete",fo.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",Hn.prototype.listen=Hn.prototype.N,k.prototype.listenOnce=k.prototype.O,k.prototype.getLastError=k.prototype.La,k.prototype.getLastErrorCode=k.prototype.Da,k.prototype.getStatus=k.prototype.ba,k.prototype.getResponseJson=k.prototype.Qa,k.prototype.getResponseText=k.prototype.ga,k.prototype.send=k.prototype.ea;var Ss=Ee.createWebChannelTransport=function(){return new Zo},pa=Ee.getStatEventTarget=function(){return er()},Vs=Ee.ErrorCode=ks,ul=Ee.EventType=ns,Ha=Ee.Event=bs,so=Ee.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dl=Ee.FetchXmlHttpFactory=no,Xi=Ee.WebChannel=fo,Ia=Ee.XhrIo=k;const oa="@firebase/firestore";class A{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A.UNAUTHENTICATED=new A(null),A.GOOGLE_CREDENTIALS=new A("google-credentials-uid"),A.FIRST_PARTY=new A("first-party-uid"),A.MOCK_USER=new A("mock-user");let I="9.9.4";const w=new pe.Yd("@firebase/firestore");function j(){return w.logLevel}function Y(r,...e){if(w.logLevel<=pe.in.DEBUG){const t=e.map(jt);w.debug(`Firestore (${I}): ${r}`,...t)}}function Fe(r,...e){if(w.logLevel<=pe.in.ERROR){const t=e.map(jt);w.error(`Firestore (${I}): ${r}`,...t)}}function ot(r,...e){if(w.logLevel<=pe.in.WARN){const t=e.map(jt);w.warn(`Firestore (${I}): ${r}`,...t)}}function jt(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function Ht(r="Unexpected state"){const e=`FIRESTORE (${I}) INTERNAL ASSERTION FAILED: `+r;throw Fe(e),new Error(e)}function hn(r,e){r||Ht()}function rn(r,e){return r}const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xt extends he.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ma{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ga{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(A.UNAUTHENTICATED))}shutdown(){}}class xo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Nl{constructor(e){this.t=e,this.currentUser=A.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const u=Z=>this.i!==a?(a=this.i,t(Z)):Promise.resolve();let m=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ji,e.enqueueRetryable(()=>u(this.currentUser))};const S=()=>{const Z=m;e.enqueueRetryable((0,Ae.Z)(function*(){yield Z.promise,yield u(s.currentUser)}))},L=Z=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(Z=>L(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?L(Z):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ji)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(hn("string"==typeof s.accessToken),new ma(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return hn(null===e||"string"==typeof e),new A(e)}}class Ta{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a,this.type="FirstParty",this.user=A.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(hn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Fl{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a}getToken(){return Promise.resolve(new Ta(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(A.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yo{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=u=>{null!=u.error&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.A;return this.A=u.token,Y("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?a(u):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(hn("string"==typeof t.token),this.A=t.token,new Sa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ll(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Oo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Ll(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<t&&(s+=e.charAt(a[u]%e.length))}return s}}function Xn(r,e){return r<e?-1:r>e?1:0}function _o(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}function Ro(r){return r+"\0"}class Zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Xt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zi.fromMillis(Date.now())}static fromDate(e){return Zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Zi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xn(this.nanoseconds,e.nanoseconds):Xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yn(e)}static min(){return new Yn(new Zi(0,0))}static max(){return new Yn(new Zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bl{constructor(e,t,s){void 0===t?t=0:t>e.length&&Ht(),void 0===s?s=e.length-t:s>e.length-t&&Ht(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Bl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const u=e.get(a),m=t.get(a);if(u<m)return-1;if(u>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ji extends Bl{construct(e,t,s){return new ji(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Xt(Tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new ji(t)}static emptyPath(){return new ji([])}}const Tr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends Bl{construct(e,t,s){return new Sr(e,t,s)}static isValidIdentifier(e){return Tr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const u=()=>{if(0===s.length)throw new Xt(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let m=!1;for(;a<e.length;){const S=e[a];if("\\"===S){if(a+1===e.length)throw new Xt(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[a+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new Xt(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,a+=2}else"`"===S?(m=!m,a++):"."!==S||m?(s+=S,a++):(u(),a++)}if(u(),m)throw new Xt(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sr(t)}static emptyPath(){return new Sr([])}}class bn{constructor(e){this.path=e}static fromPath(e){return new bn(ji.fromString(e))}static fromName(e){return new bn(ji.fromString(e).popFirst(5))}static empty(){return new bn(ji.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ji.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ji.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bn(new ji(e.slice()))}}class fl{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Gu(r){return r.fields.find(e=>2===e.kind)}function pl(r){return r.fields.filter(e=>2!==e.kind)}fl.UNKNOWN_ID=-1;class iu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ul{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ul(0,jr.min())}}function Rr(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Yn.fromTimestamp(1e9===s?new Zi(t+1,0):new Zi(t,s));return new jr(a,bn.empty(),e)}function ml(r){return new jr(r.readTime,r.key,-1)}class jr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new jr(Yn.min(),bn.empty(),-1)}static max(){return new jr(Yn.max(),bn.empty(),-1)}}function ru(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=bn.comparator(r.documentKey,e.documentKey),0!==t?t:Xn(r.largestBatchId,e.largestBatchId))}const jl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xr(r){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,Ae.Z)(function*(r){if(r.code!==Tt.FAILED_PRECONDITION||r.message!==jl)throw r;Y("LocalStore","Unexpectedly lost primary lease")}),Ma.apply(this,arguments)}class Ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ot((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ot?t:Ot.resolve(t)}catch(t){return Ot.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ot.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ot.reject(t)}static resolve(e){return new Ot((t,s)=>{t(e)})}static reject(e){return new Ot((t,s)=>{s(e)})}static waitFor(e){return new Ot((t,s)=>{let a=0,u=0,m=!1;e.forEach(S=>{++a,S.next(()=>{++u,m&&u===a&&t()},L=>s(L))}),m=!0,u===a&&t()})}static or(e){let t=Ot.resolve(!1);for(const s of e)t=t.next(a=>a?Ot.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,u)=>{s.push(t.call(this,a,u))}),this.waitFor(s)}static mapArray(e,t){return new Ot((s,a)=>{const u=e.length,m=new Array(u);let S=0;for(let L=0;L<u;L++){const Z=L;t(e[Z]).next(me=>{m[Z]=me,++S,S===u&&s(m)},me=>a(me))}})}static doWhile(e,t){return new Ot((s,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):s()};u()})}}class Aa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ji,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ko(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const a=la(s.target.error);this.P.reject(new ko(e,a))}}static open(e,t,s,a){try{return new Aa(t,e.transaction(a,s))}catch(u){throw new ko(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ah(t)}}class Zs{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===Zs.D((0,he.z$)())&&Fe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Y("SimpleDb","Removing database:",e),qo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,he.hl)())return!1;if(Zs.N())return!0;const e=(0,he.z$)(),t=Zs.D(e),s=0<t&&t<10,a=Zs.k(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||u)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,Ae.Z)(function*(){return t.db||(Y("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=m=>{s(m.target.result)},u.onblocked=()=>{a(new ko(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=m=>{const S=m.target.error;a("VersionError"===S.name?new Xt(Tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Xt(Tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new ko(e,S))},u.onupgradeneeded=m=>{Y("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.S.$(m.target.result,u.transaction,m.oldVersion,t.version).next(()=>{Y("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var u=this;return(0,Ae.Z)(function*(){const m="readonly"===t;let S=0;for(;;){++S;try{u.db=yield u.F(e);const L=Aa.open(u.db,e,m?"readonly":"readwrite",s),Z=a(L).next(me=>(L.V(),me)).catch(me=>(L.abort(me),Ot.reject(me))).toPromise();return Z.catch(()=>{}),yield L.v,Z}catch(L){const Z=L,me="FirebaseError"!==Z.name&&S<3;if(Y("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",me),u.close(),!me)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gl{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return qo(this.U.delete())}}class ko extends Xt{constructor(e,t){super(Tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function aa(r){return"IndexedDbTransactionError"===r.name}class ah{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Y("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Y("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),qo(s)}add(e){return Y("SimpleDb","ADD",this.store.name,e,e),qo(this.store.add(e))}get(e){return qo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Y("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Y("SimpleDb","DELETE",this.store.name,e),qo(this.store.delete(e))}count(){return Y("SimpleDb","COUNT",this.store.name),qo(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),u=[];return this.H(a,(m,S)=>{u.push(S)}).next(()=>u)}{const a=this.store.getAll(s.range);return new Ot((u,m)=>{a.onerror=S=>{m(S.target.error)},a.onsuccess=S=>{u(S.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Ot((a,u)=>{s.onerror=m=>{u(m.target.error)},s.onsuccess=m=>{a(m.target.result)}})}Y(e,t){Y("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const a=this.cursor(s);return this.H(a,(u,m,S)=>S.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.H(a,t)}tt(e){const t=this.cursor({});return new Ot((s,a)=>{t.onerror=u=>{const m=la(u.target.error);a(m)},t.onsuccess=u=>{const m=u.target.result;m?e(m.primaryKey,m.value).next(S=>{S?m.continue():s()}):s()}})}H(e,t){const s=[];return new Ot((a,u)=>{e.onerror=m=>{u(m.target.error)},e.onsuccess=m=>{const S=m.target.result;if(!S)return void a();const L=new gl(S),Z=t(S.primaryKey,S.value,L);if(Z instanceof Ot){const me=Z.catch(qe=>(L.done(),Ot.reject(qe)));s.push(me)}L.isDone?a():null===L.G?S.continue():S.continue(L.G)}}).next(()=>Ot.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qo(r){return new Ot((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const a=la(s.target.error);t(a)}})}let Ms=!1;function la(r){const e=Zs.D((0,he.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Xt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ms||(Ms=!0,setTimeout(()=>{throw s},0)),s}}return r}class ca{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Y("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){t.task=null;try{Y("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){aa(s)?Y("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Xr(s)}yield t.nt(1)}))}}class su{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let a=t,u=!0;return Ot.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return Y("IndexBackiller",`Processing collection: ${m}`),this.rt(e,m,a).next(S=>{a-=S,s.add(m)});u=!1})).next(()=>t-a)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(u=>{const m=u.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.ot(a,u)).next(S=>(Y("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>m.size)}))}ot(e,t){let s=e;return t.changes.forEach((a,u)=>{const m=ml(u);ru(m,s)>0&&(s=m)}),new jr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ps{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>t.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ga(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function $a(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function yc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}ps.at=-1;class kr{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new kr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new za(this.root,e,this.comparator,!1)}getReverseIterator(){return new za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new za(this.root,e,this.comparator,!0)}}class za{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,s,a,u){this.key=e,this.value=t,this.color=null!=s?s:Hr.RED,this.left=null!=a?a:Hr.EMPTY,this.right=null!=u?u:Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,u){return new Hr(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Hr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const e=this.left.check();if(e!==this.right.check())throw Ht();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Hr(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qo(this.data.getIterator())}getIteratorFrom(e){return new Qo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Fi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fi(this.comparator);return t.data=e,t}}class Qo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _l(r){return r.hasNext()?r.getNext():void 0}class ms{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new ms([])}unionWith(e){let t=new Fi(Sr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const ua=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(r){if(hn(!!r),"string"==typeof r){let e=0;const t=ua.exec(r);if(hn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dr(r.seconds),nanos:Dr(r.nanos)}}function Dr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Xo(r){return"string"==typeof r?vr.fromBase64String(r):vr.fromUint8Array(r)}function Hl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Wa(r){const e=r.mapValue.fields.__previous_value__;return Hl(e)?Wa(e):e}function yl(r){const e=xa(r.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}class R{constructor(e,t,s,a,u,m,S,L){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=S,this.useFetchStreams=L}}class B{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new B("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof B&&e.projectId===this.projectId&&e.database===this.database}}function oe(r){return null==r}function He(r){return 0===r&&1/r==-1/0}function Ct(r){return"number"==typeof r&&Number.isInteger(r)&&!He(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Rt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sn={nullValue:"NULL_VALUE"};function _n(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hl(r)?4:No(r)?9007199254740991:10:Ht()}function Vn(r,e){if(r===e)return!0;const t=_n(r);if(t!==_n(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yl(r).isEqual(yl(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=xa(s.timestampValue),m=xa(a.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Xo(r.bytesValue).isEqual(Xo(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Dr(s.geoPointValue.latitude)===Dr(a.geoPointValue.latitude)&&Dr(s.geoPointValue.longitude)===Dr(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Dr(s.integerValue)===Dr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Dr(s.doubleValue),m=Dr(a.doubleValue);return u===m?He(u)===He(m):isNaN(u)&&isNaN(m)}return!1}(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:return function(s,a){const u=s.mapValue.fields||{},m=a.mapValue.fields||{};if(Ga(u)!==Ga(m))return!1;for(const S in u)if(u.hasOwnProperty(S)&&(void 0===m[S]||!Vn(u[S],m[S])))return!1;return!0}(r,e);default:return Ht()}var a}function Jn(r,e){return void 0!==(r.values||[]).find(t=>Vn(t,e))}function ei(r,e){if(r===e)return 0;const t=_n(r),s=_n(e);if(t!==s)return Xn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xn(r.booleanValue,e.booleanValue);case 2:return function(a,u){const m=Dr(a.integerValue||a.doubleValue),S=Dr(u.integerValue||u.doubleValue);return m<S?-1:m>S?1:m===S?0:isNaN(m)?isNaN(S)?0:-1:1}(r,e);case 3:return qn(r.timestampValue,e.timestampValue);case 4:return qn(yl(r),yl(e));case 5:return Xn(r.stringValue,e.stringValue);case 6:return function(a,u){const m=Xo(a),S=Xo(u);return m.compareTo(S)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const m=a.split("/"),S=u.split("/");for(let L=0;L<m.length&&L<S.length;L++){const Z=Xn(m[L],S[L]);if(0!==Z)return Z}return Xn(m.length,S.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const m=Xn(Dr(a.latitude),Dr(u.latitude));return 0!==m?m:Xn(Dr(a.longitude),Dr(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,u){const m=a.values||[],S=u.values||[];for(let L=0;L<m.length&&L<S.length;++L){const Z=ei(m[L],S[L]);if(Z)return Z}return Xn(m.length,S.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===Rt.mapValue&&u===Rt.mapValue)return 0;if(a===Rt.mapValue)return 1;if(u===Rt.mapValue)return-1;const m=a.fields||{},S=Object.keys(m),L=u.fields||{},Z=Object.keys(L);S.sort(),Z.sort();for(let me=0;me<S.length&&me<Z.length;++me){const qe=Xn(S[me],Z[me]);if(0!==qe)return qe;const xt=ei(m[S[me]],L[Z[me]]);if(0!==xt)return xt}return Xn(S.length,Z.length)}(r.mapValue,e.mapValue);default:throw Ht()}}function qn(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Xn(r,e);const t=xa(r),s=xa(e),a=Xn(t.seconds,s.seconds);return 0!==a?a:Xn(t.nanos,s.nanos)}function lr(r){return Us(r)}function Us(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=xa(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Xo(r.bytesValue).toBase64():"referenceValue"in r?bn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",u=!0;for(const m of s.values||[])u?u=!1:a+=",",a+=Us(m);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let u="{",m=!0;for(const S of a)m?m=!1:u+=",",u+=`${S}:${Us(s.fields[S])}`;return u+"}"}(r.mapValue):Ht();var e}function yo(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jo(r){return!!r&&"integerValue"in r}function Ys(r){return!!r&&"arrayValue"in r}function vc(r){return!!r&&"nullValue"in r}function vl(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ea(r){return!!r&&"mapValue"in r}function As(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return $a(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=As(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=As(r.arrayValue.values[t]);return e}return Object.assign({},r)}function No(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function ou(r){return"nullValue"in r?sn:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?yo(B.empty(),bn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Ht()}function lh(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?yo(B.empty(),bn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Rt:Ht()}function $u(r,e){const t=ei(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function ch(r,e){const t=ei(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class js{constructor(e){this.value=e}static empty(){return new js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ea(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=As(t)}setAll(e){let t=Sr.emptyPath(),s={},a=[];e.forEach((m,S)=>{if(!t.isImmediateParentOf(S)){const L=this.getFieldsMap(t);this.applyChanges(L,s,a),s={},a=[],t=S.popLast()}m?s[S.lastSegment()]=As(m):a.push(S.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,a)}delete(e){const t=this.field(e.popLast());ea(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ea(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){$a(t,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new js(As(this.value))}}function uh(r){const e=[];return $a(r.fields,(t,s)=>{const a=new Sr([t]);if(ea(s)){const u=uh(s.mapValue).fields;if(0===u.length)e.push(a);else for(const m of u)e.push(a.child(m))}else e.push(a)}),new ms(e)}class cr{constructor(e,t,s,a,u,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=u,this.documentState=m}static newInvalidDocument(e){return new cr(e,0,Yn.min(),Yn.min(),js.empty(),0)}static newFoundDocument(e,t,s){return new cr(e,1,t,Yn.min(),s,0)}static newNoDocument(e,t){return new cr(e,2,t,Yn.min(),js.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,Yn.min(),js.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lp{constructor(e,t=null,s=[],a=[],u=null,m=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=m,this.endAt=S,this.ht=null}}function bc(r,e=null,t=[],s=[],a=null,u=null,m=null){return new lp(r,e,t,s,a,u,m)}function Oa(r){const e=rn(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(a=s).field.canonicalString()+a.op.toString()+lr(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),oe(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>lr(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>lr(s)).join(",")),e.ht=t}return e.ht}function Ec(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!mh(r.orderBy[a],e.orderBy[a]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if((t=r.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Vn(t.value,s.value))return!1;var t,s;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!gh(r.startAt,e.startAt)&&gh(r.endAt,e.endAt)}function au(r){return bn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function zu(r,e){return r.filters.filter(t=>t instanceof xs&&t.field.isEqual(e))}function Cc(r,e,t){let s=sn,a=!0;for(const u of zu(r,e)){let m=sn,S=!0;switch(u.op){case"<":case"<=":m=ou(u.value);break;case"==":case"in":case">=":m=u.value;break;case">":m=u.value,S=!1;break;case"!=":case"not-in":m=sn}$u({value:s,inclusive:a},{value:m,inclusive:S})<0&&(s=m,a=S)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const m=t.position[u];$u({value:s,inclusive:a},{value:m,inclusive:t.inclusive})<0&&(s=m,a=t.inclusive);break}return{value:s,inclusive:a}}function $l(r,e,t){let s=Rt,a=!0;for(const u of zu(r,e)){let m=Rt,S=!0;switch(u.op){case">=":case">":m=lh(u.value),S=!1;break;case"==":case"in":case"<=":m=u.value;break;case"<":m=u.value,S=!1;break;case"!=":case"not-in":m=Rt}ch({value:s,inclusive:a},{value:m,inclusive:S})>0&&(s=m,a=S)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const m=t.position[u];ch({value:s,inclusive:a},{value:m,inclusive:t.inclusive})>0&&(s=m,a=t.inclusive);break}return{value:s,inclusive:a}}class xs extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,s):new dh(e,t,s):"array-contains"===t?new ph(e,s):"in"===t?new cp(e,s):"not-in"===t?new up(e,s):"array-contains-any"===t?new dp(e,s):new xs(e,t,s)}static lt(e,t,s){return"in"===t?new hh(e,s):new bl(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ei(t,this.value)):null!==t&&_n(this.value)===_n(t)&&this.ft(ei(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ht()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dh extends xs{constructor(e,t,s){super(e,t,s),this.key=bn.fromName(s.referenceValue)}matches(e){const t=bn.comparator(e.key,this.key);return this.ft(t)}}class hh extends xs{constructor(e,t){super(e,"in",t),this.keys=fh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bl extends xs{constructor(e,t){super(e,"not-in",t),this.keys=fh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fh(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>bn.fromName(s.referenceValue))}class ph extends xs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ys(t)&&Jn(t.arrayValue,this.value)}}class cp extends xs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jn(this.value.arrayValue,t)}}class up extends xs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jn(this.value.arrayValue,t)}}class dp extends xs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ys(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Jn(this.value.arrayValue,s))}}class qs{constructor(e,t){this.position=e,this.inclusive=t}}class Fo{constructor(e,t="asc"){this.field=e,this.dir=t}}function mh(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function lu(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const u=e[a],m=r.position[a];if(s=u.field.isKeyField()?bn.comparator(bn.fromName(m.referenceValue),t.key):ei(m,t.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return s}function gh(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Vn(r.position[t],e.position[t]))return!1;return!0}class _a{constructor(e,t=null,s=[],a=[],u=null,m="F",S=null,L=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=m,this.startAt=S,this.endAt=L,this._t=null,this.wt=null}}function _h(r,e,t,s,a,u,m,S){return new _a(r,e,t,s,a,u,m,S)}function Ka(r){return new _a(r)}function Wu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function cu(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function uu(r){for(const e of r.filters)if(e.dt())return e.field;return null}function Ku(r){return null!==r.collectionGroup}function zl(r){const e=rn(r);if(null===e._t){e._t=[];const t=uu(e),s=cu(e);if(null!==t&&null===s)t.isKeyField()||e._t.push(new Fo(t)),e._t.push(new Fo(Sr.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Fo(Sr.keyField(),u))}}}return e._t}function Lo(r){const e=rn(r);if(!e.wt)if("F"===e.limitType)e.wt=bc(e.path,e.collectionGroup,zl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of zl(e))t.push(new Fo(u.field,"desc"===u.dir?"asc":"desc"));const s=e.endAt?new qs(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new qs(e.startAt.position,e.startAt.inclusive):null;e.wt=bc(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.wt}function Zu(r,e,t){return new _a(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ao(r,e){return Ec(Lo(r),Lo(e))&&r.limitType===e.limitType}function Yu(r){return`${Oa(Lo(r))}|lt:${r.limitType}`}function ta(r){return`Query(target=${function Gl(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${lr(s.value)}`;var s}).join(", ")}]`),oe(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>lr(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>lr(t)).join(",")),`Target(${e})`}(Lo(r))}; limitType=${r.limitType})`}function Ra(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):bn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,u,m){const S=lu(a,u,m);return a.inclusive?S<=0:S<0}(t.startAt,zl(t),s)||t.endAt&&!function(a,u,m){const S=lu(a,u,m);return a.inclusive?S>=0:S>0}(t.endAt,zl(t),s)));var t,s}function qu(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wc(r){return(e,t)=>{let s=!1;for(const a of zl(r)){const u=yh(a,e,t);if(0!==u)return u;s=s||a.field.isKeyField()}return 0}}function yh(r,e,t){const s=r.field.isKeyField()?bn.comparator(e.key,t.key):function(a,u,m){const S=u.data.field(a),L=m.data.field(a);return null!==S&&null!==L?ei(S,L):Ht()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ht()}}function hp(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:He(e)?"-0":e}}function Qu(r){return{integerValue:""+r}}function fp(r,e){return Ct(e)?Qu(e):hp(r,e)}class Wl{constructor(){this._=void 0}}function Dc(r,e,t){return r instanceof Ic?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof Za?vh(r,e):r instanceof Ya?du(r,e):function(s,a){const u=pp(s,a),m=Ju(u)+Ju(s.yt);return Jo(u)&&Jo(s.yt)?Qu(m):hp(s.It,m)}(r,e)}function Xu(r,e,t){return r instanceof Za?vh(r,e):r instanceof Ya?du(r,e):t}function pp(r,e){return r instanceof Kl?Jo(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ic extends Wl{}class Za extends Wl{constructor(e){super(),this.elements=e}}function vh(r,e){const t=El(e);for(const s of r.elements)t.some(a=>Vn(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ya extends Wl{constructor(e){super(),this.elements=e}}function du(r,e){let t=El(e);for(const s of r.elements)t=t.filter(a=>!Vn(a,s));return{arrayValue:{values:t}}}class Kl extends Wl{constructor(e,t){super(),this.It=e,this.yt=t}}function Ju(r){return Dr(r.integerValue||r.doubleValue)}function El(r){return Ys(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class qa{constructor(e,t){this.field=e,this.transform=t}}class mp{constructor(e,t){this.version=e,this.transformResults=t}}class pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hu(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class fu{}function pu(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new as(r.key,pi.none()):new Zl(r.key,r.data,pi.none());{const t=r.data,s=js.empty();let a=new Fi(Sr.comparator);for(let u of e.fields)if(!a.has(u)){let m=t.field(u);null===m&&u.length>1&&(u=u.popLast(),m=t.field(u)),null===m?s.delete(u):s.set(u,m),a=a.add(u)}return new Bo(r.key,s,new ms(a.toArray()),pi.none())}}function td(r,e,t){r instanceof Zl?function(s,a,u){const m=s.value.clone(),S=Eh(s.fieldTransforms,a,u.transformResults);m.setAll(S),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(r,e,t):r instanceof Bo?function(s,a,u){if(!hu(s.precondition,a))return void a.convertToUnknownDocument(u.version);const m=Eh(s.fieldTransforms,a,u.transformResults),S=a.data;S.setAll(_p(s)),S.setAll(m),a.convertToFoundDocument(u.version,S).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tc(r,e,t,s){return r instanceof Zl?function(a,u,m,S){if(!hu(a.precondition,u))return m;const L=a.value.clone(),Z=Yl(a.fieldTransforms,S,u);return L.setAll(Z),u.convertToFoundDocument(u.version,L).setHasLocalMutations(),null}(r,e,t,s):r instanceof Bo?function(a,u,m,S){if(!hu(a.precondition,u))return m;const L=Yl(a.fieldTransforms,S,u),Z=u.data;return Z.setAll(_p(a)),Z.setAll(L),u.convertToFoundDocument(u.version,Z).setHasLocalMutations(),null===m?null:m.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(me=>me.field))}(r,e,t,s):(m=t,hu(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m);var u,m}function gp(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),u=pp(s.transform,a||null);null!=u&&(null===t&&(t=js.empty()),t.set(s.field,u))}return t||null}function bh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&_o(t,s,(a,u)=>function ed(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Za&&s instanceof Za||t instanceof Ya&&s instanceof Ya?_o(t.elements,s.elements,Vn):t instanceof Kl&&s instanceof Kl?Vn(t.yt,s.yt):t instanceof Ic&&s instanceof Ic);var t,s}(a,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Zl extends fu{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bo extends fu{constructor(e,t,s,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _p(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Eh(r,e,t){const s=new Map;hn(r.length===t.length);for(let a=0;a<t.length;a++){const u=r[a],m=u.transform,S=e.data.field(u.field);s.set(u.field,Xu(m,S,t[a]))}return s}function Yl(r,e,t){const s=new Map;for(const a of r){const u=a.transform,m=t.data.field(a.field);s.set(a.field,Dc(u,m,e))}return s}class as extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sc extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ch{constructor(e){this.count=e}}var Gr,ii;function Qa(r){switch(r){default:return Ht();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0}}function Mc(r){if(void 0===r)return Fe("GRPC error has no .code"),Tt.UNKNOWN;switch(r){case Gr.OK:return Tt.OK;case Gr.CANCELLED:return Tt.CANCELLED;case Gr.UNKNOWN:return Tt.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return Tt.INTERNAL;case Gr.UNAVAILABLE:return Tt.UNAVAILABLE;case Gr.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case Gr.NOT_FOUND:return Tt.NOT_FOUND;case Gr.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case Gr.ABORTED:return Tt.ABORTED;case Gr.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case Gr.DATA_LOSS:return Tt.DATA_LOSS;default:return Ht()}}(ii=Gr||(Gr={}))[ii.OK=0]="OK",ii[ii.CANCELLED=1]="CANCELLED",ii[ii.UNKNOWN=2]="UNKNOWN",ii[ii.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ii[ii.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ii[ii.NOT_FOUND=5]="NOT_FOUND",ii[ii.ALREADY_EXISTS=6]="ALREADY_EXISTS",ii[ii.PERMISSION_DENIED=7]="PERMISSION_DENIED",ii[ii.UNAUTHENTICATED=16]="UNAUTHENTICATED",ii[ii.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ii[ii.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ii[ii.ABORTED=10]="ABORTED",ii[ii.OUT_OF_RANGE=11]="OUT_OF_RANGE",ii[ii.UNIMPLEMENTED=12]="UNIMPLEMENTED",ii[ii.INTERNAL=13]="INTERNAL",ii[ii.UNAVAILABLE=14]="UNAVAILABLE",ii[ii.DATA_LOSS=15]="DATA_LOSS";class Xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,u]of s)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,(t,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return yc(this.inner)}size(){return this.innerSize}}const nd=new kr(bn.comparator);function lo(){return nd}const vo=new kr(bn.comparator);function ya(...r){let e=vo;for(const t of r)e=e.insert(t.key,t);return e}function id(r){let e=vo;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function da(){return Cl()}function mu(){return Cl()}function Cl(){return new Xa(r=>r.toString(),(r,e)=>r.isEqual(e))}const rd=new kr(bn.comparator),wh=new Fi(bn.comparator);function Ei(...r){let e=wh;for(const t of r)e=e.add(t);return e}const va=new Fi(Xn);function Ac(){return va}class xc{constructor(e,t,s,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Ja.createSynthesizedTargetChangeForCurrentChange(e,t)),new xc(Yn.min(),s,Ac(),lo(),Ei())}}class Ja{constructor(e,t,s,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ja(vr.EMPTY_BYTE_STRING,t,Ei(),Ei(),Ei())}}class gu{constructor(e,t,s,a){this.Tt=e,this.removedTargetIds=t,this.key=s,this.Et=a}}class sd{constructor(e,t){this.targetId=e,this.At=t}}class co{constructor(e,t,s=vr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class _u{constructor(){this.Rt=0,this.bt=ba(),this.Pt=vr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ei(),t=Ei(),s=Ei();return this.bt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ht()}}),new Ja(this.Pt,this.vt,e,t,s)}Nt(){this.Vt=!1,this.bt=ba()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class od{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=lo(),this.qt=ad(),this.Kt=new Fi(Xn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const s=this.zt(t);switch(e.state){case 0:this.Ht(t)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),s.Ct(e.resumeToken));break;default:Ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((s,a)=>{this.Ht(a)&&t(a)})}Yt(e){const t=e.targetId,s=e.At.count,a=this.Xt(t);if(a){const u=a.target;if(au(u))if(0===s){const m=new bn(u.path);this.jt(t,m,cr.newNoDocument(m,Yn.min()))}else hn(1===s);else this.Zt(t)!==s&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,m)=>{const S=this.Xt(m);if(S){if(u.current&&au(S.target)){const L=new bn(S.target.path);null!==this.Ut.get(L)||this.ee(m,L)||this.jt(m,L,cr.newNoDocument(L,e))}u.Dt&&(t.set(m,u.xt()),u.Nt())}});let s=Ei();this.qt.forEach((u,m)=>{let S=!0;m.forEachWhile(L=>{const Z=this.Xt(L);return!Z||2===Z.purpose||(S=!1,!1)}),S&&(s=s.add(u))}),this.Ut.forEach((u,m)=>m.setReadTime(e));const a=new xc(e,t,this.Kt,this.Ut,s);return this.Ut=lo(),this.qt=ad(),this.Kt=new Fi(Xn),a}Qt(e,t){if(!this.Ht(e))return;const s=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,s){if(!this.Ht(e))return;const a=this.zt(e);this.ee(e,t)?a.kt(t,1):a.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new _u,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Fi(Xn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Y("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new _u),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ad(){return new kr(bn.comparator)}function ba(){return new kr(bn.comparator)}const Oc={asc:"ASCENDING",desc:"DESCENDING"},Dh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ih{constructor(e,t){this.databaseId=e,this.gt=t}}function Rc(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yu(r,e){return r.gt?e.toBase64():e.toUint8Array()}function yp(r,e){return Rc(r,e.toTimestamp())}function Os(r){return hn(!!r),Yn.fromTimestamp(function(e){const t=xa(e);return new Zi(t.seconds,t.nanos)}(r))}function el(r,e){return(t=r,new ji(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ha(r){const e=ji.fromString(r);return hn(vu(e)),e}function _(r,e){return el(r.databaseId,e.path)}function d(r,e){const t=ha(e);if(t.get(1)!==r.databaseId.projectId)throw new Xt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Xt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new bn(ue(t))}function f(r,e){return el(r.databaseId,e)}function D(r){const e=ha(r);return 4===e.length?ji.emptyPath():ue(e)}function z(r){return new ji(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ue(r){return hn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function mt(r,e,t){return{name:_(r,e),fields:t.value.mapValue.fields}}function Ut(r,e,t){const s=d(r,e.name),a=Os(e.updateTime),u=new js({mapValue:{fields:e.fields}}),m=cr.newFoundDocument(s,a,u);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Qn(r,e){let t;if(e instanceof Zl)t={update:mt(r,e.key,e.value)};else if(e instanceof as)t={delete:_(r,e.key)};else if(e instanceof Bo)t={update:mt(r,e.key,e.data),updateMask:vp(e.fieldMask)};else{if(!(e instanceof Sc))return Ht();t={verify:_(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,u){const m=u.transform;if(m instanceof Ic)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Za)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ya)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kl)return{fieldPath:u.field.canonicalString(),increment:m.yt};throw Ht()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:yp(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Ht()),t;var a}function Wn(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?pi.updateTime(Os(a.updateTime)):void 0!==a.exists?pi.exists(a.exists):pi.none():pi.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(u,m){let S=null;"setToServerValue"in m?(hn("REQUEST_TIME"===m.setToServerValue),S=new Ic):"appendMissingElements"in m?S=new Za(m.appendMissingElements.values||[]):"removeAllFromArray"in m?S=new Ya(m.removeAllFromArray.values||[]):"increment"in m?S=new Kl(u,m.increment):Ht();const L=Sr.fromServerFormat(m.fieldPath);return new qa(L,S)}(r,a)):[];var a;if(e.update){const a=d(r,e.update.name),u=new js({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new ms((e.updateMask.fieldPaths||[]).map(Z=>Sr.fromServerFormat(Z)));return new Bo(a,u,m,t,s)}return new Zl(a,u,t,s)}if(e.delete){const a=d(r,e.delete);return new as(a,t)}if(e.verify){const a=d(r,e.verify);return new Sc(a,t)}return Ht()}function bo(r,e){return{documents:[f(r,e.path)]}}function ql(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=f(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=f(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(L){if(0===L.length)return;const Z=L.map(me=>function(qe){if("=="===qe.op){if(vl(qe.value))return{unaryFilter:{field:ka(qe.field),op:"IS_NAN"}};if(vc(qe.value))return{unaryFilter:{field:ka(qe.field),op:"IS_NULL"}}}else if("!="===qe.op){if(vl(qe.value))return{unaryFilter:{field:ka(qe.field),op:"IS_NOT_NAN"}};if(vc(qe.value))return{unaryFilter:{field:ka(qe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(qe.field),op:cd(qe.op),value:qe.value}}}(me));return 1===Z.length?Z[0]:{compositeFilter:{op:"AND",filters:Z}}}(e.filters);a&&(t.structuredQuery.where=a);const u=function(L){if(0!==L.length)return L.map(Z=>{return{field:ka((me=Z).field),direction:ld(me.dir)};var me})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=(Z=e.limit,r.gt||oe(Z)?Z:{value:Z});var Z,S,L;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),t}function Th(r){let e=D(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){hn(1===s);const me=t.from[0];me.allDescendants?a=me.collectionId:e=e.child(me.collectionId)}let u=[];t.where&&(u=kc(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(me=>{return new Fo(wl((qe=me).field),function(xt){switch(xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qe.direction));var qe}));let S=null;t.limit&&(S=function(me){let qe;return qe="object"==typeof me?me.value:me,oe(qe)?null:qe}(t.limit));let L=null;var me;t.startAt&&(L=new qs((me=t.startAt).values||[],!!me.before));let Z=null;return t.endAt&&(Z=function(me){return new qs(me.values||[],!me.before)}(t.endAt)),_h(e,a,m,u,S,"F",L,Z)}function kc(r){return r?void 0!==r.unaryFilter?[Sh(r)]:void 0!==r.fieldFilter?[ud(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>kc(e)).reduce((e,t)=>e.concat(t)):Ht():[]}function ld(r){return Oc[r]}function cd(r){return Dh[r]}function ka(r){return{fieldPath:r.canonicalString()}}function wl(r){return Sr.fromServerFormat(r.fieldPath)}function ud(r){return xs.create(wl(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ht()}}(r.fieldFilter.op),r.fieldFilter.value)}function Sh(r){switch(r.unaryFilter.op){case"IS_NAN":const e=wl(r.unaryFilter.field);return xs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=wl(r.unaryFilter.field);return xs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wl(r.unaryFilter.field);return xs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=wl(r.unaryFilter.field);return xs.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ht()}}function vp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vu(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function uo(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Mh(e)),e=Tg(r.get(t),e);return Mh(e)}function Tg(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const u=r.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Mh(r){return r+"\x01\x01"}function Pa(r){const e=r.length;if(hn(e>=2),2===e)return hn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),ji.emptyPath();const t=e-2,s=[];let a="";for(let u=0;u<e;){const m=r.indexOf("\x01",u);switch((m<0||m>t)&&Ht(),r.charAt(m+1)){case"\x01":const S=r.substring(u,m);let L;0===a.length?L=S:(a+=S,L=a,a=""),s.push(L);break;case"\x10":a+=r.substring(u,m),a+="\0";break;case"\x11":a+=r.substring(u,m+1);break;default:Ht()}u=m+2}return new ji(s)}const Ah=["userId","batchId"];function xh(r,e){return[r,uo(e)]}function Sg(r,e,t){return[r,uo(e),t]}const Mg={},Ag=["prefixPath","collectionGroup","readTime","documentId"],Pc=["prefixPath","collectionGroup","documentId"],xg=["collectionGroup","readTime","prefixPath","documentId"],Og=["canonicalId","targetId"],pv=["targetId","path"],Oh=["path","targetId"],mv=["collectionId","parent"],Rg=["indexId","uid"],kg=["uid","sequenceNumber"],Pg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bp=["indexId","uid","orderedDocumentKey"],Ng=["userId","collectionPath","documentId"],Rh=["userId","collectionPath","largestBatchId"],kh=["userId","collectionGroup","largestBatchId"],Ep=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cp=[...Ep,"documentOverlays"],wp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ph=wp,dd=[...Ph,"indexConfiguration","indexState","indexEntries"];class Dp extends oo{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Hs(r,e){const t=rn(r);return Zs.O(t.ie,e)}class Ip{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&td(u,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=mu();return this.mutations.forEach(a=>{const u=e.get(a.key),m=u.overlayedDocument;let S=this.applyToLocalView(m,u.mutatedFields);S=t.has(a.key)?null:S;const L=pu(m,S);null!==L&&s.set(a.key,L),m.isValidDocument()||m.convertToNoDocument(Yn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ei())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(t,s)=>bh(t,s))&&_o(this.baseMutations,e.baseMutations,(t,s)=>bh(t,s))}}class Tp{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){hn(e.mutations.length===s.length);let a=rd;const u=e.mutations;for(let m=0;m<u.length;m++)a=a.insert(u[m].key,s[m].version);return new Tp(e,t,s,a)}}class Nh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nl{constructor(e,t,s,a,u=Yn.min(),m=Yn.min(),S=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=S}withSequenceNumber(e){return new nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sp{constructor(e){this.re=e}}function Mp(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Fh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:_(a=r.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Rc(a,u.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Ql(e.version)};else{if(!e.isUnknownDocument())return Ht();s.unknownDocument={path:t.path.toArray(),version:Ql(e.version)}}var a,u;return s}function Fh(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Ql(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nc(r){const e=new Zi(r.seconds,r.nanoseconds);return Yn.fromTimestamp(e)}function Fc(r,e){const t=(e.baseMutations||[]).map(u=>Wn(r.re,u));for(let u=0;u<e.mutations.length-1;++u){const m=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(m.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const s=e.mutations.map(u=>Wn(r.re,u)),a=Zi.fromMillis(e.localWriteTimeMs);return new Ip(e.batchId,a,t,s)}function Vo(r){const e=Nc(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Nc(r.lastLimboFreeSnapshotVersion):Yn.min();let s;var a;return void 0!==r.query.documents?(hn(1===(a=r.query).documents.length),s=Lo(Ka(D(a.documents[0])))):s=Lo(Th(r.query)),new nl(s,r.targetId,0,r.lastListenSequenceNumber,e,t,vr.fromBase64String(r.resumeToken))}function Fg(r,e){const t=Ql(e.snapshotVersion),s=Ql(e.lastLimboFreeSnapshotVersion);let a;a=au(e.target)?bo(r.re,e.target):ql(r.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oa(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Lh(r){const e=Th({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Zu(e,e.limit,"L"):e}function Ap(r,e){return new Nh(e.largestBatchId,Wn(r.re,e.overlayMutation))}function Lg(r,e){const t=e.path.lastSegment();return[r,uo(e.path.popLast()),t]}function Bg(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Ql(s.readTime),documentKey:uo(s.documentKey.path),largestBatchId:s.largestBatchId}}class gv{getBundleMetadata(e,t){return xp(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Nc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return xp(e).put({bundleId:(s=t).id,createTime:Ql(Os(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Vg(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Lh(a.bundledQuery),readTime:Nc(a.readTime)};var a})}saveNamedQuery(e,t){return Vg(e).put({name:(s=t).name,readTime:Ql(Os(s.readTime)),bundledQuery:s.bundledQuery});var s}}function xp(r){return Hs(r,"bundles")}function Vg(r){return Hs(r,"namedQueries")}class Bh{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Bh(e,t.uid||"")}getOverlay(e,t){return hd(e).get(Lg(this.userId,t)).next(s=>s?Ap(this.It,s):null)}getOverlays(e,t){const s=da();return Ot.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&s.set(a,u)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((u,m)=>{const S=new Nh(t,m);a.push(this.ue(e,S))}),Ot.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(m=>a.add(uo(m.getCollectionPath())));const u=[];return a.forEach(m=>{const S=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);u.push(hd(e).Y("collectionPathOverlayIndex",S))}),Ot.waitFor(u)}getOverlaysForCollection(e,t,s){const a=da(),u=uo(t),m=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,Number.POSITIVE_INFINITY],!0);return hd(e).W("collectionPathOverlayIndex",m).next(S=>{for(const L of S){const Z=Ap(this.It,L);a.set(Z.getKey(),Z)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const u=da();let m;const S=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hd(e).Z({index:"collectionGroupOverlayIndex",range:S},(L,Z,me)=>{const qe=Ap(this.It,Z);u.size()<a||qe.largestBatchId===m?(u.set(qe.getKey(),qe),m=qe.largestBatchId):me.done()}).next(()=>u)}ue(e,t){return hd(e).put(function(s,a,u){const[m,S,L]=Lg(a,u.mutation.key);return{userId:a,collectionPath:S,documentId:L,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Qn(s.re,u.mutation)}}(this.It,this.userId,t))}}function hd(r){return Hs(r,"documentOverlays")}class di{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Dr(e.integerValue));else if("doubleValue"in e){const s=Dr(e.doubleValue);isNaN(s)?this.le(t,13):(this.le(t,15),He(s)?t.fe(0):t.fe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.le(t,20),"string"==typeof s?t.de(s):(t.de(`${s.seconds||""}`),t.fe(s.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Xo(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.le(t,45),t.fe(s.latitude||0),t.fe(s.longitude||0)}else"mapValue"in e?No(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Ht()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const s=e.fields||{};this.le(t,55);for(const a of Object.keys(s))this._e(a,t),this.ae(s[a],t)}pe(e,t){const s=e.values||[];this.le(t,50);for(const a of s)this.ae(a,t)}ge(e,t){this.le(t,37),bn.fromName(e).path.forEach(s=>{this.le(t,60),this.Ie(s,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Ug(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Op(r){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const u=Ug(255&t[a]);if(s+=u,8!==u)break}return s}(r);return Math.ceil(e/8)}di.Te=new di;class jg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Pe(s.value),s=t.next();this.ve()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const a=t.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}this.Re()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Pe(s);else if(s<2048)this.Pe(960|s>>>6),this.Pe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s);else{const a=t.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}this.ve()}De(e){const t=this.Ce(e),s=Op(t);this.xe(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Ne(e){const t=this.Ce(e),s=Op(t);this.xe(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Vh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Na{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class bu{constructor(){this.Be=new jg,this.Le=new Vh(this.Be),this.Ue=new Na(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Lc{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Lc(this.indexId,this.documentKey,this.arrayValue,s)}}function Dl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=il(r.arrayValue,e.arrayValue),0!==t?t:(t=il(r.directionalValue,e.directionalValue),0!==t?t:bn.comparator(r.documentKey,e.documentKey)))}function il(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Rp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const s=t;s.dt()?this.je=s:this.Qe.push(s)}}We(e){const t=Gu(e);if(void 0!==t&&!this.ze(t))return!1;const s=pl(e);let a=0,u=0;for(;a<s.length&&this.ze(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.je){const m=s[a];if(!this.He(this.je,m)||!this.Je(this.Ge[u++],m))return!1;++a}for(;a<s.length;++a){const m=s[a];if(u>=this.Ge.length||!this.Je(this.Ge[u++],m))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Hg{constructor(){this.Ye=new fd}addToCollectionParentIndex(e,t){return this.Ye.add(t),Ot.resolve()}getCollectionParents(e,t){return Ot.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Ot.resolve()}deleteFieldIndex(e,t){return Ot.resolve()}getDocumentsMatchingTarget(e,t){return Ot.resolve(null)}getIndexType(e,t){return Ot.resolve(0)}getFieldIndexes(e,t){return Ot.resolve([])}getNextCollectionGroupToUpdate(e){return Ot.resolve(null)}getMinOffset(e,t){return Ot.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,t){return Ot.resolve(jr.min())}updateCollectionGroup(e,t,s){return Ot.resolve()}updateIndexEntries(e,t){return Ot.resolve()}}class fd{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Fi(ji.comparator),u=!a.has(s);return this.index[t]=a.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Fi(ji.comparator)).toArray()}}const kp=new Uint8Array(0);class Gg{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new fd,this.Ze=new Xa(s=>Oa(s),(s,a)=>Ec(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:s,parent:uo(a)};return _v(e).put(u)}return Ot.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Ro(t),""],!1,!0);return _v(e).W(a).next(u=>{for(const m of u){if(m.collectionId!==t)break;s.push(Pa(m.parent))}return s})}addFieldIndex(e,t){const s=Bc(e),a={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var m;delete a.indexId;const u=s.add(a);if(t.indexState){const m=Vc(e);return u.next(S=>{m.put(Bg(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const s=Bc(e),a=Vc(e),u=Xl(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Xl(e);let a=!0;const u=new Map;return Ot.forEach(this.tn(t),m=>this.en(e,m).next(S=>{a&&(a=!!S),u.set(m,S)})).next(()=>{if(a){let m=Ei();const S=[];return Ot.forEach(u,(L,Z)=>{var me;Y("IndexedDbIndexManager",`Using index ${me=L,`id=${me.indexId}|cg=${me.collectionGroup}|f=${me.fields.map(zi=>`${zi.fieldPath}:${zi.kind}`).join(",")}`} to execute ${Oa(t)}`);const qe=function(zi,Ii){const ti=Gu(Ii);if(void 0===ti)return null;for(const Ti of zu(zi,ti.fieldPath))switch(Ti.op){case"array-contains-any":return Ti.value.arrayValue.values||[];case"array-contains":return[Ti.value]}return null}(Z,L),xt=function(zi,Ii){const ti=new Map;for(const Ti of pl(Ii))for(const $s of zu(zi,Ti.fieldPath))switch($s.op){case"==":case"in":ti.set(Ti.fieldPath.canonicalString(),$s.value);break;case"not-in":case"!=":return ti.set(Ti.fieldPath.canonicalString(),$s.value),Array.from(ti.values())}return null}(Z,L),Zt=function(zi,Ii){const ti=[];let Ti=!0;for(const $s of pl(Ii)){const ih=0===$s.kind?Cc(zi,$s.fieldPath,zi.startAt):$l(zi,$s.fieldPath,zi.startAt);ti.push(ih.value),Ti&&(Ti=ih.inclusive)}return new qs(ti,Ti)}(Z,L),Qt=function(zi,Ii){const ti=[];let Ti=!0;for(const $s of pl(Ii)){const ih=0===$s.kind?$l(zi,$s.fieldPath,zi.endAt):Cc(zi,$s.fieldPath,zi.endAt);ti.push(ih.value),Ti&&(Ti=ih.inclusive)}return new qs(ti,Ti)}(Z,L),yn=this.nn(L,Z,Zt),Rn=this.nn(L,Z,Qt),Ai=this.sn(L,Z,xt),sr=this.rn(L.indexId,qe,yn,Zt.inclusive,Rn,Qt.inclusive,Ai);return Ot.forEach(sr,zi=>s.J(zi,t.limit).next(Ii=>{Ii.forEach(ti=>{const Ti=bn.fromSegments(ti.documentKey);m.has(Ti)||(m=m.add(Ti),S.push(Ti))})}))}).next(()=>S)}return Ot.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,s,a,u,m,S){const L=(null!=t?t.length:1)*Math.max(s.length,u.length),Z=L/(null!=t?t.length:1),me=[];for(let qe=0;qe<L;++qe){const xt=t?this.on(t[qe/Z]):kp,Zt=this.un(e,xt,s[qe%Z],a),Qt=this.cn(e,xt,u[qe%Z],m),yn=S.map(Rn=>this.un(e,xt,Rn,!0));me.push(...this.createRange(Zt,Qt,yn))}return me}un(e,t,s,a){const u=new Lc(e,bn.empty(),t,s);return a?u:u.Ke()}cn(e,t,s,a){const u=new Lc(e,bn.empty(),t,s);return a?u.Ke():u}en(e,t){const s=new Rp(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let m=null;for(const S of u)s.We(S)&&(!m||S.fields.length>m.fields.length)&&(m=S);return m})}getIndexType(e,t){let s=2;return Ot.forEach(this.tn(t),a=>this.en(e,a).next(u=>{u?0!==s&&u.fields.length<function(m){let S=new Fi(Sr.comparator),L=!1;for(const Z of m.filters){const me=Z;me.field.isKeyField()||("array-contains"===me.op||"array-contains-any"===me.op?L=!0:S=S.add(me.field))}for(const Z of m.orderBy)Z.field.isKeyField()||(S=S.add(Z.field));return S.size+(L?1:0)}(a)&&(s=1):s=0})).next(()=>s)}an(e,t){const s=new bu;for(const a of pl(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const m=s.qe(a.kind);di.Te.ce(u,m)}return s.$e()}on(e){const t=new bu;return di.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const s=new bu;return di.Te.ce(yo(this.databaseId,t),s.qe(function(a){const u=pl(a);return 0===u.length?0:u[u.length-1].kind}(e))),s.$e()}sn(e,t,s){if(null===s)return[];let a=[];a.push(new bu);let u=0;for(const m of pl(e)){const S=s[u++];for(const L of a)if(this.ln(t,m.fieldPath)&&Ys(S))a=this.fn(a,m,S);else{const Z=L.qe(m.kind);di.Te.ce(S,Z)}}return this.dn(a)}nn(e,t,s){return this.sn(e,t,s.position)}dn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}fn(e,t,s){const a=[...e],u=[];for(const m of s.arrayValue.values||[])for(const S of a){const L=new bu;L.seed(S.$e()),di.Te.ce(m,L.qe(t.kind)),u.push(L)}return u}ln(e,t){return!!e.filters.find(s=>s instanceof xs&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Bc(e),a=Vc(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(u=>{const m=[];return Ot.forEach(u,S=>a.get([S.indexId,this.uid]).next(L=>{m.push(function(Z,me){const qe=me?new Ul(me.sequenceNumber,new jr(Nc(me.readTime),new bn(Pa(me.documentKey)),me.largestBatchId)):Ul.empty(),xt=Z.fields.map(([Zt,Qt])=>new iu(Sr.fromServerFormat(Zt),Qt));return new fl(Z.indexId,Z.collectionGroup,xt,qe)}(S,L))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const u=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:Xn(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Bc(e),u=Vc(e);return this._n(e).next(m=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>Ot.forEach(S,L=>u.put(Bg(L.indexId,this.user,m,s)))))}updateIndexEntries(e,t){const s=new Map;return Ot.forEach(t,(a,u)=>{const m=s.get(a.collectionGroup);return(m?Ot.resolve(m):this.getFieldIndexes(e,a.collectionGroup)).next(S=>(s.set(a.collectionGroup,S),Ot.forEach(S,L=>this.wn(e,a,L).next(Z=>{const me=this.mn(u,L);return Z.isEqual(me)?Ot.resolve():this.gn(e,u,L,Z,me)}))))})}yn(e,t,s,a){return Xl(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.hn(s,t.key),documentKey:t.key.path.toArray()})}pn(e,t,s,a){return Xl(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.hn(s,t.key),t.key.path.toArray()])}wn(e,t,s){const a=Xl(e);let u=new Fi(Dl);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.hn(s,t)])},(m,S)=>{u=u.add(new Lc(s.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>u)}mn(e,t){let s=new Fi(Dl);const a=this.an(t,e);if(null==a)return s;const u=Gu(t);if(null!=u){const m=e.data.field(u.fieldPath);if(Ys(m))for(const S of m.arrayValue.values||[])s=s.add(new Lc(t.indexId,e.key,this.on(S),a))}else s=s.add(new Lc(t.indexId,e.key,kp,a));return s}gn(e,t,s,a,u){Y("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(S,L,Z,me,qe){const xt=S.getIterator(),Zt=L.getIterator();let Qt=_l(xt),yn=_l(Zt);for(;Qt||yn;){let Rn=!1,Ai=!1;if(Qt&&yn){const sr=Z(Qt,yn);sr<0?Ai=!0:sr>0&&(Rn=!0)}else null!=Qt?Ai=!0:Rn=!0;Rn?(me(yn),yn=_l(Zt)):Ai?(qe(Qt),Qt=_l(xt)):(Qt=_l(xt),yn=_l(Zt))}}(a,u,Dl,S=>{m.push(this.yn(e,t,s,S))},S=>{m.push(this.pn(e,t,s,S))}),Ot.waitFor(m)}_n(e){let t=1;return Vc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((m,S)=>Dl(m,S)).filter((m,S,L)=>!S||0!==Dl(m,L[S-1]));const a=[];a.push(e);for(const m of s){const S=Dl(m,e),L=Dl(m,t);if(0===S)a[0]=e.Ke();else if(S>0&&L<0)a.push(m),a.push(m.Ke());else if(L>0)break}a.push(t);const u=[];for(let m=0;m<a.length;m+=2)u.push(IDBKeyRange.bound([a[m].indexId,this.uid,a[m].arrayValue,a[m].directionalValue,kp,[]],[a[m+1].indexId,this.uid,a[m+1].arrayValue,a[m+1].directionalValue,kp,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Uh)}getMinOffset(e,t){return Ot.mapArray(this.tn(t),s=>this.en(e,s).next(a=>a||Ht())).next(Uh)}}function _v(r){return Hs(r,"collectionParents")}function Xl(r){return Hs(r,"indexEntries")}function Bc(r){return Hs(r,"indexConfiguration")}function Vc(r){return Hs(r,"indexState")}function Uh(r){hn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const a=r[s].indexState.offset;ru(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new jr(e.readTime,e.documentKey,t)}const jh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new fa(e,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $g(r,e,t){const s=r.store("mutations"),a=r.store("documentMutations"),u=[],m=IDBKeyRange.only(t.batchId);let S=0;const L=s.Z({range:m},(me,qe,xt)=>(S++,xt.delete()));u.push(L.next(()=>{hn(1===S)}));const Z=[];for(const me of t.mutations){const qe=Sg(e,me.key.path,t.batchId);u.push(a.delete(qe)),Z.push(me.key)}return Ot.waitFor(u).next(()=>Z)}function Hh(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Ht();e=r.noDocument}return JSON.stringify(e).length}fa.DEFAULT_COLLECTION_PERCENTILE=10,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fa.DEFAULT=new fa(41943040,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fa.DISABLED=new fa(-1,0,0);class Gh{constructor(e,t,s,a){this.userId=e,this.It=t,this.indexManager=s,this.referenceDelegate=a,this.In={}}static oe(e,t,s,a){hn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Gh(u,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Il(e).Z({index:"userMutationsIndex",range:s},(a,u,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const u=pd(e),m=Il(e);return m.add({}).next(S=>{hn("number"==typeof S);const L=new Ip(S,t,s,a),Z=function(xt,Zt,Qt){const yn=Qt.baseMutations.map(Ai=>Qn(xt.re,Ai)),Rn=Qt.mutations.map(Ai=>Qn(xt.re,Ai));return{userId:Zt,batchId:Qt.batchId,localWriteTimeMs:Qt.localWriteTime.toMillis(),baseMutations:yn,mutations:Rn}}(this.It,this.userId,L),me=[];let qe=new Fi((xt,Zt)=>Xn(xt.canonicalString(),Zt.canonicalString()));for(const xt of a){const Zt=Sg(this.userId,xt.key.path,S);qe=qe.add(xt.key.path.popLast()),me.push(m.put(Z)),me.push(u.put(Zt,Mg))}return qe.forEach(xt=>{me.push(this.indexManager.addToCollectionParentIndex(e,xt))}),e.addOnCommittedListener(()=>{this.In[S]=L.keys()}),Ot.waitFor(me).next(()=>L)})}lookupMutationBatch(e,t){return Il(e).get(t).next(s=>s?(hn(s.userId===this.userId),Fc(this.It,s)):null)}Tn(e,t){return this.In[t]?Ot.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.In[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return Il(e).Z({index:"userMutationsIndex",range:a},(m,S,L)=>{S.userId===this.userId&&(hn(S.batchId>=s),u=Fc(this.It,S)),L.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Il(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(a,u,m)=>{s=u.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Il(e).W("userMutationsIndex",t).next(s=>s.map(a=>Fc(this.It,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=xh(this.userId,t.path),a=IDBKeyRange.lowerBound(s),u=[];return pd(e).Z({range:a},(m,S,L)=>{const[Z,me,qe]=m,xt=Pa(me);if(Z===this.userId&&t.path.isEqual(xt))return Il(e).get(qe).next(Zt=>{if(!Zt)throw Ht();hn(Zt.userId===this.userId),u.push(Fc(this.It,Zt))});L.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fi(Xn);const a=[];return t.forEach(u=>{const m=xh(this.userId,u.path),S=IDBKeyRange.lowerBound(m),L=pd(e).Z({range:S},(Z,me,qe)=>{const[xt,Zt,Qt]=Z,yn=Pa(Zt);xt===this.userId&&u.path.isEqual(yn)?s=s.add(Qt):qe.done()});a.push(L)}),Ot.waitFor(a).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,u=xh(this.userId,s),m=IDBKeyRange.lowerBound(u);let S=new Fi(Xn);return pd(e).Z({range:m},(L,Z,me)=>{const[qe,xt,Zt]=L,Qt=Pa(xt);qe===this.userId&&s.isPrefixOf(Qt)?Qt.length===a&&(S=S.add(Zt)):me.done()}).next(()=>this.En(e,S))}En(e,t){const s=[],a=[];return t.forEach(u=>{a.push(Il(e).get(u).next(m=>{if(null===m)throw Ht();hn(m.userId===this.userId),s.push(Fc(this.It,m))}))}),Ot.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return $g(e.ie,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ot.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ot.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return pd(e).Z({range:s},(u,m,S)=>{if(u[0]===this.userId){const L=Pa(u[1]);a.push(L)}else S.done()}).next(()=>{hn(0===a.length)})})}containsKey(e,t){return zg(e,this.userId,t)}Rn(e){return Wg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zg(r,e,t){const s=xh(e,t.path),a=s[1],u=IDBKeyRange.lowerBound(s);let m=!1;return pd(r).Z({range:u,X:!0},(S,L,Z)=>{const[me,qe,xt]=S;me===e&&qe===a&&(m=!0),Z.done()}).next(()=>m)}function Il(r){return Hs(r,"mutations")}function pd(r){return Hs(r,"documentMutations")}function Wg(r){return Hs(r,"mutationQueues")}class Eu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Eu(0)}static vn(){return new Eu(-1)}}class Kg{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new Eu(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Yn.fromTimestamp(new Zi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Sn(e,a)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Uc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(hn(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let a=0;const u=[];return Uc(e).Z((m,S)=>{const L=Vo(S);L.sequenceNumber<=t&&null===s.get(L.targetId)&&(a++,u.push(this.removeTargetData(e,L)))}).next(()=>Ot.waitFor(u)).next(()=>a)}forEachTarget(e,t){return Uc(e).Z((s,a)=>{const u=Vo(a);t(u)})}Vn(e){return Zg(e).get("targetGlobalKey").next(t=>(hn(null!==t),t))}Sn(e,t){return Zg(e).put("targetGlobalKey",t)}Dn(e,t){return Uc(e).put(Fg(this.It,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Oa(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return Uc(e).Z({range:a,index:"queryTargetsIndex"},(m,S,L)=>{const Z=Vo(S);Ec(t,Z.target)&&(u=Z,L.done())}).next(()=>u)}addMatchingKeys(e,t,s){const a=[],u=rl(e);return t.forEach(m=>{const S=uo(m.path);a.push(u.put({targetId:s,path:S})),a.push(this.referenceDelegate.addReference(e,s,m))}),Ot.waitFor(a)}removeMatchingKeys(e,t,s){const a=rl(e);return Ot.forEach(t,u=>{const m=uo(u.path);return Ot.waitFor([a.delete([s,m]),this.referenceDelegate.removeReference(e,s,u)])})}removeMatchingKeysForTargetId(e,t){const s=rl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=rl(e);let u=Ei();return a.Z({range:s,X:!0},(m,S,L)=>{const Z=Pa(m[1]),me=new bn(Z);u=u.add(me)}).next(()=>u)}containsKey(e,t){const s=uo(t.path),a=IDBKeyRange.bound([s],[Ro(s)],!1,!0);let u=0;return rl(e).Z({index:"documentTargetsIndex",X:!0,range:a},([m,S],L,Z)=>{0!==m&&(u++,Z.done())}).next(()=>u>0)}se(e,t){return Uc(e).get(t).next(s=>s?Vo(s):null)}}function Uc(r){return Hs(r,"targets")}function Zg(r){return Hs(r,"targetGlobal")}function rl(r){return Hs(r,"targetDocuments")}function yv([r,e],[t,s]){const a=Xn(r,t);return 0===a?Xn(e,s):a}class U0{constructor(e){this.xn=e,this.buffer=new Fi(yv),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class j0{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Y("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){aa(s)?Y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Xr(s)}yield t.Fn(3e5)}))}}class H0{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ot.resolve(ps.at);const s=new U0(t);return this.$n.forEachTarget(e,a=>s.Mn(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>s.Mn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),Ot.resolve(jh)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jh):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let s,a,u,m,S,L,Z;const me=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(qe=>(qe>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${qe}`),a=this.params.maximumSequenceNumbersToCollect):a=qe,m=Date.now(),this.nthSequenceNumber(e,a))).next(qe=>(s=qe,S=Date.now(),this.removeTargets(e,s,t))).next(qe=>(u=qe,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(qe=>(Z=Date.now(),j()<=pe.in.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-me}ms\n\tDetermined least recently used ${a} in `+(S-m)+`ms\n\tRemoved ${u} targets in `+(L-S)+`ms\n\tRemoved ${qe} documents in `+(Z-L)+`ms\nTotal Duration: ${Z-me}ms`),Ot.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:qe})))}}class G0{constructor(e,t){this.db=e,this.garbageCollector=new H0(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}qn(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,a)=>t(a))}addReference(e,t,s){return Pp(e,s)}removeReference(e,t,s){return Pp(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Pp(e,t)}Gn(e,t){return function(s,a){let u=!1;return Wg(s).tt(m=>zg(s,m,a).next(S=>(S&&(u=!0),Ot.resolve(!S)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.Kn(e,(m,S)=>{if(S<=t){const L=this.Gn(e,m).next(Z=>{if(!Z)return u++,s.getEntry(e,m).next(()=>(s.removeEntry(m,Yn.min()),rl(e).delete([0,uo(m.path)])))});a.push(L)}}).next(()=>Ot.waitFor(a)).next(()=>s.apply(e)).next(()=>u)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Pp(e,t)}Kn(e,t){const s=rl(e);let a,u=ps.at;return s.Z({index:"documentTargetsIndex"},([m,S],{path:L,sequenceNumber:Z})=>{0===m?(u!==ps.at&&t(new bn(Pa(a)),u),u=Z,a=L):u=ps.at}).next(()=>{u!==ps.at&&t(new bn(Pa(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pp(r,e){return rl(r).put((s=r.currentSequenceNumber,{targetId:0,path:uo(e.path),sequenceNumber:s}));var s}class vv{constructor(){this.changes=new Xa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ot.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $0{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Sl(e).put(s)}removeEntry(e,t,s){return Sl(e).delete(function(a,u){const m=a.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Fh(u),m[m.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=cr.newInvalidDocument(t);return Sl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(md(t))},(a,u)=>{s=this.jn(t,u)}).next(()=>s)}Wn(e,t){let s={size:0,document:cr.newInvalidDocument(t)};return Sl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(md(t))},(a,u)=>{s={document:this.jn(t,u),size:Hh(u)}}).next(()=>s)}getEntries(e,t){let s=lo();return this.zn(e,t,(a,u)=>{const m=this.jn(a,u);s=s.insert(a,m)}).next(()=>s)}Hn(e,t){let s=lo(),a=new kr(bn.comparator);return this.zn(e,t,(u,m)=>{const S=this.jn(u,m);s=s.insert(u,S),a=a.insert(u,Hh(m))}).next(()=>({documents:s,Jn:a}))}zn(e,t,s){if(t.isEmpty())return Ot.resolve();let a=new Fi($h);t.forEach(L=>a=a.add(L));const u=IDBKeyRange.bound(md(a.first()),md(a.last())),m=a.getIterator();let S=m.getNext();return Sl(e).Z({index:"documentKeyIndex",range:u},(L,Z,me)=>{const qe=bn.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;S&&$h(S,qe)<0;)s(S,null),S=m.getNext();S&&S.isEqual(qe)&&(s(S,Z),S=m.hasNext()?m.getNext():null),S?me.j(md(S)):me.done()}).next(()=>{for(;S;)s(S,null),S=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,s){const a=[t.popLast().toArray(),t.lastSegment(),Fh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sl(e).W(IDBKeyRange.bound(a,u,!0)).next(m=>{let S=lo();for(const L of m){const Z=this.jn(bn.fromSegments(L.prefixPath.concat(L.collectionGroup,L.documentId)),L);S=S.insert(Z.key,Z)}return S})}getAllFromCollectionGroup(e,t,s,a){let u=lo();const m=Np(t,s),S=Np(t,jr.max());return Sl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,S,!0)},(L,Z,me)=>{const qe=this.jn(bn.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);u=u.insert(qe.key,qe),u.size===a&&me.done()}).next(()=>u)}newChangeBuffer(e){return new z0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Tl(e).get("remoteDocumentGlobalKey").next(t=>(hn(!!t),t))}Qn(e,t){return Tl(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function V0(r,e){let t;if(e.document)t=Ut(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=bn.fromSegments(e.noDocument.path),a=Nc(e.noDocument.readTime);t=cr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ht();{const s=bn.fromSegments(e.unknownDocument.path),a=Nc(e.unknownDocument.version);t=cr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Zi(s[0],s[1]);return Yn.fromTimestamp(a)}(e.readTime)),t}(this.It,t);if(!s.isNoDocument()||!s.version.isEqual(Yn.min()))return s}return cr.newInvalidDocument(e)}}function bv(r){return new $0(r)}class z0 extends vv{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Xa(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Fi((u,m)=>Xn(u.canonicalString(),m.canonicalString()));return this.changes.forEach((u,m)=>{const S=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,S.readTime)),m.isValidDocument()){const L=Mp(this.Yn.It,m);a=a.add(u.path.popLast()),s+=Hh(L)-S.size,t.push(this.Yn.addEntry(e,u,L))}else if(s-=S.size,this.trackRemovals){const L=Mp(this.Yn.It,m.convertToNoDocument(Yn.min()));t.push(this.Yn.addEntry(e,u,L))}}),a.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,s)),Ot.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:a})=>(a.forEach((u,m)=>{this.Xn.set(u,{size:m,readTime:s.get(u).readTime})}),s))}}function Tl(r){return Hs(r,"remoteDocumentGlobal")}function Sl(r){return Hs(r,"remoteDocumentsV14")}function md(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Np(r,e){const t=e.documentKey.path.toArray();return[r,Fh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $h(r,e){const t=r.path.toArray(),s=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<s.length-2;++u)if(a=Xn(t[u],s[u]),a)return a;return a=Xn(t.length,s.length),a||(a=Xn(t[t.length-2],s[s.length-2]),a||Xn(t[t.length-1],s[s.length-1]))}class Yg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zh{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.getBaseDocument(e,t,s))).next(a=>(null!==s&&Tc(s.mutation,a,ms.empty(),Zi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ei()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ei()){const a=da();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(u=>{let m=ya();return u.forEach((S,L)=>{m=m.insert(S,L.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const s=da();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ei()))}populateOverlays(e,t,s){const a=[];return s.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((m,S)=>{t.set(m,S)})})}computeViews(e,t,s,a){let u=lo();const m=Cl(),S=Cl();return t.forEach((L,Z)=>{const me=s.get(Z.key);a.has(Z.key)&&(void 0===me||me.mutation instanceof Bo)?u=u.insert(Z.key,Z):void 0!==me&&(m.set(Z.key,me.mutation.getFieldMask()),Tc(me.mutation,Z,me.mutation.getFieldMask(),Zi.now()))}),this.recalculateAndSaveOverlays(e,u).next(L=>(L.forEach((Z,me)=>m.set(Z,me)),t.forEach((Z,me)=>{var qe;return S.set(Z,new Yg(me,null!==(qe=m.get(Z))&&void 0!==qe?qe:null))}),S))}recalculateAndSaveOverlays(e,t){const s=Cl();let a=new kr((m,S)=>m-S),u=Ei();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const S of m)S.keys().forEach(L=>{const Z=t.get(L);if(null===Z)return;let me=s.get(L)||ms.empty();me=S.applyToLocalView(Z,me),s.set(L,me);const qe=(a.get(S.batchId)||Ei()).add(L);a=a.insert(S.batchId,qe)})}).next(()=>{const m=[],S=a.getReverseIterator();for(;S.hasNext();){const L=S.getNext(),Z=L.key,me=L.value,qe=mu();me.forEach(xt=>{if(!u.has(xt)){const Zt=pu(t.get(xt),s.get(xt));null!==Zt&&qe.set(xt,Zt),u=u.add(xt)}}),m.push(this.documentOverlayCache.saveOverlays(e,Z,qe))}return Ot.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return bn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ku(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(u=>{const m=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-u.size):Ot.resolve(da());let S=-1,L=u;return m.next(Z=>Ot.forEach(Z,(me,qe)=>(S<qe.largestBatchId&&(S=qe.largestBatchId),u.get(me)?Ot.resolve():this.getBaseDocument(e,me,qe).next(xt=>{L=L.insert(me,xt)}))).next(()=>this.populateOverlays(e,Z,u)).next(()=>this.computeViews(e,L,Z,Ei())).next(me=>({batchId:S,changes:id(me)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bn(t)).next(s=>{let a=ya();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let u=ya();return this.indexManager.getCollectionParents(e,a).next(m=>Ot.forEach(m,S=>{const L=(Z=t,me=S.child(a),new _a(me,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,me;return this.getDocumentsMatchingCollectionQuery(e,L,s).next(Z=>{Z.forEach((me,qe)=>{u=u.insert(me,qe)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(u=>(a=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(u=>{u.forEach((S,L)=>{const Z=L.getKey();null===a.get(Z)&&(a=a.insert(Z,cr.newInvalidDocument(Z)))});let m=ya();return a.forEach((S,L)=>{const Z=u.get(S);void 0!==Z&&Tc(Z.mutation,L,ms.empty(),Zi.now()),Ra(t,L)&&(m=m.insert(S,L))}),m})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ot.resolve(cr.newInvalidDocument(t))}}class Ev{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ot.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Os(s.createTime)}),Ot.resolve()}getNamedQuery(e,t){return Ot.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:Lh(s.bundledQuery),readTime:Os(s.readTime)}),Ot.resolve();var s}}class Jl{constructor(){this.overlays=new kr(bn.comparator),this.es=new Map}getOverlay(e,t){return Ot.resolve(this.overlays.get(t))}getOverlays(e,t){const s=da();return Ot.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&s.set(a,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,u)=>{this.ue(e,t,u)}),Ot.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.es.get(s);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(s)),Ot.resolve()}getOverlaysForCollection(e,t,s){const a=da(),u=t.length+1,m=new bn(t.child("")),S=this.overlays.getIteratorFrom(m);for(;S.hasNext();){const L=S.getNext().value,Z=L.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===u&&L.largestBatchId>s&&a.set(L.getKey(),L)}return Ot.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let u=new kr((Z,me)=>Z-me);const m=this.overlays.getIterator();for(;m.hasNext();){const Z=m.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>s){let me=u.get(Z.largestBatchId);null===me&&(me=da(),u=u.insert(Z.largestBatchId,me)),me.set(Z.getKey(),Z)}}const S=da(),L=u.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((Z,me)=>S.set(Z,me)),!(S.size()>=a)););return Ot.resolve(S)}ue(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const m=this.es.get(a.largestBatchId).delete(s.key);this.es.set(a.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new Nh(t,s));let u=this.es.get(t);void 0===u&&(u=Ei(),this.es.set(t,u)),this.es.set(t,u.add(s.key))}}class Wh{constructor(){this.ns=new Fi(Qs.ss),this.rs=new Fi(Qs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new Qs(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new Qs(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new bn(new ji([])),s=new Qs(t,e),a=new Qs(t,e+1),u=[];return this.rs.forEachInRange([s,a],m=>{this.cs(m),u.push(m.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new bn(new ji([])),s=new Qs(t,e),a=new Qs(t,e+1);let u=Ei();return this.rs.forEachInRange([s,a],m=>{u=u.add(m.key)}),u}containsKey(e){const t=new Qs(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Qs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return bn.comparator(e.key,t.key)||Xn(e._s,t._s)}static os(e,t){return Xn(e._s,t._s)||bn.comparator(e.key,t.key)}}class Fp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Fi(Qs.ss)}checkEmpty(e){return Ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const u=this.ws;this.ws++;const m=new Ip(u,t,s,a);this.mutationQueue.push(m);for(const S of a)this.gs=this.gs.add(new Qs(S.key,u)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Ot.resolve(m)}lookupMutationBatch(e,t){return Ot.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),u=a<0?0:a;return Ot.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ot.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Qs(t,0),a=new Qs(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([s,a],m=>{const S=this.ys(m._s);u.push(S)}),Ot.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fi(Xn);return t.forEach(a=>{const u=new Qs(a,0),m=new Qs(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,m],S=>{s=s.add(S._s)})}),Ot.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let u=s;bn.isDocumentKey(u)||(u=u.child(""));const m=new Qs(new bn(u),0);let S=new Fi(Xn);return this.gs.forEachWhile(L=>{const Z=L.key.path;return!!s.isPrefixOf(Z)&&(Z.length===a&&(S=S.add(L._s)),!0)},m),Ot.resolve(this.Is(S))}Is(e){const t=[];return e.forEach(s=>{const a=this.ys(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){hn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return Ot.forEach(t.mutations,a=>{const u=new Qs(a.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new Qs(t,0),a=this.gs.firstAfterOrEqual(s);return Ot.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ot.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cv{constructor(e){this.Es=e,this.docs=new kr(bn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),u=a?a.size:0,m=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ot.resolve(s?s.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let s=lo();return t.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():cr.newInvalidDocument(a))}),Ot.resolve(s)}getAllFromCollection(e,t,s){let a=lo();const u=new bn(t.child("")),m=this.docs.getIteratorFrom(u);for(;m.hasNext();){const{key:S,value:{document:L}}=m.getNext();if(!t.isPrefixOf(S.path))break;S.path.length>t.length+1||ru(ml(L),s)<=0||(a=a.insert(L.key,L.mutableCopy()))}return Ot.resolve(a)}getAllFromCollectionGroup(e,t,s,a){Ht()}As(e,t){return Ot.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new qg(this)}getSize(e){return Ot.resolve(this.size)}}class qg extends vv{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(s)}),Ot.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class wv{constructor(e){this.persistence=e,this.Rs=new Xa(t=>Oa(t),Ec),this.lastRemoteSnapshotVersion=Yn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Wh,this.targetCount=0,this.vs=Eu.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,a)=>t(a)),Ot.resolve()}getLastRemoteSnapshotVersion(e){return Ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ot.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ot.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),Ot.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Eu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ot.resolve()}updateTargetData(e,t){return this.Dn(t),Ot.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ot.resolve()}removeTargets(e,t,s){let a=0;const u=[];return this.Rs.forEach((m,S)=>{S.sequenceNumber<=t&&null===s.get(S.targetId)&&(this.Rs.delete(m),u.push(this.removeMatchingKeysForTargetId(e,S.targetId)),a++)}),Ot.waitFor(u).next(()=>a)}getTargetCount(e){return Ot.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return Ot.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),Ot.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(m=>{u.push(a.markPotentiallyOrphaned(e,m))}),Ot.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ot.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return Ot.resolve(s)}containsKey(e,t){return Ot.resolve(this.Ps.containsKey(t))}}class Qg{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ps(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new wv(this),this.indexManager=new Hg,this.remoteDocumentCache=new Cv(s=>this.referenceDelegate.xs(s)),this.It=new Sp(t),this.Ns=new Ev(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Fp(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){Y("MemoryPersistence","Starting transaction:",e);const a=new gd(this.Ss.next());return this.referenceDelegate.ks(),s(a).next(u=>this.referenceDelegate.Ms(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Os(e,t){return Ot.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class gd extends oo{constructor(e){super(),this.currentSequenceNumber=e}}class Ml{constructor(e){this.persistence=e,this.Fs=new Wh,this.$s=null}static Bs(e){return new Ml(e)}get Ls(){if(this.$s)return this.$s;throw Ht()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),Ot.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),Ot.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ot.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ls.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ot.forEach(this.Ls,s=>{const a=bn.fromPath(s);return this.Us(e,a).next(u=>{u||t.removeEntry(a,Yn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Ot.or([()=>Ot.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Lp{constructor(e){this.It=e}$(e,t,s,a){const u=new Aa("createOrUpgrade",t);var S;s<1&&a>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ah,{unique:!0}),S.createObjectStore("documentMutations"),jc(e),function(S){S.createObjectStore("remoteDocuments")}(e));let m=Ot.resolve();return s<3&&a>=3&&(0!==s&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),jc(e)),m=m.next(()=>function(S){const L=S.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yn.min().toTimestamp(),targetCount:0};return L.put("targetGlobalKey",Z)}(u))),s<4&&a>=4&&(0!==s&&(m=m.next(()=>function(S,L){return L.store("mutations").W().next(Z=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ah,{unique:!0});const me=L.store("mutations"),qe=Z.map(xt=>me.put(xt));return Ot.waitFor(qe)})}(e,u))),m=m.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(m=m.next(()=>this.qs(u))),s<6&&a>=6&&(m=m.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),s<7&&a>=7&&(m=m.next(()=>this.Gs(u))),s<8&&a>=8&&(m=m.next(()=>this.Qs(e,u))),s<9&&a>=9&&(m=m.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(m=m.next(()=>this.js(u))),s<11&&a>=11&&(m=m.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(m=m.next(()=>{!function(S){const L=S.createObjectStore("documentOverlays",{keyPath:Ng});L.createIndex("collectionPathOverlayIndex",Rh,{unique:!1}),L.createIndex("collectionGroupOverlayIndex",kh,{unique:!1})}(e)})),s<13&&a>=13&&(m=m.next(()=>function(S){const L=S.createObjectStore("remoteDocumentsV14",{keyPath:Ag});L.createIndex("documentKeyIndex",Pc),L.createIndex("collectionGroupIndex",xg)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(m=m.next(()=>this.zs(e,u))),s<15&&a>=15&&(m=m.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:Rg}).createIndex("sequenceNumberIndex",kg,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Pg}).createIndex("documentKeyIndex",bp,{unique:!1})}(e))),m}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,a)=>{t+=Hh(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(a=>Ot.forEach(a,u=>{const m=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",m).next(S=>Ot.forEach(S,L=>{hn(L.userId===u.userId);const Z=Fc(this.It,L);return $g(e,u.userId,Z).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return s.Z((m,S)=>{const L=new ji(m),Z=[0,uo(L)];u.push(t.get(Z).next(me=>me?Ot.resolve():t.put({targetId:0,path:uo(L),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Ot.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:mv});const s=t.store("collectionParents"),a=new fd,u=m=>{if(a.add(m)){const S=m.lastSegment(),L=m.popLast();return s.put({collectionId:S,parent:uo(L)})}};return t.store("remoteDocuments").Z({X:!0},(m,S)=>{const L=new ji(m);return u(L.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([m,S,L],Z)=>{const me=Pa(S);return u(me.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,a)=>{const u=Vo(a),m=Fg(this.It,u);return t.put(m)})}Ws(e,t){const s=t.store("remoteDocuments"),a=[];return s.Z((u,m)=>{const S=t.store("remoteDocumentsV14"),L=(Z=m,Z.document?new bn(ji.fromString(Z.document.name).popFirst(5)):Z.noDocument?bn.fromSegments(Z.noDocument.path):Z.unknownDocument?bn.fromSegments(Z.unknownDocument.path):Ht()).path.toArray();var Z;const me={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};a.push(S.put(me))}).next(()=>Ot.waitFor(a))}zs(e,t){const s=t.store("mutations"),a=bv(this.It),u=new Qg(Ml.Bs,this.It.re);return s.W().next(m=>{const S=new Map;return m.forEach(L=>{var Z;let me=null!==(Z=S.get(L.userId))&&void 0!==Z?Z:Ei();Fc(this.It,L).keys().forEach(qe=>me=me.add(qe)),S.set(L.userId,me)}),Ot.forEach(S,(L,Z)=>{const me=new A(Z),qe=Bh.oe(this.It,me),xt=u.getIndexManager(me),Zt=Gh.oe(me,this.It,xt,u.referenceDelegate);return new zh(a,Zt,qe,xt).recalculateAndSaveOverlaysForDocumentKeys(new Dp(t,ps.at),L).next()})})}}function jc(r){r.createObjectStore("targetDocuments",{keyPath:pv}).createIndex("documentTargetsIndex",Oh,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Og,{unique:!0}),r.createObjectStore("targetGlobal")}const Hc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ec{constructor(e,t,s,a,u,m,S,L,Z,me,qe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=u,this.window=m,this.document=S,this.Js=Z,this.Ys=me,this.Xs=qe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=xt=>Promise.resolve(),!ec.C())throw new Xt(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new G0(this,a),this.ii=t+"main",this.It=new Sp(L),this.ri=new Zs(this.ii,this.Xs,new Lp(this.It)),this.Cs=new Kg(this.referenceDelegate,this.It),this.remoteDocumentCache=bv(this.It),this.Ns=new gv,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===me&&Fe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Xt(Tt.FAILED_PRECONDITION,Hc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ps(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,Ae.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ae.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(aa(e))return Y("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Y("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return _d(e).get("owner").next(t=>Ot.resolve(this.mi(t)))}gi(e){return yd(e).delete(this.clientId)}yi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=Hs(s,"clientMetadata");return a.W().next(u=>{const m=e.Ii(u,18e5),S=u.filter(L=>-1===m.indexOf(L));return Ot.forEach(S,L=>a.delete(L.clientId)).next(()=>S)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ot.resolve(!0):_d(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Xt(Tt.FAILED_PRECONDITION,Hc);return!1}}return!(!this.networkEnabled||!this.inForeground)||yd(e).W().next(s=>void 0===this.Ii(s,5e3).find(a=>{if(this.clientId!==a.clientId){const m=!this.inForeground&&a.inForeground,S=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||m&&S)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Y("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Dp(t,ps.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>yd(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Gh.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gg(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Bh.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){Y("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=15===(m=this.Xs)?dd:14===m?Ph:13===m?wp:12===m?Cp:11===m?Ep:void Ht();var m;let S;return this.ri.runTransaction(e,a,u,L=>(S=new Dp(L,this.Ss?this.Ss.next():ps.at),"readwrite-primary"===t?this.fi(S).next(Z=>!!Z||this.di(S)).next(Z=>{if(!Z)throw Fe(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Xt(Tt.FAILED_PRECONDITION,jl);return s(S)}).next(Z=>this.wi(S).next(()=>Z)):this.Vi(S).next(()=>s(S)))).then(L=>(S.raiseOnCommittedEvent(),L))}Vi(e){return _d(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Xt(Tt.FAILED_PRECONDITION,Hc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _d(e).put("owner",t)}static C(){return Zs.C()}_i(e){const t=_d(e);return t.get("owner").next(s=>this.mi(s)?(Y("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ot.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Fe(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,he.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Y("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Fe("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Fe("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _d(r){return Hs(r,"owner")}function yd(r){return Hs(r,"clientMetadata")}function Kh(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class vd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=a}static Ci(e,t){let s=Ei(),a=Ei();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new vd(e,t.fromCache,s,a)}}class Zh{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.ki(e,t).next(u=>u||this.Mi(e,t,a,s)).next(u=>u||this.Oi(e,t))}ki(e,t){if(Wu(t))return Ot.resolve(null);let s=Lo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Zu(t,null,"F"),s=Lo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const m=Ei(...u);return this.Ni.getDocuments(e,m).next(S=>this.indexManager.getMinOffset(e,s).next(L=>{const Z=this.Fi(t,S);return this.$i(t,Z,m,L.readTime)?this.ki(e,Zu(t,null,"F")):this.Bi(e,Z,t,L)}))})))}Mi(e,t,s,a){return Wu(t)||a.isEqual(Yn.min())?this.Oi(e,t):this.Ni.getDocuments(e,s).next(u=>{const m=this.Fi(t,u);return this.$i(t,m,s,a)?this.Oi(e,t):(j()<=pe.in.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ta(t)),this.Bi(e,m,t,Rr(a,-1)))})}Fi(e,t){let s=new Fi(wc(e));return t.forEach((a,u)=>{Ra(e,u)&&(s=s.add(u))}),s}$i(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Oi(e,t){return j()<=pe.in.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",ta(t)),this.Ni.getDocumentsMatchingQuery(e,t,jr.min())}Bi(e,t,s,a){return this.Ni.getDocumentsMatchingQuery(e,s,a).next(u=>(t.forEach(m=>{u=u.insert(m.key,m)}),u))}}class Xg{constructor(e,t,s,a){this.persistence=e,this.Li=t,this.It=a,this.Ui=new kr(Xn),this.qi=new Xa(u=>Oa(u),Ec),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function bd(r,e,t,s){return new Xg(r,e,t,s)}function Jg(r,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,Ae.Z)(function*(r,e){const t=rn(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const m=[],S=[];let L=Ei();for(const Z of a){m.push(Z.batchId);for(const me of Z.mutations)L=L.add(me.key)}for(const Z of u){S.push(Z.batchId);for(const me of Z.mutations)L=L.add(me.key)}return t.localDocuments.getDocuments(s,L).next(Z=>({ji:Z,removedBatchIds:m,addedBatchIds:S}))})})}),Yh.apply(this,arguments)}function W0(r,e){const t=rn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(m,S,L,Z){const me=L.batch,qe=me.keys();let xt=Ot.resolve();return qe.forEach(Zt=>{xt=xt.next(()=>Z.getEntry(S,Zt)).next(Qt=>{const yn=L.docVersions.get(Zt);hn(null!==yn),Qt.version.compareTo(yn)<0&&(me.applyToRemoteDocument(Qt,L),Qt.isValidDocument()&&(Qt.setReadTime(L.commitVersion),Z.addEntry(Qt)))})}),xt.next(()=>m.mutationQueue.removeMutationBatch(S,me))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let S=Ei();for(let L=0;L<m.mutationResults.length;++L)m.mutationResults[L].transformResults.length>0&&(S=S.add(m.batch.mutations[L].key));return S}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function Bp(r){const e=rn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function e_(r,e){const t=rn(r),s=e.snapshotVersion;let a=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.Ui;const S=[];e.targetChanges.forEach((me,qe)=>{const xt=a.get(qe);if(!xt)return;S.push(t.Cs.removeMatchingKeys(u,me.removedDocuments,qe).next(()=>t.Cs.addMatchingKeys(u,me.addedDocuments,qe)));let Zt=xt.withSequenceNumber(u.currentSequenceNumber);var Qt,yn,Rn;e.targetMismatches.has(qe)?Zt=Zt.withResumeToken(vr.EMPTY_BYTE_STRING,Yn.min()).withLastLimboFreeSnapshotVersion(Yn.min()):me.resumeToken.approximateByteSize()>0&&(Zt=Zt.withResumeToken(me.resumeToken,s)),a=a.insert(qe,Zt),yn=Zt,Rn=me,(0===(Qt=xt).resumeToken.approximateByteSize()||yn.snapshotVersion.toMicroseconds()-Qt.snapshotVersion.toMicroseconds()>=3e8||Rn.addedDocuments.size+Rn.modifiedDocuments.size+Rn.removedDocuments.size>0)&&S.push(t.Cs.updateTargetData(u,Zt))});let L=lo(),Z=Ei();if(e.documentUpdates.forEach(me=>{e.resolvedLimboDocuments.has(me)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(u,me))}),S.push(t_(u,m,e.documentUpdates).next(me=>{L=me.Wi,Z=me.zi})),!s.isEqual(Yn.min())){const me=t.Cs.getLastRemoteSnapshotVersion(u).next(qe=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,s));S.push(me)}return Ot.waitFor(S).next(()=>m.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,L,Z)).next(()=>L)}).then(u=>(t.Ui=a,u))}function t_(r,e,t){let s=Ei(),a=Ei();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let m=lo();return t.forEach((S,L)=>{const Z=u.get(S);L.isFoundDocument()!==Z.isFoundDocument()&&(a=a.add(S)),L.isNoDocument()&&L.version.isEqual(Yn.min())?(e.removeEntry(S,L.readTime),m=m.insert(S,L)):!Z.isValidDocument()||L.version.compareTo(Z.version)>0||0===L.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(L),m=m.insert(S,L)):Y("LocalStore","Ignoring outdated watch update for ",S,". Current version:",Z.version," Watch version:",L.version)}),{Wi:m,zi:a}})}function n_(r,e){const t=rn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Cu(r,e){const t=rn(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Cs.getTargetData(s,e).next(u=>u?(a=u,Ot.resolve(a)):t.Cs.allocateTargetId(s).next(m=>(a=new nl(e,m,0,s.currentSequenceNumber),t.Cs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ui.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function wu(r,e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,Ae.Z)(function*(r,e,t){const s=rn(r),a=s.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",u,m=>s.persistence.referenceDelegate.removeTarget(m,a)))}catch(m){if(!aa(m))throw m;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.Ui=s.Ui.remove(e),s.qi.delete(a.target)}),Uo.apply(this,arguments)}function qh(r,e,t){const s=rn(r);let a=Yn.min(),u=Ei();return s.persistence.runTransaction("Execute query","readonly",m=>function(S,L,Z){const me=rn(S),qe=me.qi.get(Z);return void 0!==qe?Ot.resolve(me.Ui.get(qe)):me.Cs.getTargetData(L,Z)}(s,m,Lo(e)).next(S=>{if(S)return a=S.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(m,S.targetId).next(L=>{u=L})}).next(()=>s.Li.getDocumentsMatchingQuery(m,e,t?a:Yn.min(),t?u:Ei())).next(S=>(Iv(s,qu(e),S),{documents:S,Hi:u})))}function i_(r,e){const t=rn(r),s=rn(t.Cs),a=t.Ui.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>s.se(u,e).next(m=>m?m.target:null))}function Dv(r,e){const t=rn(r),s=t.Ki.get(e)||Yn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Gi.getAllFromCollectionGroup(a,e,Rr(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Iv(t,e,a),a))}function Iv(r,e,t){let s=Yn.min();t.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ki.set(e,s)}function s_(){return s_=(0,Ae.Z)(function*(r,e,t,s){const a=rn(r);let u=Ei(),m=lo();for(const Z of t){const me=e.Ji(Z.metadata.name);Z.document&&(u=u.add(me));const qe=e.Yi(Z);qe.setReadTime(e.Xi(Z.metadata.readTime)),m=m.insert(me,qe)}const S=a.Gi.newChangeBuffer({trackRemovals:!0}),L=yield Cu(a,(Z=s,Lo(Ka(ji.fromString(`__bundle__/docs/${Z}`)))));var Z;return a.persistence.runTransaction("Apply bundle documents","readwrite",Z=>t_(Z,S,m).next(me=>(S.apply(Z),me)).next(me=>a.Cs.removeMatchingKeysForTargetId(Z,L.targetId).next(()=>a.Cs.addMatchingKeys(Z,u,L.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(Z,me.Wi,me.zi)).next(()=>me.Wi)))}),s_.apply(this,arguments)}function Tv(r,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,Ae.Z)(function*(r,e,t=Ei()){const s=yield Cu(r,Lo(Lh(e.bundledQuery))),a=rn(r);return a.persistence.runTransaction("Save named query","readwrite",u=>{const m=Os(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return a.Ns.saveNamedQuery(u,e);const S=s.withResumeToken(vr.EMPTY_BYTE_STRING,m);return a.Ui=a.Ui.insert(S.targetId,S),a.Cs.updateTargetData(u,S).next(()=>a.Cs.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>a.Cs.addMatchingKeys(u,t,s.targetId)).next(()=>a.Ns.saveNamedQuery(u,e))})}),Ed.apply(this,arguments)}function Vp(r,e){return`firestore_clients_${r}_${e}`}function o_(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Up(r,e){return`firestore_targets_${r}_${e}`}class Qh{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Zi(e,t,s){const a=JSON.parse(s);let u,m="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(u=new Xt(a.error.code,a.error.message))),m?new Qh(e,t,a.state,u):(Fe("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Du{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let a,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(a=new Xt(s.error.code,s.error.message))),u?new Du(e,s.state,a):(Fe("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,u=Ac();for(let m=0;a&&m<s.activeTargetIds.length;++m)a=Ct(s.activeTargetIds[m]),u=u.add(s.activeTargetIds[m]);return a?new Xh(e,u):(Fe("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Jh{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Jh(t.clientId,t.onlineState):(Fe("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jp{constructor(){this.activeTargetIds=Ac()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hp{constructor(e,t,s,a,u){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new kr(Xn),this.started=!1,this.cr=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=Vp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new jp),this.lr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.vi();for(const a of t){if(a===e.sr)continue;const u=e.getItem(Vp(e.persistenceKey,a));if(u){const m=Xh.Zi(a,u);m&&(e.ur=e.ur.insert(m.clientId,m))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const a=e.yr(s);a&&e.pr(a)}for(const a of e.cr)e.rr(a);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Up(this.persistenceKey,e));if(s){const a=Du.Zi(e,s);a&&(t=a.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Up(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Er(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Y("SharedClientState","READ",e,t),t}setItem(e,t){Y("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Y("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Y("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void Fe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const a=t.vr(s.key);return t.Vr(a,null)}{const a=t.Sr(s.key,s.newValue);if(a)return t.Vr(a.clientId,a)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const a=t.Dr(s.key,s.newValue);if(a)return t.Cr(a)}}else if(t._r.test(s.key)){if(null!==s.newValue){const a=t.Nr(s.key,s.newValue);if(a)return t.kr(a)}}else if(s.key===t.wr){if(null!==s.newValue){const a=t.yr(s.newValue);if(a)return t.pr(a)}}else if(s.key===t.hr){const a=function(u){let m=ps.at;if(null!=u)try{const S=JSON.parse(u);hn("number"==typeof S),m=S}catch(S){Fe("SharedClientState","Failed to read sequence number from WebStorage",S)}return m}(s.newValue);a!==ps.at&&t.sequenceNumberHandler(a)}else if(s.key===t.mr){const a=t.Mr(s.newValue);yield Promise.all(a.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const a=new Qh(this.currentUser,e,t,s),u=o_(this.persistenceKey,this.currentUser,e);this.setItem(u,a.tr())}Er(e){const t=o_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const a=Up(this.persistenceKey,e),u=new Du(e,t,s);this.setItem(a,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Xh.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),a=Number(s[1]);return Qh.Zi(new A(void 0!==s[2]?s[2]:null),a,t)}Nr(e,t){const s=this._r.exec(e),a=Number(s[1]);return Du.Zi(a,t)}yr(e){return Jh.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Y("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),a=this.Ir(this.ur),u=this.Ir(s),m=[],S=[];return u.forEach(L=>{a.has(L)||m.push(L)}),a.forEach(L=>{u.has(L)||S.push(L)}),this.syncEngine.Br(m,S).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Ac();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Gp{constructor(){this.Lr=new jp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,s){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new jp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class a_{qr(e){}shutdown(){}}class l_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const sl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $p{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Sv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,s,a,u){const m=this.ao(e,t);Y("RestConnection","Sending: ",m,s);const S={};return this.ho(S,a,u),this.lo(e,m,S,s).then(L=>(Y("RestConnection","Received: ",L),L),L=>{throw ot("RestConnection",`${e} failed with error: `,L,"url: ",m,"request:",s),L})}fo(e,t,s,a,u,m){return this.co(e,t,s,a,u)}ho(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+I,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),s&&s.headers.forEach((a,u)=>e[u]=a)}ao(e,t){return`${this.oo}/v1/${t}:${sl[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,s,a){return new Promise((u,m)=>{const S=new Ia;S.listenOnce(ul.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case Vs.NO_ERROR:const Z=S.getResponseJson();Y("Connection","XHR received:",JSON.stringify(Z)),u(Z);break;case Vs.TIMEOUT:Y("Connection",'RPC "'+e+'" timed out'),m(new Xt(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case Vs.HTTP_ERROR:const me=S.getStatus();if(Y("Connection",'RPC "'+e+'" failed with status:',me,"response text:",S.getResponseText()),me>0){const qe=S.getResponseJson().error;if(qe&&qe.status&&qe.message){const xt=function(Zt){const Qt=Zt.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(Qt)>=0?Qt:Tt.UNKNOWN}(qe.status);m(new Xt(xt,qe.message))}else m(new Xt(Tt.UNKNOWN,"Server responded with status "+S.getStatus()))}else m(new Xt(Tt.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{Y("Connection",'RPC "'+e+'" completed.')}});const L=JSON.stringify(a);S.send(t,"POST",L,s,15)})}_o(e,t,s){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Ss(),m=pa(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new dl({})),this.ho(S.initMessageHeaders,t,s),(0,he.uI)()||(0,he.b$)()||(0,he.d)()||(0,he.w1)()||(0,he.Mn)()||(0,he.ru)()||(S.httpHeadersOverwriteParam="$httpHeaders");const L=a.join("");Y("Connection","Creating WebChannel: "+L,S);const Z=u.createWebChannel(L,S);let me=!1,qe=!1;const xt=new $p({Hr:Qt=>{qe?Y("Connection","Not sending because WebChannel is closed:",Qt):(me||(Y("Connection","Opening WebChannel transport."),Z.open(),me=!0),Y("Connection","WebChannel sending:",Qt),Z.send(Qt))},Jr:()=>Z.close()}),Zt=(Qt,yn,Rn)=>{Qt.listen(yn,Ai=>{try{Rn(Ai)}catch(sr){setTimeout(()=>{throw sr},0)}})};return Zt(Z,Xi.EventType.OPEN,()=>{qe||Y("Connection","WebChannel transport opened.")}),Zt(Z,Xi.EventType.CLOSE,()=>{qe||(qe=!0,Y("Connection","WebChannel transport closed"),xt.io())}),Zt(Z,Xi.EventType.ERROR,Qt=>{qe||(qe=!0,ot("Connection","WebChannel transport errored:",Qt),xt.io(new Xt(Tt.UNAVAILABLE,"The operation could not be completed")))}),Zt(Z,Xi.EventType.MESSAGE,Qt=>{var yn;if(!qe){const Rn=Qt.data[0];hn(!!Rn);const Ai=Rn,sr=Ai.error||(null===(yn=Ai[0])||void 0===yn?void 0:yn.error);if(sr){Y("Connection","WebChannel received error:",sr);const zi=sr.status;let Ii=function(Ti){const $s=Gr[Ti];if(void 0!==$s)return Mc($s)}(zi),ti=sr.message;void 0===Ii&&(Ii=Tt.INTERNAL,ti="Unknown error status: "+zi+" with message "+sr.message),qe=!0,xt.io(new Xt(Ii,ti)),Z.close()}else Y("Connection","WebChannel received:",Rn),xt.ro(Rn)}}),Zt(m,Ha.STAT_EVENT,Qt=>{Qt.stat===so.PROXY?Y("Connection","Detected buffering proxy"):Qt.stat===so.NOPROXY&&Y("Connection","Detected no buffering proxy")}),setTimeout(()=>{xt.so()},0),xt}}function c_(){return"undefined"!=typeof window?window:null}function zp(){return"undefined"!=typeof document?document:null}function Iu(r){return new Ih(r,!0)}class Wp{constructor(e,t,s=1e3,a=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=s,this.mo=a,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),a=Math.max(0,t-s);a>0&&Y("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class u_{constructor(e,t,s,a,u,m,S,L){this.Hs=e,this.Po=s,this.vo=a,this.Vo=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=S,this.listener=L,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Wp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Ae.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ae.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,Ae.Z)(function*(){s.Lo(),s.Uo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===Tt.RESOURCE_EXHAUSTED?(Fe(t.toString()),Fe("Using maximum backoff delay to prevent overloading the backend."),s.xo.Eo()):t&&t.code===Tt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.So===t&&this.Go(s,a)},s=>{e(()=>{const a=new Xt(Tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(a)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{s(()=>this.Qo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Ae.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mv extends u_{constructor(e,t,s,a,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,m),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function An(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:Ht(),a=e.targetChange.targetIds||[],u=function(L,Z){return L.gt?(hn(void 0===Z||"string"==typeof Z),vr.fromBase64String(Z||"")):(hn(void 0===Z||Z instanceof Uint8Array),vr.fromUint8Array(Z||new Uint8Array))}(r,e.targetChange.resumeToken),m=e.targetChange.cause,S=m&&function(L){const Z=void 0===L.code?Tt.UNKNOWN:Mc(L.code);return new Xt(Z,L.message||"")}(m);t=new co(s,a,u,S||null)}else if("documentChange"in e){const s=e.documentChange,a=d(r,s.document.name),u=Os(s.document.updateTime),m=new js({mapValue:{fields:s.document.fields}}),S=cr.newFoundDocument(a,u,m);t=new gu(s.targetIds||[],s.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const s=e.documentDelete,a=d(r,s.document),u=s.readTime?Os(s.readTime):Yn.min(),m=cr.newNoDocument(a,u);t=new gu([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,a=d(r,s.document);t=new gu([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Ht();{const s=e.filter,u=new Ch(s.count||0);t=new sd(s.targetId,u)}}var L;return t}(this.It,e),s=function(a){if(!("targetChange"in a))return Yn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Yn.min():u.readTime?Os(u.readTime):Yn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=z(this.It),t.addTarget=function(a,u){let m;const S=u.target;return m=au(S)?{documents:bo(a,S)}:{query:ql(a,S)},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?m.resumeToken=yu(a,u.resumeToken):u.snapshotVersion.compareTo(Yn.min())>0&&(m.readTime=Rc(a,u.snapshotVersion.toTimestamp())),m}(this.It,e);const s=function tl(r,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ht()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=z(this.It),t.removeTarget=e,this.Bo(t)}}class Kp extends u_{constructor(e,t,s,a,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,m),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(hn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Jr(r,e){return r&&r.length>0?(hn(void 0!==e),r.map(t=>function(s,a){let u=Os(s.updateTime?s.updateTime:a);return u.isEqual(Yn.min())&&(u=Os(a)),new mp(u,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Os(e.commitTime);return this.listener.Zo(s,t)}return hn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=z(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Qn(this.It,s))};this.Bo(t)}}class Av extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=s,this.It=a,this.nu=!1}su(){if(this.nu)throw new Xt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.co(e,t,s,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Xt(Tt.UNKNOWN,a.toString())})}fo(e,t,s,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.Vo.fo(e,t,s,u,m,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Xt(Tt.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class xv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Fe(t),this.ou=!1):Y("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ef{constructor(e,t,s,a,u){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(S=>{s.enqueueAndForget((0,Ae.Z)(function*(){var L;Al(m)&&(Y("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,Ae.Z)(function*(Z){const me=rn(Z);me._u.add(4),yield tc(me),me.gu.set("Unknown"),me._u.delete(4),yield Gc(me)}),function(Z){return L.apply(this,arguments)})(m))}))}),this.gu=new xv(s,a)}}function Gc(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Ae.Z)(function*(r){if(Al(r))for(const e of r.wu)yield e(!0)}),Zp.apply(this,arguments)}function tc(r){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,Ae.Z)(function*(r){for(const e of r.wu)yield e(!1)}),Cd.apply(this,arguments)}function wd(r,e){const t=rn(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),qp(t)?d_(t):Tu(t).ko()&&Yp(t,e))}function Dd(r,e){const t=rn(r),s=Tu(t);t.du.delete(e),s.ko()&&tf(t,e),0===t.du.size&&(s.ko()?s.Fo():Al(t)&&t.gu.set("Unknown"))}function Yp(r,e){r.yu.Ot(e.targetId),Tu(r).zo(e)}function tf(r,e){r.yu.Ot(e),Tu(r).Ho(e)}function d_(r){r.yu=new od({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),Tu(r).start(),r.gu.uu()}function qp(r){return Al(r)&&!Tu(r).No()&&r.du.size>0}function Al(r){return 0===rn(r)._u.size}function Qp(r){r.yu=void 0}function h_(r){return nf.apply(this,arguments)}function nf(){return nf=(0,Ae.Z)(function*(r){r.du.forEach((e,t)=>{Yp(r,e)})}),nf.apply(this,arguments)}function f_(r,e){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,Ae.Z)(function*(r,e){Qp(r),qp(r)?(r.gu.hu(e),d_(r)):r.gu.set("Unknown")}),Fa.apply(this,arguments)}function rf(r,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,Ae.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof co&&2===e.state&&e.cause)try{yield(s=(0,Ae.Z)(function*(a,u){const m=u.cause;for(const S of u.targetIds)a.du.has(S)&&(yield a.remoteSyncer.rejectListen(S,m),a.du.delete(S),a.yu.removeTarget(S))}),function(a,u){return s.apply(this,arguments)})(r,e)}catch(s){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield sf(r,s)}else if(e instanceof gu?r.yu.Gt(e):e instanceof sd?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Yn.min()))try{const s=yield Bp(r.localStore);t.compareTo(s)>=0&&(yield function(a,u){const m=a.yu.te(u);return m.targetChanges.forEach((S,L)=>{if(S.resumeToken.approximateByteSize()>0){const Z=a.du.get(L);Z&&a.du.set(L,Z.withResumeToken(S.resumeToken,u))}}),m.targetMismatches.forEach(S=>{const L=a.du.get(S);if(!L)return;a.du.set(S,L.withResumeToken(vr.EMPTY_BYTE_STRING,L.snapshotVersion)),tf(a,S);const Z=new nl(L.target,S,1,L.sequenceNumber);Yp(a,Z)}),a.remoteSyncer.applyRemoteEvent(m)}(r,t))}catch(s){Y("RemoteStore","Failed to raise snapshot:",s),yield sf(r,s)}var s}),Xp.apply(this,arguments)}function sf(r,e,t){return p_.apply(this,arguments)}function p_(){return p_=(0,Ae.Z)(function*(r,e,t){if(!aa(e))throw e;r._u.add(1),yield tc(r),r.gu.set("Offline"),t||(t=()=>Bp(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Y("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield Gc(r)}))}),p_.apply(this,arguments)}function af(r,e){return e().catch(t=>sf(r,t,e))}function $c(r){return Id.apply(this,arguments)}function Id(){return Id=(0,Ae.Z)(function*(r){const e=rn(r),t=rc(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Td(e);)try{const a=yield n_(e.localStore,s);if(null===a){0===e.fu.length&&t.Fo();break}s=a.batchId,Ov(e,a)}catch(a){yield sf(e,a)}lf(e)&&Jp(e)}),Id.apply(this,arguments)}function Td(r){return Al(r)&&r.fu.length<10}function Ov(r,e){r.fu.push(e);const t=rc(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function lf(r){return Al(r)&&!rc(r).No()&&r.fu.length>0}function Jp(r){rc(r).start()}function m_(r){return cf.apply(this,arguments)}function cf(){return cf=(0,Ae.Z)(function*(r){rc(r).eu()}),cf.apply(this,arguments)}function Rv(r){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,Ae.Z)(function*(r){const e=rc(r);for(const t of r.fu)e.Xo(t.mutations)}),Sd.apply(this,arguments)}function kv(r,e,t){return em.apply(this,arguments)}function em(){return em=(0,Ae.Z)(function*(r,e,t){const s=r.fu.shift(),a=Tp.from(s,e,t);yield af(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield $c(r)}),em.apply(this,arguments)}function g_(r,e){return nc.apply(this,arguments)}function nc(){return nc=(0,Ae.Z)(function*(r,e){var t;e&&rc(r).Yo&&(yield(t=(0,Ae.Z)(function*(s,a){if(Qa(u=a.code)&&u!==Tt.ABORTED){const m=s.fu.shift();rc(s).Oo(),yield af(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,a)),yield $c(s)}var u}),function(s,a){return t.apply(this,arguments)})(r,e)),lf(r)&&Jp(r)}),nc.apply(this,arguments)}function tm(r,e){return nm.apply(this,arguments)}function nm(){return nm=(0,Ae.Z)(function*(r,e){const t=rn(r);t.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const s=Al(t);t._u.add(3),yield tc(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Gc(t)}),nm.apply(this,arguments)}function im(r,e){return ic.apply(this,arguments)}function ic(){return ic=(0,Ae.Z)(function*(r,e){const t=rn(r);e?(t._u.delete(2),yield Gc(t)):e||(t._u.add(2),yield tc(t),t.gu.set("Unknown"))}),ic.apply(this,arguments)}function Tu(r){return r.pu||(r.pu=function(e,t,s){const a=rn(e);return a.su(),new Mv(t,a.Vo,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:h_.bind(null,r),Zr:f_.bind(null,r),Wo:rf.bind(null,r)}),r.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(r.pu.Oo(),qp(r)?d_(r):r.gu.set("Unknown")):(yield r.pu.stop(),Qp(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function rc(r){return r.Iu||(r.Iu=function(e,t,s){const a=rn(e);return a.su(),new Kp(t,a.Vo,a.authCredentials,a.appCheckCredentials,a.It,s)}(r.datastore,r.asyncQueue,{Yr:m_.bind(null,r),Zr:g_.bind(null,r),tu:Rv.bind(null,r),Zo:kv.bind(null,r)}),r.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(r.Iu.Oo(),yield $c(r)):(yield r.Iu.stop(),r.fu.length>0&&(Y("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class rm{constructor(e,t,s,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,s,a,u){const m=Date.now()+s,S=new rm(e,t,m,a,u);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xt(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Su(r,e){if(Fe("AsyncQueue",`${e}: ${r}`),aa(r))return new Xt(Tt.UNAVAILABLE,`${e}: ${r}`);throw r}class Eo{constructor(e){this.comparator=e?(t,s)=>e(t,s)||bn.comparator(t.key,s.key):(t,s)=>bn.comparator(t.key,s.key),this.keyedMap=ya(),this.sortedSet=new kr(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class uf{constructor(){this.Tu=new kr(bn.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ht():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class zc{constructor(e,t,s,a,u,m,S,L){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=S,this.excludesMetadataChanges=L}static fromInitialDocuments(e,t,s,a){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new zc(e,t,Eo.emptySet(t),u,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ao(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class __{constructor(){this.Au=void 0,this.listeners=[]}}class y_{constructor(){this.queries=new Xa(e=>Yu(e),ao),this.onlineState="Unknown",this.Ru=new Set}}function df(r,e){return sm.apply(this,arguments)}function sm(){return sm=(0,Ae.Z)(function*(r,e){const t=rn(r),s=e.query;let a=!1,u=t.queries.get(s);if(u||(a=!0,u=new __),a)try{u.Au=yield t.onListen(s)}catch(m){const S=Su(m,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(S)}t.queries.set(s,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&b_(t)}),sm.apply(this,arguments)}function om(r,e){return am.apply(this,arguments)}function am(){return am=(0,Ae.Z)(function*(r,e){const t=rn(r),s=e.query;let a=!1;const u=t.queries.get(s);if(u){const m=u.listeners.indexOf(e);m>=0&&(u.listeners.splice(m,1),a=0===u.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),am.apply(this,arguments)}function Pv(r,e){const t=rn(r);let s=!1;for(const a of e){const m=t.queries.get(a.query);if(m){for(const S of m.listeners)S.Pu(a)&&(s=!0);m.Au=a}}s&&b_(t)}function v_(r,e,t){const s=rn(r),a=s.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);s.queries.delete(e)}function b_(r){r.Ru.forEach(e=>{e.next()})}class hf{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new zc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Nv{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class E_{constructor(e){this.It=e}Ji(e){return d(this.It,e)}Yi(e){return e.metadata.exists?Ut(this.It,e.document,!1):cr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Os(e)}}class K0{constructor(e,t,s){this.Mu=e,this.localStore=t,this.It=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Fv(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=ji.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,s=new E_(this.It);for(const a of e)if(a.metadata.queries){const u=s.Ji(a.metadata.name);for(const m of a.metadata.queries){const S=(t.get(m)||Ei()).add(u);t.set(m,S)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function r_(r,e,t,s){return s_.apply(this,arguments)}(e.localStore,new E_(e.It),e.documents,e.Mu.id),s=e.Fu(e.documents);for(const a of e.queries)yield Tv(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Fv(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class ff{constructor(e){this.key=e}}class C_{constructor(e){this.key=e}}class lm{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Ei(),this.mutatedKeys=Ei(),this.Ku=wc(e),this.Gu=new Eo(this.Ku)}get Qu(){return this.Lu}ju(e,t){const s=t?t.Wu:new uf,a=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,m=a,S=!1;const L="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,Z="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((me,qe)=>{const xt=a.get(me),Zt=Ra(this.query,qe)?qe:null,Qt=!!xt&&this.mutatedKeys.has(xt.key),yn=!!Zt&&(Zt.hasLocalMutations||this.mutatedKeys.has(Zt.key)&&Zt.hasCommittedMutations);let Rn=!1;xt&&Zt?xt.data.isEqual(Zt.data)?Qt!==yn&&(s.track({type:3,doc:Zt}),Rn=!0):this.zu(xt,Zt)||(s.track({type:2,doc:Zt}),Rn=!0,(L&&this.Ku(Zt,L)>0||Z&&this.Ku(Zt,Z)<0)&&(S=!0)):!xt&&Zt?(s.track({type:0,doc:Zt}),Rn=!0):xt&&!Zt&&(s.track({type:1,doc:xt}),Rn=!0,(L||Z)&&(S=!0)),Rn&&(Zt?(m=m.add(Zt),u=yn?u.add(me):u.delete(me)):(m=m.delete(me),u=u.delete(me)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const me="F"===this.query.limitType?m.last():m.first();m=m.delete(me.key),u=u.delete(me.key),s.track({type:1,doc:me})}return{Gu:m,Wu:s,$i:S,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((Z,me)=>function(qe,xt){const Zt=Qt=>{switch(Qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return Zt(qe)-Zt(xt)}(Z.type,me.type)||this.Ku(Z.doc,me.doc)),this.Hu(s);const m=t?this.Ju():[],S=0===this.qu.size&&this.current?1:0,L=S!==this.Uu;return this.Uu=S,0!==u.length||L?{snapshot:new zc(this.query,e.Gu,a,u,e.mutatedKeys,0===S,L,!1),Yu:m}:{Yu:m}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new uf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Ei(),this.Gu.forEach(s=>{this.Xu(s.key)&&(this.qu=this.qu.add(s.key))});const t=[];return e.forEach(s=>{this.qu.has(s)||t.push(new C_(s))}),this.qu.forEach(s=>{e.has(s)||t.push(new ff(s))}),t}Zu(e){this.Lu=e.Hi,this.qu=Ei();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return zc.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class w_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Z0{constructor(e){this.key=e,this.ec=!1}}class La{constructor(e,t,s,a,u,m){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.nc={},this.sc=new Xa(S=>Yu(S),ao),this.ic=new Map,this.rc=new Set,this.oc=new kr(bn.comparator),this.uc=new Map,this.cc=new Wh,this.ac={},this.hc=new Map,this.lc=Eu.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Y0(r,e){return D_.apply(this,arguments)}function D_(){return D_=(0,Ae.Z)(function*(r,e){const t=Df(r);let s,a;const u=t.sc.get(e);if(u)s=u.targetId,t.sharedClientState.addLocalQueryTarget(s),a=u.view.tc();else{const m=yield Cu(t.localStore,Lo(e));t.isPrimaryClient&&wd(t.remoteStore,m);const S=t.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,a=yield pf(t,e,s,"current"===S)}return a}),D_.apply(this,arguments)}function pf(r,e,t,s){return mf.apply(this,arguments)}function mf(){return mf=(0,Ae.Z)(function*(r,e,t,s){r.dc=(me,qe,xt)=>{return(Zt=(0,Ae.Z)(function*(Qt,yn,Rn,Ai){let sr=yn.view.ju(Rn);sr.$i&&(sr=yield qh(Qt.localStore,yn.query,!1).then(({documents:ti})=>yn.view.ju(ti,sr)));const zi=Ai&&Ai.targetChanges.get(yn.targetId),Ii=yn.view.applyChanges(sr,Qt.isPrimaryClient,zi);return Md(Qt,yn.targetId,Ii.Yu),Ii.snapshot}),function(Qt,yn,Rn,Ai){return Zt.apply(this,arguments)})(r,me,qe,xt);var Zt};const a=yield qh(r.localStore,e,!0),u=new lm(e,a.Hi),m=u.ju(a.documents),S=Ja.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState),L=u.applyChanges(m,r.isPrimaryClient,S);Md(r,t,L.Yu);const Z=new w_(e,t,u);return r.sc.set(e,Z),r.ic.has(t)?r.ic.get(t).push(e):r.ic.set(t,[e]),L.snapshot}),mf.apply(this,arguments)}function I_(r,e){return cm.apply(this,arguments)}function cm(){return cm=(0,Ae.Z)(function*(r,e){const t=rn(r),s=t.sc.get(e),a=t.ic.get(s.targetId);if(a.length>1)return t.ic.set(s.targetId,a.filter(u=>!ao(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield wu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Dd(t.remoteStore,s.targetId),Mu(t,s.targetId)}).catch(Xr))):(Mu(t,s.targetId),yield wu(t.localStore,s.targetId,!0))}),cm.apply(this,arguments)}function gf(){return gf=(0,Ae.Z)(function*(r,e,t){const s=If(r);try{const a=yield function(u,m){const S=rn(u),L=Zi.now(),Z=m.reduce((xt,Zt)=>xt.add(Zt.key),Ei());let me,qe;return S.persistence.runTransaction("Locally write mutations","readwrite",xt=>{let Zt=lo(),Qt=Ei();return S.Gi.getEntries(xt,Z).next(yn=>{Zt=yn,Zt.forEach((Rn,Ai)=>{Ai.isValidDocument()||(Qt=Qt.add(Rn))})}).next(()=>S.localDocuments.getOverlayedDocuments(xt,Zt)).next(yn=>{me=yn;const Rn=[];for(const Ai of m){const sr=gp(Ai,me.get(Ai.key).overlayedDocument);null!=sr&&Rn.push(new Bo(Ai.key,sr,uh(sr.value.mapValue),pi.exists(!0)))}return S.mutationQueue.addMutationBatch(xt,L,Rn,m)}).next(yn=>{qe=yn;const Rn=yn.applyToLocalDocumentSet(me,Qt);return S.documentOverlayCache.saveOverlays(xt,yn.batchId,Rn)})}).then(()=>({batchId:qe.batchId,changes:id(me)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,m,S){let L=u.ac[u.currentUser.toKey()];L||(L=new kr(Xn)),L=L.insert(m,S),u.ac[u.currentUser.toKey()]=L}(s,a.batchId,t),yield $r(s,a.changes),yield $c(s.remoteStore)}catch(a){const u=Su(a,"Failed to persist write");t.reject(u)}}),gf.apply(this,arguments)}function _f(r,e){return um.apply(this,arguments)}function um(){return um=(0,Ae.Z)(function*(r,e){const t=rn(r);try{const s=yield e_(t.localStore,e);e.targetChanges.forEach((a,u)=>{const m=t.uc.get(u);m&&(hn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?m.ec=!0:a.modifiedDocuments.size>0?hn(m.ec):a.removedDocuments.size>0&&(hn(m.ec),m.ec=!1))}),yield $r(t,s,e)}catch(s){yield Xr(s)}}),um.apply(this,arguments)}function yf(r,e,t){const s=rn(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.sc.forEach((u,m)=>{const S=m.view.bu(e);S.snapshot&&a.push(S.snapshot)}),function(u,m){const S=rn(u);S.onlineState=m;let L=!1;S.queries.forEach((Z,me)=>{for(const qe of me.listeners)qe.bu(m)&&(L=!0)}),L&&b_(S)}(s.eventManager,e),a.length&&s.nc.Wo(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Lv(r,e,t){return dm.apply(this,arguments)}function dm(){return dm=(0,Ae.Z)(function*(r,e,t){const s=rn(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.uc.get(e),u=a&&a.key;if(u){let m=new kr(bn.comparator);m=m.insert(u,cr.newNoDocument(u,Yn.min()));const S=Ei().add(u),L=new xc(Yn.min(),new Map,new Fi(Xn),m,S);yield _f(s,L),s.oc=s.oc.remove(u),s.uc.delete(e),Kc(s)}else yield wu(s.localStore,e,!1).then(()=>Mu(s,e,t)).catch(Xr)}),dm.apply(this,arguments)}function Bv(r,e){return hm.apply(this,arguments)}function hm(){return hm=(0,Ae.Z)(function*(r,e){const t=rn(r),s=e.batch.batchId;try{const a=yield W0(t.localStore,e);Wc(t,s,null),pm(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield $r(t,a)}catch(a){yield Xr(a)}}),hm.apply(this,arguments)}function Vv(r,e,t){return fm.apply(this,arguments)}function fm(){return fm=(0,Ae.Z)(function*(r,e,t){const s=rn(r);try{const a=yield function(u,m){const S=rn(u);return S.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let Z;return S.mutationQueue.lookupMutationBatch(L,m).next(me=>(hn(null!==me),Z=me.keys(),S.mutationQueue.removeMutationBatch(L,me))).next(()=>S.mutationQueue.performConsistencyCheck(L)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(L,Z,m)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,Z)).next(()=>S.localDocuments.getDocuments(L,Z))})}(s.localStore,e);Wc(s,e,t),pm(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield $r(s,a)}catch(a){yield Xr(a)}}),fm.apply(this,arguments)}function sc(){return sc=(0,Ae.Z)(function*(r,e){const t=rn(r);Al(t.remoteStore)||Y("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(u){const m=rn(u);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>m.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===s)return void e.resolve();const a=t.hc.get(s)||[];a.push(e),t.hc.set(s,a)}catch(s){const a=Su(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),sc.apply(this,arguments)}function pm(r,e){(r.hc.get(e)||[]).forEach(t=>{t.resolve()}),r.hc.delete(e)}function Wc(r,e,t){const s=rn(r);let a=s.ac[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),s.ac[s.currentUser.toKey()]=a}}function Mu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.ic.get(e))r.sc.delete(s),t&&r.nc._c(s,t);r.ic.delete(e),r.isPrimaryClient&&r.cc.ls(e).forEach(s=>{r.cc.containsKey(s)||T_(r,s)})}function T_(r,e){r.rc.delete(e.path.canonicalString());const t=r.oc.get(e);null!==t&&(Dd(r.remoteStore,t),r.oc=r.oc.remove(e),r.uc.delete(t),Kc(r))}function Md(r,e,t){for(const s of t)s instanceof ff?(r.cc.addReference(s.key,e),ol(r,s)):s instanceof C_?(Y("SyncEngine","Document no longer in limbo: "+s.key),r.cc.removeReference(s.key,e),r.cc.containsKey(s.key)||T_(r,s.key)):Ht()}function ol(r,e){const t=e.key,s=t.path.canonicalString();r.oc.get(t)||r.rc.has(s)||(Y("SyncEngine","New document in limbo: "+t),r.rc.add(s),Kc(r))}function Kc(r){for(;r.rc.size>0&&r.oc.size<r.maxConcurrentLimboResolutions;){const e=r.rc.values().next().value;r.rc.delete(e);const t=new bn(ji.fromString(e)),s=r.lc.next();r.uc.set(s,new Z0(t)),r.oc=r.oc.insert(t,s),wd(r.remoteStore,new nl(Lo(Ka(t.path)),s,2,ps.at))}}function $r(r,e,t){return xl.apply(this,arguments)}function xl(){return xl=(0,Ae.Z)(function*(r,e,t){const s=rn(r),a=[],u=[],m=[];var S;s.sc.isEmpty()||(s.sc.forEach((S,L)=>{m.push(s.dc(L,e,t).then(Z=>{if(Z){s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,Z.fromCache?"not-current":"current"),a.push(Z);const me=vd.Ci(L.targetId,Z);u.push(me)}}))}),yield Promise.all(m),s.nc.Wo(a),yield(S=(0,Ae.Z)(function*(L,Z){const me=rn(L);try{yield me.persistence.runTransaction("notifyLocalViewChanges","readwrite",qe=>Ot.forEach(Z,xt=>Ot.forEach(xt.Si,Zt=>me.persistence.referenceDelegate.addReference(qe,xt.targetId,Zt)).next(()=>Ot.forEach(xt.Di,Zt=>me.persistence.referenceDelegate.removeReference(qe,xt.targetId,Zt)))))}catch(qe){if(!aa(qe))throw qe;Y("LocalStore","Failed to update sequence numbers: "+qe)}for(const qe of Z){const xt=qe.targetId;if(!qe.fromCache){const Zt=me.Ui.get(xt),yn=Zt.withLastLimboFreeSnapshotVersion(Zt.snapshotVersion);me.Ui=me.Ui.insert(xt,yn)}}}),function(L,Z){return S.apply(this,arguments)})(s.localStore,u))}),xl.apply(this,arguments)}function bf(r,e){return na.apply(this,arguments)}function na(){return na=(0,Ae.Z)(function*(r,e){const t=rn(r);if(!t.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const s=yield Jg(t.localStore,e);t.currentUser=e,(a=t).hc.forEach(m=>{m.forEach(S=>{S.reject(new Xt(Tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.hc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield $r(t,s.ji)}var a}),na.apply(this,arguments)}function mm(r,e){const t=rn(r),s=t.uc.get(e);if(s&&s.ec)return Ei().add(s.key);{let a=Ei();const u=t.ic.get(e);if(!u)return a;for(const m of u){const S=t.sc.get(m);a=a.unionWith(S.view.Qu)}return a}}function Au(r,e){return oc.apply(this,arguments)}function oc(){return oc=(0,Ae.Z)(function*(r,e){const t=rn(r),s=yield qh(t.localStore,e.query,!0),a=e.view.Zu(s);return t.isPrimaryClient&&Md(t,e.targetId,a.Yu),a}),oc.apply(this,arguments)}function xu(r,e){return ac.apply(this,arguments)}function ac(){return ac=(0,Ae.Z)(function*(r,e){const t=rn(r);return Dv(t.localStore,e).then(s=>$r(t,s))}),ac.apply(this,arguments)}function Ou(r,e,t,s){return lc.apply(this,arguments)}function lc(){return lc=(0,Ae.Z)(function*(r,e,t,s){const a=rn(r),u=yield function(m,S){const L=rn(m),Z=rn(L.mutationQueue);return L.persistence.runTransaction("Lookup mutation documents","readonly",me=>Z.Tn(me,S).next(qe=>qe?L.localDocuments.getDocuments(me,qe):Ot.resolve(null)))}(a.localStore,e);var S;null!==u?("pending"===t?yield $c(a.remoteStore):"acknowledged"===t||"rejected"===t?(Wc(a,e,s||null),pm(a,e),S=e,rn(rn(a.localStore).mutationQueue).An(S)):Ht(),yield $r(a,u)):Y("SyncEngine","Cannot apply mutation batch with id: "+e)}),lc.apply(this,arguments)}function cc(){return cc=(0,Ae.Z)(function*(r,e){const t=rn(r);if(Df(t),If(t),!0===e&&!0!==t.fc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield Zc(t,s.toArray());t.fc=!0,yield im(t.remoteStore,!0);for(const u of a)wd(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const s=[];let a=Promise.resolve();t.ic.forEach((u,m)=>{t.sharedClientState.isLocalQueryTarget(m)?s.push(m):a=a.then(()=>(Mu(t,m),wu(t.localStore,m,!0))),Dd(t.remoteStore,m)}),yield a,yield Zc(t,s),function(u){const m=rn(u);m.uc.forEach((S,L)=>{Dd(m.remoteStore,L)}),m.cc.fs(),m.uc=new Map,m.oc=new kr(bn.comparator)}(t),t.fc=!1,yield im(t.remoteStore,!1)}}),cc.apply(this,arguments)}function Zc(r,e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Ae.Z)(function*(r,e,t){const s=rn(r),a=[],u=[];for(const m of e){let S;const L=s.ic.get(m);if(L&&0!==L.length){S=yield Cu(s.localStore,Lo(L[0]));for(const Z of L){const me=s.sc.get(Z),qe=yield Au(s,me);qe.snapshot&&u.push(qe.snapshot)}}else{const Z=yield i_(s.localStore,m);S=yield Cu(s.localStore,Z),yield pf(s,gm(Z),m,!1)}a.push(S)}return s.nc.Wo(u),a}),Ef.apply(this,arguments)}function gm(r){return _h(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function S_(r){const e=rn(r);return rn(rn(e.localStore).persistence).vi()}function M_(r,e,t,s){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Ae.Z)(function*(r,e,t,s){const a=rn(r);if(a.fc)return void Y("SyncEngine","Ignoring unexpected query state notification.");const u=a.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const m=yield Dv(a.localStore,qu(u[0])),S=xc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield $r(a,m,S);break}case"rejected":yield wu(a.localStore,e,!0),Mu(a,e,s);break;default:Ht()}}),Cf.apply(this,arguments)}function A_(r,e,t){return wf.apply(this,arguments)}function wf(){return wf=(0,Ae.Z)(function*(r,e,t){const s=Df(r);if(s.fc){for(const a of e){if(s.ic.has(a)){Y("SyncEngine","Adding an already active target "+a);continue}const u=yield i_(s.localStore,a),m=yield Cu(s.localStore,u);yield pf(s,gm(u),m.targetId,!1),wd(s.remoteStore,m)}for(const a of t)s.ic.has(a)&&(yield wu(s.localStore,a,!1).then(()=>{Dd(s.remoteStore,a),Mu(s,a)}).catch(Xr))}}),wf.apply(this,arguments)}function Df(r){const e=rn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_f.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lv.bind(null,e),e.nc.Wo=Pv.bind(null,e.eventManager),e.nc._c=v_.bind(null,e.eventManager),e}function If(r){const e=rn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vv.bind(null,e),e}class _m{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.It=Iu(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return bd(this.persistence,new Zh,e.initialUser,this.It)}gc(e){return new Qg(Ml.Bs,this.It)}mc(e){return new Gp}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class x_ extends _m{constructor(e,t,s){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Ae.Z)(function*(){yield t().call(s,e),yield s.Ec.initialize(s,e),yield If(s.Ec.syncEngine),yield $c(s.Ec.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return bd(this.persistence,new Zh,e.initialUser,this.It)}Ic(e,t){return new j0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const s=new su(t,this.persistence);return new ca(e.asyncQueue,s)}gc(e){const t=Kh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?fa.withCacheSize(this.cacheSizeBytes):fa.DEFAULT;return new ec(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,c_(),zp(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Gp}}class O_ extends x_{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Ae.Z)(function*(){yield t().call(s,e);const a=s.Ec.syncEngine;s.sharedClientState instanceof Hp&&(s.sharedClientState.syncEngine={Fr:Ou.bind(null,a),$r:M_.bind(null,a),Br:A_.bind(null,a),vi:S_.bind(null,a),Or:xu.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var u=(0,Ae.Z)(function*(m){yield function Ru(r,e){return cc.apply(this,arguments)}(s.Ec.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return u.apply(this,arguments)}}())})()}mc(e){const t=c_();if(!Hp.C(t))throw new Xt(Tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Kh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Tf{initialize(e,t){var s=this;return(0,Ae.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>yf(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=bf.bind(null,s.syncEngine),yield im(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new y_}createDatastore(e){const t=Iu(e.databaseInfo.databaseId),s=new Sv(e.databaseInfo);return new Av(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,u=S=>yf(this.syncEngine,S,0),m=l_.C()?new l_:new a_,new ef(t,s,a,u,m);var t,s,a,u,m}createSyncEngine(e,t){return function(s,a,u,m,S,L,Z){const me=new La(s,a,u,m,S,L);return Z&&(me.fc=!0),me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const s=rn(t);Y("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield tc(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function R_(r,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Sf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Fe("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class k_{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Ji,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(s=>{s&&s.ku()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const s=e.Pc.decode(t),a=Number(s);isNaN(a)&&e.Sc(`length string (${s}) is not valid number`);const u=yield e.Dc(a);return new Nv(JSON.parse(u),t.length+a)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Ae.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Dc(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const s=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.bc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class jv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Xt(Tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Ae.Z)(function*(u,m){const S=rn(u),L=z(S.It)+"/documents",Z={documents:m.map(Zt=>_(S.It,Zt))},me=yield S.fo("BatchGetDocuments",L,Z,m.length),qe=new Map;me.forEach(Zt=>{const Qt=function fn(r,e){return"found"in e?function(t,s){hn(!!s.found);const a=d(t,s.found.name),u=Os(s.found.updateTime),m=new js({mapValue:{fields:s.found.fields}});return cr.newFoundDocument(a,u,m)}(r,e):"missing"in e?function(t,s){hn(!!s.missing),hn(!!s.readTime);const a=d(t,s.missing),u=Os(s.readTime);return cr.newNoDocument(a,u)}(r,e):Ht()}(S.It,Zt);qe.set(Qt.key.toString(),Qt)});const xt=[];return m.forEach(Zt=>{const Qt=qe.get(Zt.toString());hn(!!Qt),xt.push(Qt)}),xt}),function(u,m){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new as(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const u=bn.fromPath(a);e.mutations.push(new Sc(u,e.precondition(u)))}),yield(s=(0,Ae.Z)(function*(a,u){const m=rn(a),S=z(m.It)+"/documents",L={writes:u.map(Z=>Qn(m.It,Z))};yield m.co("Commit",S,L)}),function(a,u){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ht();t=Yn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Xt(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Yn.min())?pi.exists(!1):pi.updateTime(t):pi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yn.min()))throw new Xt(Tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pi.updateTime(t)}return pi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class P_{constructor(e,t,s,a,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=u,this.Nc=s.maxAttempts,this.xo=new Wp(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Ae.Z)(function*(){const t=new jv(e.datastore),s=e.Mc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.Oc(u)}))}).catch(a=>{e.Oc(a)})}))}Mc(e){try{const t=this.updateFunction(e);return!oe(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Qa(t)}return!1}}class Hv{constructor(e,t,s,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=A.UNAUTHENTICATED,this.clientId=Oo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,Ae.Z)(function*(S){Y("FirestoreClient","Received user=",S.uid),yield u.authCredentialListener(S),u.user=S});return function(S){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(Y("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Su(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function N_(r,e){return F_.apply(this,arguments)}function F_(){return F_=(0,Ae.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Ae.Z)(function*(u){s.isEqual(u)||(yield Jg(e.localStore,u),s=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),F_.apply(this,arguments)}function L_(r,e){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,Ae.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield xd(r);Y("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>tm(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,u)=>tm(e.remoteStore,u)),r.onlineComponents=e}),Ad.apply(this,arguments)}function xd(r){return ym.apply(this,arguments)}function ym(){return ym=(0,Ae.Z)(function*(r){return r.offlineComponents||(Y("FirestoreClient","Using default OfflineComponentProvider"),yield N_(r,new _m)),r.offlineComponents}),ym.apply(this,arguments)}function vm(r){return B_.apply(this,arguments)}function B_(){return B_=(0,Ae.Z)(function*(r){return r.onlineComponents||(Y("FirestoreClient","Using default OnlineComponentProvider"),yield L_(r,new Tf)),r.onlineComponents}),B_.apply(this,arguments)}function Gv(r){return xd(r).then(e=>e.persistence)}function Mf(r){return xd(r).then(e=>e.localStore)}function bm(r){return vm(r).then(e=>e.remoteStore)}function V_(r){return vm(r).then(e=>e.syncEngine)}function ku(r){return uc.apply(this,arguments)}function uc(){return uc=(0,Ae.Z)(function*(r){const e=yield vm(r),t=e.eventManager;return t.onListen=Y0.bind(null,e.syncEngine),t.onUnlisten=I_.bind(null,e.syncEngine),t}),uc.apply(this,arguments)}function Em(r,e,t={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(a,u,m,S,L){const Z=new Sf({next:qe=>{u.enqueueAndForget(()=>om(a,me));const xt=qe.docs.has(m);!xt&&qe.fromCache?L.reject(new Xt(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):xt&&qe.fromCache&&S&&"server"===S.source?L.reject(new Xt(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(qe)},error:qe=>L.reject(qe)}),me=new hf(Ka(m.path),Z,{includeMetadataChanges:!0,Nu:!0});return df(a,me)}(yield ku(r),r.asyncQueue,e,t,s)})),s.promise}function j_(r,e,t={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(a,u,m,S,L){const Z=new Sf({next:qe=>{u.enqueueAndForget(()=>om(a,me)),qe.fromCache&&"server"===S.source?L.reject(new Xt(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(qe)},error:qe=>L.reject(qe)}),me=new hf(m,Z,{includeMetadataChanges:!0,Nu:!0});return df(a,me)}(yield ku(r),r.asyncQueue,e,t,s)})),s.promise}const G_=new Map;function Cm(r,e,t){if(!t)throw new Xt(Tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function wm(r,e,t,s){if(!0===e&&!0===s)throw new Xt(Tt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function $_(r){if(!bn.isDocumentKey(r))throw new Xt(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Dm(r){if(bn.isDocumentKey(r))throw new Xt(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Od(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Ht()}function Hi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Xt(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Od(r);throw new Xt(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Yv(r,e){if(e<=0)throw new Xt(Tt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class xf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Xt(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Xt(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,wm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Xt(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Xt(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ga;switch(t.type){case"gapi":return new Fl(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Xt(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=G_.get(e);t&&(Y("ComponentProvider","Removing Datastore"),G_.delete(e),t.terminate())}(this),Promise.resolve()}}class _r{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class ho{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class Ea extends ho{constructor(e,t,s){super(e,t,Ka(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new bn(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function Of(r,e,...t){if(r=(0,he.m9)(r),Cm("collection","path",e),r instanceof Rd){const s=ji.fromString(e,...t);return Dm(s),new Ea(r,null,s)}{if(!(r instanceof _r||r instanceof Ea))throw new Xt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ji.fromString(e,...t));return Dm(s),new Ea(r.firestore,null,s)}}function Yc(r,e,...t){if(r=(0,he.m9)(r),1===arguments.length&&(e=Oo.R()),Cm("doc","path",e),r instanceof Rd){const s=ji.fromString(e,...t);return $_(s),new _r(r,null,new bn(s))}{if(!(r instanceof _r||r instanceof Ea))throw new Xt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ji.fromString(e,...t));return $_(s),new _r(r.firestore,r instanceof Ea?r.converter:null,new bn(s))}}function kd(r,e){return r=(0,he.m9)(r),e=(0,he.m9)(e),(r instanceof _r||r instanceof Ea)&&(e instanceof _r||e instanceof Ea)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Rf(r,e){return r=(0,he.m9)(r),e=(0,he.m9)(e),r instanceof ho&&e instanceof ho&&r.firestore===e.firestore&&ao(r._query,e._query)&&r.converter===e.converter}class X0{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Wp(this,"async_queue_retry"),this.jc=()=>{const t=zp();t&&Y("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=zp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=zp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ji;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!aa(t))throw t;Y("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(s=>{throw this.qc=s,this.Kc=!1,Fe("INTERNAL UNHANDLED ERROR: ",function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),m}(s)),s}).then(s=>(this.Kc=!1,s))));return this.$c=t,t}enqueueAfterDelay(e,t,s){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const a=rm.createAndSchedule(this,e,t,s,u=>this.Jc(u));return this.Uc.push(a),a}Wc(){this.qc&&Ht()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Im(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class kf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mr extends Rd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new X0,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tm(this),this._firestoreClient.terminate()}}function gs(r){return r._firestoreClient||Tm(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Tm(r){var e;const t=r._freezeSettings(),s=(u=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new R(r._databaseId,u,r._persistenceKey,(S=t).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var u,S;r._firestoreClient=new Hv(r._authCredentials,r._appCheckCredentials,r._queue,s)}function W_(r,e,t){const s=new Ji;return r.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield N_(r,t),yield L_(r,e),s.resolve()}catch(a){const u=a;if(!("FirebaseError"===(m=u).name?m.code===Tt.FAILED_PRECONDITION||m.code===Tt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw u;ot("Error enabling offline persistence. Falling back to persistence disabled: "+u),s.reject(u)}var m})).then(()=>s.promise)}function xm(r){if(r._initialized||r._terminated)throw new Xt(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ba{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Xt(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Va(vr.fromBase64String(e))}catch(t){throw new Xt(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Va(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dc{constructor(e){this._methodName=e}}class Pd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xt(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xt(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xn(this._lat,e._lat)||Xn(this._long,e._long)}}const X_=/^__.*__$/;class J_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zl(e,this.data,t,this.fieldTransforms)}}class Om{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rm(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class km{constructor(e,t,s,a,u,m){this.settings=e,this.databaseId=t,this.It=s,this.ignoreUndefinedProperties=a,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new km(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.sa({path:s,ra:!1});return a.oa(e),a}ua(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.sa({path:s,ra:!1});return a.ea(),a}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Pu(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Rm(this.na)&&X_.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Jv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=s||Iu(e)}fa(e,t,s,a=!1){return new km({na:e,methodName:t,la:s,path:Sr.emptyPath(),ra:!1,ha:a},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function qc(r){const e=r._freezeSettings(),t=Iu(r._databaseId);return new Jv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Nd(r,e,t,s,a,u={}){const m=r.fa(u.merge||u.mergeFields?2:0,e,t,a);Lf("Data must be an object, but it was:",m,s);const S=ty(s,m);let L,Z;if(u.merge)L=new ms(m.fieldMask),Z=m.fieldTransforms;else if(u.mergeFields){const me=[];for(const qe of u.mergeFields){const xt=Fm(e,qe,t);if(!m.contains(xt))throw new Xt(Tt.INVALID_ARGUMENT,`Field '${xt}' is specified in your field mask but missing from your input data.`);Bf(me,xt)||me.push(xt)}L=new ms(me),Z=m.fieldTransforms.filter(qe=>L.covers(qe.field))}else L=null,Z=m.fieldTransforms;return new J_(new js(S),L,Z)}class Fd extends dc{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function Rs(r,e,t){return new km({na:3,la:e.settings.la,methodName:r._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Nf extends dc{_toFieldTransform(e){return new qa(e.path,new Ic)}isEqual(e){return e instanceof Nf}}class eb extends dc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Rs(this,e,!0),s=this.da.map(u=>Ca(u,t)),a=new Za(s);return new qa(e.path,a)}isEqual(e){return this===e}}class tb extends dc{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Rs(this,e,!0),s=this.da.map(u=>Ca(u,t)),a=new Ya(s);return new qa(e.path,a)}isEqual(e){return this===e}}class ey extends dc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Kl(e.It,fp(e.It,this._a));return new qa(e.path,t)}isEqual(e){return this===e}}function Pm(r,e,t,s){const a=r.fa(1,e,t);Lf("Data must be an object, but it was:",a,s);const u=[],m=js.empty();$a(s,(L,Z)=>{const me=Lm(e,L,t);Z=(0,he.m9)(Z);const qe=a.ua(me);if(Z instanceof Fd)u.push(me);else{const xt=Ca(Z,qe);null!=xt&&(u.push(me),m.set(me,xt))}});const S=new ms(u);return new Om(m,S,a.fieldTransforms)}function Ff(r,e,t,s,a,u){const m=r.fa(1,e,t),S=[Fm(e,s,t)],L=[a];if(u.length%2!=0)throw new Xt(Tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xt=0;xt<u.length;xt+=2)S.push(Fm(e,u[xt])),L.push(u[xt+1]);const Z=[],me=js.empty();for(let xt=S.length-1;xt>=0;--xt)if(!Bf(Z,S[xt])){const Zt=S[xt];let Qt=L[xt];Qt=(0,he.m9)(Qt);const yn=m.ua(Zt);if(Qt instanceof Fd)Z.push(Zt);else{const Rn=Ca(Qt,yn);null!=Rn&&(Z.push(Zt),me.set(Zt,Rn))}}const qe=new ms(Z);return new Om(me,qe,m.fieldTransforms)}function Nm(r,e,t,s=!1){return Ca(t,r.fa(s?4:3,e))}function Ca(r,e){if(ny(r=(0,he.m9)(r)))return Lf("Unsupported field value:",e,r),ty(r,e);if(r instanceof dc)return function(t,s){if(!Rm(s.na))throw s.aa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.aa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,s){const a=[];let u=0;for(const m of t){let S=Ca(m,s.ca(u));null==S&&(S={nullValue:"NULL_VALUE"}),a.push(S),u++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,he.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fp(s.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Zi.fromDate(t);return{timestampValue:Rc(s.It,a)}}if(t instanceof Zi){const a=new Zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rc(s.It,a)}}if(t instanceof Pd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Va)return{bytesValue:yu(s.It,t._byteString)};if(t instanceof _r){const a=s.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw s.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:el(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.aa(`Unsupported field value: ${Od(t)}`)}(r,e)}function ty(r,e){const t={};return yc(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(r,(s,a)=>{const u=Ca(a,e.ia(s));null!=u&&(t[s]=u)}),{mapValue:{fields:t}}}function ny(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Zi||r instanceof Pd||r instanceof Va||r instanceof _r||r instanceof dc)}function Lf(r,e,t){if(!ny(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Od(t);throw e.aa("an object"===s?r+" a custom object":r+" "+s)}var s}function Fm(r,e,t){if((e=(0,he.m9)(e))instanceof Ba)return e._internalPath;if("string"==typeof e)return Lm(r,e);throw Pu("Field path arguments must be of type string or ",r,!1,void 0,t)}const iy=new RegExp("[~\\*/\\[\\]]");function Lm(r,e,t){if(e.search(iy)>=0)throw Pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ba(...e.split("."))._internalPath}catch(s){throw Pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Pu(r,e,t,s,a){const u=s&&!s.isEmpty(),m=void 0!==a;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let L="";return(u||m)&&(L+=" (found",u&&(L+=` in field ${s}`),m&&(L+=` in document ${a}`),L+=")"),new Xt(Tt.INVALID_ARGUMENT,S+r+L)}function Bf(r,e){return r.some(t=>t.isEqual(e))}class ia{constructor(e,t,s,a,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nb extends ia{data(){return super.data()}}function Vf(r,e){return"string"==typeof e?Lm(r,e):e instanceof Ba?e._internalPath:e._delegate._internalPath}class Co{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends ia{constructor(e,t,s,a,u,m){super(e,t,s,a,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class jo extends Gs{data(e={}){return super.data(e)}}class Ol{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Co(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new jo(this._firestore,this._userDataWriter,s.key,s,new Co(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xt(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new jo(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Co(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>a||3!==m.type).map(m=>{const S=new jo(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Co(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let L=-1,Z=-1;return 0!==m.type&&(L=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),1!==m.type&&(u=u.add(m.doc),Z=u.indexOf(m.doc.key)),{type:ry(m.type),doc:S,oldIndex:L,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ry(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function sy(r,e){return r instanceof Gs&&e instanceof Gs?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ol&&e instanceof Ol&&r._firestore===e._firestore&&Rf(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function oy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Xt(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ld{}function hc(r,...e){for(const t of e)r=t._apply(r);return r}class Bm extends Ld{constructor(e,t,s){super(),this.wa=e,this.ma=t,this.ga=s,this.type="where"}_apply(e){const t=qc(e.firestore),s=function(a,u,m,S,L,Z,me){let qe;if(L.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new Xt(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){Gm(me,Z);const Zt=[];for(const Qt of me)Zt.push(Hm(S,a,Qt));qe={arrayValue:{values:Zt}}}else qe=Hm(S,a,me)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||Gm(me,Z),qe=Nm(m,"where",me,"in"===Z||"not-in"===Z);const xt=xs.create(L,Z,qe);return function(Zt,Qt){if(Qt.dt()){const Rn=uu(Zt);if(null!==Rn&&!Rn.isEqual(Qt.field))throw new Xt(Tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Rn.toString()}' and '${Qt.field.toString()}'`);const Ai=cu(Zt);null!==Ai&&$m(0,Qt.field,Ai)}const yn=function(Rn,Ai){for(const sr of Rn.filters)if(Ai.indexOf(sr.op)>=0)return sr.op;return null}(Zt,function(Rn){switch(Rn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Qt.op));if(null!==yn)throw new Xt(Tt.INVALID_ARGUMENT,yn===Qt.op?`Invalid query. You cannot use more than one '${Qt.op.toString()}' filter.`:`Invalid query. You cannot use '${Qt.op.toString()}' filters with '${yn.toString()}' filters.`)}(a,xt),xt}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ho(e.firestore,e.converter,function(a,u){const m=a.filters.concat([u]);return new _a(a.path,a.collectionGroup,a.explicitOrderBy.slice(),m,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class ib extends Ld{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(s,a,u){if(null!==s.startAt)throw new Xt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Xt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Fo(a,u);return function(S,L){if(null===cu(S)){const Z=uu(S);null!==Z&&$m(0,Z,L.field)}}(s,m),m}(e._query,this.wa,this.ya);return new ho(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new _a(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class ly extends Ld{constructor(e,t,s){super(),this.type=e,this.pa=t,this.Ia=s}_apply(e){return new ho(e.firestore,e.converter,Zu(e._query,this.pa,this.Ia))}}class Vd extends Ld{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=jm(e,this.type,this.Ta,this.Ea);return new ho(e.firestore,e.converter,(a=t,new _a((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Vm extends Ld{constructor(e,t,s){super(),this.type=e,this.Ta=t,this.Ea=s}_apply(e){const t=jm(e,this.type,this.Ta,this.Ea);return new ho(e.firestore,e.converter,(a=t,new _a((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function jm(r,e,t,s){if(t[0]=(0,he.m9)(t[0]),t[0]instanceof ia)return function(a,u,m,S,L){if(!S)throw new Xt(Tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const Z=[];for(const me of zl(a))if(me.field.isKeyField())Z.push(yo(u,S.key));else{const qe=S.data.field(me.field);if(Hl(qe))throw new Xt(Tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===qe){const xt=me.field.canonicalString();throw new Xt(Tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${xt}' (used as the orderBy) does not exist.`)}Z.push(qe)}return new qs(Z,L)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const a=qc(r.firestore);return function(u,m,S,L,Z,me){const qe=u.explicitOrderBy;if(Z.length>qe.length)throw new Xt(Tt.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const xt=[];for(let Zt=0;Zt<Z.length;Zt++){const Qt=Z[Zt];if(qe[Zt].field.isKeyField()){if("string"!=typeof Qt)throw new Xt(Tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof Qt}`);if(!Ku(u)&&-1!==Qt.indexOf("/"))throw new Xt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${L}() must be a plain document ID, but '${Qt}' contains a slash.`);const yn=u.path.child(ji.fromString(Qt));if(!bn.isDocumentKey(yn))throw new Xt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${L}() must result in a valid document path, but '${yn}' is not because it contains an odd number of segments.`);const Rn=new bn(yn);xt.push(yo(m,Rn))}else{const yn=Nm(S,L,Qt);xt.push(yn)}}return new qs(xt,me)}(r._query,r.firestore._databaseId,a,e,t,s)}}function Hm(r,e,t){if("string"==typeof(t=(0,he.m9)(t))){if(""===t)throw new Xt(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ku(e)&&-1!==t.indexOf("/"))throw new Xt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ji.fromString(t));if(!bn.isDocumentKey(s))throw new Xt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yo(r,new bn(s))}if(t instanceof _r)return yo(r,t._key);throw new Xt(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(t)}.`)}function Gm(r,e){if(!Array.isArray(r)||0===r.length)throw new Xt(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new Xt(Tt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $m(r,e,t){if(!t.isEqual(e))throw new Xt(Tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const hy={maxAttempts:5};class jf{convertValue(e,t="none"){switch(_n(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ht()}}convertObject(e,t){const s={};return $a(e.fields,(a,u)=>{s[a]=this.convertValue(u,t)}),s}convertGeoPoint(e){return new Pd(Dr(e.latitude),Dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Wa(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const t=xa(e);return new Zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ji.fromString(e);hn(vu(s));const a=new B(s.get(1),s.get(3)),u=new bn(s.popFirst(5));return a.isEqual(t)||Fe(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Ud(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class fy extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}class zm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qc(e)}set(e,t,s){this._verifyNotCommitted();const a=fc(e,this._firestore),u=Ud(a.converter,t,s),m=Nd(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,s);return this._mutations.push(m.toMutation(a._key,pi.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const u=fc(e,this._firestore);let m;return m="string"==typeof(t=(0,he.m9)(t))||t instanceof Ba?Ff(this._dataReader,"WriteBatch.update",u._key,t,s,a):Pm(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(m.toMutation(u._key,pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=fc(e,this._firestore);return this._mutations=this._mutations.concat(new as(t._key,pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xt(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fc(r,e){if((r=(0,he.m9)(r)).firestore!==e)throw new Xt(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Qc extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}function py(r,e,t){r=Hi(r,_r);const s=Hi(r.firestore,Mr),a=Ud(r.converter,e,t);return Nu(s,[Nd(qc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,pi.none())])}function my(r,e,t,...s){r=Hi(r,_r);const a=Hi(r.firestore,Mr),u=qc(a);let m;return m="string"==typeof(e=(0,he.m9)(e))||e instanceof Ba?Ff(u,"updateDoc",r._key,e,t,s):Pm(u,"updateDoc",r._key,e),Nu(a,[m.toMutation(r._key,pi.exists(!0))])}function gy(r,...e){var t,s,a;r=(0,he.m9)(r);let u={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Im(e[m])||(u=e[m],m++);const S={includeMetadataChanges:u.includeMetadataChanges};if(Im(e[m])){const qe=e[m];e[m]=null===(t=qe.next)||void 0===t?void 0:t.bind(qe),e[m+1]=null===(s=qe.error)||void 0===s?void 0:s.bind(qe),e[m+2]=null===(a=qe.complete)||void 0===a?void 0:a.bind(qe)}let L,Z,me;if(r instanceof _r)Z=Hi(r.firestore,Mr),me=Ka(r._key.path),L={next:qe=>{e[m]&&e[m](Wm(Z,r,qe))},error:e[m+1],complete:e[m+2]};else{const qe=Hi(r,ho);Z=Hi(qe.firestore,Mr),me=qe._query;const xt=new Qc(Z);L={next:Zt=>{e[m]&&e[m](new Ol(Z,xt,qe,Zt))},error:e[m+1],complete:e[m+2]},oy(r._query)}return function(qe,xt,Zt,Qt){const yn=new Sf(Qt),Rn=new hf(xt,yn,Zt);return qe.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return df(yield ku(qe),Rn)})),()=>{yn.Rc(),qe.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return om(yield ku(qe),Rn)}))}}(gs(Z),me,S,L)}function Nu(r,e){return function(t,s){const a=new Ji;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function q0(r,e,t){return gf.apply(this,arguments)}(yield V_(t),s,a)})),a.promise}(gs(r),e)}function Wm(r,e,t){const s=t.docs.get(e._key),a=new Qc(r);return new Gs(r,a,e._key,s,new Co(t.hasPendingWrites,t.fromCache),e.converter)}class pb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qc(e)}get(e){const t=fc(e,this._firestore),s=new fy(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Ht();const u=a[0];if(u.isFoundDocument())return new ia(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new ia(this._firestore,s,t._key,null,t.converter);throw Ht()})}set(e,t,s){const a=fc(e,this._firestore),u=Ud(a.converter,t,s),m=Nd(this._dataReader,"Transaction.set",a._key,u,null!==a.converter,s);return this._transaction.set(a._key,m),this}update(e,t,s,...a){const u=fc(e,this._firestore);let m;return m="string"==typeof(t=(0,he.m9)(t))||t instanceof Ba?Ff(this._dataReader,"Transaction.update",u._key,t,s,a):Pm(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,m),this}delete(e){const t=fc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=fc(e,this._firestore),s=new Qc(this._firestore);return super.get(e).then(a=>new Gs(this._firestore,s,t._key,a._document,new Co(!1,!1),t.converter))}}function Rl(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Xt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function wy(){if("undefined"==typeof Uint8Array)throw new Xt("unimplemented","Uint8Arrays are not available in this environment.")}function Dy(){if(!function Po(){return"undefined"!=typeof atob}())throw new Xt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){I=Ft.SDK_VERSION,(0,Ft._registerComponent)(new nt.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const u=t.getProvider("app").getImmediate(),m=new Mr(new Nl(t.getProvider("auth-internal")),new Yo(t.getProvider("app-check-internal")),function(S,L){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Xt(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new B(S.options.projectId,L)}(u,s),u);return a=Object.assign({useFetchStreams:e},a),m._setSettings(a),m},"PUBLIC").setMultipleInstances(!0)),(0,Ft.registerVersion)(oa,"3.4.15",r),(0,Ft.registerVersion)(oa,"3.4.15","esm2017")}();class al{constructor(e){this._delegate=e}static fromBase64String(e){return Dy(),new al(Va.fromBase64String(e))}static fromUint8Array(e){return wy(),new al(Va.fromUint8Array(e))}toBase64(){return Dy(),this._delegate.toBase64()}toUint8Array(){return wy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Iy(r){return function qm(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class eE{enableIndexedDbPersistence(e,t){return function Sm(r,e){xm(r=Hi(r,Mr));const t=gs(r),s=r._freezeSettings(),a=new Tf;return W_(t,a,new x_(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Mm(r){xm(r=Hi(r,Mr));const e=gs(r),t=r._freezeSettings(),s=new Tf;return W_(e,s,new O_(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function K_(r){if(r._initialized&&!r._terminated)throw new Xt(Tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ji;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(s){if(!Zs.C())return Promise.resolve();const a=s+"main";yield Zs.delete(a)}),function(s){return t.apply(this,arguments)})(Kh(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Qm{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof B||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ot("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Q0(r,e,t,s={}){var a;const u=(r=Hi(r,Rd))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&ot("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let m,S;if("string"==typeof s.mockUserToken)m=s.mockUserToken,S=A.MOCK_USER;else{m=(0,he.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new Xt(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new A(L)}r._authCredentials=new xo(new ma(m,S))}}(this._delegate,e,t,s)}enableNetwork(){return function Am(r){return function $v(r){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield Gv(r),t=yield bm(r);return e.setNetworkEnabled(!0),function(s){const a=rn(s);return a._u.delete(0),Gc(a)}(t)}))}(gs(r=Hi(r,Mr)))}(this._delegate)}disableNetwork(){return function Y_(r){return function U_(r){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield Gv(r),t=yield bm(r);return e.setNetworkEnabled(!1),(s=(0,Ae.Z)(function*(a){const u=rn(a);u._u.add(0),yield tc(u),u.gu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(gs(r=Hi(r,Mr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,wm("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Z_(r){return function(e){const t=new Ji;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function vf(r,e){return sc.apply(this,arguments)}(yield V_(e),t)})),t.promise}(gs(r=Hi(r,Mr)))}(this._delegate)}onSnapshotsInSync(e){return function fb(r,e){return function H_(r,e){const t=new Sf(e);return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return s=yield ku(r),a=t,rn(s).Ru.add(a),void a.next();var s,a})),()=>{t.Rc(),r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return s=yield ku(r),a=t,void rn(s).Ru.delete(a);var s,a}))}}(gs(r=Hi(r,Mr)),Im(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Xt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fu(this,Of(this._delegate,e))}catch(t){throw Xs(t,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,Yc(this._delegate,e))}catch(t){throw Xs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ra(this,function qv(r,e){if(r=Hi(r,Rd),Cm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xt(Tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ho(r,null,(t=e,new _a(ji.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Xs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _y(r,e,t){r=Hi(r,Mr);const s=Object.assign(Object.assign({},hy),t);return function(a){if(a.maxAttempts<1)throw new Xt(Tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function Wv(r,e,t){const s=new Ji;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const a=yield(u=r,vm(u).then(m=>m.datastore));var u;new P_(r.asyncQueue,a,t,e,s).run()})),s.promise}(gs(r),a=>e(new pb(r,a)),s)}(this._delegate,t=>e(new ri(this,t)))}batch(){return gs(this._delegate),new Ty(new zm(this._delegate,e=>Nu(this._delegate,e)))}loadBundle(e){return function q_(r,e){const t=gs(r=Hi(r,Mr)),s=new kf;return function Kv(r,e,t,s){const a=function(u,m){let S;return S="string"==typeof u?(new TextEncoder).encode(u):u,L=function(L,Z){if(L instanceof Uint8Array)return R_(L,Z);if(L instanceof ArrayBuffer)return R_(new Uint8Array(L),Z);if(L instanceof ReadableStream)return L.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new k_(L,m);var L}(t,Iu(e));r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function Uv(r,e,t){const s=rn(r);var a;(a=(0,Ae.Z)(function*(u,m,S){try{const L=yield m.getMetadata();if(yield function(xt,Zt){const Qt=rn(xt),yn=Os(Zt.createTime);return Qt.persistence.runTransaction("hasNewerBundle","readonly",Rn=>Qt.Ns.getBundleMetadata(Rn,Zt.id)).then(Rn=>!!Rn&&Rn.createTime.compareTo(yn)>=0)}(u.localStore,L))return yield m.close(),S._completeWith({taskState:"Success",documentsLoaded:(xt=L).totalDocuments,bytesLoaded:xt.totalBytes,totalDocuments:xt.totalDocuments,totalBytes:xt.totalBytes}),Promise.resolve(new Set);S._updateProgress(Fv(L));const Z=new K0(L,u.localStore,m.It);let me=yield m.wc();for(;me;){const xt=yield Z.Ou(me);xt&&S._updateProgress(xt),me=yield m.wc()}const qe=yield Z.complete();return yield $r(u,qe.Bu,void 0),yield function(xt,Zt){const Qt=rn(xt);return Qt.persistence.runTransaction("Save bundle","readwrite",yn=>Qt.Ns.saveBundleMetadata(yn,Zt))}(u.localStore,L),S._completeWith(qe.progress),Promise.resolve(qe.$u)}catch(L){return ot("SyncEngine",`Loading bundle failed with ${L}`),S._failWith(L),Promise.resolve(new Set)}var xt}),function(u,m,S){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield V_(r),a,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Q_(r,e){return function Zv(r,e){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,s){const a=rn(t);return a.persistence.runTransaction("Get named query","readonly",u=>a.Ns.getNamedQuery(u,s))}(yield Mf(r),e)}))}(gs(r=Hi(r,Mr)),e).then(t=>t?new ho(r,null,t.query):null)}(this._delegate,e).then(t=>t?new ra(this,t):null)}}class jd extends jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(new Va(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(t,this.firestore,null)}}class ri{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}get(e){const t=mc(e);return this._delegate.get(t).then(s=>new pc(this._firestore,new Gs(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=mc(e);return s?(Rl("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const u=mc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,s,...a),this}delete(e){const t=mc(e);return this._delegate.delete(t),this}}class Ty{constructor(e){this._delegate=e}set(e,t,s){const a=mc(e);return s?(Rl("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const u=mc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,s,...a),this}delete(e){const t=mc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new jo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ar(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Xc.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let u=a.get(t);return u||(u=new Xc(e,new jd(e),t),a.set(t,u)),u}}Xc.INSTANCES=new WeakMap;class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Xt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(t,new _r(t._delegate,s,new bn(e)))}static forKey(e,t,s){return new wa(t,new _r(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Fu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fu(this.firestore,Of(this._delegate,e))}catch(t){throw Xs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,he.m9)(e))instanceof _r&&kd(this._delegate,e)}set(e,t){t=Rl("DocumentReference.set",t);try{return t?py(this._delegate,e,t):py(this._delegate,e)}catch(s){throw Xs(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?my(this._delegate,e):my(this._delegate,e,t,...s)}catch(a){throw Xs(a,"updateDoc()","DocumentReference.update()")}}delete(){return function db(r){return Nu(Hi(r.firestore,Mr),[new as(r._key,pi.none())])}(this._delegate)}onSnapshot(...e){const t=Sy(e),s=Hd(e,a=>new pc(this.firestore,new Gs(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return gy(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ob(r){r=Hi(r,_r);const e=Hi(r.firestore,Mr),t=gs(e),s=new Qc(e);return function zv(r,e){const t=new Ji;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(s=(0,Ae.Z)(function*(a,u,m){try{const S=yield function(L,Z){const me=rn(L);return me.persistence.runTransaction("read document","readonly",qe=>me.localDocuments.getDocument(qe,Z))}(a,u);S.isFoundDocument()?m.resolve(S):S.isNoDocument()?m.resolve(null):m.reject(new Xt(Tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const L=Su(S,`Failed to get document '${u} from cache`);m.reject(L)}}),function(a,u,m){return s.apply(this,arguments)})(yield Mf(r),e,t);var s})),t.promise}(t,r._key).then(a=>new Gs(e,s,r._key,a,new Co(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ab(r){r=Hi(r,_r);const e=Hi(r.firestore,Mr);return Em(gs(e),r._key,{source:"server"}).then(t=>Wm(e,r,t))}(this._delegate):function sb(r){r=Hi(r,_r);const e=Hi(r.firestore,Mr);return Em(gs(e),r._key).then(t=>Wm(e,r,t))}(this._delegate),t.then(s=>new pc(this.firestore,new Gs(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function Xs(r,e,t){return r.message=r.message.replace(e,t),r}function Sy(r){for(const e of r)if("object"==typeof e&&!Iy(e))return e;return{}}function Hd(r,e){var t,s;let a;return a=Iy(r[0])?r[0]:Iy(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class pc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sy(this._delegate,e._delegate)}}class Ar extends pc{data(e){const t=this._delegate.data(e);return function Bn(r,e){r||Ht()}(void 0!==t),t}}class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jd(e)}where(e,t,s){try{return new ra(this.firestore,hc(this._delegate,function Bd(r,e,t){const s=e,a=Vf("where",r);return new Bm(a,s,t)}(e,t,s)))}catch(a){throw Xs(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ra(this.firestore,hc(this._delegate,function ay(r,e="asc"){const t=e,s=Vf("orderBy",r);return new ib(s,t)}(e,t)))}catch(s){throw Xs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ra(this.firestore,hc(this._delegate,function cy(r){return Yv("limit",r),new ly("limit",r,"F")}(e)))}catch(t){throw Xs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ra(this.firestore,hc(this._delegate,function uy(r){return Yv("limitToLast",r),new ly("limitToLast",r,"L")}(e)))}catch(t){throw Xs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ra(this.firestore,hc(this._delegate,function rb(...r){return new Vd("startAt",r,!0)}(...e)))}catch(t){throw Xs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ra(this.firestore,hc(this._delegate,function dy(...r){return new Vd("startAfter",r,!1)}(...e)))}catch(t){throw Xs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ra(this.firestore,hc(this._delegate,function Um(...r){return new Vm("endBefore",r,!1)}(...e)))}catch(t){throw Xs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ra(this.firestore,hc(this._delegate,function Uf(...r){return new Vm("endAt",r,!0)}(...e)))}catch(t){throw Xs(t,"endAt()","Query.endAt()")}}isEqual(e){return Rf(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function cb(r){r=Hi(r,ho);const e=Hi(r.firestore,Mr),t=gs(e),s=new Qc(e);return function Af(r,e){const t=new Ji;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(s=(0,Ae.Z)(function*(a,u,m){try{const S=yield qh(a,u,!0),L=new lm(u,S.Hi),Z=L.ju(S.documents),me=L.applyChanges(Z,!1);m.resolve(me.snapshot)}catch(S){const L=Su(S,`Failed to execute query '${u} against cache`);m.reject(L)}}),function(a,u,m){return s.apply(this,arguments)})(yield Mf(r),e,t);var s})),t.promise}(t,r._query).then(a=>new Ol(e,s,r,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function ub(r){r=Hi(r,ho);const e=Hi(r.firestore,Mr),t=gs(e),s=new Qc(e);return j_(t,r._query,{source:"server"}).then(a=>new Ol(e,s,r,a))}(this._delegate):function lb(r){r=Hi(r,ho);const e=Hi(r.firestore,Mr),t=gs(e),s=new Qc(e);return oy(r._query),j_(t,r._query).then(a=>new Ol(e,s,r,a))}(this._delegate),t.then(s=>new Xm(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Sy(e),s=Hd(e,a=>new Xm(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return gy(this._delegate,t,s)}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}class My{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ar(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ra(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ar(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new My(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Ar(this._firestore,s))})}isEqual(e){return sy(this._delegate,e._delegate)}}class Fu extends ra{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?Yc(this._delegate):Yc(this._delegate,e))}catch(t){throw Xs(t,"doc()","CollectionReference.doc()")}}add(e){return function hb(r,e){const t=Hi(r.firestore,Mr),s=Yc(r),a=Ud(r.converter,e);return Nu(t,[Nd(qc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,pi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new wa(this.firestore,t))}isEqual(e){return kd(this._delegate,e._delegate)}withConverter(e){return new Fu(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function mc(r){return Hi(r,_r)}class Hf{constructor(...e){this._delegate=new Ba(...e)}static documentId(){return new Hf(Sr.keyField().canonicalString())}isEqual(e){return(e=(0,he.m9)(e))instanceof Ba&&this._delegate._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vy(){return new Nf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gc(e)}static delete(){const e=function yy(){return new Fd("deleteField")}();return e._methodName="FieldValue.delete",new gc(e)}static arrayUnion(...e){const t=function by(...r){return new eb("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new gc(t)}static arrayRemove(...e){const t=function Ey(...r){return new tb("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new gc(t)}static increment(e){const t=function Cy(r){return new ey("increment",r)}(e);return t._methodName="FieldValue.increment",new gc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ay={Firestore:Qm,GeoPoint:Pd,Timestamp:Zi,Blob:al,Transaction:ri,WriteBatch:Ty,DocumentReference:wa,DocumentSnapshot:pc,Query:ra,QueryDocumentSnapshot:Ar,QuerySnapshot:Xm,CollectionReference:Fu,FieldPath:Hf,FieldValue:gc,setLogLevel:function tE(r){!function W(r){w.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function yb(r){(function _b(r,e){r.INTERNAL.registerComponent(new nt.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},Ay)))})(r,(e,t)=>new Qm(e,t,new eE)),r.registerVersion("@firebase/firestore-compat","0.1.24")}(rt.Z);var xy=b(7579),Gd=b(6451),Gf=b(5363),_c=b(3900),vb=b(6063);class $f extends xy.x{constructor(e=1/0,t=1/0,s=vb.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:m}=this;t||(s.push(e),!a&&s.push(u.now()+m)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:s,_buffer:a}=this,u=a.slice();for(let m=0;m<u.length&&!e.closed;m+=s?1:2)e.next(u[m]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:s,_infiniteTimeWindow:a}=this,u=(a?1:2)*e;if(e<1/0&&u<s.length&&s.splice(0,s.length-u),!a){const m=t.now();let S=0;for(let L=1;L<s.length&&s[L]<=m;L+=2)S=L;S&&s.splice(0,S+1)}}}var Oy=b(3099);function Jm(r,e,t){let s,a=!1;return r&&"object"==typeof r?({bufferSize:s=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=r):s=null!=r?r:1/0,(0,Oy.B)({connector:()=>new $f(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Ry=b(590),bb=b(576);function Lu(r,e){return(0,bb.m)(e)?(0,_c.w)(()=>r,e):(0,_c.w)(()=>r)}var Jc=b(9468);b(5867);const tg=new Map,$d={activated:!1,tokenObservers:[]},Sb={initialized:!1,enabled:!1};function Js(r){return tg.get(r)||$d}function Ua(r,e){tg.set(r,e)}function Kf(){return Sb}class Fy{constructor(e,t,s,a,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new he.BH,yield function Ob(r){return new Promise(e=>{setTimeout(e,r)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new he.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ho=new he.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function By(r){if(!Js(r).activated)throw Ho.create("use-before-activation",{appName:r.name})}function Yf(r,e){return qf.apply(this,arguments)}function qf(){return qf=(0,Ae.Z)(function*({url:r,body:e},t){var s,a;const u={"Content-Type":"application/json"},m=t.getImmediate({optional:!0});if(m){const Zt=yield m.getHeartbeatsHeader();Zt&&(u["X-Firebase-Client"]=Zt)}const S={method:"POST",body:JSON.stringify(e),headers:u};let L,Z;try{L=yield fetch(r,S)}catch(Zt){throw Ho.create("fetch-network-error",{originalErrorMessage:null===(s=Zt)||void 0===s?void 0:s.message})}if(200!==L.status)throw Ho.create("fetch-status-error",{httpStatus:L.status});try{Z=yield L.json()}catch(Zt){throw Ho.create("fetch-parse-error",{originalErrorMessage:null===(a=Zt)||void 0===a?void 0:a.message})}const me=Z.ttl.match(/^([\d.]+)(s)$/);if(!me||!me[2]||isNaN(Number(me[1])))throw Ho.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Z.ttl}`});const qe=1e3*Number(me[1]),xt=Date.now();return{token:Z.token,expireTimeMillis:xt+qe,issuedAtTimeMillis:xt}}),qf.apply(this,arguments)}function Pb(r,e){const{projectId:t,appId:s,apiKey:a}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Bu="firebase-app-check-store";let Qf=null;function Uy(){return Qf||(Qf=new Promise((r,e)=>{var t;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{r(a.target.result)},s.onerror=a=>{var u;e(Ho.create("storage-open",{originalErrorMessage:null===(u=a.target.error)||void 0===u?void 0:u.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Bu,{keyPath:"compositeKey"})}}catch(s){e(Ho.create("storage-open",{originalErrorMessage:null===(t=s)||void 0===t?void 0:t.message}))}}),Qf)}function Xf(){return Xf=(0,Ae.Z)(function*(r,e){const s=(yield Uy()).transaction(Bu,"readwrite"),u=s.objectStore(Bu).put({compositeKey:r,value:e});return new Promise((m,S)=>{u.onsuccess=L=>{m()},s.onerror=L=>{var Z;S(Ho.create("storage-set",{originalErrorMessage:null===(Z=L.target.error)||void 0===Z?void 0:Z.message}))}})}),Xf.apply(this,arguments)}const Vu=new pe.Yd("@firebase/app-check");function Gy(r,e){return(0,he.hl)()?function Lb(r,e){return function jy(r,e){return Xf.apply(this,arguments)}(function Hy(r){return`${r.options.appId}-${r.name}`}(r),e)}(r,e).catch(t=>{Vu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function lg(){return Kf().enabled}function Jf(){return cg.apply(this,arguments)}function cg(){return cg=(0,Ae.Z)(function*(){const r=Kf();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),cg.apply(this,arguments)}const ug={error:"UNKNOWN_ERROR"};function Hb(r){return he.US.encodeString(JSON.stringify(r),!1)}function Zd(r){return dg.apply(this,arguments)}function dg(){return dg=(0,Ae.Z)(function*(r,e=!1){const t=r.app;By(t);const s=Js(t);let u,a=s.token;if(!a){const L=yield s.cachedTokenPromise;L&&tu(L)&&(a=L)}if(!e&&a&&tu(a))return{token:a.token};let S,m=!1;if(lg()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Yf(Pb(t,yield Jf()),r.heartbeatServiceProvider).then(Z=>(s.exchangeTokenPromise=void 0,Z)),m=!0);const L=yield s.exchangeTokenPromise;return yield Gy(t,L),Ua(t,Object.assign(Object.assign({},s),{token:L})),{token:L.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(L=>(s.exchangeTokenPromise=void 0,L)),m=!0),a=yield s.exchangeTokenPromise}catch(L){"appCheck/throttled"===L.code?Vu.warn(L.message):Vu.error(L),u=L}return a?(S={token:a.token},Ua(t,Object.assign(Object.assign({},s),{token:a})),yield Gy(t,a)):S=Gb(u),m&&$y(t,S),S}),dg.apply(this,arguments)}function hg(r,e){const t=Js(r),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ua(r,Object.assign(Object.assign({},t),{tokenObservers:s}))}function fg(r){const{app:e}=r,t=Js(e);let s=t.tokenRefresher;s||(s=function sE(r){const{app:e}=r;return new Fy((0,Ae.Z)(function*(){let s;if(s=Js(e).token?yield Zd(r,!0):yield Zd(r),s.error)throw s.error}),()=>!0,()=>{const t=Js(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(r),Ua(e,Object.assign(Object.assign({},t),{tokenRefresher:s}))),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function $y(r,e){const t=Js(r).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function tu(r){return r.expireTimeMillis-Date.now()>0}function Gb(r){return{token:Hb(ug),error:r}}class Uu{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Js(this.app);for(const t of e)hg(this.app,t.next);return Promise.resolve()}}const gg="app-check-internal";!function Qb(){(0,Ft._registerComponent)(new nt.wA("app-check",r=>function Yd(r,e){return new Uu(r,e)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,t)=>{r.getProvider(gg).initialize()})),(0,Ft._registerComponent)(new nt.wA(gg,r=>function $b(r){return{getToken:e=>Zd(r,e),addTokenListener:e=>function ep(r,e,t,s){const{app:a}=r,u=Js(a),m={next:t,error:s,type:e};if(Ua(a,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,m]})),u.token&&tu(u.token)){const S=u.token;Promise.resolve().then(()=>{t({token:S.token}),fg(r)}).catch(()=>{})}u.cachedTokenPromise.then(()=>fg(r))}(r,"INTERNAL",e),removeTokenListener:e=>hg(r.app,e)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ft.registerVersion)("@firebase/app-check","0.5.12")}();class qy{constructor(){return(0,ve.vb)("app-check")}}"undefined"!=typeof window&&window;var Xy=b(127);const _g=new h.OlP("angularfire2.auth.use-emulator"),yg=new h.OlP("angularfire2.auth.settings"),ev=new h.OlP("angularfire2.auth.tenant-id"),vg=new h.OlP("angularfire2.auth.langugage-code"),tv=new h.OlP("angularfire2.auth.use-device-language"),nv=new h.OlP("angularfire.auth.persistence"),iv=(r,e,t,s,a,u,m,S)=>(0,je.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const L=e.runOutsideAngular(()=>r.auth());if(t&&L.useEmulator(...t),s&&(L.tenantId=s),L.languageCode=a,u&&L.useDeviceLanguage(),m)for(const[Z,me]of Object.entries(m))L.settings[Z]=me;return S&&L.setPersistence(S),L},[t,s,a,u,m,S]);let rv=(()=>{class r{constructor(t,s,a,u,m,S,L,Z,me,qe,xt,Zt){const Qt=new xy.x,yn=(0,ge.of)(void 0).pipe((0,Gf.Q)(m.outsideAngular),(0,_c.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(b.bind(b,2274)))),(0,fe.U)(()=>(0,je.on)(t,u,s)),(0,fe.U)(Rn=>iv(Rn,u,S,Z,me,qe,L,xt)),Jm({bufferSize:1,refCount:!1}));if((0,lt.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ge.of)(null);else{yn.pipe((0,Ry.P)()).subscribe();const Ai=yn.pipe((0,_c.w)(Ii=>Ii.getRedirectResult().then(ti=>ti,()=>null)),ve.iC,Jm({bufferSize:1,refCount:!1})),sr=yn.pipe((0,_c.w)(Ii=>new C.y(ti=>({unsubscribe:u.runOutsideAngular(()=>Ii.onAuthStateChanged(Ti=>ti.next(Ti),Ti=>ti.error(Ti),()=>ti.complete()))})))),zi=yn.pipe((0,_c.w)(Ii=>new C.y(ti=>({unsubscribe:u.runOutsideAngular(()=>Ii.onIdTokenChanged(Ti=>ti.next(Ti),Ti=>ti.error(Ti),()=>ti.complete()))}))));this.authState=Ai.pipe(Lu(sr),(0,Jc.R)(m.outsideAngular),(0,Gf.Q)(m.insideAngular)),this.user=Ai.pipe(Lu(zi),(0,Jc.R)(m.outsideAngular),(0,Gf.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,_c.w)(Ii=>Ii?(0,ne.D)(Ii.getIdToken()):(0,ge.of)(null))),this.idTokenResult=this.user.pipe((0,_c.w)(Ii=>Ii?(0,ne.D)(Ii.getIdTokenResult()):(0,ge.of)(null))),this.credential=(0,Gd.T)(Ai,Qt,this.authState.pipe((0,Re.h)(Ii=>!Ii))).pipe((0,fe.U)(Ii=>(null==Ii?void 0:Ii.user)?Ii:null),(0,Jc.R)(m.outsideAngular),(0,Gf.Q)(m.insideAngular))}return(0,je.pX)(this,yn,u,{spy:{apply:(Rn,Ai,sr)=>{(Rn.startsWith("signIn")||Rn.startsWith("createUser"))&&sr.then(zi=>Qt.next(zi))}}})}}return r.\u0275fac=function(t){return new(t||r)(h.LFG(je.Dh),h.LFG(je.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ve.HU),h.LFG(_g,8),h.LFG(yg,8),h.LFG(ev,8),h.LFG(vg,8),h.LFG(tv,8),h.LFG(nv,8),h.LFG(qy,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function ap(r,e){return function o0(r,e=g.z){return new C.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(r,e)}function bg(r,e){return ap(r,e).pipe((0,fe.U)(t=>({payload:t,type:"query"})))}function nu(r,e){return bg(r,e).pipe((0,se.O)(void 0),le(),(0,fe.U)(([t,s])=>{const a=s.payload.docChanges(),u=a.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,S)=>{const L=a.find(me=>me.doc.ref.isEqual(m.ref)),Z=null==t?void 0:t.payload.docs.find(me=>me.ref.isEqual(m.ref));L&&JSON.stringify(L.doc.metadata)===JSON.stringify(m.metadata)||!L&&Z&&JSON.stringify(Z.metadata)===JSON.stringify(m.metadata)||u.push({type:"modified",payload:{oldIndex:S,newIndex:S,type:"modified",doc:m}})}),u}))}function Hu(r,e,t){return nu(r,t).pipe((0,De.R)((s,a)=>function a0(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function l0(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Eg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Eg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Eg(r,e.oldIndex,1)}return r}(r,s))}),r}(s,a.map(u=>u.payload),e),[]),(0,We.x)(),(0,fe.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Eg(r,e,t,...s){const a=r.slice();return a.splice(e,t,...s),a}function th(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class nh{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=nu(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,fe.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,se.O)(void 0),le(),(0,Re.h)(([s,a])=>a.length>0||!s),(0,fe.U)(([s,a])=>a),ve.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,De.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=th(e);return Hu(this.query,t,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),ve.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(ve.iC)}add(e){return this.ref.add(e)}doc(e){return new sv(this.ref.doc(e),this.afs)}}class sv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:u}=av(s,t);return new nh(a,u,this.afs)}snapshotChanges(){return function ll(r,e){return ap(r,e).pipe((0,se.O)(void 0),le(),(0,fe.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,fe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ne.D)(this.ref.get(e)).pipe(ve.iC)}}class c0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?nu(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Re.h)(t=>t.length>0),ve.iC):nu(this.query,this.afs.schedulers.outsideAngular).pipe(ve.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,De.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=th(e);return Hu(this.query,t,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ve.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(ve.iC)}}const Cg=new h.OlP("angularfire2.enableFirestorePersistence"),wg=new h.OlP("angularfire2.firestore.persistenceSettings"),Dg=new h.OlP("angularfire2.firestore.settings"),ov=new h.OlP("angularfire2.firestore.use-emulator");function av(r,e=(t=>t)){return{query:e(r),ref:r}}let lv=(()=>{class r{constructor(t,s,a,u,m,S,L,Z,me,qe,xt,Zt,Qt,yn,Rn,Ai,sr){this.schedulers=L;const zi=(0,je.on)(t,S,s),Ii=me;qe&&iv(zi,S,xt,Qt,yn,Rn,Zt,Ai),[this.firestore,this.persistenceEnabled$]=(0,je.cc)(`${zi.name}.firestore`,"AngularFirestore",zi.name,()=>{const ti=S.runOutsideAngular(()=>zi.firestore());if(u&&ti.settings(u),Ii&&ti.useEmulator(...Ii),a&&!(0,lt.PM)(m)){const Ti=()=>{try{return(0,ne.D)(ti.enablePersistence(Z||void 0).then(()=>!0,()=>!1))}catch($s){return"undefined"!=typeof console&&console.warn($s),(0,ge.of)(!1)}};return[ti,S.runOutsideAngular(Ti)]}return[ti,(0,ge.of)(!1)]},[u,Ii,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:m}=av(a,s),S=this.schedulers.ngZone.run(()=>u);return new nh(S,m,this)}collectionGroup(t,s){const a=s||(m=>m),u=this.firestore.collectionGroup(t);return new c0(a(u),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new sv(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(h.LFG(je.Dh),h.LFG(je.xv,8),h.LFG(Cg,8),h.LFG(Dg,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ve.HU),h.LFG(wg,8),h.LFG(ov,8),h.LFG(rv,8),h.LFG(_g,8),h.LFG(yg,8),h.LFG(ev,8),h.LFG(vg,8),h.LFG(tv,8),h.LFG(nv,8),h.LFG(qy,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),mE=(()=>{class r{constructor(){Xy.Z.registerVersion("angularfire",ve.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Cg,useValue:!0},{provide:wg,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[lv]}),r})()},2011:(Yt,Ye,b)=>{b.d(Ye,{hO:()=>We,xv:()=>le,Dh:()=>ye,GT:()=>ve,cc:()=>Re,on:()=>se,pX:()=>ge});var h=b(5e3),g=b(127),C=b(5813);Yt=b.hmd(Yt);const ne=["ngOnDestroy"],ge=(rt,Ae,Ft,nt={})=>new Proxy(rt,{get:(pe,he)=>Ft.runOutsideAngular(()=>{var xe;if(rt[he])return(null===(xe=null==nt?void 0:nt.spy)||void 0===xe?void 0:xe.get)&&nt.spy.get(he,rt[he]),rt[he];if(ne.indexOf(he)>-1)return()=>{};const Ee=Ae.toPromise().then(ee=>{const Ge=ee&&ee[he];return"function"==typeof Ge?Ge.bind(ee):Ge&&Ge.then?Ge.then(be=>Ft.run(()=>be)):Ft.run(()=>Ge)});return new Proxy(()=>{},{get:(ee,Ge)=>Ee[Ge],apply:(ee,Ge,be)=>Ee.then(Je=>{var it;const wt=Je&&Je(...be);return(null===(it=null==nt?void 0:nt.spy)||void 0===it?void 0:it.apply)&&nt.spy.apply(he,be,wt),wt})})})}),ve=(rt,Ae)=>{Ae.forEach(Ft=>{Object.getOwnPropertyNames(Ft.prototype||Ft).forEach(nt=>{Object.defineProperty(rt.prototype,nt,Object.getOwnPropertyDescriptor(Ft.prototype||Ft,nt))})})};class ke{constructor(Ae){return Ae}}const ye=new h.OlP("angularfire2.app.options"),le=new h.OlP("angularfire2.app.name");function se(rt,Ae,Ft){const pe="object"==typeof Ft&&Ft||{};pe.name=pe.name||"string"==typeof Ft&&Ft||"[DEFAULT]";const xe=g.Z.apps.filter(Ee=>Ee&&Ee.name===pe.name)[0]||Ae.runOutsideAngular(()=>g.Z.initializeApp(rt,pe));try{JSON.stringify(rt)!==JSON.stringify(xe.options)&&fe("error",`${xe.name} Firebase App already initialized with different options${Yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ee){}return new ke(xe)}const fe=(rt,...Ae)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[rt](...Ae)},De={provide:ke,useFactory:se,deps:[ye,h.R0b,[new h.FiY,le]]};let We=(()=>{class rt{constructor(Ft){g.Z.registerVersion("angularfire",C.q4.full,"core"),g.Z.registerVersion("angularfire",C.q4.full,"app-compat"),g.Z.registerVersion("angular",h.q4F.full,Ft.toString())}static initializeApp(Ft,nt){return{ngModule:rt,providers:[{provide:ye,useValue:Ft},{provide:le,useValue:nt}]}}}return rt.\u0275fac=function(Ft){return new(Ft||rt)(h.LFG(h.Lbi))},rt.\u0275mod=h.oAB({type:rt}),rt.\u0275inj=h.cJS({providers:[De]}),rt})();function Re(rt,Ae,Ft,nt,pe){const[,he,xe]=globalThis.\u0275AngularfireInstanceCache.find(Ee=>Ee[0]===rt)||[];if(he)return function je(rt,Ae){try{return rt.toString()===Ae.toString()}catch(Ft){return rt===Ae}}(pe,xe)||(Ue("error",`${Ae} was already initialized on the ${Ft} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:pe,was:xe})),he;{const Ee=nt();return globalThis.\u0275AngularfireInstanceCache.push([rt,Ee,pe]),Ee}}const lt=!!Yt.hot,Ue=(rt,...Ae)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[rt](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Yt,Ye,b)=>{b.d(Ye,{q4:()=>ah,iC:()=>Xo,HU:()=>ms,vb:()=>Hr,JM:()=>za});var h=b(5e3),g=b(5867),C=b(5861),ne=b(9681),ge=b(2090),ve=b(4859),ke=b(1877),ye=b(8766);const le="@firebase/installations",se="0.5.12",De=`w:${se}`,We="FIS_v2",Ae=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ft(R){return R instanceof ge.ZR&&R.code.includes("request-failed")}function nt({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function pe(R){return{token:R.token,requestStatus:2,expiresIn:Je(R.expiresIn),creationTime:Date.now()}}function he(R,B){return xe.apply(this,arguments)}function xe(){return(xe=(0,C.Z)(function*(R,B){const He=(yield B.json()).error;return Ae.create("request-failed",{requestName:R,serverCode:He.code,serverMessage:He.message,serverStatus:He.status})})).apply(this,arguments)}function Ee({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function ee(R,{refreshToken:B}){const oe=Ee(R);return oe.append("Authorization",function it(R){return`${We} ${R}`}(B)),oe}function Ge(R){return be.apply(this,arguments)}function be(){return(be=(0,C.Z)(function*(R){const B=yield R();return B.status>=500&&B.status<600?R():B})).apply(this,arguments)}function Je(R){return Number(R.replace("s","000"))}function wt(R,B){return yt.apply(this,arguments)}function yt(){return(yt=(0,C.Z)(function*({appConfig:R,heartbeatServiceProvider:B},{fid:oe}){const He=nt(R),Ct=Ee(R),Rt=B.getImmediate({optional:!0});if(Rt){const Jn=yield Rt.getHeartbeatsHeader();Jn&&Ct.append("x-firebase-client",Jn)}const _n={method:"POST",headers:Ct,body:JSON.stringify({fid:oe,authVersion:We,appId:R.appId,sdkVersion:De})},Vn=yield Ge(()=>fetch(He,_n));if(Vn.ok){const Jn=yield Vn.json();return{fid:Jn.fid||oe,registrationStatus:2,refreshToken:Jn.refreshToken,authToken:pe(Jn.authToken)}}throw yield he("Create Installation",Vn)})).apply(this,arguments)}function kt(R){return new Promise(B=>{setTimeout(B,R)})}const ct=/^[cdef][\w-]{21}$/;function $e(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const oe=function et(R){return function At(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return ct.test(oe)?oe:""}catch(R){return""}}function gt(R){return`${R.appName}!${R.appId}`}const Q=new Map;function Ce(R,B){const oe=gt(R);pt(oe,B),function ht(R,B){const oe=function vt(){return!Me&&"BroadcastChannel"in self&&(Me=new BroadcastChannel("[Firebase] FID Change"),Me.onmessage=R=>{pt(R.data.key,R.data.fid)}),Me}();oe&&oe.postMessage({key:R,fid:B}),function Se(){0===Q.size&&Me&&(Me.close(),Me=null)}()}(oe,B)}function pt(R,B){const oe=Q.get(R);if(oe)for(const He of oe)He(B)}let Me=null;const cn="firebase-installations-store";let Mn=null;function un(){return Mn||(Mn=(0,ye.X3)("firebase-installations-database",1,{upgrade:(R,B)=>{0===B&&R.createObjectStore(cn)}})),Mn}function pn(R,B){return dn.apply(this,arguments)}function dn(){return(dn=(0,C.Z)(function*(R,B){const oe=gt(R),Ct=(yield un()).transaction(cn,"readwrite"),Rt=Ct.objectStore(cn),sn=yield Rt.get(oe);return yield Rt.put(B,oe),yield Ct.done,(!sn||sn.fid!==B.fid)&&Ce(R,B.fid),B})).apply(this,arguments)}function ft(R){return V.apply(this,arguments)}function V(){return(V=(0,C.Z)(function*(R){const B=gt(R),He=(yield un()).transaction(cn,"readwrite");yield He.objectStore(cn).delete(B),yield He.done})).apply(this,arguments)}function X(R,B){return we.apply(this,arguments)}function we(){return(we=(0,C.Z)(function*(R,B){const oe=gt(R),Ct=(yield un()).transaction(cn,"readwrite"),Rt=Ct.objectStore(cn),sn=yield Rt.get(oe),_n=B(sn);return void 0===_n?yield Rt.delete(oe):yield Rt.put(_n,oe),yield Ct.done,_n&&(!sn||sn.fid!==_n.fid)&&Ce(R,_n.fid),_n})).apply(this,arguments)}function Oe(R){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,C.Z)(function*(R){let B;const oe=yield X(R.appConfig,He=>{const Ct=q(He),Rt=Be(R,Ct);return B=Rt.registrationPromise,Rt.installationEntry});return""===oe.fid?{installationEntry:yield B}:{installationEntry:oe,registrationPromise:B}})).apply(this,arguments)}function q(R){return jn(R||{fid:$e(),registrationStatus:0})}function Be(R,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(Ae.create("app-offline"))};const oe={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},He=function de(R,B){return Ke.apply(this,arguments)}(R,oe);return{installationEntry:oe,registrationPromise:He}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:Vt(R)}:{installationEntry:B}}function Ke(){return(Ke=(0,C.Z)(function*(R,B){try{const oe=yield wt(R,B);return pn(R.appConfig,oe)}catch(oe){throw Ft(oe)&&409===oe.customData.serverCode?yield ft(R.appConfig):yield pn(R.appConfig,{fid:B.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function Vt(R){return en.apply(this,arguments)}function en(){return(en=(0,C.Z)(function*(R){let B=yield ln(R.appConfig);for(;1===B.registrationStatus;)yield kt(100),B=yield ln(R.appConfig);if(0===B.registrationStatus){const{installationEntry:oe,registrationPromise:He}=yield Oe(R);return He||oe}return B})).apply(this,arguments)}function ln(R){return X(R,B=>{if(!B)throw Ae.create("installation-not-found");return jn(B)})}function jn(R){return function Ln(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function ni(R,B){return on.apply(this,arguments)}function on(){return(on=(0,C.Z)(function*({appConfig:R,heartbeatServiceProvider:B},oe){const He=Ci(R,oe),Ct=ee(R,oe),Rt=B.getImmediate({optional:!0});if(Rt){const Jn=yield Rt.getHeartbeatsHeader();Jn&&Ct.append("x-firebase-client",Jn)}const _n={method:"POST",headers:Ct,body:JSON.stringify({installation:{sdkVersion:De,appId:R.appId}})},Vn=yield Ge(()=>fetch(He,_n));if(Vn.ok)return pe(yield Vn.json());throw yield he("Generate Auth Token",Vn)})).apply(this,arguments)}function Ci(R,{fid:B}){return`${nt(R)}/${B}/authTokens:generate`}function ze(R){return $.apply(this,arguments)}function $(){return($=(0,C.Z)(function*(R,B=!1){let oe;const He=yield X(R.appConfig,Rt=>{if(!Wt(Rt))throw Ae.create("not-registered");const sn=Rt.authToken;if(!B&&Pn(sn))return Rt;if(1===sn.requestStatus)return oe=P(R,B),Rt;{if(!navigator.onLine)throw Ae.create("app-offline");const _n=oi(Rt);return oe=Te(R,_n),_n}});return oe?yield oe:He.authToken})).apply(this,arguments)}function P(R,B){return x.apply(this,arguments)}function x(){return(x=(0,C.Z)(function*(R,B){let oe=yield G(R.appConfig);for(;1===oe.authToken.requestStatus;)yield kt(100),oe=yield G(R.appConfig);const He=oe.authToken;return 0===He.requestStatus?ze(R,B):He})).apply(this,arguments)}function G(R){return X(R,B=>{if(!Wt(B))throw Ae.create("not-registered");return function vn(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function Te(R,B){return dt.apply(this,arguments)}function dt(){return(dt=(0,C.Z)(function*(R,B){try{const oe=yield ni(R,B),He=Object.assign(Object.assign({},B),{authToken:oe});return yield pn(R.appConfig,He),oe}catch(oe){if(!Ft(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const He=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield pn(R.appConfig,He)}else yield ft(R.appConfig);throw oe}})).apply(this,arguments)}function Wt(R){return void 0!==R&&2===R.registrationStatus}function Pn(R){return 2===R.requestStatus&&!function Nn(R){const B=Date.now();return B<R.creationTime||R.creationTime+R.expiresIn<B+36e5}(R)}function oi(R){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:B})}function Dt(){return(Dt=(0,C.Z)(function*(R){const B=R,{installationEntry:oe,registrationPromise:He}=yield Oe(B);return He?He.catch(console.error):ze(B).catch(console.error),oe.fid})).apply(this,arguments)}function Ve(){return(Ve=(0,C.Z)(function*(R,B=!1){const oe=R;return yield _t(oe),(yield ze(oe,B)).token})).apply(this,arguments)}function _t(R){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,C.Z)(function*(R){const{registrationPromise:B}=yield Oe(R);B&&(yield B)})).apply(this,arguments)}function Fn(R){return Ae.create("missing-app-config-values",{valueName:R})}const Hn="installations",Sn=R=>{const B=R.getProvider("app").getImmediate(),oe=function xn(R){if(!R||!R.options)throw Fn("App Configuration");if(!R.name)throw Fn("App Name");const B=["projectId","apiKey","appId"];for(const oe of B)if(!R.options[oe])throw Fn(oe);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(B);return{app:B,appConfig:oe,heartbeatServiceProvider:(0,ne._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},ai=R=>{const B=R.getProvider("app").getImmediate(),oe=(0,ne._getProvider)(B,Hn).getImmediate();return{getId:()=>function bi(R){return Dt.apply(this,arguments)}(oe),getToken:Ct=>function at(R){return Ve.apply(this,arguments)}(oe,Ct)}};(function Mi(){(0,ne._registerComponent)(new ve.wA(Hn,Sn,"PUBLIC")),(0,ne._registerComponent)(new ve.wA("installations-internal",ai,"PRIVATE"))})(),(0,ne.registerVersion)(le,se),(0,ne.registerVersion)(le,se,"esm2017");const Gi="@firebase/remote-config",Si=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bs{constructor(B,oe,He,Ct){this.client=B,this.storage=oe,this.storageCache=He,this.logger=Ct}isCachedDataFresh(B,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const He=Date.now()-oe,Ct=He<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${He}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${Ct}.`),Ct}fetch(B){var oe=this;return(0,C.Z)(function*(){const[He,Ct]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(Ct&&oe.isCachedDataFresh(B.cacheMaxAgeMillis,He))return Ct;B.eTag=Ct&&Ct.eTag;const Rt=yield oe.client.fetch(B),sn=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Rt.status&&sn.push(oe.storage.setLastSuccessfulFetchResponse(Rt)),yield Promise.all(sn),Rt})()}}function wo(R=navigator){return R.languages&&R.languages[0]||R.language}class er{constructor(B,oe,He,Ct,Rt,sn){this.firebaseInstallations=B,this.sdkVersion=oe,this.namespace=He,this.projectId=Ct,this.apiKey=Rt,this.appId=sn}fetch(B){var oe=this;return(0,C.Z)(function*(){var He,Ct,Rt;const[sn,_n]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),Jn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,ei={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},qn={sdk_version:oe.sdkVersion,app_instance_id:sn,app_instance_id_token:_n,app_id:oe.appId,language_code:wo()},lr={method:"POST",headers:ei,body:JSON.stringify(qn)},Us=fetch(Jn,lr),yo=new Promise((As,No)=>{B.signal.addEventListener(()=>{const ou=new Error("The operation was aborted.");ou.name="AbortError",No(ou)})});let Jo;try{yield Promise.race([Us,yo]),Jo=yield Us}catch(As){let No="fetch-client-network";throw"AbortError"===(null===(He=As)||void 0===He?void 0:He.name)&&(No="fetch-timeout"),Si.create(No,{originalErrorMessage:null===(Ct=As)||void 0===Ct?void 0:Ct.message})}let Ys=Jo.status;const vc=Jo.headers.get("ETag")||void 0;let vl,ea;if(200===Jo.status){let As;try{As=yield Jo.json()}catch(No){throw Si.create("fetch-client-parse",{originalErrorMessage:null===(Rt=No)||void 0===Rt?void 0:Rt.message})}vl=As.entries,ea=As.state}if("INSTANCE_STATE_UNSPECIFIED"===ea?Ys=500:"NO_CHANGE"===ea?Ys=304:("NO_TEMPLATE"===ea||"EMPTY_CONFIG"===ea)&&(vl={}),304!==Ys&&200!==Ys)throw Si.create("fetch-status",{httpStatus:Ys});return{status:Ys,eTag:vc,config:vl}})()}}class Do{constructor(B,oe){this.client=B,this.storage=oe}fetch(B){var oe=this;return(0,C.Z)(function*(){const He=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch(B,He)})()}attemptFetch(B,{throttleEndTimeMillis:oe,backoffCount:He}){var Ct=this;return(0,C.Z)(function*(){yield function zr(R,B){return new Promise((oe,He)=>{const Ct=Math.max(B-Date.now(),0),Rt=setTimeout(oe,Ct);R.addEventListener(()=>{clearTimeout(Rt),He(Si.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,oe);try{const Rt=yield Ct.client.fetch(B);return yield Ct.storage.deleteThrottleMetadata(),Rt}catch(Rt){if(!function es(R){if(!(R instanceof ge.ZR&&R.customData))return!1;const B=Number(R.customData.httpStatus);return 429===B||500===B||503===B||504===B}(Rt))throw Rt;const sn={throttleEndTimeMillis:Date.now()+(0,ge.$s)(He),backoffCount:He+1};return yield Ct.storage.setThrottleMetadata(sn),Ct.attemptFetch(B,sn)}})()}}class ts{constructor(B,oe,He,Ct,Rt){this.app=B,this._client=oe,this._storageCache=He,this._storage=Ct,this._logger=Rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ks(R,B){var oe;const He=R.target.error||void 0;return Si.create(B,{originalErrorMessage:He&&(null===(oe=He)||void 0===oe?void 0:oe.message)})}const ns="app_namespace_store";class po{constructor(B,oe,He,Ct=function fo(){return new Promise((R,B)=>{var oe;try{const He=indexedDB.open("firebase_remote_config",1);He.onerror=Ct=>{B(ks(Ct,"storage-open"))},He.onsuccess=Ct=>{R(Ct.target.result)},He.onupgradeneeded=Ct=>{0===Ct.oldVersion&&Ct.target.result.createObjectStore(ns,{keyPath:"compositeKey"})}}catch(He){B(Si.create("storage-open",{originalErrorMessage:null===(oe=He)||void 0===oe?void 0:oe.message}))}})}()){this.appId=B,this.appName=oe,this.namespace=He,this.openDbPromise=Ct}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var oe=this;return(0,C.Z)(function*(){const He=yield oe.openDbPromise;return new Promise((Ct,Rt)=>{var sn;const Vn=He.transaction([ns],"readonly").objectStore(ns),Jn=oe.createCompositeKey(B);try{const ei=Vn.get(Jn);ei.onerror=qn=>{Rt(ks(qn,"storage-get"))},ei.onsuccess=qn=>{const lr=qn.target.result;Ct(lr?lr.value:void 0)}}catch(ei){Rt(Si.create("storage-get",{originalErrorMessage:null===(sn=ei)||void 0===sn?void 0:sn.message}))}})})()}set(B,oe){var He=this;return(0,C.Z)(function*(){const Ct=yield He.openDbPromise;return new Promise((Rt,sn)=>{var _n;const Jn=Ct.transaction([ns],"readwrite").objectStore(ns),ei=He.createCompositeKey(B);try{const qn=Jn.put({compositeKey:ei,value:oe});qn.onerror=lr=>{sn(ks(lr,"storage-set"))},qn.onsuccess=()=>{Rt()}}catch(qn){sn(Si.create("storage-set",{originalErrorMessage:null===(_n=qn)||void 0===_n?void 0:_n.message}))}})})()}delete(B){var oe=this;return(0,C.Z)(function*(){const He=yield oe.openDbPromise;return new Promise((Ct,Rt)=>{var sn;const Vn=He.transaction([ns],"readwrite").objectStore(ns),Jn=oe.createCompositeKey(B);try{const ei=Vn.delete(Jn);ei.onerror=qn=>{Rt(ks(qn,"storage-delete"))},ei.onsuccess=()=>{Ct()}}catch(ei){Rt(Si.create("storage-delete",{originalErrorMessage:null===(sn=ei)||void 0===sn?void 0:sn.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class Ks{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,C.Z)(function*(){const oe=B.storage.getLastFetchStatus(),He=B.storage.getLastSuccessfulFetchTimestampMillis(),Ct=B.storage.getActiveConfig(),Rt=yield oe;Rt&&(B.lastFetchStatus=Rt);const sn=yield He;sn&&(B.lastSuccessfulFetchTimestampMillis=sn);const _n=yield Ct;_n&&(B.activeConfig=_n)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function Es(){return rs.apply(this,arguments)}function rs(){return(rs=(0,C.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(R){return!1}})).apply(this,arguments)}!function is(){(0,ne._registerComponent)(new ve.wA("remote-config",function R(B,{instanceIdentifier:oe}){const He=B.getProvider("app").getImmediate(),Ct=B.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Si.create("registration-window");if(!(0,ge.hl)())throw Si.create("indexed-db-unavailable");const{projectId:Rt,apiKey:sn,appId:_n}=He.options;if(!Rt)throw Si.create("registration-project-id");if(!sn)throw Si.create("registration-api-key");if(!_n)throw Si.create("registration-app-id");const Vn=new po(_n,He.name,oe=oe||"firebase"),Jn=new Ks(Vn),ei=new ke.Yd(Gi);ei.logLevel=ke.in.ERROR;const qn=new er(Ct,ne.SDK_VERSION,oe,Rt,sn,_n),lr=new Do(qn,Vn),Us=new bs(lr,Vn,Jn,ei),yo=new ts(He,Us,Jn,Vn,ei);return function hi(R){const B=(0,ge.m9)(R);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(yo),yo},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(Gi,"0.3.11"),(0,ne.registerVersion)(Gi,"0.3.11","esm2017")}();const Go="/firebase-messaging-sw.js",ar="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Br="google.c.a.c_id",Fs="google.c.a.c_l",$o="google.c.a.ts",ls="google.c.a.e";var Cs=(()=>{return(R=Cs||(Cs={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Cs;var R})();function fr(R){const B=new Uint8Array(R);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ws(R){const oe=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),He=atob(oe),Ct=new Uint8Array(He.length);for(let Rt=0;Rt<He.length;++Rt)Ct[Rt]=He.charCodeAt(Rt);return Ct}const Ri="fcm_token_details_db",wr="fcm_token_object_Store";function ki(R){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,C.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Rt=>Rt.name).includes(Ri))return null;let B=null;return(yield(0,ye.X3)(Ri,5,{upgrade:(He=(0,C.Z)(function*(Ct,Rt,sn,_n){var Vn;if(Rt<2||!Ct.objectStoreNames.contains(wr))return;const Jn=_n.objectStore(wr),ei=yield Jn.index("fcmSenderId").get(R);if(yield Jn.clear(),ei)if(2===Rt){const qn=ei;if(!qn.auth||!qn.p256dh||!qn.endpoint)return;B={token:qn.fcmToken,createTime:null!==(Vn=qn.createTime)&&void 0!==Vn?Vn:Date.now(),subscriptionOptions:{auth:qn.auth,p256dh:qn.p256dh,endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:"string"==typeof qn.vapidKey?qn.vapidKey:fr(qn.vapidKey)}}}else if(3===Rt){const qn=ei;B={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:fr(qn.auth),p256dh:fr(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:fr(qn.vapidKey)}}}else if(4===Rt){const qn=ei;B={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:fr(qn.auth),p256dh:fr(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:fr(qn.vapidKey)}}}}),function(Rt,sn,_n,Vn){return He.apply(this,arguments)})})).close(),yield(0,ye.Lj)(Ri),yield(0,ye.Lj)("fcm_vapid_details_db"),yield(0,ye.Lj)("undefined"),ss(B)?B:null;var He}),Kr.apply(this,arguments)}function ss(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:B}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const Zr="firebase-messaging-store";let us=null;function _i(){return us||(us=(0,ye.X3)("firebase-messaging-database",1,{upgrade:(R,B)=>{0===B&&R.createObjectStore(Zr)}})),us}function U(R){return re.apply(this,arguments)}function re(){return(re=(0,C.Z)(function*(R){const B=$t(R),He=yield(yield _i()).transaction(Zr).objectStore(Zr).get(B);if(He)return He;{const Ct=yield ki(R.appConfig.senderId);if(Ct)return yield F(R,Ct),Ct}})).apply(this,arguments)}function F(R,B){return ce.apply(this,arguments)}function ce(){return(ce=(0,C.Z)(function*(R,B){const oe=$t(R),Ct=(yield _i()).transaction(Zr,"readwrite");return yield Ct.objectStore(Zr).put(B,oe),yield Ct.done,B})).apply(this,arguments)}function Ze(R){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,C.Z)(function*(R){const B=$t(R),He=(yield _i()).transaction(Zr,"readwrite");yield He.objectStore(Zr).delete(B),yield He.done})).apply(this,arguments)}function $t({appConfig:R}){return R.appId}const $n=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mi(R,B){return li.apply(this,arguments)}function li(){return(li=(0,C.Z)(function*(R,B){var oe;const He=yield N(R),Ct=ae(B),Rt={method:"POST",headers:He,body:JSON.stringify(Ct)};let sn;try{sn=yield(yield fetch(H(R.appConfig),Rt)).json()}catch(_n){throw $n.create("token-subscribe-failed",{errorInfo:null===(oe=_n)||void 0===oe?void 0:oe.toString()})}if(sn.error)throw $n.create("token-subscribe-failed",{errorInfo:sn.error.message});if(!sn.token)throw $n.create("token-subscribe-no-token");return sn.token})).apply(this,arguments)}function fi(R,B){return qi.apply(this,arguments)}function qi(){return(qi=(0,C.Z)(function*(R,B){var oe;const He=yield N(R),Ct=ae(B.subscriptionOptions),Rt={method:"PATCH",headers:He,body:JSON.stringify(Ct)};let sn;try{sn=yield(yield fetch(`${H(R.appConfig)}/${B.token}`,Rt)).json()}catch(_n){throw $n.create("token-update-failed",{errorInfo:null===(oe=_n)||void 0===oe?void 0:oe.toString()})}if(sn.error)throw $n.create("token-update-failed",{errorInfo:sn.error.message});if(!sn.token)throw $n.create("token-update-no-token");return sn.token})).apply(this,arguments)}function wi(R,B){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,C.Z)(function*(R,B){var oe;const Ct={method:"DELETE",headers:yield N(R)};try{const sn=yield(yield fetch(`${H(R.appConfig)}/${B}`,Ct)).json();if(sn.error)throw $n.create("token-unsubscribe-failed",{errorInfo:sn.error.message})}catch(Rt){throw $n.create("token-unsubscribe-failed",{errorInfo:null===(oe=Rt)||void 0===oe?void 0:oe.toString()})}})).apply(this,arguments)}function H({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function N(R){return M.apply(this,arguments)}function M(){return(M=(0,C.Z)(function*({appConfig:R,installations:B}){const oe=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function ae({p256dh:R,auth:B,endpoint:oe,vapidKey:He}){const Ct={web:{endpoint:oe,auth:B,p256dh:R}};return He!==Wr&&(Ct.web.applicationPubKey=He),Ct}const Lt=6048e5;function Cn(R){return vi.apply(this,arguments)}function vi(){return(vi=(0,C.Z)(function*(R){const B=yield nr(R.swRegistration,R.vapidKey),oe={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:B.endpoint,auth:fr(B.getKey("auth")),p256dh:fr(B.getKey("p256dh"))},He=yield U(R.firebaseDependencies);if(He){if(go(He.subscriptionOptions,oe))return Date.now()>=He.createTime+Lt?ds(R,{token:He.token,createTime:Date.now(),subscriptionOptions:oe}):He.token;try{yield wi(R.firebaseDependencies,He.token)}catch(Ct){console.warn(Ct)}return yi(R.firebaseDependencies,oe)}return yi(R.firebaseDependencies,oe)})).apply(this,arguments)}function Vr(R){return mo.apply(this,arguments)}function mo(){return(mo=(0,C.Z)(function*(R){const B=yield U(R.firebaseDependencies);B&&(yield wi(R.firebaseDependencies,B.token),yield Ze(R.firebaseDependencies));const oe=yield R.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function ds(R,B){return nn.apply(this,arguments)}function nn(){return(nn=(0,C.Z)(function*(R,B){try{const oe=yield fi(R.firebaseDependencies,B),He=Object.assign(Object.assign({},B),{token:oe,createTime:Date.now()});return yield F(R.firebaseDependencies,He),oe}catch(oe){throw yield Vr(R),oe}})).apply(this,arguments)}function yi(R,B){return zo.apply(this,arguments)}function zo(){return(zo=(0,C.Z)(function*(R,B){const He={token:yield mi(R,B),createTime:Date.now(),subscriptionOptions:B};return yield F(R,He),He.token})).apply(this,arguments)}function nr(R,B){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,C.Z)(function*(R,B){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ws(B)})})).apply(this,arguments)}function go(R,B){return B.vapidKey===R.vapidKey&&B.endpoint===R.endpoint&&B.auth===R.auth&&B.p256dh===R.p256dh}function Is(R){const B={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function To(R,B){if(!B.notification)return;R.notification={};const oe=B.notification.title;oe&&(R.notification.title=oe);const He=B.notification.body;He&&(R.notification.body=He);const Ct=B.notification.image;Ct&&(R.notification.image=Ct)}(B,R),function Da(R,B){!B.data||(R.data=B.data)}(B,R),function cl(R,B){var oe,He,Ct,Rt,sn;if(!B.fcmOptions&&!(null===(oe=B.notification)||void 0===oe?void 0:oe.click_action))return;R.fcmOptions={};const _n=null!==(Ct=null===(He=B.fcmOptions)||void 0===He?void 0:He.link)&&void 0!==Ct?Ct:null===(Rt=B.notification)||void 0===Rt?void 0:Rt.click_action;_n&&(R.fcmOptions.link=_n);const Vn=null===(sn=B.fcmOptions)||void 0===sn?void 0:sn.analytics_label;Vn&&(R.fcmOptions.analyticsLabel=Vn)}(B,R),B}function sa(R){return"object"==typeof R&&!!R&&Br in R}function to(R,B){const oe=[];for(let He=0;He<R.length;He++)oe.push(R.charAt(He)),He<B.length&&oe.push(B.charAt(He));return oe.join("")}function pr(R){return $n.create("missing-app-config-values",{valueName:R})}to("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),to("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ls{constructor(B,oe,He){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ct=function no(R){if(!R||!R.options)throw pr("App Configuration Object");if(!R.name)throw pr("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=R;for(const He of B)if(!oe[He])throw pr(He);return{appName:R.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:Ct,installations:oe,analyticsProvider:He}}_delete(){return Promise.resolve()}}function Ko(R){return J.apply(this,arguments)}function J(){return(J=(0,C.Z)(function*(R){var B;try{R.swRegistration=yield navigator.serviceWorker.register(Go,{scope:ar}),R.swRegistration.update().catch(()=>{})}catch(oe){throw $n.create("failed-service-worker-registration",{browserErrorMessage:null===(B=oe)||void 0===B?void 0:B.message})}})).apply(this,arguments)}function y(R,B){return E.apply(this,arguments)}function E(){return(E=(0,C.Z)(function*(R,B){if(!B&&!R.swRegistration&&(yield Ko(R)),B||!R.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");R.swRegistration=B}})).apply(this,arguments)}function k(R,B){return te.apply(this,arguments)}function te(){return(te=(0,C.Z)(function*(R,B){B?R.vapidKey=B:R.vapidKey||(R.vapidKey=Wr)})).apply(this,arguments)}function Qe(){return(Qe=(0,C.Z)(function*(R,B){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield k(R,null==B?void 0:B.vapidKey),yield y(R,null==B?void 0:B.serviceWorkerRegistration),Cn(R)})).apply(this,arguments)}function tt(R,B,oe){return St.apply(this,arguments)}function St(){return(St=(0,C.Z)(function*(R,B,oe){const He=zt(B);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(He,{message_id:oe[Br],message_name:oe[Fs],message_time:oe[$o],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zt(R){switch(R){case Cs.NOTIFICATION_CLICKED:return"notification_open";case Cs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function On(){return(On=(0,C.Z)(function*(R,B){const oe=B.data;if(!oe.isFirebaseMessaging)return;R.onMessageHandler&&oe.messageType===Cs.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Is(oe)):R.onMessageHandler.next(Is(oe)));const He=oe.data;sa(He)&&"1"===He[ls]&&(yield tt(R,oe.messageType,He))})).apply(this,arguments)}const zn="@firebase/messaging",kn=R=>{const B=new Ls(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function wn(R,B){return On.apply(this,arguments)}(B,oe)),B},Zn=R=>{const B=R.getProvider("messaging").getImmediate();return{getToken:He=>function Ie(R,B){return Qe.apply(this,arguments)}(B,He)}};function tr(){return ir.apply(this,arguments)}function ir(){return(ir=(0,C.Z)(function*(){try{yield(0,ge.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pi(){(0,ne._registerComponent)(new ve.wA("messaging",kn,"PUBLIC")),(0,ne._registerComponent)(new ve.wA("messaging-internal",Zn,"PRIVATE")),(0,ne.registerVersion)(zn,"0.9.16"),(0,ne.registerVersion)(zn,"0.9.16","esm2017")}();const Bs="analytics",Mo="firebase_id",hs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tn="https://www.googletagmanager.com/gtag/js",En=new ke.Yd("@firebase/analytics");function Kn(R){return Promise.all(R.map(B=>B.catch(oe=>oe)))}function ui(R,B){const oe=document.createElement("script");oe.src=`${Tn}?l=${R}&id=${B}`,oe.async=!0,document.head.appendChild(oe)}function Ts(R,B,oe,He,Ct,Rt){return rr.apply(this,arguments)}function rr(){return(rr=(0,C.Z)(function*(R,B,oe,He,Ct,Rt){const sn=He[Ct];try{if(sn)yield B[sn];else{const Vn=(yield Kn(oe)).find(Jn=>Jn.measurementId===Ct);Vn&&(yield B[Vn.appId])}}catch(_n){En.error(_n)}R("config",Ct,Rt)})).apply(this,arguments)}function os(R,B,oe,He,Ct){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,C.Z)(function*(R,B,oe,He,Ct){try{let Rt=[];if(Ct&&Ct.send_to){let sn=Ct.send_to;Array.isArray(sn)||(sn=[sn]);const _n=yield Kn(oe);for(const Vn of sn){const Jn=_n.find(qn=>qn.measurementId===Vn),ei=Jn&&B[Jn.appId];if(!ei){Rt=[];break}Rt.push(ei)}}0===Rt.length&&(Rt=Object.values(B)),yield Promise.all(Rt),R("event",He,Ct||{})}catch(Rt){En.error(Rt)}})).apply(this,arguments)}function Qr(){const R=window.document.getElementsByTagName("script");for(const B of Object.values(R))if(B.src&&B.src.includes(Tn))return B;return null}const Ki=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ul=new class Vs{constructor(B={},oe=1e3){this.throttleMetadata=B,this.intervalMillis=oe}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,oe){this.throttleMetadata[B]=oe}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function Ha(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function so(R){return dl.apply(this,arguments)}function dl(){return(dl=(0,C.Z)(function*(R){var B;const{appId:oe,apiKey:He}=R,Ct={method:"GET",headers:Ha(He)},Rt=hs.replace("{app-id}",oe),sn=yield fetch(Rt,Ct);if(200!==sn.status&&304!==sn.status){let _n="";try{const Vn=yield sn.json();(null===(B=Vn.error)||void 0===B?void 0:B.message)&&(_n=Vn.error.message)}catch(Vn){}throw Ki.create("config-fetch-failed",{httpStatus:sn.status,responseMessage:_n})}return sn.json()})).apply(this,arguments)}function Xi(R){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,C.Z)(function*(R,B=ul,oe){const{appId:He,apiKey:Ct,measurementId:Rt}=R.options;if(!He)throw Ki.create("no-app-id");if(!Ct){if(Rt)return{measurementId:Rt,appId:He};throw Ki.create("no-api-key")}const sn=B.getThrottleMetadata(He)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_n=new j;return setTimeout((0,C.Z)(function*(){_n.abort()}),void 0!==oe?oe:6e4),oa({appId:He,apiKey:Ct,measurementId:Rt},sn,_n,B)})).apply(this,arguments)}function oa(R,B,oe){return A.apply(this,arguments)}function A(){return(A=(0,C.Z)(function*(R,{throttleEndTimeMillis:B,backoffCount:oe},He,Ct=ul){var Rt,sn;const{appId:_n,measurementId:Vn}=R;try{yield I(He,B)}catch(Jn){if(Vn)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vn} provided in the "measurementId" field in the local Firebase config. [${null===(Rt=Jn)||void 0===Rt?void 0:Rt.message}]`),{appId:_n,measurementId:Vn};throw Jn}try{const Jn=yield so(R);return Ct.deleteThrottleMetadata(_n),Jn}catch(Jn){const ei=Jn;if(!w(ei)){if(Ct.deleteThrottleMetadata(_n),Vn)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vn} provided in the "measurementId" field in the local Firebase config. [${null==ei?void 0:ei.message}]`),{appId:_n,measurementId:Vn};throw Jn}const qn=503===Number(null===(sn=null==ei?void 0:ei.customData)||void 0===sn?void 0:sn.httpStatus)?(0,ge.$s)(oe,Ct.intervalMillis,30):(0,ge.$s)(oe,Ct.intervalMillis),lr={throttleEndTimeMillis:Date.now()+qn,backoffCount:oe+1};return Ct.setThrottleMetadata(_n,lr),En.debug(`Calling attemptFetch again in ${qn} millis`),oa(R,lr,He,Ct)}})).apply(this,arguments)}function I(R,B){return new Promise((oe,He)=>{const Ct=Math.max(B-Date.now(),0),Rt=setTimeout(oe,Ct);R.addEventListener(()=>{clearTimeout(Rt),He(Ki.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}function w(R){if(!(R instanceof ge.ZR&&R.customData))return!1;const B=Number(R.customData.httpStatus);return 429===B||500===B||503===B||504===B}class j{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}let W,Ji;function Fe(){return(Fe=(0,C.Z)(function*(R,B,oe,He,Ct){if(Ct&&Ct.global)R("event",oe,He);else{const Rt=yield B;R("event",oe,Object.assign(Object.assign({},He),{send_to:Rt}))}})).apply(this,arguments)}function ma(R){Ji=R}function ga(R){W=R}function xo(){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,C.Z)(function*(){var R;if(!(0,ge.hl)())return En.warn(Ki.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(B){return En.warn(Ki.create("indexeddb-unavailable",{errorInfo:null===(R=B)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function Fl(){return(Fl=(0,C.Z)(function*(R,B,oe,He,Ct,Rt,sn){var _n;const Vn=Xi(R);Vn.then(Us=>{oe[Us.measurementId]=Us.appId,R.options.measurementId&&Us.measurementId!==R.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Us.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Us=>En.error(Us)),B.push(Vn);const Jn=xo().then(Us=>{if(Us)return He.getId()}),[ei,qn]=yield Promise.all([Vn,Jn]);Qr()||ui(Rt,ei.measurementId),Ji&&(Ct("consent","default",Ji),ma(void 0)),Ct("js",new Date);const lr=null!==(_n=null==sn?void 0:sn.config)&&void 0!==_n?_n:{};return lr.origin="firebase",lr.update=!0,null!=qn&&(lr[Mo]=qn),Ct("config",ei.measurementId,lr),W&&(Ct("set",W),ga(void 0)),ei.measurementId})).apply(this,arguments)}class Sa{constructor(B){this.app=B}_delete(){return delete Yo[this.app.options.appId],Promise.resolve()}}let Yo={},hl=[];const Ll={};let _o,Ro,Oo="dataLayer",Zi=!1;function ji(R,B,oe){!function Bl(){const R=[];if((0,ge.ru)()&&R.push("This is a browser extension environment."),(0,ge.zI)()||R.push("Cookies are not available."),R.length>0){const B=R.map((He,Ct)=>`(${Ct+1}) ${He}`).join(" "),oe=Ki.create("invalid-analytics-context",{errorInfo:B});En.warn(oe.message)}}();const He=R.options.appId;if(!He)throw Ki.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Ki.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yo[He])throw Ki.create("already-exists",{id:He});if(!Zi){!function Ui(R){let B=[];Array.isArray(window[R])?B=window[R]:window[R]=B}(Oo);const{wrappedGtag:Rt,gtagCore:sn}=function fs(R,B,oe,He,Ct){let Rt=function(...sn){window[He].push(arguments)};return window[Ct]&&"function"==typeof window[Ct]&&(Rt=window[Ct]),window[Ct]=function Zo(R,B,oe,He){function Rt(){return(Rt=(0,C.Z)(function*(sn,_n,Vn){try{"event"===sn?yield os(R,B,oe,_n,Vn):"config"===sn?yield Ts(R,B,oe,He,_n,Vn):"consent"===sn?R("consent","update",Vn):R("set",_n)}catch(Jn){En.error(Jn)}})).apply(this,arguments)}return function Ct(sn,_n,Vn){return Rt.apply(this,arguments)}}(Rt,R,B,oe),{gtagCore:Rt,wrappedGtag:window[Ct]}}(Yo,hl,Ll,Oo,"gtag");Ro=Rt,_o=sn,Zi=!0}return Yo[He]=function Ta(R,B,oe,He,Ct,Rt,sn){return Fl.apply(this,arguments)}(R,hl,Ll,B,_o,Oo,oe),new Sa(R)}function bn(){return fl.apply(this,arguments)}function fl(){return(fl=(0,C.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(R){return!1}})).apply(this,arguments)}const ml="@firebase/analytics";!function ru(){(0,ne._registerComponent)(new ve.wA(Bs,(B,{options:oe})=>ji(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,ne._registerComponent)(new ve.wA("analytics-internal",function R(B){try{const oe=B.getProvider(Bs).getImmediate();return{logEvent:(He,Ct,Rt)=>function Ul(R,B,oe,He){R=(0,ge.m9)(R),function Y(R,B,oe,He,Ct){return Fe.apply(this,arguments)}(Ro,Yo[R.app.options.appId],B,oe,He).catch(Ct=>En.error(Ct))}(oe,He,Ct,Rt)}}catch(oe){throw Ki.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,ne.registerVersion)(ml,"0.8.0"),(0,ne.registerVersion)(ml,"0.8.0","esm2017")}();var jl=b(4408),Xr=b(7565);const Ot=new class Ma extends Xr.v{}(class oo extends jl.o{constructor(B,oe){super(B,oe),this.scheduler=B,this.work=oe}schedule(B,oe=0){return oe>0?super.schedule(B,oe):(this.delay=oe,this.state=B,this.scheduler.flush(this),this)}execute(B,oe){return oe>0||this.closed?super.execute(B,oe):this._execute(B,oe)}requestAsyncId(B,oe,He=0){return null!=He&&He>0||null==He&&this.delay>0?super.requestAsyncId(B,oe,He):B.flush(this)}});var Zs=b(4986),gl=b(8505),ko=b(9468),aa=b(5363);const ah=new h.GfV("7.4.1"),qo="__angularfire_symbol__analyticsIsSupportedValue",Ms="__angularfire_symbol__analyticsIsSupported",la="__angularfire_symbol__remoteConfigIsSupportedValue",ca="__angularfire_symbol__remoteConfigIsSupported",su="__angularfire_symbol__messagingIsSupportedValue",ps="__angularfire_symbol__messagingIsSupported";function za(R,B,oe){if(B){if(1===B.length)return B[0];const Rt=B.filter(sn=>sn.app===oe);if(1===Rt.length)return Rt[0]}return oe.container.getProvider(R).getImmediate({optional:!0})}globalThis[Ms]||(globalThis[Ms]=bn().then(R=>globalThis[qo]=R).catch(()=>globalThis[qo]=!1)),globalThis[ps]||(globalThis[ps]=tr().then(R=>globalThis[su]=R).catch(()=>globalThis[su]=!1)),globalThis[ca]||(globalThis[ca]=Es().then(R=>globalThis[la]=R).catch(()=>globalThis[la]=!1));const Hr=(R,B)=>{const oe=B?[B]:(0,g.C6)(),He=[];return oe.forEach(Ct=>{Ct.container.getProvider(R).instances.forEach(sn=>{He.includes(sn)||He.push(sn)})}),He};function Fi(){}class Qo{constructor(B,oe=Ot){this.zone=B,this.delegate=oe}now(){return this.delegate.now()}schedule(B,oe,He){const Ct=this.zone;return this.delegate.schedule(function(sn){Ct.runGuarded(()=>{B.apply(this,[sn])})},oe,He)}}class _l{constructor(B){this.zone=B,this.task=null}call(B,oe){const He=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fi,{},Fi,Fi)),oe.pipe((0,gl.b)({next:He,complete:He,error:He})).subscribe(B).add(He)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ms=(()=>{class R{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new Qo(Zone.current)),this.insideAngular=oe.run(()=>new Qo(Zone.current,Zs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(oe){return new(oe||R)(h.LFG(h.R0b))},R.\u0275prov=h.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Po(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Xo(R){return Po(),function Hl(R){return function(oe){return(oe=oe.lift(new _l(R.ngZone))).pipe((0,ko.R)(R.outsideAngular),(0,aa.Q)(R.insideAngular))}}(Po())(R)}},2090:(Yt,Ye,b)=>{b.d(Ye,{BH:()=>We,LL:()=>yt,ZR:()=>wt,zI:()=>be,US:()=>ve,tV:()=>le,L:()=>ye,$s:()=>Ln,r3:()=>Bt,Sg:()=>Re,ne:()=>un,vZ:()=>Me,ZB:()=>fe,pd:()=>cn,m9:()=>Ci,z$:()=>je,jU:()=>rt,ru:()=>Ae,d:()=>nt,xb:()=>pt,w1:()=>pe,hl:()=>ee,uI:()=>lt,UG:()=>Ue,b$:()=>Ft,G6:()=>Ee,Mn:()=>he,xO:()=>Et,zd:()=>Jt,eu:()=>Ge});const ne=function(ze){const $=[];let P=0;for(let x=0;x<ze.length;x++){let G=ze.charCodeAt(x);G<128?$[P++]=G:G<2048?($[P++]=G>>6|192,$[P++]=63&G|128):55296==(64512&G)&&x+1<ze.length&&56320==(64512&ze.charCodeAt(x+1))?(G=65536+((1023&G)<<10)+(1023&ze.charCodeAt(++x)),$[P++]=G>>18|240,$[P++]=G>>12&63|128,$[P++]=G>>6&63|128,$[P++]=63&G|128):($[P++]=G>>12|224,$[P++]=G>>6&63|128,$[P++]=63&G|128)}return $},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ze,$){if(!Array.isArray(ze))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let G=0;G<ze.length;G+=3){const Te=ze[G],dt=G+1<ze.length,Wt=dt?ze[G+1]:0,Pn=G+2<ze.length,Nn=Pn?ze[G+2]:0;let bi=(15&Wt)<<2|Nn>>6,Dt=63&Nn;Pn||(Dt=64,dt||(bi=64)),x.push(P[Te>>2],P[(3&Te)<<4|Wt>>4],P[bi],P[Dt])}return x.join("")},encodeString(ze,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(ze):this.encodeByteArray(ne(ze),$)},decodeString(ze,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(ze):function(ze){const $=[];let P=0,x=0;for(;P<ze.length;){const G=ze[P++];if(G<128)$[x++]=String.fromCharCode(G);else if(G>191&&G<224){const Te=ze[P++];$[x++]=String.fromCharCode((31&G)<<6|63&Te)}else if(G>239&&G<365){const Pn=((7&G)<<18|(63&ze[P++])<<12|(63&ze[P++])<<6|63&ze[P++])-65536;$[x++]=String.fromCharCode(55296+(Pn>>10)),$[x++]=String.fromCharCode(56320+(1023&Pn))}else{const Te=ze[P++],dt=ze[P++];$[x++]=String.fromCharCode((15&G)<<12|(63&Te)<<6|63&dt)}}return $.join("")}(this.decodeStringToByteArray(ze,$))},decodeStringToByteArray(ze,$){this.init_();const P=$?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let G=0;G<ze.length;){const Te=P[ze.charAt(G++)],Wt=G<ze.length?P[ze.charAt(G)]:0;++G;const Nn=G<ze.length?P[ze.charAt(G)]:64;++G;const vn=G<ze.length?P[ze.charAt(G)]:64;if(++G,null==Te||null==Wt||null==Nn||null==vn)throw Error();x.push(Te<<2|Wt>>4),64!==Nn&&(x.push(Wt<<4&240|Nn>>2),64!==vn&&x.push(Nn<<6&192|vn))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ze=0;ze<this.ENCODED_VALS.length;ze++)this.byteToCharMap_[ze]=this.ENCODED_VALS.charAt(ze),this.charToByteMap_[this.byteToCharMap_[ze]]=ze,this.byteToCharMapWebSafe_[ze]=this.ENCODED_VALS_WEBSAFE.charAt(ze),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ze]]=ze,ze>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ze)]=ze,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ze)]=ze)}}},ye=function(ze){return function(ze){const $=ne(ze);return ve.encodeByteArray($,!0)}(ze).replace(/\./g,"")},le=function(ze){try{return ve.decodeString(ze,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function fe(ze,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===ze&&(ze={});break;case Array:ze=[];break;default:return $}for(const P in $)!$.hasOwnProperty(P)||!De(P)||(ze[P]=fe(ze[P],$[P]));return ze}function De(ze){return"__proto__"!==ze}class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,P)=>{this.resolve=$,this.reject=P})}wrapCallback($){return(P,x)=>{P?this.reject(P):this.resolve(x),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(P):$(P,x))}}}function Re(ze,$){if(ze.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=$||"demo-project",G=ze.iat||0,Te=ze.sub||ze.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dt=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:G,exp:G+3600,auth_time:G,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},ze);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(dt)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Ue(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ze){return!1}}function rt(){return"object"==typeof self&&self.self===self}function Ae(){const ze="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ze&&void 0!==ze.id}function Ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nt(){return je().indexOf("Electron/")>=0}function pe(){const ze=je();return ze.indexOf("MSIE ")>=0||ze.indexOf("Trident/")>=0}function he(){return je().indexOf("MSAppHost/")>=0}function Ee(){return!Ue()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ee(){return"object"==typeof indexedDB}function Ge(){return new Promise((ze,$)=>{try{let P=!0;const x="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(x);G.onsuccess=()=>{G.result.close(),P||self.indexedDB.deleteDatabase(x),ze(!0)},G.onupgradeneeded=()=>{P=!1},G.onerror=()=>{var Te;$((null===(Te=G.error)||void 0===Te?void 0:Te.message)||"")}}catch(P){$(P)}})}function be(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class wt extends Error{constructor($,P,x){super(P),this.code=$,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}}class yt{constructor($,P,x){this.service=$,this.serviceName=P,this.errors=x}create($,...P){const x=P[0]||{},G=`${this.service}/${$}`,Te=this.errors[$],dt=Te?function kt(ze,$){return ze.replace(At,(P,x)=>{const G=$[x];return null!=G?String(G):`<${x}?>`})}(Te,x):"Error";return new wt(G,`${this.serviceName}: ${dt} (${G}).`,x)}}const At=/\{\$([^}]+)}/g;function Bt(ze,$){return Object.prototype.hasOwnProperty.call(ze,$)}function pt(ze){for(const $ in ze)if(Object.prototype.hasOwnProperty.call(ze,$))return!1;return!0}function Me(ze,$){if(ze===$)return!0;const P=Object.keys(ze),x=Object.keys($);for(const G of P){if(!x.includes(G))return!1;const Te=ze[G],dt=$[G];if(vt(Te)&&vt(dt)){if(!Me(Te,dt))return!1}else if(Te!==dt)return!1}for(const G of x)if(!P.includes(G))return!1;return!0}function vt(ze){return null!==ze&&"object"==typeof ze}function Et(ze){const $=[];for(const[P,x]of Object.entries(ze))Array.isArray(x)?x.forEach(G=>{$.push(encodeURIComponent(P)+"="+encodeURIComponent(G))}):$.push(encodeURIComponent(P)+"="+encodeURIComponent(x));return $.length?"&"+$.join("&"):""}function Jt(ze){const $={};return ze.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[G,Te]=x.split("=");$[decodeURIComponent(G)]=decodeURIComponent(Te)}}),$}function cn(ze){const $=ze.indexOf("?");if(!$)return"";const P=ze.indexOf("#",$);return ze.substring($,P>0?P:void 0)}function un(ze,$){const P=new pn(ze,$);return P.subscribe.bind(P)}class pn{constructor($,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{$(this)}).catch(x=>{this.error(x)})}next($){this.forEachObserver(P=>{P.next($)})}error($){this.forEachObserver(P=>{P.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,P,x){let G;if(void 0===$&&void 0===P&&void 0===x)throw new Error("Missing Observer.");G=function ft(ze,$){if("object"!=typeof ze||null===ze)return!1;for(const P of $)if(P in ze&&"function"==typeof ze[P])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:P,complete:x},void 0===G.next&&(G.next=V),void 0===G.error&&(G.error=V),void 0===G.complete&&(G.complete=V);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch(dt){}}),this.observers.push(G),Te}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,$)}sendOne($,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{P(this.observers[$])}catch(x){"undefined"!=typeof console&&console.error&&console.error(x)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V(){}function Ln(ze,$=1e3,P=2){const x=$*Math.pow(P,ze),G=Math.round(.5*x*(Math.random()-.5)*2);return Math.min(144e5,x+G)}function Ci(ze){return ze&&ze._delegate?ze._delegate:ze}},7018:(Yt,Ye,b)=>{b.d(Ye,{M:()=>h});var h=(()=>{return(g=h||(h={})).PAINTINGS="cuadros",g.BOX_TYPES="tipo_cuadro",g.MENU="menu",g.MEASURES="medidas",h;var g})()},5651:(Yt,Ye,b)=>{b.d(Ye,{W:()=>ge});var h=b(1135),g=b(7018),C=b(5e3),ne=b(7985);let ge=(()=>{class ve{constructor(ye){this.db=ye,this.measures$=new h.X(null)}loadMeasures(){this.db.collection(g.M.MEASURES).valueChanges({idField:"id"}).subscribe(ye=>this.measures$.next(ye))}}return ve.\u0275fac=function(ye){return new(ye||ve)(C.LFG(ne.ST))},ve.\u0275prov=C.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},4872:(Yt,Ye,b)=>{b.d(Ye,{q:()=>je});var h=b(4889),g=b(4594),C=b(8099),ne=b(7423),ge=b(9224),ve=b(4107),ke=b(508),ye=b(6498),le=b(4623),se=b(6688),fe=b(4834),De=b(149),We=b(8966),Re=b(5e3);let je=(()=>{class lt{}return lt.\u0275fac=function(rt){return new(rt||lt)},lt.\u0275mod=Re.oAB({type:lt}),lt.\u0275inj=Re.cJS({providers:[{provide:ye.xM,useValue:{panelClass:"bottom-sheet-custom-container",hasBackdrop:!0}}],imports:[ve.LD,De.dp,h.SJ,g.g0,C.Ps,ne.ot,ge.QW,ke.si,ye._r,le.ie,se.Hi,fe.t,We.Is]}),lt})()},2278:(Yt,Ye,b)=>{var h=b(2313),g=b(5e3),C=b(5861),ne=b(1402);const ge=[{path:"",loadChildren:(ct=(0,C.Z)(function*(){return(yield Promise.all([b.e(592),b.e(510)]).then(b.bind(b,6510))).DashboardModule}),function(){return ct.apply(this,arguments)})},{path:"cuadros",loadChildren:function(){var ct=(0,C.Z)(function*(){return(yield Promise.all([b.e(592),b.e(339)]).then(b.bind(b,3339))).PaintingModule});return function(){return ct.apply(this,arguments)}}()},{path:"**",redirectTo:""}];var ct;let ve=(()=>{class ct{}return ct.\u0275fac=function($e){return new($e||ct)},ct.\u0275mod=g.oAB({type:ct}),ct.\u0275inj=g.cJS({imports:[[ne.Bz.forRoot(ge)],ne.Bz]}),ct})();var ke=b(1777);const ye=(0,ke.X$)("routeAnimations",[(0,ke.eR)("* <=> *",[(0,ke.IO)(":leave",(0,ke.oB)({position:"absolute",left:0,right:0,transform:"translate3d(0%,0,0)",overflow:"hidden"}),{optional:!0}),(0,ke.IO)(":enter",(0,ke.oB)({position:"absolute",left:"15px",right:"15px",transform:"translate3d(-100%,0,0)",overflow:"hidden"}),{optional:!0}),(0,ke.ru)([(0,ke.IO)(":leave",(0,ke.ru)([(0,ke.jt)("0s ease-in-out",(0,ke.oB)({transform:"translate3d(100%,0,0)"}))]),{optional:!0}),(0,ke.IO)(":enter",(0,ke.ru)([(0,ke.jt)("300ms ease-in-out",(0,ke.oB)({transform:"translate3d(0%,0,0)"}))]),{optional:!0})])])]);var le=b(5651),se=b(4889),fe=b(2379),De=b(149),We=b(7579),Re=b(2722),je=b(7018),lt=b(7985);let Ue=(()=>{class ct{constructor($e){this.db=$e}getMenu(){return this.db.collection(je.M.MENU).valueChanges({idField:"id"})}}return ct.\u0275fac=function($e){return new($e||ct)(g.LFG(lt.ST))},ct.\u0275prov=g.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})();var rt=b(9808);function Ae(ct,Xe){if(1&ct){const $e=g.EpF();g.TgZ(0,"mat-tree-node",4),g.NdJ("click",function(){const Q=g.CHM($e).$implicit;return g.oxw(2).navigate(Q)}),g._uU(1),g.qZA()}if(2&ct){const $e=Xe.$implicit;g.xp6(1),g.hij(" ",$e.nombre," ")}}function Ft(ct,Xe){if(1&ct&&(g.TgZ(0,"mat-tree-node",5),g._uU(1),g.qZA()),2&ct){const $e=Xe.$implicit;g.xp6(1),g.hij(" ",$e.nombre," ")}}function nt(ct,Xe){if(1&ct&&(g.ynx(0),g.TgZ(1,"mat-tree",1),g.YNc(2,Ae,2,1,"mat-tree-node",2),g.YNc(3,Ft,2,1,"mat-tree-node",3),g.qZA(),g.BQk()),2&ct){const $e=g.oxw();g.xp6(1),g.Q6J("dataSource",$e.menu)("treeControl",$e.treeControl),g.xp6(2),g.Q6J("matTreeNodeDefWhen",$e.hasChild)}}let pe=(()=>{class ct{constructor($e,et){this.router=$e,this.menuService=et,this._transformer=(gt,Q)=>Object.assign({expandable:!!gt.children&&gt.children.length>0,level:Q},gt),this.treeControl=new fe.C2(gt=>gt.level,gt=>gt.expandable),this.treeFlattener=new De.JZ(this._transformer,gt=>gt.level,gt=>gt.expandable,gt=>gt.children),this.hasChild=(gt,Q)=>Q.expandable,this.menu=new De.kc(this.treeControl,this.treeFlattener),this.onDestroy$=new We.x}ngOnInit(){this.menuService.getMenu().pipe((0,Re.R)(this.onDestroy$)).subscribe($e=>{this.menu.data=$e,this.tree.treeControl.expandAll()})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}navigate($e){this.router.navigate([$e.basePath,$e.id])}}return ct.\u0275fac=function($e){return new($e||ct)(g.Y36(ne.F0),g.Y36(Ue))},ct.\u0275cmp=g.Xpm({type:ct,selectors:[["app-menu"]],viewQuery:function($e,et){if(1&$e&&g.Gf(De.gi,5),2&$e){let gt;g.iGM(gt=g.CRH())&&(et.tree=gt.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[1,"tree",3,"dataSource","treeControl"],["class","child","matTreeNodePadding","",3,"click",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"child",3,"click"],["matTreeNodePadding",""]],template:function($e,et){1&$e&&g.YNc(0,nt,4,3,"ng-container",0),2&$e&&g.Q6J("ngIf",et.menu.data)},directives:[rt.O5,De.gi,De.fQ,De.uo,De.ah],styles:[".tree[_ngcontent-%COMP%]{padding:24px}.tree[_ngcontent-%COMP%]   .mat-tree-node.child[_ngcontent-%COMP%]:hover{background:#eeeeee;cursor:pointer}"]}),ct})();var he=b(4594),xe=b(7423),Ee=b(8099);let ee=(()=>{class ct{constructor($e){this.router=$e,this.onDrawerToggle=new g.vpe}ngOnInit(){}goToHome(){this.router.navigate([""])}}return ct.\u0275fac=function($e){return new($e||ct)(g.Y36(ne.F0))},ct.\u0275cmp=g.Xpm({type:ct,selectors:[["app-header"]],outputs:{onDrawerToggle:"onDrawerToggle"},decls:6,vars:0,consts:[["mat-icon-button","",3,"click"],[1,"clickable",3,"click"]],template:function($e,et){1&$e&&(g.TgZ(0,"button",0),g.NdJ("click",function(){return et.onDrawerToggle.emit()}),g.TgZ(1,"mat-icon"),g._uU(2,"menu"),g.qZA()(),g.TgZ(3,"div",1),g.NdJ("click",function(){return et.goToHome()}),g.TgZ(4,"span"),g._uU(5,"Fly cuadros"),g.qZA()())},directives:[xe.lW,Ee.Hw],styles:["[_nghost-%COMP%]{display:flex;gap:16px}.clickable[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}"]}),ct})(),Ge=(()=>{class ct{constructor($e,et){this.contexts=$e,this.measuresService=et}ngOnInit(){this.measuresService.loadMeasures()}getRouteAnimationData(){var $e,et,gt,Q;return null===(Q=null===(gt=null===(et=null===($e=this.contexts.getContext("primary"))||void 0===$e?void 0:$e.route)||void 0===et?void 0:et.snapshot)||void 0===gt?void 0:gt.data)||void 0===Q?void 0:Q.animation}}return ct.\u0275fac=function($e){return new($e||ct)(g.Y36(ne.y6),g.Y36(le.W))},ct.\u0275cmp=g.Xpm({type:ct,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"full-height"],["mode","side",2,"width","300px"],["drawer",""],[3,"onDrawerToggle"],[1,"container"]],template:function($e,et){if(1&$e){const gt=g.EpF();g.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),g._UZ(3,"app-menu"),g.qZA(),g.TgZ(4,"mat-drawer-content")(5,"mat-toolbar")(6,"app-header",3),g.NdJ("onDrawerToggle",function(){return g.CHM(gt),g.MAs(2).toggle()}),g.qZA()(),g.TgZ(7,"main",4),g._UZ(8,"router-outlet"),g.qZA()()()}2&$e&&(g.xp6(7),g.Q6J("@routeAnimations",et.getRouteAnimationData()))},directives:[se.kh,se.jA,pe,se.LW,he.Ye,ee,ne.lC],styles:[".container[_ngcontent-%COMP%]{padding:15px}@media (max-width: 800px){.container[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}"],data:{animation:[ye]}}),ct})();var be=b(6360),Je=b(4872);let it=(()=>{class ct{}return ct.\u0275fac=function($e){return new($e||ct)},ct.\u0275mod=g.oAB({type:ct}),ct.\u0275inj=g.cJS({providers:[],imports:[[rt.ez,Je.q]]}),ct})();var wt=b(2011);const yt={apiKey:"AIzaSyAPbYmpSoQ3DsOF_u4Lwwm1QAmaamV-gzo",authDomain:"fly-cuadros.firebaseapp.com",projectId:"fly-cuadros",storageBucket:"fly-cuadros.appspot.com",messagingSenderId:"650672944127",appId:"1:650672944127:web:108c938188ad030cb32dca",measurementId:"G-6FVF2K2V30"};let kt=(()=>{class ct{}return ct.\u0275fac=function($e){return new($e||ct)},ct.\u0275mod=g.oAB({type:ct,bootstrap:[Ge]}),ct.\u0275inj=g.cJS({imports:[[h.b2,ve,be.PW,Je.q,it,wt.hO.initializeApp(yt),lt.yb]]}),ct})();(0,g.G48)(),h.q6().bootstrapModule(kt).catch(ct=>console.error(ct))},5867:(Yt,Ye,b)=>{b.d(Ye,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=b(9681);(0,h.registerVersion)("firebase","9.9.4","app")},127:(Yt,Ye,b)=>{b.d(Ye,{Z:()=>h.Z});var h=b(3942);h.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(Yt,Ye,b)=>{b.r(Ye);var h=b(5861),g=b(3942),C=b(2090),ne=b(9681),ge=b(655),ve=b(1877),ke=b(4859);const je=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new C.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new ve.Yd("@firebase/auth");function Ft(_,...d){Ae.logLevel<=ve.in.ERROR&&Ae.error(`Auth (${ne.SDK_VERSION}): ${_}`,...d)}function nt(_,...d){throw Ee(_,...d)}function pe(_,...d){return Ee(_,...d)}function he(_,d,f){const D=Object.assign(Object.assign({},lt()),{[d]:f});return new C.LL("auth","Firebase",D).create(d,{appName:_.name})}function xe(_,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&nt(_,"argument-error"),he(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ee(_,...d){if("string"!=typeof _){const f=d[0],D=[...d.slice(1)];return D[0]&&(D[0].appName=_.name),_._errorFactory.create(f,...D)}return Ue.create(_,...d)}function ee(_,d,...f){if(!_)throw Ee(d,...f)}function Ge(_){const d="INTERNAL ASSERTION FAILED: "+_;throw Ft(d),new Error(d)}function be(_,d){_||Ge(d)}const Je=new Map;function it(_){be(_ instanceof Function,"Expected a class definition");let d=Je.get(_);return d?(be(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,Je.set(_,d),d)}function kt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function At(){return"http:"===ct()||"https:"===ct()}function ct(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class et{constructor(d,f){this.shortDelay=d,this.longDelay=f,be(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,C.uI)()||(0,C.b$)()}get(){return function Xe(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(At()||(0,C.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gt(_,d){be(_.emulator,"Emulator should always be set here");const{url:f}=_.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class Q{static initialize(d,f,D){this.fetchImpl=d,f&&(this.headersImpl=f),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Bt=new et(3e4,6e4);function bt(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function pt(_,d,f,D){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(_,d,f,D,z={}){return Me(_,z,(0,h.Z)(function*(){let ue={},mt={};D&&("GET"===d?mt=D:ue={body:JSON.stringify(D)});const Ut=(0,C.xO)(Object.assign({key:_.config.apiKey},mt)).slice(1),fn=yield _._getAdditionalHeaders();return fn["Content-Type"]="application/json",_.languageCode&&(fn["X-Firebase-Locale"]=_.languageCode),Q.fetch()(Jt(_,_.config.apiHost,f,Ut),Object.assign({method:d,headers:fn,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function Me(_,d,f){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(_,d,f){_._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ce),d);try{const z=new cn(_),ue=yield Promise.race([f(),z.promise]);z.clearNetworkTimeout();const mt=yield ue.json();if("needConfirmation"in mt)throw Mn(_,"account-exists-with-different-credential",mt);if(ue.ok&&!("errorMessage"in mt))return mt;{const Ut=ue.ok?mt.errorMessage:mt.error.message,[fn,An]=Ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===fn)throw Mn(_,"credential-already-in-use",mt);if("EMAIL_EXISTS"===fn)throw Mn(_,"email-already-in-use",mt);if("USER_DISABLED"===fn)throw Mn(_,"user-disabled",mt);const Qn=D[fn]||fn.toLowerCase().replace(/[_\s]+/g,"-");if(An)throw he(_,Qn,An);nt(_,Qn)}}catch(z){if(z instanceof C.ZR)throw z;nt(_,"network-request-failed")}})).apply(this,arguments)}function Se(_,d,f,D){return Et.apply(this,arguments)}function Et(){return(Et=(0,h.Z)(function*(_,d,f,D,z={}){const ue=yield pt(_,d,f,D,z);return"mfaPendingCredential"in ue&&nt(_,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function Jt(_,d,f,D){const z=`${d}${f}?${D}`;return _.config.emulator?gt(_.config,z):`${_.config.apiScheme}://${z}`}class cn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,D)=>{this.timer=setTimeout(()=>D(pe(this.auth,"network-request-failed")),Bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(_,d,f){const D={appName:_.name};f.email&&(D.email=f.email),f.phoneNumber&&(D.phoneNumber=f.phoneNumber);const z=pe(_,d,D);return z.customData._tokenResponse=f,z}function pn(){return(pn=(0,h.Z)(function*(_,d){return pt(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function dn(_,d){return ft.apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(_,d){return pt(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function V(_,d){return X.apply(this,arguments)}function X(){return(X=(0,h.Z)(function*(_,d){return pt(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function we(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function q(){return(q=(0,h.Z)(function*(_,d=!1){const f=(0,C.m9)(_),D=yield f.getIdToken(d),z=de(D);ee(z&&z.exp&&z.auth_time&&z.iat,f.auth,"internal-error");const ue="object"==typeof z.firebase?z.firebase:void 0,mt=null==ue?void 0:ue.sign_in_provider;return{claims:z,token:D,authTime:we(Be(z.auth_time)),issuedAtTime:we(Be(z.iat)),expirationTime:we(Be(z.exp)),signInProvider:mt||null,signInSecondFactor:(null==ue?void 0:ue.sign_in_second_factor)||null}})).apply(this,arguments)}function Be(_){return 1e3*Number(_)}function de(_){var d;const[f,D,z]=_.split(".");if(void 0===f||void 0===D||void 0===z)return Ft("JWT malformed, contained fewer than 3 sections"),null;try{const ue=(0,C.tV)(D);return ue?JSON.parse(ue):(Ft("Failed to decode base64 JWT payload"),null)}catch(ue){return Ft("Caught error parsing JWT payload as JSON",null===(d=ue)||void 0===d?void 0:d.toString()),null}}function Vt(_,d){return en.apply(this,arguments)}function en(){return(en=(0,h.Z)(function*(_,d,f=!1){if(f)return d;try{return yield d}catch(D){throw D instanceof C.ZR&&ln(D)&&_.auth.currentUser===_&&(yield _.auth.signOut()),D}})).apply(this,arguments)}function ln({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class jn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const z=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const D=this.getInterval(d);this.timerId=setTimeout((0,h.Z)(function*(){yield f.iteration()}),D)}iteration(){var d=this;return(0,h.Z)(function*(){var f;try{yield d.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(f=D)||void 0===f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class Ln{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=we(this.lastLoginAt),this.creationTime=we(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(_){return on.apply(this,arguments)}function on(){return(on=(0,h.Z)(function*(_){var d;const f=_.auth,D=yield _.getIdToken(),z=yield Vt(_,V(f,{idToken:D}));ee(null==z?void 0:z.users.length,f,"internal-error");const ue=z.users[0];_._notifyReloadListener(ue);const mt=(null===(d=ue.providerUserInfo)||void 0===d?void 0:d.length)?P(ue.providerUserInfo):[],Ut=$(_.providerData,mt),Qn=!!_.isAnonymous&&!(_.email&&ue.passwordHash||(null==Ut?void 0:Ut.length)),Wn={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:Ut,metadata:new Ln(ue.createdAt,ue.lastLoginAt),isAnonymous:Qn};Object.assign(_,Wn)})).apply(this,arguments)}function ze(){return(ze=(0,h.Z)(function*(_){const d=(0,C.m9)(_);yield ni(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function $(_,d){return[..._.filter(D=>!d.some(z=>z.providerId===D.providerId)),...d]}function P(_){return _.map(d=>{var{providerId:f}=d,D=(0,ge._T)(d,["providerId"]);return{providerId:f,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function G(){return(G=(0,h.Z)(function*(_,d){const f=yield Me(_,{},(0,h.Z)(function*(){const D=(0,C.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:z,apiKey:ue}=_.config,mt=Jt(_,z,"/v1/token",`key=${ue}`),Ut=yield _._getAdditionalHeaders();return Ut["Content-Type"]="application/x-www-form-urlencoded",Q.fetch()(mt,{method:"POST",headers:Ut,body:D})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ee(d.idToken,"internal-error"),ee(void 0!==d.idToken,"internal-error"),ee(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function Ke(_){const d=de(_);return ee(d,"internal-error"),ee(void 0!==d.exp,"internal-error"),ee(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var D=this;return(0,h.Z)(function*(){return ee(!D.accessToken||D.refreshToken,d,"user-token-expired"),f||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(d,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var D=this;return(0,h.Z)(function*(){const{accessToken:z,refreshToken:ue,expiresIn:mt}=yield function x(_,d){return G.apply(this,arguments)}(d,f);D.updateTokensAndExpiration(z,ue,Number(mt))})()}updateTokensAndExpiration(d,f,D){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(d,f){const{refreshToken:D,accessToken:z,expirationTime:ue}=f,mt=new Te;return D&&(ee("string"==typeof D,"internal-error",{appName:d}),mt.refreshToken=D),z&&(ee("string"==typeof z,"internal-error",{appName:d}),mt.accessToken=z),ue&&(ee("number"==typeof ue,"internal-error",{appName:d}),mt.expirationTime=ue),mt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Te,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function dt(_,d){ee("string"==typeof _||void 0===_,"internal-error",{appName:d})}class Wt{constructor(d){var{uid:f,auth:D,stsTokenManager:z}=d,ue=(0,ge._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=D,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new Ln(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,h.Z)(function*(){const D=yield Vt(f,f.stsTokenManager.getToken(f.auth,d));return ee(D,f.auth,"internal-error"),f.accessToken!==D&&(f.accessToken=D,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),D})()}getIdTokenResult(d){return function Pe(_){return q.apply(this,arguments)}(this,d)}reload(){return function Ci(_){return ze.apply(this,arguments)}(this)}_assign(d){this!==d&&(ee(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Wt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var D=this;return(0,h.Z)(function*(){let z=!1;d.idToken&&d.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(d),z=!0),f&&(yield ni(D)),yield D.auth._persistUserIfCurrent(D),z&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var d=this;return(0,h.Z)(function*(){const f=yield d.getIdToken();return yield Vt(d,function un(_,d){return pn.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var D,z,ue,mt,Ut,fn,An,Qn;const Wn=null!==(D=f.displayName)&&void 0!==D?D:void 0,Jr=null!==(z=f.email)&&void 0!==z?z:void 0,bo=null!==(ue=f.phoneNumber)&&void 0!==ue?ue:void 0,ql=null!==(mt=f.photoURL)&&void 0!==mt?mt:void 0,Th=null!==(Ut=f.tenantId)&&void 0!==Ut?Ut:void 0,tl=null!==(fn=f._redirectEventId)&&void 0!==fn?fn:void 0,kc=null!==(An=f.createdAt)&&void 0!==An?An:void 0,ld=null!==(Qn=f.lastLoginAt)&&void 0!==Qn?Qn:void 0,{uid:cd,emailVerified:ka,isAnonymous:wl,providerData:ud,stsTokenManager:Sh}=f;ee(cd&&Sh,d,"internal-error");const vp=Te.fromJSON(this.name,Sh);ee("string"==typeof cd,d,"internal-error"),dt(Wn,d.name),dt(Jr,d.name),ee("boolean"==typeof ka,d,"internal-error"),ee("boolean"==typeof wl,d,"internal-error"),dt(bo,d.name),dt(ql,d.name),dt(Th,d.name),dt(tl,d.name),dt(kc,d.name),dt(ld,d.name);const vu=new Wt({uid:cd,auth:d,email:Jr,emailVerified:ka,displayName:Wn,isAnonymous:wl,photoURL:ql,phoneNumber:bo,tenantId:Th,stsTokenManager:vp,createdAt:kc,lastLoginAt:ld});return ud&&Array.isArray(ud)&&(vu.providerData=ud.map(uo=>Object.assign({},uo))),tl&&(vu._redirectEventId=tl),vu}static _fromIdTokenResponse(d,f,D=!1){return(0,h.Z)(function*(){const z=new Te;z.updateFromServerResponse(f);const ue=new Wt({uid:f.localId,auth:d,stsTokenManager:z,isAnonymous:D});return yield ni(ue),ue})()}}const Nn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(f,D){var z=this;return(0,h.Z)(function*(){z.storage[f]=D})()}_get(f){var D=this;return(0,h.Z)(function*(){const z=D.storage[f];return void 0===z?null:z})()}_remove(f){var D=this;return(0,h.Z)(function*(){delete D.storage[f]})()}_addListener(f,D){}_removeListener(f,D){}}return _.type="NONE",_})();function oi(_,d,f){return`firebase:${_}:${d}:${f}`}class vn{constructor(d,f,D){this.persistence=d,this.auth=f,this.userKey=D;const{config:z,name:ue}=this.auth;this.fullUserKey=oi(this.userKey,z.apiKey,ue),this.fullPersistenceKey=oi("persistence",z.apiKey,ue),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,h.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?Wt._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,h.Z)(function*(){if(f.persistence===d)return;const D=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,D?f.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,D="authUser"){return(0,h.Z)(function*(){if(!f.length)return new vn(it(Nn),d,D);const z=(yield Promise.all(f.map(function(){var An=(0,h.Z)(function*(Qn){if(yield Qn._isAvailable())return Qn});return function(Qn){return An.apply(this,arguments)}}()))).filter(An=>An);let ue=z[0]||it(Nn);const mt=oi(D,d.config.apiKey,d.name);let Ut=null;for(const An of f)try{const Qn=yield An._get(mt);if(Qn){const Wn=Wt._fromJSON(d,Qn);An!==ue&&(Ut=Wn),ue=An;break}}catch(Qn){}const fn=z.filter(An=>An._shouldAllowMigration);return ue._shouldAllowMigration&&fn.length?(ue=fn[0],Ut&&(yield ue._set(mt,Ut.toJSON())),yield Promise.all(f.map(function(){var An=(0,h.Z)(function*(Qn){if(Qn!==ue)try{yield Qn._remove(mt)}catch(Wn){}});return function(Qn){return An.apply(this,arguments)}}())),new vn(ue,d,D)):new vn(ue,d,D)})()}}function bi(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(_t(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Dt(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(It(d))return"Blackberry";if(Ne(d))return"Webos";if(at(d))return"Safari";if((d.includes("chrome/")||Ve(d))&&!d.includes("edge/"))return"Chrome";if(Gt(d))return"Android";{const D=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Dt(_=(0,C.z$)()){return/firefox\//i.test(_)}function at(_=(0,C.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ve(_=(0,C.z$)()){return/crios\//i.test(_)}function _t(_=(0,C.z$)()){return/iemobile/i.test(_)}function Gt(_=(0,C.z$)()){return/android/i.test(_)}function It(_=(0,C.z$)()){return/blackberry/i.test(_)}function Ne(_=(0,C.z$)()){return/webos/i.test(_)}function _e(_=(0,C.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function mn(_=(0,C.z$)()){return _e(_)||Gt(_)||Ne(_)||It(_)||/windows phone/i.test(_)||_t(_)}function Fn(_,d=[]){let f;switch(_){case"Browser":f=bi((0,C.z$)());break;case"Worker":f=`${bi((0,C.z$)())}-${_}`;break;default:f=_}const D=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${ne.SDK_VERSION}/${D}`}class Hn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const D=ue=>new Promise((mt,Ut)=>{try{mt(d(ue))}catch(fn){Ut(fn)}});D.onAbort=f,this.queue.push(D);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,h.Z)(function*(){var D;if(f.auth.currentUser===d)return;const z=[];try{for(const ue of f.queue)yield ue(d),ue.onAbort&&z.push(ue.onAbort)}catch(ue){z.reverse();for(const mt of z)try{mt()}catch(Ut){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=ue)||void 0===D?void 0:D.message})}})()}}class tn{constructor(d,f,D){this.app=d,this.heartbeatServiceProvider=f,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ai(this),this.idTokenSubscription=new ai(this),this.beforeStateQueue=new Hn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(d,f){var D=this;return f&&(this._popupRedirectResolver=it(f)),this._initializationPromise=this.queue((0,h.Z)(function*(){var z,ue;if(!D._deleted&&(D.persistenceManager=yield vn.create(D,d),!D._deleted)){if(null===(z=D._popupRedirectResolver)||void 0===z?void 0:z._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(mt){}yield D.initializeCurrentUser(f),D.lastNotifiedUid=(null===(ue=D.currentUser)||void 0===ue?void 0:ue.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,h.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,h.Z)(function*(){var D;const z=yield f.assertedPersistence.getCurrentUser();let ue=z,mt=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Ut=null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId,fn=null==ue?void 0:ue._redirectEventId,An=yield f.tryRedirectSignIn(d);(!Ut||Ut===fn)&&(null==An?void 0:An.user)&&(ue=An.user,mt=!0)}if(!ue)return f.directlySetCurrentUser(null);if(!ue._redirectEventId){if(mt)try{yield f.beforeStateQueue.runMiddleware(ue)}catch(Ut){ue=z,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Ut))}return ue?f.reloadAndSetCurrentUserOrClear(ue):f.directlySetCurrentUser(null)}return ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===ue._redirectEventId?f.directlySetCurrentUser(ue):f.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(d){var f=this;return(0,h.Z)(function*(){let D=null;try{D=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(z){yield f._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,h.Z)(function*(){var D;try{yield ni(d)}catch(z){if("auth/network-request-failed"!==(null===(D=z)||void 0===D?void 0:D.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function $e(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,h.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,h.Z)(function*(){const D=d?(0,C.m9)(d):null;return D&&ee(D.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(D&&D._clone(f))})()}_updateCurrentUser(d,f=!1){var D=this;return(0,h.Z)(function*(){if(!D._deleted)return d&&ee(D.tenantId===d.tenantId,D,"tenant-id-mismatch"),f||(yield D.beforeStateQueue.runMiddleware(d)),D.queue((0,h.Z)(function*(){yield D.directlySetCurrentUser(d),D.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,h.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,h.Z)(function*(){yield f.assertedPersistence.setPersistence(it(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new C.LL("auth","Firebase",d())}onAuthStateChanged(d,f,D){return this.registerStateListener(this.authStateSubscription,d,f,D)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,D){return this.registerStateListener(this.idTokenSubscription,d,f,D)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var D=this;return(0,h.Z)(function*(){const z=yield D.getOrInitRedirectPersistenceManager(f);return null===d?z.removeCurrentUser():z.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,h.Z)(function*(){if(!f.redirectPersistenceManager){const D=d&&it(d)||f._popupRedirectResolver;ee(D,f,"argument-error"),f.redirectPersistenceManager=yield vn.create(f,[it(D._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,h.Z)(function*(){var D,z;return f._isInitialized&&(yield f.queue((0,h.Z)(function*(){}))),(null===(D=f._currentUser)||void 0===D?void 0:D._redirectEventId)===d?f._currentUser:(null===(z=f.redirectUser)||void 0===z?void 0:z._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,h.Z)(function*(){if(d===f.currentUser)return f.queue((0,h.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,D,z){if(this._deleted)return()=>{};const ue="function"==typeof f?f:f.next.bind(f),mt=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(mt,this,"internal-error"),mt.then(()=>ue(this.currentUser)),"function"==typeof f?d.addObserver(f,D,z):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,h.Z)(function*(){f.currentUser&&f.currentUser!==d&&f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh(),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Fn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,h.Z)(function*(){var f;const D={"X-Client-Version":d.clientVersion};d.app.options.appId&&(D["X-Firebase-gmpid"]=d.app.options.appId);const z=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return z&&(D["X-Firebase-Client"]=z),D})()}}function Sn(_){return(0,C.m9)(_)}class ai{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,C.ne)(f=>this.observer=f)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gi(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Er(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class $i{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Ge("not implemented")}_getIdTokenResponse(d){return Ge("not implemented")}_linkToIdToken(d,f){return Ge("not implemented")}_getReauthenticationResolver(d){return Ge("not implemented")}}function Si(_,d){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(_,d){return pt(_,"POST","/v1/accounts:resetPassword",bt(_,d))})).apply(this,arguments)}function Pr(_,d){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(_,d){return pt(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function _s(_,d){return mr.apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(_,d){return pt(_,"POST","/v1/accounts:update",bt(_,d))})).apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(_,d){return Se(_,"POST","/v1/accounts:signInWithPassword",bt(_,d))})).apply(this,arguments)}function Fr(_,d){return dr.apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(_,d){return pt(_,"POST","/v1/accounts:sendOobCode",bt(_,d))})).apply(this,arguments)}function hi(_,d){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(_,d){return Fr(_,d)})).apply(this,arguments)}function ys(_,d){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,h.Z)(function*(_,d){return Fr(_,d)})).apply(this,arguments)}function yr(_,d){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(_,d){return Fr(_,d)})).apply(this,arguments)}function zs(_,d){return or.apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(_,d){return Fr(_,d)})).apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(_,d){return Se(_,"POST","/v1/accounts:signInWithEmailLink",bt(_,d))})).apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(_,d){return Se(_,"POST","/v1/accounts:signInWithEmailLink",bt(_,d))})).apply(this,arguments)}class er extends $i{constructor(d,f,D,z=null){super("password",D),this._email=d,this._password=f,this._tenantId=z}static _fromEmailAndPassword(d,f){return new er(d,f,"password")}static _fromEmailAndCode(d,f,D=null){return new er(d,f,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,h.Z)(function*(){switch(f.signInMethod){case"password":return function Li(_,d){return Nr.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Ir(_,d){return Ws.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:nt(d,"internal-error")}})()}_linkToIdToken(d,f){var D=this;return(0,h.Z)(function*(){switch(D.signInMethod){case"password":return Pr(d,{idToken:f,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function bs(_,d){return wo.apply(this,arguments)}(d,{idToken:f,email:D._email,oobCode:D._password});default:nt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function zr(_,d){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(_,d){return Se(_,"POST","/v1/accounts:signInWithIdp",bt(_,d))})).apply(this,arguments)}class Oi extends $i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new Oi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):nt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:z}=f,ue=(0,ge._T)(f,["providerId","signInMethod"]);if(!D||!z)return null;const mt=new Oi(D,z);return mt.idToken=ue.idToken||void 0,mt.accessToken=ue.accessToken||void 0,mt.secret=ue.secret,mt.nonce=ue.nonce,mt.pendingToken=ue.pendingToken||null,mt}_getIdTokenResponse(d){return zr(d,this.buildRequest())}_linkToIdToken(d,f){const D=this.buildRequest();return D.idToken=f,zr(d,D)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,zr(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,C.xO)(f)}return d}}function eo(_,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(_,d){return pt(_,"POST","/v1/accounts:sendVerificationCode",bt(_,d))})).apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(_,d){return Se(_,"POST","/v1/accounts:signInWithPhoneNumber",bt(_,d))})).apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(_,d){const f=yield Se(_,"POST","/v1/accounts:signInWithPhoneNumber",bt(_,d));if(f.temporaryProof)throw Mn(_,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const fo={USER_NOT_FOUND:"user-not-found"};function Ks(){return(Ks=(0,h.Z)(function*(_,d){return Se(_,"POST","/v1/accounts:signInWithPhoneNumber",bt(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),fo)})).apply(this,arguments)}class is extends $i{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new is({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new is({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function ks(_,d){return ns.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function Ps(_,d){return Io.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function po(_,d){return Ks.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:D,verificationCode:z}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:D,code:z}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:D,phoneNumber:z,temporaryProof:ue}=d;return D||f||z||ue?new is({verificationId:f,verificationCode:D,phoneNumber:z,temporaryProof:ue}):null}}class Es{constructor(d){var f,D,z,ue,mt,Ut;const fn=(0,C.zd)((0,C.pd)(d)),An=null!==(f=fn.apiKey)&&void 0!==f?f:null,Qn=null!==(D=fn.oobCode)&&void 0!==D?D:null,Wn=function Ns(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=fn.mode)&&void 0!==z?z:null);ee(An&&Qn&&Wn,"argument-error"),this.apiKey=An,this.operation=Wn,this.code=Qn,this.continueUrl=null!==(ue=fn.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(mt=fn.languageCode)&&void 0!==mt?mt:null,this.tenantId=null!==(Ut=fn.tenantId)&&void 0!==Ut?Ut:null}static parseLink(d){const f=function hr(_){const d=(0,C.zd)((0,C.pd)(_)).link,f=d?(0,C.zd)((0,C.pd)(d)).deep_link_id:null,D=(0,C.zd)((0,C.pd)(_)).deep_link_id;return(D?(0,C.zd)((0,C.pd)(D)).link:null)||D||f||d||_}(d);try{return new Es(f)}catch(D){return null}}}let Go=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(f,D){return er._fromEmailAndPassword(f,D)}static credentialWithLink(f,D){const z=Es.parseLink(D);return ee(z,"argument-error"),er._fromEmailAndCode(f,z.code,z.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ar{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Wr extends ar{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class xr extends Wr{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return ee("providerId"in f&&"signInMethod"in f,"argument-error"),Oi._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ee(d.idToken||d.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return xr.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return xr.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:D,oauthTokenSecret:z,pendingToken:ue,nonce:mt,providerId:Ut}=d;if(!D&&!z&&!f&&!ue||!Ut)return null;try{return new xr(Ut)._credential({idToken:f,accessToken:D,nonce:mt,pendingToken:ue})}catch(fn){return null}}}let Br=(()=>{class _ extends Wr{constructor(){super("facebook.com")}static credential(f){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch(D){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Fs=(()=>{class _ extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,D){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:D})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:D,oauthAccessToken:z}=f;if(!D&&!z)return null;try{return _.credential(D,z)}catch(ue){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),$o=(()=>{class _ extends Wr{constructor(){super("github.com")}static credential(f){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch(D){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Cr extends $i{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return zr(d,this.buildRequest())}_linkToIdToken(d,f){const D=this.buildRequest();return D.idToken=f,zr(d,D)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,zr(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:z,pendingToken:ue}=f;return D&&z&&ue&&D===z?new Cr(D,ue):null}static _create(d,f){return new Cr(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fr extends ar{constructor(d){ee(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return fr.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return fr.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Cr.fromJSON(d);return ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:D}=d;if(!f||!D)return null;try{return Cr._create(D,f)}catch(z){return null}}}let ws=(()=>{class _ extends Wr{constructor(){super("twitter.com")}static credential(f,D){return Oi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:D})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:D,oauthTokenSecret:z}=f;if(!D||!z)return null;try{return _.credential(D,z)}catch(ue){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ri(_,d){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(_,d){return Se(_,"POST","/v1/accounts:signUp",bt(_,d))})).apply(this,arguments)}class wr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,D,z=!1){return(0,h.Z)(function*(){const ue=yield Wt._fromIdTokenResponse(d,D,z),mt=ki(D);return new wr({user:ue,providerId:mt,_tokenResponse:D,operationType:f})})()}static _forOperation(d,f,D){return(0,h.Z)(function*(){yield d._updateTokensIfNecessary(D,!0);const z=ki(D);return new wr({user:d,providerId:z,_tokenResponse:D,operationType:f})})()}}function ki(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ss(){return(ss=(0,h.Z)(function*(_){var d;const f=Sn(_);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new wr({user:f.currentUser,providerId:null,operationType:"signIn"});const D=yield Ri(f,{returnSecureToken:!0}),z=yield wr._fromIdTokenResponse(f,"signIn",D,!0);return yield f._updateCurrentUser(z.user),z})).apply(this,arguments)}class gr extends C.ZR{constructor(d,f,D,z){var ue;super(f.code,f.message),this.operationType=D,this.user=z,Object.setPrototypeOf(this,gr.prototype),this.customData={appName:d.name,tenantId:null!==(ue=d.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:f.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(d,f,D,z){return new gr(d,f,D,z)}}function cs(_,d,f,D){return("reauthenticate"===d?f._getReauthenticationResolver(_):f._getIdTokenResponse(_)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?gr._fromErrorAndOperation(_,ue,d,D):ue})}function Zr(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function _i(){return(_i=(0,h.Z)(function*(_,d){const f=(0,C.m9)(_);yield F(!0,f,d);const{providerUserInfo:D}=yield dn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),z=Zr(D||[]);return f.providerData=f.providerData.filter(ue=>z.has(ue.providerId)),z.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function U(_,d){return re.apply(this,arguments)}function re(){return(re=(0,h.Z)(function*(_,d,f=!1){const D=yield Vt(_,d._linkToIdToken(_.auth,yield _.getIdToken()),f);return wr._forOperation(_,"link",D)})).apply(this,arguments)}function F(_,d,f){return ce.apply(this,arguments)}function ce(){return(ce=(0,h.Z)(function*(_,d,f){yield ni(d);const z=!1===_?"provider-already-linked":"no-such-provider";ee(Zr(d.providerData).has(f)===_,d.auth,z)})).apply(this,arguments)}function Ze(_,d){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(_,d,f=!1){var D;const{auth:z}=_,ue="reauthenticate";try{const mt=yield Vt(_,cs(z,ue,d,_),f);ee(mt.idToken,z,"internal-error");const Ut=de(mt.idToken);ee(Ut,z,"internal-error");const{sub:fn}=Ut;return ee(_.uid===fn,z,"user-mismatch"),wr._forOperation(_,ue,mt)}catch(mt){throw"auth/user-not-found"===(null===(D=mt)||void 0===D?void 0:D.code)&&nt(z,"user-mismatch"),mt}})).apply(this,arguments)}function $t(_,d){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(_,d,f=!1){const D="signIn",z=yield cs(_,D,d),ue=yield wr._fromIdTokenResponse(_,D,z);return f||(yield _._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function $n(_,d){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(_,d){return $t(Sn(_),d)})).apply(this,arguments)}function li(_,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(_,d){const f=(0,C.m9)(_);return yield F(!1,f,d.providerId),U(f,d)})).apply(this,arguments)}function qi(_,d){return wi.apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(_,d){return Ze((0,C.m9)(_),d)})).apply(this,arguments)}function Wi(_,d){return H.apply(this,arguments)}function H(){return(H=(0,h.Z)(function*(_,d){return Se(_,"POST","/v1/accounts:signInWithCustomToken",bt(_,d))})).apply(this,arguments)}function M(){return(M=(0,h.Z)(function*(_,d){const f=Sn(_),D=yield Wi(f,{token:d,returnSecureToken:!0}),z=yield wr._fromIdTokenResponse(f,"signIn",D);return yield f._updateCurrentUser(z.user),z})).apply(this,arguments)}class ae{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?Lt._fromServerResponse(d,f):nt(d,"internal-error")}}class Lt extends ae{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new Lt(f)}}function Cn(_,d,f){var D;ee((null===(D=f.url)||void 0===D?void 0:D.length)>0,_,"invalid-continue-uri"),ee(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ee(f.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(ee(f.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function Vr(){return(Vr=(0,h.Z)(function*(_,d,f){const D=(0,C.m9)(_),z={requestType:"PASSWORD_RESET",email:d};f&&Cn(D,z,f),yield ys(D,z)})).apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(_,d,f){yield Si((0,C.m9)(_),{oobCode:d,newPassword:f})})).apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(_,d){yield _s((0,C.m9)(_),{oobCode:d})})).apply(this,arguments)}function zo(_,d){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(_,d){const f=(0,C.m9)(_),D=yield Si(f,{oobCode:d}),z=D.requestType;switch(ee(z,f,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(D.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(D.mfaInfo,f,"internal-error");default:ee(D.email,f,"internal-error")}let ue=null;return D.mfaInfo&&(ue=ae._fromServerResponse(Sn(f),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:ue},operation:z}})).apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(_,d){const{data:f}=yield zo((0,C.m9)(_),d);return f.email})).apply(this,arguments)}function To(){return(To=(0,h.Z)(function*(_,d,f){const D=Sn(_),z=yield Ri(D,{returnSecureToken:!0,email:d,password:f}),ue=yield wr._fromIdTokenResponse(D,"signIn",z);return yield D._updateCurrentUser(ue.user),ue})).apply(this,arguments)}function sa(){return(sa=(0,h.Z)(function*(_,d,f){const D=(0,C.m9)(_),z={requestType:"EMAIL_SIGNIN",email:d};ee(f.handleCodeInApp,D,"argument-error"),f&&Cn(D,z,f),yield yr(D,z)})).apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(_,d,f){const D=(0,C.m9)(_),z=Go.credentialWithLink(d,f||kt());return ee(z._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),$n(D,z)})).apply(this,arguments)}function Ls(_,d){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(_,d){return pt(_,"POST","/v1/accounts:createAuthUri",bt(_,d))})).apply(this,arguments)}function y(){return(y=(0,h.Z)(function*(_,d){const D={identifier:d,continueUri:At()?kt():"http://localhost"},{signinMethods:z}=yield Ls((0,C.m9)(_),D);return z||[]})).apply(this,arguments)}function k(){return(k=(0,h.Z)(function*(_,d){const f=(0,C.m9)(_),z={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&Cn(f.auth,z,d);const{email:ue}=yield hi(f.auth,z);ue!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ie(){return(Ie=(0,h.Z)(function*(_,d,f){const D=(0,C.m9)(_),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};f&&Cn(D.auth,ue,f);const{email:mt}=yield zs(D.auth,ue);mt!==_.email&&(yield _.reload())})).apply(this,arguments)}function Qe(_,d){return tt.apply(this,arguments)}function tt(){return(tt=(0,h.Z)(function*(_,d){return pt(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function zt(){return(zt=(0,h.Z)(function*(_,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const D=(0,C.m9)(_),ue={idToken:yield D.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},mt=yield Vt(D,Qe(D.auth,ue));D.displayName=mt.displayName||null,D.photoURL=mt.photoUrl||null;const Ut=D.providerData.find(({providerId:fn})=>"password"===fn);Ut&&(Ut.displayName=D.displayName,Ut.photoURL=D.photoURL),yield D._updateTokensIfNecessary(mt)})).apply(this,arguments)}function zn(_,d,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(_,d,f){const{auth:D}=_,ue={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(ue.email=d),f&&(ue.password=f);const mt=yield Vt(_,Pr(D,ue));yield _._updateTokensIfNecessary(mt,!0)})).apply(this,arguments)}class Zn{constructor(d,f,D={}){this.isNewUser=d,this.providerId=f,this.profile=D}}class Pi extends Zn{constructor(d,f,D,z){super(d,f,D),this.username=z}}class tr extends Zn{constructor(d,f){super(d,"facebook.com",f)}}class ir extends Pi{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Ur extends Zn{constructor(d,f){super(d,"google.com",f)}}class Di extends Pi{constructor(d,f,D){super(d,"twitter.com",f,D)}}function Or(_){const{user:d,_tokenResponse:f}=_;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function kn(_){var d,f;if(!_)return null;const{providerId:D}=_,z=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},ue=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!D&&(null==_?void 0:_.idToken)){const mt=null===(f=null===(d=de(_.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(mt)return new Zn(ue,"anonymous"!==mt&&"custom"!==mt?mt:null)}if(!D)return null;switch(D){case"facebook.com":return new tr(ue,z);case"github.com":return new ir(ue,z);case"google.com":return new Ur(ue,z);case"twitter.com":return new Di(ue,z,_.screenName||null);case"custom":case"anonymous":return new Zn(ue,null);default:return new Zn(ue,D,z)}}(f)}class hs{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new hs("enroll",d)}static _fromMfaPendingCredential(d){return new hs("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,D;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return hs._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(D=d.multiFactorSession)||void 0===D?void 0:D.idToken)return hs._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Tn{constructor(d,f,D){this.session=d,this.hints=f,this.signInResolver=D}static _fromError(d,f){const D=Sn(d),z=f.customData._serverResponse,ue=(z.mfaInfo||[]).map(Ut=>ae._fromServerResponse(D,Ut));ee(z.mfaPendingCredential,D,"internal-error");const mt=hs._fromMfaPendingCredential(z.mfaPendingCredential);return new Tn(mt,ue,function(){var Ut=(0,h.Z)(function*(fn){const An=yield fn._process(D,mt);delete z.mfaInfo,delete z.mfaPendingCredential;const Qn=Object.assign(Object.assign({},z),{idToken:An.idToken,refreshToken:An.refreshToken});switch(f.operationType){case"signIn":const Wn=yield wr._fromIdTokenResponse(D,f.operationType,Qn);return yield D._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return ee(f.user,D,"internal-error"),wr._forOperation(f.user,f.operationType,Qn);default:nt(D,"internal-error")}});return function(fn){return Ut.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,h.Z)(function*(){return f.signInResolver(d)})()}}function Kn(_,d){return pt(_,"POST","/v2/accounts/mfaEnrollment:start",bt(_,d))}class Ts{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(D=>ae._fromServerResponse(d.auth,D)))})}static _fromUser(d){return new Ts(d)}getSession(){var d=this;return(0,h.Z)(function*(){return hs._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var D=this;return(0,h.Z)(function*(){const z=d,ue=yield D.getSession(),mt=yield Vt(D.user,z._process(D.user.auth,ue,f));return yield D.user._updateTokensIfNecessary(mt),D.user.reload()})()}unenroll(d){var f=this;return(0,h.Z)(function*(){var D;const z="string"==typeof d?d:d.uid,ue=yield f.user.getIdToken(),mt=yield Vt(f.user,function Ui(_,d){return pt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",bt(_,d))}(f.user.auth,{idToken:ue,mfaEnrollmentId:z}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Ut})=>Ut!==z),yield f.user._updateTokensIfNecessary(mt);try{yield f.user.reload()}catch(Ut){if("auth/user-token-expired"!==(null===(D=Ut)||void 0===D?void 0:D.code))throw Ut}})()}}const rr=new WeakMap,Ni="__sak";class Zo{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Ni,"1"),this.storage.removeItem(Ni),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ss=(()=>{class _ extends Zo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,D)=>this.onStorageEvent(f,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fs(){const _=(0,C.z$)();return at(_)||_e(_)}()&&function xn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=mn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const D of Object.keys(this.listeners)){const z=this.storage.getItem(D),ue=this.localCache[D];z!==ue&&f(D,ue,z)}}onStorageEvent(f,D=!1){if(!f.key)return void this.forAllChangedKeys((Ut,fn,An)=>{this.notifyListeners(Ut,An)});const z=f.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ut=this.storage.getItem(z);if(f.newValue!==Ut)null!==f.newValue?this.storage.setItem(z,f.newValue):this.storage.removeItem(z);else if(this.localCache[z]===f.newValue&&!D)return}const ue=()=>{const Ut=this.storage.getItem(z);!D&&this.localCache[z]===Ut||this.notifyListeners(z,Ut)},mt=this.storage.getItem(z);!function Kt(){return(0,C.w1)()&&10===document.documentMode}()||mt===f.newValue||f.newValue===f.oldValue?ue():setTimeout(ue,10)}notifyListeners(f,D){this.localCache[f]=D;const z=this.listeners[f];if(z)for(const ue of Array.from(z))ue(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,D,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:D,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,D){var z=()=>super._set,ue=this;return(0,h.Z)(function*(){yield z().call(ue,f,D),ue.localCache[f]=JSON.stringify(D)})()}_get(f){var D=()=>super._get,z=this;return(0,h.Z)(function*(){const ue=yield D().call(z,f);return z.localCache[f]=JSON.stringify(ue),ue})()}_remove(f){var D=()=>super._remove,z=this;return(0,h.Z)(function*(){yield D().call(z,f),delete z.localCache[f]})()}}return _.type="LOCAL",_})(),Vs=(()=>{class _ extends Zo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,D){}_removeListener(f,D){}}return _.type="SESSION",_})();let Ha=(()=>{class _{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const D=this.receivers.find(ue=>ue.isListeningto(f));if(D)return D;const z=new _(f);return this.receivers.push(z),z}isListeningto(f){return this.eventTarget===f}handleEvent(f){var D=this;return(0,h.Z)(function*(){const z=f,{eventId:ue,eventType:mt,data:Ut}=z.data,fn=D.handlersMap[mt];if(!(null==fn?void 0:fn.size))return;z.ports[0].postMessage({status:"ack",eventId:ue,eventType:mt});const An=Array.from(fn).map(function(){var Wn=(0,h.Z)(function*(Jr){return Jr(z.origin,Ut)});return function(Jr){return Wn.apply(this,arguments)}}()),Qn=yield function ul(_){return Promise.all(_.map(function(){var d=(0,h.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(D){return{fulfilled:!1,reason:D}}});return function(f){return d.apply(this,arguments)}}()))}(An);z.ports[0].postMessage({status:"done",eventId:ue,eventType:mt,response:Qn})})()}_subscribe(f,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(D)}_unsubscribe(f,D){this.handlersMap[f]&&D&&this.handlersMap[f].delete(D),(!D||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function so(_="",d=10){let f="";for(let D=0;D<d;D++)f+=Math.floor(10*Math.random());return _+f}class dl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,D=50){var z=this;return(0,h.Z)(function*(){const ue="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let mt,Ut;return new Promise((fn,An)=>{const Qn=so("",20);ue.port1.start();const Wn=setTimeout(()=>{An(new Error("unsupported_event"))},D);Ut={messageChannel:ue,onMessage(Jr){const bo=Jr;if(bo.data.eventId===Qn)switch(bo.data.status){case"ack":clearTimeout(Wn),mt=setTimeout(()=>{An(new Error("timeout"))},3e3);break;case"done":clearTimeout(mt),fn(bo.data.response);break;default:clearTimeout(Wn),clearTimeout(mt),An(new Error("invalid_response"))}}},z.handlers.add(Ut),ue.port1.addEventListener("message",Ut.onMessage),z.target.postMessage({eventType:d,eventId:Qn,data:f},[ue.port2])}).finally(()=>{Ut&&z.removeMessageHandler(Ut)})})()}}function Xi(){return window}function oa(){return void 0!==Xi().WorkerGlobalScope&&"function"==typeof Xi().importScripts}function I(){return(I=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const W="firebaseLocalStorageDb",Fe="firebaseLocalStorage",ot="fbase_key";class jt{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ht(_,d){return _.transaction([Fe],d?"readwrite":"readonly").objectStore(Fe)}function Bn(){const _=indexedDB.open(W,1);return new Promise((d,f)=>{_.addEventListener("error",()=>{f(_.error)}),_.addEventListener("upgradeneeded",()=>{const D=_.result;try{D.createObjectStore(Fe,{keyPath:ot})}catch(z){f(z)}}),_.addEventListener("success",(0,h.Z)(function*(){const D=_.result;D.objectStoreNames.contains(Fe)?d(D):(D.close(),yield function hn(){const _=indexedDB.deleteDatabase(W);return new jt(_).toPromise()}(),d(yield Bn()))}))})}function rn(_,d,f){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,h.Z)(function*(_,d,f){const D=Ht(_,!0).put({[ot]:d,value:f});return new jt(D).toPromise()})).apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(_,d){const f=Ht(_,!1).get(d),D=yield new jt(f).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ma(_,d){const f=Ht(_,!0).delete(d);return new jt(f).toPromise()}const Ta=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,h.Z)(function*(){return f.db||(f.db=yield Bn()),f.db})()}_withRetries(f){var D=this;return(0,h.Z)(function*(){let z=0;for(;;)try{const ue=yield D._openDb();return yield f(ue)}catch(ue){if(z++>3)throw ue;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,h.Z)(function*(){return oa()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,h.Z)(function*(){f.receiver=Ha._getInstance(function j(){return oa()?self:null}()),f.receiver._subscribe("keyChanged",function(){var D=(0,h.Z)(function*(z,ue){return{keyProcessed:(yield f._poll()).includes(ue.key)}});return function(z,ue){return D.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var D=(0,h.Z)(function*(z,ue){return["keyChanged"]});return function(z,ue){return D.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,h.Z)(function*(){var D,z;if(f.activeServiceWorker=yield function A(){return I.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new dl(f.activeServiceWorker);const ue=yield f.sender._send("ping",{},800);!ue||(null===(D=ue[0])||void 0===D?void 0:D.fulfilled)&&(null===(z=ue[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var D=this;return(0,h.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function w(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:f},D.serviceWorkerReceiverAvailable?800:50)}catch(z){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Bn();return yield rn(f,Ni,"1"),yield ma(f,Ni),!0}catch(f){}return!1})()}_withPendingWrite(f){var D=this;return(0,h.Z)(function*(){D.pendingWrites++;try{yield f()}finally{D.pendingWrites--}})()}_set(f,D){var z=this;return(0,h.Z)(function*(){return z._withPendingWrite((0,h.Z)(function*(){return yield z._withRetries(ue=>rn(ue,f,D)),z.localCache[f]=D,z.notifyServiceWorker(f)}))})()}_get(f){var D=this;return(0,h.Z)(function*(){const z=yield D._withRetries(ue=>function Xt(_,d){return Ji.apply(this,arguments)}(ue,f));return D.localCache[f]=z,z})()}_remove(f){var D=this;return(0,h.Z)(function*(){return D._withPendingWrite((0,h.Z)(function*(){return yield D._withRetries(z=>ma(z,f)),delete D.localCache[f],D.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,h.Z)(function*(){const D=yield f._withRetries(mt=>{const Ut=Ht(mt,!1).getAll();return new jt(Ut).toPromise()});if(!D)return[];if(0!==f.pendingWrites)return[];const z=[],ue=new Set;for(const{fbase_key:mt,value:Ut}of D)ue.add(mt),JSON.stringify(f.localCache[mt])!==JSON.stringify(Ut)&&(f.notifyListeners(mt,Ut),z.push(mt));for(const mt of Object.keys(f.localCache))f.localCache[mt]&&!ue.has(mt)&&(f.notifyListeners(mt,null),z.push(mt));return z})()}notifyListeners(f,D){this.localCache[f]=D;const z=this.listeners[f];if(z)for(const ue of Array.from(z))ue(D)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Fl(_,d){return pt(_,"POST","/v2/accounts/mfaSignIn:start",bt(_,d))}function hl(){return(hl=(0,h.Z)(function*(_){return(yield pt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oo(_){return new Promise((d,f)=>{const D=document.createElement("script");D.setAttribute("src",_),D.onload=d,D.onerror=z=>{const ue=pe("internal-error");ue.customData=z,f(ue)},D.type="text/javascript",D.charset="UTF-8",function Ll(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(D)})}function Xn(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Zi=1e12;class Yn{constructor(d){this.auth=d,this.counter=Zi,this._widgets=new Map}render(d,f){const D=this.counter;return this._widgets.set(D,new Bl(d,this.auth.name,f||{})),this.counter++,D}reset(d){var f;const D=d||Zi;null===(f=this._widgets.get(D))||void 0===f||f.delete(),this._widgets.delete(D)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Zi))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,h.Z)(function*(){var D;return null===(D=f._widgets.get(d||Zi))||void 0===D||D.execute(),""})()}}class Bl{constructor(d,f,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof d?document.getElementById(d):d;ee(z,"argument-error",{appName:f}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ji(_){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<_;D++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Tr=Xn("rcb"),Sr=new et(3e4,6e4);class fl{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(d=Xi().grecaptcha)||void 0===d?void 0:d.render)}load(d,f=""){return ee(function Gu(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Xi().grecaptcha):new Promise((D,z)=>{const ue=Xi().setTimeout(()=>{z(pe(d,"network-request-failed"))},Sr.get());Xi()[Tr]=()=>{Xi().clearTimeout(ue),delete Xi()[Tr];const Ut=Xi().grecaptcha;if(!Ut)return void z(pe(d,"internal-error"));const fn=Ut.render;Ut.render=(An,Qn)=>{const Wn=fn(An,Qn);return this.counter++,Wn},this.hostLanguage=f,D(Ut)},Oo(`https://www.google.com/recaptcha/api.js??${(0,C.xO)({onload:Tr,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(ue),z(pe(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!!(null===(f=Xi().grecaptcha)||void 0===f?void 0:f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pl{load(d){return(0,h.Z)(function*(){return new Yn(d)})()}clearedOneInstance(){}}const oh="recaptcha",iu={theme:"light",type:"image"};class Vl{constructor(d,f=Object.assign({},iu),D){this.parameters=f,this.type=oh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(D),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof d?document.getElementById(d):d;ee(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pl:new fl,this.validateStartingState()}verify(){var d=this;return(0,h.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),D=d.getAssertedRecaptcha();return D.getResponse(f)||new Promise(ue=>{const mt=Ut=>{!Ut||(d.tokenChangeListeners.delete(mt),ue(Ut))};d.tokenChangeListeners.add(mt),d.isInvisible&&D.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(D=>D(f)),"function"==typeof d)d(f);else if("string"==typeof d){const D=Xi()[d];"function"==typeof D&&D(f)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,h.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const D=document.createElement("div");f.appendChild(D),f=D}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,h.Z)(function*(){ee(At()&&!oa(),d.auth,"internal-error"),yield function Ul(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function Yo(_){return hl.apply(this,arguments)}(d.auth);ee(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rr{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=is._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function jr(){return(jr=(0,h.Z)(function*(_,d,f){const D=Sn(_),z=yield Ma(D,d,(0,C.m9)(f));return new Rr(z,ue=>$n(D,ue))})).apply(this,arguments)}function jl(){return(jl=(0,h.Z)(function*(_,d,f){const D=(0,C.m9)(_);yield F(!1,D,"phone");const z=yield Ma(D.auth,d,(0,C.m9)(f));return new Rr(z,ue=>li(D,ue))})).apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(_,d,f){const D=(0,C.m9)(_),z=yield Ma(D.auth,d,(0,C.m9)(f));return new Rr(z,ue=>qi(D,ue))})).apply(this,arguments)}function Ma(_,d,f){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,h.Z)(function*(_,d,f){var D;const z=yield f.verify();try{let ue;if(ee("string"==typeof z,_,"argument-error"),ee(f.type===oh,_,"argument-error"),ue="string"==typeof d?{phoneNumber:d}:d,"session"in ue){const mt=ue.session;if("phoneNumber"in ue)return ee("enroll"===mt.type,_,"internal-error"),(yield Kn(_,{idToken:mt.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{ee("signin"===mt.type,_,"internal-error");const Ut=(null===(D=ue.multiFactorHint)||void 0===D?void 0:D.uid)||ue.multiFactorUid;return ee(Ut,_,"missing-multi-factor-info"),(yield Fl(_,{mfaPendingCredential:mt.credential,mfaEnrollmentId:Ut,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:mt}=yield eo(_,{phoneNumber:ue.phoneNumber,recaptchaToken:z});return mt}}finally{f._reset()}})).apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(_,d){yield U((0,C.m9)(_),d)})).apply(this,arguments)}let gl=(()=>{class _{constructor(f){this.providerId=_.PROVIDER_ID,this.auth=Sn(f)}verifyPhoneNumber(f,D){return Ma(this.auth,f,(0,C.m9)(D))}static credential(f,D){return is._fromVerification(f,D)}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:D,temporaryProof:z}=f;return D&&z?is._fromTokenResponse(D,z):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ko(_,d){return d?it(d):(ee(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class aa extends $i{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return zr(d,this._buildIdpRequest())}_linkToIdToken(d,f){return zr(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return zr(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function ah(_){return $t(_.auth,new aa(_),_.bypassAuthState)}function qo(_){const{auth:d,user:f}=_;return ee(f,d,"internal-error"),Ze(f,new aa(_),_.bypassAuthState)}function Ms(_){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(_){const{auth:d,user:f}=_;return ee(f,d,"internal-error"),U(f,new aa(_),_.bypassAuthState)})).apply(this,arguments)}class ca{constructor(d,f,D,z,ue=!1){this.auth=d,this.resolver=D,this.user=z,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,h.Z)(function*(D,z){d.pendingPromise={resolve:D,reject:z};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ue){d.reject(ue)}});return function(D,z){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,h.Z)(function*(){const{urlResponse:D,sessionId:z,postBody:ue,tenantId:mt,error:Ut,type:fn}=d;if(Ut)return void f.reject(Ut);const An={auth:f.auth,requestUri:D,sessionId:z,tenantId:mt||void 0,postBody:ue||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(fn)(An))}catch(Qn){f.reject(Qn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ah;case"linkViaPopup":case"linkViaRedirect":return Ms;case"reauthViaPopup":case"reauthViaRedirect":return qo;default:nt(this.auth,"internal-error")}}resolve(d){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const su=new et(2e3,1e4);function Ga(){return(Ga=(0,h.Z)(function*(_,d,f){const D=Sn(_);xe(_,d,ar);const z=ko(D,f);return new Hr(D,"signInViaPopup",d,z).executeNotNull()})).apply(this,arguments)}function yc(){return(yc=(0,h.Z)(function*(_,d,f){const D=(0,C.m9)(_);xe(D.auth,d,ar);const z=ko(D.auth,f);return new Hr(D.auth,"reauthViaPopup",d,z,D).executeNotNull()})).apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(_,d,f){const D=(0,C.m9)(_);xe(D.auth,d,ar);const z=ko(D.auth,f);return new Hr(D.auth,"linkViaPopup",d,z,D).executeNotNull()})).apply(this,arguments)}let Hr=(()=>{class _ extends ca{constructor(f,D,z,ue,mt){super(f,D,ue,mt),this.provider=z,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var f=this;return(0,h.Z)(function*(){const D=yield f.execute();return ee(D,f.auth,"internal-error"),D})()}onExecution(){var f=this;return(0,h.Z)(function*(){be(1===f.filter.length,"Popup operations only handle one event");const D=so();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],D),f.authWindow.associatedEvent=D,f.resolver._originValidation(f.auth).catch(z=>{f.reject(z)}),f.resolver._isIframeWebStorageSupported(f.auth,z=>{z||f.reject(pe(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const f=()=>{var D,z;this.pollId=(null===(z=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===z?void 0:z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,su.get())};f()}}return _.currentPopupAction=null,_})();const Qo=new Map;class _l extends ca{constructor(d,f,D=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,D),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,h.Z)(function*(){let D=Qo.get(f.auth._key());if(!D){try{const ue=(yield function ms(_,d){return Po.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;D=()=>Promise.resolve(ue)}catch(z){D=()=>Promise.reject(z)}Qo.set(f.auth._key(),D)}return f.bypassAuthState||Qo.set(f.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,D=this;return(0,h.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(D,d);if("unknown"!==d.type){if(d.eventId){const z=yield D.auth._redirectUserForId(d.eventId);if(z)return D.user=z,f().call(D,d);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Po(){return(Po=(0,h.Z)(function*(_,d){const f=Hl(d),D=Xo(_);if(!(yield D._isAvailable()))return!1;const z="true"===(yield D._get(f));return yield D._remove(f),z})).apply(this,arguments)}function vr(_,d){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(_,d){return Xo(_)._set(Hl(d),"true")})).apply(this,arguments)}function Dr(_,d){Qo.set(_._key(),d)}function Xo(_){return it(_._redirectPersistence)}function Hl(_){return oi("pendingRedirect",_.config.apiKey,_.name)}function R(){return(R=(0,h.Z)(function*(_,d,f){const D=Sn(_);xe(_,d,ar);const z=ko(D,f);return yield vr(z,D),z._openRedirect(D,d,"signInViaRedirect")})).apply(this,arguments)}function He(){return(He=(0,h.Z)(function*(_,d,f){const D=(0,C.m9)(_);xe(D.auth,d,ar);const z=ko(D.auth,f);yield vr(z,D.auth);const ue=yield qn(D);return z._openRedirect(D.auth,d,"reauthViaRedirect",ue)})).apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(_,d,f){const D=(0,C.m9)(_);xe(D.auth,d,ar);const z=ko(D.auth,f);yield F(!1,D,d.providerId),yield vr(z,D.auth);const ue=yield qn(D);return z._openRedirect(D.auth,d,"linkViaRedirect",ue)})).apply(this,arguments)}function Vn(){return(Vn=(0,h.Z)(function*(_,d){return yield Sn(_)._initializationPromise,Jn(_,d,!1)})).apply(this,arguments)}function Jn(_,d){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(_,d,f=!1){const D=Sn(_),z=ko(D,d),mt=yield new _l(D,z,f).execute();return mt&&!f&&(delete mt.user._redirectEventId,yield D._persistUserIfCurrent(mt.user),yield D._setRedirectUser(null,d)),mt})).apply(this,arguments)}function qn(_){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(_){const d=so(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class yo{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(d,D)&&(f=!0,this.sendToConsumer(d,D),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function vc(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ys(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var D;if(d.error&&!Ys(d)){const z=(null===(D=d.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";f.onError(pe(this.auth,z))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const D=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&D}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(d))}saveEventToCache(d){this.cachedEventUids.add(Jo(d)),this.lastProcessedEventTime=Date.now()}}function Jo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function Ys({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===(null==d?void 0:d.code)}function vl(_){return ea.apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(_,d={}){return pt(_,"GET","/v1/projects",d)})).apply(this,arguments)}const As=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,No=/^https?/;function lh(){return(lh=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield vl(_);for(const f of d)try{if($u(f))return}catch(D){}nt(_,"unauthorized-domain")})).apply(this,arguments)}function $u(_){const d=kt(),{protocol:f,hostname:D}=new URL(d);if(_.startsWith("chrome-extension://")){const mt=new URL(_);return""===mt.hostname&&""===D?"chrome-extension:"===f&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&mt.hostname===D}if(!No.test(f))return!1;if(As.test(_))return D===_;const z=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(D)}const ch=new et(3e4,6e4);function js(){const _=Xi().___jsl;if(null==_?void 0:_.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let f=0;f<_.CP.length;f++)_.CP[f]=null}let cr=null;function lp(_){return cr=cr||function uh(_){return new Promise((d,f)=>{var D,z,ue;function mt(){js(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{js(),f(pe(_,"network-request-failed"))},timeout:ch.get()})}if(null===(z=null===(D=Xi().gapi)||void 0===D?void 0:D.iframes)||void 0===z?void 0:z.Iframe)d(gapi.iframes.getContext());else{if(!(null===(ue=Xi().gapi)||void 0===ue?void 0:ue.load)){const Ut=Xn("iframefcb");return Xi()[Ut]=()=>{gapi.load?mt():f(pe(_,"network-request-failed"))},Oo(`https://apis.google.com/js/api.js?onload=${Ut}`).catch(fn=>f(fn))}mt()}}).catch(d=>{throw cr=null,d})}(_),cr}const bc=new et(5e3,15e3),Ec={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},au=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zu(_){const d=_.config;ee(d.authDomain,_,"auth-domain-config-required");const f=d.emulator?gt(d,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,D={apiKey:d.apiKey,appName:_.name,v:ne.SDK_VERSION},z=au.get(_.config.apiHost);z&&(D.eid=z);const ue=_._getFrameworks();return ue.length&&(D.fw=ue.join(",")),`${f}?${(0,C.xO)(D).slice(1)}`}function $l(){return $l=(0,h.Z)(function*(_){const d=yield lp(_),f=Xi().gapi;return ee(f,_,"internal-error"),d.open({where:document.body,url:zu(_),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ec,dontclear:!0},D=>new Promise(function(){var z=(0,h.Z)(function*(ue,mt){yield D.restyle({setHideOnLeave:!1});const Ut=pe(_,"network-request-failed"),fn=Xi().setTimeout(()=>{mt(Ut)},bc.get());function An(){Xi().clearTimeout(fn),ue(D)}D.ping(An).then(An,()=>{mt(Ut)})});return function(ue,mt){return z.apply(this,arguments)}}()))}),$l.apply(this,arguments)}const xs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ph{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Fo(_,d,f,D,z,ue){ee(_.config.authDomain,_,"auth-domain-config-required"),ee(_.config.apiKey,_,"invalid-api-key");const mt={apiKey:_.config.apiKey,appName:_.name,authType:f,redirectUrl:D,v:ne.SDK_VERSION,eventId:z};if(d instanceof ar){d.setDefaultLanguage(_.languageCode),mt.providerId=d.providerId||"",(0,C.xb)(d.getCustomParameters())||(mt.customParameters=JSON.stringify(d.getCustomParameters()));for(const[fn,An]of Object.entries(ue||{}))mt[fn]=An}if(d instanceof Wr){const fn=d.getScopes().filter(An=>""!==An);fn.length>0&&(mt.scopes=fn.join(","))}_.tenantId&&(mt.tid=_.tenantId);const Ut=mt;for(const fn of Object.keys(Ut))void 0===Ut[fn]&&delete Ut[fn];return`${function mh({config:_}){return _.emulator?gt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,C.xO)(Ut).slice(1)}`}const lu="webStorageSupport";class Ka extends class _h{constructor(d){this.factorId=d}_process(d,f,D){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,D);case"signin":return this._finalizeSignIn(d,f.credential);default:return Ge("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Ka(d)}_finalizeEnroll(d,f,D){return function ui(_,d){return pt(_,"POST","/v2/accounts/mfaEnrollment:finalize",bt(_,d))}(d,{idToken:f,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function Sa(_,d){return pt(_,"POST","/v2/accounts/mfaSignIn:finalize",bt(_,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wu=(()=>{class _{constructor(){}static assertion(f){return Ka._fromCredential(f)}}return _.FACTOR_ID="phone",_})();var cu="@firebase/auth";class Ku{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,h.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(D=>{var z;d((null===(z=D)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ao(){return window}function Ra(){return(Ra=(0,h.Z)(function*(_,d,f){var D;const{BuildInfo:z}=ao();be(d.sessionId,"AuthEvent did not contain a session ID");const ue=yield Wl(d.sessionId),mt={};return _e()?mt.ibi=z.packageName:Gt()?mt.apn=z.packageName:nt(_,"operation-not-supported-in-this-environment"),z.displayName&&(mt.appDisplayName=z.displayName),mt.sessionId=ue,Fo(_,f,d.type,void 0,null!==(D=d.eventId)&&void 0!==D?D:void 0,mt)})).apply(this,arguments)}function wc(){return(wc=(0,h.Z)(function*(_){const{BuildInfo:d}=ao(),f={};_e()?f.iosBundleId=d.packageName:Gt()?f.androidPackageName=d.packageName:nt(_,"operation-not-supported-in-this-environment"),yield vl(_,f)})).apply(this,arguments)}function Qu(){return(Qu=(0,h.Z)(function*(_,d,f){const{cordova:D}=ao();let z=()=>{};try{yield new Promise((ue,mt)=>{let Ut=null;function fn(){var Wn;ue();const Jr=null===(Wn=D.plugins.browsertab)||void 0===Wn?void 0:Wn.close;"function"==typeof Jr&&Jr(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function An(){Ut||(Ut=window.setTimeout(()=>{mt(pe(_,"redirect-cancelled-by-user"))},2e3))}function Qn(){"visible"===(null==document?void 0:document.visibilityState)&&An()}d.addPassiveListener(fn),document.addEventListener("resume",An,!1),Gt()&&document.addEventListener("visibilitychange",Qn,!1),z=()=>{d.removePassiveListener(fn),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",Qn,!1),Ut&&window.clearTimeout(Ut)}})}finally{z()}})).apply(this,arguments)}function Wl(_){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,h.Z)(function*(_){const d=Xu(_),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xu(_){if(be(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),f=new Uint8Array(d);for(let D=0;D<_.length;D++)f[D]=_.charCodeAt(D);return f}!function Lo(_){(0,ne._registerComponent)(new ke.wA("auth",(d,{options:f})=>{const D=d.getProvider("app").getImmediate(),z=d.getProvider("heartbeat"),{apiKey:ue,authDomain:mt}=D.options;return((Ut,fn)=>{ee(ue&&!ue.includes(":"),"invalid-api-key",{appName:Ut.name}),ee(!(null==mt?void 0:mt.includes(":")),"argument-error",{appName:Ut.name});const An={apiKey:ue,authDomain:mt,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fn(_)},Qn=new tn(Ut,fn,An);return function yt(_,d){const f=(null==d?void 0:d.persistence)||[],D=(Array.isArray(f)?f:[f]).map(it);(null==d?void 0:d.errorMap)&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(D,null==d?void 0:d.popupRedirectResolver)}(Qn,f),Qn})(D,z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,D)=>{d.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new ke.wA("auth-internal",d=>{const f=Sn(d.getProvider("auth").getImmediate());return new Ku(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(cu,"0.20.6",function zl(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ne.registerVersion)(cu,"0.20.6","esm2017")}("Browser");class Ic extends yo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,h.Z)(function*(){yield d.initPromise})()}}function Ya(_){return du.apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(_){const d=yield El()._get(qa(_));return d&&(yield El()._remove(qa(_))),d})).apply(this,arguments)}function Ju(){const _=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const D=Math.floor(Math.random()*d.length);_.push(d.charAt(D))}return _.join("")}function El(){return it(Ss)}function qa(_){return oi("authEvent",_.config.apiKey,_.name)}function pi(_){if(!(null==_?void 0:_.includes("?")))return{};const[d,...f]=_.split("?");return(0,C.zd)(f.join("?"))}function td(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pe("no-auth-event")}}function Bo(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Eh(_=(0,C.z$)()){return!("file:"!==Bo()&&"ionic:"!==Bo()&&"capacitor:"!==Bo()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gr(){try{const _=self.localStorage,d=so();if(_)return _.setItem(d,"1"),_.removeItem(d),!function Ch(_=(0,C.z$)()){return function as(){return(0,C.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Sc(_=(0,C.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,C.hl)()}catch(_){return ii()&&(0,C.hl)()}return!1}function ii(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qa(){return(function _p(){return"http:"===Bo()||"https:"===Bo()}()||(0,C.ru)()||Eh())&&!function Yl(){return(0,C.b$)()||(0,C.UG)()}()&&Gr()&&!ii()}function Mc(){return Eh()&&"undefined"!=typeof document}function nd(){return(nd=(0,h.Z)(function*(){return!!Mc()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})})).apply(this,arguments)}const vo={LOCAL:"local",NONE:"none",SESSION:"session"},ya=ee,id="persistence";function mu(_){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,h.Z)(function*(_){yield _._initializationPromise;const d=wh(),f=oi(id,_.config.apiKey,_.name);d&&d.setItem(f,_._getPersistence())})).apply(this,arguments)}function wh(){var _;try{return(null===(_=function lo(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(d){return null}}const Ei=ee;class va{constructor(){this.browserResolver=it(class gh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vs,this._completeRedirectFn=Jn,this._overrideRedirectResult=Dr}_openPopup(d,f,D,z){var ue=this;return(0,h.Z)(function*(){var mt;be(null===(mt=ue.eventManagers[d._key()])||void 0===mt?void 0:mt.manager,"_initialize() not called before _openPopup()");const Ut=Fo(d,f,D,kt(),z);return function cp(_,d,f,D=500,z=600){const ue=Math.max((window.screen.availHeight-z)/2,0).toString(),mt=Math.max((window.screen.availWidth-D)/2,0).toString();let Ut="";const fn=Object.assign(Object.assign({},xs),{width:D.toString(),height:z.toString(),top:ue,left:mt}),An=(0,C.z$)().toLowerCase();f&&(Ut=Ve(An)?"_blank":f),Dt(An)&&(d=d||"http://localhost",fn.scrollbars="yes");const Qn=Object.entries(fn).reduce((Jr,[bo,ql])=>`${Jr}${bo}=${ql},`,"");if(function Pt(_=(0,C.z$)()){var d;return _e(_)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(An)&&"_self"!==Ut)return function up(_,d){const f=document.createElement("a");f.href=_,f.target=d;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(D)}(d||"",Ut),new ph(null);const Wn=window.open(d||"",Ut,Qn);ee(Wn,_,"popup-blocked");try{Wn.focus()}catch(Jr){}return new ph(Wn)}(d,Ut,so())})()}_openRedirect(d,f,D,z){var ue=this;return(0,h.Z)(function*(){return yield ue._originValidation(d),function Ia(_){Xi().location.href=_}(Fo(d,f,D,kt(),z)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:z,promise:ue}=this.eventManagers[f];return z?Promise.resolve(z):(be(ue,"If manager is not set, promise should be"),ue)}const D=this.initAndGetManager(d);return this.eventManagers[f]={promise:D},D.catch(()=>{delete this.eventManagers[f]}),D}initAndGetManager(d){var f=this;return(0,h.Z)(function*(){const D=yield function Cc(_){return $l.apply(this,arguments)}(d),z=new yo(d);return D.register("authEvent",ue=>(ee(null==ue?void 0:ue.authEvent,d,"invalid-auth-event"),{status:z.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:z},f.iframes[d._key()]=D,z})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(lu,{type:lu},z=>{var ue;const mt=null===(ue=null==z?void 0:z[0])||void 0===ue?void 0:ue[lu];void 0!==mt&&f(!!mt),nt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function ou(_){return lh.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return mn()||at()||_e()}}),this.cordovaResolver=it(class fu{constructor(){this._redirectPersistence=Vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jn,this._overrideRedirectResult=Dr}_initialize(d){var f=this;return(0,h.Z)(function*(){const D=d._key();let z=f.eventManagers.get(D);return z||(z=new Ic(d),f.eventManagers.set(D,z),f.attachCallbackListeners(d,z)),z})()}_openPopup(d){nt(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,D,z){var ue=this;return(0,h.Z)(function*(){!function fp(_){var d,f,D,z,ue,mt,Ut,fn,An,Qn;const Wn=ao();ee("function"==typeof(null===(d=null==Wn?void 0:Wn.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(void 0!==(null===(f=null==Wn?void 0:Wn.BuildInfo)||void 0===f?void 0:f.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(ue=null===(z=null===(D=null==Wn?void 0:Wn.cordova)||void 0===D?void 0:D.plugins)||void 0===z?void 0:z.browsertab)||void 0===ue?void 0:ue.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(fn=null===(Ut=null===(mt=null==Wn?void 0:Wn.cordova)||void 0===mt?void 0:mt.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===fn?void 0:fn.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Qn=null===(An=null==Wn?void 0:Wn.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===Qn?void 0:Qn.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const mt=yield ue._initialize(d);yield mt.initialized(),mt.resetRedirect(),function xa(){Qo.clear()}(),yield ue._originValidation(d);const Ut=function Za(_,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:Ju(),postBody:null,tenantId:_.tenantId,error:pe(_,"no-auth-event")}}(d,D,z);yield function vh(_,d){return El()._set(qa(_),d)}(d,Ut);const fn=yield function ta(_,d,f){return Ra.apply(this,arguments)}(d,Ut,f),An=yield function yh(_){const{cordova:d}=ao();return new Promise(f=>{d.plugins.browsertab.isAvailable(D=>{let z=null;D?d.plugins.browsertab.openUrl(_):z=d.InAppBrowser.open(_,function st(_=(0,C.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),f(z)})})}(fn);return function hp(_,d,f){return Qu.apply(this,arguments)}(d,mt,An)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function qu(_){return wc.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:D,handleOpenURL:z,BuildInfo:ue}=ao(),mt=setTimeout((0,h.Z)(function*(){yield Ya(d),f.onEvent(td())}),500),Ut=function(){var Qn=(0,h.Z)(function*(Wn){clearTimeout(mt);const Jr=yield Ya(d);let bo=null;Jr&&(null==Wn?void 0:Wn.url)&&(bo=function Kl(_,d){var f,D;const z=function mp(_){const d=pi(_),f=d.link?decodeURIComponent(d.link):void 0,D=pi(f).link,z=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return pi(z).link||z||D||f||_}(d);if(z.includes("/__/auth/callback")){const ue=pi(z),mt=ue.firebaseError?function ed(_){try{return JSON.parse(_)}catch(d){return null}}(decodeURIComponent(ue.firebaseError)):null,Ut=null===(D=null===(f=null==mt?void 0:mt.code)||void 0===f?void 0:f.split("auth/"))||void 0===D?void 0:D[1],fn=Ut?pe(Ut):null;return fn?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:fn,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:z,postBody:null}}return null}(Jr,Wn.url)),f.onEvent(bo||td())});return function(Jr){return Qn.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,Ut);const fn=z,An=`${ue.packageName.toLowerCase()}://`;ao().handleOpenURL=function(){var Qn=(0,h.Z)(function*(Wn){if(Wn.toLowerCase().startsWith(An)&&Ut({url:Wn}),"function"==typeof fn)try{fn(Wn)}catch(Jr){console.error(Jr)}});return function(Wn){return Qn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vs,this._completeRedirectFn=Jn,this._overrideRedirectResult=Dr}_initialize(d){var f=this;return(0,h.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,D,z){var ue=this;return(0,h.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openPopup(d,f,D,z)})()}_openRedirect(d,f,D,z){var ue=this;return(0,h.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openRedirect(d,f,D,z)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Mc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ei(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,h.Z)(function*(){if(d.underlyingResolver)return;const f=yield function Xa(){return nd.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function Ac(_){return _.unwrap()}function Ja(_){return sd(_)}function sd(_){const{_tokenResponse:d}=_ instanceof C.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof C.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return gl.credentialFromResult(_);const f=d.providerId;if(!f||"password"===f)return null;let D;switch(f){case"google.com":D=Fs;break;case"facebook.com":D=Br;break;case"github.com":D=$o;break;case"twitter.com":D=ws;break;default:const{oauthIdToken:z,oauthAccessToken:ue,oauthTokenSecret:mt,pendingToken:Ut,nonce:fn}=d;return ue||mt||z||Ut?Ut?f.startsWith("saml.")?Cr._create(f,Ut):Oi._fromParams({providerId:f,signInMethod:f,pendingToken:Ut,idToken:z,accessToken:ue}):new xr(f).credential({idToken:z,accessToken:ue,rawNonce:fn}):null}return _ instanceof C.ZR?D.credentialFromError(_):D.credentialFromResult(_)}function co(_,d){return d.catch(f=>{throw f instanceof C.ZR&&function gu(_,d){var f,D;const z=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(D=d)||void 0===D?void 0:D.code))d.resolver=new ad(_,function En(_,d){var f;const D=(0,C.m9)(_),z=d;return ee(d.customData.operationType,D,"argument-error"),ee(null===(f=z.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,D,"argument-error"),Tn._fromError(D,z)}(_,d));else if(z){const ue=sd(d),mt=d;ue&&(mt.credential=ue,mt.tenantId=z.tenantId||void 0,mt.email=z.email||void 0,mt.phoneNumber=z.phoneNumber||void 0)}}(_,f),f}).then(f=>{const z=f.user;return{operationType:f.operationType,credential:Ja(f),additionalUserInfo:Or(f),user:ba.getOrCreate(z)}})}function _u(_,d){return od.apply(this,arguments)}function od(){return(od=(0,h.Z)(function*(_,d){const f=yield d;return{verificationId:f.verificationId,confirm:D=>co(_,f.confirm(D))}})).apply(this,arguments)}class ad{constructor(d,f){this.resolver=f,this.auth=function xc(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return co(Ac(this.auth),this.resolver.resolveSignIn(d))}}class ba{constructor(d){this._delegate=d,this.multiFactor=function os(_){const d=(0,C.m9)(_);return rr.has(d)||rr.set(d,Ts._fromUser(d)),rr.get(d)}(d)}static getOrCreate(d){return ba.USER_MAP.has(d)||ba.USER_MAP.set(d,new ba(d)),ba.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,h.Z)(function*(){return co(f.auth,li(f._delegate,d))})()}linkWithPhoneNumber(d,f){var D=this;return(0,h.Z)(function*(){return _u(D.auth,function ru(_,d,f){return jl.apply(this,arguments)}(D._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,h.Z)(function*(){return co(f.auth,function kr(_,d,f){return za.apply(this,arguments)}(f._delegate,d,va))})()}linkWithRedirect(d){var f=this;return(0,h.Z)(function*(){return yield mu(Sn(f.auth)),function Ct(_,d,f){return function Rt(_,d,f){return sn.apply(this,arguments)}(_,d,f)}(f._delegate,d,va)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,h.Z)(function*(){return co(f.auth,qi(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return _u(this.auth,function oo(_,d,f){return Xr.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return co(this.auth,function $a(_,d,f){return yc.apply(this,arguments)}(this._delegate,d,va))}reauthenticateWithRedirect(d){var f=this;return(0,h.Z)(function*(){return yield mu(Sn(f.auth)),function B(_,d,f){return function oe(_,d,f){return He.apply(this,arguments)}(_,d,f)}(f._delegate,d,va)})()}sendEmailVerification(d){return function E(_,d){return k.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,h.Z)(function*(){return yield function us(_,d){return _i.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function wn(_,d){return zn((0,C.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function On(_,d){return zn((0,C.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Aa(_,d){return Zs.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function St(_,d){return zt.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function te(_,d,f){return Ie.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ba.USER_MAP=new WeakMap;const Oc=ee;let Dh=(()=>{class _{constructor(f,D){if(this.app=f,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=f.options;Oc(z,"invalid-api-key",{appName:f.name}),Oc(z,"invalid-api-key",{appName:f.name});const ue="undefined"!=typeof window?va:void 0;this._delegate=D.initialize({options:{persistence:Rc(z,f.name),popupRedirectResolver:ue}}),this._delegate._updateErrorMap(je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ba.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,D){!function Mi(_,d,f){const D=Sn(_);ee(D._canInitEmulator,D,"emulator-config-failed"),ee(/^https?:\/\//.test(d),D,"invalid-emulator-scheme");const z=!!(null==f?void 0:f.disableWarnings),ue=Gi(d),{host:mt,port:Ut}=function xi(_){const d=Gi(_),f=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!f)return{host:"",port:null};const D=f[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(D);if(z){const ue=z[1];return{host:ue,port:Er(D.substr(ue.length+1))}}{const[ue,mt]=D.split(":");return{host:ue,port:Er(mt)}}}(d);D.config.emulator={url:`${ue}//${mt}${null===Ut?"":`:${Ut}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:mt,port:Ut,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function gi(){function _(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,f,D)}applyActionCode(f){return function nn(_,d){return yi.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return zo(this._delegate,f)}confirmPasswordReset(f,D){return function mo(_,d,f){return ds.apply(this,arguments)}(this._delegate,f,D)}createUserWithEmailAndPassword(f,D){var z=this;return(0,h.Z)(function*(){return co(z._delegate,function Is(_,d,f){return To.apply(this,arguments)}(z._delegate,f,D))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function J(_,d){return y.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function to(_,d){const f=Es.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,h.Z)(function*(){Oc(Qa(),f._delegate,"operation-not-supported-in-this-environment");const D=yield function _n(_,d){return Vn.apply(this,arguments)}(f._delegate,va);return D?co(f._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Tc(_,d){Sn(_)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,D,z){const{next:ue,error:mt,complete:Ut}=Ih(f,D,z);return this._delegate.onAuthStateChanged(ue,mt,Ut)}onIdTokenChanged(f,D,z){const{next:ue,error:mt,complete:Ut}=Ih(f,D,z);return this._delegate.onIdTokenChanged(ue,mt,Ut)}sendSignInLinkToEmail(f,D){return function cl(_,d,f){return sa.apply(this,arguments)}(this._delegate,f,D)}sendPasswordResetEmail(f,D){return function vi(_,d,f){return Vr.apply(this,arguments)}(this._delegate,f,D||void 0)}setPersistence(f){var D=this;return(0,h.Z)(function*(){let z;switch(function da(_,d){ya(Object.values(vo).includes(d),_,"invalid-persistence-type"),(0,C.b$)()?ya(d!==vo.SESSION,_,"unsupported-persistence-type"):(0,C.UG)()?ya(d===vo.NONE,_,"unsupported-persistence-type"):ii()?ya(d===vo.NONE||d===vo.LOCAL&&(0,C.hl)(),_,"unsupported-persistence-type"):ya(d===vo.NONE||Gr(),_,"unsupported-persistence-type")}(D._delegate,f),f){case vo.SESSION:z=Vs;break;case vo.LOCAL:z=(yield it(Ta)._isAvailable())?Ta:Ss;break;case vo.NONE:z=Nn;break;default:return nt("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return co(this._delegate,function Kr(_){return ss.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return co(this._delegate,$n(this._delegate,f))}signInWithCustomToken(f){return co(this._delegate,function N(_,d){return M.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,D){return co(this._delegate,function Da(_,d,f){return $n((0,C.m9)(_),Go.credential(d,f))}(this._delegate,f,D))}signInWithEmailLink(f,D){return co(this._delegate,function no(_,d,f){return pr.apply(this,arguments)}(this._delegate,f,D))}signInWithPhoneNumber(f,D){return _u(this._delegate,function ml(_,d,f){return jr.apply(this,arguments)}(this._delegate,f,D))}signInWithPopup(f){var D=this;return(0,h.Z)(function*(){return Oc(Qa(),D._delegate,"operation-not-supported-in-this-environment"),co(D._delegate,function ps(_,d,f){return Ga.apply(this,arguments)}(D._delegate,f,va))})()}signInWithRedirect(f){var D=this;return(0,h.Z)(function*(){return Oc(Qa(),D._delegate,"operation-not-supported-in-this-environment"),yield mu(D._delegate),function Wa(_,d,f){return function yl(_,d,f){return R.apply(this,arguments)}(_,d,f)}(D._delegate,f,va)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Wo(_,d){return go.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=vo,_})();function Ih(_,d,f){let D=_;"function"!=typeof _&&({next:D,error:d,complete:f}=_);const z=D;return{next:mt=>z(mt&&ba.getOrCreate(mt)),error:d,complete:f}}function Rc(_,d){const f=function rd(_,d){const f=wh();if(!f)return[];const D=oi(id,_,d);switch(f.getItem(D)){case vo.NONE:return[Nn];case vo.LOCAL:return[Ta,Vs];case vo.SESSION:return[Vs];default:return[]}}(_,d);if("undefined"!=typeof self&&!f.includes(Ta)&&f.push(Ta),"undefined"!=typeof window)for(const D of[Ss,Vs])f.includes(D)||f.push(D);return f.includes(Nn)||f.push(Nn),f}class yu{constructor(){this.providerId="phone",this._delegate=new gl(Ac(g.Z.auth()))}static credential(d,f){return gl.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}yu.PHONE_SIGN_IN_METHOD=gl.PHONE_SIGN_IN_METHOD,yu.PROVIDER_ID=gl.PROVIDER_ID;const yp=ee;class Os{constructor(d,f,D=g.Z.app()){var z;yp(null===(z=D.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Vl(d,f,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ha(_){_.INTERNAL.registerComponent(new ke.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),D=d.getProvider("auth");return new Dh(f,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Go,FacebookAuthProvider:Br,GithubAuthProvider:$o,GoogleAuthProvider:Fs,OAuthProvider:xr,SAMLAuthProvider:fr,PhoneAuthProvider:yu,PhoneMultiFactorGenerator:Wu,RecaptchaVerifier:Os,TwitterAuthProvider:ws,Auth:Dh,AuthCredential:$i,Error:C.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.19")}(g.Z)},1135:(Yt,Ye,b)=>{b.d(Ye,{X:()=>g});var h=b(7579);class g extends h.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const ge=super._subscribe(ne);return!ge.closed&&ne.next(this._value),ge}getValue(){const{hasError:ne,thrownError:ge,_value:ve}=this;if(ne)throw ge;return this._throwIfClosed(),ve}next(ne){super.next(this._value=ne)}}},8306:(Yt,Ye,b)=>{b.d(Ye,{y:()=>se});var h=b(930),g=b(727),C=b(8822),ne=b(4671);var ke=b(2416),ye=b(576),le=b(2806);let se=(()=>{class Re{constructor(lt){lt&&(this._subscribe=lt)}lift(lt){const Ue=new Re;return Ue.source=this,Ue.operator=lt,Ue}subscribe(lt,Ue,rt){const Ae=function We(Re){return Re&&Re instanceof h.Lv||function De(Re){return Re&&(0,ye.m)(Re.next)&&(0,ye.m)(Re.error)&&(0,ye.m)(Re.complete)}(Re)&&(0,g.Nn)(Re)}(lt)?lt:new h.Hp(lt,Ue,rt);return(0,le.x)(()=>{const{operator:Ft,source:nt}=this;Ae.add(Ft?Ft.call(Ae,nt):nt?this._subscribe(Ae):this._trySubscribe(Ae))}),Ae}_trySubscribe(lt){try{return this._subscribe(lt)}catch(Ue){lt.error(Ue)}}forEach(lt,Ue){return new(Ue=fe(Ue))((rt,Ae)=>{const Ft=new h.Hp({next:nt=>{try{lt(nt)}catch(pe){Ae(pe),Ft.unsubscribe()}},error:Ae,complete:rt});this.subscribe(Ft)})}_subscribe(lt){var Ue;return null===(Ue=this.source)||void 0===Ue?void 0:Ue.subscribe(lt)}[C.L](){return this}pipe(...lt){return function ve(Re){return 0===Re.length?ne.y:1===Re.length?Re[0]:function(lt){return Re.reduce((Ue,rt)=>rt(Ue),lt)}}(lt)(this)}toPromise(lt){return new(lt=fe(lt))((Ue,rt)=>{let Ae;this.subscribe(Ft=>Ae=Ft,Ft=>rt(Ft),()=>Ue(Ae))})}}return Re.create=je=>new Re(je),Re})();function fe(Re){var je;return null!==(je=null!=Re?Re:ke.v.Promise)&&void 0!==je?je:Promise}},7579:(Yt,Ye,b)=>{b.d(Ye,{x:()=>ke});var h=b(8306),g=b(727);const ne=(0,b(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=b(8737),ve=b(2806);let ke=(()=>{class le extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const De=new ye(this,this);return De.operator=fe,De}_throwIfClosed(){if(this.closed)throw new ne}next(fe){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(fe)}})}error(fe){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:De}=this;for(;De.length;)De.shift().error(fe)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:De,isStopped:We,observers:Re}=this;return De||We?g.Lc:(this.currentObservers=null,Re.push(fe),new g.w0(()=>{this.currentObservers=null,(0,ge.P)(Re,fe)}))}_checkFinalizedStatuses(fe){const{hasError:De,thrownError:We,isStopped:Re}=this;De?fe.error(We):Re&&fe.complete()}asObservable(){const fe=new h.y;return fe.source=this,fe}}return le.create=(se,fe)=>new ye(se,fe),le})();class ye extends ke{constructor(se,fe){super(),this.destination=se,this.source=fe}next(se){var fe,De;null===(De=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===De||De.call(fe,se)}error(se){var fe,De;null===(De=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===De||De.call(fe,se)}complete(){var se,fe;null===(fe=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===fe||fe.call(se)}_subscribe(se){var fe,De;return null!==(De=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(se))&&void 0!==De?De:g.Lc}}},930:(Yt,Ye,b)=>{b.d(Ye,{Hp:()=>lt,Lv:()=>De});var h=b(576),g=b(727),C=b(2416),ne=b(7849),ge=b(5032);const ve=le("C",void 0,void 0);function le(nt,pe,he){return{kind:nt,value:pe,error:he}}var se=b(3410),fe=b(2806);class De extends g.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,g.Nn)(pe)&&pe.add(this)):this.destination=Ft}static create(pe,he,xe){return new lt(pe,he,xe)}next(pe){this.isStopped?Ae(function ye(nt){return le("N",nt,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?Ae(function ke(nt){return le("E",void 0,nt)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?Ae(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Re(nt,pe){return We.call(nt,pe)}class je{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:he}=this;if(he.next)try{he.next(pe)}catch(xe){Ue(xe)}}error(pe){const{partialObserver:he}=this;if(he.error)try{he.error(pe)}catch(xe){Ue(xe)}else Ue(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(he){Ue(he)}}}class lt extends De{constructor(pe,he,xe){let Ee;if(super(),(0,h.m)(pe)||!pe)Ee={next:null!=pe?pe:void 0,error:null!=he?he:void 0,complete:null!=xe?xe:void 0};else{let ee;this&&C.v.useDeprecatedNextContext?(ee=Object.create(pe),ee.unsubscribe=()=>this.unsubscribe(),Ee={next:pe.next&&Re(pe.next,ee),error:pe.error&&Re(pe.error,ee),complete:pe.complete&&Re(pe.complete,ee)}):Ee=pe}this.destination=new je(Ee)}}function Ue(nt){C.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(nt):(0,ne.h)(nt)}function Ae(nt,pe){const{onStoppedNotification:he}=C.v;he&&se.z.setTimeout(()=>he(nt,pe))}const Ft={closed:!0,next:ge.Z,error:function rt(nt){throw nt},complete:ge.Z}},727:(Yt,Ye,b)=>{b.d(Ye,{Lc:()=>ve,w0:()=>ge,Nn:()=>ke});var h=b(576);const C=(0,b(3888).d)(le=>function(fe){le(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((De,We)=>`${We+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var ne=b(8737);class ge{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const Re of fe)Re.remove(this);else fe.remove(this);const{initialTeardown:De}=this;if((0,h.m)(De))try{De()}catch(Re){se=Re instanceof C?Re.errors:[Re]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Re of We)try{ye(Re)}catch(je){se=null!=se?se:[],je instanceof C?se=[...se,...je.errors]:se.push(je)}}if(se)throw new C(se)}}add(se){var fe;if(se&&se!==this)if(this.closed)ye(se);else{if(se instanceof ge){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(se)}}_hasParent(se){const{_parentage:fe}=this;return fe===se||Array.isArray(fe)&&fe.includes(se)}_addParent(se){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(se),fe):fe?[fe,se]:se}_removeParent(se){const{_parentage:fe}=this;fe===se?this._parentage=null:Array.isArray(fe)&&(0,ne.P)(fe,se)}remove(se){const{_finalizers:fe}=this;fe&&(0,ne.P)(fe,se),se instanceof ge&&se._removeParent(this)}}ge.EMPTY=(()=>{const le=new ge;return le.closed=!0,le})();const ve=ge.EMPTY;function ke(le){return le instanceof ge||le&&"closed"in le&&(0,h.m)(le.remove)&&(0,h.m)(le.add)&&(0,h.m)(le.unsubscribe)}function ye(le){(0,h.m)(le)?le():le.unsubscribe()}},2416:(Yt,Ye,b)=>{b.d(Ye,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Yt,Ye,b)=>{b.d(Ye,{a:()=>se});var h=b(8306),g=b(4742),C=b(8996),ne=b(4671),ge=b(3268),ve=b(3269),ke=b(1810),ye=b(5403),le=b(9672);function se(...We){const Re=(0,ve.yG)(We),je=(0,ve.jO)(We),{args:lt,keys:Ue}=(0,g.D)(We);if(0===lt.length)return(0,C.D)([],Re);const rt=new h.y(function fe(We,Re,je=ne.y){return lt=>{De(Re,()=>{const{length:Ue}=We,rt=new Array(Ue);let Ae=Ue,Ft=Ue;for(let nt=0;nt<Ue;nt++)De(Re,()=>{const pe=(0,C.D)(We[nt],Re);let he=!1;pe.subscribe((0,ye.x)(lt,xe=>{rt[nt]=xe,he||(he=!0,Ft--),Ft||lt.next(je(rt.slice()))},()=>{--Ae||lt.complete()}))},lt)},lt)}}(lt,Re,Ue?Ae=>(0,ke.n)(Ue,Ae):ne.y));return je?rt.pipe((0,ge.Z)(je)):rt}function De(We,Re,je){We?(0,le.f)(je,We,Re):Re()}},7272:(Yt,Ye,b)=>{b.d(Ye,{z:()=>ge});var h=b(8189),C=b(3269),ne=b(8996);function ge(...ve){return function g(){return(0,h.J)(1)}()((0,ne.D)(ve,(0,C.yG)(ve)))}},9770:(Yt,Ye,b)=>{b.d(Ye,{P:()=>C});var h=b(8306),g=b(8421);function C(ne){return new h.y(ge=>{(0,g.Xf)(ne()).subscribe(ge)})}},515:(Yt,Ye,b)=>{b.d(Ye,{E:()=>g});const g=new(b(8306).y)(ge=>ge.complete())},4128:(Yt,Ye,b)=>{b.d(Ye,{D:()=>ye});var h=b(8306),g=b(4742),C=b(8421),ne=b(3269),ge=b(5403),ve=b(3268),ke=b(1810);function ye(...le){const se=(0,ne.jO)(le),{args:fe,keys:De}=(0,g.D)(le),We=new h.y(Re=>{const{length:je}=fe;if(!je)return void Re.complete();const lt=new Array(je);let Ue=je,rt=je;for(let Ae=0;Ae<je;Ae++){let Ft=!1;(0,C.Xf)(fe[Ae]).subscribe((0,ge.x)(Re,nt=>{Ft||(Ft=!0,rt--),lt[Ae]=nt},()=>Ue--,void 0,()=>{(!Ue||!Ft)&&(rt||Re.next(De?(0,ke.n)(De,lt):lt),Re.complete())}))}});return se?We.pipe((0,ve.Z)(se)):We}},8996:(Yt,Ye,b)=>{b.d(Ye,{D:()=>pe});var h=b(8421),g=b(5363),C=b(9468),ve=b(8306),ye=b(2202),le=b(576),se=b(9672);function De(he,xe){if(!he)throw new Error("Iterable cannot be null");return new ve.y(Ee=>{(0,se.f)(Ee,xe,()=>{const ee=he[Symbol.asyncIterator]();(0,se.f)(Ee,xe,()=>{ee.next().then(Ge=>{Ge.done?Ee.complete():Ee.next(Ge.value)})},0,!0)})})}var We=b(3670),Re=b(8239),je=b(1144),lt=b(6495),Ue=b(2206),rt=b(4532),Ae=b(3260);function pe(he,xe){return xe?function nt(he,xe){if(null!=he){if((0,We.c)(he))return function ne(he,xe){return(0,h.Xf)(he).pipe((0,C.R)(xe),(0,g.Q)(xe))}(he,xe);if((0,je.z)(he))return function ke(he,xe){return new ve.y(Ee=>{let ee=0;return xe.schedule(function(){ee===he.length?Ee.complete():(Ee.next(he[ee++]),Ee.closed||this.schedule())})})}(he,xe);if((0,Re.t)(he))return function ge(he,xe){return(0,h.Xf)(he).pipe((0,C.R)(xe),(0,g.Q)(xe))}(he,xe);if((0,Ue.D)(he))return De(he,xe);if((0,lt.T)(he))return function fe(he,xe){return new ve.y(Ee=>{let ee;return(0,se.f)(Ee,xe,()=>{ee=he[ye.h](),(0,se.f)(Ee,xe,()=>{let Ge,be;try{({value:Ge,done:be}=ee.next())}catch(Je){return void Ee.error(Je)}be?Ee.complete():Ee.next(Ge)},0,!0)}),()=>(0,le.m)(null==ee?void 0:ee.return)&&ee.return()})}(he,xe);if((0,Ae.L)(he))return function Ft(he,xe){return De((0,Ae.Q)(he),xe)}(he,xe)}throw(0,rt.z)(he)}(he,xe):(0,h.Xf)(he)}},4968:(Yt,Ye,b)=>{b.d(Ye,{R:()=>se});var h=b(8421),g=b(8306),C=b(5577),ne=b(1144),ge=b(576),ve=b(3268);const ke=["addListener","removeListener"],ye=["addEventListener","removeEventListener"],le=["on","off"];function se(je,lt,Ue,rt){if((0,ge.m)(Ue)&&(rt=Ue,Ue=void 0),rt)return se(je,lt,Ue).pipe((0,ve.Z)(rt));const[Ae,Ft]=function Re(je){return(0,ge.m)(je.addEventListener)&&(0,ge.m)(je.removeEventListener)}(je)?ye.map(nt=>pe=>je[nt](lt,pe,Ue)):function De(je){return(0,ge.m)(je.addListener)&&(0,ge.m)(je.removeListener)}(je)?ke.map(fe(je,lt)):function We(je){return(0,ge.m)(je.on)&&(0,ge.m)(je.off)}(je)?le.map(fe(je,lt)):[];if(!Ae&&(0,ne.z)(je))return(0,C.z)(nt=>se(nt,lt,Ue))((0,h.Xf)(je));if(!Ae)throw new TypeError("Invalid event target");return new g.y(nt=>{const pe=(...he)=>nt.next(1<he.length?he:he[0]);return Ae(pe),()=>Ft(pe)})}function fe(je,lt){return Ue=>rt=>je[Ue](lt,rt)}},8421:(Yt,Ye,b)=>{b.d(Ye,{Xf:()=>We});var h=b(655),g=b(1144),C=b(8239),ne=b(8306),ge=b(3670),ve=b(2206),ke=b(4532),ye=b(6495),le=b(3260),se=b(576),fe=b(7849),De=b(8822);function We(nt){if(nt instanceof ne.y)return nt;if(null!=nt){if((0,ge.c)(nt))return function Re(nt){return new ne.y(pe=>{const he=nt[De.L]();if((0,se.m)(he.subscribe))return he.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(nt);if((0,g.z)(nt))return function je(nt){return new ne.y(pe=>{for(let he=0;he<nt.length&&!pe.closed;he++)pe.next(nt[he]);pe.complete()})}(nt);if((0,C.t)(nt))return function lt(nt){return new ne.y(pe=>{nt.then(he=>{pe.closed||(pe.next(he),pe.complete())},he=>pe.error(he)).then(null,fe.h)})}(nt);if((0,ve.D)(nt))return rt(nt);if((0,ye.T)(nt))return function Ue(nt){return new ne.y(pe=>{for(const he of nt)if(pe.next(he),pe.closed)return;pe.complete()})}(nt);if((0,le.L)(nt))return function Ae(nt){return rt((0,le.Q)(nt))}(nt)}throw(0,ke.z)(nt)}function rt(nt){return new ne.y(pe=>{(function Ft(nt,pe){var he,xe,Ee,ee;return(0,h.mG)(this,void 0,void 0,function*(){try{for(he=(0,h.KL)(nt);!(xe=yield he.next()).done;)if(pe.next(xe.value),pe.closed)return}catch(Ge){Ee={error:Ge}}finally{try{xe&&!xe.done&&(ee=he.return)&&(yield ee.call(he))}finally{if(Ee)throw Ee.error}}pe.complete()})})(nt,pe).catch(he=>pe.error(he))})}},6451:(Yt,Ye,b)=>{b.d(Ye,{T:()=>ve});var h=b(8189),g=b(8421),C=b(515),ne=b(3269),ge=b(8996);function ve(...ke){const ye=(0,ne.yG)(ke),le=(0,ne._6)(ke,1/0),se=ke;return se.length?1===se.length?(0,g.Xf)(se[0]):(0,h.J)(le)((0,ge.D)(se,ye)):C.E}},9646:(Yt,Ye,b)=>{b.d(Ye,{of:()=>C});var h=b(3269),g=b(8996);function C(...ne){const ge=(0,h.yG)(ne);return(0,g.D)(ne,ge)}},2843:(Yt,Ye,b)=>{b.d(Ye,{_:()=>C});var h=b(8306),g=b(576);function C(ne,ge){const ve=(0,g.m)(ne)?ne:()=>ne,ke=ye=>ye.error(ve());return new h.y(ge?ye=>ge.schedule(ke,0,ye):ke)}},5403:(Yt,Ye,b)=>{b.d(Ye,{x:()=>g});var h=b(930);function g(ne,ge,ve,ke,ye){return new C(ne,ge,ve,ke,ye)}class C extends h.Lv{constructor(ge,ve,ke,ye,le,se){super(ge),this.onFinalize=le,this.shouldUnsubscribe=se,this._next=ve?function(fe){try{ve(fe)}catch(De){ge.error(De)}}:super._next,this._error=ye?function(fe){try{ye(fe)}catch(De){ge.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(fe){ge.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},262:(Yt,Ye,b)=>{b.d(Ye,{K:()=>ne});var h=b(8421),g=b(5403),C=b(4482);function ne(ge){return(0,C.e)((ve,ke)=>{let se,ye=null,le=!1;ye=ve.subscribe((0,g.x)(ke,void 0,void 0,fe=>{se=(0,h.Xf)(ge(fe,ne(ge)(ve))),ye?(ye.unsubscribe(),ye=null,se.subscribe(ke)):le=!0})),le&&(ye.unsubscribe(),ye=null,se.subscribe(ke))})}},4351:(Yt,Ye,b)=>{b.d(Ye,{b:()=>C});var h=b(5577),g=b(576);function C(ne,ge){return(0,g.m)(ge)?(0,h.z)(ne,ge,1):(0,h.z)(ne,1)}},8372:(Yt,Ye,b)=>{b.d(Ye,{b:()=>ne});var h=b(4986),g=b(4482),C=b(5403);function ne(ge,ve=h.z){return(0,g.e)((ke,ye)=>{let le=null,se=null,fe=null;const De=()=>{if(le){le.unsubscribe(),le=null;const Re=se;se=null,ye.next(Re)}};function We(){const Re=fe+ge,je=ve.now();if(je<Re)return le=this.schedule(void 0,Re-je),void ye.add(le);De()}ke.subscribe((0,C.x)(ye,Re=>{se=Re,fe=ve.now(),le||(le=ve.schedule(We,ge),ye.add(le))},()=>{De(),ye.complete()},void 0,()=>{se=le=null}))})}},6590:(Yt,Ye,b)=>{b.d(Ye,{d:()=>C});var h=b(4482),g=b(5403);function C(ne){return(0,h.e)((ge,ve)=>{let ke=!1;ge.subscribe((0,g.x)(ve,ye=>{ke=!0,ve.next(ye)},()=>{ke||ve.next(ne),ve.complete()}))})}},1884:(Yt,Ye,b)=>{b.d(Ye,{x:()=>ne});var h=b(4671),g=b(4482),C=b(5403);function ne(ve,ke=h.y){return ve=null!=ve?ve:ge,(0,g.e)((ye,le)=>{let se,fe=!0;ye.subscribe((0,C.x)(le,De=>{const We=ke(De);(fe||!ve(se,We))&&(fe=!1,se=We,le.next(De))}))})}function ge(ve,ke){return ve===ke}},9300:(Yt,Ye,b)=>{b.d(Ye,{h:()=>C});var h=b(4482),g=b(5403);function C(ne,ge){return(0,h.e)((ve,ke)=>{let ye=0;ve.subscribe((0,g.x)(ke,le=>ne.call(ge,le,ye++)&&ke.next(le)))})}},8746:(Yt,Ye,b)=>{b.d(Ye,{x:()=>g});var h=b(4482);function g(C){return(0,h.e)((ne,ge)=>{try{ne.subscribe(ge)}finally{ge.add(C)}})}},590:(Yt,Ye,b)=>{b.d(Ye,{P:()=>ke});var h=b(6805),g=b(9300),C=b(5698),ne=b(6590),ge=b(8068),ve=b(4671);function ke(ye,le){const se=arguments.length>=2;return fe=>fe.pipe(ye?(0,g.h)((De,We)=>ye(De,We,fe)):ve.y,(0,C.q)(1),se?(0,ne.d)(le):(0,ge.T)(()=>new h.K))}},4004:(Yt,Ye,b)=>{b.d(Ye,{U:()=>C});var h=b(4482),g=b(5403);function C(ne,ge){return(0,h.e)((ve,ke)=>{let ye=0;ve.subscribe((0,g.x)(ke,le=>{ke.next(ne.call(ge,le,ye++))}))})}},8189:(Yt,Ye,b)=>{b.d(Ye,{J:()=>C});var h=b(5577),g=b(4671);function C(ne=1/0){return(0,h.z)(g.y,ne)}},5577:(Yt,Ye,b)=>{b.d(Ye,{z:()=>ye});var h=b(4004),g=b(8421),C=b(4482),ne=b(9672),ge=b(5403),ke=b(576);function ye(le,se,fe=1/0){return(0,ke.m)(se)?ye((De,We)=>(0,h.U)((Re,je)=>se(De,Re,We,je))((0,g.Xf)(le(De,We))),fe):("number"==typeof se&&(fe=se),(0,C.e)((De,We)=>function ve(le,se,fe,De,We,Re,je,lt){const Ue=[];let rt=0,Ae=0,Ft=!1;const nt=()=>{Ft&&!Ue.length&&!rt&&se.complete()},pe=xe=>rt<De?he(xe):Ue.push(xe),he=xe=>{Re&&se.next(xe),rt++;let Ee=!1;(0,g.Xf)(fe(xe,Ae++)).subscribe((0,ge.x)(se,ee=>{null==We||We(ee),Re?pe(ee):se.next(ee)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(rt--;Ue.length&&rt<De;){const ee=Ue.shift();je?(0,ne.f)(se,je,()=>he(ee)):he(ee)}nt()}catch(ee){se.error(ee)}}))};return le.subscribe((0,ge.x)(se,pe,()=>{Ft=!0,nt()})),()=>{null==lt||lt()}}(De,We,le,fe)))}},5363:(Yt,Ye,b)=>{b.d(Ye,{Q:()=>ne});var h=b(9672),g=b(4482),C=b(5403);function ne(ge,ve=0){return(0,g.e)((ke,ye)=>{ke.subscribe((0,C.x)(ye,le=>(0,h.f)(ye,ge,()=>ye.next(le),ve),()=>(0,h.f)(ye,ge,()=>ye.complete(),ve),le=>(0,h.f)(ye,ge,()=>ye.error(le),ve)))})}},5026:(Yt,Ye,b)=>{b.d(Ye,{R:()=>ne});var h=b(4482),g=b(5403);function C(ge,ve,ke,ye,le){return(se,fe)=>{let De=ke,We=ve,Re=0;se.subscribe((0,g.x)(fe,je=>{const lt=Re++;We=De?ge(We,je,lt):(De=!0,je),ye&&fe.next(We)},le&&(()=>{De&&fe.next(We),fe.complete()})))}}function ne(ge,ve){return(0,h.e)(C(ge,ve,arguments.length>=2,!0))}},3099:(Yt,Ye,b)=>{b.d(Ye,{B:()=>ge});var h=b(8421),g=b(7579),C=b(930),ne=b(4482);function ge(ke={}){const{connector:ye=(()=>new g.x),resetOnError:le=!0,resetOnComplete:se=!0,resetOnRefCountZero:fe=!0}=ke;return De=>{let We,Re,je,lt=0,Ue=!1,rt=!1;const Ae=()=>{null==Re||Re.unsubscribe(),Re=void 0},Ft=()=>{Ae(),We=je=void 0,Ue=rt=!1},nt=()=>{const pe=We;Ft(),null==pe||pe.unsubscribe()};return(0,ne.e)((pe,he)=>{lt++,!rt&&!Ue&&Ae();const xe=je=null!=je?je:ye();he.add(()=>{lt--,0===lt&&!rt&&!Ue&&(Re=ve(nt,fe))}),xe.subscribe(he),!We&&lt>0&&(We=new C.Hp({next:Ee=>xe.next(Ee),error:Ee=>{rt=!0,Ae(),Re=ve(Ft,le,Ee),xe.error(Ee)},complete:()=>{Ue=!0,Ae(),Re=ve(Ft,se),xe.complete()}}),(0,h.Xf)(pe).subscribe(We))})(De)}}function ve(ke,ye,...le){if(!0===ye)return void ke();if(!1===ye)return;const se=new C.Hp({next:()=>{se.unsubscribe(),ke()}});return ye(...le).subscribe(se)}},5684:(Yt,Ye,b)=>{b.d(Ye,{T:()=>g});var h=b(9300);function g(C){return(0,h.h)((ne,ge)=>C<=ge)}},8675:(Yt,Ye,b)=>{b.d(Ye,{O:()=>ne});var h=b(7272),g=b(3269),C=b(4482);function ne(...ge){const ve=(0,g.yG)(ge);return(0,C.e)((ke,ye)=>{(ve?(0,h.z)(ge,ke,ve):(0,h.z)(ge,ke)).subscribe(ye)})}},9468:(Yt,Ye,b)=>{b.d(Ye,{R:()=>g});var h=b(4482);function g(C,ne=0){return(0,h.e)((ge,ve)=>{ve.add(C.schedule(()=>ge.subscribe(ve),ne))})}},3900:(Yt,Ye,b)=>{b.d(Ye,{w:()=>ne});var h=b(8421),g=b(4482),C=b(5403);function ne(ge,ve){return(0,g.e)((ke,ye)=>{let le=null,se=0,fe=!1;const De=()=>fe&&!le&&ye.complete();ke.subscribe((0,C.x)(ye,We=>{null==le||le.unsubscribe();let Re=0;const je=se++;(0,h.Xf)(ge(We,je)).subscribe(le=(0,C.x)(ye,lt=>ye.next(ve?ve(We,lt,je,Re++):lt),()=>{le=null,De()}))},()=>{fe=!0,De()}))})}},5698:(Yt,Ye,b)=>{b.d(Ye,{q:()=>ne});var h=b(515),g=b(4482),C=b(5403);function ne(ge){return ge<=0?()=>h.E:(0,g.e)((ve,ke)=>{let ye=0;ve.subscribe((0,C.x)(ke,le=>{++ye<=ge&&(ke.next(le),ge<=ye&&ke.complete())}))})}},2722:(Yt,Ye,b)=>{b.d(Ye,{R:()=>ge});var h=b(4482),g=b(5403),C=b(8421),ne=b(5032);function ge(ve){return(0,h.e)((ke,ye)=>{(0,C.Xf)(ve).subscribe((0,g.x)(ye,()=>ye.complete(),ne.Z)),!ye.closed&&ke.subscribe(ye)})}},8505:(Yt,Ye,b)=>{b.d(Ye,{b:()=>ge});var h=b(576),g=b(4482),C=b(5403),ne=b(4671);function ge(ve,ke,ye){const le=(0,h.m)(ve)||ke||ye?{next:ve,error:ke,complete:ye}:ve;return le?(0,g.e)((se,fe)=>{var De;null===(De=le.subscribe)||void 0===De||De.call(le);let We=!0;se.subscribe((0,C.x)(fe,Re=>{var je;null===(je=le.next)||void 0===je||je.call(le,Re),fe.next(Re)},()=>{var Re;We=!1,null===(Re=le.complete)||void 0===Re||Re.call(le),fe.complete()},Re=>{var je;We=!1,null===(je=le.error)||void 0===je||je.call(le,Re),fe.error(Re)},()=>{var Re,je;We&&(null===(Re=le.unsubscribe)||void 0===Re||Re.call(le)),null===(je=le.finalize)||void 0===je||je.call(le)}))}):ne.y}},8068:(Yt,Ye,b)=>{b.d(Ye,{T:()=>ne});var h=b(6805),g=b(4482),C=b(5403);function ne(ve=ge){return(0,g.e)((ke,ye)=>{let le=!1;ke.subscribe((0,C.x)(ye,se=>{le=!0,ye.next(se)},()=>le?ye.complete():ye.error(ve())))})}function ge(){return new h.K}},4408:(Yt,Ye,b)=>{b.d(Ye,{o:()=>ge});var h=b(727);class g extends h.w0{constructor(ke,ye){super()}schedule(ke,ye=0){return this}}const C={setInterval(ve,ke,...ye){const{delegate:le}=C;return(null==le?void 0:le.setInterval)?le.setInterval(ve,ke,...ye):setInterval(ve,ke,...ye)},clearInterval(ve){const{delegate:ke}=C;return((null==ke?void 0:ke.clearInterval)||clearInterval)(ve)},delegate:void 0};var ne=b(8737);class ge extends g{constructor(ke,ye){super(ke,ye),this.scheduler=ke,this.work=ye,this.pending=!1}schedule(ke,ye=0){if(this.closed)return this;this.state=ke;const le=this.id,se=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(se,le,ye)),this.pending=!0,this.delay=ye,this.id=this.id||this.requestAsyncId(se,this.id,ye),this}requestAsyncId(ke,ye,le=0){return C.setInterval(ke.flush.bind(ke,this),le)}recycleAsyncId(ke,ye,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ye;C.clearInterval(ye)}execute(ke,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ke,ye);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,ye){let se,le=!1;try{this.work(ke)}catch(fe){le=!0,se=fe||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:ke,scheduler:ye}=this,{actions:le}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(le,this),null!=ke&&(this.id=this.recycleAsyncId(ye,ke,null)),this.delay=null,super.unsubscribe()}}}},7565:(Yt,Ye,b)=>{b.d(Ye,{v:()=>C});var h=b(6063);class g{constructor(ge,ve=g.now){this.schedulerActionCtor=ge,this.now=ve}schedule(ge,ve=0,ke){return new this.schedulerActionCtor(this,ge).schedule(ke,ve)}}g.now=h.l.now;class C extends g{constructor(ge,ve=g.now){super(ge,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:ve}=this;if(this._active)return void ve.push(ge);let ke;this._active=!0;do{if(ke=ge.execute(ge.state,ge.delay))break}while(ge=ve.shift());if(this._active=!1,ke){for(;ge=ve.shift();)ge.unsubscribe();throw ke}}}},4986:(Yt,Ye,b)=>{b.d(Ye,{z:()=>C,P:()=>ne});var h=b(4408);const C=new(b(7565).v)(h.o),ne=C},6063:(Yt,Ye,b)=>{b.d(Ye,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Yt,Ye,b)=>{b.d(Ye,{z:()=>h});const h={setTimeout(g,C,...ne){const{delegate:ge}=h;return(null==ge?void 0:ge.setTimeout)?ge.setTimeout(g,C,...ne):setTimeout(g,C,...ne)},clearTimeout(g){const{delegate:C}=h;return((null==C?void 0:C.clearTimeout)||clearTimeout)(g)},delegate:void 0}},2202:(Yt,Ye,b)=>{b.d(Ye,{h:()=>g});const g=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Yt,Ye,b)=>{b.d(Ye,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Yt,Ye,b)=>{b.d(Ye,{K:()=>g});const g=(0,b(3888).d)(C=>function(){C(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Yt,Ye,b)=>{b.d(Ye,{jO:()=>ne,yG:()=>ge,_6:()=>ve});var h=b(576),g=b(3532);function C(ke){return ke[ke.length-1]}function ne(ke){return(0,h.m)(C(ke))?ke.pop():void 0}function ge(ke){return(0,g.K)(C(ke))?ke.pop():void 0}function ve(ke,ye){return"number"==typeof C(ke)?ke.pop():ye}},4742:(Yt,Ye,b)=>{b.d(Ye,{D:()=>ge});const{isArray:h}=Array,{getPrototypeOf:g,prototype:C,keys:ne}=Object;function ge(ke){if(1===ke.length){const ye=ke[0];if(h(ye))return{args:ye,keys:null};if(function ve(ke){return ke&&"object"==typeof ke&&g(ke)===C}(ye)){const le=ne(ye);return{args:le.map(se=>ye[se]),keys:le}}}return{args:ke,keys:null}}},8737:(Yt,Ye,b)=>{function h(g,C){if(g){const ne=g.indexOf(C);0<=ne&&g.splice(ne,1)}}b.d(Ye,{P:()=>h})},3888:(Yt,Ye,b)=>{function h(g){const ne=g(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}b.d(Ye,{d:()=>h})},1810:(Yt,Ye,b)=>{function h(g,C){return g.reduce((ne,ge,ve)=>(ne[ge]=C[ve],ne),{})}b.d(Ye,{n:()=>h})},2806:(Yt,Ye,b)=>{b.d(Ye,{x:()=>C,O:()=>ne});var h=b(2416);let g=null;function C(ge){if(h.v.useDeprecatedSynchronousErrorHandling){const ve=!g;if(ve&&(g={errorThrown:!1,error:null}),ge(),ve){const{errorThrown:ke,error:ye}=g;if(g=null,ke)throw ye}}else ge()}function ne(ge){h.v.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=ge)}},9672:(Yt,Ye,b)=>{function h(g,C,ne,ge=0,ve=!1){const ke=C.schedule(function(){ne(),ve?g.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(g.add(ke),!ve)return ke}b.d(Ye,{f:()=>h})},4671:(Yt,Ye,b)=>{function h(g){return g}b.d(Ye,{y:()=>h})},1144:(Yt,Ye,b)=>{b.d(Ye,{z:()=>h});const h=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(Yt,Ye,b)=>{b.d(Ye,{D:()=>g});var h=b(576);function g(C){return Symbol.asyncIterator&&(0,h.m)(null==C?void 0:C[Symbol.asyncIterator])}},576:(Yt,Ye,b)=>{function h(g){return"function"==typeof g}b.d(Ye,{m:()=>h})},3670:(Yt,Ye,b)=>{b.d(Ye,{c:()=>C});var h=b(8822),g=b(576);function C(ne){return(0,g.m)(ne[h.L])}},6495:(Yt,Ye,b)=>{b.d(Ye,{T:()=>C});var h=b(2202),g=b(576);function C(ne){return(0,g.m)(null==ne?void 0:ne[h.h])}},8239:(Yt,Ye,b)=>{b.d(Ye,{t:()=>g});var h=b(576);function g(C){return(0,h.m)(null==C?void 0:C.then)}},3260:(Yt,Ye,b)=>{b.d(Ye,{Q:()=>C,L:()=>ne});var h=b(655),g=b(576);function C(ge){return(0,h.FC)(this,arguments,function*(){const ke=ge.getReader();try{for(;;){const{value:ye,done:le}=yield(0,h.qq)(ke.read());if(le)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ye)}}finally{ke.releaseLock()}})}function ne(ge){return(0,g.m)(null==ge?void 0:ge.getReader)}},3532:(Yt,Ye,b)=>{b.d(Ye,{K:()=>g});var h=b(576);function g(C){return C&&(0,h.m)(C.schedule)}},4482:(Yt,Ye,b)=>{b.d(Ye,{A:()=>g,e:()=>C});var h=b(576);function g(ne){return(0,h.m)(null==ne?void 0:ne.lift)}function C(ne){return ge=>{if(g(ge))return ge.lift(function(ve){try{return ne(ve,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Yt,Ye,b)=>{b.d(Ye,{Z:()=>ne});var h=b(4004);const{isArray:g}=Array;function ne(ge){return(0,h.U)(ve=>function C(ge,ve){return g(ve)?ge(...ve):ge(ve)}(ge,ve))}},5032:(Yt,Ye,b)=>{function h(){}b.d(Ye,{Z:()=>h})},7849:(Yt,Ye,b)=>{b.d(Ye,{h:()=>C});var h=b(2416),g=b(3410);function C(ne){g.z.setTimeout(()=>{const{onUnhandledError:ge}=h.v;if(!ge)throw ne;ge(ne)})}},4532:(Yt,Ye,b)=>{function h(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}b.d(Ye,{z:()=>h})},655:(Yt,Ye,b)=>{function ne(be,Je){var it={};for(var wt in be)Object.prototype.hasOwnProperty.call(be,wt)&&Je.indexOf(wt)<0&&(it[wt]=be[wt]);if(null!=be&&"function"==typeof Object.getOwnPropertySymbols){var yt=0;for(wt=Object.getOwnPropertySymbols(be);yt<wt.length;yt++)Je.indexOf(wt[yt])<0&&Object.prototype.propertyIsEnumerable.call(be,wt[yt])&&(it[wt[yt]]=be[wt[yt]])}return it}function ye(be,Je,it,wt){return new(it||(it=Promise))(function(kt,At){function ct(et){try{$e(wt.next(et))}catch(gt){At(gt)}}function Xe(et){try{$e(wt.throw(et))}catch(gt){At(gt)}}function $e(et){et.done?kt(et.value):function yt(kt){return kt instanceof it?kt:new it(function(At){At(kt)})}(et.value).then(ct,Xe)}$e((wt=wt.apply(be,Je||[])).next())})}function Ue(be){return this instanceof Ue?(this.v=be,this):new Ue(be)}function rt(be,Je,it){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,wt=it.apply(be,Je||[]),kt=[];return yt={},At("next"),At("throw"),At("return"),yt[Symbol.asyncIterator]=function(){return this},yt;function At(Q){wt[Q]&&(yt[Q]=function(Ce){return new Promise(function(Bt,bt){kt.push([Q,Ce,Bt,bt])>1||ct(Q,Ce)})})}function ct(Q,Ce){try{!function Xe(Q){Q.value instanceof Ue?Promise.resolve(Q.value.v).then($e,et):gt(kt[0][2],Q)}(wt[Q](Ce))}catch(Bt){gt(kt[0][3],Bt)}}function $e(Q){ct("next",Q)}function et(Q){ct("throw",Q)}function gt(Q,Ce){Q(Ce),kt.shift(),kt.length&&ct(kt[0][0],kt[0][1])}}function Ft(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Je=be[Symbol.asyncIterator];return Je?Je.call(be):(be=function De(be){var Je="function"==typeof Symbol&&Symbol.iterator,it=Je&&be[Je],wt=0;if(it)return it.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&wt>=be.length&&(be=void 0),{value:be&&be[wt++],done:!be}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),it={},wt("next"),wt("throw"),wt("return"),it[Symbol.asyncIterator]=function(){return this},it);function wt(kt){it[kt]=be[kt]&&function(At){return new Promise(function(ct,Xe){!function yt(kt,At,ct,Xe){Promise.resolve(Xe).then(function($e){kt({value:$e,done:ct})},At)}(ct,Xe,(At=be[kt](At)).done,At.value)})}}}b.d(Ye,{_T:()=>ne,mG:()=>ye,qq:()=>Ue,FC:()=>rt,KL:()=>Ft})},1777:(Yt,Ye,b)=>{b.d(Ye,{l3:()=>C,_j:()=>h,LC:()=>g,ZN:()=>rt,jt:()=>ge,pV:()=>We,ru:()=>ve,IO:()=>je,vP:()=>ke,SB:()=>le,oB:()=>ye,eR:()=>fe,X$:()=>ne,ZE:()=>Ae,k1:()=>Ft});class h{}class g{}const C="*";function ne(nt,pe){return{type:7,name:nt,definitions:pe,options:{}}}function ge(nt,pe=null){return{type:4,styles:pe,timings:nt}}function ve(nt,pe=null){return{type:3,steps:nt,options:pe}}function ke(nt,pe=null){return{type:2,steps:nt,options:pe}}function ye(nt){return{type:6,styles:nt,offset:null}}function le(nt,pe,he){return{type:0,name:nt,styles:pe,options:he}}function fe(nt,pe,he=null){return{type:1,expr:nt,animation:pe,options:he}}function We(nt=null){return{type:9,options:nt}}function je(nt,pe,he=null){return{type:11,selector:nt,animation:pe,options:he}}function Ue(nt){Promise.resolve(null).then(nt)}class rt{constructor(pe=0,he=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=pe+he}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}onStart(pe){this._onStartFns.push(pe)}onDone(pe){this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ue(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(pe=>pe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(pe){this._position=this.totalTime?pe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(pe){const he="start"==pe?this._onStartFns:this._onDoneFns;he.forEach(xe=>xe()),he.length=0}}class Ae{constructor(pe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=pe;let he=0,xe=0,Ee=0;const ee=this.players.length;0==ee?Ue(()=>this._onFinish()):this.players.forEach(Ge=>{Ge.onDone(()=>{++he==ee&&this._onFinish()}),Ge.onDestroy(()=>{++xe==ee&&this._onDestroy()}),Ge.onStart(()=>{++Ee==ee&&this._onStart()})}),this.totalTime=this.players.reduce((Ge,be)=>Math.max(Ge,be.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}init(){this.players.forEach(pe=>pe.init())}onStart(pe){this._onStartFns.push(pe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(pe=>pe()),this._onStartFns=[])}onDone(pe){this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(pe=>pe.play())}pause(){this.players.forEach(pe=>pe.pause())}restart(){this.players.forEach(pe=>pe.restart())}finish(){this._onFinish(),this.players.forEach(pe=>pe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(pe=>pe.destroy()),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this.players.forEach(pe=>pe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(pe){const he=pe*this.totalTime;this.players.forEach(xe=>{const Ee=xe.totalTime?Math.min(1,he/xe.totalTime):1;xe.setPosition(Ee)})}getPosition(){const pe=this.players.reduce((he,xe)=>null===he||xe.totalTime>he.totalTime?xe:he,null);return null!=pe?pe.getPosition():0}beforeDestroy(){this.players.forEach(pe=>{pe.beforeDestroy&&pe.beforeDestroy()})}triggerCallback(pe){const he="start"==pe?this._onStartFns:this._onDoneFns;he.forEach(xe=>xe()),he.length=0}}const Ft="!"},5664:(Yt,Ye,b)=>{b.d(Ye,{s1:()=>it,Em:()=>wt,tE:()=>ln,qV:()=>vt,qm:()=>Ci,ic:()=>kt,Kd:()=>de,X6:()=>pn,yG:()=>dn});var h=b(9808),g=b(5e3),C=b(925),ne=b(7579),ge=b(727),ve=b(1135),ke=b(9646),ye=b(1159),le=b(8505),se=b(8372),fe=b(9300),De=b(4004),We=b(5698),Re=b(5684),je=b(1884),lt=b(2722),Ue=b(3191);class Je{constructor(P){this._items=P,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ne.x,this._typeaheadSubscription=ge.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=x=>x.disabled,this._pressedLetters=[],this.tabOut=new ne.x,this.change=new ne.x,P instanceof g.n_E&&P.changes.subscribe(x=>{if(this._activeItem){const Te=x.toArray().indexOf(this._activeItem);Te>-1&&Te!==this._activeItemIndex&&(this._activeItemIndex=Te)}})}skipPredicate(P){return this._skipPredicateFn=P,this}withWrap(P=!0){return this._wrap=P,this}withVerticalOrientation(P=!0){return this._vertical=P,this}withHorizontalOrientation(P){return this._horizontal=P,this}withAllowedModifierKeys(P){return this._allowedModifierKeys=P,this}withTypeAhead(P=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,le.b)(x=>this._pressedLetters.push(x)),(0,se.b)(P),(0,fe.h)(()=>this._pressedLetters.length>0),(0,De.U)(()=>this._pressedLetters.join(""))).subscribe(x=>{const G=this._getItemsArray();for(let Te=1;Te<G.length+1;Te++){const dt=(this._activeItemIndex+Te)%G.length,Wt=G[dt];if(!this._skipPredicateFn(Wt)&&0===Wt.getLabel().toUpperCase().trim().indexOf(x)){this.setActiveItem(dt);break}}this._pressedLetters=[]}),this}withHomeAndEnd(P=!0){return this._homeAndEnd=P,this}setActiveItem(P){const x=this._activeItem;this.updateActiveItem(P),this._activeItem!==x&&this.change.next(this._activeItemIndex)}onKeydown(P){const x=P.keyCode,Te=["altKey","ctrlKey","metaKey","shiftKey"].every(dt=>!P[dt]||this._allowedModifierKeys.indexOf(dt)>-1);switch(x){case ye.Mf:return void this.tabOut.next();case ye.JH:if(this._vertical&&Te){this.setNextItemActive();break}return;case ye.LH:if(this._vertical&&Te){this.setPreviousItemActive();break}return;case ye.SV:if(this._horizontal&&Te){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ye.oh:if(this._horizontal&&Te){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ye.Sd:if(this._homeAndEnd&&Te){this.setFirstItemActive();break}return;case ye.uR:if(this._homeAndEnd&&Te){this.setLastItemActive();break}return;default:return void((Te||(0,ye.Vb)(P,"shiftKey"))&&(P.key&&1===P.key.length?this._letterKeyStream.next(P.key.toLocaleUpperCase()):(x>=ye.A&&x<=ye.Z||x>=ye.xE&&x<=ye.aO)&&this._letterKeyStream.next(String.fromCharCode(x))))}this._pressedLetters=[],P.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(P){const x=this._getItemsArray(),G="number"==typeof P?P:x.indexOf(P),Te=x[G];this._activeItem=null==Te?null:Te,this._activeItemIndex=G}_setActiveItemByDelta(P){this._wrap?this._setActiveInWrapMode(P):this._setActiveInDefaultMode(P)}_setActiveInWrapMode(P){const x=this._getItemsArray();for(let G=1;G<=x.length;G++){const Te=(this._activeItemIndex+P*G+x.length)%x.length;if(!this._skipPredicateFn(x[Te]))return void this.setActiveItem(Te)}}_setActiveInDefaultMode(P){this._setActiveItemByIndex(this._activeItemIndex+P,P)}_setActiveItemByIndex(P,x){const G=this._getItemsArray();if(G[P]){for(;this._skipPredicateFn(G[P]);)if(!G[P+=x])return;this.setActiveItem(P)}}_getItemsArray(){return this._items instanceof g.n_E?this._items.toArray():this._items}}class it extends Je{setActiveItem(P){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(P),this.activeItem&&this.activeItem.setActiveStyles()}}class wt extends Je{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(P){return this._origin=P,this}setActiveItem(P){super.setActiveItem(P),this.activeItem&&this.activeItem.focus(this._origin)}}let kt=(()=>{class ${constructor(x){this._platform=x}isDisabled(x){return x.hasAttribute("disabled")}isVisible(x){return function ct($){return!!($.offsetWidth||$.offsetHeight||"function"==typeof $.getClientRects&&$.getClientRects().length)}(x)&&"visible"===getComputedStyle(x).visibility}isTabbable(x){if(!this._platform.isBrowser)return!1;const G=function At($){try{return $.frameElement}catch(P){return null}}(function ht($){return $.ownerDocument&&$.ownerDocument.defaultView||window}(x));if(G&&(-1===Bt(G)||!this.isVisible(G)))return!1;let Te=x.nodeName.toLowerCase(),dt=Bt(x);return x.hasAttribute("contenteditable")?-1!==dt:!("iframe"===Te||"object"===Te||this._platform.WEBKIT&&this._platform.IOS&&!function bt($){let P=$.nodeName.toLowerCase(),x="input"===P&&$.type;return"text"===x||"password"===x||"select"===P||"textarea"===P}(x))&&("audio"===Te?!!x.hasAttribute("controls")&&-1!==dt:"video"===Te?-1!==dt&&(null!==dt||this._platform.FIREFOX||x.hasAttribute("controls")):x.tabIndex>=0)}isFocusable(x,G){return function pt($){return!function $e($){return function gt($){return"input"==$.nodeName.toLowerCase()}($)&&"hidden"==$.type}($)&&(function Xe($){let P=$.nodeName.toLowerCase();return"input"===P||"select"===P||"button"===P||"textarea"===P}($)||function et($){return function Q($){return"a"==$.nodeName.toLowerCase()}($)&&$.hasAttribute("href")}($)||$.hasAttribute("contenteditable")||Ce($))}(x)&&!this.isDisabled(x)&&((null==G?void 0:G.ignoreVisibility)||this.isVisible(x))}}return $.\u0275fac=function(x){return new(x||$)(g.LFG(C.t4))},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();function Ce($){if(!$.hasAttribute("tabindex")||void 0===$.tabIndex)return!1;let P=$.getAttribute("tabindex");return!(!P||isNaN(parseInt(P,10)))}function Bt($){if(!Ce($))return null;const P=parseInt($.getAttribute("tabindex")||"",10);return isNaN(P)?-1:P}class Me{constructor(P,x,G,Te,dt=!1){this._element=P,this._checker=x,this._ngZone=G,this._document=Te,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,dt||this.attachAnchors()}get enabled(){return this._enabled}set enabled(P){this._enabled=P,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(P,this._startAnchor),this._toggleAnchorTabIndex(P,this._endAnchor))}destroy(){const P=this._startAnchor,x=this._endAnchor;P&&(P.removeEventListener("focus",this.startAnchorListener),P.remove()),x&&(x.removeEventListener("focus",this.endAnchorListener),x.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(P){return new Promise(x=>{this._executeOnStable(()=>x(this.focusInitialElement(P)))})}focusFirstTabbableElementWhenReady(P){return new Promise(x=>{this._executeOnStable(()=>x(this.focusFirstTabbableElement(P)))})}focusLastTabbableElementWhenReady(P){return new Promise(x=>{this._executeOnStable(()=>x(this.focusLastTabbableElement(P)))})}_getRegionBoundary(P){const x=this._element.querySelectorAll(`[cdk-focus-region-${P}], [cdkFocusRegion${P}], [cdk-focus-${P}]`);return"start"==P?x.length?x[0]:this._getFirstTabbableElement(this._element):x.length?x[x.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(P){const x=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(x){if(!this._checker.isFocusable(x)){const G=this._getFirstTabbableElement(x);return null==G||G.focus(P),!!G}return x.focus(P),!0}return this.focusFirstTabbableElement(P)}focusFirstTabbableElement(P){const x=this._getRegionBoundary("start");return x&&x.focus(P),!!x}focusLastTabbableElement(P){const x=this._getRegionBoundary("end");return x&&x.focus(P),!!x}hasAttached(){return this._hasAttached}_getFirstTabbableElement(P){if(this._checker.isFocusable(P)&&this._checker.isTabbable(P))return P;const x=P.children;for(let G=0;G<x.length;G++){const Te=x[G].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(x[G]):null;if(Te)return Te}return null}_getLastTabbableElement(P){if(this._checker.isFocusable(P)&&this._checker.isTabbable(P))return P;const x=P.children;for(let G=x.length-1;G>=0;G--){const Te=x[G].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(x[G]):null;if(Te)return Te}return null}_createAnchor(){const P=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,P),P.classList.add("cdk-visually-hidden"),P.classList.add("cdk-focus-trap-anchor"),P.setAttribute("aria-hidden","true"),P}_toggleAnchorTabIndex(P,x){P?x.setAttribute("tabindex","0"):x.removeAttribute("tabindex")}toggleAnchors(P){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(P,this._startAnchor),this._toggleAnchorTabIndex(P,this._endAnchor))}_executeOnStable(P){this._ngZone.isStable?P():this._ngZone.onStable.pipe((0,We.q)(1)).subscribe(P)}}let vt=(()=>{class ${constructor(x,G,Te){this._checker=x,this._ngZone=G,this._document=Te}create(x,G=!1){return new Me(x,this._checker,this._ngZone,this._document,G)}}return $.\u0275fac=function(x){return new(x||$)(g.LFG(kt),g.LFG(g.R0b),g.LFG(h.K0))},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();function pn($){return 0===$.buttons||0===$.offsetX&&0===$.offsetY}function dn($){const P=$.touches&&$.touches[0]||$.changedTouches&&$.changedTouches[0];return!(!P||-1!==P.identifier||null!=P.radiusX&&1!==P.radiusX||null!=P.radiusY&&1!==P.radiusY)}const ft=new g.OlP("cdk-input-modality-detector-options"),V={ignoreKeys:[ye.zL,ye.jx,ye.b2,ye.MW,ye.JU]},we=(0,C.i$)({passive:!0,capture:!0});let Oe=(()=>{class ${constructor(x,G,Te,dt){this._platform=x,this._mostRecentTarget=null,this._modality=new ve.X(null),this._lastTouchMs=0,this._onKeydown=Wt=>{var Pn,Nn;(null===(Nn=null===(Pn=this._options)||void 0===Pn?void 0:Pn.ignoreKeys)||void 0===Nn?void 0:Nn.some(oi=>oi===Wt.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,C.sA)(Wt))},this._onMousedown=Wt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(pn(Wt)?"keyboard":"mouse"),this._mostRecentTarget=(0,C.sA)(Wt))},this._onTouchstart=Wt=>{dn(Wt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,C.sA)(Wt))},this._options=Object.assign(Object.assign({},V),dt),this.modalityDetected=this._modality.pipe((0,Re.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,je.x)()),x.isBrowser&&G.runOutsideAngular(()=>{Te.addEventListener("keydown",this._onKeydown,we),Te.addEventListener("mousedown",this._onMousedown,we),Te.addEventListener("touchstart",this._onTouchstart,we)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,we),document.removeEventListener("mousedown",this._onMousedown,we),document.removeEventListener("touchstart",this._onTouchstart,we))}}return $.\u0275fac=function(x){return new(x||$)(g.LFG(C.t4),g.LFG(g.R0b),g.LFG(h.K0),g.LFG(ft,8))},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const Pe=new g.OlP("liveAnnouncerElement",{providedIn:"root",factory:function q(){return null}}),Be=new g.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let de=(()=>{class ${constructor(x,G,Te,dt){this._ngZone=G,this._defaultOptions=dt,this._document=Te,this._liveElement=x||this._createLiveElement()}announce(x,...G){const Te=this._defaultOptions;let dt,Wt;return 1===G.length&&"number"==typeof G[0]?Wt=G[0]:[dt,Wt]=G,this.clear(),clearTimeout(this._previousTimeout),dt||(dt=Te&&Te.politeness?Te.politeness:"polite"),null==Wt&&Te&&(Wt=Te.duration),this._liveElement.setAttribute("aria-live",dt),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Pn=>this._currentResolve=Pn)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=x,"number"==typeof Wt&&(this._previousTimeout=setTimeout(()=>this.clear(),Wt)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var x,G;clearTimeout(this._previousTimeout),null===(x=this._liveElement)||void 0===x||x.remove(),this._liveElement=null,null===(G=this._currentResolve)||void 0===G||G.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const x="cdk-live-announcer-element",G=this._document.getElementsByClassName(x),Te=this._document.createElement("div");for(let dt=0;dt<G.length;dt++)G[dt].remove();return Te.classList.add(x),Te.classList.add("cdk-visually-hidden"),Te.setAttribute("aria-atomic","true"),Te.setAttribute("aria-live","polite"),this._document.body.appendChild(Te),Te}}return $.\u0275fac=function(x){return new(x||$)(g.LFG(Pe,8),g.LFG(g.R0b),g.LFG(h.K0),g.LFG(Be,8))},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const Vt=new g.OlP("cdk-focus-monitor-default-options"),en=(0,C.i$)({passive:!0,capture:!0});let ln=(()=>{class ${constructor(x,G,Te,dt,Wt){this._ngZone=x,this._platform=G,this._inputModalityDetector=Te,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne.x,this._rootNodeFocusAndBlurListener=Pn=>{const Nn=(0,C.sA)(Pn),oi="focus"===Pn.type?this._onFocus:this._onBlur;for(let vn=Nn;vn;vn=vn.parentElement)oi.call(this,Pn,vn)},this._document=dt,this._detectionMode=(null==Wt?void 0:Wt.detectionMode)||0}monitor(x,G=!1){const Te=(0,Ue.fI)(x);if(!this._platform.isBrowser||1!==Te.nodeType)return(0,ke.of)(null);const dt=(0,C.kV)(Te)||this._getDocument(),Wt=this._elementInfo.get(Te);if(Wt)return G&&(Wt.checkChildren=!0),Wt.subject;const Pn={checkChildren:G,subject:new ne.x,rootNode:dt};return this._elementInfo.set(Te,Pn),this._registerGlobalListeners(Pn),Pn.subject}stopMonitoring(x){const G=(0,Ue.fI)(x),Te=this._elementInfo.get(G);Te&&(Te.subject.complete(),this._setClasses(G),this._elementInfo.delete(G),this._removeGlobalListeners(Te))}focusVia(x,G,Te){const dt=(0,Ue.fI)(x);dt===this._getDocument().activeElement?this._getClosestElementsInfo(dt).forEach(([Pn,Nn])=>this._originChanged(Pn,G,Nn)):(this._setOrigin(G),"function"==typeof dt.focus&&dt.focus(Te))}ngOnDestroy(){this._elementInfo.forEach((x,G)=>this.stopMonitoring(G))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(x){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(x)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(x){return 1===this._detectionMode||!!(null==x?void 0:x.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(x,G){x.classList.toggle("cdk-focused",!!G),x.classList.toggle("cdk-touch-focused","touch"===G),x.classList.toggle("cdk-keyboard-focused","keyboard"===G),x.classList.toggle("cdk-mouse-focused","mouse"===G),x.classList.toggle("cdk-program-focused","program"===G)}_setOrigin(x,G=!1){this._ngZone.runOutsideAngular(()=>{this._origin=x,this._originFromTouchInteraction="touch"===x&&G,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(x,G){const Te=this._elementInfo.get(G),dt=(0,C.sA)(x);!Te||!Te.checkChildren&&G!==dt||this._originChanged(G,this._getFocusOrigin(dt),Te)}_onBlur(x,G){const Te=this._elementInfo.get(G);!Te||Te.checkChildren&&x.relatedTarget instanceof Node&&G.contains(x.relatedTarget)||(this._setClasses(G),this._emitOrigin(Te.subject,null))}_emitOrigin(x,G){this._ngZone.run(()=>x.next(G))}_registerGlobalListeners(x){if(!this._platform.isBrowser)return;const G=x.rootNode,Te=this._rootNodeFocusListenerCount.get(G)||0;Te||this._ngZone.runOutsideAngular(()=>{G.addEventListener("focus",this._rootNodeFocusAndBlurListener,en),G.addEventListener("blur",this._rootNodeFocusAndBlurListener,en)}),this._rootNodeFocusListenerCount.set(G,Te+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,lt.R)(this._stopInputModalityDetector)).subscribe(dt=>{this._setOrigin(dt,!0)}))}_removeGlobalListeners(x){const G=x.rootNode;if(this._rootNodeFocusListenerCount.has(G)){const Te=this._rootNodeFocusListenerCount.get(G);Te>1?this._rootNodeFocusListenerCount.set(G,Te-1):(G.removeEventListener("focus",this._rootNodeFocusAndBlurListener,en),G.removeEventListener("blur",this._rootNodeFocusAndBlurListener,en),this._rootNodeFocusListenerCount.delete(G))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(x,G,Te){this._setClasses(x,G),this._emitOrigin(Te.subject,G),this._lastFocusOrigin=G}_getClosestElementsInfo(x){const G=[];return this._elementInfo.forEach((Te,dt)=>{(dt===x||Te.checkChildren&&dt.contains(x))&&G.push([dt,Te])}),G}}return $.\u0275fac=function(x){return new(x||$)(g.LFG(g.R0b),g.LFG(C.t4),g.LFG(Oe),g.LFG(h.K0,8),g.LFG(Vt,8))},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const Ln="cdk-high-contrast-black-on-white",ni="cdk-high-contrast-white-on-black",on="cdk-high-contrast-active";let Ci=(()=>{class ${constructor(x,G){this._platform=x,this._document=G}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const x=this._document.createElement("div");x.style.backgroundColor="rgb(1,2,3)",x.style.position="absolute",this._document.body.appendChild(x);const G=this._document.defaultView||window,Te=G&&G.getComputedStyle?G.getComputedStyle(x):null,dt=(Te&&Te.backgroundColor||"").replace(/ /g,"");switch(x.remove(),dt){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const x=this._document.body.classList;x.remove(on),x.remove(Ln),x.remove(ni),this._hasCheckedHighContrastMode=!0;const G=this.getHighContrastMode();1===G?(x.add(on),x.add(Ln)):2===G&&(x.add(on),x.add(ni))}}}return $.\u0275fac=function(x){return new(x||$)(g.LFG(C.t4),g.LFG(h.K0))},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},226:(Yt,Ye,b)=>{b.d(Ye,{vT:()=>le,Is:()=>ke});var h=b(5e3),g=b(9808);const C=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function ne(){return(0,h.f3M)(g.K0)}}),ge=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ke=(()=>{class se{constructor(De){if(this.value="ltr",this.change=new h.vpe,De){const Re=De.documentElement?De.documentElement.dir:null;this.value=function ve(se){const fe=(null==se?void 0:se.toLowerCase())||"";return"auto"===fe&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ge.test(navigator.language)?"rtl":"ltr":"rtl"===fe?"rtl":"ltr"}((De.body?De.body.dir:null)||Re||"ltr")}}ngOnDestroy(){this.change.complete()}}return se.\u0275fac=function(De){return new(De||se)(h.LFG(C,8))},se.\u0275prov=h.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),le=(()=>{class se{}return se.\u0275fac=function(De){return new(De||se)},se.\u0275mod=h.oAB({type:se}),se.\u0275inj=h.cJS({}),se})()},3191:(Yt,Ye,b)=>{b.d(Ye,{Eq:()=>ge,Ig:()=>g,HM:()=>ve,fI:()=>ke,su:()=>C});var h=b(5e3);function g(le){return null!=le&&"false"!=`${le}`}function C(le,se=0){return function ne(le){return!isNaN(parseFloat(le))&&!isNaN(Number(le))}(le)?Number(le):se}function ge(le){return Array.isArray(le)?le:[le]}function ve(le){return null==le?"":"string"==typeof le?le:`${le}px`}function ke(le){return le instanceof h.SBq?le.nativeElement:le}},449:(Yt,Ye,b)=>{b.d(Ye,{o2:()=>C,Ov:()=>ye,Z9:()=>ne});var h=b(7579);b(5e3);class C{}function ne(De){return De&&"function"==typeof De.connect}class ye{constructor(We=!1,Re,je=!0){this._multiple=We,this._emitChanges=je,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new h.x,Re&&Re.length&&(We?Re.forEach(lt=>this._markSelected(lt)):this._markSelected(Re[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...We){this._verifyValueAssignment(We),We.forEach(Re=>this._markSelected(Re)),this._emitChangeEvent()}deselect(...We){this._verifyValueAssignment(We),We.forEach(Re=>this._unmarkSelected(Re)),this._emitChangeEvent()}toggle(We){this.isSelected(We)?this.deselect(We):this.select(We)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(We){return this._selection.has(We)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(We){this._multiple&&this.selected&&this._selected.sort(We)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(We){this.isSelected(We)||(this._multiple||this._unmarkAll(),this._selection.add(We),this._emitChanges&&this._selectedToEmit.push(We))}_unmarkSelected(We){this.isSelected(We)&&(this._selection.delete(We),this._emitChanges&&this._deselectedToEmit.push(We))}_unmarkAll(){this.isEmpty()||this._selection.forEach(We=>this._unmarkSelected(We))}_verifyValueAssignment(We){}}},1159:(Yt,Ye,b)=>{b.d(Ye,{A:()=>gt,zL:()=>ye,ZH:()=>g,jx:()=>ke,yY:()=>xe,JH:()=>Ft,uR:()=>je,K5:()=>ge,hY:()=>fe,Sd:()=>lt,oh:()=>Ue,b2:()=>Fr,MW:()=>Ke,aO:()=>At,SV:()=>Ae,JU:()=>ve,L_:()=>De,Mf:()=>C,LH:()=>rt,Z:()=>de,xE:()=>Ee,Vb:()=>dr});const g=8,C=9,ge=13,ve=16,ke=17,ye=18,fe=27,De=32,je=35,lt=36,Ue=37,rt=38,Ae=39,Ft=40,xe=46,Ee=48,At=57,gt=65,de=90,Ke=91,Fr=224;function dr(hi,...Lr){return Lr.length?Lr.some(ys=>hi[ys]):hi.altKey||hi.shiftKey||hi.ctrlKey||hi.metaKey}},9776:(Yt,Ye,b)=>{b.d(Ye,{pI:()=>cn,xu:()=>Jt,aV:()=>vt,X_:()=>ee,Xj:()=>kt,U8:()=>pn});var h=b(5494),g=b(9808),C=b(5e3),ne=b(3191),ge=b(925),ve=b(226),ke=b(7429),ye=b(7579),le=b(727),se=b(6451),fe=b(4482),De=b(5403),Re=b(5698),je=b(2722),lt=b(1159);const Ue=(0,ge.Mq)();class rt{constructor(V,X){this._viewportRuler=V,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=X}attach(){}enable(){if(this._canBeEnabled()){const V=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=V.style.left||"",this._previousHTMLStyles.top=V.style.top||"",V.style.left=(0,ne.HM)(-this._previousScrollPosition.left),V.style.top=(0,ne.HM)(-this._previousScrollPosition.top),V.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const V=this._document.documentElement,we=V.style,Oe=this._document.body.style,Pe=we.scrollBehavior||"",q=Oe.scrollBehavior||"";this._isEnabled=!1,we.left=this._previousHTMLStyles.left,we.top=this._previousHTMLStyles.top,V.classList.remove("cdk-global-scrollblock"),Ue&&(we.scrollBehavior=Oe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ue&&(we.scrollBehavior=Pe,Oe.scrollBehavior=q)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const X=this._document.body,we=this._viewportRuler.getViewportSize();return X.scrollHeight>we.height||X.scrollWidth>we.width}}class Ft{constructor(V,X,we,Oe){this._scrollDispatcher=V,this._ngZone=X,this._viewportRuler=we,this._config=Oe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(V){this._overlayRef=V}enable(){if(this._scrollSubscription)return;const V=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=V.subscribe(()=>{const X=this._viewportRuler.getViewportScrollPosition().top;Math.abs(X-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=V.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class nt{enable(){}disable(){}attach(){}}function pe(ft,V){return V.some(X=>ft.bottom<X.top||ft.top>X.bottom||ft.right<X.left||ft.left>X.right)}function he(ft,V){return V.some(X=>ft.top<X.top||ft.bottom>X.bottom||ft.left<X.left||ft.right>X.right)}class xe{constructor(V,X,we,Oe){this._scrollDispatcher=V,this._viewportRuler=X,this._ngZone=we,this._config=Oe,this._scrollSubscription=null}attach(V){this._overlayRef=V}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const X=this._overlayRef.overlayElement.getBoundingClientRect(),{width:we,height:Oe}=this._viewportRuler.getViewportSize();pe(X,[{width:we,height:Oe,bottom:Oe,right:we,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ee=(()=>{class ft{constructor(X,we,Oe,Pe){this._scrollDispatcher=X,this._viewportRuler=we,this._ngZone=Oe,this.noop=()=>new nt,this.close=q=>new Ft(this._scrollDispatcher,this._ngZone,this._viewportRuler,q),this.block=()=>new rt(this._viewportRuler,this._document),this.reposition=q=>new xe(this._scrollDispatcher,this._viewportRuler,this._ngZone,q),this._document=Pe}}return ft.\u0275fac=function(X){return new(X||ft)(C.LFG(h.mF),C.LFG(h.rL),C.LFG(C.R0b),C.LFG(g.K0))},ft.\u0275prov=C.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})();class ee{constructor(V){if(this.scrollStrategy=new nt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,V){const X=Object.keys(V);for(const we of X)void 0!==V[we]&&(this[we]=V[we])}}}class Je{constructor(V,X){this.connectionPair=V,this.scrollableViewProperties=X}}class yt{constructor(V,X,we,Oe,Pe,q,Be,de,Ke){this._portalOutlet=V,this._host=X,this._pane=we,this._config=Oe,this._ngZone=Pe,this._keyboardDispatcher=q,this._document=Be,this._location=de,this._outsideClickDispatcher=Ke,this._backdropElement=null,this._backdropClick=new ye.x,this._attachments=new ye.x,this._detachments=new ye.x,this._locationChanges=le.w0.EMPTY,this._backdropClickHandler=Vt=>this._backdropClick.next(Vt),this._backdropTransitionendHandler=Vt=>{this._disposeBackdrop(Vt.target)},this._keydownEvents=new ye.x,this._outsidePointerEvents=new ye.x,Oe.scrollStrategy&&(this._scrollStrategy=Oe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Oe.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(V){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const X=this._portalOutlet.attach(V);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Re.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),X}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const V=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),V}dispose(){var V;const X=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(V=this._host)||void 0===V||V.remove(),this._previousHostParent=this._pane=this._host=null,X&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(V){V!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=V,this.hasAttached()&&(V.attach(this),this.updatePosition()))}updateSize(V){this._config=Object.assign(Object.assign({},this._config),V),this._updateElementSize()}setDirection(V){this._config=Object.assign(Object.assign({},this._config),{direction:V}),this._updateElementDirection()}addPanelClass(V){this._pane&&this._toggleClasses(this._pane,V,!0)}removePanelClass(V){this._pane&&this._toggleClasses(this._pane,V,!1)}getDirection(){const V=this._config.direction;return V?"string"==typeof V?V:V.value:"ltr"}updateScrollStrategy(V){V!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=V,this.hasAttached()&&(V.attach(this),V.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const V=this._pane.style;V.width=(0,ne.HM)(this._config.width),V.height=(0,ne.HM)(this._config.height),V.minWidth=(0,ne.HM)(this._config.minWidth),V.minHeight=(0,ne.HM)(this._config.minHeight),V.maxWidth=(0,ne.HM)(this._config.maxWidth),V.maxHeight=(0,ne.HM)(this._config.maxHeight)}_togglePointerEvents(V){this._pane.style.pointerEvents=V?"":"none"}_attachBackdrop(){const V="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(V)})}):this._backdropElement.classList.add(V)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const V=this._backdropElement;!V||(V.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{V.addEventListener("transitionend",this._backdropTransitionendHandler)}),V.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(V)},500)))}_toggleClasses(V,X,we){const Oe=(0,ne.Eq)(X||[]).filter(Pe=>!!Pe);Oe.length&&(we?V.classList.add(...Oe):V.classList.remove(...Oe))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const V=this._ngZone.onStable.pipe((0,je.R)((0,se.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),V.unsubscribe())})})}_disposeScrollStrategy(){const V=this._scrollStrategy;V&&(V.disable(),V.detach&&V.detach())}_disposeBackdrop(V){V&&(V.removeEventListener("click",this._backdropClickHandler),V.removeEventListener("transitionend",this._backdropTransitionendHandler),V.remove(),this._backdropElement===V&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let kt=(()=>{class ft{constructor(X,we){this._platform=we,this._document=X}ngOnDestroy(){var X;null===(X=this._containerElement)||void 0===X||X.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const X="cdk-overlay-container";if(this._platform.isBrowser||(0,ge.Oy)()){const Oe=this._document.querySelectorAll(`.${X}[platform="server"], .${X}[platform="test"]`);for(let Pe=0;Pe<Oe.length;Pe++)Oe[Pe].remove()}const we=this._document.createElement("div");we.classList.add(X),(0,ge.Oy)()?we.setAttribute("platform","test"):this._platform.isBrowser||we.setAttribute("platform","server"),this._document.body.appendChild(we),this._containerElement=we}}return ft.\u0275fac=function(X){return new(X||ft)(C.LFG(g.K0),C.LFG(ge.t4))},ft.\u0275prov=C.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})();const At="cdk-overlay-connected-position-bounding-box",ct=/([A-Za-z%]+)$/;class Xe{constructor(V,X,we,Oe,Pe){this._viewportRuler=X,this._document=we,this._platform=Oe,this._overlayContainer=Pe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ye.x,this._resizeSubscription=le.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(V)}get positions(){return this._preferredPositions}attach(V){this._validatePositions(),V.hostElement.classList.add(At),this._overlayRef=V,this._boundingBox=V.hostElement,this._pane=V.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const V=this._originRect,X=this._overlayRect,we=this._viewportRect,Oe=this._containerRect,Pe=[];let q;for(let Be of this._preferredPositions){let de=this._getOriginPoint(V,Oe,Be),Ke=this._getOverlayPoint(de,X,Be),Vt=this._getOverlayFit(Ke,X,we,Be);if(Vt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Be,de);this._canFitWithFlexibleDimensions(Vt,Ke,we)?Pe.push({position:Be,origin:de,overlayRect:X,boundingBoxRect:this._calculateBoundingBoxRect(de,Be)}):(!q||q.overlayFit.visibleArea<Vt.visibleArea)&&(q={overlayFit:Vt,overlayPoint:Ke,originPoint:de,position:Be,overlayRect:X})}if(Pe.length){let Be=null,de=-1;for(const Ke of Pe){const Vt=Ke.boundingBoxRect.width*Ke.boundingBoxRect.height*(Ke.position.weight||1);Vt>de&&(de=Vt,Be=Ke)}return this._isPushed=!1,void this._applyPosition(Be.position,Be.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(q.position,q.originPoint);this._applyPosition(q.position,q.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$e(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(At),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const V=this._lastPosition;if(V){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const X=this._getOriginPoint(this._originRect,this._containerRect,V);this._applyPosition(V,X)}else this.apply()}withScrollableContainers(V){return this._scrollables=V,this}withPositions(V){return this._preferredPositions=V,-1===V.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(V){return this._viewportMargin=V,this}withFlexibleDimensions(V=!0){return this._hasFlexibleDimensions=V,this}withGrowAfterOpen(V=!0){return this._growAfterOpen=V,this}withPush(V=!0){return this._canPush=V,this}withLockedPosition(V=!0){return this._positionLocked=V,this}setOrigin(V){return this._origin=V,this}withDefaultOffsetX(V){return this._offsetX=V,this}withDefaultOffsetY(V){return this._offsetY=V,this}withTransformOriginOn(V){return this._transformOriginSelector=V,this}_getOriginPoint(V,X,we){let Oe,Pe;if("center"==we.originX)Oe=V.left+V.width/2;else{const q=this._isRtl()?V.right:V.left,Be=this._isRtl()?V.left:V.right;Oe="start"==we.originX?q:Be}return X.left<0&&(Oe-=X.left),Pe="center"==we.originY?V.top+V.height/2:"top"==we.originY?V.top:V.bottom,X.top<0&&(Pe-=X.top),{x:Oe,y:Pe}}_getOverlayPoint(V,X,we){let Oe,Pe;return Oe="center"==we.overlayX?-X.width/2:"start"===we.overlayX?this._isRtl()?-X.width:0:this._isRtl()?0:-X.width,Pe="center"==we.overlayY?-X.height/2:"top"==we.overlayY?0:-X.height,{x:V.x+Oe,y:V.y+Pe}}_getOverlayFit(V,X,we,Oe){const Pe=gt(X);let{x:q,y:Be}=V,de=this._getOffset(Oe,"x"),Ke=this._getOffset(Oe,"y");de&&(q+=de),Ke&&(Be+=Ke);let ln=0-Be,jn=Be+Pe.height-we.height,Ln=this._subtractOverflows(Pe.width,0-q,q+Pe.width-we.width),ni=this._subtractOverflows(Pe.height,ln,jn),on=Ln*ni;return{visibleArea:on,isCompletelyWithinViewport:Pe.width*Pe.height===on,fitsInViewportVertically:ni===Pe.height,fitsInViewportHorizontally:Ln==Pe.width}}_canFitWithFlexibleDimensions(V,X,we){if(this._hasFlexibleDimensions){const Oe=we.bottom-X.y,Pe=we.right-X.x,q=et(this._overlayRef.getConfig().minHeight),Be=et(this._overlayRef.getConfig().minWidth),Ke=V.fitsInViewportHorizontally||null!=Be&&Be<=Pe;return(V.fitsInViewportVertically||null!=q&&q<=Oe)&&Ke}return!1}_pushOverlayOnScreen(V,X,we){if(this._previousPushAmount&&this._positionLocked)return{x:V.x+this._previousPushAmount.x,y:V.y+this._previousPushAmount.y};const Oe=gt(X),Pe=this._viewportRect,q=Math.max(V.x+Oe.width-Pe.width,0),Be=Math.max(V.y+Oe.height-Pe.height,0),de=Math.max(Pe.top-we.top-V.y,0),Ke=Math.max(Pe.left-we.left-V.x,0);let Vt=0,en=0;return Vt=Oe.width<=Pe.width?Ke||-q:V.x<this._viewportMargin?Pe.left-we.left-V.x:0,en=Oe.height<=Pe.height?de||-Be:V.y<this._viewportMargin?Pe.top-we.top-V.y:0,this._previousPushAmount={x:Vt,y:en},{x:V.x+Vt,y:V.y+en}}_applyPosition(V,X){if(this._setTransformOrigin(V),this._setOverlayElementStyles(X,V),this._setBoundingBoxStyles(X,V),V.panelClass&&this._addPanelClasses(V.panelClass),this._lastPosition=V,this._positionChanges.observers.length){const we=this._getScrollVisibility(),Oe=new Je(V,we);this._positionChanges.next(Oe)}this._isInitialRender=!1}_setTransformOrigin(V){if(!this._transformOriginSelector)return;const X=this._boundingBox.querySelectorAll(this._transformOriginSelector);let we,Oe=V.overlayY;we="center"===V.overlayX?"center":this._isRtl()?"start"===V.overlayX?"right":"left":"start"===V.overlayX?"left":"right";for(let Pe=0;Pe<X.length;Pe++)X[Pe].style.transformOrigin=`${we} ${Oe}`}_calculateBoundingBoxRect(V,X){const we=this._viewportRect,Oe=this._isRtl();let Pe,q,Be,Vt,en,ln;if("top"===X.overlayY)q=V.y,Pe=we.height-q+this._viewportMargin;else if("bottom"===X.overlayY)Be=we.height-V.y+2*this._viewportMargin,Pe=we.height-Be+this._viewportMargin;else{const jn=Math.min(we.bottom-V.y+we.top,V.y),Ln=this._lastBoundingBoxSize.height;Pe=2*jn,q=V.y-jn,Pe>Ln&&!this._isInitialRender&&!this._growAfterOpen&&(q=V.y-Ln/2)}if("end"===X.overlayX&&!Oe||"start"===X.overlayX&&Oe)ln=we.width-V.x+this._viewportMargin,Vt=V.x-this._viewportMargin;else if("start"===X.overlayX&&!Oe||"end"===X.overlayX&&Oe)en=V.x,Vt=we.right-V.x;else{const jn=Math.min(we.right-V.x+we.left,V.x),Ln=this._lastBoundingBoxSize.width;Vt=2*jn,en=V.x-jn,Vt>Ln&&!this._isInitialRender&&!this._growAfterOpen&&(en=V.x-Ln/2)}return{top:q,left:en,bottom:Be,right:ln,width:Vt,height:Pe}}_setBoundingBoxStyles(V,X){const we=this._calculateBoundingBoxRect(V,X);!this._isInitialRender&&!this._growAfterOpen&&(we.height=Math.min(we.height,this._lastBoundingBoxSize.height),we.width=Math.min(we.width,this._lastBoundingBoxSize.width));const Oe={};if(this._hasExactPosition())Oe.top=Oe.left="0",Oe.bottom=Oe.right=Oe.maxHeight=Oe.maxWidth="",Oe.width=Oe.height="100%";else{const Pe=this._overlayRef.getConfig().maxHeight,q=this._overlayRef.getConfig().maxWidth;Oe.height=(0,ne.HM)(we.height),Oe.top=(0,ne.HM)(we.top),Oe.bottom=(0,ne.HM)(we.bottom),Oe.width=(0,ne.HM)(we.width),Oe.left=(0,ne.HM)(we.left),Oe.right=(0,ne.HM)(we.right),Oe.alignItems="center"===X.overlayX?"center":"end"===X.overlayX?"flex-end":"flex-start",Oe.justifyContent="center"===X.overlayY?"center":"bottom"===X.overlayY?"flex-end":"flex-start",Pe&&(Oe.maxHeight=(0,ne.HM)(Pe)),q&&(Oe.maxWidth=(0,ne.HM)(q))}this._lastBoundingBoxSize=we,$e(this._boundingBox.style,Oe)}_resetBoundingBoxStyles(){$e(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$e(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(V,X){const we={},Oe=this._hasExactPosition(),Pe=this._hasFlexibleDimensions,q=this._overlayRef.getConfig();if(Oe){const Vt=this._viewportRuler.getViewportScrollPosition();$e(we,this._getExactOverlayY(X,V,Vt)),$e(we,this._getExactOverlayX(X,V,Vt))}else we.position="static";let Be="",de=this._getOffset(X,"x"),Ke=this._getOffset(X,"y");de&&(Be+=`translateX(${de}px) `),Ke&&(Be+=`translateY(${Ke}px)`),we.transform=Be.trim(),q.maxHeight&&(Oe?we.maxHeight=(0,ne.HM)(q.maxHeight):Pe&&(we.maxHeight="")),q.maxWidth&&(Oe?we.maxWidth=(0,ne.HM)(q.maxWidth):Pe&&(we.maxWidth="")),$e(this._pane.style,we)}_getExactOverlayY(V,X,we){let Oe={top:"",bottom:""},Pe=this._getOverlayPoint(X,this._overlayRect,V);return this._isPushed&&(Pe=this._pushOverlayOnScreen(Pe,this._overlayRect,we)),"bottom"===V.overlayY?Oe.bottom=this._document.documentElement.clientHeight-(Pe.y+this._overlayRect.height)+"px":Oe.top=(0,ne.HM)(Pe.y),Oe}_getExactOverlayX(V,X,we){let q,Oe={left:"",right:""},Pe=this._getOverlayPoint(X,this._overlayRect,V);return this._isPushed&&(Pe=this._pushOverlayOnScreen(Pe,this._overlayRect,we)),q=this._isRtl()?"end"===V.overlayX?"left":"right":"end"===V.overlayX?"right":"left","right"===q?Oe.right=this._document.documentElement.clientWidth-(Pe.x+this._overlayRect.width)+"px":Oe.left=(0,ne.HM)(Pe.x),Oe}_getScrollVisibility(){const V=this._getOriginRect(),X=this._pane.getBoundingClientRect(),we=this._scrollables.map(Oe=>Oe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:he(V,we),isOriginOutsideView:pe(V,we),isOverlayClipped:he(X,we),isOverlayOutsideView:pe(X,we)}}_subtractOverflows(V,...X){return X.reduce((we,Oe)=>we-Math.max(Oe,0),V)}_getNarrowedViewportRect(){const V=this._document.documentElement.clientWidth,X=this._document.documentElement.clientHeight,we=this._viewportRuler.getViewportScrollPosition();return{top:we.top+this._viewportMargin,left:we.left+this._viewportMargin,right:we.left+V-this._viewportMargin,bottom:we.top+X-this._viewportMargin,width:V-2*this._viewportMargin,height:X-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(V,X){return"x"===X?null==V.offsetX?this._offsetX:V.offsetX:null==V.offsetY?this._offsetY:V.offsetY}_validatePositions(){}_addPanelClasses(V){this._pane&&(0,ne.Eq)(V).forEach(X=>{""!==X&&-1===this._appliedPanelClasses.indexOf(X)&&(this._appliedPanelClasses.push(X),this._pane.classList.add(X))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(V=>{this._pane.classList.remove(V)}),this._appliedPanelClasses=[])}_getOriginRect(){const V=this._origin;if(V instanceof C.SBq)return V.nativeElement.getBoundingClientRect();if(V instanceof Element)return V.getBoundingClientRect();const X=V.width||0,we=V.height||0;return{top:V.y,bottom:V.y+we,left:V.x,right:V.x+X,height:we,width:X}}}function $e(ft,V){for(let X in V)V.hasOwnProperty(X)&&(ft[X]=V[X]);return ft}function et(ft){if("number"!=typeof ft&&null!=ft){const[V,X]=ft.split(ct);return X&&"px"!==X?null:parseFloat(V)}return ft||null}function gt(ft){return{top:Math.floor(ft.top),right:Math.floor(ft.right),bottom:Math.floor(ft.bottom),left:Math.floor(ft.left),width:Math.floor(ft.width),height:Math.floor(ft.height)}}const Q="cdk-global-overlay-wrapper";class Ce{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(V){const X=V.getConfig();this._overlayRef=V,this._width&&!X.width&&V.updateSize({width:this._width}),this._height&&!X.height&&V.updateSize({height:this._height}),V.hostElement.classList.add(Q),this._isDisposed=!1}top(V=""){return this._bottomOffset="",this._topOffset=V,this._alignItems="flex-start",this}left(V=""){return this._rightOffset="",this._leftOffset=V,this._justifyContent="flex-start",this}bottom(V=""){return this._topOffset="",this._bottomOffset=V,this._alignItems="flex-end",this}right(V=""){return this._leftOffset="",this._rightOffset=V,this._justifyContent="flex-end",this}width(V=""){return this._overlayRef?this._overlayRef.updateSize({width:V}):this._width=V,this}height(V=""){return this._overlayRef?this._overlayRef.updateSize({height:V}):this._height=V,this}centerHorizontally(V=""){return this.left(V),this._justifyContent="center",this}centerVertically(V=""){return this.top(V),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const V=this._overlayRef.overlayElement.style,X=this._overlayRef.hostElement.style,we=this._overlayRef.getConfig(),{width:Oe,height:Pe,maxWidth:q,maxHeight:Be}=we,de=!("100%"!==Oe&&"100vw"!==Oe||q&&"100%"!==q&&"100vw"!==q),Ke=!("100%"!==Pe&&"100vh"!==Pe||Be&&"100%"!==Be&&"100vh"!==Be);V.position=this._cssPosition,V.marginLeft=de?"0":this._leftOffset,V.marginTop=Ke?"0":this._topOffset,V.marginBottom=this._bottomOffset,V.marginRight=this._rightOffset,de?X.justifyContent="flex-start":"center"===this._justifyContent?X.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?X.justifyContent="flex-end":"flex-end"===this._justifyContent&&(X.justifyContent="flex-start"):X.justifyContent=this._justifyContent,X.alignItems=Ke?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const V=this._overlayRef.overlayElement.style,X=this._overlayRef.hostElement,we=X.style;X.classList.remove(Q),we.justifyContent=we.alignItems=V.marginTop=V.marginBottom=V.marginLeft=V.marginRight=V.position="",this._overlayRef=null,this._isDisposed=!0}}let Bt=(()=>{class ft{constructor(X,we,Oe,Pe){this._viewportRuler=X,this._document=we,this._platform=Oe,this._overlayContainer=Pe}global(){return new Ce}flexibleConnectedTo(X){return new Xe(X,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return ft.\u0275fac=function(X){return new(X||ft)(C.LFG(h.rL),C.LFG(g.K0),C.LFG(ge.t4),C.LFG(kt))},ft.\u0275prov=C.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})(),bt=(()=>{class ft{constructor(X){this._attachedOverlays=[],this._document=X}ngOnDestroy(){this.detach()}add(X){this.remove(X),this._attachedOverlays.push(X)}remove(X){const we=this._attachedOverlays.indexOf(X);we>-1&&this._attachedOverlays.splice(we,1),0===this._attachedOverlays.length&&this.detach()}}return ft.\u0275fac=function(X){return new(X||ft)(C.LFG(g.K0))},ft.\u0275prov=C.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})(),pt=(()=>{class ft extends bt{constructor(X,we){super(X),this._ngZone=we,this._keydownListener=Oe=>{const Pe=this._attachedOverlays;for(let q=Pe.length-1;q>-1;q--)if(Pe[q]._keydownEvents.observers.length>0){const Be=Pe[q]._keydownEvents;this._ngZone?this._ngZone.run(()=>Be.next(Oe)):Be.next(Oe);break}}}add(X){super.add(X),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return ft.\u0275fac=function(X){return new(X||ft)(C.LFG(g.K0),C.LFG(C.R0b,8))},ft.\u0275prov=C.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})(),ht=(()=>{class ft extends bt{constructor(X,we,Oe){super(X),this._platform=we,this._ngZone=Oe,this._cursorStyleIsSet=!1,this._pointerDownListener=Pe=>{this._pointerDownEventTarget=(0,ge.sA)(Pe)},this._clickListener=Pe=>{const q=(0,ge.sA)(Pe),Be="click"===Pe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:q;this._pointerDownEventTarget=null;const de=this._attachedOverlays.slice();for(let Ke=de.length-1;Ke>-1;Ke--){const Vt=de[Ke];if(Vt._outsidePointerEvents.observers.length<1||!Vt.hasAttached())continue;if(Vt.overlayElement.contains(q)||Vt.overlayElement.contains(Be))break;const en=Vt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>en.next(Pe)):en.next(Pe)}}}add(X){if(super.add(X),!this._isAttached){const we=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(we)):this._addEventListeners(we),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=we.style.cursor,we.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const X=this._document.body;X.removeEventListener("pointerdown",this._pointerDownListener,!0),X.removeEventListener("click",this._clickListener,!0),X.removeEventListener("auxclick",this._clickListener,!0),X.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(X.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(X){X.addEventListener("pointerdown",this._pointerDownListener,!0),X.addEventListener("click",this._clickListener,!0),X.addEventListener("auxclick",this._clickListener,!0),X.addEventListener("contextmenu",this._clickListener,!0)}}return ft.\u0275fac=function(X){return new(X||ft)(C.LFG(g.K0),C.LFG(ge.t4),C.LFG(C.R0b,8))},ft.\u0275prov=C.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})(),Me=0,vt=(()=>{class ft{constructor(X,we,Oe,Pe,q,Be,de,Ke,Vt,en,ln){this.scrollStrategies=X,this._overlayContainer=we,this._componentFactoryResolver=Oe,this._positionBuilder=Pe,this._keyboardDispatcher=q,this._injector=Be,this._ngZone=de,this._document=Ke,this._directionality=Vt,this._location=en,this._outsideClickDispatcher=ln}create(X){const we=this._createHostElement(),Oe=this._createPaneElement(we),Pe=this._createPortalOutlet(Oe),q=new ee(X);return q.direction=q.direction||this._directionality.value,new yt(Pe,we,Oe,q,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(X){const we=this._document.createElement("div");return we.id="cdk-overlay-"+Me++,we.classList.add("cdk-overlay-pane"),X.appendChild(we),we}_createHostElement(){const X=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(X),X}_createPortalOutlet(X){return this._appRef||(this._appRef=this._injector.get(C.z2F)),new ke.u0(X,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return ft.\u0275fac=function(X){return new(X||ft)(C.LFG(Ee),C.LFG(kt),C.LFG(C._Vd),C.LFG(Bt),C.LFG(pt),C.LFG(C.zs3),C.LFG(C.R0b),C.LFG(g.K0),C.LFG(ve.Is),C.LFG(g.Ye),C.LFG(ht))},ft.\u0275prov=C.Yz7({token:ft,factory:ft.\u0275fac}),ft})();const Se=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Et=new C.OlP("cdk-connected-overlay-scroll-strategy");let Jt=(()=>{class ft{constructor(X){this.elementRef=X}}return ft.\u0275fac=function(X){return new(X||ft)(C.Y36(C.SBq))},ft.\u0275dir=C.lG2({type:ft,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),ft})(),cn=(()=>{class ft{constructor(X,we,Oe,Pe,q){this._overlay=X,this._dir=q,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=le.w0.EMPTY,this._attachSubscription=le.w0.EMPTY,this._detachSubscription=le.w0.EMPTY,this._positionSubscription=le.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new C.vpe,this.positionChange=new C.vpe,this.attach=new C.vpe,this.detach=new C.vpe,this.overlayKeydown=new C.vpe,this.overlayOutsideClick=new C.vpe,this._templatePortal=new ke.UE(we,Oe),this._scrollStrategyFactory=Pe,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(X){this._offsetX=X,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(X){this._offsetY=X,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(X){this._hasBackdrop=(0,ne.Ig)(X)}get lockPosition(){return this._lockPosition}set lockPosition(X){this._lockPosition=(0,ne.Ig)(X)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(X){this._flexibleDimensions=(0,ne.Ig)(X)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(X){this._growAfterOpen=(0,ne.Ig)(X)}get push(){return this._push}set push(X){this._push=(0,ne.Ig)(X)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(X){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),X.origin&&this.open&&this._position.apply()),X.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Se);const X=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=X.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=X.detachments().subscribe(()=>this.detach.emit()),X.keydownEvents().subscribe(we=>{this.overlayKeydown.next(we),we.keyCode===lt.hY&&!this.disableClose&&!(0,lt.Vb)(we)&&(we.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(we=>{this.overlayOutsideClick.next(we)})}_buildConfig(){const X=this._position=this.positionStrategy||this._createPositionStrategy(),we=new ee({direction:this._dir,positionStrategy:X,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(we.width=this.width),(this.height||0===this.height)&&(we.height=this.height),(this.minWidth||0===this.minWidth)&&(we.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(we.minHeight=this.minHeight),this.backdropClass&&(we.backdropClass=this.backdropClass),this.panelClass&&(we.panelClass=this.panelClass),we}_updatePositionStrategy(X){const we=this.positions.map(Oe=>({originX:Oe.originX,originY:Oe.originY,overlayX:Oe.overlayX,overlayY:Oe.overlayY,offsetX:Oe.offsetX||this.offsetX,offsetY:Oe.offsetY||this.offsetY,panelClass:Oe.panelClass||void 0}));return X.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(we).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const X=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(X),X}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Jt?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(X=>{this.backdropClick.emit(X)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function We(ft,V=!1){return(0,fe.e)((X,we)=>{let Oe=0;X.subscribe((0,De.x)(we,Pe=>{const q=ft(Pe,Oe++);(q||V)&&we.next(Pe),!q&&we.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(X=>{this.positionChange.emit(X),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return ft.\u0275fac=function(X){return new(X||ft)(C.Y36(vt),C.Y36(C.Rgc),C.Y36(C.s_b),C.Y36(Et),C.Y36(ve.Is,8))},ft.\u0275dir=C.lG2({type:ft,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[C.TTD]}),ft})();const un={provide:Et,deps:[vt],useFactory:function Mn(ft){return()=>ft.scrollStrategies.reposition()}};let pn=(()=>{class ft{}return ft.\u0275fac=function(X){return new(X||ft)},ft.\u0275mod=C.oAB({type:ft}),ft.\u0275inj=C.cJS({providers:[vt,un],imports:[[ve.vT,ke.eL,h.Cl],h.Cl]}),ft})()},925:(Yt,Ye,b)=>{b.d(Ye,{t4:()=>ne,sA:()=>Ft,ht:()=>Ae,kV:()=>rt,Oy:()=>nt,_i:()=>je,i$:()=>fe,Mq:()=>Re});var h=b(5e3),g=b(9808);let C;try{C="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(pe){C=!1}let le,De,We,lt,ne=(()=>{class pe{constructor(xe){this._platformId=xe,this.isBrowser=this._platformId?(0,g.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!C)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return pe.\u0275fac=function(xe){return new(xe||pe)(h.LFG(h.Lbi))},pe.\u0275prov=h.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function fe(pe){return function se(){if(null==le&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>le=!0}))}finally{le=le||!1}return le}()?pe:!!pe.capture}function Re(){if(null==We){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return We=!1,We;if("scrollBehavior"in document.documentElement.style)We=!0;else{const pe=Element.prototype.scrollTo;We=!!pe&&!/\{\s*\[native code\]\s*\}/.test(pe.toString())}}return We}function je(){if("object"!=typeof document||!document)return 0;if(null==De){const pe=document.createElement("div"),he=pe.style;pe.dir="rtl",he.width="1px",he.overflow="auto",he.visibility="hidden",he.pointerEvents="none",he.position="absolute";const xe=document.createElement("div"),Ee=xe.style;Ee.width="2px",Ee.height="1px",pe.appendChild(xe),document.body.appendChild(pe),De=0,0===pe.scrollLeft&&(pe.scrollLeft=1,De=0===pe.scrollLeft?1:2),pe.remove()}return De}function rt(pe){if(function Ue(){if(null==lt){const pe="undefined"!=typeof document?document.head:null;lt=!(!pe||!pe.createShadowRoot&&!pe.attachShadow)}return lt}()){const he=pe.getRootNode?pe.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&he instanceof ShadowRoot)return he}return null}function Ae(){let pe="undefined"!=typeof document&&document?document.activeElement:null;for(;pe&&pe.shadowRoot;){const he=pe.shadowRoot.activeElement;if(he===pe)break;pe=he}return pe}function Ft(pe){return pe.composedPath?pe.composedPath()[0]:pe.target}function nt(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:(Yt,Ye,b)=>{b.d(Ye,{en:()=>We,Pl:()=>Ae,C5:()=>se,u0:()=>je,eL:()=>nt,UE:()=>fe});var h=b(5e3),g=b(9808);class le{attach(xe){return this._attachedHost=xe,xe.attach(this)}detach(){let xe=this._attachedHost;null!=xe&&(this._attachedHost=null,xe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(xe){this._attachedHost=xe}}class se extends le{constructor(xe,Ee,ee,Ge){super(),this.component=xe,this.viewContainerRef=Ee,this.injector=ee,this.componentFactoryResolver=Ge}}class fe extends le{constructor(xe,Ee,ee){super(),this.templateRef=xe,this.viewContainerRef=Ee,this.context=ee}get origin(){return this.templateRef.elementRef}attach(xe,Ee=this.context){return this.context=Ee,super.attach(xe)}detach(){return this.context=void 0,super.detach()}}class De extends le{constructor(xe){super(),this.element=xe instanceof h.SBq?xe.nativeElement:xe}}class We{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(xe){return xe instanceof se?(this._attachedPortal=xe,this.attachComponentPortal(xe)):xe instanceof fe?(this._attachedPortal=xe,this.attachTemplatePortal(xe)):this.attachDomPortal&&xe instanceof De?(this._attachedPortal=xe,this.attachDomPortal(xe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(xe){this._disposeFn=xe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class je extends We{constructor(xe,Ee,ee,Ge,be){super(),this.outletElement=xe,this._componentFactoryResolver=Ee,this._appRef=ee,this._defaultInjector=Ge,this.attachDomPortal=Je=>{const it=Je.element,wt=this._document.createComment("dom-portal");it.parentNode.insertBefore(wt,it),this.outletElement.appendChild(it),this._attachedPortal=Je,super.setDisposeFn(()=>{wt.parentNode&&wt.parentNode.replaceChild(it,wt)})},this._document=be}attachComponentPortal(xe){const ee=(xe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(xe.component);let Ge;return xe.viewContainerRef?(Ge=xe.viewContainerRef.createComponent(ee,xe.viewContainerRef.length,xe.injector||xe.viewContainerRef.injector),this.setDisposeFn(()=>Ge.destroy())):(Ge=ee.create(xe.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(Ge.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ge.hostView),Ge.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ge)),this._attachedPortal=xe,Ge}attachTemplatePortal(xe){let Ee=xe.viewContainerRef,ee=Ee.createEmbeddedView(xe.templateRef,xe.context);return ee.rootNodes.forEach(Ge=>this.outletElement.appendChild(Ge)),ee.detectChanges(),this.setDisposeFn(()=>{let Ge=Ee.indexOf(ee);-1!==Ge&&Ee.remove(Ge)}),this._attachedPortal=xe,ee}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(xe){return xe.hostView.rootNodes[0]}}let Ae=(()=>{class he extends We{constructor(Ee,ee,Ge){super(),this._componentFactoryResolver=Ee,this._viewContainerRef=ee,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=be=>{const Je=be.element,it=this._document.createComment("dom-portal");be.setAttachedHost(this),Je.parentNode.insertBefore(it,Je),this._getRootNode().appendChild(Je),this._attachedPortal=be,super.setDisposeFn(()=>{it.parentNode&&it.parentNode.replaceChild(Je,it)})},this._document=Ge}get portal(){return this._attachedPortal}set portal(Ee){this.hasAttached()&&!Ee&&!this._isInitialized||(this.hasAttached()&&super.detach(),Ee&&super.attach(Ee),this._attachedPortal=Ee||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(Ee){Ee.setAttachedHost(this);const ee=null!=Ee.viewContainerRef?Ee.viewContainerRef:this._viewContainerRef,be=(Ee.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ee.component),Je=ee.createComponent(be,ee.length,Ee.injector||ee.injector);return ee!==this._viewContainerRef&&this._getRootNode().appendChild(Je.hostView.rootNodes[0]),super.setDisposeFn(()=>Je.destroy()),this._attachedPortal=Ee,this._attachedRef=Je,this.attached.emit(Je),Je}attachTemplatePortal(Ee){Ee.setAttachedHost(this);const ee=this._viewContainerRef.createEmbeddedView(Ee.templateRef,Ee.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Ee,this._attachedRef=ee,this.attached.emit(ee),ee}_getRootNode(){const Ee=this._viewContainerRef.element.nativeElement;return Ee.nodeType===Ee.ELEMENT_NODE?Ee:Ee.parentNode}}return he.\u0275fac=function(Ee){return new(Ee||he)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(g.K0))},he.\u0275dir=h.lG2({type:he,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),he})(),nt=(()=>{class he{}return he.\u0275fac=function(Ee){return new(Ee||he)},he.\u0275mod=h.oAB({type:he}),he.\u0275inj=h.cJS({}),he})()},5494:(Yt,Ye,b)=>{b.d(Ye,{PQ:()=>Jt,ZD:()=>X,mF:()=>Et,Cl:()=>we,rL:()=>Mn});var h=b(3191),g=b(5e3),C=b(4408),ne=b(727);const ge={schedule(Oe){let Pe=requestAnimationFrame,q=cancelAnimationFrame;const{delegate:Be}=ge;Be&&(Pe=Be.requestAnimationFrame,q=Be.cancelAnimationFrame);const de=Pe(Ke=>{q=void 0,Oe(Ke)});return new ne.w0(()=>null==q?void 0:q(de))},requestAnimationFrame(...Oe){const{delegate:Pe}=ge;return((null==Pe?void 0:Pe.requestAnimationFrame)||requestAnimationFrame)(...Oe)},cancelAnimationFrame(...Oe){const{delegate:Pe}=ge;return((null==Pe?void 0:Pe.cancelAnimationFrame)||cancelAnimationFrame)(...Oe)},delegate:void 0};var ke=b(7565);new class ye extends ke.v{flush(Pe){this._active=!0;const q=this._scheduled;this._scheduled=void 0;const{actions:Be}=this;let de;Pe=Pe||Be.shift();do{if(de=Pe.execute(Pe.state,Pe.delay))break}while((Pe=Be[0])&&Pe.id===q&&Be.shift());if(this._active=!1,de){for(;(Pe=Be[0])&&Pe.id===q&&Be.shift();)Pe.unsubscribe();throw de}}}(class ve extends C.o{constructor(Pe,q){super(Pe,q),this.scheduler=Pe,this.work=q}requestAsyncId(Pe,q,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Pe,q,Be):(Pe.actions.push(this),Pe._scheduled||(Pe._scheduled=ge.requestAnimationFrame(()=>Pe.flush(void 0))))}recycleAsyncId(Pe,q,Be=0){if(null!=Be&&Be>0||null==Be&&this.delay>0)return super.recycleAsyncId(Pe,q,Be);Pe.actions.some(de=>de.id===q)||(ge.cancelAnimationFrame(q),Pe._scheduled=void 0)}});let De,fe=1;const We={};function Re(Oe){return Oe in We&&(delete We[Oe],!0)}const je={setImmediate(Oe){const Pe=fe++;return We[Pe]=!0,De||(De=Promise.resolve()),De.then(()=>Re(Pe)&&Oe()),Pe},clearImmediate(Oe){Re(Oe)}},{setImmediate:Ue,clearImmediate:rt}=je,Ae={setImmediate(...Oe){const{delegate:Pe}=Ae;return((null==Pe?void 0:Pe.setImmediate)||Ue)(...Oe)},clearImmediate(Oe){const{delegate:Pe}=Ae;return((null==Pe?void 0:Pe.clearImmediate)||rt)(Oe)},delegate:void 0};new class nt extends ke.v{flush(Pe){this._active=!0;const q=this._scheduled;this._scheduled=void 0;const{actions:Be}=this;let de;Pe=Pe||Be.shift();do{if(de=Pe.execute(Pe.state,Pe.delay))break}while((Pe=Be[0])&&Pe.id===q&&Be.shift());if(this._active=!1,de){for(;(Pe=Be[0])&&Pe.id===q&&Be.shift();)Pe.unsubscribe();throw de}}}(class Ft extends C.o{constructor(Pe,q){super(Pe,q),this.scheduler=Pe,this.work=q}requestAsyncId(Pe,q,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Pe,q,Be):(Pe.actions.push(this),Pe._scheduled||(Pe._scheduled=Ae.setImmediate(Pe.flush.bind(Pe,void 0))))}recycleAsyncId(Pe,q,Be=0){if(null!=Be&&Be>0||null==Be&&this.delay>0)return super.recycleAsyncId(Pe,q,Be);Pe.actions.some(de=>de.id===q)||(Ae.clearImmediate(q),Pe._scheduled=void 0)}});var xe=b(7579),Ee=b(9646),ee=b(8306),Ge=b(4968),be=b(4986),Je=b(4482),it=b(8421),wt=b(5403),kt=b(3532);function Xe(Oe,Pe=be.z){return function yt(Oe){return(0,Je.e)((Pe,q)=>{let Be=!1,de=null,Ke=null,Vt=!1;const en=()=>{if(null==Ke||Ke.unsubscribe(),Ke=null,Be){Be=!1;const jn=de;de=null,q.next(jn)}Vt&&q.complete()},ln=()=>{Ke=null,Vt&&q.complete()};Pe.subscribe((0,wt.x)(q,jn=>{Be=!0,de=jn,Ke||(0,it.Xf)(Oe(jn)).subscribe(Ke=(0,wt.x)(q,en,ln))},()=>{Vt=!0,(!Be||!Ke||Ke.closed)&&q.complete()}))})}(()=>function ct(Oe=0,Pe,q=be.P){let Be=-1;return null!=Pe&&((0,kt.K)(Pe)?q=Pe:Be=Pe),new ee.y(de=>{let Ke=function At(Oe){return Oe instanceof Date&&!isNaN(Oe)}(Oe)?+Oe-q.now():Oe;Ke<0&&(Ke=0);let Vt=0;return q.schedule(function(){de.closed||(de.next(Vt++),0<=Be?this.schedule(void 0,Be):de.complete())},Ke)})}(Oe,Pe))}var $e=b(9300),et=b(2722),gt=b(9808),Q=b(925),Ce=b(226);let Et=(()=>{class Oe{constructor(q,Be,de){this._ngZone=q,this._platform=Be,this._scrolled=new xe.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=de}register(q){this.scrollContainers.has(q)||this.scrollContainers.set(q,q.elementScrolled().subscribe(()=>this._scrolled.next(q)))}deregister(q){const Be=this.scrollContainers.get(q);Be&&(Be.unsubscribe(),this.scrollContainers.delete(q))}scrolled(q=20){return this._platform.isBrowser?new ee.y(Be=>{this._globalSubscription||this._addGlobalListener();const de=q>0?this._scrolled.pipe(Xe(q)).subscribe(Be):this._scrolled.subscribe(Be);return this._scrolledCount++,()=>{de.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ee.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((q,Be)=>this.deregister(Be)),this._scrolled.complete()}ancestorScrolled(q,Be){const de=this.getAncestorScrollContainers(q);return this.scrolled(Be).pipe((0,$e.h)(Ke=>!Ke||de.indexOf(Ke)>-1))}getAncestorScrollContainers(q){const Be=[];return this.scrollContainers.forEach((de,Ke)=>{this._scrollableContainsElement(Ke,q)&&Be.push(Ke)}),Be}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(q,Be){let de=(0,h.fI)(Be),Ke=q.getElementRef().nativeElement;do{if(de==Ke)return!0}while(de=de.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const q=this._getWindow();return(0,Ge.R)(q.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Oe.\u0275fac=function(q){return new(q||Oe)(g.LFG(g.R0b),g.LFG(Q.t4),g.LFG(gt.K0,8))},Oe.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})(),Jt=(()=>{class Oe{constructor(q,Be,de,Ke){this.elementRef=q,this.scrollDispatcher=Be,this.ngZone=de,this.dir=Ke,this._destroyed=new xe.x,this._elementScrolled=new ee.y(Vt=>this.ngZone.runOutsideAngular(()=>(0,Ge.R)(this.elementRef.nativeElement,"scroll").pipe((0,et.R)(this._destroyed)).subscribe(Vt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(q){const Be=this.elementRef.nativeElement,de=this.dir&&"rtl"==this.dir.value;null==q.left&&(q.left=de?q.end:q.start),null==q.right&&(q.right=de?q.start:q.end),null!=q.bottom&&(q.top=Be.scrollHeight-Be.clientHeight-q.bottom),de&&0!=(0,Q._i)()?(null!=q.left&&(q.right=Be.scrollWidth-Be.clientWidth-q.left),2==(0,Q._i)()?q.left=q.right:1==(0,Q._i)()&&(q.left=q.right?-q.right:q.right)):null!=q.right&&(q.left=Be.scrollWidth-Be.clientWidth-q.right),this._applyScrollToOptions(q)}_applyScrollToOptions(q){const Be=this.elementRef.nativeElement;(0,Q.Mq)()?Be.scrollTo(q):(null!=q.top&&(Be.scrollTop=q.top),null!=q.left&&(Be.scrollLeft=q.left))}measureScrollOffset(q){const Be="left",Ke=this.elementRef.nativeElement;if("top"==q)return Ke.scrollTop;if("bottom"==q)return Ke.scrollHeight-Ke.clientHeight-Ke.scrollTop;const Vt=this.dir&&"rtl"==this.dir.value;return"start"==q?q=Vt?"right":Be:"end"==q&&(q=Vt?Be:"right"),Vt&&2==(0,Q._i)()?q==Be?Ke.scrollWidth-Ke.clientWidth-Ke.scrollLeft:Ke.scrollLeft:Vt&&1==(0,Q._i)()?q==Be?Ke.scrollLeft+Ke.scrollWidth-Ke.clientWidth:-Ke.scrollLeft:q==Be?Ke.scrollLeft:Ke.scrollWidth-Ke.clientWidth-Ke.scrollLeft}}return Oe.\u0275fac=function(q){return new(q||Oe)(g.Y36(g.SBq),g.Y36(Et),g.Y36(g.R0b),g.Y36(Ce.Is,8))},Oe.\u0275dir=g.lG2({type:Oe,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),Oe})(),Mn=(()=>{class Oe{constructor(q,Be,de){this._platform=q,this._change=new xe.x,this._changeListener=Ke=>{this._change.next(Ke)},this._document=de,Be.runOutsideAngular(()=>{if(q.isBrowser){const Ke=this._getWindow();Ke.addEventListener("resize",this._changeListener),Ke.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const q=this._getWindow();q.removeEventListener("resize",this._changeListener),q.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const q={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),q}getViewportRect(){const q=this.getViewportScrollPosition(),{width:Be,height:de}=this.getViewportSize();return{top:q.top,left:q.left,bottom:q.top+de,right:q.left+Be,height:de,width:Be}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const q=this._document,Be=this._getWindow(),de=q.documentElement,Ke=de.getBoundingClientRect();return{top:-Ke.top||q.body.scrollTop||Be.scrollY||de.scrollTop||0,left:-Ke.left||q.body.scrollLeft||Be.scrollX||de.scrollLeft||0}}change(q=20){return q>0?this._change.pipe(Xe(q)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const q=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:q.innerWidth,height:q.innerHeight}:{width:0,height:0}}}return Oe.\u0275fac=function(q){return new(q||Oe)(g.LFG(Q.t4),g.LFG(g.R0b),g.LFG(gt.K0,8))},Oe.\u0275prov=g.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})(),X=(()=>{class Oe{}return Oe.\u0275fac=function(q){return new(q||Oe)},Oe.\u0275mod=g.oAB({type:Oe}),Oe.\u0275inj=g.cJS({}),Oe})(),we=(()=>{class Oe{}return Oe.\u0275fac=function(q){return new(q||Oe)},Oe.\u0275mod=g.oAB({type:Oe}),Oe.\u0275inj=g.cJS({imports:[[Ce.vT,X],Ce.vT,X]}),Oe})()},2379:(Yt,Ye,b)=>{b.d(Ye,{HI:()=>je,Xx:()=>be,_0:()=>xe,nZ:()=>kt,Hs:()=>Ee,rO:()=>rt,cu:()=>lt,XJ:()=>it,Ud:()=>wt,C2:()=>We});var h=b(449),g=b(8306),C=b(576);function ne(At){return!!At&&(At instanceof g.y||(0,C.m)(At.lift)&&(0,C.m)(At.subscribe))}var ge=b(7579),ve=b(1135),ke=b(9646),ye=b(2722),le=b(5e3),se=b(3191),fe=b(226);class We extends class De{constructor(){this.expansionModel=new h.Ov(!0)}toggle(ct){this.expansionModel.toggle(this._trackByValue(ct))}expand(ct){this.expansionModel.select(this._trackByValue(ct))}collapse(ct){this.expansionModel.deselect(this._trackByValue(ct))}isExpanded(ct){return this.expansionModel.isSelected(this._trackByValue(ct))}toggleDescendants(ct){this.expansionModel.isSelected(this._trackByValue(ct))?this.collapseDescendants(ct):this.expandDescendants(ct)}collapseAll(){this.expansionModel.clear()}expandDescendants(ct){let Xe=[ct];Xe.push(...this.getDescendants(ct)),this.expansionModel.select(...Xe.map($e=>this._trackByValue($e)))}collapseDescendants(ct){let Xe=[ct];Xe.push(...this.getDescendants(ct)),this.expansionModel.deselect(...Xe.map($e=>this._trackByValue($e)))}_trackByValue(ct){return this.trackBy?this.trackBy(ct):ct}}{constructor(ct,Xe,$e){super(),this.getLevel=ct,this.isExpandable=Xe,this.options=$e,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(ct){const $e=[];for(let et=this.dataNodes.indexOf(ct)+1;et<this.dataNodes.length&&this.getLevel(ct)<this.getLevel(this.dataNodes[et]);et++)$e.push(this.dataNodes[et]);return $e}expandAll(){this.expansionModel.select(...this.dataNodes.map(ct=>this._trackByValue(ct)))}}const je=new le.OlP("CDK_TREE_NODE_OUTLET_NODE");let lt=(()=>{class At{constructor(Xe,$e){this.viewContainer=Xe,this._node=$e}}return At.\u0275fac=function(Xe){return new(Xe||At)(le.Y36(le.s_b),le.Y36(je,8))},At.\u0275dir=le.lG2({type:At,selectors:[["","cdkTreeNodeOutlet",""]]}),At})();class Ue{constructor(ct){this.$implicit=ct}}let rt=(()=>{class At{constructor(Xe){this.template=Xe}}return At.\u0275fac=function(Xe){return new(Xe||At)(le.Y36(le.Rgc))},At.\u0275dir=le.lG2({type:At,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),At})(),xe=(()=>{class At{constructor(Xe,$e){this._differs=Xe,this._changeDetectorRef=$e,this._onDestroy=new ge.x,this._levels=new Map,this.viewChange=new ve.X({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(Xe){this._dataSource!==Xe&&this._switchDataSource(Xe)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const Xe=this._nodeDefs.filter($e=>!$e.when);this._defaultNodeDef=Xe[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(Xe){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),Xe||this._nodeOutlet.viewContainer.clear(),this._dataSource=Xe,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let Xe;(0,h.Z9)(this._dataSource)?Xe=this._dataSource.connect(this):ne(this._dataSource)?Xe=this._dataSource:Array.isArray(this._dataSource)&&(Xe=(0,ke.of)(this._dataSource)),Xe&&(this._dataSubscription=Xe.pipe((0,ye.R)(this._onDestroy)).subscribe($e=>this.renderNodeChanges($e)))}renderNodeChanges(Xe,$e=this._dataDiffer,et=this._nodeOutlet.viewContainer,gt){const Q=$e.diff(Xe);!Q||(Q.forEachOperation((Ce,Bt,bt)=>{if(null==Ce.previousIndex)this.insertNode(Xe[bt],bt,et,gt);else if(null==bt)et.remove(Bt),this._levels.delete(Ce.item);else{const pt=et.get(Bt);et.move(pt,bt)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(Xe,$e){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(gt=>gt.when&&gt.when($e,Xe))||this._defaultNodeDef}insertNode(Xe,$e,et,gt){const Q=this._getNodeDef(Xe,$e),Ce=new Ue(Xe);Ce.level=this.treeControl.getLevel?this.treeControl.getLevel(Xe):void 0!==gt&&this._levels.has(gt)?this._levels.get(gt)+1:0,this._levels.set(Xe,Ce.level),(et||this._nodeOutlet.viewContainer).createEmbeddedView(Q.template,Ce,$e),Ee.mostRecentTreeNode&&(Ee.mostRecentTreeNode.data=Xe)}}return At.\u0275fac=function(Xe){return new(Xe||At)(le.Y36(le.ZZ4),le.Y36(le.sBO))},At.\u0275cmp=le.Xpm({type:At,selectors:[["cdk-tree"]],contentQueries:function(Xe,$e,et){if(1&Xe&&le.Suo(et,rt,5),2&Xe){let gt;le.iGM(gt=le.CRH())&&($e._nodeDefs=gt)}},viewQuery:function(Xe,$e){if(1&Xe&&le.Gf(lt,7),2&Xe){let et;le.iGM(et=le.CRH())&&($e._nodeOutlet=et.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(Xe,$e){1&Xe&&le.GkF(0,0)},directives:[lt],encapsulation:2}),At})(),Ee=(()=>{class At{constructor(Xe,$e){this._elementRef=Xe,this._tree=$e,this._destroyed=new ge.x,this._dataChanges=new ge.x,At.mostRecentTreeNode=this,this.role="treeitem"}get role(){return"treeitem"}set role(Xe){this._elementRef.nativeElement.setAttribute("role",Xe)}get data(){return this._data}set data(Xe){Xe!==this._data&&(this._data=Xe,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function ee(At){let ct=At.parentElement;for(;ct&&!Ge(ct);)ct=ct.parentElement;return ct?ct.classList.contains("cdk-nested-tree-node")?(0,se.su)(ct.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){At.mostRecentTreeNode===this&&(At.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return At.mostRecentTreeNode=null,At.\u0275fac=function(Xe){return new(Xe||At)(le.Y36(le.SBq),le.Y36(xe))},At.\u0275dir=le.lG2({type:At,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(Xe,$e){2&Xe&&le.uIk("aria-expanded",$e.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),At})();function Ge(At){const ct=At.classList;return!(!(null==ct?void 0:ct.contains("cdk-nested-tree-node"))&&!(null==ct?void 0:ct.contains("cdk-tree")))}let be=(()=>{class At extends Ee{constructor(Xe,$e,et){super(Xe,$e),this._differs=et}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const Xe=this._tree.treeControl.getChildren(this.data);Array.isArray(Xe)?this.updateChildrenNodes(Xe):ne(Xe)&&Xe.pipe((0,ye.R)(this._destroyed)).subscribe($e=>this.updateChildrenNodes($e)),this.nodeOutlet.changes.pipe((0,ye.R)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(Xe){const $e=this._getNodeOutlet();Xe&&(this._children=Xe),$e&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,$e.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const Xe=this._getNodeOutlet();Xe&&(Xe.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const Xe=this.nodeOutlet;return Xe&&Xe.find($e=>!$e._node||$e._node===this)}}return At.\u0275fac=function(Xe){return new(Xe||At)(le.Y36(le.SBq),le.Y36(xe),le.Y36(le.ZZ4))},At.\u0275dir=le.lG2({type:At,selectors:[["cdk-nested-tree-node"]],contentQueries:function(Xe,$e,et){if(1&Xe&&le.Suo(et,lt,5),2&Xe){let gt;le.iGM(gt=le.CRH())&&($e.nodeOutlet=gt)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[le._Bn([{provide:Ee,useExisting:At},{provide:je,useExisting:At}]),le.qOj]}),At})();const Je=/([A-Za-z%]+)$/;let it=(()=>{class At{constructor(Xe,$e,et,gt){this._treeNode=Xe,this._tree=$e,this._element=et,this._dir=gt,this._destroyed=new ge.x,this.indentUnits="px",this._indent=40,this._setPadding(),gt&&gt.change.pipe((0,ye.R)(this._destroyed)).subscribe(()=>this._setPadding(!0)),Xe._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(Xe){this._setLevelInput(Xe)}get indent(){return this._indent}set indent(Xe){this._setIndentInput(Xe)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const Xe=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,$e=null==this._level?Xe:this._level;return"number"==typeof $e?`${$e*this._indent}${this.indentUnits}`:null}_setPadding(Xe=!1){const $e=this._paddingIndent();if($e!==this._currentPadding||Xe){const et=this._element.nativeElement,gt=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",Q="paddingLeft"===gt?"paddingRight":"paddingLeft";et.style[gt]=$e||"",et.style[Q]="",this._currentPadding=$e}}_setLevelInput(Xe){this._level=(0,se.su)(Xe,null),this._setPadding()}_setIndentInput(Xe){let $e=Xe,et="px";if("string"==typeof Xe){const gt=Xe.split(Je);$e=gt[0],et=gt[1]||et}this.indentUnits=et,this._indent=(0,se.su)($e),this._setPadding()}}return At.\u0275fac=function(Xe){return new(Xe||At)(le.Y36(Ee),le.Y36(xe),le.Y36(le.SBq),le.Y36(fe.Is,8))},At.\u0275dir=le.lG2({type:At,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),At})(),wt=(()=>{class At{constructor(Xe,$e){this._tree=Xe,this._treeNode=$e,this._recursive=!1}get recursive(){return this._recursive}set recursive(Xe){this._recursive=(0,se.Ig)(Xe)}_toggle(Xe){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),Xe.stopPropagation()}}return At.\u0275fac=function(Xe){return new(Xe||At)(le.Y36(xe),le.Y36(Ee))},At.\u0275dir=le.lG2({type:At,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(Xe,$e){1&Xe&&le.NdJ("click",function(gt){return $e._toggle(gt)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),At})(),kt=(()=>{class At{}return At.\u0275fac=function(Xe){return new(Xe||At)},At.\u0275mod=le.oAB({type:At}),At.\u0275inj=le.cJS({}),At})()},9808:(Yt,Ye,b)=>{b.d(Ye,{mr:()=>Ae,Ov:()=>eo,ez:()=>ls,H9:()=>Wr,K0:()=>ke,Do:()=>nt,V_:()=>se,Ye:()=>pe,S$:()=>Ue,mk:()=>ur,sg:()=>Li,O5:()=>dr,RF:()=>Bi,n9:()=>yr,ED:()=>vs,tP:()=>bs,b0:()=>Ft,lw:()=>ye,EM:()=>ss,JF:()=>_i,NF:()=>Ri,PM:()=>Ds,w_:()=>ve,bD:()=>Cr,q:()=>C,Mx:()=>Pr,HT:()=>ge});var h=b(5e3);let g=null;function C(){return g}function ge(U){g||(g=U)}class ve{}const ke=new h.OlP("DocumentToken");let ye=(()=>{class U{historyGo(F){throw new Error("Not implemented")}}return U.\u0275fac=function(F){return new(F||U)},U.\u0275prov=h.Yz7({token:U,factory:function(){return function le(){return(0,h.LFG)(fe)}()},providedIn:"platform"}),U})();const se=new h.OlP("Location Initialized");let fe=(()=>{class U extends ye{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return C().getBaseHref(this._doc)}onPopState(F){const ce=C().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",F,!1),()=>ce.removeEventListener("popstate",F)}onHashChange(F){const ce=C().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",F,!1),()=>ce.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,ce,Ze){De()?this._history.pushState(F,ce,Ze):this.location.hash=Ze}replaceState(F,ce,Ze){De()?this._history.replaceState(F,ce,Ze):this.location.hash=Ze}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return U.\u0275fac=function(F){return new(F||U)(h.LFG(ke))},U.\u0275prov=h.Yz7({token:U,factory:function(){return function We(){return new fe((0,h.LFG)(ke))}()},providedIn:"platform"}),U})();function De(){return!!window.history.pushState}function Re(U,re){if(0==U.length)return re;if(0==re.length)return U;let F=0;return U.endsWith("/")&&F++,re.startsWith("/")&&F++,2==F?U+re.substring(1):1==F?U+re:U+"/"+re}function je(U){const re=U.match(/#|\?|$/),F=re&&re.index||U.length;return U.slice(0,F-("/"===U[F-1]?1:0))+U.slice(F)}function lt(U){return U&&"?"!==U[0]?"?"+U:U}let Ue=(()=>{class U{historyGo(F){throw new Error("Not implemented")}}return U.\u0275fac=function(F){return new(F||U)},U.\u0275prov=h.Yz7({token:U,factory:function(){return function rt(U){const re=(0,h.LFG)(ke).location;return new Ft((0,h.LFG)(ye),re&&re.origin||"")}()},providedIn:"root"}),U})();const Ae=new h.OlP("appBaseHref");let Ft=(()=>{class U extends Ue{constructor(F,ce){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Re(this._baseHref,F)}path(F=!1){const ce=this._platformLocation.pathname+lt(this._platformLocation.search),Ze=this._platformLocation.hash;return Ze&&F?`${ce}${Ze}`:ce}pushState(F,ce,Ze,Nt){const $t=this.prepareExternalUrl(Ze+lt(Nt));this._platformLocation.pushState(F,ce,$t)}replaceState(F,ce,Ze,Nt){const $t=this.prepareExternalUrl(Ze+lt(Nt));this._platformLocation.replaceState(F,ce,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ce,Ze;null===(Ze=(ce=this._platformLocation).historyGo)||void 0===Ze||Ze.call(ce,F)}}return U.\u0275fac=function(F){return new(F||U)(h.LFG(ye),h.LFG(Ae,8))},U.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac}),U})(),nt=(()=>{class U extends Ue{constructor(F,ce){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(F){const ce=Re(this._baseHref,F);return ce.length>0?"#"+ce:ce}pushState(F,ce,Ze,Nt){let $t=this.prepareExternalUrl(Ze+lt(Nt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState(F,ce,$t)}replaceState(F,ce,Ze,Nt){let $t=this.prepareExternalUrl(Ze+lt(Nt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState(F,ce,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ce,Ze;null===(Ze=(ce=this._platformLocation).historyGo)||void 0===Ze||Ze.call(ce,F)}}return U.\u0275fac=function(F){return new(F||U)(h.LFG(ye),h.LFG(Ae,8))},U.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac}),U})(),pe=(()=>{class U{constructor(F,ce){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const Ze=this._platformStrategy.getBaseHref();this._platformLocation=ce,this._baseHref=je(Ee(Ze)),this._platformStrategy.onPopState(Nt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Nt.state,type:Nt.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,ce=""){return this.path()==this.normalize(F+lt(ce))}normalize(F){return U.stripTrailingSlash(function xe(U,re){return U&&re.startsWith(U)?re.substring(U.length):re}(this._baseHref,Ee(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,ce="",Ze=null){this._platformStrategy.pushState(Ze,"",F,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+lt(ce)),Ze)}replaceState(F,ce="",Ze=null){this._platformStrategy.replaceState(Ze,"",F,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+lt(ce)),Ze)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var ce,Ze;null===(Ze=(ce=this._platformStrategy).historyGo)||void 0===Ze||Ze.call(ce,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)}))}_notifyUrlChangeListeners(F="",ce){this._urlChangeListeners.forEach(Ze=>Ze(F,ce))}subscribe(F,ce,Ze){return this._subject.subscribe({next:F,error:ce,complete:Ze})}}return U.normalizeQueryParams=lt,U.joinWithSlash=Re,U.stripTrailingSlash=je,U.\u0275fac=function(F){return new(F||U)(h.LFG(Ue),h.LFG(ye))},U.\u0275prov=h.Yz7({token:U,factory:function(){return function he(){return new pe((0,h.LFG)(Ue),(0,h.LFG)(ye))}()},providedIn:"root"}),U})();function Ee(U){return U.replace(/\/index.html$/,"")}const ee={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ge=(()=>((Ge=Ge||{})[Ge.Decimal=0]="Decimal",Ge[Ge.Percent=1]="Percent",Ge[Ge.Currency=2]="Currency",Ge[Ge.Scientific=3]="Scientific",Ge))(),yt=(()=>((yt=yt||{})[yt.Decimal=0]="Decimal",yt[yt.Group=1]="Group",yt[yt.List=2]="List",yt[yt.PercentSign=3]="PercentSign",yt[yt.PlusSign=4]="PlusSign",yt[yt.MinusSign=5]="MinusSign",yt[yt.Exponential=6]="Exponential",yt[yt.SuperscriptingExponent=7]="SuperscriptingExponent",yt[yt.PerMille=8]="PerMille",yt[yt.Infinity=9]="Infinity",yt[yt.NaN=10]="NaN",yt[yt.TimeSeparator=11]="TimeSeparator",yt[yt.CurrencyDecimal=12]="CurrencyDecimal",yt[yt.CurrencyGroup=13]="CurrencyGroup",yt))();function pt(U,re){const F=(0,h.cg1)(U),ce=F[h.wAp.NumberSymbols][re];if(void 0===ce){if(re===yt.CurrencyDecimal)return F[h.wAp.NumberSymbols][yt.Decimal];if(re===yt.CurrencyGroup)return F[h.wAp.NumberSymbols][yt.Group]}return ce}const Gt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Hn(U,re,F,ce,Ze){const $t=function ai(U,re="-"){const F={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ce=U.split(";"),Ze=ce[0],Nt=ce[1],$t=-1!==Ze.indexOf(".")?Ze.split("."):[Ze.substring(0,Ze.lastIndexOf("0")+1),Ze.substring(Ze.lastIndexOf("0")+1)],Dn=$t[0],$n=$t[1]||"";F.posPre=Dn.substr(0,Dn.indexOf("#"));for(let li=0;li<$n.length;li++){const fi=$n.charAt(li);"0"===fi?F.minFrac=F.maxFrac=li+1:"#"===fi?F.maxFrac=li+1:F.posSuf+=fi}const mi=Dn.split(",");if(F.gSize=mi[1]?mi[1].length:0,F.lgSize=mi[2]||mi[1]?(mi[2]||mi[1]).length:0,Nt){const li=Ze.length-F.posPre.length-F.posSuf.length,fi=Nt.indexOf("#");F.negPre=Nt.substr(0,fi).replace(/'/g,""),F.negSuf=Nt.substr(fi+li).replace(/'/g,"")}else F.negPre=re+F.posPre,F.negSuf=F.posSuf;return F}(function ht(U,re){return(0,h.cg1)(U)[h.wAp.NumberFormats][re]}(re,Ge.Currency),pt(re,yt.MinusSign));return $t.minFrac=function we(U){let re;const F=ee[U];return F&&(re=F[2]),"number"==typeof re?re:2}(ce),$t.maxFrac=$t.minFrac,function Fn(U,re,F,ce,Ze,Nt,$t=!1){let Dn="",$n=!1;if(isFinite(U)){let mi=function Gi(U){let ce,Ze,Nt,$t,Dn,re=Math.abs(U)+"",F=0;for((Ze=re.indexOf("."))>-1&&(re=re.replace(".","")),(Nt=re.search(/e/i))>0?(Ze<0&&(Ze=Nt),Ze+=+re.slice(Nt+1),re=re.substring(0,Nt)):Ze<0&&(Ze=re.length),Nt=0;"0"===re.charAt(Nt);Nt++);if(Nt===(Dn=re.length))ce=[0],Ze=1;else{for(Dn--;"0"===re.charAt(Dn);)Dn--;for(Ze-=Nt,ce=[],$t=0;Nt<=Dn;Nt++,$t++)ce[$t]=Number(re.charAt(Nt))}return Ze>22&&(ce=ce.splice(0,21),F=Ze-1,Ze=1),{digits:ce,exponent:F,integerLen:Ze}}(U);$t&&(mi=function Mi(U){if(0===U.digits[0])return U;const re=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===re?U.digits.push(0,0):1===re&&U.digits.push(0),U.integerLen+=2),U}(mi));let li=re.minInt,fi=re.minFrac,qi=re.maxFrac;if(Nt){const ae=Nt.match(Gt);if(null===ae)throw new Error(`${Nt} is not a valid digit info`);const Lt=ae[1],Cn=ae[3],vi=ae[5];null!=Lt&&(li=Er(Lt)),null!=Cn&&(fi=Er(Cn)),null!=vi?qi=Er(vi):null!=Cn&&fi>qi&&(qi=fi)}!function xi(U,re,F){if(re>F)throw new Error(`The minimum number of digits after fraction (${re}) is higher than the maximum (${F}).`);let ce=U.digits,Ze=ce.length-U.integerLen;const Nt=Math.min(Math.max(re,Ze),F);let $t=Nt+U.integerLen,Dn=ce[$t];if($t>0){ce.splice(Math.max(U.integerLen,$t));for(let fi=$t;fi<ce.length;fi++)ce[fi]=0}else{Ze=Math.max(0,Ze),U.integerLen=1,ce.length=Math.max(1,$t=Nt+1),ce[0]=0;for(let fi=1;fi<$t;fi++)ce[fi]=0}if(Dn>=5)if($t-1<0){for(let fi=0;fi>$t;fi--)ce.unshift(0),U.integerLen++;ce.unshift(1),U.integerLen++}else ce[$t-1]++;for(;Ze<Math.max(0,Nt);Ze++)ce.push(0);let $n=0!==Nt;const mi=re+U.integerLen,li=ce.reduceRight(function(fi,qi,wi,Wi){return Wi[wi]=(qi+=fi)<10?qi:qi-10,$n&&(0===Wi[wi]&&wi>=mi?Wi.pop():$n=!1),qi>=10?1:0},0);li&&(ce.unshift(li),U.integerLen++)}(mi,fi,qi);let wi=mi.digits,Wi=mi.integerLen;const H=mi.exponent;let N=[];for($n=wi.every(ae=>!ae);Wi<li;Wi++)wi.unshift(0);for(;Wi<0;Wi++)wi.unshift(0);Wi>0?N=wi.splice(Wi,wi.length):(N=wi,wi=[0]);const M=[];for(wi.length>=re.lgSize&&M.unshift(wi.splice(-re.lgSize,wi.length).join(""));wi.length>re.gSize;)M.unshift(wi.splice(-re.gSize,wi.length).join(""));wi.length&&M.unshift(wi.join("")),Dn=M.join(pt(F,ce)),N.length&&(Dn+=pt(F,Ze)+N.join("")),H&&(Dn+=pt(F,yt.Exponential)+"+"+H)}else Dn=pt(F,yt.Infinity);return Dn=U<0&&!$n?re.negPre+Dn+re.negSuf:re.posPre+Dn+re.posSuf,Dn}(U,$t,re,yt.CurrencyGroup,yt.CurrencyDecimal,Ze).replace("\xa4",F).replace("\xa4","").trim()}function Er(U){const re=parseInt(U);if(isNaN(re))throw new Error("Invalid integer literal when parsing "+U);return re}function Pr(U,re){re=encodeURIComponent(re);for(const F of U.split(";")){const ce=F.indexOf("="),[Ze,Nt]=-1==ce?[F,""]:[F.slice(0,ce),F.slice(ce+1)];if(Ze.trim()===re)return decodeURIComponent(Nt)}return null}let ur=(()=>{class U{constructor(F,ce,Ze,Nt){this._iterableDiffers=F,this._keyValueDiffers=ce,this._ngEl=Ze,this._renderer=Nt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),F.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),F.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),F.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(F).forEach(ce=>this._toggleClass(ce,!!F[ce])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(F).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(F,ce){(F=F.trim())&&F.split(/\s+/g).forEach(Ze=>{ce?this._renderer.addClass(this._ngEl.nativeElement,Ze):this._renderer.removeClass(this._ngEl.nativeElement,Ze)})}}return U.\u0275fac=function(F){return new(F||U)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},U.\u0275dir=h.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class mr{constructor(re,F,ce,Ze){this.$implicit=re,this.ngForOf=F,this.index=ce,this.count=Ze}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class U{constructor(F,ce,Ze){this._viewContainer=F,this._template=ce,this._differs=Ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const ce=this._viewContainer;F.forEachOperation((Ze,Nt,$t)=>{if(null==Ze.previousIndex)ce.createEmbeddedView(this._template,new mr(Ze.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)ce.remove(null===Nt?void 0:Nt);else if(null!==Nt){const Dn=ce.get(Nt);ce.move(Dn,$t),Nr(Dn,Ze)}});for(let Ze=0,Nt=ce.length;Ze<Nt;Ze++){const Dn=ce.get(Ze).context;Dn.index=Ze,Dn.count=Nt,Dn.ngForOf=this._ngForOf}F.forEachIdentityChange(Ze=>{Nr(ce.get(Ze.currentIndex),Ze)})}static ngTemplateContextGuard(F,ce){return!0}}return U.\u0275fac=function(F){return new(F||U)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},U.\u0275dir=h.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();function Nr(U,re){U.context.$implicit=re.item}let dr=(()=>{class U{constructor(F,ce){this._viewContainer=F,this._context=new hi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Lr("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Lr("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,ce){return!0}}return U.\u0275fac=function(F){return new(F||U)(h.Y36(h.s_b),h.Y36(h.Rgc))},U.\u0275dir=h.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class hi{constructor(){this.$implicit=null,this.ngIf=null}}function Lr(U,re){if(re&&!re.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,h.AaK)(re)}'.`)}class ys{constructor(re,F){this._viewContainerRef=re,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let Bi=(()=>{class U{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(F)}_matchCase(F){const ce=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ce,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ce}_updateDefaultCases(F){if(this._defaultViews&&F!==this._defaultUsed){this._defaultUsed=F;for(let ce=0;ce<this._defaultViews.length;ce++)this._defaultViews[ce].enforceState(F)}}}return U.\u0275fac=function(F){return new(F||U)},U.\u0275dir=h.lG2({type:U,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),U})(),yr=(()=>{class U{constructor(F,ce,Ze){this.ngSwitch=Ze,Ze._addCase(),this._view=new ys(F,ce)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return U.\u0275fac=function(F){return new(F||U)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Bi,9))},U.\u0275dir=h.lG2({type:U,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),U})(),vs=(()=>{class U{constructor(F,ce,Ze){Ze._addDefault(new ys(F,ce))}}return U.\u0275fac=function(F){return new(F||U)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Bi,9))},U.\u0275dir=h.lG2({type:U,selectors:[["","ngSwitchDefault",""]]}),U})(),bs=(()=>{class U{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(F){if(F.ngTemplateOutlet){const ce=this._viewContainerRef;this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ce.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(F){return new(F||U)(h.Y36(h.s_b))},U.\u0275dir=h.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[h.TTD]}),U})();function er(U,re){return new h.vHH(2100,"")}class zr{createSubscription(re,F){return re.subscribe({next:F,error:ce=>{throw ce}})}dispose(re){re.unsubscribe()}onDestroy(re){re.unsubscribe()}}class es{createSubscription(re,F){return re.then(F,ce=>{throw ce})}dispose(re){}onDestroy(re){}}const Do=new es,Oi=new zr;let eo=(()=>{class U{constructor(F){this._ref=F,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,ce=>this._updateLatestValue(F,ce))}_selectStrategy(F){if((0,h.QGY)(F))return Do;if((0,h.F4k)(F))return Oi;throw er()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,ce){F===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return U.\u0275fac=function(F){return new(F||U)(h.Y36(h.sBO,16))},U.\u0275pipe=h.Yjl({name:"async",type:U,pure:!1}),U})(),Wr=(()=>{class U{constructor(F,ce="USD"){this._locale=F,this._defaultCurrencyCode=ce}transform(F,ce=this._defaultCurrencyCode,Ze="symbol",Nt,$t){if(!function xr(U){return!(null==U||""===U||U!=U)}(F))return null;$t=$t||this._locale,"boolean"==typeof Ze&&(Ze=Ze?"symbol":"code");let Dn=ce||this._defaultCurrencyCode;"code"!==Ze&&(Dn="symbol"===Ze||"symbol-narrow"===Ze?function V(U,re,F="en"){const ce=function Et(U){return(0,h.cg1)(U)[h.wAp.Currencies]}(F)[U]||ee[U]||[],Ze=ce[1];return"narrow"===re&&"string"==typeof Ze?Ze:ce[0]||U}(Dn,"symbol"===Ze?"wide":"narrow",$t):Ze);try{return Hn(function Br(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}(F),$t,Dn,ce,Nt)}catch($n){throw er()}}}return U.\u0275fac=function(F){return new(F||U)(h.Y36(h.soG,16),h.Y36(h.EJc,16))},U.\u0275pipe=h.Yjl({name:"currency",type:U,pure:!0}),U})();let ls=(()=>{class U{}return U.\u0275fac=function(F){return new(F||U)},U.\u0275mod=h.oAB({type:U}),U.\u0275inj=h.cJS({}),U})();const Cr="browser";function Ri(U){return U===Cr}function Ds(U){return"server"===U}let ss=(()=>{class U{}return U.\u0275prov=(0,h.Yz7)({token:U,providedIn:"root",factory:()=>new gr((0,h.LFG)(ke),window)}),U})();class gr{constructor(re,F){this.document=re,this.window=F,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const F=function Zr(U,re){const F=U.getElementById(re)||U.getElementsByName(re)[0];if(F)return F;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const ce=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Ze=ce.currentNode;for(;Ze;){const Nt=Ze.shadowRoot;if(Nt){const $t=Nt.getElementById(re)||Nt.querySelector(`[name="${re}"]`);if($t)return $t}Ze=ce.nextNode()}}return null}(this.document,re);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=re)}}scrollToElement(re){const F=re.getBoundingClientRect(),ce=F.left+this.window.pageXOffset,Ze=F.top+this.window.pageYOffset,Nt=this.offset();this.window.scrollTo(ce-Nt[0],Ze-Nt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch(re){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(re){return!1}}}function cs(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class _i{}},5e3:(Yt,Ye,b)=>{b.d(Ye,{deG:()=>Sr,tb:()=>LE,AFp:()=>kE,ip1:()=>RE,CZH:()=>m0,hGG:()=>pw,z2F:()=>C0,sBO:()=>XC,Sil:()=>RC,_Vd:()=>tu,EJc:()=>xC,SBq:()=>Yd,qLn:()=>Ja,vpe:()=>ll,tBr:()=>Jn,XFs:()=>un,OlP:()=>Tr,zs3:()=>Eo,ZZ4:()=>M0,aQg:()=>A0,soG:()=>_0,YKP:()=>ip,h0i:()=>Xd,PXZ:()=>$C,R0b:()=>kl,FiY:()=>ei,Lbi:()=>FE,g9A:()=>NE,n_E:()=>nu,Qsj:()=>zb,FYo:()=>zy,JOm:()=>z,q3G:()=>pi,tp0:()=>lr,Rgc:()=>Hu,dDg:()=>jE,q4F:()=>pg,GfV:()=>qd,s_b:()=>nh,ifc:()=>Be,eFA:()=>$E,G48:()=>QC,Gpc:()=>fe,f3M:()=>He,X6Q:()=>qC,_c5:()=>fw,VLi:()=>jC,c2e:()=>BE,zSh:()=>Id,wAp:()=>ri,vHH:()=>je,EiD:()=>qa,mCW:()=>ao,qzn:()=>Fo,JVY:()=>lu,pB0:()=>Ka,eBb:()=>_a,L6k:()=>gh,LAX:()=>_h,cg1:()=>qm,kL8:()=>Qm,yhl:()=>mh,dqk:()=>ln,sIi:()=>Wc,CqO:()=>Tm,QGY:()=>z_,F4k:()=>gs,RDi:()=>cs,AaK:()=>ye,z3N:()=>qs,qOj:()=>_f,TTD:()=>xr,_Bn:()=>Zd,xp6:()=>Ug,uIk:()=>mm,Gre:()=>zm,ekj:()=>Bf,Suo:()=>Zt,Xpm:()=>dt,lG2:()=>at,Yz7:()=>Ce,cJS:()=>bt,oAB:()=>vn,Yjl:()=>Ve,Y36:()=>_r,_UZ:()=>Rf,GkF:()=>Mr,BQk:()=>Pf,ynx:()=>kf,qZA:()=>kd,TgZ:()=>Yc,EpF:()=>Qv,n5z:()=>Yo,Ikx:()=>Zm,LFG:()=>B,$8M:()=>Ll,$Z:()=>ho,NdJ:()=>Sm,CRH:()=>Qt,oxw:()=>Y_,ALo:()=>yg,lcZ:()=>vg,Hsn:()=>Q_,F$t:()=>q_,Q6J:()=>Ea,VKq:()=>Qy,iGM:()=>qe,MAs:()=>O_,CHM:()=>zo,LSH:()=>pu,Udp:()=>Pu,WFA:()=>Mm,d8E:()=>Ym,YNc:()=>_m,W1O:()=>Ii,_uU:()=>Vm,Oqu:()=>Um,hij:()=>Uf,Gf:()=>xt});var h=b(7579),g=b(727),C=b(8306),ne=b(6451),ge=b(3099);function ve(n){for(let i in n)if(n[i]===ve)return i;throw Error("Could not find renamed property on target object.")}function ke(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function le(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const se=ve({__forward_ref__:ve});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return ye(this())},n}function De(n){return We(n)?n():n}function We(n){return"function"==typeof n&&n.hasOwnProperty(se)&&n.__forward_ref__===fe}class je extends Error{constructor(i,o){super(function lt(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,o)),this.code=i}}function Ue(n){return"string"==typeof n?n:null==n?"":String(n)}function rt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ue(n)}function pe(n,i){const o=i?` in ${i}`:"";throw new je(-201,`No provider for ${rt(n)} found${o}`)}function Xe(n,i){null==n&&function $e(n,i,o,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function Ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function bt(n){return{providers:n.providers||[],imports:n.imports||[]}}function pt(n){return ht(n,Et)||ht(n,cn)}function ht(n,i){return n.hasOwnProperty(i)?n[i]:null}function Se(n){return n&&(n.hasOwnProperty(Jt)||n.hasOwnProperty(Mn))?n[Jt]:null}const Et=ve({\u0275prov:ve}),Jt=ve({\u0275inj:ve}),cn=ve({ngInjectableDef:ve}),Mn=ve({ngInjectorDef:ve});var un=(()=>((un=un||{})[un.Default=0]="Default",un[un.Host=1]="Host",un[un.Self=2]="Self",un[un.SkipSelf=4]="SkipSelf",un[un.Optional=8]="Optional",un))();let pn;function ft(n){const i=pn;return pn=n,i}function V(n,i,o){const l=pt(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&un.Optional?null:void 0!==i?i:void pe(ye(n),"Injector")}function we(n){return{toString:n}.toString()}var Oe=(()=>((Oe=Oe||{})[Oe.OnPush=0]="OnPush",Oe[Oe.Default=1]="Default",Oe))(),Be=(()=>{return(n=Be||(Be={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Be;var n})();const de="undefined"!=typeof globalThis&&globalThis,Ke="undefined"!=typeof window&&window,Vt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ln=de||"undefined"!=typeof global&&global||Ke||Vt,ni={},on=[],Ci=ve({\u0275cmp:ve}),ze=ve({\u0275dir:ve}),$=ve({\u0275pipe:ve}),P=ve({\u0275mod:ve}),x=ve({\u0275fac:ve}),G=ve({__NG_ELEMENT_ID__:ve});let Te=0;function dt(n){return we(()=>{const o={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Be.Emulated,id:"c",styles:n.styles||on,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,p=n.features,v=n.pipes;return l.id+=Te++,l.inputs=Dt(n.inputs,o),l.outputs=Dt(n.outputs),p&&p.forEach(T=>T(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(Pn):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(Nn):null,l})}function Pn(n){return _t(n)||function Gt(n){return n[ze]||null}(n)}function Nn(n){return function It(n){return n[$]||null}(n)}const oi={};function vn(n){return we(()=>{const i={type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(oi[n.id]=n.type),i})}function Dt(n,i){if(null==n)return ni;const o={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),o[c]=l,i&&(i[c]=p)}return o}const at=dt;function Ve(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function _t(n){return n[Ci]||null}function Ne(n,i){const o=n[P]||null;if(!o&&!0===i)throw new Error(`Type ${ye(n)} does not have '\u0275mod' property.`);return o}function Bi(n){return Array.isArray(n)&&"object"==typeof n[1]}function yr(n){return Array.isArray(n)&&!0===n[1]}function vs(n){return 0!=(8&n.flags)}function zs(n){return 2==(2&n.flags)}function or(n){return 1==(1&n.flags)}function Ir(n){return null!==n.template}function Ws(n){return 0!=(512&n[2])}function ar(n,i){return n.hasOwnProperty(x)?n[x]:null}class Wr{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function xr(){return Br}function Br(n){return n.type.prototype.ngOnChanges&&(n.setInput=$o),Fs}function Fs(){const n=Cr(this),i=null==n?void 0:n.current;if(i){const o=n.previous;if(o===ni)n.previous=i;else for(let l in i)o[l]=i[l];n.current=null,this.ngOnChanges(i)}}function $o(n,i,o,l){const c=Cr(n)||function Cs(n,i){return n[ls]=i}(n,{previous:ni,current:null}),p=c.current||(c.current={}),v=c.previous,T=this.declaredInputs[o],O=v[T];p[T]=new Wr(O&&O.currentValue,i,v===ni),n[l]=i}xr.ngInherit=!0;const ls="__ngSimpleChanges__";function Cr(n){return n[ls]||null}let gr;function cs(n){gr=n}function _i(n){return!!n.listen}const U={createRenderer:(n,i)=>function Zr(){return void 0!==gr?gr:"undefined"!=typeof document?document:void 0}()};function F(n){for(;Array.isArray(n);)n=n[0];return n}function Nt(n,i){return F(i[n])}function $t(n,i){return F(i[n.index])}function $n(n,i){return n.data[i]}function mi(n,i){return n[i]}function li(n,i){const o=i[n];return Bi(o)?o:o[0]}function fi(n){return 4==(4&n[2])}function qi(n){return 128==(128&n[2])}function Wi(n,i){return null==i?null:n[i]}function H(n){n[18]=0}function N(n,i){n[5]+=i;let o=n,l=n[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const M={lFrame:kn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vr(){return M.bindingsEnabled}function nn(){return M.lFrame.lView}function yi(){return M.lFrame.tView}function zo(n){return M.lFrame.contextLView=n,n[8]}function nr(){let n=Wo();for(;null!==n&&64===n.type;)n=n.parent;return n}function Wo(){return M.lFrame.currentTNode}function Is(n,i){const o=M.lFrame;o.currentTNode=n,o.isParent=i}function To(){return M.lFrame.isParent}function Da(){M.lFrame.isParent=!1}function to(){return M.isInCheckNoChangesMode}function no(n){M.isInCheckNoChangesMode=n}function pr(){const n=M.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function J(){return M.lFrame.bindingIndex++}function y(n){const i=M.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function te(n,i){const o=M.lFrame;o.bindingIndex=o.bindingRootIndex=n,Qe(i)}function Qe(n){M.lFrame.currentDirectiveIndex=n}function tt(n){const i=M.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function St(){return M.lFrame.currentQueryIndex}function zt(n){M.lFrame.currentQueryIndex=n}function wn(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function On(n,i,o){if(o&un.SkipSelf){let c=i,p=n;for(;!(c=c.parent,null!==c||o&un.Host||(c=wn(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;i=c,n=p}const l=M.lFrame=ci();return l.currentTNode=i,l.lView=n,!0}function zn(n){const i=ci(),o=n[1];M.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ci(){const n=M.lFrame,i=null===n?null:n.child;return null===i?kn(n):i}function kn(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Zn(){const n=M.lFrame;return M.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Pi=Zn;function tr(){const n=Zn();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Di(){return M.lFrame.selectedIndex}function Or(n){M.lFrame.selectedIndex=n}function Vi(){const n=M.lFrame;return $n(n.tView,n.selectedIndex)}function qr(n,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:O,ngAfterViewChecked:K,ngOnDestroy:ie}=p;v&&(n.contentHooks||(n.contentHooks=[])).push(-o,v),T&&((n.contentHooks||(n.contentHooks=[])).push(o,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,T)),O&&(n.viewHooks||(n.viewHooks=[])).push(-o,O),K&&((n.viewHooks||(n.viewHooks=[])).push(o,K),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,K)),null!=ie&&(n.destroyHooks||(n.destroyHooks=[])).push(o,ie)}}function ro(n,i,o){En(n,i,3,o)}function hs(n,i,o,l){(3&n[2])===o&&En(n,i,o,l)}function Tn(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function En(n,i,o,l){const p=null!=l?l:-1,v=i.length-1;let T=0;for(let O=void 0!==l?65535&n[18]:0;O<v;O++)if("number"==typeof i[O+1]){if(T=i[O],null!=l&&T>=l)break}else i[O]<0&&(n[18]+=65536),(T<p||-1==p)&&(Kn(n,o,i,O),n[18]=(4294901760&n[18])+O+2),O++}function Kn(n,i,o,l){const c=o[l]<0,p=o[l+1],T=n[c?-o[l]:o[l]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{p.call(T)}finally{}}}else try{p.call(T)}finally{}}class Ui{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ki(n,i,o){const l=_i(n);let c=0;for(;c<o.length;){const p=o[c];if("number"==typeof p){if(0!==p)break;c++;const v=o[c++],T=o[c++],O=o[c++];l?n.setAttribute(i,T,O,v):i.setAttributeNS(v,T,O)}else{const v=p,T=o[++c];pa(v)?l&&n.setProperty(i,v,T):l?n.setAttribute(i,v,T):i.setAttribute(v,T),c++}}return c}function Ss(n){return 3===n||4===n||6===n}function pa(n){return 64===n.charCodeAt(0)}function Vs(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?o=c:0===o||ul(n,o,c,null,-1===o||2===o?i[++l]:null)}}return n}function ul(n,i,o,l,c){let p=0,v=n.length;if(-1===i)v=-1;else for(;p<n.length;){const T=n[p++];if("number"==typeof T){if(T===i){v=-1;break}if(T>i){v=p-1;break}}}for(;p<n.length;){const T=n[p];if("number"==typeof T)break;if(T===o){if(null===l)return void(null!==c&&(n[p+1]=c));if(l===n[p+1])return void(n[p+2]=c)}p++,null!==l&&p++,null!==c&&p++}-1!==v&&(n.splice(v,0,i),p=v+1),n.splice(p++,0,o),null!==l&&n.splice(p++,0,l),null!==c&&n.splice(p++,0,c)}function Ha(n){return-1!==n}function so(n){return 32767&n}function Xi(n,i){let o=function dl(n){return n>>16}(n),l=i;for(;o>0;)l=l[15],o--;return l}let Ia=!0;function oa(n){const i=Ia;return Ia=n,i}let j=0;function Y(n,i){const o=ot(n,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(n.injectorIndex=i.length,Fe(l.data,n),Fe(i,null),Fe(l.blueprint,null));const c=jt(n,i),p=n.injectorIndex;if(Ha(c)){const v=so(c),T=Xi(c,i),O=T[1].data;for(let K=0;K<8;K++)i[p+K]=T[v+K]|O[v+K]}return i[p+8]=c,p}function Fe(n,i){n.push(0,0,0,0,0,0,0,0,i)}function ot(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function jt(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,l=null,c=i;for(;null!==c;){const p=c[1],v=p.type;if(l=2===v?p.declTNode:1===v?c[6]:null,null===l)return-1;if(o++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Ht(n,i,o){!function W(n,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(G)&&(l=o[G]),null==l&&(l=o[G]=j++);const c=255&l;i.data[n+(c>>5)]|=1<<c}(n,i,o)}function Bn(n,i,o){if(o&un.Optional)return n;pe(i,"NodeInjector")}function rn(n,i,o,l){if(o&un.Optional&&void 0===l&&(l=null),0==(o&(un.Self|un.Host))){const c=n[9],p=ft(void 0);try{return c?c.get(i,l,o&un.Optional):V(i,l,o&un.Optional)}finally{ft(p)}}return Bn(l,i,o)}function Tt(n,i,o,l=un.Default,c){if(null!==n){const p=function Nl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(G)?n[G]:void 0;return"number"==typeof i?i>=0?255&i:Ji:i}(o);if("function"==typeof p){if(!On(i,n,l))return l&un.Host?Bn(c,o,l):rn(i,o,l,c);try{const v=p(l);if(null!=v||l&un.Optional)return v;pe(o)}finally{Pi()}}else if("number"==typeof p){let v=null,T=ot(n,i),O=-1,K=l&un.Host?i[16][6]:null;for((-1===T||l&un.SkipSelf)&&(O=-1===T?jt(n,i):i[T+8],-1!==O&&Fl(l,!1)?(v=i[1],T=so(O),i=Xi(O,i)):T=-1);-1!==T;){const ie=i[1];if(Ta(p,T,ie.data)){const Le=ma(T,i,o,v,l,K);if(Le!==Xt)return Le}O=i[T+8],-1!==O&&Fl(l,i[1].data[T+8]===K)&&Ta(p,T,i)?(v=ie,T=so(O),i=Xi(O,i)):T=-1}}}return rn(i,o,l,c)}const Xt={};function Ji(){return new Sa(nr(),nn())}function ma(n,i,o,l,c,p){const v=i[1],T=v.data[n+8],ie=ga(T,v,o,null==l?zs(T)&&Ia:l!=v&&0!=(3&T.type),c&un.Host&&p===T);return null!==ie?xo(i,v,ie,T):Xt}function ga(n,i,o,l,c){const p=n.providerIndexes,v=i.data,T=1048575&p,O=n.directiveStart,ie=p>>20,ut=c?T+ie:n.directiveEnd;for(let Mt=l?T:T+ie;Mt<ut;Mt++){const qt=v[Mt];if(Mt<O&&o===qt||Mt>=O&&qt.type===o)return Mt}if(c){const Mt=v[O];if(Mt&&Ir(Mt)&&Mt.type===o)return O}return null}function xo(n,i,o,l){let c=n[o];const p=i.data;if(function Ts(n){return n instanceof Ui}(c)){const v=c;v.resolving&&function Ae(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new je(-200,`Circular dependency in DI detected for ${n}${o}`)}(rt(p[o]));const T=oa(v.canSeeViewProviders);v.resolving=!0;const O=v.injectImpl?ft(v.injectImpl):null;On(n,l,un.Default);try{c=n[o]=v.factory(void 0,p,n,l),i.firstCreatePass&&o>=l.directiveStart&&function Mo(n,i,o){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:p}=i.type.prototype;if(l){const v=Br(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,v)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,c),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],i)}finally{null!==O&&ft(O),oa(T),v.resolving=!1,Pi()}}return c}function Ta(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function Fl(n,i){return!(n&un.Self||n&un.Host&&i)}class Sa{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return Tt(this._tNode,this._lView,i,l,o)}}function Yo(n){return we(()=>{const i=n.prototype.constructor,o=i[x]||hl(i),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const p=c[x]||hl(c);if(p&&p!==o)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function hl(n){return We(n)?()=>{const i=hl(De(n));return i&&i()}:ar(n)}function Ll(n){return function hn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const l=o.length;let c=0;for(;c<l;){const p=o[c];if(Ss(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<l&&"string"==typeof o[c];)c++;else{if(p===i)return o[c+1];c+=2}}}return null}(nr(),n)}const Xn="__parameters__";function Yn(n,i,o){return we(()=>{const l=function Zi(n){return function(...o){if(n){const l=n(...o);for(const c in l)this[c]=l[c]}}}(i);function c(...p){if(this instanceof c)return l.apply(this,p),this;const v=new c(...p);return T.annotation=v,T;function T(O,K,ie){const Le=O.hasOwnProperty(Xn)?O[Xn]:Object.defineProperty(O,Xn,{value:[]})[Xn];for(;Le.length<=ie;)Le.push(null);return(Le[ie]=Le[ie]||[]).push(v),O}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Tr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ce({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Sr=new Tr("AnalyzeForEntryComponents");function oo(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let l=n[o];Array.isArray(l)?(i===n&&(i=n.slice(0,o)),oo(l,i)):i!==n&&i.push(l)}return i}function Xr(n,i){n.forEach(o=>Array.isArray(o)?Xr(o,i):i(o))}function Ma(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ot(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Aa(n,i){const o=[];for(let l=0;l<n;l++)o.push(i);return o}function Ms(n,i,o){let l=ca(n,i);return l>=0?n[1|l]=o:(l=~l,function ko(n,i,o,l){let c=n.length;if(c==i)n.push(o,l);else if(1===c)n.push(l,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=o,n[i+1]=l}}(n,l,i,o)),l}function la(n,i){const o=ca(n,i);if(o>=0)return n[1|o]}function ca(n,i){return function ps(n,i,o){let l=0,c=n.length>>o;for(;c!==l;){const p=l+(c-l>>1),v=n[p<<o];if(i===v)return p<<o;v>i?c=p:l=p+1}return~(c<<o)}(n,i,1)}const ms={},Po="__NG_DI_FLAG__",vr="ngTempTokenPath",xa=/\n/gm,Xo="__source",Hl=ve({provide:String,useValue:ve});let Wa;function yl(n){const i=Wa;return Wa=n,i}function R(n,i=un.Default){if(void 0===Wa)throw new je(203,"");return null===Wa?V(n,void 0,i):Wa.get(n,i&un.Optional?null:void 0,i)}function B(n,i=un.Default){return(function dn(){return pn}()||R)(De(n),i)}const He=B;function Ct(n){const i=[];for(let o=0;o<n.length;o++){const l=De(n[o]);if(Array.isArray(l)){if(0===l.length)throw new je(900,"");let c,p=un.Default;for(let v=0;v<l.length;v++){const T=l[v],O=sn(T);"number"==typeof O?-1===O?c=T.token:p|=O:c=T}i.push(B(c,p))}else i.push(B(l))}return i}function Rt(n,i){return n[Po]=i,n.prototype[Po]=i,n}function sn(n){return n[Po]}const Jn=Rt(Yn("Inject",n=>({token:n})),-1),ei=Rt(Yn("Optional"),8),lr=Rt(Yn("SkipSelf"),4);let bc;function Gl(n){var i;return(null===(i=function Oa(){if(void 0===bc&&(bc=null,ln.trustedTypes))try{bc=ln.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return bc}())||void 0===i?void 0:i.createHTML(n))||n}class bl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fh extends bl{getTypeName(){return"HTML"}}class ph extends bl{getTypeName(){return"Style"}}class cp extends bl{getTypeName(){return"Script"}}class up extends bl{getTypeName(){return"URL"}}class dp extends bl{getTypeName(){return"ResourceURL"}}function qs(n){return n instanceof bl?n.changingThisBreaksApplicationSecurity:n}function Fo(n,i){const o=mh(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function mh(n){return n instanceof bl&&n.getTypeName()||null}function lu(n){return new fh(n)}function gh(n){return new ph(n)}function _a(n){return new cp(n)}function _h(n){return new up(n)}function Ka(n){return new dp(n)}class cu{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Gl(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class uu{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Gl(i),o;const l=this.inertDocument.createElement("body");return l.innerHTML=Gl(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const v=o.item(c).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&i.removeAttribute(v)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const zl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ao(n){return(n=String(n)).match(zl)||n.match(Zu)?n:"unsafe:"+n}function ta(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Ra(...n){const i={};for(const o of n)for(const l in o)o.hasOwnProperty(l)&&(i[l]=!0);return i}const qu=ta("area,br,col,hr,img,wbr"),wc=ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yh=ta("rp,rt"),Wl=Ra(qu,Ra(wc,ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ra(yh,ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ra(yh,wc)),Dc=ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xu=ta("srcset"),Za=Ra(Dc,Xu,ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vh=ta("script,style,template");class Ya{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Wl.hasOwnProperty(o))return this.sanitizedSomething=!0,!vh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=i.attributes;for(let c=0;c<l.length;c++){const p=l.item(c),v=p.name,T=v.toLowerCase();if(!Za.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let O=p.value;Dc[T]&&(O=ao(O)),Xu[T]&&(n=O,O=(n=String(n)).split(",").map(i=>ao(i.trim())).join(", ")),this.buf.push(" ",v,'="',Ju(O),'"')}var n;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Wl.hasOwnProperty(o)&&!qu.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Ju(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const du=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kl=/([^\#-~ |!])/g;function Ju(n){return n.replace(/&/g,"&amp;").replace(du,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Kl,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let El;function qa(n,i){let o=null;try{El=El||function Wu(n){const i=new uu(n);return function Ku(){try{return!!(new window.DOMParser).parseFromString(Gl(""),"text/html")}catch(n){return!1}}()?new cu(i):i}(n);let l=i?String(i):"";o=El.getInertBodyElement(l);let c=5,p=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=p,p=o.innerHTML,o=El.getInertBodyElement(l)}while(l!==p);return Gl((new Ya).sanitizeChildren(ed(o)||o))}finally{if(o){const l=ed(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ed(n){return"content"in n&&function mp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var pi=(()=>((pi=pi||{})[pi.NONE=0]="NONE",pi[pi.HTML=1]="HTML",pi[pi.STYLE=2]="STYLE",pi[pi.SCRIPT=3]="SCRIPT",pi[pi.URL=4]="URL",pi[pi.RESOURCE_URL=5]="RESOURCE_URL",pi))();function pu(n){const i=function Yl(){const n=nn();return n&&n[12]}();return i?i.sanitize(pi.URL,n)||"":Fo(n,"URL")?qs(n):ao(Ue(n))}const Gr="__ngContext__";function ii(n,i){n[Gr]=i}function Mc(n){const i=function Qa(n){return n[Gr]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function va(n){return n.ngOriginalError}function xc(n,...i){n.error(...i)}class Ja{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),l=function Ac(n){return n&&n.ngErrorLogger||xc}(i);l(this._console,"ERROR",i),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&va(i);for(;o&&va(o);)o=va(o);return o||null}}const Rc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ln))();function ha(n){return n instanceof Function?n():n}var z=(()=>((z=z||{})[z.Important=1]="Important",z[z.DashCase=2]="DashCase",z))();function mt(n,i){return undefined(n,i)}function An(n){const i=n[3];return yr(i)?i[3]:i}function Jr(n){return ql(n[13])}function bo(n){return ql(n[4])}function ql(n){for(;null!==n&&!yr(n);)n=n[4];return n}function tl(n,i,o,l,c){if(null!=l){let p,v=!1;yr(l)?p=l:Bi(l)&&(v=!0,l=l[0]);const T=F(l);0===n&&null!==o?null==c?xg(i,o,T):Pc(i,o,T,c||null,!0):1===n&&null!==o?Pc(i,o,T,c||null,!0):2===n?function wp(n,i,o){const l=Oh(n,i);l&&function pv(n,i,o,l){_i(n)?n.removeChild(i,o,l):i.removeChild(o)}(n,l,i,o)}(i,T,v):3===n&&i.destroyNode(T),null!=p&&function Ip(n,i,o,l,c){const p=o[7];p!==F(o)&&tl(i,n,l,p,c);for(let T=10;T<o.length;T++){const O=o[T];dd(O[1],O,n,i,l,p)}}(i,n,p,o,c)}}function ka(n,i,o){if(_i(n))return n.createElement(i,o);{const l=null!==o?function ss(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(o):null;return null===l?n.createElement(i):n.createElementNS(l,i)}}function Tg(n,i){const o=n[9],l=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,N(c,-1)),o.splice(l,1)}function Mh(n,i){if(n.length<=10)return;const o=10+i,l=n[o];if(l){const c=l[17];null!==c&&c!==n&&Tg(c,l),i>0&&(n[o-1][4]=l[4]);const p=Ot(n,10+i);!function wl(n,i){dd(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const v=p[19];null!==v&&v.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Pa(n,i){if(!(256&i[2])){const o=i[11];_i(o)&&o.destroyNode&&dd(n,i,o,3,null,null),function vp(n){let i=n[13];if(!i)return Ah(n[1],n);for(;i;){let o=null;if(Bi(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==n;)Bi(i)&&Ah(i[1],i),i=i[3];null===i&&(i=n),Bi(i)&&Ah(i[1],i),o=i&&i[4]}i=o}}(i)}}function Ah(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function Sg(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let l=0;l<o.length;l+=2){const c=i[o[l]];if(!(c instanceof Ui)){const p=o[l+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const T=c[p[v]],O=p[v+1];try{O.call(T)}finally{}}else try{p.call(c)}finally{}}}}(n,i),function xh(n,i){const o=n.cleanup,l=i[7];let c=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const v=o[p+1],T="function"==typeof v?v(i):F(i[v]),O=l[c=o[p+2]],K=o[p+3];"boolean"==typeof K?T.removeEventListener(o[p],O,K):K>=0?l[c=K]():l[c=-K].unsubscribe(),p+=2}else{const v=l[c=o[p+1]];o[p].call(v)}if(null!==l){for(let p=c+1;p<l.length;p++)l[p]();i[7]=null}}(n,i),1===i[1].type&&_i(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&yr(i[3])){o!==i[3]&&Tg(o,i);const l=i[19];null!==l&&l.detachView(n)}}}function Mg(n,i,o){return function Ag(n,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const c=n.data[l.directiveStart].encapsulation;if(c===Be.None||c===Be.Emulated)return null}return $t(l,o)}(n,i.parent,o)}function Pc(n,i,o,l,c){_i(n)?n.insertBefore(i,o,l,c):i.insertBefore(o,l,c)}function xg(n,i,o){_i(n)?n.appendChild(i,o):i.appendChild(o)}function Og(n,i,o,l,c){null!==l?Pc(n,i,o,l,c):xg(n,i,o)}function Oh(n,i){return _i(n)?n.parentNode(i):i.parentNode}function Rg(n,i,o){return Pg(n,i,o)}let Pg=function kg(n,i,o){return 40&n.type?$t(n,o):null};function Rh(n,i,o,l){const c=Mg(n,l,i),p=i[11],T=Rg(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(o))for(let O=0;O<o.length;O++)Og(p,c,o[O],T,!1);else Og(p,c,o,T,!1)}function kh(n,i){if(null!==i){const o=i.type;if(3&o)return $t(i,n);if(4&o)return Cp(-1,n[i.index]);if(8&o){const l=i.child;if(null!==l)return kh(n,l);{const c=n[i.index];return yr(c)?Cp(-1,c):F(c)}}if(32&o)return mt(i,n)()||F(n[i.index]);{const l=Ep(n,i);return null!==l?Array.isArray(l)?l[0]:kh(An(n[16]),l):kh(n,i.next)}}return null}function Ep(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Cp(n,i){const o=10+n+1;if(o<i.length){const l=i[o],c=l[1].firstChild;if(null!==c)return kh(l,c)}return i[7]}function Ph(n,i,o,l,c,p,v){for(;null!=o;){const T=l[o.index],O=o.type;if(v&&0===i&&(T&&ii(F(T),l),o.flags|=4),64!=(64&o.flags))if(8&O)Ph(n,i,o.child,l,c,p,!1),tl(i,n,c,T,p);else if(32&O){const K=mt(o,l);let ie;for(;ie=K();)tl(i,n,c,ie,p);tl(i,n,c,T,p)}else 16&O?Hs(n,i,l,o,c,p):tl(i,n,c,T,p);o=v?o.projectionNext:o.next}}function dd(n,i,o,l,c,p){Ph(o,l,n.firstChild,i,c,p,!1)}function Hs(n,i,o,l,c,p){const v=o[16],O=v[6].projection[l.projection];if(Array.isArray(O))for(let K=0;K<O.length;K++)tl(i,n,c,O[K],p);else Ph(n,i,O,v[3],c,p,!0)}function Nh(n,i,o){_i(n)?n.setAttribute(i,"style",o):i.style.cssText=o}function nl(n,i,o){_i(n)?""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o):i.className=o}function Sp(n,i,o){let l=n.length;for(;;){const c=n.indexOf(i,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const p=i.length;if(c+p===l||n.charCodeAt(c+p)<=32)return c}o=c+1}}const Mp="ng-template";function Fh(n,i,o){let l=0;for(;l<n.length;){let c=n[l++];if(o&&"class"===c){if(c=n[l],-1!==Sp(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<n.length&&"string"==typeof(c=n[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function Ql(n){return 4===n.type&&n.value!==Mp}function Nc(n,i,o){return i===(4!==n.type||o?n.value:Mp)}function Fc(n,i,o){let l=4;const c=n.attrs||[],p=function Lg(n){for(let i=0;i<n.length;i++)if(Ss(n[i]))return i;return n.length}(c);let v=!1;for(let T=0;T<i.length;T++){const O=i[T];if("number"!=typeof O){if(!v)if(4&l){if(l=2|1&l,""!==O&&!Nc(n,O,o)||""===O&&1===i.length){if(Vo(l))return!1;v=!0}}else{const K=8&l?O:i[++T];if(8&l&&null!==n.attrs){if(!Fh(n.attrs,K,o)){if(Vo(l))return!1;v=!0}continue}const Le=Fg(8&l?"class":O,c,Ql(n),o);if(-1===Le){if(Vo(l))return!1;v=!0;continue}if(""!==K){let ut;ut=Le>p?"":c[Le+1].toLowerCase();const Mt=8&l?ut:null;if(Mt&&-1!==Sp(Mt,K,0)||2&l&&K!==ut){if(Vo(l))return!1;v=!0}}}}else{if(!v&&!Vo(l)&&!Vo(O))return!1;if(v&&Vo(O))continue;v=!1,l=O|1&l}}return Vo(l)||v}function Vo(n){return 0==(1&n)}function Fg(n,i,o,l){if(null===i)return-1;let c=0;if(l||!o){let p=!1;for(;c<i.length;){const v=i[c];if(v===n)return c;if(3===v||6===v)p=!0;else{if(1===v||2===v){let T=i[++c];for(;"string"==typeof T;)T=i[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=p?1:2}return-1}return function Bg(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const l=n[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,n)}function Lh(n,i,o=!1){for(let l=0;l<i.length;l++)if(Fc(n,i[l],o))return!0;return!1}function gv(n,i){e:for(let o=0;o<i.length;o++){const l=i[o];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function xp(n,i){return n?":not("+i.trim()+")":i}function Vg(n){let i=n[0],o=1,l=2,c="",p=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&l){const T=n[++o];c+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&l?c+="."+v:4&l&&(c+=" "+v);else""!==c&&!Vo(v)&&(i+=xp(p,c),c=""),l=v,p=p||!Vo(l);o++}return""!==c&&(i+=xp(p,c)),i}const di={};function Ug(n){Op(yi(),nn(),Di()+n,to())}function Op(n,i,o,l){if(!l)if(3==(3&i[2])){const p=n.preOrderCheckHooks;null!==p&&ro(i,p,o)}else{const p=n.preOrderHooks;null!==p&&hs(i,p,0,o)}Or(o)}function Vh(n,i){return n<<17|i<<2}function Na(n){return n>>17&32767}function Dl(n){return 2|n}function il(n){return(131068&n)>>2}function Rp(n,i){return-131069&n|i<<2}function fd(n){return 1|n}function qg(n,i){const o=n.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const c=o[l],p=o[l+1];if(-1!==p){const v=n.data[p];zt(c),v.contentQueries(2,i[p],p)}}}function gd(n,i,o,l,c,p,v,T,O,K){const ie=i.blueprint.slice();return ie[0]=c,ie[2]=140|l,H(ie),ie[3]=ie[15]=n,ie[8]=o,ie[10]=v||n&&n[10],ie[11]=T||n&&n[11],ie[12]=O||n&&n[12]||null,ie[9]=K||n&&n[9]||null,ie[6]=p,ie[16]=2==i.type?n[16]:ie,ie}function Ml(n,i,o,l,c){let p=n.data[i];if(null===p)p=function Lp(n,i,o,l,c){const p=Wo(),v=To(),O=n.data[i]=function t_(n,i,o,l,c,p){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,o,i,l,c);return null===n.firstChild&&(n.firstChild=O),null!==p&&(v?null==p.child&&null!==O.parent&&(p.child=O):null===p.next&&(p.next=O)),O}(n,i,o,l,c),function E(){return M.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=l,p.attrs=c;const v=function go(){const n=M.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return Is(p,!0),p}function jc(n,i,o,l){if(0===o)return-1;const c=i.length;for(let p=0;p<o;p++)i.push(l),n.blueprint.push(l),n.data.push(null);return c}function Hc(n,i,o){zn(i);try{const l=n.viewQuery;null!==l&&tf(1,l,o);const c=n.template;null!==c&&yd(n,i,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qg(n,i),n.staticViewQueries&&tf(2,n.viewQuery,o);const p=n.components;null!==p&&function Qg(n,i){for(let o=0;o<i.length;o++)Av(n,i[o])}(i,p)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[2]&=-5,tr()}}function ec(n,i,o,l){const c=i[2];if(256==(256&c))return;zn(i);const p=to();try{H(i),function Ko(n){return M.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&yd(n,i,o,2,l);const v=3==(3&c);if(!p)if(v){const K=n.preOrderCheckHooks;null!==K&&ro(i,K,null)}else{const K=n.preOrderHooks;null!==K&&hs(i,K,0,null),Tn(i,0)}if(function u_(n){for(let i=Jr(n);null!==i;i=bo(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const c=o[l],p=c[3];0==(1024&c[2])&&N(p,1),c[2]|=1024}}}(i),function Wp(n){for(let i=Jr(n);null!==i;i=bo(i))for(let o=10;o<i.length;o++){const l=i[o],c=l[1];qi(l)&&ec(c,l,c.template,l[8])}}(i),null!==n.contentQueries&&qg(n,i),!p)if(v){const K=n.contentCheckHooks;null!==K&&ro(i,K)}else{const K=n.contentHooks;null!==K&&hs(i,K,1),Tn(i,1)}!function Cv(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const c=o[l];if(c<0)Or(~c);else{const p=c,v=o[++l],T=o[++l];te(v,p),T(2,i[p])}}}finally{Or(-1)}}(n,i);const T=n.components;null!==T&&function wv(n,i){for(let o=0;o<i.length;o++)Mv(n,i[o])}(i,T);const O=n.viewQuery;if(null!==O&&tf(2,O,l),!p)if(v){const K=n.viewCheckHooks;null!==K&&ro(i,K)}else{const K=n.viewHooks;null!==K&&hs(i,K,2),Tn(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),p||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,N(i[3],-1))}finally{tr()}}function _d(n,i,o,l){const c=i[10],p=!to(),v=fi(i);try{p&&!v&&c.begin&&c.begin(),v&&Hc(n,i,l),ec(n,i,o,l)}finally{p&&!v&&c.end&&c.end()}}function yd(n,i,o,l,c){const p=Di(),v=2&l;try{Or(-1),v&&i.length>20&&Op(n,i,20,to()),o(l,c)}finally{Or(p)}}function Kh(n,i,o){if(vs(i)){const c=i.directiveEnd;for(let p=i.directiveStart;p<c;p++){const v=n.data[p];v.contentQueries&&v.contentQueries(1,o[p],p)}}}function vd(n,i,o){!Vr()||(function Up(n,i,o,l){const c=o.directiveStart,p=o.directiveEnd;n.firstCreatePass||Y(o,i),ii(l,i);const v=o.initialInputs;for(let T=c;T<p;T++){const O=n.data[T],K=Ir(O);K&&l_(i,o,O);const ie=xo(i,n,T,o);ii(ie,i),null!==v&&Sv(0,T-c,ie,O,0,v),K&&(li(o.index,i)[8]=ie)}}(n,i,o,$t(o,i)),128==(128&o.flags)&&function Qh(n,i,o){const l=o.directiveStart,c=o.directiveEnd,v=o.index,T=function Ie(){return M.lFrame.currentDirectiveIndex}();try{Or(v);for(let O=l;O<c;O++){const K=n.data[O],ie=i[O];Qe(O),(null!==K.hostBindings||0!==K.hostVars||null!==K.hostAttrs)&&Du(K,ie)}}finally{Or(-1),Qe(T)}}(n,i,o))}function Zh(n,i,o=$t){const l=i.localNames;if(null!==l){let c=i.index+1;for(let p=0;p<l.length;p+=2){const v=l[p+1],T=-1===v?o(i,n):n[v];n[c++]=T}}}function Xg(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=bd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function bd(n,i,o,l,c,p,v,T,O,K){const ie=20+l,Le=ie+c,ut=function Jg(n,i){const o=[];for(let l=0;l<i;l++)o.push(l<n?null:di);return o}(ie,Le),Mt="function"==typeof K?K():K;return ut[1]={type:n,blueprint:ut,template:o,queries:null,viewQuery:T,declTNode:i,data:ut.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:O,consts:Mt,incompleteFirstPass:!1}}function e_(n,i,o,l){const c=Al(i);null===o?c.push(l):(c.push(o),n.firstCreatePass&&Qp(n).push(l,c.length-1))}function n_(n,i,o){for(let l in n)if(n.hasOwnProperty(l)){const c=n[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,c):o[l]=[i,c]}return o}function Uo(n,i,o,l,c,p,v,T){const O=$t(i,o);let ie,K=i.inputs;!T&&null!=K&&(ie=K[l])?(f_(n,o,ie,l,c),zs(i)&&function qh(n,i){const o=li(i,n);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(l=function wu(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=v?v(c,i.value||"",l):c,_i(p)?p.setProperty(O,l,c):pa(l)||(O.setProperty?O.setProperty(l,c):O[l]=c))}function Ed(n,i,o,l){let c=!1;if(Vr()){const p=function Xh(n,i,o){const l=n.directiveRegistry;let c=null;if(l)for(let p=0;p<l.length;p++){const v=l[p];Lh(o,v.selectors,!1)&&(c||(c=[]),Ht(Y(o,i),n,v.type),Ir(v)?(Jh(n,o),c.unshift(v)):c.push(v))}return c}(n,i,o),v=null===l?null:{"":-1};if(null!==p){c=!0,Gp(o,n.data.length,p.length);for(let ie=0;ie<p.length;ie++){const Le=p[ie];Le.providersResolver&&Le.providersResolver(Le)}let T=!1,O=!1,K=jc(n,i,p.length,null);for(let ie=0;ie<p.length;ie++){const Le=p[ie];o.mergedAttrs=Vs(o.mergedAttrs,Le.hostAttrs),a_(n,o,i,K,Le),Hp(K,Le,v),null!==Le.contentQueries&&(o.flags|=8),(null!==Le.hostBindings||null!==Le.hostAttrs||0!==Le.hostVars)&&(o.flags|=128);const ut=Le.type.prototype;!T&&(ut.ngOnChanges||ut.ngOnInit||ut.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),T=!0),!O&&(ut.ngOnChanges||ut.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),O=!0),K++}!function Cu(n,i){const l=i.directiveEnd,c=n.data,p=i.attrs,v=[];let T=null,O=null;for(let K=i.directiveStart;K<l;K++){const ie=c[K],Le=ie.inputs,ut=null===p||Ql(i)?null:c_(Le,p);v.push(ut),T=n_(Le,K,T),O=n_(ie.outputs,K,O)}null!==T&&(T.hasOwnProperty("class")&&(i.flags|=16),T.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=v,i.inputs=T,i.outputs=O}(n,o)}v&&function jp(n,i,o){if(i){const l=n.localNames=[];for(let c=0;c<i.length;c+=2){const p=o[i[c+1]];if(null==p)throw new je(-301,!1);l.push(i[c],p)}}}(o,l,v)}return o.mergedAttrs=Vs(o.mergedAttrs,o.attrs),c}function Vp(n,i,o,l,c,p){const v=p.hostBindings;if(v){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const O=~i.index;(function o_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(T)!=O&&T.push(O),T.push(l,c,v)}}function Du(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Jh(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Hp(n,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=n;Ir(i)&&(o[""]=n)}}function Gp(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function a_(n,i,o,l,c){n.data[l]=c;const p=c.factory||(c.factory=ar(c.type)),v=new Ui(p,Ir(c),null);n.blueprint[l]=v,o[l]=v,Vp(n,i,0,l,jc(n,o,c.hostVars,di),c)}function l_(n,i,o){const l=$t(i,n),c=Xg(o),p=n[10],v=ef(n,gd(n,c,null,o.onPush?64:16,l,i,p,p.createRenderer(l,o),null,null));n[i.index]=v}function sl(n,i,o,l,c,p){const v=$t(n,i);!function $p(n,i,o,l,c,p,v){if(null==p)_i(n)?n.removeAttribute(i,c,o):i.removeAttribute(c);else{const T=null==v?Ue(p):v(p,l||"",c);_i(n)?n.setAttribute(i,c,T,o):o?i.setAttributeNS(o,c,T):i.setAttribute(c,T)}}(i[11],v,p,n.value,o,l,c)}function Sv(n,i,o,l,c,p){const v=p[i];if(null!==v){const T=l.setInput;for(let O=0;O<v.length;){const K=v[O++],ie=v[O++],Le=v[O++];null!==T?l.setInput(o,Le,K,ie):o[ie]=Le}}}function c_(n,i){let o=null,l=0;for(;l<i.length;){const c=i[l];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,n[c],i[l+1])),l+=2}else l+=2;else l+=4}return o}function Iu(n,i,o,l){return new Array(n,!0,!1,i,null,0,l,o,null,null)}function Mv(n,i){const o=li(i,n);if(qi(o)){const l=o[1];80&o[2]?ec(l,o,l.template,o[8]):o[5]>0&&Kp(o)}}function Kp(n){for(let l=Jr(n);null!==l;l=bo(l))for(let c=10;c<l.length;c++){const p=l[c];if(1024&p[2]){const v=p[1];ec(v,p,v.template,p[8])}else p[5]>0&&Kp(p)}const o=n[1].components;if(null!==o)for(let l=0;l<o.length;l++){const c=li(o[l],n);qi(c)&&c[5]>0&&Kp(c)}}function Av(n,i){const o=li(i,n),l=o[1];(function xv(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(l,o),Hc(l,o,o[8])}function ef(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Gc(n){for(;n;){n[2]|=64;const i=An(n);if(Ws(n)&&!i)return n;n=i}return null}function Cd(n,i,o){const l=i[10];l.begin&&l.begin();try{ec(n,i,n.template,o)}catch(c){throw nf(i,c),c}finally{l.end&&l.end()}}function wd(n){!function tc(n){for(let i=0;i<n.components.length;i++){const o=n.components[i],l=Mc(o),c=l[1];_d(c,l,c.template,o)}}(n[8])}function tf(n,i,o){zt(0),i(n,o)}const qp=(()=>Promise.resolve(null))();function Al(n){return n[7]||(n[7]=[])}function Qp(n){return n.cleanup||(n.cleanup=[])}function h_(n,i,o){return(null===n||Ir(n))&&(o=function ce(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[i.index])),o[11]}function nf(n,i){const o=n[9],l=o?o.get(Ja,null):null;l&&l.handleError(i)}function f_(n,i,o,l,c){for(let p=0;p<o.length;){const v=o[p++],T=o[p++],O=i[v],K=n.data[v];null!==K.setInput?K.setInput(O,c,l,T):O[T]=c}}function Fa(n,i,o){const l=Nt(i,n);!function ld(n,i,o){_i(n)?n.setValue(i,o):i.textContent=o}(n[11],l,o)}function rf(n,i,o){let l=o?n.styles:null,c=o?n.classes:null,p=0;if(null!==i)for(let v=0;v<i.length;v++){const T=i[v];"number"==typeof T?p=T:1==p?c=le(c,T):2==p&&(l=le(l,T+": "+i[++v]+";"))}o?n.styles=l:n.stylesWithoutHost=l,o?n.classes=c:n.classesWithoutHost=c}const af=new Tr("INJECTOR",-1);class $c{get(i,o=ms){if(o===ms){const l=new Error(`NullInjectorError: No provider for ${ye(i)}!`);throw l.name="NullInjectorError",l}return o}}const Id=new Tr("Set Injector scope."),Td={},Ov={};let lf;function Jp(){return void 0===lf&&(lf=new $c),lf}function m_(n,i=null,o=null,l){const c=cf(n,i,o,l);return c._resolveInjectorDefTypes(),c}function cf(n,i=null,o=null,l){return new Rv(n,o,i||Jp(),l)}class Rv{constructor(i,o,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];o&&Xr(o,T=>this.processProvider(T,i,o)),Xr([i],T=>this.processInjectorType(T,[],p)),this.records.set(af,nc(void 0,this));const v=this.records.get(Id);this.scope=null!=v?v.value:null,this.source=c||("object"==typeof i?null:ye(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=ms,l=un.Default){this.assertNotDestroyed();const c=yl(this),p=ft(void 0);try{if(!(l&un.SkipSelf)){let T=this.records.get(i);if(void 0===T){const O=function Su(n){return"function"==typeof n||"object"==typeof n&&n instanceof Tr}(i)&&pt(i);T=O&&this.injectableDefInScope(O)?nc(Sd(i),Td):null,this.records.set(i,T)}if(null!=T)return this.hydrate(i,T)}return(l&un.Self?Jp():this.parent).get(i,o=l&un.Optional&&o===ms?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[vr]=v[vr]||[]).unshift(ye(i)),c)throw v;return function _n(n,i,o,l){const c=n[vr];throw i[Xo]&&c.unshift(i[Xo]),n.message=function Vn(n,i,o,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=ye(i);if(Array.isArray(i))c=i.map(ye).join(" -> ");else if("object"==typeof i){let p=[];for(let v in i)if(i.hasOwnProperty(v)){let T=i[v];p.push(v+":"+("string"==typeof T?JSON.stringify(T):ye(T)))}c=`{${p.join(", ")}}`}return`${o}${l?"("+l+")":""}[${c}]: ${n.replace(xa,"\n  ")}`}("\n"+n.message,c,o,l),n.ngTokenPath=c,n[vr]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{ft(p),yl(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,c)=>i.push(ye(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processInjectorType(i,o,l){if(!(i=De(i)))return!1;let c=Se(i);const p=null==c&&i.ngModule||void 0,v=void 0===p?i:p,T=-1!==l.indexOf(v);if(void 0!==p&&(c=Se(p)),null==c)return!1;if(null!=c.imports&&!T){let ie;l.push(v);try{Xr(c.imports,Le=>{this.processInjectorType(Le,o,l)&&(void 0===ie&&(ie=[]),ie.push(Le))})}finally{}if(void 0!==ie)for(let Le=0;Le<ie.length;Le++){const{ngModule:ut,providers:Mt}=ie[Le];Xr(Mt,qt=>this.processProvider(qt,ut,Mt||on))}}this.injectorDefTypes.add(v);const O=ar(v)||(()=>new v);this.records.set(v,nc(O,Td));const K=c.providers;if(null!=K&&!T){const ie=i;Xr(K,Le=>this.processProvider(Le,ie,K))}return void 0!==p&&void 0!==i.providers}processProvider(i,o,l){let c=ic(i=De(i))?i:De(i&&i.provide);const p=function em(n,i,o){return tm(n)?nc(void 0,n.useValue):nc(g_(n),Td)}(i);if(ic(i)||!0!==i.multi)this.records.get(c);else{let v=this.records.get(c);v||(v=nc(void 0,Td,!0),v.factory=()=>Ct(v.multi),this.records.set(c,v)),c=i,v.multi.push(i)}this.records.set(c,p)}hydrate(i,o){return o.value===Td&&(o.value=Ov,o.value=o.factory()),"object"==typeof o.value&&o.value&&function rm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=De(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Sd(n){const i=pt(n),o=null!==i?i.factory:ar(n);if(null!==o)return o;if(n instanceof Tr)throw new je(204,!1);if(n instanceof Function)return function kv(n){const i=n.length;if(i>0)throw Aa(i,"?"),new je(204,!1);const o=function Me(n){const i=n&&(n[Et]||n[cn]);if(i){const o=function vt(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new je(204,!1)}function g_(n,i,o){let l;if(ic(n)){const c=De(n);return ar(c)||Sd(c)}if(tm(n))l=()=>De(n.useValue);else if(function im(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...Ct(n.deps||[]));else if(function nm(n){return!(!n||!n.useExisting)}(n))l=()=>B(De(n.useExisting));else{const c=De(n&&(n.useClass||n.provide));if(!function rc(n){return!!n.deps}(n))return ar(c)||Sd(c);l=()=>new c(...Ct(n.deps))}return l}function nc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function tm(n){return null!==n&&"object"==typeof n&&Hl in n}function ic(n){return"function"==typeof n}let Eo=(()=>{class n{static create(o,l){var c;if(Array.isArray(o))return m_({name:""},l,o,"");{const p=null!==(c=o.name)&&void 0!==c?c:"";return m_({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=ms,n.NULL=new $c,n.\u0275prov=Ce({token:n,providedIn:"any",factory:()=>B(af)}),n.__NG_ELEMENT_ID__=-1,n})();function cm(n,i){qr(Mc(n)[1],nr())}function _f(n){let i=function gf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const l=[n];for(;i;){let c;if(Ir(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new je(903,"");c=i.\u0275dir}if(c){if(o){l.push(c);const v=n;v.inputs=yf(n.inputs),v.declaredInputs=yf(n.declaredInputs),v.outputs=yf(n.outputs);const T=c.hostBindings;T&&Bv(n,T);const O=c.viewQuery,K=c.contentQueries;if(O&&Lv(n,O),K&&dm(n,K),ke(n.inputs,c.inputs),ke(n.declaredInputs,c.declaredInputs),ke(n.outputs,c.outputs),Ir(c)&&c.data.animation){const ie=n.data;ie.animation=(ie.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let v=0;v<p.length;v++){const T=p[v];T&&T.ngInherit&&T(n),T===_f&&(o=!1)}}i=Object.getPrototypeOf(i)}!function um(n){let i=0,o=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=i+=c.hostVars,c.hostAttrs=Vs(c.hostAttrs,o=Vs(o,c.hostAttrs))}}(l)}function yf(n){return n===ni?{}:n===on?[]:n}function Lv(n,i){const o=n.viewQuery;n.viewQuery=o?(l,c)=>{i(l,c),o(l,c)}:i}function dm(n,i){const o=n.contentQueries;n.contentQueries=o?(l,c,p)=>{i(l,c,p),o(l,c,p)}:i}function Bv(n,i){const o=n.hostBindings;n.hostBindings=o?(l,c)=>{i(l,c),o(l,c)}:i}let vf=null;function sc(){if(!vf){const n=ln.Symbol;if(n&&n.iterator)vf=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(vf=l)}}}return vf}function Wc(n){return!!Md(n)&&(Array.isArray(n)||!(n instanceof Map)&&sc()in n)}function Md(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function $r(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function mm(n,i,o,l){const c=nn();return $r(c,J(),i)&&(yi(),sl(Vi(),c,n,i,o,l)),mm}function oc(n,i,o,l){return $r(n,J(),o)?i+Ue(o)+l:di}function _m(n,i,o,l,c,p,v,T){const O=nn(),K=yi(),ie=n+20,Le=K.firstCreatePass?function Uv(n,i,o,l,c,p,v,T,O){const K=i.consts,ie=Ml(i,n,4,v||null,Wi(K,T));Ed(i,o,ie,Wi(K,O)),qr(i,ie);const Le=ie.tViews=bd(2,ie,l,c,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,K);return null!==i.queries&&(i.queries.template(i,ie),Le.queries=i.queries.embeddedTView(ie)),ie}(ie,K,O,i,o,l,c,p,v):K.data[ie];Is(Le,!1);const ut=O[11].createComment("");Rh(K,O,ut,Le),ii(ut,O),ef(O,O[ie]=Iu(ut,O,ut,Le)),or(Le)&&vd(K,O,Le),null!=v&&Zh(O,Le,T)}function O_(n){return mi(function sa(){return M.lFrame.contextLView}(),20+n)}function _r(n,i=un.Default){const o=nn();return null===o?B(n,i):Tt(nr(),o,De(n),i)}function ho(){throw new Error("invalid")}function Ea(n,i,o){const l=nn();return $r(l,J(),i)&&Uo(yi(),Vi(),l,n,i,l[11],o,!1),Ea}function Of(n,i,o,l,c){const v=c?"class":"style";f_(n,o,i.inputs[v],v,l)}function Yc(n,i,o,l){const c=nn(),p=yi(),v=20+n,T=c[11],O=c[v]=ka(T,i,function Bs(){return M.lFrame.currentNamespace}()),K=p.firstCreatePass?function qv(n,i,o,l,c,p,v){const T=i.consts,K=Ml(i,n,2,c,Wi(T,p));return Ed(i,o,K,Wi(T,v)),null!==K.attrs&&rf(K,K.attrs,!1),null!==K.mergedAttrs&&rf(K,K.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,K),K}(v,p,c,0,i,o,l):p.data[v];Is(K,!0);const ie=K.mergedAttrs;null!==ie&&Ki(T,O,ie);const Le=K.classes;null!==Le&&nl(T,O,Le);const ut=K.styles;return null!==ut&&Nh(T,O,ut),64!=(64&K.flags)&&Rh(p,c,O,K),0===function Lt(){return M.lFrame.elementDepthCount}()&&ii(O,c),function Cn(){M.lFrame.elementDepthCount++}(),or(K)&&(vd(p,c,K),Kh(p,K,c)),null!==l&&Zh(c,K),Yc}function kd(){let n=nr();To()?Da():(n=n.parent,Is(n,!1));const i=n;!function vi(){M.lFrame.elementDepthCount--}();const o=yi();return o.firstCreatePass&&(qr(o,n),vs(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Zo(n){return 0!=(16&n.flags)}(i)&&Of(o,i,nn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function fs(n){return 0!=(32&n.flags)}(i)&&Of(o,i,nn(),i.stylesWithoutHost,!1),kd}function Rf(n,i,o,l){return Yc(n,i,o,l),kd(),Rf}function kf(n,i,o){const l=nn(),c=yi(),p=n+20,v=c.firstCreatePass?function Im(n,i,o,l,c){const p=i.consts,v=Wi(p,l),T=Ml(i,n,8,"ng-container",v);return null!==v&&rf(T,v,!0),Ed(i,o,T,Wi(p,c)),null!==i.queries&&i.queries.elementStart(i,T),T}(p,c,l,i,o):c.data[p];Is(v,!0);const T=l[p]=l[11].createComment("");return Rh(c,l,T,v),ii(T,l),or(v)&&(vd(c,l,v),Kh(c,v,l)),null!=o&&Zh(l,v),kf}function Pf(){let n=nr();const i=yi();return To()?Da():(n=n.parent,Is(n,!1)),i.firstCreatePass&&(qr(i,n),vs(n)&&i.queries.elementEnd(n)),Pf}function Mr(n,i,o){return kf(n,i,o),Pf(),Mr}function Qv(){return nn()}function z_(n){return!!n&&"function"==typeof n.then}function gs(n){return!!n&&"function"==typeof n.subscribe}const Tm=gs;function Sm(n,i,o,l){const c=nn(),p=yi(),v=nr();return K_(p,c,c[11],v,n,i,!!o,l),Sm}function Mm(n,i){const o=nr(),l=nn(),c=yi();return K_(c,l,h_(tt(c.data),o,l),o,n,i,!1),Mm}function K_(n,i,o,l,c,p,v,T){const O=or(l),ie=n.firstCreatePass&&Qp(n),Le=i[8],ut=Al(i);let Mt=!0;if(3&l.type||T){const In=$t(l,i),Un=T?T(In):In,an=ut.length,si=T?Yi=>T(F(Yi[l.index])):l.index;if(_i(o)){let Yi=null;if(!T&&O&&(Yi=function W_(n,i,o,l){const c=n.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const v=c[p];if(v===o&&c[p+1]===l){const T=i[7],O=c[p+2];return T.length>O?T[O]:null}"string"==typeof v&&(p+=2)}return null}(n,i,c,l.index)),null!==Yi)(Yi.__ngLastListenerFn__||Yi).__ngNextListenerFn__=p,Yi.__ngLastListenerFn__=p,Mt=!1;else{p=Am(l,i,Le,p,!1);const br=o.listen(Un,c,p);ut.push(p,br),ie&&ie.push(c,si,an,an+1)}}else p=Am(l,i,Le,p,!0),Un.addEventListener(c,p,v),ut.push(p),ie&&ie.push(c,si,an,v)}else p=Am(l,i,Le,p,!1);const qt=l.outputs;let gn;if(Mt&&null!==qt&&(gn=qt[c])){const In=gn.length;if(In)for(let Un=0;Un<In;Un+=2){const ja=i[gn[Un]][gn[Un+1]].subscribe(p),sh=ut.length;ut.push(p,ja),ie&&ie.push(c,l.index,sh,-(sh+1))}}}function Z_(n,i,o,l){try{return!1!==o(l)}catch(c){return nf(n,c),!1}}function Am(n,i,o,l,c){return function p(v){if(v===Function)return l;const T=2&n.flags?li(n.index,i):i;0==(32&i[2])&&Gc(T);let O=Z_(i,0,l,v),K=p.__ngNextListenerFn__;for(;K;)O=Z_(i,0,K,v)&&O,K=K.__ngNextListenerFn__;return c&&!1===O&&(v.preventDefault(),v.returnValue=!1),O}}function Y_(n=1){return function ir(n){return(M.lFrame.contextLView=function Ur(n,i){for(;n>0;)i=i[15],n--;return i}(n,M.lFrame.contextLView))[8]}(n)}function J0(n,i){let o=null;const l=function Ap(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let c=0;c<i.length;c++){const p=i[c];if("*"!==p){if(null===l?Lh(n,p,!0):gv(l,p))return c}else o=c}return o}function q_(n){const i=nn()[16][6];if(!i.projection){const l=i.projection=Aa(n?n.length:1,null),c=l.slice();let p=i.child;for(;null!==p;){const v=n?J0(p,n):0;null!==v&&(c[v]?c[v].projectionNext=p:l[v]=p,c[v]=p),p=p.next}}}function Q_(n,i=0,o){const l=nn(),c=yi(),p=Ml(c,20+n,16,null,o||null);null===p.projection&&(p.projection=i),Da(),64!=(64&p.flags)&&function Dp(n,i,o){Hs(i[11],0,i,o,Mg(n,o,i),Rg(o.parent||i[6],o,i))}(c,l,p)}function Nd(n,i,o,l,c){const p=n[o+1],v=null===i;let T=l?Na(p):il(p),O=!1;for(;0!==T&&(!1===O||v);){const ie=n[T+1];Fd(n[T],i)&&(O=!0,n[T+1]=l?fd(ie):Dl(ie)),T=l?Na(ie):il(ie)}O&&(n[o+1]=l?Dl(p):fd(p))}function Fd(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&ca(n,i)>=0}const Rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Nf(n){return n.substring(Rs.key,Rs.keyEnd)}function ey(n,i){const o=Rs.textEnd;return o===i?-1:(i=Rs.keyEnd=function ty(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Rs.key=i,o),Ca(n,i,o))}function Ca(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Pu(n,i,o){return Gs(n,i,o,!1),Pu}function Bf(n,i){return Gs(n,i,null,!0),Bf}function Co(n,i){for(let o=function tb(n){return function Nm(n){Rs.key=0,Rs.keyEnd=0,Rs.value=0,Rs.valueEnd=0,Rs.textEnd=n.length}(n),ey(n,Ca(n,0,Rs.textEnd))}(i);o>=0;o=ey(i,o))Ms(n,Nf(i),!0)}function Gs(n,i,o,l){const c=nn(),p=yi(),v=y(2);p.firstUpdatePass&&ry(p,n,v,l),i!==di&&$r(c,v,i)&&cy(p,p.data[Di()],c,c[11],n,c[v+1]=function rb(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ye(qs(n)))),n}(i,o),l,v)}function Ol(n,i){return i>=n.expandoStartIndex}function ry(n,i,o,l){const c=n.data;if(null===c[o+1]){const p=c[Di()],v=Ol(n,o);dy(p,l)&&null===i&&!v&&(i=!1),i=function sy(n,i,o,l){const c=tt(n);let p=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(o=Bd(o=Bm(null,n,i,o,l),i.attrs,l),p=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==c)if(o=Bm(c,n,i,o,l),null===p){let O=function oy(n,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==il(l))return n[Na(l)]}(n,i,l);void 0!==O&&Array.isArray(O)&&(O=Bm(null,n,i,O[1],l),O=Bd(O,i.attrs,l),function Ld(n,i,o,l){n[Na(o?i.classBindings:i.styleBindings)]=l}(n,i,l,O))}else p=function hc(n,i,o){let l;const c=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<c;p++)l=Bd(l,n[p].hostAttrs,o);return Bd(l,i.attrs,o)}(n,i,l)}return void 0!==p&&(l?i.residualClasses=p:i.residualStyles=p),o}(c,p,i,l),function Jv(n,i,o,l,c,p){let v=p?i.classBindings:i.styleBindings,T=Na(v),O=il(v);n[l]=o;let ie,K=!1;if(Array.isArray(o)){const Le=o;ie=Le[1],(null===ie||ca(Le,ie)>0)&&(K=!0)}else ie=o;if(c)if(0!==O){const ut=Na(n[T+1]);n[l+1]=Vh(ut,T),0!==ut&&(n[ut+1]=Rp(n[ut+1],l)),n[T+1]=function Lc(n,i){return 131071&n|i<<17}(n[T+1],l)}else n[l+1]=Vh(T,0),0!==T&&(n[T+1]=Rp(n[T+1],l)),T=l;else n[l+1]=Vh(O,0),0===T?T=l:n[O+1]=Rp(n[O+1],l),O=l;K&&(n[l+1]=Dl(n[l+1])),Nd(n,ie,l,!0),Nd(n,ie,l,!1),function qc(n,i,o,l,c){const p=c?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof i&&ca(p,i)>=0&&(o[l+1]=fd(o[l+1]))}(i,ie,n,l,p),v=Vh(T,O),p?i.classBindings=v:i.styleBindings=v}(c,p,i,o,v,l)}}function Bm(n,i,o,l,c){let p=null;const v=o.directiveEnd;let T=o.directiveStylingLast;for(-1===T?T=o.directiveStart:T++;T<v&&(p=i[T],l=Bd(l,p.hostAttrs,c),p!==n);)T++;return null!==n&&(o.directiveStylingLast=T),l}function Bd(n,i,o){const l=o?1:2;let c=-1;if(null!==i)for(let p=0;p<i.length;p++){const v=i[p];"number"==typeof v?c=v:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ms(n,v,!!o||i[++p]))}return void 0===n?null:n}function cy(n,i,o,l,c,p,v,T){if(!(3&i.type))return;const O=n.data,K=O[T+1];Vd(function Hg(n){return 1==(1&n)}(K)?uy(O,i,o,c,il(K),v):void 0)||(Vd(p)||function bu(n){return 2==(2&n)}(K)&&(p=uy(O,null,o,c,T,v)),function Tp(n,i,o,l,c){const p=_i(n);if(i)c?p?n.addClass(o,l):o.classList.add(l):p?n.removeClass(o,l):o.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:z.DashCase;if(null==c)p?n.removeStyle(o,l,v):o.style.removeProperty(l);else{const T="string"==typeof c&&c.endsWith("!important");T&&(c=c.slice(0,-10),v|=z.Important),p?n.setStyle(o,l,c,v):o.style.setProperty(l,c,T?"important":"")}}}(l,v,Nt(Di(),o),c,p))}function uy(n,i,o,l,c,p){const v=null===i;let T;for(;c>0;){const O=n[c],K=Array.isArray(O),ie=K?O[1]:O,Le=null===ie;let ut=o[c+1];ut===di&&(ut=Le?on:void 0);let Mt=Le?la(ut,l):ie===l?ut:void 0;if(K&&!Vd(Mt)&&(Mt=la(O,l)),Vd(Mt)&&(T=Mt,v))return T;const qt=n[c+1];c=v?Na(qt):il(qt)}if(null!==i){let O=p?i.residualClasses:i.residualStyles;null!=O&&(T=la(O,l))}return T}function Vd(n){return void 0!==n}function dy(n,i){return 0!=(n.flags&(i?16:32))}function Vm(n,i=""){const o=nn(),l=yi(),c=n+20,p=l.firstCreatePass?Ml(l,c,1,i,null):l.data[c],v=o[c]=function kc(n,i){return _i(n)?n.createText(i):n.createTextNode(i)}(o[11],i);Rh(l,o,v,p),Is(p,!1)}function Um(n){return Uf("",n,""),Um}function Uf(n,i,o){const l=nn(),c=oc(l,n,i,o);return c!==di&&Fa(l,Di(),c),Uf}function zm(n,i,o){!function jo(n,i,o,l){const c=yi(),p=y(2);c.firstUpdatePass&&ry(c,null,p,l);const v=nn();if(o!==di&&$r(v,p,o)){const T=c.data[Di()];if(dy(T,l)&&!Ol(c,p)){let O=l?T.classesWithoutHost:T.stylesWithoutHost;null!==O&&(o=le(O,o||"")),Of(c,T,v,o,l)}else!function ly(n,i,o,l,c,p,v,T){c===di&&(c=on);let O=0,K=0,ie=0<c.length?c[0]:null,Le=0<p.length?p[0]:null;for(;null!==ie||null!==Le;){const ut=O<c.length?c[O+1]:void 0,Mt=K<p.length?p[K+1]:void 0;let gn,qt=null;ie===Le?(O+=2,K+=2,ut!==Mt&&(qt=Le,gn=Mt)):null===Le||null!==ie&&ie<Le?(O+=2,qt=ie):(K+=2,qt=Le,gn=Mt),null!==qt&&cy(n,i,o,l,qt,gn,v,T),ie=O<c.length?c[O]:null,Le=K<p.length?p[K]:null}}(c,T,v,v[11],v[p+1],v[p+1]=function ib(n,i,o){if(null==o||""===o)return on;const l=[],c=qs(o);if(Array.isArray(c))for(let p=0;p<c.length;p++)n(l,c[p],!0);else if("object"==typeof c)for(const p in c)c.hasOwnProperty(p)&&n(l,p,c[p]);else"string"==typeof c&&i(l,c);return l}(n,i,o),l,p)}}(Ms,Co,oc(nn(),n,i,o),!0)}function Zm(n,i,o){const l=nn();return $r(l,J(),i)&&Uo(yi(),Vi(),l,n,i,l[11],o,!0),Zm}function Ym(n,i,o){const l=nn();if($r(l,J(),i)){const p=yi(),v=Vi();Uo(p,v,l,n,i,h_(tt(p.data),v,l),o,!0)}return Ym}const Rl=void 0;var Dy=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wy(n){const o=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let al={};function qm(n){const i=function Ty(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=jd(i);if(o)return o;const l=i.split("-")[0];if(o=jd(l),o)return o;if("en"===l)return Dy;throw new Error(`Missing locale data for the locale "${n}".`)}function Qm(n){return qm(n)[ri.PluralCase]}function jd(n){return n in al||(al[n]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[n]),al[n]}var ri=(()=>((ri=ri||{})[ri.LocaleId=0]="LocaleId",ri[ri.DayPeriodsFormat=1]="DayPeriodsFormat",ri[ri.DayPeriodsStandalone=2]="DayPeriodsStandalone",ri[ri.DaysFormat=3]="DaysFormat",ri[ri.DaysStandalone=4]="DaysStandalone",ri[ri.MonthsFormat=5]="MonthsFormat",ri[ri.MonthsStandalone=6]="MonthsStandalone",ri[ri.Eras=7]="Eras",ri[ri.FirstDayOfWeek=8]="FirstDayOfWeek",ri[ri.WeekendRange=9]="WeekendRange",ri[ri.DateFormat=10]="DateFormat",ri[ri.TimeFormat=11]="TimeFormat",ri[ri.DateTimeFormat=12]="DateTimeFormat",ri[ri.NumberSymbols=13]="NumberSymbols",ri[ri.NumberFormats=14]="NumberFormats",ri[ri.CurrencyCode=15]="CurrencyCode",ri[ri.CurrencySymbol=16]="CurrencySymbol",ri[ri.CurrencyName=17]="CurrencyName",ri[ri.Currencies=18]="Currencies",ri[ri.Directionality=19]="Directionality",ri[ri.PluralCase=20]="PluralCase",ri[ri.ExtraData=21]="ExtraData",ri))();const Xs="en-US";let My=Xs;function ag(n,i,o,l,c){if(n=De(n),Array.isArray(n))for(let p=0;p<n.length;p++)ag(n[p],i,o,l,c);else{const p=yi(),v=nn();let T=ic(n)?n:De(n.provide),O=g_(n);const K=nr(),ie=1048575&K.providerIndexes,Le=K.directiveStart,ut=K.providerIndexes>>20;if(ic(n)||!n.multi){const Mt=new Ui(O,c,_r),qt=Jf(T,i,c?ie:ie+ut,Le);-1===qt?(Ht(Y(K,v),p,T),Kd(p,n,i.length),i.push(T),K.directiveStart++,K.directiveEnd++,c&&(K.providerIndexes+=1048576),o.push(Mt),v.push(Mt)):(o[qt]=Mt,v[qt]=Mt)}else{const Mt=Jf(T,i,ie+ut,Le),qt=Jf(T,i,ie,ie+ut),gn=Mt>=0&&o[Mt],In=qt>=0&&o[qt];if(c&&!In||!c&&!gn){Ht(Y(K,v),p,T);const Un=function Hb(n,i,o,l,c){const p=new Ui(n,o,_r);return p.multi=[],p.index=i,p.componentProviders=0,lg(p,c,l&&!o),p}(c?jb:cg,o.length,c,l,O);!c&&In&&(o[qt].providerFactory=Un),Kd(p,n,i.length,0),i.push(T),K.directiveStart++,K.directiveEnd++,c&&(K.providerIndexes+=1048576),o.push(Un),v.push(Un)}else Kd(p,n,Mt>-1?Mt:qt,lg(o[c?qt:Mt],O,!c&&l));!c&&l&&In&&o[qt].componentProviders++}}}function Kd(n,i,o,l){const c=ic(i),p=function Tu(n){return!!n.useClass}(i);if(c||p){const O=(p?De(i.useClass):i).prototype.ngOnDestroy;if(O){const K=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const ie=K.indexOf(o);-1===ie?K.push(o,[l,O]):K[ie+1].push(l,O)}else K.push(o,O)}}}function lg(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Jf(n,i,o,l){for(let c=o;c<l;c++)if(i[c]===n)return c;return-1}function cg(n,i,o,l){return ug(this.multi,[])}function jb(n,i,o,l){const c=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=xo(o,o[1],this.providerFactory.index,l);p=T.slice(0,v),ug(c,p);for(let O=v;O<T.length;O++)p.push(T[O])}else p=[],ug(c,p);return p}function ug(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Zd(n,i=[]){return o=>{o.providersResolver=(l,c)=>function Gy(n,i,o){const l=yi();if(l.firstCreatePass){const c=Ir(n);ag(o,l.data,l.blueprint,c,!0),ag(i,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,i)}}class ep{}class $y{resolveComponentFactory(i){throw function hg(n){const i=Error(`No component factory found for ${ye(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let tu=(()=>{class n{}return n.NULL=new $y,n})();function Gb(){return Uu(nr(),nn())}function Uu(n,i){return new Yd($t(n,i))}let Yd=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Gb,n})();function $b(n){return n instanceof Yd?n.nativeElement:n}class zy{}let zb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Kb(){const n=nn(),o=li(nr().index,n);return function Wb(n){return n[11]}(Bi(o)?o:n)}(),n})(),Zb=(()=>{class n{}return n.\u0275prov=Ce({token:n,providedIn:"root",factory:()=>null}),n})();class qd{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const pg=new qd("13.2.7"),tp={};function ju(n,i,o,l,c=!1){for(;null!==o;){const p=i[o.index];if(null!==p&&l.push(F(p)),yr(p))for(let T=10;T<p.length;T++){const O=p[T],K=O[1].firstChild;null!==K&&ju(O[1],O,K,l)}const v=o.type;if(8&v)ju(n,i,o.child,l);else if(32&v){const T=mt(o,i);let O;for(;O=T();)l.push(O)}else if(16&v){const T=Ep(i,o);if(Array.isArray(T))l.push(...T);else{const O=An(i[16]);ju(O[1],O,T,l,!0)}}o=c?o.projectionNext:o.next}return l}class Qd{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return ju(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(yr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Mh(i,l),Ot(o,l))}this._attachedToViewContainer=!1}Pa(this._lView[1],this._lView)}onDestroy(i){e_(this._lView[1],this._lView,null,i)}markForCheck(){Gc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Dd(n,i,o){no(!0);try{Cd(n,i,o)}finally{no(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new je(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sh(n,i){dd(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new je(902,"");this._appRef=i}}class Yb extends Qd{constructor(i){super(i),this._view=i}detectChanges(){wd(this._view)}checkNoChanges(){!function Yp(n){no(!0);try{wd(n)}finally{no(!1)}}(this._view)}get context(){return null}}class Wy extends tu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=_t(i);return new np(o,this.ngModule)}}function mg(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class np extends ep{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Bh(n){return n.map(Vg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return mg(this.componentDef.inputs)}get outputs(){return mg(this.componentDef.outputs)}create(i,o,l,c){const p=(c=c||this.ngModule)?function Zy(n,i){return{get:(o,l,c)=>{const p=n.get(o,tp,c);return p!==tp||l===tp?p:i.get(o,l,c)}}}(i,c.injector):i,v=p.get(zy,U),T=p.get(Zb,null),O=v.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",ie=l?function Bp(n,i,o){if(_i(n))return n.selectRootElement(i,o===Be.ShadowDom);let l="string"==typeof i?n.querySelector(i):i;return l.textContent="",l}(O,l,this.componentDef.encapsulation):ka(v.createRenderer(null,this.componentDef),K,function Ky(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(K)),Le=this.componentDef.onPush?576:528,ut=function I_(n,i){return{components:[],scheduler:n||Rc,clean:qp,playerHandler:i||null,flags:0}}(),Mt=bd(0,null,null,1,0,null,null,null,null,null),qt=gd(null,Mt,ut,Le,null,null,v,O,T,p);let gn,In;zn(qt);try{const Un=function pf(n,i,o,l,c,p){const v=o[1];o[20]=n;const O=Ml(v,20,2,"#host",null),K=O.mergedAttrs=i.hostAttrs;null!==K&&(rf(O,K,!0),null!==n&&(Ki(c,n,K),null!==O.classes&&nl(c,n,O.classes),null!==O.styles&&Nh(c,n,O.styles)));const ie=l.createRenderer(n,i),Le=gd(o,Xg(i),null,i.onPush?64:16,o[20],O,l,ie,p||null,null);return v.firstCreatePass&&(Ht(Y(O,o),v,i.type),Jh(v,O),Gp(O,o.length,1)),ef(o,Le),o[20]=Le}(ie,this.componentDef,qt,v,O);if(ie)if(l)Ki(O,ie,["ng-version",pg.full]);else{const{attrs:an,classes:si}=function hd(n){const i=[],o=[];let l=1,c=2;for(;l<n.length;){let p=n[l];if("string"==typeof p)2===c?""!==p&&i.push(p,n[++l]):8===c&&o.push(p);else{if(!Vo(c))break;c=p}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);an&&Ki(O,ie,an),si&&si.length>0&&nl(O,ie,si.join(" "))}if(In=$n(Mt,20),void 0!==o){const an=In.projection=[];for(let si=0;si<this.ngContentSelectors.length;si++){const Yi=o[si];an.push(null!=Yi?Array.from(Yi):null)}}gn=function mf(n,i,o,l,c){const p=o[1],v=function Tv(n,i,o){const l=nr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),a_(n,l,i,jc(n,i,1,null),o));const c=xo(i,n,l.directiveStart,l);ii(c,i);const p=$t(l,i);return p&&ii(p,i),c}(p,o,i);if(l.components.push(v),n[8]=v,c&&c.forEach(O=>O(v,i)),i.contentQueries){const O=nr();i.contentQueries(1,v,O.directiveStart)}const T=nr();return!p.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Or(T.index),Vp(o[1],T,0,T.directiveStart,T.directiveEnd,i),Du(i,v)),v}(Un,this.componentDef,qt,ut,[cm]),Hc(Mt,qt,null)}finally{tr()}return new qb(this.componentType,gn,Uu(In,qt),qt,In)}}class qb extends class dg{}{constructor(i,o,l,c,p){super(),this.location=l,this._rootLView=c,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Yb(c),this.componentType=i}get injector(){return new Sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Xd{}class ip{}const Jd=new Map;class Jb extends Xd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Wy(this);const l=Ne(i);this._bootstrapComponents=ha(l.bootstrap),this._r3Injector=cf(i,o,[{provide:Xd,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],ye(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Eo.THROW_IF_NOT_FOUND,l=un.Default){return i===Eo||i===Xd||i===af?this:this._r3Injector.get(i,o,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class eh extends ip{constructor(i){super(),this.moduleType=i,null!==Ne(i)&&function Qb(n){const i=new Set;!function o(l){const c=Ne(l,!0),p=c.id;null!==p&&(function gg(n,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${n} - ${ye(i)} vs ${ye(i.name)}`)}(p,Jd.get(p),l),Jd.set(p,l));const v=ha(c.imports);for(const T of v)i.has(T)||(i.add(T),o(T))}(n)}(i)}create(i){return new Jb(this.moduleType,i)}}function Qy(n,i,o,l){return r0(nn(),pr(),n,i,o,l)}function r0(n,i,o,l,c,p){const v=i+o;return $r(n,v,c)?function ol(n,i,o){return n[i]=o}(n,v+1,p?l.call(p,c):l(c)):function sp(n,i){const o=n[i];return o===di?void 0:o}(n,v+1)}function yg(n,i){const o=yi();let l;const c=n+20;o.firstCreatePass?(l=function ev(n,i){if(i)for(let o=i.length-1;o>=0;o--){const l=i[o];if(n===l.name)return l}}(i,o.pipeRegistry),o.data[c]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,l.onDestroy)):l=o.data[c];const p=l.factory||(l.factory=ar(l.type)),v=ft(_r);try{const T=oa(!1),O=p();return oa(T),function x_(n,i,o,l){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=l}(o,nn(),c,O),O}finally{ft(v)}}function vg(n,i,o){const l=n+20,c=nn(),p=mi(c,l);return function op(n,i){return n[1].data[i].pure}(c,l)?r0(c,pr(),i,p.transform,o,p):p.transform(o)}function ap(n){return i=>{setTimeout(n,void 0,i)}}const ll=class o0 extends h.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){var c,p,v;let T=i,O=o||(()=>null),K=l;if(i&&"object"==typeof i){const Le=i;T=null===(c=Le.next)||void 0===c?void 0:c.bind(Le),O=null===(p=Le.error)||void 0===p?void 0:p.bind(Le),K=null===(v=Le.complete)||void 0===v?void 0:v.bind(Le)}this.__isAsync&&(O=ap(O),T&&(T=ap(T)),K&&(K=ap(K)));const ie=super.subscribe({next:T,error:O,complete:K});return i instanceof g.w0&&i.add(ie),ie}};function bg(){return this._results[sc()]()}class nu{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=sc(),l=nu.prototype;l[o]||(l[o]=bg)}get changes(){return this._changes||(this._changes=new ll)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const c=oo(i);(this._changesDetected=!function jl(n,i,o){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],p=i[l];if(o&&(c=o(c),p=o(p)),p!==c)return!1}return!0}(l._results,c,o))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hu=(()=>{class n{}return n.__NG_ELEMENT_ID__=l0,n})();const a0=Hu,Eg=class extends a0{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i){const o=this._declarationTContainer.tViews,l=gd(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(o)),Hc(o,l,i),new Qd(l)}};function l0(){return th(nr(),nn())}function th(n,i){return 4&n.type?new Eg(i,n,Uu(n,i)):null}let nh=(()=>{class n{}return n.__NG_ELEMENT_ID__=sv,n})();function sv(){return ov(nr(),nn())}const c0=nh,Cg=class extends c0{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return Uu(this._hostTNode,this._hostLView)}get injector(){return new Sa(this._hostTNode,this._hostLView)}get parentInjector(){const i=jt(this._hostTNode,this._hostLView);if(Ha(i)){const o=Xi(i,this._hostLView),l=so(i);return new Sa(o[1].data[l+8],o)}return new Sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=wg(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){const c=i.createEmbeddedView(o||{});return this.insert(c,l),c}createComponent(i,o,l,c,p){const v=i&&!function jr(n){return"function"==typeof n}(i);let T;if(v)T=o;else{const Le=o||{};T=Le.index,l=Le.injector,c=Le.projectableNodes,p=Le.ngModuleRef}const O=v?i:new np(_t(i)),K=l||this.parentInjector;if(!p&&null==O.ngModule){const ut=(v?K:this.parentInjector).get(Xd,null);ut&&(p=ut)}const ie=O.create(K,c,void 0,p);return this.insert(ie.hostView,T),ie}insert(i,o){const l=i._lView,c=l[1];if(function wi(n){return yr(n[3])}(l)){const ie=this.indexOf(i);if(-1!==ie)this.detach(ie);else{const Le=l[3],ut=new Cg(Le,Le[6],Le[3]);ut.detach(ut.indexOf(i))}}const p=this._adjustIndex(o),v=this._lContainer;!function vu(n,i,o,l){const c=10+l,p=o.length;l>0&&(o[c-1][4]=i),l<p-10?(i[4]=o[c],Ma(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const v=i[17];null!==v&&o!==v&&function uo(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(v,i);const T=i[19];null!==T&&T.insertView(n),i[2]|=128}(c,l,v,p);const T=Cp(p,v),O=l[11],K=Oh(O,v[7]);return null!==K&&function ud(n,i,o,l,c,p){l[0]=c,l[6]=i,dd(n,l,o,1,c,p)}(c,v[6],O,l,K,T),i.attachToViewContainerRef(),Ma(Dg(v),p,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=wg(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Mh(this._lContainer,o);l&&(Ot(Dg(this._lContainer),o),Pa(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Mh(this._lContainer,o);return l&&null!=Ot(Dg(this._lContainer),o)?new Qd(l):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function wg(n){return n[8]}function Dg(n){return n[8]||(n[8]=[])}function ov(n,i){let o;const l=i[n.index];if(yr(l))o=l;else{let c;if(8&n.type)c=F(l);else{const p=i[11];c=p.createComment("");const v=$t(n,i);Pc(p,Oh(p,v),c,function mv(n,i){return _i(n)?n.nextSibling(i):i.nextSibling}(p,v),!1)}i[n.index]=o=Iu(l,i,c,n),ef(i,o)}return new Cg(o,n,i)}class r{constructor(i){this.queryList=i,this.matches=null}clone(){return new r(this.queryList)}setDirty(){this.queryList.setDirty()}}class e{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let p=0;p<l;p++){const v=o.getByIndex(p);c.push(this.queries[v.indexInDeclarationView].clone())}return new e(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==zi(i,o).matches&&this.queries[o].setDirty()}}class t{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class s{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const c=null!==o?o.length:0,p=this.getByIndex(l).embeddedTView(i,c);p&&(p.indexInDeclarationView=l,null!==o?o.push(p):o=[p])}return null!==o?new s(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class a{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new a(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const p=l[c];this.matchTNodeWithReadOption(i,o,u(o,p)),this.matchTNodeWithReadOption(i,o,ga(o,i,p,!1,!1))}else l===Hu?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ga(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Yd||c===nh||c===Hu&&4&o.type)this.addMatch(o.index,-2);else{const p=ga(o,i,c,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function u(n,i){const o=n.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function S(n,i,o,l){return-1===o?function m(n,i){return 11&n.type?Uu(n,i):4&n.type?th(n,i):null}(i,n):-2===o?function L(n,i,o){return o===Yd?Uu(i,n):o===Hu?th(i,n):o===nh?ov(i,n):void 0}(n,i,l):xo(n,n[1],o,i)}function Z(n,i,o,l){const c=i[19].queries[l];if(null===c.matches){const p=n.data,v=o.matches,T=[];for(let O=0;O<v.length;O+=2){const K=v[O];T.push(K<0?null:S(i,p[K],v[O+1],o.metadata.read))}c.matches=T}return c.matches}function me(n,i,o,l){const c=n.queries.getByIndex(o),p=c.matches;if(null!==p){const v=Z(n,i,c,o);for(let T=0;T<p.length;T+=2){const O=p[T];if(O>0)l.push(v[T/2]);else{const K=p[T+1],ie=i[-O];for(let Le=10;Le<ie.length;Le++){const ut=ie[Le];ut[17]===ut[3]&&me(ut[1],ut,K,l)}if(null!==ie[9]){const Le=ie[9];for(let ut=0;ut<Le.length;ut++){const Mt=Le[ut];me(Mt[1],Mt,K,l)}}}}}return l}function qe(n){const i=nn(),o=yi(),l=St();zt(l+1);const c=zi(o,l);if(n.dirty&&fi(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const p=c.crossesNgTemplate?me(o,i,l,[]):Z(o,i,c,l);n.reset(p,$b),n.notifyOnChanges()}return!0}return!1}function xt(n,i,o){const l=yi();l.firstCreatePass&&(Ai(l,new t(n,i,o),-1),2==(2&i)&&(l.staticViewQueries=!0)),Rn(l,nn(),i)}function Zt(n,i,o,l){const c=yi();if(c.firstCreatePass){const p=nr();Ai(c,new t(i,o,l),p.index),function sr(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}Rn(c,nn(),o)}function Qt(){return function yn(n,i){return n[19].queries[i].queryList}(nn(),St())}function Rn(n,i,o){const l=new nu(4==(4&o));e_(n,i,l,l.destroy),null===i[19]&&(i[19]=new e),i[19].queries.push(new r(l))}function Ai(n,i,o){null===n.queries&&(n.queries=new s),n.queries.track(new a(i,o))}function zi(n,i){return n.queries.getByIndex(i)}function Ii(n,i){return th(n,i)}function dv(...n){}const RE=new Tr("Application Initializer");let m0=(()=>{class n{constructor(o){this.appInits=o,this.resolve=dv,this.reject=dv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(z_(p))o.push(p);else if(Tm(p)){const v=new Promise((T,O)=>{p.subscribe({complete:T,error:O})});o.push(v)}}Promise.all(o).then(()=>{l()}).catch(c=>{this.reject(c)}),0===o.length&&l(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(B(RE,8))},n.\u0275prov=Ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kE=new Tr("AppId",{providedIn:"root",factory:function PE(){return`${g0()}${g0()}${g0()}`}});function g0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NE=new Tr("Platform Initializer"),FE=new Tr("Platform ID"),LE=new Tr("appBootstrapListener");let BE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ce({token:n,factory:n.\u0275fac}),n})();const _0=new Tr("LocaleId",{providedIn:"root",factory:()=>He(_0,un.Optional|un.SkipSelf)||function AC(){return"undefined"!=typeof $localize&&$localize.locale||Xs}()}),xC=new Tr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class OC{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let RC=(()=>{class n{compileModuleSync(o){return new eh(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),p=ha(Ne(o).declarations).reduce((v,T)=>{const O=_t(T);return O&&v.push(new np(O)),v},[]);return new OC(l,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PC=(()=>Promise.resolve(0))();function y0(n){"undefined"==typeof Zone?PC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class kl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ll(!1),this.onMicrotaskEmpty=new ll(!1),this.onStable=new ll(!1),this.onError=new ll(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&o,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function NC(){let n=ln.requestAnimationFrame,i=ln.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function BC(n){const i=()=>{!function LC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ln,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,b0(n),n.isCheckStableRunning=!0,v0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),b0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,c,p,v,T)=>{try{return VE(n),o.invokeTask(c,p,v,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&i(),UE(n)}},onInvoke:(o,l,c,p,v,T,O)=>{try{return VE(n),o.invoke(c,p,v,T,O)}finally{n.shouldCoalesceRunChangeDetection&&i(),UE(n)}},onHasTask:(o,l,c,p)=>{o.hasTask(c,p),l===c&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,b0(n),v0(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,l,c,p)=>(o.handleError(c,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(kl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,c){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+c,i,FC,dv,dv);try{return p.runTask(v,o,l)}finally{p.cancelTask(v)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const FC={};function v0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function b0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function VE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function UE(n){n._nesting--,v0(n)}class VC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ll,this.onMicrotaskEmpty=new ll,this.onStable=new ll,this.onError=new ll}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,c){return i.apply(o,l)}}let jE=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kl.assertNotInAngularZone(),y0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,c){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:c})}whenStable(o,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(B(kl))},n.\u0275prov=Ce({token:n,factory:n.\u0275fac}),n})(),HE=(()=>{class n{constructor(){this._applications=new Map,E0.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return E0.findTestabilityInTree(this,o,l)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ce({token:n,factory:n.\u0275fac}),n})();class UC{addToWindow(i){}findTestabilityInTree(i,o,l){return null}}function jC(n){E0=n}let Pl,E0=new UC;const GE=new Tr("AllowMultipleToken");class $C{constructor(i,o){this.name=i,this.token=o}}function $E(n,i,o=[]){const l=`Platform: ${i}`,c=new Tr(l);return(p=[])=>{let v=zE();if(!v||v.injector.get(GE,!1))if(n)n(o.concat(p).concat({provide:c,useValue:!0}));else{const T=o.concat(p).concat({provide:c,useValue:!0},{provide:Id,useValue:"platform"});!function zC(n){if(Pl&&!Pl.destroyed&&!Pl.injector.get(GE,!1))throw new je(400,"");Pl=n.get(WE);const i=n.get(NE,null);i&&i.forEach(o=>o())}(Eo.create({providers:T,name:l}))}return function WC(n){const i=zE();if(!i)throw new je(401,"");return i}()}}function zE(){return Pl&&!Pl.destroyed?Pl:null}let WE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const T=function KC(n,i){let o;return o="noop"===n?new VC:("zone.js"===n?void 0:n)||new kl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),O=[{provide:kl,useValue:T}];return T.run(()=>{const K=Eo.create({providers:O,parent:this.injector,name:o.moduleType.name}),ie=o.create(K),Le=ie.injector.get(Ja,null);if(!Le)throw new je(402,"");return T.runOutsideAngular(()=>{const ut=T.onError.subscribe({next:Mt=>{Le.handleError(Mt)}});ie.onDestroy(()=>{w0(this._modules,ie),ut.unsubscribe()})}),function ZC(n,i,o){try{const l=o();return z_(l)?l.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(Le,T,()=>{const ut=ie.injector.get(m0);return ut.runInitializers(),ut.donePromise.then(()=>(function Xm(n){Xe(n,"Expected localeId to be defined"),"string"==typeof n&&(My=n.toLowerCase().replace(/_/g,"-"))}(ie.injector.get(_0,Xs)||Xs),this._moduleDoBootstrap(ie),ie))})})}bootstrapModule(o,l=[]){const c=KE({},l);return function HC(n,i,o){const l=new eh(o);return Promise.resolve(l)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(o){const l=o.injector.get(C0);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new je(403,"");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(B(Eo))},n.\u0275prov=Ce({token:n,factory:n.\u0275fac}),n})();function KE(n,i){return Array.isArray(i)?i.reduce(KE,n):Object.assign(Object.assign({},n),i)}let C0=(()=>{class n{constructor(o,l,c,p,v){this._zone=o,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new C.y(K=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{K.next(this._stable),K.complete()})}),O=new C.y(K=>{let ie;this._zone.runOutsideAngular(()=>{ie=this._zone.onStable.subscribe(()=>{kl.assertNotInAngularZone(),y0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,K.next(!0))})})});const Le=this._zone.onUnstable.subscribe(()=>{kl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{K.next(!1)}))});return()=>{ie.unsubscribe(),Le.unsubscribe()}});this.isStable=(0,ne.T)(T,O.pipe((0,ge.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new je(405,"");let c;c=o instanceof ep?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const p=function GC(n){return n.isBoundToModule}(c)?void 0:this._injector.get(Xd),T=c.create(Eo.NULL,[],l||c.selector,p),O=T.location.nativeElement,K=T.injector.get(jE,null),ie=K&&T.injector.get(HE);return K&&ie&&ie.registerApplication(O,K),T.onDestroy(()=>{this.detachView(T.hostView),w0(this.components,T),ie&&ie.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new je(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;w0(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(LE,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(B(kl),B(Eo),B(Ja),B(tu),B(m0))},n.\u0275prov=Ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w0(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let YE=!0,qE=!1;function qC(){return qE=!0,YE}function QC(){if(qE)throw new Error("Cannot enable prod mode after platform setup.");YE=!1}let XC=(()=>{class n{}return n.__NG_ELEMENT_ID__=JC,n})();function JC(n){return function ew(n,i,o){if(zs(n)&&!o){const l=li(n.index,i);return new Qd(l,l)}return 47&n.type?new Qd(i[16],i):null}(nr(),nn(),16==(16&n))}class eC{constructor(){}supports(i){return Wc(i)}create(i){return new ow(i)}}const sw=(n,i)=>i;class ow{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||sw}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,c=0,p=null;for(;o||l;){const v=!l||o&&o.currentIndex<nC(l,c,p)?o:l,T=nC(v,c,p),O=v.currentIndex;if(v===l)c--,l=l._nextRemoved;else if(o=o._next,null==v.previousIndex)c++;else{p||(p=[]);const K=T-c,ie=O-c;if(K!=ie){for(let ut=0;ut<K;ut++){const Mt=ut<p.length?p[ut]:p[ut]=0,qt=Mt+ut;ie<=qt&&qt<K&&(p[ut]=Mt+1)}p[v.previousIndex]=ie-K}}T!==O&&i(v,T,O)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Wc(i))throw new je(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,p,v,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let T=0;T<this.length;T++)p=i[T],v=this._trackByFn(T,p),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,p,v,T)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,v,T),l=!0),o=o._next}else c=0,function T_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[sc()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,T=>{v=this._trackByFn(c,T),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,T,v,c)),Object.is(o.item,T)||this._addIdentityChange(o,T)):(o=this._mismatch(o,T,v,c),l=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,c){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,c)):i=this._addAfter(new aw(o,l),p,c),i}_verifyReinsertion(i,o,l,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?i=this._reinsertAfter(p,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,p=i._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new tC),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class aw{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class tC{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new lw,this.map.set(o,l)),l.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nC(n,i,o){const l=n.previousIndex;if(null===l)return l;let c=0;return o&&l<o.length&&(c=o[l]),l+i+c}class iC{constructor(){}supports(i){return i instanceof Map||Md(i)}create(){return new cw}}class cw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Md(i)))throw new je(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(c,l);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const p=c._prev,v=c._next;return p&&(p._next=v),v&&(v._prev=p),c._next=null,c._prev=null,c}const l=new uw(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class uw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rC(){return new M0([new eC])}let M0=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const c=l.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||rC()),deps:[[n,new lr,new ei]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(null!=l)return l;throw new je(901,"")}}return n.\u0275prov=Ce({token:n,providedIn:"root",factory:rC}),n})();function sC(){return new A0([new iC])}let A0=(()=>{class n{constructor(o){this.factories=o}static create(o,l){if(l){const c=l.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||sC()),deps:[[n,new lr,new ei]]}}find(o){const l=this.factories.find(p=>p.supports(o));if(l)return l;throw new je(901,"")}}return n.\u0275prov=Ce({token:n,providedIn:"root",factory:sC}),n})();const fw=$E(null,"core",[{provide:FE,useValue:"unknown"},{provide:WE,deps:[Eo]},{provide:HE,deps:[]},{provide:BE,deps:[]}]);let pw=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(B(C0))},n.\u0275mod=vn({type:n}),n.\u0275inj=bt({}),n})()},3075:(Yt,Ye,b)=>{b.d(Ye,{qu:()=>wi,u:()=>hr,sg:()=>Ps,u5:()=>li,JU:()=>ye,a5:()=>Se,JJ:()=>un,JL:()=>pn,F:()=>Li,UX:()=>fi,kI:()=>Ft,_Y:()=>or});var h=b(5e3),g=b(9808),C=b(8996),ne=b(4128),ge=b(4004);let ve=(()=>{class H{constructor(M,ae){this._renderer=M,this._elementRef=ae,this.onChange=Lt=>{},this.onTouched=()=>{}}setProperty(M,ae){this._renderer.setProperty(this._elementRef.nativeElement,M,ae)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return H.\u0275fac=function(M){return new(M||H)(h.Y36(h.Qsj),h.Y36(h.SBq))},H.\u0275dir=h.lG2({type:H}),H})(),ke=(()=>{class H extends ve{}return H.\u0275fac=function(){let N;return function(ae){return(N||(N=h.n5z(H)))(ae||H)}}(),H.\u0275dir=h.lG2({type:H,features:[h.qOj]}),H})();const ye=new h.OlP("NgValueAccessor"),fe={provide:ye,useExisting:(0,h.Gpc)(()=>Re),multi:!0},We=new h.OlP("CompositionEventMode");let Re=(()=>{class H extends ve{constructor(M,ae,Lt){super(M,ae),this._compositionMode=Lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const H=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return H.\u0275fac=function(M){return new(M||H)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(We,8))},H.\u0275dir=h.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,ae){1&M&&h.NdJ("input",function(Cn){return ae._handleInput(Cn.target.value)})("blur",function(){return ae.onTouched()})("compositionstart",function(){return ae._compositionStart()})("compositionend",function(Cn){return ae._compositionEnd(Cn.target.value)})},features:[h._Bn([fe]),h.qOj]}),H})();function je(H){return null==H||0===H.length}function lt(H){return null!=H&&"number"==typeof H.length}const Ue=new h.OlP("NgValidators"),rt=new h.OlP("NgAsyncValidators"),Ae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ft{static min(N){return function nt(H){return N=>{if(je(N.value)||je(H))return null;const M=parseFloat(N.value);return!isNaN(M)&&M<H?{min:{min:H,actual:N.value}}:null}}(N)}static max(N){return function pe(H){return N=>{if(je(N.value)||je(H))return null;const M=parseFloat(N.value);return!isNaN(M)&&M>H?{max:{max:H,actual:N.value}}:null}}(N)}static required(N){return function he(H){return je(H.value)?{required:!0}:null}(N)}static requiredTrue(N){return function xe(H){return!0===H.value?null:{required:!0}}(N)}static email(N){return function Ee(H){return je(H.value)||Ae.test(H.value)?null:{email:!0}}(N)}static minLength(N){return function ee(H){return N=>je(N.value)||!lt(N.value)?null:N.value.length<H?{minlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function Ge(H){return N=>lt(N.value)&&N.value.length>H?{maxlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static pattern(N){return function be(H){if(!H)return Je;let N,M;return"string"==typeof H?(M="","^"!==H.charAt(0)&&(M+="^"),M+=H,"$"!==H.charAt(H.length-1)&&(M+="$"),N=new RegExp(M)):(M=H.toString(),N=H),ae=>{if(je(ae.value))return null;const Lt=ae.value;return N.test(Lt)?null:{pattern:{requiredPattern:M,actualValue:Lt}}}}(N)}static nullValidator(N){return null}static compose(N){return Xe(N)}static composeAsync(N){return et(N)}}function Je(H){return null}function it(H){return null!=H}function wt(H){const N=(0,h.QGY)(H)?(0,C.D)(H):H;return(0,h.CqO)(N),N}function yt(H){let N={};return H.forEach(M=>{N=null!=M?Object.assign(Object.assign({},N),M):N}),0===Object.keys(N).length?null:N}function kt(H,N){return N.map(M=>M(H))}function ct(H){return H.map(N=>function At(H){return!H.validate}(N)?N:M=>N.validate(M))}function Xe(H){if(!H)return null;const N=H.filter(it);return 0==N.length?null:function(M){return yt(kt(M,N))}}function $e(H){return null!=H?Xe(ct(H)):null}function et(H){if(!H)return null;const N=H.filter(it);return 0==N.length?null:function(M){const ae=kt(M,N).map(wt);return(0,ne.D)(ae).pipe((0,ge.U)(yt))}}function gt(H){return null!=H?et(ct(H)):null}function Q(H,N){return null===H?[N]:Array.isArray(H)?[...H,N]:[H,N]}function Ce(H){return H._rawValidators}function Bt(H){return H._rawAsyncValidators}function bt(H){return H?Array.isArray(H)?H:[H]:[]}function pt(H,N){return Array.isArray(H)?H.includes(N):H===N}function ht(H,N){const M=bt(N);return bt(H).forEach(Lt=>{pt(M,Lt)||M.push(Lt)}),M}function Me(H,N){return bt(N).filter(M=>!pt(H,M))}class vt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=$e(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,M){return!!this.control&&this.control.hasError(N,M)}getError(N,M){return this.control?this.control.getError(N,M):null}}class Se extends vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Et extends vt{get formDirective(){return null}get path(){return null}}class Jt{constructor(N){this._cd=N}is(N){var M,ae,Lt;return"submitted"===N?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(Lt=null===(ae=this._cd)||void 0===ae?void 0:ae.control)||void 0===Lt?void 0:Lt[N])}}let un=(()=>{class H extends Jt{constructor(M){super(M)}}return H.\u0275fac=function(M){return new(M||H)(h.Y36(Se,2))},H.\u0275dir=h.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,ae){2&M&&h.ekj("ng-untouched",ae.is("untouched"))("ng-touched",ae.is("touched"))("ng-pristine",ae.is("pristine"))("ng-dirty",ae.is("dirty"))("ng-valid",ae.is("valid"))("ng-invalid",ae.is("invalid"))("ng-pending",ae.is("pending"))},features:[h.qOj]}),H})(),pn=(()=>{class H extends Jt{constructor(M){super(M)}}return H.\u0275fac=function(M){return new(M||H)(h.Y36(Et,10))},H.\u0275dir=h.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,ae){2&M&&h.ekj("ng-untouched",ae.is("untouched"))("ng-touched",ae.is("touched"))("ng-pristine",ae.is("pristine"))("ng-dirty",ae.is("dirty"))("ng-valid",ae.is("valid"))("ng-invalid",ae.is("invalid"))("ng-pending",ae.is("pending"))("ng-submitted",ae.is("submitted"))},features:[h.qOj]}),H})();function on(H,N){P(H,N),N.valueAccessor.writeValue(H.value),function G(H,N){N.valueAccessor.registerOnChange(M=>{H._pendingValue=M,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&dt(H,N)})}(H,N),function Wt(H,N){const M=(ae,Lt)=>{N.valueAccessor.writeValue(ae),Lt&&N.viewToModelUpdate(ae)};H.registerOnChange(M),N._registerOnDestroy(()=>{H._unregisterOnChange(M)})}(H,N),function Te(H,N){N.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&dt(H,N),"submit"!==H.updateOn&&H.markAsTouched()})}(H,N),function $(H,N){if(N.valueAccessor.setDisabledState){const M=ae=>{N.valueAccessor.setDisabledState(ae)};H.registerOnDisabledChange(M),N._registerOnDestroy(()=>{H._unregisterOnDisabledChange(M)})}}(H,N)}function Ci(H,N,M=!0){const ae=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(ae),N.valueAccessor.registerOnTouched(ae)),x(H,N),H&&(N._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function ze(H,N){H.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(N)})}function P(H,N){const M=Ce(H);null!==N.validator?H.setValidators(Q(M,N.validator)):"function"==typeof M&&H.setValidators([M]);const ae=Bt(H);null!==N.asyncValidator?H.setAsyncValidators(Q(ae,N.asyncValidator)):"function"==typeof ae&&H.setAsyncValidators([ae]);const Lt=()=>H.updateValueAndValidity();ze(N._rawValidators,Lt),ze(N._rawAsyncValidators,Lt)}function x(H,N){let M=!1;if(null!==H){if(null!==N.validator){const Lt=Ce(H);if(Array.isArray(Lt)&&Lt.length>0){const Cn=Lt.filter(vi=>vi!==N.validator);Cn.length!==Lt.length&&(M=!0,H.setValidators(Cn))}}if(null!==N.asyncValidator){const Lt=Bt(H);if(Array.isArray(Lt)&&Lt.length>0){const Cn=Lt.filter(vi=>vi!==N.asyncValidator);Cn.length!==Lt.length&&(M=!0,H.setAsyncValidators(Cn))}}}const ae=()=>{};return ze(N._rawValidators,ae),ze(N._rawAsyncValidators,ae),M}function dt(H,N){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function Pn(H,N){P(H,N)}function _t(H,N){H._syncPendingControls(),N.forEach(M=>{const ae=M.control;"submit"===ae.updateOn&&ae._pendingChange&&(M.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1)})}function It(H,N){const M=H.indexOf(N);M>-1&&H.splice(M,1)}const st="VALID",Pt="INVALID",Kt="PENDING",mn="DISABLED";function Fn(H){return(ai(H)?H.validators:H)||null}function Hn(H){return Array.isArray(H)?$e(H):H||null}function tn(H,N){return(ai(N)?N.asyncValidators:H)||null}function Sn(H){return Array.isArray(H)?gt(H):H||null}function ai(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}const Mi=H=>H instanceof Gn,Gi=H=>H instanceof Pr,xi=H=>H instanceof ur;function Er(H){return Mi(H)?H.value:H.getRawValue()}function gi(H,N){const M=Gi(H),ae=H.controls;if(!(M?Object.keys(ae):ae).length)throw new h.vHH(1e3,"");if(!ae[N])throw new h.vHH(1001,"")}function $i(H,N){Gi(H),H._forEachChild((ae,Lt)=>{if(void 0===N[Lt])throw new h.vHH(1002,"")})}class Si{constructor(N,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=M,this._composedValidatorFn=Hn(this._rawValidators),this._composedAsyncValidatorFn=Sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===st}get invalid(){return this.status===Pt}get pending(){return this.status==Kt}get disabled(){return this.status===mn}get enabled(){return this.status!==mn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=Hn(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=Sn(N)}addValidators(N){this.setValidators(ht(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(ht(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(Me(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(Me(N,this._rawAsyncValidators))}hasValidator(N){return pt(this._rawValidators,N)}hasAsyncValidator(N){return pt(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=Kt,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=mn,this.errors=null,this._forEachChild(ae=>{ae.disable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(ae=>ae(!0))}enable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=st,this._forEachChild(ae=>{ae.enable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(ae=>ae(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===st||this.status===Kt)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mn:st}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=Kt,this._hasOwnPendingAsyncValidator=!0;const M=wt(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(ae=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ae,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,M={}){this.errors=N,this._updateControlsErrors(!1!==M.emitEvent)}get(N){return function xn(H,N,M){if(null==N||(Array.isArray(N)||(N=N.split(M)),Array.isArray(N)&&0===N.length))return null;let ae=H;return N.forEach(Lt=>{ae=Gi(ae)?ae.controls.hasOwnProperty(Lt)?ae.controls[Lt]:null:xi(ae)&&ae.at(Lt)||null}),ae}(this,N,".")}getError(N,M){const ae=M?this.get(M):this;return ae&&ae.errors?ae.errors[N]:null}hasError(N,M){return!!this.getError(N,M)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?mn:this.errors?Pt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kt)?Kt:this._anyControlsHaveStatus(Pt)?Pt:st}_anyControlsHaveStatus(N){return this._anyControls(M=>M.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_isBoxedValue(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){ai(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Gn extends Si{constructor(N=null,M,ae){super(Fn(M),tn(ae,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ai(M)&&M.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(N)?N.value:N)}setValue(N,M={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(ae=>ae(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(N,M={}){this.setValue(N,M)}reset(N=this.defaultValue,M={}){this._applyFormState(N),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){It(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){It(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){this._isBoxedValue(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}}class Pr extends Si{constructor(N,M,ae){super(Fn(M),tn(ae,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,M){return this.controls[N]?this.controls[N]:(this.controls[N]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(N,M,ae={}){this.registerControl(N,M),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}removeControl(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(N,M,ae={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],M&&this.registerControl(N,M),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,M={}){$i(this,N),Object.keys(N).forEach(ae=>{gi(this,ae),this.controls[ae].setValue(N[ae],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(Object.keys(N).forEach(ae=>{this.controls[ae]&&this.controls[ae].patchValue(N[ae],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N={},M={}){this._forEachChild((ae,Lt)=>{ae.reset(N[Lt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(N,M,ae)=>(N[ae]=Er(M),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(M,ae)=>!!ae._syncPendingControls()||M);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(M=>{const ae=this.controls[M];ae&&N(ae,M)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const M of Object.keys(this.controls)){const ae=this.controls[M];if(this.contains(M)&&N(ae))return!0}return!1}_reduceValue(){return this._reduceChildren({},(N,M,ae)=>((M.enabled||this.disabled)&&(N[ae]=M.value),N))}_reduceChildren(N,M){let ae=N;return this._forEachChild((Lt,Cn)=>{ae=M(ae,Lt,Cn)}),ae}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ur extends Si{constructor(N,M,ae){super(Fn(M),tn(ae,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[N]}push(N,M={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(N,M,ae={}){this.controls.splice(N,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:ae.emitEvent})}removeAt(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(N,M,ae={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),M&&(this.controls.splice(N,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,M={}){$i(this,N),N.forEach((ae,Lt)=>{gi(this,Lt),this.at(Lt).setValue(ae,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(N.forEach((ae,Lt)=>{this.at(Lt)&&this.at(Lt).patchValue(ae,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N=[],M={}){this._forEachChild((ae,Lt)=>{ae.reset(N[Lt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(N=>Er(N))}clear(N={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_syncPendingControls(){let N=this.controls.reduce((M,ae)=>!!ae._syncPendingControls()||M,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((M,ae)=>{N(M,ae)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(M=>M.enabled&&N(M))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}}const _s={provide:Et,useExisting:(0,h.Gpc)(()=>Li)},mr=(()=>Promise.resolve(null))();let Li=(()=>{class H extends Et{constructor(M,ae){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Pr({},$e(M),gt(ae))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){mr.then(()=>{const ae=this._findContainer(M.path);M.control=ae.registerControl(M.name,M.control),on(M.control,M),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){mr.then(()=>{const ae=this._findContainer(M.path);ae&&ae.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){mr.then(()=>{const ae=this._findContainer(M.path),Lt=new Pr({});Pn(Lt,M),ae.registerControl(M.name,Lt),Lt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){mr.then(()=>{const ae=this._findContainer(M.path);ae&&ae.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,ae){mr.then(()=>{this.form.get(M.path).setValue(ae)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,_t(this.form,this._directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return H.\u0275fac=function(M){return new(M||H)(h.Y36(Ue,10),h.Y36(rt,10))},H.\u0275dir=h.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,ae){1&M&&h.NdJ("submit",function(Cn){return ae.onSubmit(Cn)})("reset",function(){return ae.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([_s]),h.qOj]}),H})(),or=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275dir=h.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),H})(),er=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({}),H})();const eo=new h.OlP("NgModelWithFormControlWarning"),ns={provide:Et,useExisting:(0,h.Gpc)(()=>Ps)};let Ps=(()=>{class H extends Et{constructor(M,ae){super(),this.validators=M,this.asyncValidators=ae,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(M),this._setAsyncValidators(ae)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(x(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const ae=this.form.get(M.path);return on(ae,M),ae.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),ae}getControl(M){return this.form.get(M.path)}removeControl(M){Ci(M.control||null,M,!1),It(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,ae){this.form.get(M.path).setValue(ae)}onSubmit(M){return this.submitted=!0,_t(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const ae=M.control,Lt=this.form.get(M.path);ae!==Lt&&(Ci(ae||null,M),Mi(Lt)&&(on(Lt,M),M.control=Lt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const ae=this.form.get(M.path);Pn(ae,M),ae.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const ae=this.form.get(M.path);ae&&function Nn(H,N){return x(H,N)}(ae,M)&&ae.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){P(this.form,this),this._oldForm&&x(this._oldForm,this)}_checkFormPresent(){}}return H.\u0275fac=function(M){return new(M||H)(h.Y36(Ue,10),h.Y36(rt,10))},H.\u0275dir=h.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(M,ae){1&M&&h.NdJ("submit",function(Cn){return ae.onSubmit(Cn)})("reset",function(){return ae.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ns]),h.qOj,h.TTD]}),H})();const Ns={provide:Se,useExisting:(0,h.Gpc)(()=>hr)};let hr=(()=>{class H extends Se{constructor(M,ae,Lt,Cn,vi){super(),this._ngModelWarningConfig=vi,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(ae),this._setAsyncValidators(Lt),this.valueAccessor=function Gt(H,N){if(!N)return null;let M,ae,Lt;return Array.isArray(N),N.forEach(Cn=>{Cn.constructor===Re?M=Cn:function Ve(H){return Object.getPrototypeOf(H.constructor)===ke}(Cn)?ae=Cn:Lt=Cn}),Lt||ae||M||null}(0,Cn)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),function at(H,N){if(!H.hasOwnProperty("model"))return!1;const M=H.model;return!!M.isFirstChange()||!Object.is(N,M.currentValue)}(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return function ni(H,N){return[...N.path,H]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(M){return new(M||H)(h.Y36(Et,13),h.Y36(Ue,10),h.Y36(rt,10),h.Y36(ye,10),h.Y36(eo,8))},H.\u0275dir=h.lG2({type:H,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Ns]),h.qOj,h.TTD]}),H})(),mi=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({imports:[[er]]}),H})(),li=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({imports:[mi]}),H})(),fi=(()=>{class H{static withConfig(M){return{ngModule:H,providers:[{provide:eo,useValue:M.warnOnNgModelWithFormControl}]}}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({imports:[mi]}),H})(),wi=(()=>{class H{group(M,ae=null){const Lt=this._reduceControls(M);let Vr,Cn=null,vi=null;return null!=ae&&(function qi(H){return void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn}(ae)?(Cn=null!=ae.validators?ae.validators:null,vi=null!=ae.asyncValidators?ae.asyncValidators:null,Vr=null!=ae.updateOn?ae.updateOn:void 0):(Cn=null!=ae.validator?ae.validator:null,vi=null!=ae.asyncValidator?ae.asyncValidator:null)),new Pr(Lt,{asyncValidators:vi,updateOn:Vr,validators:Cn})}control(M,ae,Lt){return new Gn(M,ae,Lt)}array(M,ae,Lt){const Cn=M.map(vi=>this._createControl(vi));return new ur(Cn,ae,Lt)}_reduceControls(M){const ae={};return Object.keys(M).forEach(Lt=>{ae[Lt]=this._createControl(M[Lt])}),ae}_createControl(M){return Mi(M)||Gi(M)||xi(M)?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac,providedIn:fi}),H})()},6498:(Yt,Ye,b)=>{b.d(Ye,{OG:()=>Xe,xM:()=>Ce,ch:()=>Bt,_r:()=>gt,oL:()=>Q});var h=b(9776),g=b(7429),C=b(5e3),ne=b(508),ge=b(3191),ve=b(7579),ke=b(9841),ye=b(7272),le=b(8306),se=b(5698),fe=b(5684),De=b(8372),We=b(4004),Re=b(8675),je=b(2722),lt=b(925);const rt=new Set;let Ae,Ft=(()=>{class pt{constructor(Me){this._platform=Me,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pe}matchMedia(Me){return(this._platform.WEBKIT||this._platform.BLINK)&&function nt(pt){if(!rt.has(pt))try{Ae||(Ae=document.createElement("style"),Ae.setAttribute("type","text/css"),document.head.appendChild(Ae)),Ae.sheet&&(Ae.sheet.insertRule(`@media ${pt} {body{ }}`,0),rt.add(pt))}catch(ht){console.error(ht)}}(Me),this._matchMedia(Me)}}return pt.\u0275fac=function(Me){return new(Me||pt)(C.LFG(lt.t4))},pt.\u0275prov=C.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})();function pe(pt){return{matches:"all"===pt||""===pt,media:pt,addListener:()=>{},removeListener:()=>{}}}let he=(()=>{class pt{constructor(Me,vt){this._mediaMatcher=Me,this._zone=vt,this._queries=new Map,this._destroySubject=new ve.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Me){return xe((0,ge.Eq)(Me)).some(Se=>this._registerQuery(Se).mql.matches)}observe(Me){const Se=xe((0,ge.Eq)(Me)).map(Jt=>this._registerQuery(Jt).observable);let Et=(0,ke.a)(Se);return Et=(0,ye.z)(Et.pipe((0,se.q)(1)),Et.pipe((0,fe.T)(1),(0,De.b)(0))),Et.pipe((0,We.U)(Jt=>{const cn={matches:!1,breakpoints:{}};return Jt.forEach(({matches:Mn,query:un})=>{cn.matches=cn.matches||Mn,cn.breakpoints[un]=Mn}),cn}))}_registerQuery(Me){if(this._queries.has(Me))return this._queries.get(Me);const vt=this._mediaMatcher.matchMedia(Me),Et={observable:new le.y(Jt=>{const cn=Mn=>this._zone.run(()=>Jt.next(Mn));return vt.addListener(cn),()=>{vt.removeListener(cn)}}).pipe((0,Re.O)(vt),(0,We.U)(({matches:Jt})=>({query:Me,matches:Jt})),(0,je.R)(this._destroySubject)),mql:vt};return this._queries.set(Me,Et),Et}}return pt.\u0275fac=function(Me){return new(Me||pt)(C.LFG(Ft),C.LFG(C.R0b))},pt.\u0275prov=C.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})();function xe(pt){return pt.map(ht=>ht.split(",")).reduce((ht,Me)=>ht.concat(Me)).map(ht=>ht.trim())}const Ee_Medium="(min-width: 960px) and (max-width: 1279.98px)",Ee_Large="(min-width: 1280px) and (max-width: 1919.98px)";var ee=b(9808),Ge=b(1777),be=b(5664),Je=b(226),it=b(6451),wt=b(9646),yt=b(1159),kt=b(9300);function At(pt,ht){}const ct={bottomSheetState:(0,Ge.X$)("state",[(0,Ge.SB)("void, hidden",(0,Ge.oB)({transform:"translateY(100%)"})),(0,Ge.SB)("visible",(0,Ge.oB)({transform:"translateY(0%)"})),(0,Ge.eR)("visible => void, visible => hidden",(0,Ge.ru)([(0,Ge.jt)(`${ne.mZ.COMPLEX} ${ne.yN.ACCELERATION_CURVE}`),(0,Ge.IO)("@*",(0,Ge.pV)(),{optional:!0})])),(0,Ge.eR)("void => visible",(0,Ge.ru)([(0,Ge.jt)(`${ne.mZ.EXITING} ${ne.yN.DECELERATION_CURVE}`),(0,Ge.IO)("@*",(0,Ge.pV)(),{optional:!0})]))])},Xe=new C.OlP("MatBottomSheetData");class $e{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}let et=(()=>{class pt extends g.en{constructor(Me,vt,Se,Et,Jt,cn,Mn,un){super(),this._elementRef=Me,this._changeDetectorRef=vt,this._focusTrapFactory=Se,this._interactivityChecker=Et,this._ngZone=Jt,this.bottomSheetConfig=un,this._animationState="void",this._animationStateChanged=new C.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=pn=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(pn)),this._document=Mn,this._breakpointSubscription=cn.observe([Ee_Medium,Ee_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",cn.isMatched(Ee_Medium)),this._toggleClass("mat-bottom-sheet-container-large",cn.isMatched(Ee_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",cn.isMatched("(min-width: 1920px)"))})}attachComponentPortal(Me){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(Me)}attachTemplatePortal(Me){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(Me)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(Me){"hidden"===Me.toState?this._restoreFocus():"visible"===Me.toState&&this._trapFocus(),this._animationStateChanged.emit(Me)}_onAnimationStart(Me){this._animationStateChanged.emit(Me)}_toggleClass(Me,vt){this._elementRef.nativeElement.classList.toggle(Me,vt)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){this._elementRef.nativeElement.classList.add(...(0,ge.Eq)(this.bottomSheetConfig.panelClass||[]))}_forceFocus(Me,vt){this._interactivityChecker.isFocusable(Me)||(Me.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Se=()=>{Me.removeEventListener("blur",Se),Me.removeEventListener("mousedown",Se),Me.removeAttribute("tabindex")};Me.addEventListener("blur",Se),Me.addEventListener("mousedown",Se)})),Me.focus(vt)}_focusByCssSelector(Me,vt){let Se=this._elementRef.nativeElement.querySelector(Me);Se&&this._forceFocus(Se,vt)}_trapFocus(){const Me=this._elementRef.nativeElement;switch(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(Me)),this.bottomSheetConfig.autoFocus){case!1:case"dialog":const vt=(0,lt.ht)();vt!==Me&&!Me.contains(vt)&&Me.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.bottomSheetConfig.autoFocus)}}_restoreFocus(){const Me=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&Me&&"function"==typeof Me.focus){const vt=(0,lt.ht)(),Se=this._elementRef.nativeElement;(!vt||vt===this._document.body||vt===Se||Se.contains(vt))&&Me.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,lt.ht)(),this._elementRef.nativeElement.focus&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this._elementRef.nativeElement.focus())})}}return pt.\u0275fac=function(Me){return new(Me||pt)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(be.qV),C.Y36(be.ic),C.Y36(C.R0b),C.Y36(he),C.Y36(ee.K0,8),C.Y36($e))},pt.\u0275cmp=C.Xpm({type:pt,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(Me,vt){if(1&Me&&C.Gf(g.Pl,7),2&Me){let Se;C.iGM(Se=C.CRH())&&(vt._portalOutlet=Se.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(Me,vt){1&Me&&C.WFA("@state.start",function(Et){return vt._onAnimationStart(Et)})("@state.done",function(Et){return vt._onAnimationDone(Et)}),2&Me&&(C.uIk("aria-label",null==vt.bottomSheetConfig?null:vt.bottomSheetConfig.ariaLabel),C.d8E("@state",vt._animationState))},features:[C.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Me,vt){1&Me&&C.YNc(0,At,0,0,"ng-template",0)},directives:[g.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[ct.bottomSheetState]}}),pt})(),gt=(()=>{class pt{}return pt.\u0275fac=function(Me){return new(Me||pt)},pt.\u0275mod=C.oAB({type:pt}),pt.\u0275inj=C.cJS({imports:[[h.U8,ne.BQ,g.eL],ne.BQ]}),pt})();class Q{constructor(ht,Me){this._overlayRef=Me,this._afterDismissed=new ve.x,this._afterOpened=new ve.x,this.containerInstance=ht,this.disableClose=ht.bottomSheetConfig.disableClose,ht._animationStateChanged.pipe((0,kt.h)(vt=>"done"===vt.phaseName&&"visible"===vt.toState),(0,se.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ht._animationStateChanged.pipe((0,kt.h)(vt=>"done"===vt.phaseName&&"hidden"===vt.toState),(0,se.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),Me.dispose()}),Me.detachments().pipe((0,se.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,it.T)(Me.backdropClick(),Me.keydownEvents().pipe((0,kt.h)(vt=>vt.keyCode===yt.hY))).subscribe(vt=>{!this.disableClose&&("keydown"!==vt.type||!(0,yt.Vb)(vt))&&(vt.preventDefault(),this.dismiss())})}dismiss(ht){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,kt.h)(Me=>"start"===Me.phaseName),(0,se.q)(1)).subscribe(Me=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},Me.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=ht,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const Ce=new C.OlP("mat-bottom-sheet-default-options");let Bt=(()=>{class pt{constructor(Me,vt,Se,Et){this._overlay=Me,this._injector=vt,this._parentBottomSheet=Se,this._defaultOptions=Et,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const Me=this._parentBottomSheet;return Me?Me._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(Me){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=Me:this._bottomSheetRefAtThisLevel=Me}open(Me,vt){const Se=function bt(pt,ht){return Object.assign(Object.assign({},pt),ht)}(this._defaultOptions||new $e,vt),Et=this._createOverlay(Se),Jt=this._attachContainer(Et,Se),cn=new Q(Jt,Et);if(Me instanceof C.Rgc)Jt.attachTemplatePortal(new g.UE(Me,null,{$implicit:Se.data,bottomSheetRef:cn}));else{const Mn=new g.C5(Me,void 0,this._createInjector(Se,cn)),un=Jt.attachComponentPortal(Mn);cn.instance=un.instance}return cn.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==cn&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>cn.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):cn.containerInstance.enter(),this._openedBottomSheetRef=cn,cn}dismiss(Me){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(Me)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(Me,vt){const Et=C.zs3.create({parent:vt&&vt.viewContainerRef&&vt.viewContainerRef.injector||this._injector,providers:[{provide:$e,useValue:vt}]}),Jt=new g.C5(et,vt.viewContainerRef,Et);return Me.attach(Jt).instance}_createOverlay(Me){const vt=new h.X_({direction:Me.direction,hasBackdrop:Me.hasBackdrop,disposeOnNavigation:Me.closeOnNavigation,maxWidth:"100%",scrollStrategy:Me.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return Me.backdropClass&&(vt.backdropClass=Me.backdropClass),this._overlay.create(vt)}_createInjector(Me,vt){const Se=Me&&Me.viewContainerRef&&Me.viewContainerRef.injector,Et=[{provide:Q,useValue:vt},{provide:Xe,useValue:Me.data}];return Me.direction&&(!Se||!Se.get(Je.Is,null,C.XFs.Optional))&&Et.push({provide:Je.Is,useValue:{value:Me.direction,change:(0,wt.of)()}}),C.zs3.create({parent:Se||this._injector,providers:Et})}}return pt.\u0275fac=function(Me){return new(Me||pt)(C.LFG(h.aV),C.LFG(C.zs3),C.LFG(pt,12),C.LFG(Ce,8))},pt.\u0275prov=C.Yz7({token:pt,factory:pt.\u0275fac,providedIn:gt}),pt})()},7423:(Yt,Ye,b)=>{b.d(Ye,{lW:()=>fe,ot:()=>We});var h=b(5e3),g=b(508),C=b(6360),ne=b(5664);const ge=["mat-button",""],ve=["*"],le=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],se=(0,g.pj)((0,g.Id)((0,g.Kr)(class{constructor(Re){this._elementRef=Re}})));let fe=(()=>{class Re extends se{constructor(lt,Ue,rt){super(lt),this._focusMonitor=Ue,this._animationMode=rt,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Ae of le)this._hasHostAttributes(Ae)&&this._getHostElement().classList.add(Ae);lt.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(lt,Ue){lt?this._focusMonitor.focusVia(this._getHostElement(),lt,Ue):this._getHostElement().focus(Ue)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...lt){return lt.some(Ue=>this._getHostElement().hasAttribute(Ue))}}return Re.\u0275fac=function(lt){return new(lt||Re)(h.Y36(h.SBq),h.Y36(ne.tE),h.Y36(C.Qb,8))},Re.\u0275cmp=h.Xpm({type:Re,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(lt,Ue){if(1&lt&&h.Gf(g.wG,5),2&lt){let rt;h.iGM(rt=h.CRH())&&(Ue.ripple=rt.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(lt,Ue){2&lt&&(h.uIk("disabled",Ue.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===Ue._animationMode)("mat-button-disabled",Ue.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:ge,ngContentSelectors:ve,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(lt,Ue){1&lt&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1)(3,"span",2)),2&lt&&(h.xp6(2),h.ekj("mat-button-ripple-round",Ue.isRoundButton||Ue.isIconButton),h.Q6J("matRippleDisabled",Ue._isRippleDisabled())("matRippleCentered",Ue.isIconButton)("matRippleTrigger",Ue._getHostElement()))},directives:[g.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Re})(),We=(()=>{class Re{}return Re.\u0275fac=function(lt){return new(lt||Re)},Re.\u0275mod=h.oAB({type:Re}),Re.\u0275inj=h.cJS({imports:[[g.si,g.BQ],g.BQ]}),Re})()},9224:(Yt,Ye,b)=>{b.d(Ye,{a8:()=>nt,hq:()=>We,kc:()=>Ft,dn:()=>se,rt:()=>Re,dk:()=>pe,G2:()=>je,QW:()=>xe,n5:()=>fe});var h=b(5e3),g=b(6360),C=b(508);const ne=["*",[["mat-card-footer"]]],ge=["*","mat-card-footer"],ve=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ke=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let se=(()=>{class Ee{}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)},Ee.\u0275dir=h.lG2({type:Ee,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),Ee})(),fe=(()=>{class Ee{}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)},Ee.\u0275dir=h.lG2({type:Ee,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),Ee})(),We=(()=>{class Ee{constructor(){this.align="start"}}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)},Ee.\u0275dir=h.lG2({type:Ee,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(Ge,be){2&Ge&&h.ekj("mat-card-actions-align-end","end"===be.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),Ee})(),Re=(()=>{class Ee{}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)},Ee.\u0275dir=h.lG2({type:Ee,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),Ee})(),je=(()=>{class Ee{}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)},Ee.\u0275dir=h.lG2({type:Ee,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),Ee})(),Ft=(()=>{class Ee{}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)},Ee.\u0275dir=h.lG2({type:Ee,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),Ee})(),nt=(()=>{class Ee{constructor(Ge){this._animationMode=Ge}}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)(h.Y36(g.Qb,8))},Ee.\u0275cmp=h.Xpm({type:Ee,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(Ge,be){2&Ge&&h.ekj("_mat-animation-noopable","NoopAnimations"===be._animationMode)},exportAs:["matCard"],ngContentSelectors:ge,decls:2,vars:0,template:function(Ge,be){1&Ge&&(h.F$t(ne),h.Hsn(0),h.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),Ee})(),pe=(()=>{class Ee{}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)},Ee.\u0275cmp=h.Xpm({type:Ee,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:ke,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(Ge,be){1&Ge&&(h.F$t(ve),h.Hsn(0),h.TgZ(1,"div",0),h.Hsn(2,1),h.qZA(),h.Hsn(3,2))},encapsulation:2,changeDetection:0}),Ee})(),xe=(()=>{class Ee{}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)},Ee.\u0275mod=h.oAB({type:Ee}),Ee.\u0275inj=h.cJS({imports:[[C.BQ],C.BQ]}),Ee})()},6688:(Yt,Ye,b)=>{b.d(Ye,{HS:()=>Ge,EC:()=>Ee,qn:()=>ct,Hi:()=>$e});var h=b(1159),g=b(5e3),C=b(508),ne=b(3191),ge=b(9808),ve=b(6360),ke=b(7579),ye=b(6451),le=b(5698),se=b(2722),fe=b(8675),De=b(925),We=b(5664),Re=b(449),je=b(3075),lt=b(4106),Ue=b(226);const rt=["*"],Ft=new g.OlP("MatChipRemove"),nt=new g.OlP("MatChipAvatar"),pe=new g.OlP("MatChipTrailingIcon");class he{constructor(gt){this._elementRef=gt}}const xe=(0,C.sb)((0,C.pj)((0,C.Kr)(he),"primary"),-1);let Ee=(()=>{class et{}return et.\u0275fac=function(Q){return new(Q||et)},et.\u0275dir=g.lG2({type:et,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"],features:[g._Bn([{provide:nt,useExisting:et}])]}),et})(),Ge=(()=>{class et extends xe{constructor(Q,Ce,Bt,bt,pt,ht,Me,vt){super(Q),this._ngZone=Ce,this._changeDetectorRef=pt,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new ke.x,this._onBlur=new ke.x,this.selectionChange=new g.vpe,this.destroyed=new g.vpe,this.removed=new g.vpe,this._addHostClassName(),this._chipRippleTarget=ht.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new C.IR(this,Ce,this._chipRippleTarget,Bt),this._chipRipple.setupTriggerEvents(Q),this.rippleConfig=bt||{},this._animationsDisabled="NoopAnimations"===Me,this.tabIndex=null!=vt&&parseInt(vt)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(Q){const Ce=(0,ne.Ig)(Q);Ce!==this._selected&&(this._selected=Ce,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(Q){this._value=Q}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(Q){this._selectable=(0,ne.Ig)(Q)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(Q){this._disabled=(0,ne.Ig)(Q)}get removable(){return this._removable}set removable(Q){this._removable=(0,ne.Ig)(Q)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const Q="mat-basic-chip",Ce=this._elementRef.nativeElement;Ce.hasAttribute(Q)||Ce.tagName.toLowerCase()===Q?Ce.classList.add(Q):Ce.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(Q=!1){return this._selected=!this.selected,this._dispatchSelectionChange(Q),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(Q){this.disabled&&Q.preventDefault()}_handleKeydown(Q){if(!this.disabled)switch(Q.keyCode){case h.yY:case h.ZH:this.remove(),Q.preventDefault();break;case h.L_:this.selectable&&this.toggleSelected(!0),Q.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,le.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(Q=!1){this.selectionChange.emit({source:this,isUserInput:Q,selected:this._selected})}}return et.\u0275fac=function(Q){return new(Q||et)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(De.t4),g.Y36(C.Y2,8),g.Y36(g.sBO),g.Y36(ge.K0),g.Y36(ve.Qb,8),g.$8M("tabindex"))},et.\u0275dir=g.lG2({type:et,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(Q,Ce,Bt){if(1&Q&&(g.Suo(Bt,nt,5),g.Suo(Bt,pe,5),g.Suo(Bt,Ft,5)),2&Q){let bt;g.iGM(bt=g.CRH())&&(Ce.avatar=bt.first),g.iGM(bt=g.CRH())&&(Ce.trailingIcon=bt.first),g.iGM(bt=g.CRH())&&(Ce.removeIcon=bt.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(Q,Ce){1&Q&&g.NdJ("click",function(bt){return Ce._handleClick(bt)})("keydown",function(bt){return Ce._handleKeydown(bt)})("focus",function(){return Ce.focus()})("blur",function(){return Ce._blur()}),2&Q&&(g.uIk("tabindex",Ce.disabled?null:Ce.tabIndex)("disabled",Ce.disabled||null)("aria-disabled",Ce.disabled.toString())("aria-selected",Ce.ariaSelected),g.ekj("mat-chip-selected",Ce.selected)("mat-chip-with-avatar",Ce.avatar)("mat-chip-with-trailing-icon",Ce.trailingIcon||Ce.removeIcon)("mat-chip-disabled",Ce.disabled)("_mat-animation-noopable",Ce._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[g.qOj]}),et})();const Je=new g.OlP("mat-chips-default-options"),yt=(0,C.FD)(class{constructor(et,gt,Q,Ce){this._defaultErrorStateMatcher=et,this._parentForm=gt,this._parentFormGroup=Q,this.ngControl=Ce}});let kt=0;class At{constructor(gt,Q){this.source=gt,this.value=Q}}let ct=(()=>{class et extends yt{constructor(Q,Ce,Bt,bt,pt,ht,Me){super(ht,bt,pt,Me),this._elementRef=Q,this._changeDetectorRef=Ce,this._dir=Bt,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new ke.x,this._uid="mat-chip-list-"+kt++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(vt,Se)=>vt===Se,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new g.vpe,this.valueChange=new g.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var Q,Ce;return this.multiple?(null===(Q=this._selectionModel)||void 0===Q?void 0:Q.selected)||[]:null===(Ce=this._selectionModel)||void 0===Ce?void 0:Ce.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(Q){this._multiple=(0,ne.Ig)(Q),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(Q){this._compareWith=Q,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Q){this.writeValue(Q),this._value=Q}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var Q,Ce,Bt,bt;return null!==(bt=null!==(Q=this._required)&&void 0!==Q?Q:null===(Bt=null===(Ce=this.ngControl)||void 0===Ce?void 0:Ce.control)||void 0===Bt?void 0:Bt.hasValidator(je.kI.required))&&void 0!==bt&&bt}set required(Q){this._required=(0,ne.Ig)(Q),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(Q){this._placeholder=Q,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(Q){this._disabled=(0,ne.Ig)(Q),this._syncChipsState()}get selectable(){return this._selectable}set selectable(Q){this._selectable=(0,ne.Ig)(Q),this.chips&&this.chips.forEach(Ce=>Ce.chipListSelectable=this._selectable)}set tabIndex(Q){this._userTabIndex=Q,this._tabIndex=Q}get chipSelectionChanges(){return(0,ye.T)(...this.chips.map(Q=>Q.selectionChange))}get chipFocusChanges(){return(0,ye.T)(...this.chips.map(Q=>Q._onFocus))}get chipBlurChanges(){return(0,ye.T)(...this.chips.map(Q=>Q._onBlur))}get chipRemoveChanges(){return(0,ye.T)(...this.chips.map(Q=>Q.destroyed))}ngAfterContentInit(){this._keyManager=new We.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,se.R)(this._destroyed)).subscribe(Q=>this._keyManager.withHorizontalOrientation(Q)),this._keyManager.tabOut.pipe((0,se.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,fe.O)(null),(0,se.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Re.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(Q){this._chipInput=Q,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",Q.id)}setDescribedByIds(Q){this._ariaDescribedby=Q.join(" ")}writeValue(Q){this.chips&&this._setSelectionByValue(Q,!1)}registerOnChange(Q){this._onChange=Q}registerOnTouched(Q){this._onTouched=Q}setDisabledState(Q){this.disabled=Q,this.stateChanges.next()}onContainerClick(Q){this._originatesFromChip(Q)||this.focus()}focus(Q){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(Q),this.stateChanges.next()))}_focusInput(Q){this._chipInput&&this._chipInput.focus(Q)}_keydown(Q){const Ce=Q.target;Ce&&Ce.classList.contains("mat-chip")&&(this._keyManager.onKeydown(Q),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const Q=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(Q)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(Q){return Q>=0&&Q<this.chips.length}_setSelectionByValue(Q,Ce=!0){if(this._clearSelection(),this.chips.forEach(Bt=>Bt.deselect()),Array.isArray(Q))Q.forEach(Bt=>this._selectValue(Bt,Ce)),this._sortValues();else{const Bt=this._selectValue(Q,Ce);Bt&&Ce&&this._keyManager.setActiveItem(Bt)}}_selectValue(Q,Ce=!0){const Bt=this.chips.find(bt=>null!=bt.value&&this._compareWith(bt.value,Q));return Bt&&(Ce?Bt.selectViaInteraction():Bt.select(),this._selectionModel.select(Bt)),Bt}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(Q){this._selectionModel.clear(),this.chips.forEach(Ce=>{Ce!==Q&&Ce.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(Q=>{Q.selected&&this._selectionModel.select(Q)}),this.stateChanges.next())}_propagateChanges(Q){let Ce=null;Ce=Array.isArray(this.selected)?this.selected.map(Bt=>Bt.value):this.selected?this.selected.value:Q,this._value=Ce,this.change.emit(new At(this,Ce)),this.valueChange.emit(Ce),this._onChange(Ce),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(Q=>{Q.source.selected?this._selectionModel.select(Q.source):this._selectionModel.deselect(Q.source),this.multiple||this.chips.forEach(Ce=>{!this._selectionModel.isSelected(Ce)&&Ce.selected&&Ce.deselect()}),Q.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(Q=>{let Ce=this.chips.toArray().indexOf(Q.chip);this._isValidIndex(Ce)&&this._keyManager.updateActiveItem(Ce),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(Q=>{const Ce=Q.chip,Bt=this.chips.toArray().indexOf(Q.chip);this._isValidIndex(Bt)&&Ce._hasFocus&&(this._lastDestroyedChipIndex=Bt)})}_originatesFromChip(Q){let Ce=Q.target;for(;Ce&&Ce!==this._elementRef.nativeElement;){if(Ce.classList.contains("mat-chip"))return!0;Ce=Ce.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(Q=>Q._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(Q=>{Q._chipListDisabled=this._disabled,Q._chipListMultiple=this.multiple})}}return et.\u0275fac=function(Q){return new(Q||et)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(Ue.Is,8),g.Y36(je.F,8),g.Y36(je.sg,8),g.Y36(C.rD),g.Y36(je.a5,10))},et.\u0275cmp=g.Xpm({type:et,selectors:[["mat-chip-list"]],contentQueries:function(Q,Ce,Bt){if(1&Q&&g.Suo(Bt,Ge,5),2&Q){let bt;g.iGM(bt=g.CRH())&&(Ce.chips=bt)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(Q,Ce){1&Q&&g.NdJ("focus",function(){return Ce.focus()})("blur",function(){return Ce._blur()})("keydown",function(bt){return Ce._keydown(bt)}),2&Q&&(g.Ikx("id",Ce._uid),g.uIk("tabindex",Ce.disabled?null:Ce._tabIndex)("aria-describedby",Ce._ariaDescribedby||null)("aria-required",Ce.role?Ce.required:null)("aria-disabled",Ce.disabled.toString())("aria-invalid",Ce.errorState)("aria-multiselectable",Ce.multiple)("role",Ce.role)("aria-orientation",Ce.ariaOrientation),g.ekj("mat-chip-list-disabled",Ce.disabled)("mat-chip-list-invalid",Ce.errorState)("mat-chip-list-required",Ce.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[g._Bn([{provide:lt.Eo,useExisting:et}]),g.qOj],ngContentSelectors:rt,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(Q,Ce){1&Q&&(g.F$t(),g.TgZ(0,"div",0),g.Hsn(1),g.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),et})(),$e=(()=>{class et{}return et.\u0275fac=function(Q){return new(Q||et)},et.\u0275mod=g.oAB({type:et}),et.\u0275inj=g.cJS({providers:[C.rD,{provide:Je,useValue:{separatorKeyCodes:[h.K5]}}],imports:[[C.BQ]]}),et})()},508:(Yt,Ye,b)=>{b.d(Ye,{yN:()=>rt,mZ:()=>Ae,rD:()=>bt,K7:()=>Vt,HF:()=>q,Y2:()=>V,BQ:()=>pe,X2:()=>pt,uc:()=>vt,ey:()=>ni,Ng:()=>ze,nP:()=>Oe,us:()=>Pe,wG:()=>X,si:()=>we,IR:()=>pn,CB:()=>on,jH:()=>Ci,pj:()=>Ge,Kr:()=>be,Id:()=>ee,FD:()=>it,sb:()=>Je,E0:()=>ht});var h=b(5e3),g=b(226),ne=b(9808),ge=b(925),ve=b(5664),ke=b(3191),ye=b(7579),le=b(8675),se=b(6360),fe=b(1159);function Re($,P){if(1&$&&h._UZ(0,"mat-pseudo-checkbox",4),2&$){const x=h.oxw();h.Q6J("state",x.selected?"checked":"unchecked")("disabled",x.disabled)}}function je($,P){if(1&$&&(h.TgZ(0,"span",5),h._uU(1),h.qZA()),2&$){const x=h.oxw();h.xp6(1),h.hij("(",x.group.label,")")}}const lt=["*"];let rt=(()=>{class ${}return $.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",$.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",$.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",$.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",$})(),Ae=(()=>{class ${}return $.COMPLEX="375ms",$.ENTERING="225ms",$.EXITING="195ms",$})();const nt=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ft(){return!0}});let pe=(()=>{class ${constructor(x,G,Te){this._sanityChecks=G,this._document=Te,this._hasDoneGlobalChecks=!1,x._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(x){return!(0,ge.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[x])}}return $.\u0275fac=function(x){return new(x||$)(h.LFG(ve.qm),h.LFG(nt,8),h.LFG(ne.K0))},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[[g.vT],g.vT]}),$})();function ee($){return class extends ${constructor(...P){super(...P),this._disabled=!1}get disabled(){return this._disabled}set disabled(P){this._disabled=(0,ke.Ig)(P)}}}function Ge($,P){return class extends ${constructor(...x){super(...x),this.defaultColor=P,this.color=P}get color(){return this._color}set color(x){const G=x||this.defaultColor;G!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),G&&this._elementRef.nativeElement.classList.add(`mat-${G}`),this._color=G)}}}function be($){return class extends ${constructor(...P){super(...P),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(P){this._disableRipple=(0,ke.Ig)(P)}}}function Je($,P=0){return class extends ${constructor(...x){super(...x),this._tabIndex=P,this.defaultTabIndex=P}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(x){this._tabIndex=null!=x?(0,ke.su)(x):this.defaultTabIndex}}}function it($){return class extends ${constructor(...P){super(...P),this.stateChanges=new ye.x,this.errorState=!1}updateErrorState(){const P=this.errorState,dt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);dt!==P&&(this.errorState=dt,this.stateChanges.next())}}}let bt=(()=>{class ${isErrorState(x,G){return!!(x&&x.invalid&&(x.touched||G&&G.submitted))}}return $.\u0275fac=function(x){return new(x||$)},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),pt=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275dir=h.lG2({type:$,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),$})();function ht($,P,x="mat"){$.changes.pipe((0,le.O)($)).subscribe(({length:G})=>{Me(P,`${x}-2-line`,!1),Me(P,`${x}-3-line`,!1),Me(P,`${x}-multi-line`,!1),2===G||3===G?Me(P,`${x}-${G}-line`,!0):G>3&&Me(P,`${x}-multi-line`,!0)})}function Me($,P,x){$.nativeElement.classList.toggle(P,x)}let vt=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[[pe],pe]}),$})();class Se{constructor(P,x,G){this._renderer=P,this.element=x,this.config=G,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Et={enterDuration:225,exitDuration:150},cn=(0,ge.i$)({passive:!0}),Mn=["mousedown","touchstart"],un=["mouseup","mouseleave","touchend","touchcancel"];class pn{constructor(P,x,G,Te){this._target=P,this._ngZone=x,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Te.isBrowser&&(this._containerElement=(0,ke.fI)(G))}fadeInRipple(P,x,G={}){const Te=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),dt=Object.assign(Object.assign({},Et),G.animation);G.centered&&(P=Te.left+Te.width/2,x=Te.top+Te.height/2);const Wt=G.radius||function ft($,P,x){const G=Math.max(Math.abs($-x.left),Math.abs($-x.right)),Te=Math.max(Math.abs(P-x.top),Math.abs(P-x.bottom));return Math.sqrt(G*G+Te*Te)}(P,x,Te),Pn=P-Te.left,Nn=x-Te.top,oi=dt.enterDuration,vn=document.createElement("div");vn.classList.add("mat-ripple-element"),vn.style.left=Pn-Wt+"px",vn.style.top=Nn-Wt+"px",vn.style.height=2*Wt+"px",vn.style.width=2*Wt+"px",null!=G.color&&(vn.style.backgroundColor=G.color),vn.style.transitionDuration=`${oi}ms`,this._containerElement.appendChild(vn),function dn($){window.getComputedStyle($).getPropertyValue("opacity")}(vn),vn.style.transform="scale(1)";const bi=new Se(this,vn,G);return bi.state=0,this._activeRipples.add(bi),G.persistent||(this._mostRecentTransientRipple=bi),this._runTimeoutOutsideZone(()=>{const Dt=bi===this._mostRecentTransientRipple;bi.state=1,!G.persistent&&(!Dt||!this._isPointerDown)&&bi.fadeOut()},oi),bi}fadeOutRipple(P){const x=this._activeRipples.delete(P);if(P===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!x)return;const G=P.element,Te=Object.assign(Object.assign({},Et),P.config.animation);G.style.transitionDuration=`${Te.exitDuration}ms`,G.style.opacity="0",P.state=2,this._runTimeoutOutsideZone(()=>{P.state=3,G.remove()},Te.exitDuration)}fadeOutAll(){this._activeRipples.forEach(P=>P.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(P=>{P.config.persistent||P.fadeOut()})}setupTriggerEvents(P){const x=(0,ke.fI)(P);!x||x===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=x,this._registerEvents(Mn))}handleEvent(P){"mousedown"===P.type?this._onMousedown(P):"touchstart"===P.type?this._onTouchStart(P):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(un),this._pointerUpEventsRegistered=!0)}_onMousedown(P){const x=(0,ve.X6)(P),G=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!x&&!G&&(this._isPointerDown=!0,this.fadeInRipple(P.clientX,P.clientY,this._target.rippleConfig))}_onTouchStart(P){if(!this._target.rippleDisabled&&!(0,ve.yG)(P)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const x=P.changedTouches;for(let G=0;G<x.length;G++)this.fadeInRipple(x[G].clientX,x[G].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(P=>{!P.config.persistent&&(1===P.state||P.config.terminateOnPointerUp&&0===P.state)&&P.fadeOut()}))}_runTimeoutOutsideZone(P,x=0){this._ngZone.runOutsideAngular(()=>setTimeout(P,x))}_registerEvents(P){this._ngZone.runOutsideAngular(()=>{P.forEach(x=>{this._triggerElement.addEventListener(x,this,cn)})})}_removeTriggerEvents(){this._triggerElement&&(Mn.forEach(P=>{this._triggerElement.removeEventListener(P,this,cn)}),this._pointerUpEventsRegistered&&un.forEach(P=>{this._triggerElement.removeEventListener(P,this,cn)}))}}const V=new h.OlP("mat-ripple-global-options");let X=(()=>{class ${constructor(x,G,Te,dt,Wt){this._elementRef=x,this._animationMode=Wt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=dt||{},this._rippleRenderer=new pn(this,G,x,Te)}get disabled(){return this._disabled}set disabled(x){x&&this.fadeOutAllNonPersistent(),this._disabled=x,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(x){this._trigger=x,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(x,G=0,Te){return"number"==typeof x?this._rippleRenderer.fadeInRipple(x,G,Object.assign(Object.assign({},this.rippleConfig),Te)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),x))}}return $.\u0275fac=function(x){return new(x||$)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(ge.t4),h.Y36(V,8),h.Y36(se.Qb,8))},$.\u0275dir=h.lG2({type:$,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(x,G){2&x&&h.ekj("mat-ripple-unbounded",G.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),$})(),we=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[[pe],pe]}),$})(),Oe=(()=>{class ${constructor(x){this._animationMode=x,this.state="unchecked",this.disabled=!1}}return $.\u0275fac=function(x){return new(x||$)(h.Y36(se.Qb,8))},$.\u0275cmp=h.Xpm({type:$,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(x,G){2&x&&h.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===G.state)("mat-pseudo-checkbox-checked","checked"===G.state)("mat-pseudo-checkbox-disabled",G.disabled)("_mat-animation-noopable","NoopAnimations"===G._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(x,G){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),$})(),Pe=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[[pe]]}),$})();const q=new h.OlP("MAT_OPTION_PARENT_COMPONENT"),Vt=new h.OlP("MatOptgroup");let ln=0;class jn{constructor(P,x=!1){this.source=P,this.isUserInput=x}}let Ln=(()=>{class ${constructor(x,G,Te,dt){this._element=x,this._changeDetectorRef=G,this._parent=Te,this.group=dt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+ln++,this.onSelectionChange=new h.vpe,this._stateChanges=new ye.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(x){this._disabled=(0,ke.Ig)(x)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(x,G){const Te=this._getHostElement();"function"==typeof Te.focus&&Te.focus(G)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(x){(x.keyCode===fe.K5||x.keyCode===fe.L_)&&!(0,fe.Vb)(x)&&(this._selectViaInteraction(),x.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const x=this.viewValue;x!==this._mostRecentViewValue&&(this._mostRecentViewValue=x,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(x=!1){this.onSelectionChange.emit(new jn(this,x))}}return $.\u0275fac=function(x){h.$Z()},$.\u0275dir=h.lG2({type:$,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),$})(),ni=(()=>{class $ extends Ln{constructor(x,G,Te,dt){super(x,G,Te,dt)}}return $.\u0275fac=function(x){return new(x||$)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(q,8),h.Y36(Vt,8))},$.\u0275cmp=h.Xpm({type:$,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(x,G){1&x&&h.NdJ("click",function(){return G._selectViaInteraction()})("keydown",function(dt){return G._handleKeydown(dt)}),2&x&&(h.Ikx("id",G.id),h.uIk("tabindex",G._getTabIndex())("aria-selected",G._getAriaSelected())("aria-disabled",G.disabled.toString()),h.ekj("mat-selected",G.selected)("mat-option-multiple",G.multiple)("mat-active",G.active)("mat-option-disabled",G.disabled))},exportAs:["matOption"],features:[h.qOj],ngContentSelectors:lt,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(x,G){1&x&&(h.F$t(),h.YNc(0,Re,1,2,"mat-pseudo-checkbox",0),h.TgZ(1,"span",1),h.Hsn(2),h.qZA(),h.YNc(3,je,2,1,"span",2),h._UZ(4,"div",3)),2&x&&(h.Q6J("ngIf",G.multiple),h.xp6(3),h.Q6J("ngIf",G.group&&G.group._inert),h.xp6(1),h.Q6J("matRippleTrigger",G._getHostElement())("matRippleDisabled",G.disabled||G.disableRipple))},directives:[Oe,ne.O5,X],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),$})();function on($,P,x){if(x.length){let G=P.toArray(),Te=x.toArray(),dt=0;for(let Wt=0;Wt<$+1;Wt++)G[Wt].group&&G[Wt].group===Te[dt]&&dt++;return dt}return 0}function Ci($,P,x,G){return $<x?$:$+P>x+G?Math.max(0,$-G+P):x}let ze=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[[we,ne.ez,pe,Pe]]}),$})()},8966:(Yt,Ye,b)=>{b.d(Ye,{uw:()=>At,Is:()=>Bt});var h=b(9776),g=b(7429),C=b(5e3),ne=b(508),ge=b(226),ve=b(7579),ke=b(9770),ye=b(9646),le=b(9300),se=b(5698),fe=b(8675),De=b(925),We=b(9808),Re=b(1777),je=b(5664),lt=b(1159),Ue=b(6360);function rt(bt,pt){}class Ae{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ft={dialogContainer:(0,Re.X$)("dialogContainer",[(0,Re.SB)("void, exit",(0,Re.oB)({opacity:0,transform:"scale(0.7)"})),(0,Re.SB)("enter",(0,Re.oB)({transform:"none"})),(0,Re.eR)("* => enter",(0,Re.ru)([(0,Re.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Re.oB)({transform:"none",opacity:1})),(0,Re.IO)("@*",(0,Re.pV)(),{optional:!0})])),(0,Re.eR)("* => void, * => exit",(0,Re.ru)([(0,Re.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Re.oB)({opacity:0})),(0,Re.IO)("@*",(0,Re.pV)(),{optional:!0})]))])};let pe=(()=>{class bt extends g.en{constructor(ht,Me,vt,Se,Et,Jt,cn,Mn){super(),this._elementRef=ht,this._focusTrapFactory=Me,this._changeDetectorRef=vt,this._config=Et,this._interactivityChecker=Jt,this._ngZone=cn,this._focusMonitor=Mn,this._animationStateChanged=new C.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=un=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(un)),this._ariaLabelledBy=Et.ariaLabelledBy||null,this._document=Se}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,De.ht)())}attachComponentPortal(ht){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(ht)}attachTemplatePortal(ht){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(ht)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ht,Me){this._interactivityChecker.isFocusable(ht)||(ht.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const vt=()=>{ht.removeEventListener("blur",vt),ht.removeEventListener("mousedown",vt),ht.removeAttribute("tabindex")};ht.addEventListener("blur",vt),ht.addEventListener("mousedown",vt)})),ht.focus(Me)}_focusByCssSelector(ht,Me){let vt=this._elementRef.nativeElement.querySelector(ht);vt&&this._forceFocus(vt,Me)}_trapFocus(){const ht=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ht.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Me=>{Me||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ht=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&ht&&"function"==typeof ht.focus){const Me=(0,De.ht)(),vt=this._elementRef.nativeElement;(!Me||Me===this._document.body||Me===vt||vt.contains(Me))&&(this._focusMonitor?(this._focusMonitor.focusVia(ht,this._closeInteractionType),this._closeInteractionType=null):ht.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ht=this._elementRef.nativeElement,Me=(0,De.ht)();return ht===Me||ht.contains(Me)}}return bt.\u0275fac=function(ht){return new(ht||bt)(C.Y36(C.SBq),C.Y36(je.qV),C.Y36(C.sBO),C.Y36(We.K0,8),C.Y36(Ae),C.Y36(je.ic),C.Y36(C.R0b),C.Y36(je.tE))},bt.\u0275dir=C.lG2({type:bt,viewQuery:function(ht,Me){if(1&ht&&C.Gf(g.Pl,7),2&ht){let vt;C.iGM(vt=C.CRH())&&(Me._portalOutlet=vt.first)}},features:[C.qOj]}),bt})(),he=(()=>{class bt extends pe{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:ht,totalTime:Me}){"enter"===ht?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Me})):"exit"===ht&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:Me}))}_onAnimationStart({toState:ht,totalTime:Me}){"enter"===ht?this._animationStateChanged.next({state:"opening",totalTime:Me}):("exit"===ht||"void"===ht)&&this._animationStateChanged.next({state:"closing",totalTime:Me})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return bt.\u0275fac=function(){let pt;return function(Me){return(pt||(pt=C.n5z(bt)))(Me||bt)}}(),bt.\u0275cmp=C.Xpm({type:bt,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(ht,Me){1&ht&&C.WFA("@dialogContainer.start",function(Se){return Me._onAnimationStart(Se)})("@dialogContainer.done",function(Se){return Me._onAnimationDone(Se)}),2&ht&&(C.Ikx("id",Me._id),C.uIk("role",Me._config.role)("aria-labelledby",Me._config.ariaLabel?null:Me._ariaLabelledBy)("aria-label",Me._config.ariaLabel)("aria-describedby",Me._config.ariaDescribedBy||null),C.d8E("@dialogContainer",Me._state))},features:[C.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ht,Me){1&ht&&C.YNc(0,rt,0,0,"ng-template",0)},directives:[g.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ft.dialogContainer]}}),bt})(),xe=0;class Ee{constructor(pt,ht,Me="mat-dialog-"+xe++){this._overlayRef=pt,this._containerInstance=ht,this.id=Me,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ve.x,this._afterClosed=new ve.x,this._beforeClosed=new ve.x,this._state=0,ht._id=Me,ht._animationStateChanged.pipe((0,le.h)(vt=>"opened"===vt.state),(0,se.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ht._animationStateChanged.pipe((0,le.h)(vt=>"closed"===vt.state),(0,se.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),pt.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),pt.keydownEvents().pipe((0,le.h)(vt=>vt.keyCode===lt.hY&&!this.disableClose&&!(0,lt.Vb)(vt))).subscribe(vt=>{vt.preventDefault(),ee(this,"keyboard")}),pt.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():ee(this,"mouse")})}close(pt){this._result=pt,this._containerInstance._animationStateChanged.pipe((0,le.h)(ht=>"closing"===ht.state),(0,se.q)(1)).subscribe(ht=>{this._beforeClosed.next(pt),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ht.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(pt){let ht=this._getPositionStrategy();return pt&&(pt.left||pt.right)?pt.left?ht.left(pt.left):ht.right(pt.right):ht.centerHorizontally(),pt&&(pt.top||pt.bottom)?pt.top?ht.top(pt.top):ht.bottom(pt.bottom):ht.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(pt="",ht=""){return this._overlayRef.updateSize({width:pt,height:ht}),this._overlayRef.updatePosition(),this}addPanelClass(pt){return this._overlayRef.addPanelClass(pt),this}removePanelClass(pt){return this._overlayRef.removePanelClass(pt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function ee(bt,pt,ht){return void 0!==bt._containerInstance&&(bt._containerInstance._closeInteractionType=pt),bt.close(ht)}const Ge=new C.OlP("MatDialogData"),be=new C.OlP("mat-dialog-default-options"),Je=new C.OlP("mat-dialog-scroll-strategy"),yt={provide:Je,deps:[h.aV],useFactory:function wt(bt){return()=>bt.scrollStrategies.block()}};let kt=(()=>{class bt{constructor(ht,Me,vt,Se,Et,Jt,cn,Mn,un,pn){this._overlay=ht,this._injector=Me,this._defaultOptions=vt,this._parentDialog=Se,this._overlayContainer=Et,this._dialogRefConstructor=cn,this._dialogContainerType=Mn,this._dialogDataToken=un,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ve.x,this._afterOpenedAtThisLevel=new ve.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,ke.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,fe.O)(void 0))),this._scrollStrategy=Jt}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ht=this._parentDialog;return ht?ht._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(ht,Me){Me=function ct(bt,pt){return Object.assign(Object.assign({},pt),bt)}(Me,this._defaultOptions||new Ae),Me.id&&this.getDialogById(Me.id);const vt=this._createOverlay(Me),Se=this._attachDialogContainer(vt,Me),Et=this._attachDialogContent(ht,Se,vt,Me);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Et),Et.afterClosed().subscribe(()=>this._removeOpenDialog(Et)),this.afterOpened.next(Et),Se._initializeWithAttachedContent(),Et}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ht){return this.openDialogs.find(Me=>Me.id===ht)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(ht){const Me=this._getOverlayConfig(ht);return this._overlay.create(Me)}_getOverlayConfig(ht){const Me=new h.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:ht.scrollStrategy||this._scrollStrategy(),panelClass:ht.panelClass,hasBackdrop:ht.hasBackdrop,direction:ht.direction,minWidth:ht.minWidth,minHeight:ht.minHeight,maxWidth:ht.maxWidth,maxHeight:ht.maxHeight,disposeOnNavigation:ht.closeOnNavigation});return ht.backdropClass&&(Me.backdropClass=ht.backdropClass),Me}_attachDialogContainer(ht,Me){const Se=C.zs3.create({parent:Me&&Me.viewContainerRef&&Me.viewContainerRef.injector||this._injector,providers:[{provide:Ae,useValue:Me}]}),Et=new g.C5(this._dialogContainerType,Me.viewContainerRef,Se,Me.componentFactoryResolver);return ht.attach(Et).instance}_attachDialogContent(ht,Me,vt,Se){const Et=new this._dialogRefConstructor(vt,Me,Se.id);if(ht instanceof C.Rgc)Me.attachTemplatePortal(new g.UE(ht,null,{$implicit:Se.data,dialogRef:Et}));else{const Jt=this._createInjector(Se,Et,Me),cn=Me.attachComponentPortal(new g.C5(ht,Se.viewContainerRef,Jt,Se.componentFactoryResolver));Et.componentInstance=cn.instance}return Et.updateSize(Se.width,Se.height).updatePosition(Se.position),Et}_createInjector(ht,Me,vt){const Se=ht&&ht.viewContainerRef&&ht.viewContainerRef.injector,Et=[{provide:this._dialogContainerType,useValue:vt},{provide:this._dialogDataToken,useValue:ht.data},{provide:this._dialogRefConstructor,useValue:Me}];return ht.direction&&(!Se||!Se.get(ge.Is,null,C.XFs.Optional))&&Et.push({provide:ge.Is,useValue:{value:ht.direction,change:(0,ye.of)()}}),C.zs3.create({parent:Se||this._injector,providers:Et})}_removeOpenDialog(ht){const Me=this.openDialogs.indexOf(ht);Me>-1&&(this.openDialogs.splice(Me,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((vt,Se)=>{vt?Se.setAttribute("aria-hidden",vt):Se.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ht=this._overlayContainer.getContainerElement();if(ht.parentElement){const Me=ht.parentElement.children;for(let vt=Me.length-1;vt>-1;vt--){let Se=Me[vt];Se!==ht&&"SCRIPT"!==Se.nodeName&&"STYLE"!==Se.nodeName&&!Se.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Se,Se.getAttribute("aria-hidden")),Se.setAttribute("aria-hidden","true"))}}}_closeDialogs(ht){let Me=ht.length;for(;Me--;)ht[Me].close()}}return bt.\u0275fac=function(ht){C.$Z()},bt.\u0275dir=C.lG2({type:bt}),bt})(),At=(()=>{class bt extends kt{constructor(ht,Me,vt,Se,Et,Jt,cn,Mn){super(ht,Me,Se,Jt,cn,Et,Ee,he,Ge,Mn)}}return bt.\u0275fac=function(ht){return new(ht||bt)(C.LFG(h.aV),C.LFG(C.zs3),C.LFG(We.Ye,8),C.LFG(be,8),C.LFG(Je),C.LFG(bt,12),C.LFG(h.Xj),C.LFG(Ue.Qb,8))},bt.\u0275prov=C.Yz7({token:bt,factory:bt.\u0275fac}),bt})(),Bt=(()=>{class bt{}return bt.\u0275fac=function(ht){return new(ht||bt)},bt.\u0275mod=C.oAB({type:bt}),bt.\u0275inj=C.cJS({providers:[At,yt],imports:[[h.U8,g.eL,ne.BQ],ne.BQ]}),bt})()},4834:(Yt,Ye,b)=>{b.d(Ye,{d:()=>ne,t:()=>ge});var h=b(5e3),g=b(3191),C=b(508);let ne=(()=>{class ve{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(ye){this._vertical=(0,g.Ig)(ye)}get inset(){return this._inset}set inset(ye){this._inset=(0,g.Ig)(ye)}}return ve.\u0275fac=function(ye){return new(ye||ve)},ve.\u0275cmp=h.Xpm({type:ve,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(ye,le){2&ye&&(h.uIk("aria-orientation",le.vertical?"vertical":"horizontal"),h.ekj("mat-divider-vertical",le.vertical)("mat-divider-horizontal",!le.vertical)("mat-divider-inset",le.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(ye,le){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),ve})(),ge=(()=>{class ve{}return ve.\u0275fac=function(ye){return new(ye||ve)},ve.\u0275mod=h.oAB({type:ve}),ve.\u0275inj=h.cJS({imports:[[C.BQ],C.BQ]}),ve})()},4106:(Yt,Ye,b)=>{b.d(Ye,{G_:()=>we,KE:()=>Oe,Eo:()=>Ce,lN:()=>Pe,hX:()=>Se});var h=b(3191),g=b(5e3),C=b(8306),ne=b(7579),ge=b(8372);let ve=(()=>{class q{create(de){return"undefined"==typeof MutationObserver?null:new MutationObserver(de)}}return q.\u0275fac=function(de){return new(de||q)},q.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),ke=(()=>{class q{constructor(de){this._mutationObserverFactory=de,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((de,Ke)=>this._cleanupObserver(Ke))}observe(de){const Ke=(0,h.fI)(de);return new C.y(Vt=>{const ln=this._observeElement(Ke).subscribe(Vt);return()=>{ln.unsubscribe(),this._unobserveElement(Ke)}})}_observeElement(de){if(this._observedElements.has(de))this._observedElements.get(de).count++;else{const Ke=new ne.x,Vt=this._mutationObserverFactory.create(en=>Ke.next(en));Vt&&Vt.observe(de,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(de,{observer:Vt,stream:Ke,count:1})}return this._observedElements.get(de).stream}_unobserveElement(de){this._observedElements.has(de)&&(this._observedElements.get(de).count--,this._observedElements.get(de).count||this._cleanupObserver(de))}_cleanupObserver(de){if(this._observedElements.has(de)){const{observer:Ke,stream:Vt}=this._observedElements.get(de);Ke&&Ke.disconnect(),Vt.complete(),this._observedElements.delete(de)}}}return q.\u0275fac=function(de){return new(de||q)(g.LFG(ve))},q.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),ye=(()=>{class q{constructor(de,Ke,Vt){this._contentObserver=de,this._elementRef=Ke,this._ngZone=Vt,this.event=new g.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(de){this._disabled=(0,h.Ig)(de),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(de){this._debounce=(0,h.su)(de),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const de=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?de.pipe((0,ge.b)(this.debounce)):de).subscribe(this.event)})}_unsubscribe(){var de;null===(de=this._currentSubscription)||void 0===de||de.unsubscribe()}}return q.\u0275fac=function(de){return new(de||q)(g.Y36(ke),g.Y36(g.SBq),g.Y36(g.R0b))},q.\u0275dir=g.lG2({type:q,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),q})(),le=(()=>{class q{}return q.\u0275fac=function(de){return new(de||q)},q.\u0275mod=g.oAB({type:q}),q.\u0275inj=g.cJS({providers:[ve]}),q})();var se=b(9808),fe=b(508),De=b(6451),We=b(4968),Re=b(8675),je=b(2722),lt=b(5698),Ue=b(1777),rt=b(6360),Ae=b(226),Ft=b(925);const nt=["connectionContainer"],pe=["inputContainer"],he=["label"];function xe(q,Be){1&q&&(g.ynx(0),g.TgZ(1,"div",14),g._UZ(2,"div",15)(3,"div",16)(4,"div",17),g.qZA(),g.TgZ(5,"div",18),g._UZ(6,"div",15)(7,"div",16)(8,"div",17),g.qZA(),g.BQk())}function Ee(q,Be){if(1&q){const de=g.EpF();g.TgZ(0,"div",19),g.NdJ("cdkObserveContent",function(){return g.CHM(de),g.oxw().updateOutlineGap()}),g.Hsn(1,1),g.qZA()}if(2&q){const de=g.oxw();g.Q6J("cdkObserveContentDisabled","outline"!=de.appearance)}}function ee(q,Be){if(1&q&&(g.ynx(0),g.Hsn(1,2),g.TgZ(2,"span"),g._uU(3),g.qZA(),g.BQk()),2&q){const de=g.oxw(2);g.xp6(3),g.Oqu(de._control.placeholder)}}function Ge(q,Be){1&q&&g.Hsn(0,3,["*ngSwitchCase","true"])}function be(q,Be){1&q&&(g.TgZ(0,"span",23),g._uU(1," *"),g.qZA())}function Je(q,Be){if(1&q){const de=g.EpF();g.TgZ(0,"label",20,21),g.NdJ("cdkObserveContent",function(){return g.CHM(de),g.oxw().updateOutlineGap()}),g.YNc(2,ee,4,1,"ng-container",12),g.YNc(3,Ge,1,0,"ng-content",12),g.YNc(4,be,2,0,"span",22),g.qZA()}if(2&q){const de=g.oxw();g.ekj("mat-empty",de._control.empty&&!de._shouldAlwaysFloat())("mat-form-field-empty",de._control.empty&&!de._shouldAlwaysFloat())("mat-accent","accent"==de.color)("mat-warn","warn"==de.color),g.Q6J("cdkObserveContentDisabled","outline"!=de.appearance)("id",de._labelId)("ngSwitch",de._hasLabel()),g.uIk("for",de._control.id)("aria-owns",de._control.id),g.xp6(2),g.Q6J("ngSwitchCase",!1),g.xp6(1),g.Q6J("ngSwitchCase",!0),g.xp6(1),g.Q6J("ngIf",!de.hideRequiredMarker&&de._control.required&&!de._control.disabled)}}function it(q,Be){1&q&&(g.TgZ(0,"div",24),g.Hsn(1,4),g.qZA())}function wt(q,Be){if(1&q&&(g.TgZ(0,"div",25),g._UZ(1,"span",26),g.qZA()),2&q){const de=g.oxw();g.xp6(1),g.ekj("mat-accent","accent"==de.color)("mat-warn","warn"==de.color)}}function yt(q,Be){if(1&q&&(g.TgZ(0,"div"),g.Hsn(1,5),g.qZA()),2&q){const de=g.oxw();g.Q6J("@transitionMessages",de._subscriptAnimationState)}}function kt(q,Be){if(1&q&&(g.TgZ(0,"div",30),g._uU(1),g.qZA()),2&q){const de=g.oxw(2);g.Q6J("id",de._hintLabelId),g.xp6(1),g.Oqu(de.hintLabel)}}function At(q,Be){if(1&q&&(g.TgZ(0,"div",27),g.YNc(1,kt,2,2,"div",28),g.Hsn(2,6),g._UZ(3,"div",29),g.Hsn(4,7),g.qZA()),2&q){const de=g.oxw();g.Q6J("@transitionMessages",de._subscriptAnimationState),g.xp6(1),g.Q6J("ngIf",de.hintLabel)}}const ct=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Xe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],et=new g.OlP("MatError"),Q={transitionMessages:(0,Ue.X$)("transitionMessages",[(0,Ue.SB)("enter",(0,Ue.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ue.eR)("void => enter",[(0,Ue.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ue.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ce=(()=>{class q{}return q.\u0275fac=function(de){return new(de||q)},q.\u0275dir=g.lG2({type:q}),q})();const Me=new g.OlP("MatHint");let Se=(()=>{class q{}return q.\u0275fac=function(de){return new(de||q)},q.\u0275dir=g.lG2({type:q,selectors:[["mat-label"]]}),q})(),Et=(()=>{class q{}return q.\u0275fac=function(de){return new(de||q)},q.\u0275dir=g.lG2({type:q,selectors:[["mat-placeholder"]]}),q})();const Jt=new g.OlP("MatPrefix"),Mn=new g.OlP("MatSuffix");let pn=0;const V=(0,fe.pj)(class{constructor(q){this._elementRef=q}},"primary"),X=new g.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),we=new g.OlP("MatFormField");let Oe=(()=>{class q extends V{constructor(de,Ke,Vt,en,ln,jn,Ln){super(de),this._changeDetectorRef=Ke,this._dir=Vt,this._defaults=en,this._platform=ln,this._ngZone=jn,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ne.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+pn++,this._labelId="mat-form-field-label-"+pn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Ln,this.appearance=en&&en.appearance?en.appearance:"legacy",this._hideRequiredMarker=!(!en||null==en.hideRequiredMarker)&&en.hideRequiredMarker}get appearance(){return this._appearance}set appearance(de){const Ke=this._appearance;this._appearance=de||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&Ke!==de&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(de){this._hideRequiredMarker=(0,h.Ig)(de)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(de){this._hintLabel=de,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(de){de!==this._floatLabel&&(this._floatLabel=de||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(de){this._explicitFormFieldControl=de}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const de=this._control;de.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${de.controlType}`),de.stateChanges.pipe((0,Re.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),de.ngControl&&de.ngControl.valueChanges&&de.ngControl.valueChanges.pipe((0,je.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,je.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,De.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Re.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Re.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,je.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(de){const Ke=this._control?this._control.ngControl:null;return Ke&&Ke[de]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,We.R)(this._label.nativeElement,"transitionend").pipe((0,lt.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let de=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&de.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ke=this._hintChildren?this._hintChildren.find(en=>"start"===en.align):null,Vt=this._hintChildren?this._hintChildren.find(en=>"end"===en.align):null;Ke?de.push(Ke.id):this._hintLabel&&de.push(this._hintLabelId),Vt&&de.push(Vt.id)}else this._errorChildren&&de.push(...this._errorChildren.map(Ke=>Ke.id));this._control.setDescribedByIds(de)}}_validateControlChild(){}updateOutlineGap(){const de=this._label?this._label.nativeElement:null,Ke=this._connectionContainerRef.nativeElement,Vt=".mat-form-field-outline-start",en=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!de||!de.children.length||!de.textContent.trim()){const on=Ke.querySelectorAll(`${Vt}, ${en}`);for(let Ci=0;Ci<on.length;Ci++)on[Ci].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let ln=0,jn=0;const Ln=Ke.querySelectorAll(Vt),ni=Ke.querySelectorAll(en);if(this._label&&this._label.nativeElement.children.length){const on=Ke.getBoundingClientRect();if(0===on.width&&0===on.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const Ci=this._getStartEnd(on),ze=de.children,$=this._getStartEnd(ze[0].getBoundingClientRect());let P=0;for(let x=0;x<ze.length;x++)P+=ze[x].offsetWidth;ln=Math.abs($-Ci)-5,jn=P>0?.75*P+10:0}for(let on=0;on<Ln.length;on++)Ln[on].style.width=`${ln}px`;for(let on=0;on<ni.length;on++)ni[on].style.width=`${jn}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(de){return this._dir&&"rtl"===this._dir.value?de.right:de.left}_isAttachedToDOM(){const de=this._elementRef.nativeElement;if(de.getRootNode){const Ke=de.getRootNode();return Ke&&Ke!==de}return document.documentElement.contains(de)}}return q.\u0275fac=function(de){return new(de||q)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(Ae.Is,8),g.Y36(X,8),g.Y36(Ft.t4),g.Y36(g.R0b),g.Y36(rt.Qb,8))},q.\u0275cmp=g.Xpm({type:q,selectors:[["mat-form-field"]],contentQueries:function(de,Ke,Vt){if(1&de&&(g.Suo(Vt,Ce,5),g.Suo(Vt,Ce,7),g.Suo(Vt,Se,5),g.Suo(Vt,Se,7),g.Suo(Vt,Et,5),g.Suo(Vt,et,5),g.Suo(Vt,Me,5),g.Suo(Vt,Jt,5),g.Suo(Vt,Mn,5)),2&de){let en;g.iGM(en=g.CRH())&&(Ke._controlNonStatic=en.first),g.iGM(en=g.CRH())&&(Ke._controlStatic=en.first),g.iGM(en=g.CRH())&&(Ke._labelChildNonStatic=en.first),g.iGM(en=g.CRH())&&(Ke._labelChildStatic=en.first),g.iGM(en=g.CRH())&&(Ke._placeholderChild=en.first),g.iGM(en=g.CRH())&&(Ke._errorChildren=en),g.iGM(en=g.CRH())&&(Ke._hintChildren=en),g.iGM(en=g.CRH())&&(Ke._prefixChildren=en),g.iGM(en=g.CRH())&&(Ke._suffixChildren=en)}},viewQuery:function(de,Ke){if(1&de&&(g.Gf(nt,7),g.Gf(pe,5),g.Gf(he,5)),2&de){let Vt;g.iGM(Vt=g.CRH())&&(Ke._connectionContainerRef=Vt.first),g.iGM(Vt=g.CRH())&&(Ke._inputContainerRef=Vt.first),g.iGM(Vt=g.CRH())&&(Ke._label=Vt.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(de,Ke){2&de&&g.ekj("mat-form-field-appearance-standard","standard"==Ke.appearance)("mat-form-field-appearance-fill","fill"==Ke.appearance)("mat-form-field-appearance-outline","outline"==Ke.appearance)("mat-form-field-appearance-legacy","legacy"==Ke.appearance)("mat-form-field-invalid",Ke._control.errorState)("mat-form-field-can-float",Ke._canLabelFloat())("mat-form-field-should-float",Ke._shouldLabelFloat())("mat-form-field-has-label",Ke._hasFloatingLabel())("mat-form-field-hide-placeholder",Ke._hideControlPlaceholder())("mat-form-field-disabled",Ke._control.disabled)("mat-form-field-autofilled",Ke._control.autofilled)("mat-focused",Ke._control.focused)("ng-untouched",Ke._shouldForward("untouched"))("ng-touched",Ke._shouldForward("touched"))("ng-pristine",Ke._shouldForward("pristine"))("ng-dirty",Ke._shouldForward("dirty"))("ng-valid",Ke._shouldForward("valid"))("ng-invalid",Ke._shouldForward("invalid"))("ng-pending",Ke._shouldForward("pending"))("_mat-animation-noopable",!Ke._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[g._Bn([{provide:we,useExisting:q}]),g.qOj],ngContentSelectors:Xe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(de,Ke){1&de&&(g.F$t(ct),g.TgZ(0,"div",0)(1,"div",1,2),g.NdJ("click",function(en){return Ke._control.onContainerClick&&Ke._control.onContainerClick(en)}),g.YNc(3,xe,9,0,"ng-container",3),g.YNc(4,Ee,2,1,"div",4),g.TgZ(5,"div",5,6),g.Hsn(7),g.TgZ(8,"span",7),g.YNc(9,Je,5,16,"label",8),g.qZA()(),g.YNc(10,it,2,0,"div",9),g.qZA(),g.YNc(11,wt,2,4,"div",10),g.TgZ(12,"div",11),g.YNc(13,yt,2,1,"div",12),g.YNc(14,At,5,2,"div",13),g.qZA()()),2&de&&(g.xp6(3),g.Q6J("ngIf","outline"==Ke.appearance),g.xp6(1),g.Q6J("ngIf",Ke._prefixChildren.length),g.xp6(5),g.Q6J("ngIf",Ke._hasFloatingLabel()),g.xp6(1),g.Q6J("ngIf",Ke._suffixChildren.length),g.xp6(1),g.Q6J("ngIf","outline"!=Ke.appearance),g.xp6(1),g.Q6J("ngSwitch",Ke._getDisplayedMessages()),g.xp6(1),g.Q6J("ngSwitchCase","error"),g.xp6(1),g.Q6J("ngSwitchCase","hint"))},directives:[se.O5,ye,se.RF,se.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Q.transitionMessages]},changeDetection:0}),q})(),Pe=(()=>{class q{}return q.\u0275fac=function(de){return new(de||q)},q.\u0275mod=g.oAB({type:q}),q.\u0275inj=g.cJS({imports:[[se.ez,fe.BQ,le],fe.BQ]}),q})()},8099:(Yt,Ye,b)=>{b.d(Ye,{Hw:()=>_t,Ps:()=>Gt});var h=b(5e3),g=b(508),C=b(3191),ne=b(9808),ge=b(9646),ve=b(2843),ke=b(4128),ye=b(727),le=b(8505),se=b(4004),fe=b(262),De=b(8746),We=b(3099),Re=b(5698),je=b(4351),lt=b(9300);class Ue{}class Ae{constructor(Ne){this.normalizedNames=new Map,this.lazyUpdate=null,Ne?this.lazyInit="string"==typeof Ne?()=>{this.headers=new Map,Ne.split("\n").forEach(_e=>{const st=_e.indexOf(":");if(st>0){const Pt=_e.slice(0,st),Kt=Pt.toLowerCase(),mn=_e.slice(st+1).trim();this.maybeSetNormalizedName(Pt,Kt),this.headers.has(Kt)?this.headers.get(Kt).push(mn):this.headers.set(Kt,[mn])}})}:()=>{this.headers=new Map,Object.keys(Ne).forEach(_e=>{let st=Ne[_e];const Pt=_e.toLowerCase();"string"==typeof st&&(st=[st]),st.length>0&&(this.headers.set(Pt,st),this.maybeSetNormalizedName(_e,Pt))})}:this.headers=new Map}has(Ne){return this.init(),this.headers.has(Ne.toLowerCase())}get(Ne){this.init();const _e=this.headers.get(Ne.toLowerCase());return _e&&_e.length>0?_e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ne){return this.init(),this.headers.get(Ne.toLowerCase())||null}append(Ne,_e){return this.clone({name:Ne,value:_e,op:"a"})}set(Ne,_e){return this.clone({name:Ne,value:_e,op:"s"})}delete(Ne,_e){return this.clone({name:Ne,value:_e,op:"d"})}maybeSetNormalizedName(Ne,_e){this.normalizedNames.has(_e)||this.normalizedNames.set(_e,Ne)}init(){this.lazyInit&&(this.lazyInit instanceof Ae?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ne=>this.applyUpdate(Ne)),this.lazyUpdate=null))}copyFrom(Ne){Ne.init(),Array.from(Ne.headers.keys()).forEach(_e=>{this.headers.set(_e,Ne.headers.get(_e)),this.normalizedNames.set(_e,Ne.normalizedNames.get(_e))})}clone(Ne){const _e=new Ae;return _e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ae?this.lazyInit:this,_e.lazyUpdate=(this.lazyUpdate||[]).concat([Ne]),_e}applyUpdate(Ne){const _e=Ne.name.toLowerCase();switch(Ne.op){case"a":case"s":let st=Ne.value;if("string"==typeof st&&(st=[st]),0===st.length)return;this.maybeSetNormalizedName(Ne.name,_e);const Pt=("a"===Ne.op?this.headers.get(_e):void 0)||[];Pt.push(...st),this.headers.set(_e,Pt);break;case"d":const Kt=Ne.value;if(Kt){let mn=this.headers.get(_e);if(!mn)return;mn=mn.filter(xn=>-1===Kt.indexOf(xn)),0===mn.length?(this.headers.delete(_e),this.normalizedNames.delete(_e)):this.headers.set(_e,mn)}else this.headers.delete(_e),this.normalizedNames.delete(_e)}}forEach(Ne){this.init(),Array.from(this.normalizedNames.keys()).forEach(_e=>Ne(this.normalizedNames.get(_e),this.headers.get(_e)))}}class Ft{encodeKey(Ne){return xe(Ne)}encodeValue(Ne){return xe(Ne)}decodeKey(Ne){return decodeURIComponent(Ne)}decodeValue(Ne){return decodeURIComponent(Ne)}}const pe=/%(\d[a-f0-9])/gi,he={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function xe(It){return encodeURIComponent(It).replace(pe,(Ne,_e)=>{var st;return null!==(st=he[_e])&&void 0!==st?st:Ne})}function Ee(It){return`${It}`}class ee{constructor(Ne={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ne.encoder||new Ft,Ne.fromString){if(Ne.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nt(It,Ne){const _e=new Map;return It.length>0&&It.replace(/^\?/,"").split("&").forEach(Pt=>{const Kt=Pt.indexOf("="),[mn,xn]=-1==Kt?[Ne.decodeKey(Pt),""]:[Ne.decodeKey(Pt.slice(0,Kt)),Ne.decodeValue(Pt.slice(Kt+1))],Fn=_e.get(mn)||[];Fn.push(xn),_e.set(mn,Fn)}),_e}(Ne.fromString,this.encoder)}else Ne.fromObject?(this.map=new Map,Object.keys(Ne.fromObject).forEach(_e=>{const st=Ne.fromObject[_e];this.map.set(_e,Array.isArray(st)?st:[st])})):this.map=null}has(Ne){return this.init(),this.map.has(Ne)}get(Ne){this.init();const _e=this.map.get(Ne);return _e?_e[0]:null}getAll(Ne){return this.init(),this.map.get(Ne)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ne,_e){return this.clone({param:Ne,value:_e,op:"a"})}appendAll(Ne){const _e=[];return Object.keys(Ne).forEach(st=>{const Pt=Ne[st];Array.isArray(Pt)?Pt.forEach(Kt=>{_e.push({param:st,value:Kt,op:"a"})}):_e.push({param:st,value:Pt,op:"a"})}),this.clone(_e)}set(Ne,_e){return this.clone({param:Ne,value:_e,op:"s"})}delete(Ne,_e){return this.clone({param:Ne,value:_e,op:"d"})}toString(){return this.init(),this.keys().map(Ne=>{const _e=this.encoder.encodeKey(Ne);return this.map.get(Ne).map(st=>_e+"="+this.encoder.encodeValue(st)).join("&")}).filter(Ne=>""!==Ne).join("&")}clone(Ne){const _e=new ee({encoder:this.encoder});return _e.cloneFrom=this.cloneFrom||this,_e.updates=(this.updates||[]).concat(Ne),_e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ne=>this.map.set(Ne,this.cloneFrom.map.get(Ne))),this.updates.forEach(Ne=>{switch(Ne.op){case"a":case"s":const _e=("a"===Ne.op?this.map.get(Ne.param):void 0)||[];_e.push(Ee(Ne.value)),this.map.set(Ne.param,_e);break;case"d":if(void 0===Ne.value){this.map.delete(Ne.param);break}{let st=this.map.get(Ne.param)||[];const Pt=st.indexOf(Ee(Ne.value));-1!==Pt&&st.splice(Pt,1),st.length>0?this.map.set(Ne.param,st):this.map.delete(Ne.param)}}}),this.cloneFrom=this.updates=null)}}class be{constructor(){this.map=new Map}set(Ne,_e){return this.map.set(Ne,_e),this}get(Ne){return this.map.has(Ne)||this.map.set(Ne,Ne.defaultValue()),this.map.get(Ne)}delete(Ne){return this.map.delete(Ne),this}has(Ne){return this.map.has(Ne)}keys(){return this.map.keys()}}function it(It){return"undefined"!=typeof ArrayBuffer&&It instanceof ArrayBuffer}function wt(It){return"undefined"!=typeof Blob&&It instanceof Blob}function yt(It){return"undefined"!=typeof FormData&&It instanceof FormData}class At{constructor(Ne,_e,st,Pt){let Kt;if(this.url=_e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ne.toUpperCase(),function Je(It){switch(It){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Pt?(this.body=void 0!==st?st:null,Kt=Pt):Kt=st,Kt&&(this.reportProgress=!!Kt.reportProgress,this.withCredentials=!!Kt.withCredentials,Kt.responseType&&(this.responseType=Kt.responseType),Kt.headers&&(this.headers=Kt.headers),Kt.context&&(this.context=Kt.context),Kt.params&&(this.params=Kt.params)),this.headers||(this.headers=new Ae),this.context||(this.context=new be),this.params){const mn=this.params.toString();if(0===mn.length)this.urlWithParams=_e;else{const xn=_e.indexOf("?");this.urlWithParams=_e+(-1===xn?"?":xn<_e.length-1?"&":"")+mn}}else this.params=new ee,this.urlWithParams=_e}serializeBody(){return null===this.body?null:it(this.body)||wt(this.body)||yt(this.body)||function kt(It){return"undefined"!=typeof URLSearchParams&&It instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ee?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yt(this.body)?null:wt(this.body)?this.body.type||null:it(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ee?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ne={}){var _e;const st=Ne.method||this.method,Pt=Ne.url||this.url,Kt=Ne.responseType||this.responseType,mn=void 0!==Ne.body?Ne.body:this.body,xn=void 0!==Ne.withCredentials?Ne.withCredentials:this.withCredentials,Fn=void 0!==Ne.reportProgress?Ne.reportProgress:this.reportProgress;let Hn=Ne.headers||this.headers,tn=Ne.params||this.params;const Sn=null!==(_e=Ne.context)&&void 0!==_e?_e:this.context;return void 0!==Ne.setHeaders&&(Hn=Object.keys(Ne.setHeaders).reduce((ai,Mi)=>ai.set(Mi,Ne.setHeaders[Mi]),Hn)),Ne.setParams&&(tn=Object.keys(Ne.setParams).reduce((ai,Mi)=>ai.set(Mi,Ne.setParams[Mi]),tn)),new At(st,Pt,mn,{params:tn,headers:Hn,context:Sn,reportProgress:Fn,responseType:Kt,withCredentials:xn})}}var ct=(()=>((ct=ct||{})[ct.Sent=0]="Sent",ct[ct.UploadProgress=1]="UploadProgress",ct[ct.ResponseHeader=2]="ResponseHeader",ct[ct.DownloadProgress=3]="DownloadProgress",ct[ct.Response=4]="Response",ct[ct.User=5]="User",ct))();class et extends class Xe{constructor(Ne,_e=200,st="OK"){this.headers=Ne.headers||new Ae,this.status=void 0!==Ne.status?Ne.status:_e,this.statusText=Ne.statusText||st,this.url=Ne.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(Ne={}){super(Ne),this.type=ct.Response,this.body=void 0!==Ne.body?Ne.body:null}clone(Ne={}){return new et({body:void 0!==Ne.body?Ne.body:this.body,headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}function Q(It,Ne){return{body:Ne,headers:It.headers,context:It.context,observe:It.observe,params:It.params,reportProgress:It.reportProgress,responseType:It.responseType,withCredentials:It.withCredentials}}let Ce=(()=>{class It{constructor(_e){this.handler=_e}request(_e,st,Pt={}){let Kt;if(_e instanceof At)Kt=_e;else{let Fn,Hn;Fn=Pt.headers instanceof Ae?Pt.headers:new Ae(Pt.headers),Pt.params&&(Hn=Pt.params instanceof ee?Pt.params:new ee({fromObject:Pt.params})),Kt=new At(_e,st,void 0!==Pt.body?Pt.body:null,{headers:Fn,context:Pt.context,params:Hn,reportProgress:Pt.reportProgress,responseType:Pt.responseType||"json",withCredentials:Pt.withCredentials})}const mn=(0,ge.of)(Kt).pipe((0,je.b)(Fn=>this.handler.handle(Fn)));if(_e instanceof At||"events"===Pt.observe)return mn;const xn=mn.pipe((0,lt.h)(Fn=>Fn instanceof et));switch(Pt.observe||"body"){case"body":switch(Kt.responseType){case"arraybuffer":return xn.pipe((0,se.U)(Fn=>{if(null!==Fn.body&&!(Fn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Fn.body}));case"blob":return xn.pipe((0,se.U)(Fn=>{if(null!==Fn.body&&!(Fn.body instanceof Blob))throw new Error("Response is not a Blob.");return Fn.body}));case"text":return xn.pipe((0,se.U)(Fn=>{if(null!==Fn.body&&"string"!=typeof Fn.body)throw new Error("Response is not a string.");return Fn.body}));default:return xn.pipe((0,se.U)(Fn=>Fn.body))}case"response":return xn;default:throw new Error(`Unreachable: unhandled observe type ${Pt.observe}}`)}}delete(_e,st={}){return this.request("DELETE",_e,st)}get(_e,st={}){return this.request("GET",_e,st)}head(_e,st={}){return this.request("HEAD",_e,st)}jsonp(_e,st){return this.request("JSONP",_e,{params:(new ee).append(st,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(_e,st={}){return this.request("OPTIONS",_e,st)}patch(_e,st,Pt={}){return this.request("PATCH",_e,Q(Pt,st))}post(_e,st,Pt={}){return this.request("POST",_e,Q(Pt,st))}put(_e,st,Pt={}){return this.request("PUT",_e,Q(Pt,st))}}return It.\u0275fac=function(_e){return new(_e||It)(h.LFG(Ue))},It.\u0275prov=h.Yz7({token:It,factory:It.\u0275fac}),It})();var ln=b(2313);const jn=["*"];let Ln;function on(It){var Ne;return(null===(Ne=function ni(){if(void 0===Ln&&(Ln=null,"undefined"!=typeof window)){const It=window;void 0!==It.trustedTypes&&(Ln=It.trustedTypes.createPolicy("angular#components",{createHTML:Ne=>Ne}))}return Ln}())||void 0===Ne?void 0:Ne.createHTML(It))||It}function Ci(It){return Error(`Unable to find icon with the name "${It}"`)}function $(It){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${It}".`)}function P(It){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${It}".`)}class x{constructor(Ne,_e,st){this.url=Ne,this.svgText=_e,this.options=st}}let G=(()=>{class It{constructor(_e,st,Pt,Kt){this._httpClient=_e,this._sanitizer=st,this._errorHandler=Kt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=Pt}addSvgIcon(_e,st,Pt){return this.addSvgIconInNamespace("",_e,st,Pt)}addSvgIconLiteral(_e,st,Pt){return this.addSvgIconLiteralInNamespace("",_e,st,Pt)}addSvgIconInNamespace(_e,st,Pt,Kt){return this._addSvgIconConfig(_e,st,new x(Pt,null,Kt))}addSvgIconResolver(_e){return this._resolvers.push(_e),this}addSvgIconLiteralInNamespace(_e,st,Pt,Kt){const mn=this._sanitizer.sanitize(h.q3G.HTML,Pt);if(!mn)throw P(Pt);const xn=on(mn);return this._addSvgIconConfig(_e,st,new x("",xn,Kt))}addSvgIconSet(_e,st){return this.addSvgIconSetInNamespace("",_e,st)}addSvgIconSetLiteral(_e,st){return this.addSvgIconSetLiteralInNamespace("",_e,st)}addSvgIconSetInNamespace(_e,st,Pt){return this._addSvgIconSetConfig(_e,new x(st,null,Pt))}addSvgIconSetLiteralInNamespace(_e,st,Pt){const Kt=this._sanitizer.sanitize(h.q3G.HTML,st);if(!Kt)throw P(st);const mn=on(Kt);return this._addSvgIconSetConfig(_e,new x("",mn,Pt))}registerFontClassAlias(_e,st=_e){return this._fontCssClassesByAlias.set(_e,st),this}classNameForFontAlias(_e){return this._fontCssClassesByAlias.get(_e)||_e}setDefaultFontSetClass(_e){return this._defaultFontSetClass=_e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(_e){const st=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,_e);if(!st)throw $(_e);const Pt=this._cachedIconsByUrl.get(st);return Pt?(0,ge.of)(Wt(Pt)):this._loadSvgIconFromConfig(new x(_e,null)).pipe((0,le.b)(Kt=>this._cachedIconsByUrl.set(st,Kt)),(0,se.U)(Kt=>Wt(Kt)))}getNamedSvgIcon(_e,st=""){const Pt=Pn(st,_e);let Kt=this._svgIconConfigs.get(Pt);if(Kt)return this._getSvgFromConfig(Kt);if(Kt=this._getIconConfigFromResolvers(st,_e),Kt)return this._svgIconConfigs.set(Pt,Kt),this._getSvgFromConfig(Kt);const mn=this._iconSetConfigs.get(st);return mn?this._getSvgFromIconSetConfigs(_e,mn):(0,ve._)(Ci(Pt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(_e){return _e.svgText?(0,ge.of)(Wt(this._svgElementFromConfig(_e))):this._loadSvgIconFromConfig(_e).pipe((0,se.U)(st=>Wt(st)))}_getSvgFromIconSetConfigs(_e,st){const Pt=this._extractIconWithNameFromAnySet(_e,st);if(Pt)return(0,ge.of)(Pt);const Kt=st.filter(mn=>!mn.svgText).map(mn=>this._loadSvgIconSetFromConfig(mn).pipe((0,fe.K)(xn=>{const Hn=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,mn.url)} failed: ${xn.message}`;return this._errorHandler.handleError(new Error(Hn)),(0,ge.of)(null)})));return(0,ke.D)(Kt).pipe((0,se.U)(()=>{const mn=this._extractIconWithNameFromAnySet(_e,st);if(!mn)throw Ci(_e);return mn}))}_extractIconWithNameFromAnySet(_e,st){for(let Pt=st.length-1;Pt>=0;Pt--){const Kt=st[Pt];if(Kt.svgText&&Kt.svgText.toString().indexOf(_e)>-1){const mn=this._svgElementFromConfig(Kt),xn=this._extractSvgIconFromSet(mn,_e,Kt.options);if(xn)return xn}}return null}_loadSvgIconFromConfig(_e){return this._fetchIcon(_e).pipe((0,le.b)(st=>_e.svgText=st),(0,se.U)(()=>this._svgElementFromConfig(_e)))}_loadSvgIconSetFromConfig(_e){return _e.svgText?(0,ge.of)(null):this._fetchIcon(_e).pipe((0,le.b)(st=>_e.svgText=st))}_extractSvgIconFromSet(_e,st,Pt){const Kt=_e.querySelector(`[id="${st}"]`);if(!Kt)return null;const mn=Kt.cloneNode(!0);if(mn.removeAttribute("id"),"svg"===mn.nodeName.toLowerCase())return this._setSvgAttributes(mn,Pt);if("symbol"===mn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(mn),Pt);const xn=this._svgElementFromString(on("<svg></svg>"));return xn.appendChild(mn),this._setSvgAttributes(xn,Pt)}_svgElementFromString(_e){const st=this._document.createElement("DIV");st.innerHTML=_e;const Pt=st.querySelector("svg");if(!Pt)throw Error("<svg> tag not found");return Pt}_toSvgElement(_e){const st=this._svgElementFromString(on("<svg></svg>")),Pt=_e.attributes;for(let Kt=0;Kt<Pt.length;Kt++){const{name:mn,value:xn}=Pt[Kt];"id"!==mn&&st.setAttribute(mn,xn)}for(let Kt=0;Kt<_e.childNodes.length;Kt++)_e.childNodes[Kt].nodeType===this._document.ELEMENT_NODE&&st.appendChild(_e.childNodes[Kt].cloneNode(!0));return st}_setSvgAttributes(_e,st){return _e.setAttribute("fit",""),_e.setAttribute("height","100%"),_e.setAttribute("width","100%"),_e.setAttribute("preserveAspectRatio","xMidYMid meet"),_e.setAttribute("focusable","false"),st&&st.viewBox&&_e.setAttribute("viewBox",st.viewBox),_e}_fetchIcon(_e){var st;const{url:Pt,options:Kt}=_e,mn=null!==(st=null==Kt?void 0:Kt.withCredentials)&&void 0!==st&&st;if(!this._httpClient)throw function ze(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Pt)throw Error(`Cannot fetch icon from URL "${Pt}".`);const xn=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,Pt);if(!xn)throw $(Pt);const Fn=this._inProgressUrlFetches.get(xn);if(Fn)return Fn;const Hn=this._httpClient.get(xn,{responseType:"text",withCredentials:mn}).pipe((0,se.U)(tn=>on(tn)),(0,De.x)(()=>this._inProgressUrlFetches.delete(xn)),(0,We.B)());return this._inProgressUrlFetches.set(xn,Hn),Hn}_addSvgIconConfig(_e,st,Pt){return this._svgIconConfigs.set(Pn(_e,st),Pt),this}_addSvgIconSetConfig(_e,st){const Pt=this._iconSetConfigs.get(_e);return Pt?Pt.push(st):this._iconSetConfigs.set(_e,[st]),this}_svgElementFromConfig(_e){if(!_e.svgElement){const st=this._svgElementFromString(_e.svgText);this._setSvgAttributes(st,_e.options),_e.svgElement=st}return _e.svgElement}_getIconConfigFromResolvers(_e,st){for(let Pt=0;Pt<this._resolvers.length;Pt++){const Kt=this._resolvers[Pt](st,_e);if(Kt)return Nn(Kt)?new x(Kt.url,null,Kt.options):new x(Kt,null)}}}return It.\u0275fac=function(_e){return new(_e||It)(h.LFG(Ce,8),h.LFG(ln.H7),h.LFG(ne.K0,8),h.LFG(h.qLn))},It.\u0275prov=h.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();function Wt(It){return It.cloneNode(!0)}function Pn(It,Ne){return It+":"+Ne}function Nn(It){return!(!It.url||!It.options)}const oi=(0,g.pj)(class{constructor(It){this._elementRef=It}}),vn=new h.OlP("mat-icon-location",{providedIn:"root",factory:function bi(){const It=(0,h.f3M)(ne.K0),Ne=It?It.location:null;return{getPathname:()=>Ne?Ne.pathname+Ne.search:""}}}),Dt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],at=Dt.map(It=>`[${It}]`).join(", "),Ve=/^url\(['"]?#(.*?)['"]?\)$/;let _t=(()=>{class It extends oi{constructor(_e,st,Pt,Kt,mn){super(_e),this._iconRegistry=st,this._location=Kt,this._errorHandler=mn,this._inline=!1,this._currentIconFetch=ye.w0.EMPTY,Pt||_e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(_e){this._inline=(0,C.Ig)(_e)}get svgIcon(){return this._svgIcon}set svgIcon(_e){_e!==this._svgIcon&&(_e?this._updateSvgIcon(_e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=_e)}get fontSet(){return this._fontSet}set fontSet(_e){const st=this._cleanupFontValue(_e);st!==this._fontSet&&(this._fontSet=st,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(_e){const st=this._cleanupFontValue(_e);st!==this._fontIcon&&(this._fontIcon=st,this._updateFontIconClasses())}_splitIconName(_e){if(!_e)return["",""];const st=_e.split(":");switch(st.length){case 1:return["",st[0]];case 2:return st;default:throw Error(`Invalid icon name: "${_e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const _e=this._elementsWithExternalReferences;if(_e&&_e.size){const st=this._location.getPathname();st!==this._previousPath&&(this._previousPath=st,this._prependPathToReferences(st))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(_e){this._clearSvgElement();const st=this._location.getPathname();this._previousPath=st,this._cacheChildrenWithExternalReferences(_e),this._prependPathToReferences(st),this._elementRef.nativeElement.appendChild(_e)}_clearSvgElement(){const _e=this._elementRef.nativeElement;let st=_e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();st--;){const Pt=_e.childNodes[st];(1!==Pt.nodeType||"svg"===Pt.nodeName.toLowerCase())&&Pt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const _e=this._elementRef.nativeElement,st=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();st!=this._previousFontSetClass&&(this._previousFontSetClass&&_e.classList.remove(this._previousFontSetClass),st&&_e.classList.add(st),this._previousFontSetClass=st),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&_e.classList.remove(this._previousFontIconClass),this.fontIcon&&_e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(_e){return"string"==typeof _e?_e.trim().split(" ")[0]:_e}_prependPathToReferences(_e){const st=this._elementsWithExternalReferences;st&&st.forEach((Pt,Kt)=>{Pt.forEach(mn=>{Kt.setAttribute(mn.name,`url('${_e}#${mn.value}')`)})})}_cacheChildrenWithExternalReferences(_e){const st=_e.querySelectorAll(at),Pt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Kt=0;Kt<st.length;Kt++)Dt.forEach(mn=>{const xn=st[Kt],Fn=xn.getAttribute(mn),Hn=Fn?Fn.match(Ve):null;if(Hn){let tn=Pt.get(xn);tn||(tn=[],Pt.set(xn,tn)),tn.push({name:mn,value:Hn[1]})}})}_updateSvgIcon(_e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),_e){const[st,Pt]=this._splitIconName(_e);st&&(this._svgNamespace=st),Pt&&(this._svgName=Pt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Pt,st).pipe((0,Re.q)(1)).subscribe(Kt=>this._setSvgElement(Kt),Kt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${st}:${Pt}! ${Kt.message}`))})}}}return It.\u0275fac=function(_e){return new(_e||It)(h.Y36(h.SBq),h.Y36(G),h.$8M("aria-hidden"),h.Y36(vn),h.Y36(h.qLn))},It.\u0275cmp=h.Xpm({type:It,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(_e,st){2&_e&&(h.uIk("data-mat-icon-type",st._usingFontIcon()?"font":"svg")("data-mat-icon-name",st._svgName||st.fontIcon)("data-mat-icon-namespace",st._svgNamespace||st.fontSet),h.ekj("mat-icon-inline",st.inline)("mat-icon-no-color","primary"!==st.color&&"accent"!==st.color&&"warn"!==st.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:jn,decls:1,vars:0,template:function(_e,st){1&_e&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),It})(),Gt=(()=>{class It{}return It.\u0275fac=function(_e){return new(_e||It)},It.\u0275mod=h.oAB({type:It}),It.\u0275inj=h.cJS({imports:[[g.BQ],g.BQ]}),It})()},4623:(Yt,Ye,b)=>{b.d(Ye,{i$:()=>ee,Tg:()=>it,ie:()=>$e});var h=b(9808),g=b(5e3),C=b(508),ne=b(3191),ge=b(7579),ve=b(2722),De=(b(8675),b(5664),b(449),b(1159),b(3075),b(4834));const We=["*"],je=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],lt=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],nt=(0,C.Id)((0,C.Kr)(class{})),pe=(0,C.Kr)(class{}),he=new g.OlP("MatList"),xe=new g.OlP("MatNavList");let ee=(()=>{class et extends nt{constructor(Q){super(),this._elementRef=Q,this._stateChanges=new ge.x,"action-list"===this._getListType()&&Q.nativeElement.classList.add("mat-action-list")}_getListType(){const Q=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===Q?"list":"mat-action-list"===Q?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return et.\u0275fac=function(Q){return new(Q||et)(g.Y36(g.SBq))},et.\u0275cmp=g.Xpm({type:et,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[g._Bn([{provide:he,useExisting:et}]),g.qOj,g.TTD],ngContentSelectors:We,decls:1,vars:0,template:function(Q,Ce){1&Q&&(g.F$t(),g.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),et})(),Ge=(()=>{class et{}return et.\u0275fac=function(Q){return new(Q||et)},et.\u0275dir=g.lG2({type:et,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),et})(),be=(()=>{class et{}return et.\u0275fac=function(Q){return new(Q||et)},et.\u0275dir=g.lG2({type:et,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),et})(),it=(()=>{class et extends pe{constructor(Q,Ce,Bt,bt){super(),this._element=Q,this._isInteractiveList=!1,this._destroyed=new ge.x,this._disabled=!1,this._isInteractiveList=!!(Bt||bt&&"action-list"===bt._getListType()),this._list=Bt||bt;const pt=this._getHostElement();"button"===pt.nodeName.toLowerCase()&&!pt.hasAttribute("type")&&pt.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,ve.R)(this._destroyed)).subscribe(()=>{Ce.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(Q){this._disabled=(0,ne.Ig)(Q)}ngAfterContentInit(){(0,C.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return et.\u0275fac=function(Q){return new(Q||et)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(xe,8),g.Y36(he,8))},et.\u0275cmp=g.Xpm({type:et,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(Q,Ce,Bt){if(1&Q&&(g.Suo(Bt,Ge,5),g.Suo(Bt,be,5),g.Suo(Bt,C.X2,5)),2&Q){let bt;g.iGM(bt=g.CRH())&&(Ce._avatar=bt.first),g.iGM(bt=g.CRH())&&(Ce._icon=bt.first),g.iGM(bt=g.CRH())&&(Ce._lines=bt)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(Q,Ce){2&Q&&g.ekj("mat-list-item-disabled",Ce.disabled)("mat-list-item-avatar",Ce._avatar||Ce._icon)("mat-list-item-with-avatar",Ce._avatar||Ce._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[g.qOj],ngContentSelectors:lt,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(Q,Ce){1&Q&&(g.F$t(je),g.TgZ(0,"span",0),g._UZ(1,"span",1),g.Hsn(2),g.TgZ(3,"span",2),g.Hsn(4,1),g.qZA(),g.Hsn(5,2),g.qZA()),2&Q&&(g.xp6(1),g.Q6J("matRippleTrigger",Ce._getHostElement())("matRippleDisabled",Ce._isRippleDisabled()))},directives:[C.wG],encapsulation:2,changeDetection:0}),et})(),$e=(()=>{class et{}return et.\u0275fac=function(Q){return new(Q||et)},et.\u0275mod=g.oAB({type:et}),et.\u0275inj=g.cJS({imports:[[C.uc,C.si,C.BQ,C.us,h.ez],C.uc,C.BQ,C.us,De.t]}),et})()},4107:(Yt,Ye,b)=>{b.d(Ye,{gD:()=>un,LD:()=>pn});var h=b(9776),g=b(9808),C=b(5e3),ne=b(508),ge=b(4106),ve=b(5494),ke=b(5664),ye=b(3191),le=b(449),se=b(1159),fe=b(3075),De=b(7579),We=b(9770),Re=b(6451),je=b(8675),lt=b(3900),Ue=b(5698),rt=b(9300),Ae=b(4004),Ft=b(1884),nt=b(2722),pe=b(1777),he=b(226);const xe=["trigger"],Ee=["panel"];function ee(dn,ft){if(1&dn&&(C.TgZ(0,"span",8),C._uU(1),C.qZA()),2&dn){const V=C.oxw();C.xp6(1),C.Oqu(V.placeholder)}}function Ge(dn,ft){if(1&dn&&(C.TgZ(0,"span",12),C._uU(1),C.qZA()),2&dn){const V=C.oxw(2);C.xp6(1),C.Oqu(V.triggerValue)}}function be(dn,ft){1&dn&&C.Hsn(0,0,["*ngSwitchCase","true"])}function Je(dn,ft){if(1&dn&&(C.TgZ(0,"span",9),C.YNc(1,Ge,2,1,"span",10),C.YNc(2,be,1,0,"ng-content",11),C.qZA()),2&dn){const V=C.oxw();C.Q6J("ngSwitch",!!V.customTrigger),C.xp6(2),C.Q6J("ngSwitchCase",!0)}}function it(dn,ft){if(1&dn){const V=C.EpF();C.TgZ(0,"div",13)(1,"div",14,15),C.NdJ("@transformPanel.done",function(we){return C.CHM(V),C.oxw()._panelDoneAnimatingStream.next(we.toState)})("keydown",function(we){return C.CHM(V),C.oxw()._handleKeydown(we)}),C.Hsn(3,1),C.qZA()()}if(2&dn){const V=C.oxw();C.Q6J("@transformPanelWrap",void 0),C.xp6(1),C.Gre("mat-select-panel ",V._getPanelTheme(),""),C.Udp("transform-origin",V._transformOrigin)("font-size",V._triggerFontSize,"px"),C.Q6J("ngClass",V.panelClass)("@transformPanel",V.multiple?"showing-multiple":"showing"),C.uIk("id",V.id+"-panel")("aria-multiselectable",V.multiple)("aria-label",V.ariaLabel||null)("aria-labelledby",V._getPanelAriaLabelledby())}}const wt=[[["mat-select-trigger"]],"*"],yt=["mat-select-trigger","*"],kt={transformPanelWrap:(0,pe.X$)("transformPanelWrap",[(0,pe.eR)("* => void",(0,pe.IO)("@transformPanel",[(0,pe.pV)()],{optional:!0}))]),transformPanel:(0,pe.X$)("transformPanel",[(0,pe.SB)("void",(0,pe.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,pe.SB)("showing",(0,pe.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,pe.SB)("showing-multiple",(0,pe.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,pe.eR)("void => *",(0,pe.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,pe.eR)("* => void",(0,pe.jt)("100ms 25ms linear",(0,pe.oB)({opacity:0})))])};let $e=0;const pt=new C.OlP("mat-select-scroll-strategy"),Me=new C.OlP("MAT_SELECT_CONFIG"),vt={provide:pt,deps:[h.aV],useFactory:function ht(dn){return()=>dn.scrollStrategies.reposition()}};class Se{constructor(ft,V){this.source=ft,this.value=V}}const Et=(0,ne.Kr)((0,ne.sb)((0,ne.Id)((0,ne.FD)(class{constructor(dn,ft,V,X,we){this._elementRef=dn,this._defaultErrorStateMatcher=ft,this._parentForm=V,this._parentFormGroup=X,this.ngControl=we}})))),Jt=new C.OlP("MatSelectTrigger");let Mn=(()=>{class dn extends Et{constructor(V,X,we,Oe,Pe,q,Be,de,Ke,Vt,en,ln,jn,Ln){var ni,on,Ci;super(Pe,Oe,Be,de,Vt),this._viewportRuler=V,this._changeDetectorRef=X,this._ngZone=we,this._dir=q,this._parentFormField=Ke,this._liveAnnouncer=jn,this._defaultOptions=Ln,this._panelOpen=!1,this._compareWith=(ze,$)=>ze===$,this._uid="mat-select-"+$e++,this._triggerAriaLabelledBy=null,this._destroy=new De.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+$e++,this._panelDoneAnimatingStream=new De.x,this._overlayPanelClass=(null===(ni=this._defaultOptions)||void 0===ni?void 0:ni.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ci=null===(on=this._defaultOptions)||void 0===on?void 0:on.disableOptionCentering)&&void 0!==Ci&&Ci,this.ariaLabel="",this.optionSelectionChanges=(0,We.P)(()=>{const ze=this.options;return ze?ze.changes.pipe((0,je.O)(ze),(0,lt.w)(()=>(0,Re.T)(...ze.map($=>$.onSelectionChange)))):this._ngZone.onStable.pipe((0,Ue.q)(1),(0,lt.w)(()=>this.optionSelectionChanges))}),this.openedChange=new C.vpe,this._openedStream=this.openedChange.pipe((0,rt.h)(ze=>ze),(0,Ae.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,rt.h)(ze=>!ze),(0,Ae.U)(()=>{})),this.selectionChange=new C.vpe,this.valueChange=new C.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Ln?void 0:Ln.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Ln.typeaheadDebounceInterval),this._scrollStrategyFactory=ln,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(en)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(V){this._placeholder=V,this.stateChanges.next()}get required(){var V,X,we,Oe;return null!==(Oe=null!==(V=this._required)&&void 0!==V?V:null===(we=null===(X=this.ngControl)||void 0===X?void 0:X.control)||void 0===we?void 0:we.hasValidator(fe.kI.required))&&void 0!==Oe&&Oe}set required(V){this._required=(0,ye.Ig)(V),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(V){this._multiple=(0,ye.Ig)(V)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(V){this._disableOptionCentering=(0,ye.Ig)(V)}get compareWith(){return this._compareWith}set compareWith(V){this._compareWith=V,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(V){this._assignValue(V)&&this._onChange(V)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(V){this._typeaheadDebounceInterval=(0,ye.su)(V)}get id(){return this._id}set id(V){this._id=V||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new le.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Ft.x)(),(0,nt.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,nt.R)(this._destroy)).subscribe(V=>{V.added.forEach(X=>X.select()),V.removed.forEach(X=>X.deselect())}),this.options.changes.pipe((0,je.O)(null),(0,nt.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const V=this._getTriggerAriaLabelledby(),X=this.ngControl;if(V!==this._triggerAriaLabelledBy){const we=this._elementRef.nativeElement;this._triggerAriaLabelledBy=V,V?we.setAttribute("aria-labelledby",V):we.removeAttribute("aria-labelledby")}X&&(this._previousControl!==X.control&&(void 0!==this._previousControl&&null!==X.disabled&&X.disabled!==this.disabled&&(this.disabled=X.disabled),this._previousControl=X.control),this.updateErrorState())}ngOnChanges(V){V.disabled&&this.stateChanges.next(),V.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(V){this._assignValue(V)}registerOnChange(V){this._onChange=V}registerOnTouched(V){this._onTouched=V}setDisabledState(V){this.disabled=V,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var V,X;return this.multiple?(null===(V=this._selectionModel)||void 0===V?void 0:V.selected)||[]:null===(X=this._selectionModel)||void 0===X?void 0:X.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const V=this._selectionModel.selected.map(X=>X.viewValue);return this._isRtl()&&V.reverse(),V.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(V){this.disabled||(this.panelOpen?this._handleOpenKeydown(V):this._handleClosedKeydown(V))}_handleClosedKeydown(V){const X=V.keyCode,we=X===se.JH||X===se.LH||X===se.oh||X===se.SV,Oe=X===se.K5||X===se.L_,Pe=this._keyManager;if(!Pe.isTyping()&&Oe&&!(0,se.Vb)(V)||(this.multiple||V.altKey)&&we)V.preventDefault(),this.open();else if(!this.multiple){const q=this.selected;Pe.onKeydown(V);const Be=this.selected;Be&&q!==Be&&this._liveAnnouncer.announce(Be.viewValue,1e4)}}_handleOpenKeydown(V){const X=this._keyManager,we=V.keyCode,Oe=we===se.JH||we===se.LH,Pe=X.isTyping();if(Oe&&V.altKey)V.preventDefault(),this.close();else if(Pe||we!==se.K5&&we!==se.L_||!X.activeItem||(0,se.Vb)(V))if(!Pe&&this._multiple&&we===se.A&&V.ctrlKey){V.preventDefault();const q=this.options.some(Be=>!Be.disabled&&!Be.selected);this.options.forEach(Be=>{Be.disabled||(q?Be.select():Be.deselect())})}else{const q=X.activeItemIndex;X.onKeydown(V),this._multiple&&Oe&&V.shiftKey&&X.activeItem&&X.activeItemIndex!==q&&X.activeItem._selectViaInteraction()}else V.preventDefault(),X.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Ue.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(V){if(this._selectionModel.selected.forEach(X=>X.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&V)Array.isArray(V),V.forEach(X=>this._selectOptionByValue(X)),this._sortValues();else{const X=this._selectOptionByValue(V);X?this._keyManager.updateActiveItem(X):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(V){const X=this.options.find(we=>{if(this._selectionModel.isSelected(we))return!1;try{return null!=we.value&&this._compareWith(we.value,V)}catch(Oe){return!1}});return X&&this._selectionModel.select(X),X}_assignValue(V){return!!(V!==this._value||this._multiple&&Array.isArray(V))&&(this.options&&this._setSelectionByValue(V),this._value=V,!0)}_initKeyManager(){this._keyManager=new ke.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,nt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,nt.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const V=(0,Re.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,nt.R)(V)).subscribe(X=>{this._onSelect(X.source,X.isUserInput),X.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Re.T)(...this.options.map(X=>X._stateChanges)).pipe((0,nt.R)(V)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(V,X){const we=this._selectionModel.isSelected(V);null!=V.value||this._multiple?(we!==V.selected&&(V.selected?this._selectionModel.select(V):this._selectionModel.deselect(V)),X&&this._keyManager.setActiveItem(V),this.multiple&&(this._sortValues(),X&&this.focus())):(V.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(V.value)),we!==this._selectionModel.isSelected(V)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const V=this.options.toArray();this._selectionModel.sort((X,we)=>this.sortComparator?this.sortComparator(X,we,V):V.indexOf(X)-V.indexOf(we)),this.stateChanges.next()}}_propagateChanges(V){let X=null;X=this.multiple?this.selected.map(we=>we.value):this.selected?this.selected.value:V,this._value=X,this.valueChange.emit(X),this._onChange(X),this.selectionChange.emit(this._getChangeEvent(X)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var V;return!this._panelOpen&&!this.disabled&&(null===(V=this.options)||void 0===V?void 0:V.length)>0}focus(V){this._elementRef.nativeElement.focus(V)}_getPanelAriaLabelledby(){var V;if(this.ariaLabel)return null;const X=null===(V=this._parentFormField)||void 0===V?void 0:V.getLabelId();return this.ariaLabelledby?(X?X+" ":"")+this.ariaLabelledby:X}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var V;if(this.ariaLabel)return null;const X=null===(V=this._parentFormField)||void 0===V?void 0:V.getLabelId();let we=(X?X+" ":"")+this._valueId;return this.ariaLabelledby&&(we+=" "+this.ariaLabelledby),we}_panelDoneAnimating(V){this.openedChange.emit(V)}setDescribedByIds(V){this._ariaDescribedby=V.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return dn.\u0275fac=function(V){return new(V||dn)(C.Y36(ve.rL),C.Y36(C.sBO),C.Y36(C.R0b),C.Y36(ne.rD),C.Y36(C.SBq),C.Y36(he.Is,8),C.Y36(fe.F,8),C.Y36(fe.sg,8),C.Y36(ge.G_,8),C.Y36(fe.a5,10),C.$8M("tabindex"),C.Y36(pt),C.Y36(ke.Kd),C.Y36(Me,8))},dn.\u0275dir=C.lG2({type:dn,viewQuery:function(V,X){if(1&V&&(C.Gf(xe,5),C.Gf(Ee,5),C.Gf(h.pI,5)),2&V){let we;C.iGM(we=C.CRH())&&(X.trigger=we.first),C.iGM(we=C.CRH())&&(X.panel=we.first),C.iGM(we=C.CRH())&&(X._overlayDir=we.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[C.qOj,C.TTD]}),dn})(),un=(()=>{class dn extends Mn{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(V,X,we){const Oe=this._getItemHeight();return Math.min(Math.max(0,Oe*V-X+Oe/2),we)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,nt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Ue.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(V){const X=(0,ne.CB)(V,this.options,this.optionGroups),we=this._getItemHeight();this.panel.nativeElement.scrollTop=0===V&&1===X?0:(0,ne.jH)((V+X)*we,we,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(V){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(V)}_getChangeEvent(V){return new Se(this,V)}_calculateOverlayOffsetX(){const V=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),X=this._viewportRuler.getViewportSize(),we=this._isRtl(),Oe=this.multiple?56:32;let Pe;if(this.multiple)Pe=40;else if(this.disableOptionCentering)Pe=16;else{let de=this._selectionModel.selected[0]||this.options.first;Pe=de&&de.group?32:16}we||(Pe*=-1);const q=0-(V.left+Pe-(we?Oe:0)),Be=V.right+Pe-X.width+(we?0:Oe);q>0?Pe+=q+8:Be>0&&(Pe-=Be+8),this._overlayDir.offsetX=Math.round(Pe),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(V,X,we){const Oe=this._getItemHeight(),Pe=(Oe-this._triggerRect.height)/2,q=Math.floor(256/Oe);let Be;return this.disableOptionCentering?0:(Be=0===this._scrollTop?V*Oe:this._scrollTop===we?(V-(this._getItemCount()-q))*Oe+(Oe-(this._getItemCount()*Oe-256)%Oe):X-Oe/2,Math.round(-1*Be-Pe))}_checkOverlayWithinViewport(V){const X=this._getItemHeight(),we=this._viewportRuler.getViewportSize(),Oe=this._triggerRect.top-8,Pe=we.height-this._triggerRect.bottom-8,q=Math.abs(this._offsetY),de=Math.min(this._getItemCount()*X,256)-q-this._triggerRect.height;de>Pe?this._adjustPanelUp(de,Pe):q>Oe?this._adjustPanelDown(q,Oe,V):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(V,X){const we=Math.round(V-X);this._scrollTop-=we,this._offsetY-=we,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(V,X,we){const Oe=Math.round(V-X);if(this._scrollTop+=Oe,this._offsetY+=Oe,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=we)return this._scrollTop=we,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const V=this._getItemHeight(),X=this._getItemCount(),we=Math.min(X*V,256),Pe=X*V-we;let q;q=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),q+=(0,ne.CB)(q,this.options,this.optionGroups);const Be=we/2;this._scrollTop=this._calculateOverlayScroll(q,Be,Pe),this._offsetY=this._calculateOverlayOffsetY(q,Be,Pe),this._checkOverlayWithinViewport(Pe)}_getOriginBasedOnOption(){const V=this._getItemHeight(),X=(V-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-X+V/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return dn.\u0275fac=function(){let ft;return function(X){return(ft||(ft=C.n5z(dn)))(X||dn)}}(),dn.\u0275cmp=C.Xpm({type:dn,selectors:[["mat-select"]],contentQueries:function(V,X,we){if(1&V&&(C.Suo(we,Jt,5),C.Suo(we,ne.ey,5),C.Suo(we,ne.K7,5)),2&V){let Oe;C.iGM(Oe=C.CRH())&&(X.customTrigger=Oe.first),C.iGM(Oe=C.CRH())&&(X.options=Oe),C.iGM(Oe=C.CRH())&&(X.optionGroups=Oe)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(V,X){1&V&&C.NdJ("keydown",function(Oe){return X._handleKeydown(Oe)})("focus",function(){return X._onFocus()})("blur",function(){return X._onBlur()}),2&V&&(C.uIk("id",X.id)("tabindex",X.tabIndex)("aria-controls",X.panelOpen?X.id+"-panel":null)("aria-expanded",X.panelOpen)("aria-label",X.ariaLabel||null)("aria-required",X.required.toString())("aria-disabled",X.disabled.toString())("aria-invalid",X.errorState)("aria-describedby",X._ariaDescribedby||null)("aria-activedescendant",X._getAriaActiveDescendant()),C.ekj("mat-select-disabled",X.disabled)("mat-select-invalid",X.errorState)("mat-select-required",X.required)("mat-select-empty",X.empty)("mat-select-multiple",X.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[C._Bn([{provide:ge.Eo,useExisting:dn},{provide:ne.HF,useExisting:dn}]),C.qOj],ngContentSelectors:yt,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(V,X){if(1&V&&(C.F$t(wt),C.TgZ(0,"div",0,1),C.NdJ("click",function(){return X.toggle()}),C.TgZ(3,"div",2),C.YNc(4,ee,2,1,"span",3),C.YNc(5,Je,3,2,"span",4),C.qZA(),C.TgZ(6,"div",5),C._UZ(7,"div",6),C.qZA()(),C.YNc(8,it,4,14,"ng-template",7),C.NdJ("backdropClick",function(){return X.close()})("attach",function(){return X._onAttached()})("detach",function(){return X.close()})),2&V){const we=C.MAs(1);C.uIk("aria-owns",X.panelOpen?X.id+"-panel":null),C.xp6(3),C.Q6J("ngSwitch",X.empty),C.uIk("id",X._valueId),C.xp6(1),C.Q6J("ngSwitchCase",!0),C.xp6(1),C.Q6J("ngSwitchCase",!1),C.xp6(3),C.Q6J("cdkConnectedOverlayPanelClass",X._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",X._scrollStrategy)("cdkConnectedOverlayOrigin",we)("cdkConnectedOverlayOpen",X.panelOpen)("cdkConnectedOverlayPositions",X._positions)("cdkConnectedOverlayMinWidth",null==X._triggerRect?null:X._triggerRect.width)("cdkConnectedOverlayOffsetY",X._offsetY)}},directives:[h.xu,g.RF,g.n9,g.ED,h.pI,g.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[kt.transformPanelWrap,kt.transformPanel]},changeDetection:0}),dn})(),pn=(()=>{class dn{}return dn.\u0275fac=function(V){return new(V||dn)},dn.\u0275mod=C.oAB({type:dn}),dn.\u0275inj=C.cJS({providers:[vt],imports:[[g.ez,h.U8,ne.Ng,ne.BQ],ve.ZD,ge.lN,ne.Ng,ne.BQ]}),dn})()},4889:(Yt,Ye,b)=>{b.d(Ye,{jA:()=>Q,kh:()=>Ce,LW:()=>gt,SJ:()=>ht});var h=b(5494),g=b(9808),C=b(5e3),ne=b(508),ge=b(3191),ve=b(1159),ke=b(7579),ye=b(4968),le=b(6451),se=b(4004);function fe(Me){return(0,se.U)(()=>Me)}var De=b(9300),We=b(2722),Re=b(1884),je=b(5698),lt=b(8675),Ue=b(8372),rt=b(1777),Ae=b(6360),Ft=b(5664),nt=b(925),pe=b(226);const he=["*"],xe=["content"];function Ee(Me,vt){if(1&Me){const Se=C.EpF();C.TgZ(0,"div",2),C.NdJ("click",function(){return C.CHM(Se),C.oxw()._onBackdropClicked()}),C.qZA()}if(2&Me){const Se=C.oxw();C.ekj("mat-drawer-shown",Se._isShowingBackdrop())}}function ee(Me,vt){1&Me&&(C.TgZ(0,"mat-drawer-content"),C.Hsn(1,2),C.qZA())}const Ge=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],be=["mat-drawer","mat-drawer-content","*"],At={transformDrawer:(0,rt.X$)("transform",[(0,rt.SB)("open, open-instant",(0,rt.oB)({transform:"none",visibility:"visible"})),(0,rt.SB)("void",(0,rt.oB)({"box-shadow":"none",visibility:"hidden"})),(0,rt.eR)("void => open-instant",(0,rt.jt)("0ms")),(0,rt.eR)("void <=> open, open-instant => void",(0,rt.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Xe=new C.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function et(){return!1}}),$e=new C.OlP("MAT_DRAWER_CONTAINER");let gt=(()=>{class Me extends h.PQ{constructor(Se,Et,Jt,cn,Mn){super(Jt,cn,Mn),this._changeDetectorRef=Se,this._container=Et}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return Me.\u0275fac=function(Se){return new(Se||Me)(C.Y36(C.sBO),C.Y36((0,C.Gpc)(()=>Ce)),C.Y36(C.SBq),C.Y36(h.mF),C.Y36(C.R0b))},Me.\u0275cmp=C.Xpm({type:Me,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(Se,Et){2&Se&&C.Udp("margin-left",Et._container._contentMargins.left,"px")("margin-right",Et._container._contentMargins.right,"px")},features:[C._Bn([{provide:h.PQ,useExisting:Me}]),C.qOj],ngContentSelectors:he,decls:1,vars:0,template:function(Se,Et){1&Se&&(C.F$t(),C.Hsn(0))},encapsulation:2,changeDetection:0}),Me})(),Q=(()=>{class Me{constructor(Se,Et,Jt,cn,Mn,un,pn,dn){this._elementRef=Se,this._focusTrapFactory=Et,this._focusMonitor=Jt,this._platform=cn,this._ngZone=Mn,this._interactivityChecker=un,this._doc=pn,this._container=dn,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ke.x,this._animationEnd=new ke.x,this._animationState="void",this.openedChange=new C.vpe(!0),this._openedStream=this.openedChange.pipe((0,De.h)(ft=>ft),(0,se.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,De.h)(ft=>ft.fromState!==ft.toState&&0===ft.toState.indexOf("open")),fe(void 0)),this._closedStream=this.openedChange.pipe((0,De.h)(ft=>!ft),(0,se.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,De.h)(ft=>ft.fromState!==ft.toState&&"void"===ft.toState),fe(void 0)),this._destroyed=new ke.x,this.onPositionChanged=new C.vpe,this._modeChanged=new ke.x,this.openedChange.subscribe(ft=>{ft?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,ye.R)(this._elementRef.nativeElement,"keydown").pipe((0,De.h)(ft=>ft.keyCode===ve.hY&&!this.disableClose&&!(0,ve.Vb)(ft)),(0,We.R)(this._destroyed)).subscribe(ft=>this._ngZone.run(()=>{this.close(),ft.stopPropagation(),ft.preventDefault()}))}),this._animationEnd.pipe((0,Re.x)((ft,V)=>ft.fromState===V.fromState&&ft.toState===V.toState)).subscribe(ft=>{const{fromState:V,toState:X}=ft;(0===X.indexOf("open")&&"void"===V||"void"===X&&0===V.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(Se){(Se="end"===Se?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(Se),this._position=Se,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(Se){this._mode=Se,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(Se){this._disableClose=(0,ge.Ig)(Se)}get autoFocus(){const Se=this._autoFocus;return null==Se?"side"===this.mode?"dialog":"first-tabbable":Se}set autoFocus(Se){("true"===Se||"false"===Se||null==Se)&&(Se=(0,ge.Ig)(Se)),this._autoFocus=Se}get opened(){return this._opened}set opened(Se){this.toggle((0,ge.Ig)(Se))}_forceFocus(Se,Et){this._interactivityChecker.isFocusable(Se)||(Se.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Jt=()=>{Se.removeEventListener("blur",Jt),Se.removeEventListener("mousedown",Jt),Se.removeAttribute("tabindex")};Se.addEventListener("blur",Jt),Se.addEventListener("mousedown",Jt)})),Se.focus(Et)}_focusByCssSelector(Se,Et){let Jt=this._elementRef.nativeElement.querySelector(Se);Jt&&this._forceFocus(Jt,Et)}_takeFocus(){if(!this._focusTrap)return;const Se=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Et=>{!Et&&"function"==typeof this._elementRef.nativeElement.focus&&Se.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(Se){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,Se):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const Se=this._doc.activeElement;return!!Se&&this._elementRef.nativeElement.contains(Se)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var Se;this._focusTrap&&this._focusTrap.destroy(),null===(Se=this._anchor)||void 0===Se||Se.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(Se){return this.toggle(!0,Se)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(Se=!this.opened,Et){Se&&Et&&(this._openedVia=Et);const Jt=this._setOpen(Se,!Se&&this._isFocusWithinDrawer(),this._openedVia||"program");return Se||(this._openedVia=null),Jt}_setOpen(Se,Et,Jt){return this._opened=Se,Se?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",Et&&this._restoreFocus(Jt)),this._updateFocusTrapState(),new Promise(cn=>{this.openedChange.pipe((0,je.q)(1)).subscribe(Mn=>cn(Mn?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(Se){const Et=this._elementRef.nativeElement,Jt=Et.parentNode;"end"===Se?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),Jt.insertBefore(this._anchor,Et)),Jt.appendChild(Et)):this._anchor&&this._anchor.parentNode.insertBefore(Et,this._anchor)}}return Me.\u0275fac=function(Se){return new(Se||Me)(C.Y36(C.SBq),C.Y36(Ft.qV),C.Y36(Ft.tE),C.Y36(nt.t4),C.Y36(C.R0b),C.Y36(Ft.ic),C.Y36(g.K0,8),C.Y36($e,8))},Me.\u0275cmp=C.Xpm({type:Me,selectors:[["mat-drawer"]],viewQuery:function(Se,Et){if(1&Se&&C.Gf(xe,5),2&Se){let Jt;C.iGM(Jt=C.CRH())&&(Et._content=Jt.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(Se,Et){1&Se&&C.WFA("@transform.start",function(cn){return Et._animationStarted.next(cn)})("@transform.done",function(cn){return Et._animationEnd.next(cn)}),2&Se&&(C.uIk("align",null),C.d8E("@transform",Et._animationState),C.ekj("mat-drawer-end","end"===Et.position)("mat-drawer-over","over"===Et.mode)("mat-drawer-push","push"===Et.mode)("mat-drawer-side","side"===Et.mode)("mat-drawer-opened",Et.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:he,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(Se,Et){1&Se&&(C.F$t(),C.TgZ(0,"div",0,1),C.Hsn(2),C.qZA())},directives:[h.PQ],encapsulation:2,data:{animation:[At.transformDrawer]},changeDetection:0}),Me})(),Ce=(()=>{class Me{constructor(Se,Et,Jt,cn,Mn,un=!1,pn){this._dir=Se,this._element=Et,this._ngZone=Jt,this._changeDetectorRef=cn,this._animationMode=pn,this._drawers=new C.n_E,this.backdropClick=new C.vpe,this._destroyed=new ke.x,this._doCheckSubject=new ke.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ke.x,Se&&Se.change.pipe((0,We.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Mn.change().pipe((0,We.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=un}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(Se){this._autosize=(0,ge.Ig)(Se)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(Se){this._backdropOverride=null==Se?null:(0,ge.Ig)(Se)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,lt.O)(this._allDrawers),(0,We.R)(this._destroyed)).subscribe(Se=>{this._drawers.reset(Se.filter(Et=>!Et._container||Et._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,lt.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(Se=>{this._watchDrawerToggle(Se),this._watchDrawerPosition(Se),this._watchDrawerMode(Se)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Ue.b)(10),(0,We.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(Se=>Se.open())}close(){this._drawers.forEach(Se=>Se.close())}updateContentMargins(){let Se=0,Et=0;if(this._left&&this._left.opened)if("side"==this._left.mode)Se+=this._left._getWidth();else if("push"==this._left.mode){const Jt=this._left._getWidth();Se+=Jt,Et-=Jt}if(this._right&&this._right.opened)if("side"==this._right.mode)Et+=this._right._getWidth();else if("push"==this._right.mode){const Jt=this._right._getWidth();Et+=Jt,Se-=Jt}Se=Se||null,Et=Et||null,(Se!==this._contentMargins.left||Et!==this._contentMargins.right)&&(this._contentMargins={left:Se,right:Et},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(Se){Se._animationStarted.pipe((0,De.h)(Et=>Et.fromState!==Et.toState),(0,We.R)(this._drawers.changes)).subscribe(Et=>{"open-instant"!==Et.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==Se.mode&&Se.openedChange.pipe((0,We.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(Se.opened))}_watchDrawerPosition(Se){!Se||Se.onPositionChanged.pipe((0,We.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,je.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(Se){Se&&Se._modeChanged.pipe((0,We.R)((0,le.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(Se){const Et=this._element.nativeElement.classList,Jt="mat-drawer-container-has-open";Se?Et.add(Jt):Et.remove(Jt)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(Se=>{"end"==Se.position?this._end=Se:this._start=Se}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(Se=>Se&&!Se.disableClose&&this._canHaveBackdrop(Se)).forEach(Se=>Se._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(Se){return"side"!==Se.mode||!!this._backdropOverride}_isDrawerOpen(Se){return null!=Se&&Se.opened}}return Me.\u0275fac=function(Se){return new(Se||Me)(C.Y36(pe.Is,8),C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(C.sBO),C.Y36(h.rL),C.Y36(Xe),C.Y36(Ae.Qb,8))},Me.\u0275cmp=C.Xpm({type:Me,selectors:[["mat-drawer-container"]],contentQueries:function(Se,Et,Jt){if(1&Se&&(C.Suo(Jt,gt,5),C.Suo(Jt,Q,5)),2&Se){let cn;C.iGM(cn=C.CRH())&&(Et._content=cn.first),C.iGM(cn=C.CRH())&&(Et._allDrawers=cn)}},viewQuery:function(Se,Et){if(1&Se&&C.Gf(gt,5),2&Se){let Jt;C.iGM(Jt=C.CRH())&&(Et._userContent=Jt.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(Se,Et){2&Se&&C.ekj("mat-drawer-container-explicit-backdrop",Et._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[C._Bn([{provide:$e,useExisting:Me}])],ngContentSelectors:be,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Se,Et){1&Se&&(C.F$t(Ge),C.YNc(0,Ee,1,2,"div",0),C.Hsn(1),C.Hsn(2,1),C.YNc(3,ee,2,0,"mat-drawer-content",1)),2&Se&&(C.Q6J("ngIf",Et.hasBackdrop),C.xp6(3),C.Q6J("ngIf",!Et._content))},directives:[gt,g.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),Me})(),ht=(()=>{class Me{}return Me.\u0275fac=function(Se){return new(Se||Me)},Me.\u0275mod=C.oAB({type:Me}),Me.\u0275inj=C.cJS({imports:[[g.ez,ne.BQ,h.ZD],h.ZD,ne.BQ]}),Me})()},4594:(Yt,Ye,b)=>{b.d(Ye,{Ye:()=>le,g0:()=>fe});var h=b(5e3),g=b(508),C=b(9808),ne=b(925);const ge=["*",[["mat-toolbar-row"]]],ve=["*","mat-toolbar-row"],ke=(0,g.pj)(class{constructor(De){this._elementRef=De}});let ye=(()=>{class De{}return De.\u0275fac=function(Re){return new(Re||De)},De.\u0275dir=h.lG2({type:De,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),De})(),le=(()=>{class De extends ke{constructor(Re,je,lt){super(Re),this._platform=je,this._document=lt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return De.\u0275fac=function(Re){return new(Re||De)(h.Y36(h.SBq),h.Y36(ne.t4),h.Y36(C.K0))},De.\u0275cmp=h.Xpm({type:De,selectors:[["mat-toolbar"]],contentQueries:function(Re,je,lt){if(1&Re&&h.Suo(lt,ye,5),2&Re){let Ue;h.iGM(Ue=h.CRH())&&(je._toolbarRows=Ue)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Re,je){2&Re&&h.ekj("mat-toolbar-multiple-rows",je._toolbarRows.length>0)("mat-toolbar-single-row",0===je._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:ve,decls:2,vars:0,template:function(Re,je){1&Re&&(h.F$t(ge),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),De})(),fe=(()=>{class De{}return De.\u0275fac=function(Re){return new(Re||De)},De.\u0275mod=h.oAB({type:De}),De.\u0275inj=h.cJS({imports:[[g.BQ],g.BQ]}),De})()},149:(Yt,Ye,b)=>{b.d(Ye,{gi:()=>lt,kc:()=>nt,JZ:()=>Ft,dp:()=>Ae,uo:()=>fe,fQ:()=>De,ah:()=>Re});var h=b(2379),g=b(5e3),C=b(508),ge=(b(3191),b(449)),ve=b(1135),ke=b(6451),ye=b(5698),le=b(4004);const se=(0,C.sb)((0,C.Id)(h.Hs));let fe=(()=>{class he extends se{constructor(Ee,ee,Ge){super(Ee,ee),this.tabIndex=Number(Ge)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return he.\u0275fac=function(Ee){return new(Ee||he)(g.Y36(g.SBq),g.Y36(h._0),g.$8M("tabindex"))},he.\u0275dir=g.lG2({type:he,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[g._Bn([{provide:h.Hs,useExisting:he}]),g.qOj]}),he})(),De=(()=>{class he extends h.rO{}return he.\u0275fac=function(){let xe;return function(ee){return(xe||(xe=g.n5z(he)))(ee||he)}}(),he.\u0275dir=g.lG2({type:he,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[g._Bn([{provide:h.rO,useExisting:he}]),g.qOj]}),he})(),Re=(()=>{class he extends h.XJ{get level(){return this._level}set level(Ee){this._setLevelInput(Ee)}get indent(){return this._indent}set indent(Ee){this._setIndentInput(Ee)}}return he.\u0275fac=function(){let xe;return function(ee){return(xe||(xe=g.n5z(he)))(ee||he)}}(),he.\u0275dir=g.lG2({type:he,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[g._Bn([{provide:h.XJ,useExisting:he}]),g.qOj]}),he})(),je=(()=>{class he{constructor(Ee,ee){this.viewContainer=Ee,this._node=ee}}return he.\u0275fac=function(Ee){return new(Ee||he)(g.Y36(g.s_b),g.Y36(h.HI,8))},he.\u0275dir=g.lG2({type:he,selectors:[["","matTreeNodeOutlet",""]],features:[g._Bn([{provide:h.cu,useExisting:he}])]}),he})(),lt=(()=>{class he extends h._0{}return he.\u0275fac=function(){let xe;return function(ee){return(xe||(xe=g.n5z(he)))(ee||he)}}(),he.\u0275cmp=g.Xpm({type:he,selectors:[["mat-tree"]],viewQuery:function(Ee,ee){if(1&Ee&&g.Gf(je,7),2&Ee){let Ge;g.iGM(Ge=g.CRH())&&(ee._nodeOutlet=Ge.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[g._Bn([{provide:h._0,useExisting:he}]),g.qOj],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(Ee,ee){1&Ee&&g.GkF(0,0)},directives:[je],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),he})(),Ae=(()=>{class he{}return he.\u0275fac=function(Ee){return new(Ee||he)},he.\u0275mod=g.oAB({type:he}),he.\u0275inj=g.cJS({imports:[[h.nZ,C.BQ],C.BQ]}),he})();class Ft{constructor(xe,Ee,ee,Ge){this.transformFunction=xe,this.getLevel=Ee,this.isExpandable=ee,this.getChildren=Ge}_flattenNode(xe,Ee,ee,Ge){const be=this.transformFunction(xe,Ee);if(ee.push(be),this.isExpandable(be)){const Je=this.getChildren(xe);Je&&(Array.isArray(Je)?this._flattenChildren(Je,Ee,ee,Ge):Je.pipe((0,ye.q)(1)).subscribe(it=>{this._flattenChildren(it,Ee,ee,Ge)}))}return ee}_flattenChildren(xe,Ee,ee,Ge){xe.forEach((be,Je)=>{let it=Ge.slice();it.push(Je!=xe.length-1),this._flattenNode(be,Ee+1,ee,it)})}flattenNodes(xe){let Ee=[];return xe.forEach(ee=>this._flattenNode(ee,0,Ee,[])),Ee}expandFlattenedNodes(xe,Ee){let ee=[],Ge=[];return Ge[0]=!0,xe.forEach(be=>{let Je=!0;for(let it=0;it<=this.getLevel(be);it++)Je=Je&&Ge[it];Je&&ee.push(be),this.isExpandable(be)&&(Ge[this.getLevel(be)+1]=Ee.isExpanded(be))}),ee}}class nt extends ge.o2{constructor(xe,Ee,ee){super(),this._treeControl=xe,this._treeFlattener=Ee,this._flattenedData=new ve.X([]),this._expandedData=new ve.X([]),this._data=new ve.X([]),ee&&(this.data=ee)}get data(){return this._data.value}set data(xe){this._data.next(xe),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(xe){return(0,ke.T)(xe.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,le.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}},6360:(Yt,Ye,b)=>{b.d(Ye,{Qb:()=>sa,PW:()=>Ls});var h=b(5e3),g=b(2313),C=b(1777);const ne=!1;function ve(J){return new h.vHH(3e3,ne)}function Bt(){return"undefined"!=typeof window&&void 0!==window.document}function bt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function pt(J){switch(J.length){case 0:return new C.ZN;case 1:return J[0];default:return new C.ZE(J)}}function ht(J,y,E,k,te={},Ie={}){const Qe=[],tt=[];let St=-1,zt=null;if(k.forEach(wn=>{const On=wn.offset,zn=On==St,ci=zn&&zt||{};Object.keys(wn).forEach(kn=>{let Zn=kn,Pi=wn[kn];if("offset"!==kn)switch(Zn=y.normalizePropertyName(Zn,Qe),Pi){case C.k1:Pi=te[kn];break;case C.l3:Pi=Ie[kn];break;default:Pi=y.normalizeStyleValue(kn,Zn,Pi,Qe)}ci[Zn]=Pi}),zn||tt.push(ci),zt=ci,St=On}),Qe.length)throw function it(J){return new h.vHH(3502,ne)}();return tt}function Me(J,y,E,k){switch(y){case"start":J.onStart(()=>k(E&&vt(E,"start",J)));break;case"done":J.onDone(()=>k(E&&vt(E,"done",J)));break;case"destroy":J.onDestroy(()=>k(E&&vt(E,"destroy",J)))}}function vt(J,y,E){const k=E.totalTime,Ie=Se(J.element,J.triggerName,J.fromState,J.toState,y||J.phaseName,null==k?J.totalTime:k,!!E.disabled),Qe=J._data;return null!=Qe&&(Ie._data=Qe),Ie}function Se(J,y,E,k,te="",Ie=0,Qe){return{element:J,triggerName:y,fromState:E,toState:k,phaseName:te,totalTime:Ie,disabled:!!Qe}}function Et(J,y,E){let k;return J instanceof Map?(k=J.get(y),k||J.set(y,k=E)):(k=J[y],k||(k=J[y]=E)),k}function Jt(J){const y=J.indexOf(":");return[J.substring(1,y),J.substr(y+1)]}let cn=(J,y)=>!1,Mn=(J,y,E)=>[],un=null;function pn(J){const y=J.parentNode||J.host;return y===un?null:y}(bt()||"undefined"!=typeof Element)&&(Bt()?(un=(()=>document.documentElement)(),cn=(J,y)=>{for(;y;){if(y===J)return!0;y=pn(y)}return!1}):cn=(J,y)=>J.contains(y),Mn=(J,y,E)=>{if(E)return Array.from(J.querySelectorAll(y));const k=J.querySelector(y);return k?[k]:[]});let V=null,X=!1;function we(J){V||(V=function Oe(){return"undefined"!=typeof document?document.body:null}()||{},X=!!V.style&&"WebkitAppearance"in V.style);let y=!0;return V.style&&!function ft(J){return"ebkit"==J.substring(1,6)}(J)&&(y=J in V.style,!y&&X&&(y="Webkit"+J.charAt(0).toUpperCase()+J.substr(1)in V.style)),y}const Pe=cn,q=Mn;let de=(()=>{class J{validateStyleProperty(E){return we(E)}matchesElement(E,k){return!1}containsElement(E,k){return Pe(E,k)}getParentElement(E){return pn(E)}query(E,k,te){return q(E,k,te)}computeStyle(E,k,te){return te||""}animate(E,k,te,Ie,Qe,tt=[],St){return new C.ZN(te,Ie)}}return J.\u0275fac=function(E){return new(E||J)},J.\u0275prov=h.Yz7({token:J,factory:J.\u0275fac}),J})(),Ke=(()=>{class J{}return J.NOOP=new de,J})();const jn="ng-enter",Ln="ng-leave",ni="ng-trigger",on=".ng-trigger",Ci="ng-animating",ze=".ng-animating";function $(J){if("number"==typeof J)return J;const y=J.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:P(parseFloat(y[1]),y[2])}function P(J,y){return"s"===y?1e3*J:J}function x(J,y,E){return J.hasOwnProperty("duration")?J:function G(J,y,E){let te,Ie=0,Qe="";if("string"==typeof J){const tt=J.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===tt)return y.push(ve()),{duration:0,delay:0,easing:""};te=P(parseFloat(tt[1]),tt[2]);const St=tt[3];null!=St&&(Ie=P(parseFloat(St),tt[4]));const zt=tt[5];zt&&(Qe=zt)}else te=J;if(!E){let tt=!1,St=y.length;te<0&&(y.push(function ke(){return new h.vHH(3100,ne)}()),tt=!0),Ie<0&&(y.push(function ye(){return new h.vHH(3101,ne)}()),tt=!0),tt&&y.splice(St,0,ve())}return{duration:te,delay:Ie,easing:Qe}}(J,y,E)}function Te(J,y={}){return Object.keys(J).forEach(E=>{y[E]=J[E]}),y}function Wt(J,y,E={}){if(y)for(let k in J)E[k]=J[k];else Te(J,E);return E}function Pn(J,y,E){return E?y+":"+E+";":""}function Nn(J){let y="";for(let E=0;E<J.style.length;E++){const k=J.style.item(E);y+=Pn(0,k,J.style.getPropertyValue(k))}for(const E in J.style)J.style.hasOwnProperty(E)&&!E.startsWith("_")&&(y+=Pn(0,_e(E),J.style[E]));J.setAttribute("style",y)}function oi(J,y,E){J.style&&(Object.keys(y).forEach(k=>{const te=Ne(k);E&&!E.hasOwnProperty(k)&&(E[k]=J.style[te]),J.style[te]=y[k]}),bt()&&Nn(J))}function vn(J,y){J.style&&(Object.keys(y).forEach(E=>{const k=Ne(E);J.style[k]=""}),bt()&&Nn(J))}function bi(J){return Array.isArray(J)?1==J.length?J[0]:(0,C.vP)(J):J}const at=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ve(J){let y=[];if("string"==typeof J){let E;for(;E=at.exec(J);)y.push(E[1]);at.lastIndex=0}return y}function _t(J,y,E){const k=J.toString(),te=k.replace(at,(Ie,Qe)=>{let tt=y[Qe];return y.hasOwnProperty(Qe)||(E.push(function se(J){return new h.vHH(3003,ne)}()),tt=""),tt.toString()});return te==k?J:te}function Gt(J){const y=[];let E=J.next();for(;!E.done;)y.push(E.value),E=J.next();return y}const It=/-+([a-z0-9])/g;function Ne(J){return J.replace(It,(...y)=>y[1].toUpperCase())}function _e(J){return J.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Kt(J,y,E){switch(y.type){case 7:return J.visitTrigger(y,E);case 0:return J.visitState(y,E);case 1:return J.visitTransition(y,E);case 2:return J.visitSequence(y,E);case 3:return J.visitGroup(y,E);case 4:return J.visitAnimate(y,E);case 5:return J.visitKeyframes(y,E);case 6:return J.visitStyle(y,E);case 8:return J.visitReference(y,E);case 9:return J.visitAnimateChild(y,E);case 10:return J.visitAnimateRef(y,E);case 11:return J.visitQuery(y,E);case 12:return J.visitStagger(y,E);default:throw function fe(J){return new h.vHH(3004,ne)}()}}function mn(J,y){return window.getComputedStyle(J)[y]}function xi(J,y){const E=[];return"string"==typeof J?J.split(/\s*,\s*/).forEach(k=>function Er(J,y,E){if(":"==J[0]){const St=function gi(J,y){switch(J){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,k)=>parseFloat(k)>parseFloat(E);case":decrement":return(E,k)=>parseFloat(k)<parseFloat(E);default:return y.push(function ee(J){return new h.vHH(3016,ne)}()),"* => *"}}(J,E);if("function"==typeof St)return void y.push(St);J=St}const k=J.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==k||k.length<4)return E.push(function Ee(J){return new h.vHH(3015,ne)}()),y;const te=k[1],Ie=k[2],Qe=k[3];y.push(Gn(te,Qe));"<"==Ie[0]&&!("*"==te&&"*"==Qe)&&y.push(Gn(Qe,te))}(k,E,y)):E.push(J),E}const $i=new Set(["true","1"]),Si=new Set(["false","0"]);function Gn(J,y){const E=$i.has(J)||Si.has(J),k=$i.has(y)||Si.has(y);return(te,Ie)=>{let Qe="*"==J||J==te,tt="*"==y||y==Ie;return!Qe&&E&&"boolean"==typeof te&&(Qe=te?$i.has(J):Si.has(J)),!tt&&k&&"boolean"==typeof Ie&&(tt=Ie?$i.has(y):Si.has(y)),Qe&&tt}}const ur=new RegExp("s*:selfs*,?","g");function _s(J,y,E,k){return new Li(J).build(y,E,k)}class Li{constructor(y){this._driver=y}build(y,E,k){const te=new dr(E);this._resetContextStyleTimingState(te);const Ie=Kt(this,bi(y),te);return te.unsupportedCSSPropertiesFound.size&&te.unsupportedCSSPropertiesFound.keys(),Ie}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles={},y.collectedStyles[""]={},y.currentTime=0}visitTrigger(y,E){let k=E.queryCount=0,te=E.depCount=0;const Ie=[],Qe=[];return"@"==y.name.charAt(0)&&E.errors.push(function We(){return new h.vHH(3006,ne)}()),y.definitions.forEach(tt=>{if(this._resetContextStyleTimingState(E),0==tt.type){const St=tt,zt=St.name;zt.toString().split(/\s*,\s*/).forEach(wn=>{St.name=wn,Ie.push(this.visitState(St,E))}),St.name=zt}else if(1==tt.type){const St=this.visitTransition(tt,E);k+=St.queryCount,te+=St.depCount,Qe.push(St)}else E.errors.push(function Re(){return new h.vHH(3007,ne)}())}),{type:7,name:y.name,states:Ie,transitions:Qe,queryCount:k,depCount:te,options:null}}visitState(y,E){const k=this.visitStyle(y.styles,E),te=y.options&&y.options.params||null;if(k.containsDynamicStyles){const Ie=new Set,Qe=te||{};k.styles.forEach(tt=>{if(Lr(tt)){const St=tt;Object.keys(St).forEach(zt=>{Ve(St[zt]).forEach(wn=>{Qe.hasOwnProperty(wn)||Ie.add(wn)})})}}),Ie.size&&(Gt(Ie.values()),E.errors.push(function je(J,y){return new h.vHH(3008,ne)}()))}return{type:0,name:y.name,style:k,options:te?{params:te}:null}}visitTransition(y,E){E.queryCount=0,E.depCount=0;const k=Kt(this,bi(y.animation),E);return{type:1,matchers:xi(y.expr,E.errors),animation:k,queryCount:E.queryCount,depCount:E.depCount,options:Bi(y.options)}}visitSequence(y,E){return{type:2,steps:y.steps.map(k=>Kt(this,k,E)),options:Bi(y.options)}}visitGroup(y,E){const k=E.currentTime;let te=0;const Ie=y.steps.map(Qe=>{E.currentTime=k;const tt=Kt(this,Qe,E);return te=Math.max(te,E.currentTime),tt});return E.currentTime=te,{type:3,steps:Ie,options:Bi(y.options)}}visitAnimate(y,E){const k=function ys(J,y){let E=null;if(J.hasOwnProperty("duration"))E=J;else if("number"==typeof J)return yr(x(J,y).duration,0,"");const k=J;if(k.split(/\s+/).some(Ie=>"{"==Ie.charAt(0)&&"{"==Ie.charAt(1))){const Ie=yr(0,0,"");return Ie.dynamic=!0,Ie.strValue=k,Ie}return E=E||x(k,y),yr(E.duration,E.delay,E.easing)}(y.timings,E.errors);E.currentAnimateTimings=k;let te,Ie=y.styles?y.styles:(0,C.oB)({});if(5==Ie.type)te=this.visitKeyframes(Ie,E);else{let Qe=y.styles,tt=!1;if(!Qe){tt=!0;const zt={};k.easing&&(zt.easing=k.easing),Qe=(0,C.oB)(zt)}E.currentTime+=k.duration+k.delay;const St=this.visitStyle(Qe,E);St.isEmptyStep=tt,te=St}return E.currentAnimateTimings=null,{type:4,timings:k,style:te,options:null}}visitStyle(y,E){const k=this._makeStyleAst(y,E);return this._validateStyleAst(k,E),k}_makeStyleAst(y,E){const k=[];Array.isArray(y.styles)?y.styles.forEach(Qe=>{"string"==typeof Qe?Qe==C.l3?k.push(Qe):E.errors.push(function lt(J){return new h.vHH(3002,ne)}()):k.push(Qe)}):k.push(y.styles);let te=!1,Ie=null;return k.forEach(Qe=>{if(Lr(Qe)){const tt=Qe,St=tt.easing;if(St&&(Ie=St,delete tt.easing),!te)for(let zt in tt)if(tt[zt].toString().indexOf("{{")>=0){te=!0;break}}}),{type:6,styles:k,easing:Ie,offset:y.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(y,E){const k=E.currentAnimateTimings;let te=E.currentTime,Ie=E.currentTime;k&&Ie>0&&(Ie-=k.duration+k.delay),y.styles.forEach(Qe=>{"string"!=typeof Qe&&Object.keys(Qe).forEach(tt=>{if(!this._driver.validateStyleProperty(tt))return delete Qe[tt],void E.unsupportedCSSPropertiesFound.add(tt);const St=E.collectedStyles[E.currentQuerySelector],zt=St[tt];let wn=!0;zt&&(Ie!=te&&Ie>=zt.startTime&&te<=zt.endTime&&(E.errors.push(function rt(J,y,E,k,te){return new h.vHH(3010,ne)}()),wn=!1),Ie=zt.startTime),wn&&(St[tt]={startTime:Ie,endTime:te}),E.options&&function Dt(J,y,E){const k=y.params||{},te=Ve(J);te.length&&te.forEach(Ie=>{k.hasOwnProperty(Ie)||E.push(function le(J){return new h.vHH(3001,ne)}())})}(Qe[tt],E.options,E.errors)})})}visitKeyframes(y,E){const k={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function Ae(){return new h.vHH(3011,ne)}()),k;let Ie=0;const Qe=[];let tt=!1,St=!1,zt=0;const wn=y.steps.map(tr=>{const ir=this._makeStyleAst(tr,E);let Ur=null!=ir.offset?ir.offset:function hi(J){if("string"==typeof J)return null;let y=null;if(Array.isArray(J))J.forEach(E=>{if(Lr(E)&&E.hasOwnProperty("offset")){const k=E;y=parseFloat(k.offset),delete k.offset}});else if(Lr(J)&&J.hasOwnProperty("offset")){const E=J;y=parseFloat(E.offset),delete E.offset}return y}(ir.styles),Di=0;return null!=Ur&&(Ie++,Di=ir.offset=Ur),St=St||Di<0||Di>1,tt=tt||Di<zt,zt=Di,Qe.push(Di),ir});St&&E.errors.push(function Ft(){return new h.vHH(3012,ne)}()),tt&&E.errors.push(function nt(){return new h.vHH(3200,ne)}());const On=y.steps.length;let zn=0;Ie>0&&Ie<On?E.errors.push(function pe(){return new h.vHH(3202,ne)}()):0==Ie&&(zn=1/(On-1));const ci=On-1,kn=E.currentTime,Zn=E.currentAnimateTimings,Pi=Zn.duration;return wn.forEach((tr,ir)=>{const Ur=zn>0?ir==ci?1:zn*ir:Qe[ir],Di=Ur*Pi;E.currentTime=kn+Zn.delay+Di,Zn.duration=Di,this._validateStyleAst(tr,E),tr.offset=Ur,k.styles.push(tr)}),k}visitReference(y,E){return{type:8,animation:Kt(this,bi(y.animation),E),options:Bi(y.options)}}visitAnimateChild(y,E){return E.depCount++,{type:9,options:Bi(y.options)}}visitAnimateRef(y,E){return{type:10,animation:this.visitReference(y.animation,E),options:Bi(y.options)}}visitQuery(y,E){const k=E.currentQuerySelector,te=y.options||{};E.queryCount++,E.currentQuery=y;const[Ie,Qe]=function Nr(J){const y=!!J.split(/\s*,\s*/).find(E=>":self"==E);return y&&(J=J.replace(ur,"")),J=J.replace(/@\*/g,on).replace(/@\w+/g,E=>on+"-"+E.substr(1)).replace(/:animating/g,ze),[J,y]}(y.selector);E.currentQuerySelector=k.length?k+" "+Ie:Ie,Et(E.collectedStyles,E.currentQuerySelector,{});const tt=Kt(this,bi(y.animation),E);return E.currentQuery=null,E.currentQuerySelector=k,{type:11,selector:Ie,limit:te.limit||0,optional:!!te.optional,includeSelf:Qe,animation:tt,originalSelector:y.selector,options:Bi(y.options)}}visitStagger(y,E){E.currentQuery||E.errors.push(function he(){return new h.vHH(3013,ne)}());const k="full"===y.timings?{duration:0,delay:0,easing:"full"}:x(y.timings,E.errors,!0);return{type:12,animation:Kt(this,bi(y.animation),E),timings:k,options:null}}}class dr{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lr(J){return!Array.isArray(J)&&"object"==typeof J}function Bi(J){return J?(J=Te(J)).params&&(J.params=function Fr(J){return J?Te(J):null}(J.params)):J={},J}function yr(J,y,E){return{duration:J,delay:y,easing:E}}function vs(J,y,E,k,te,Ie,Qe=null,tt=!1){return{type:1,element:J,keyframes:y,preStyleProps:E,postStyleProps:k,duration:te,delay:Ie,totalTime:te+Ie,easing:Qe,subTimeline:tt}}class zs{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,E){let k=this._map.get(y);k||this._map.set(y,k=[]),k.push(...E)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Ws=new RegExp(":enter","g"),wo=new RegExp(":leave","g");function er(J,y,E,k,te,Ie={},Qe={},tt,St,zt=[]){return(new zr).buildKeyframes(J,y,E,k,te,Ie,Qe,tt,St,zt)}class zr{buildKeyframes(y,E,k,te,Ie,Qe,tt,St,zt,wn=[]){zt=zt||new zs;const On=new Do(y,E,zt,te,Ie,wn,[]);On.options=St,On.currentTimeline.setStyles([Qe],null,On.errors,St),Kt(this,k,On);const zn=On.timelines.filter(ci=>ci.containsAnimation());if(Object.keys(tt).length){let ci;for(let kn=zn.length-1;kn>=0;kn--){const Zn=zn[kn];if(Zn.element===E){ci=Zn;break}}ci&&!ci.allowOnlyTimelineStyles()&&ci.setStyles([tt],null,On.errors,St)}return zn.length?zn.map(ci=>ci.buildKeyframes()):[vs(E,[],[],[],0,0,"",!1)]}visitTrigger(y,E){}visitState(y,E){}visitTransition(y,E){}visitAnimateChild(y,E){const k=E.subInstructions.get(E.element);if(k){const te=E.createSubContext(y.options),Ie=E.currentTimeline.currentTime,Qe=this._visitSubInstructions(k,te,te.options);Ie!=Qe&&E.transformIntoNewTimeline(Qe)}E.previousNode=y}visitAnimateRef(y,E){const k=E.createSubContext(y.options);k.transformIntoNewTimeline(),this.visitReference(y.animation,k),E.transformIntoNewTimeline(k.currentTimeline.currentTime),E.previousNode=y}_visitSubInstructions(y,E,k){let Ie=E.currentTimeline.currentTime;const Qe=null!=k.duration?$(k.duration):null,tt=null!=k.delay?$(k.delay):null;return 0!==Qe&&y.forEach(St=>{const zt=E.appendInstructionToTimeline(St,Qe,tt);Ie=Math.max(Ie,zt.duration+zt.delay)}),Ie}visitReference(y,E){E.updateOptions(y.options,!0),Kt(this,y.animation,E),E.previousNode=y}visitSequence(y,E){const k=E.subContextCount;let te=E;const Ie=y.options;if(Ie&&(Ie.params||Ie.delay)&&(te=E.createSubContext(Ie),te.transformIntoNewTimeline(),null!=Ie.delay)){6==te.previousNode.type&&(te.currentTimeline.snapshotCurrentStyles(),te.previousNode=es);const Qe=$(Ie.delay);te.delayNextStep(Qe)}y.steps.length&&(y.steps.forEach(Qe=>Kt(this,Qe,te)),te.currentTimeline.applyStylesToKeyframe(),te.subContextCount>k&&te.transformIntoNewTimeline()),E.previousNode=y}visitGroup(y,E){const k=[];let te=E.currentTimeline.currentTime;const Ie=y.options&&y.options.delay?$(y.options.delay):0;y.steps.forEach(Qe=>{const tt=E.createSubContext(y.options);Ie&&tt.delayNextStep(Ie),Kt(this,Qe,tt),te=Math.max(te,tt.currentTimeline.currentTime),k.push(tt.currentTimeline)}),k.forEach(Qe=>E.currentTimeline.mergeTimelineCollectedStyles(Qe)),E.transformIntoNewTimeline(te),E.previousNode=y}_visitTiming(y,E){if(y.dynamic){const k=y.strValue;return x(E.params?_t(k,E.params,E.errors):k,E.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,E){const k=E.currentAnimateTimings=this._visitTiming(y.timings,E),te=E.currentTimeline;k.delay&&(E.incrementTime(k.delay),te.snapshotCurrentStyles());const Ie=y.style;5==Ie.type?this.visitKeyframes(Ie,E):(E.incrementTime(k.duration),this.visitStyle(Ie,E),te.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=y}visitStyle(y,E){const k=E.currentTimeline,te=E.currentAnimateTimings;!te&&k.getCurrentStyleProperties().length&&k.forwardFrame();const Ie=te&&te.easing||y.easing;y.isEmptyStep?k.applyEmptyStep(Ie):k.setStyles(y.styles,Ie,E.errors,E.options),E.previousNode=y}visitKeyframes(y,E){const k=E.currentAnimateTimings,te=E.currentTimeline.duration,Ie=k.duration,tt=E.createSubContext().currentTimeline;tt.easing=k.easing,y.styles.forEach(St=>{tt.forwardTime((St.offset||0)*Ie),tt.setStyles(St.styles,St.easing,E.errors,E.options),tt.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(tt),E.transformIntoNewTimeline(te+Ie),E.previousNode=y}visitQuery(y,E){const k=E.currentTimeline.currentTime,te=y.options||{},Ie=te.delay?$(te.delay):0;Ie&&(6===E.previousNode.type||0==k&&E.currentTimeline.getCurrentStyleProperties().length)&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=es);let Qe=k;const tt=E.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!te.optional,E.errors);E.currentQueryTotal=tt.length;let St=null;tt.forEach((zt,wn)=>{E.currentQueryIndex=wn;const On=E.createSubContext(y.options,zt);Ie&&On.delayNextStep(Ie),zt===E.element&&(St=On.currentTimeline),Kt(this,y.animation,On),On.currentTimeline.applyStylesToKeyframe(),Qe=Math.max(Qe,On.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(Qe),St&&(E.currentTimeline.mergeTimelineCollectedStyles(St),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=y}visitStagger(y,E){const k=E.parentContext,te=E.currentTimeline,Ie=y.timings,Qe=Math.abs(Ie.duration),tt=Qe*(E.currentQueryTotal-1);let St=Qe*E.currentQueryIndex;switch(Ie.duration<0?"reverse":Ie.easing){case"reverse":St=tt-St;break;case"full":St=k.currentStaggerTime}const wn=E.currentTimeline;St&&wn.delayNextStep(St);const On=wn.currentTime;Kt(this,y.animation,E),E.previousNode=y,k.currentStaggerTime=te.currentTime-On+(te.startTime-k.currentTimeline.startTime)}}const es={};class Do{constructor(y,E,k,te,Ie,Qe,tt,St){this._driver=y,this.element=E,this.subInstructions=k,this._enterClassName=te,this._leaveClassName=Ie,this.errors=Qe,this.timelines=tt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=es,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=St||new Oi(this._driver,E,0),tt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,E){if(!y)return;const k=y;let te=this.options;null!=k.duration&&(te.duration=$(k.duration)),null!=k.delay&&(te.delay=$(k.delay));const Ie=k.params;if(Ie){let Qe=te.params;Qe||(Qe=this.options.params={}),Object.keys(Ie).forEach(tt=>{(!E||!Qe.hasOwnProperty(tt))&&(Qe[tt]=_t(Ie[tt],Qe,this.errors))})}}_copyOptions(){const y={};if(this.options){const E=this.options.params;if(E){const k=y.params={};Object.keys(E).forEach(te=>{k[te]=E[te]})}}return y}createSubContext(y=null,E,k){const te=E||this.element,Ie=new Do(this._driver,te,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(te,k||0));return Ie.previousNode=this.previousNode,Ie.currentAnimateTimings=this.currentAnimateTimings,Ie.options=this._copyOptions(),Ie.updateOptions(y),Ie.currentQueryIndex=this.currentQueryIndex,Ie.currentQueryTotal=this.currentQueryTotal,Ie.parentContext=this,this.subContextCount++,Ie}transformIntoNewTimeline(y){return this.previousNode=es,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,E,k){const te={duration:null!=E?E:y.duration,delay:this.currentTimeline.currentTime+(null!=k?k:0)+y.delay,easing:""},Ie=new eo(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,te,y.stretchStartingKeyframe);return this.timelines.push(Ie),te}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,E,k,te,Ie,Qe){let tt=[];if(te&&tt.push(this.element),y.length>0){y=(y=y.replace(Ws,"."+this._enterClassName)).replace(wo,"."+this._leaveClassName);let zt=this._driver.query(this.element,y,1!=k);0!==k&&(zt=k<0?zt.slice(zt.length+k,zt.length):zt.slice(0,k)),tt.push(...zt)}return!Ie&&0==tt.length&&Qe.push(function xe(J){return new h.vHH(3014,ne)}()),tt}}class Oi{constructor(y,E,k,te){this._driver=y,this.element=E,this.startTime=k,this._elementTimelineStylesLookup=te,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const E=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||E?(this.forwardTime(this.currentTime+y),E&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,E){return this.applyStylesToKeyframe(),new Oi(this._driver,y,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,E){this._localTimelineStyles[y]=E,this._globalTimelineStyles[y]=E,this._styleSummary[y]={time:this.currentTime,value:E}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&(this._previousKeyframe.easing=y),Object.keys(this._globalTimelineStyles).forEach(E=>{this._backFill[E]=this._globalTimelineStyles[E]||C.l3,this._currentKeyframe[E]=C.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,E,k,te){E&&(this._previousKeyframe.easing=E);const Ie=te&&te.params||{},Qe=function ks(J,y){const E={};let k;return J.forEach(te=>{"*"===te?(k=k||Object.keys(y),k.forEach(Ie=>{E[Ie]=C.l3})):Wt(te,!1,E)}),E}(y,this._globalTimelineStyles);Object.keys(Qe).forEach(tt=>{const St=_t(Qe[tt],Ie,k);this._pendingStyles[tt]=St,this._localTimelineStyles.hasOwnProperty(tt)||(this._backFill[tt]=this._globalTimelineStyles.hasOwnProperty(tt)?this._globalTimelineStyles[tt]:C.l3),this._updateStyle(tt,St)})}applyStylesToKeyframe(){const y=this._pendingStyles,E=Object.keys(y);0!=E.length&&(this._pendingStyles={},E.forEach(k=>{this._currentKeyframe[k]=y[k]}),Object.keys(this._localTimelineStyles).forEach(k=>{this._currentKeyframe.hasOwnProperty(k)||(this._currentKeyframe[k]=this._localTimelineStyles[k])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(y=>{const E=this._localTimelineStyles[y];this._pendingStyles[y]=E,this._updateStyle(y,E)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let E in this._currentKeyframe)y.push(E);return y}mergeTimelineCollectedStyles(y){Object.keys(y._styleSummary).forEach(E=>{const k=this._styleSummary[E],te=y._styleSummary[E];(!k||te.time>k.time)&&this._updateStyle(E,te.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,E=new Set,k=1===this._keyframes.size&&0===this.duration;let te=[];this._keyframes.forEach((tt,St)=>{const zt=Wt(tt,!0);Object.keys(zt).forEach(wn=>{const On=zt[wn];On==C.k1?y.add(wn):On==C.l3&&E.add(wn)}),k||(zt.offset=St/this.duration),te.push(zt)});const Ie=y.size?Gt(y.values()):[],Qe=E.size?Gt(E.values()):[];if(k){const tt=te[0],St=Te(tt);tt.offset=0,St.offset=1,te=[tt,St]}return vs(this.element,te,Ie,Qe,this.duration,this.startTime,this.easing,!1)}}class eo extends Oi{constructor(y,E,k,te,Ie,Qe,tt=!1){super(y,E,Qe.delay),this.keyframes=k,this.preStyleProps=te,this.postStyleProps=Ie,this._stretchStartingKeyframe=tt,this.timings={duration:Qe.duration,delay:Qe.delay,easing:Qe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:E,duration:k,easing:te}=this.timings;if(this._stretchStartingKeyframe&&E){const Ie=[],Qe=k+E,tt=E/Qe,St=Wt(y[0],!1);St.offset=0,Ie.push(St);const zt=Wt(y[0],!1);zt.offset=ts(tt),Ie.push(zt);const wn=y.length-1;for(let On=1;On<=wn;On++){let zn=Wt(y[On],!1);zn.offset=ts((E+zn.offset*k)/Qe),Ie.push(zn)}k=Qe,E=0,te="",y=Ie}return vs(this.element,y,this.preStyleProps,this.postStyleProps,k,E,te,!0)}}function ts(J,y=3){const E=Math.pow(10,y-1);return Math.round(J*E)/E}class Ps{}class fo extends Ps{normalizePropertyName(y,E){return Ne(y)}normalizeStyleValue(y,E,k,te){let Ie="";const Qe=k.toString().trim();if(po[E]&&0!==k&&"0"!==k)if("number"==typeof k)Ie="px";else{const tt=k.match(/^[+-]?[\d\.]+([a-z]*)$/);tt&&0==tt[1].length&&te.push(function De(J,y){return new h.vHH(3005,ne)}())}return Qe+Ie}}const po=(()=>function Ks(J){const y={};return J.forEach(E=>y[E]=!0),y}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function is(J,y,E,k,te,Ie,Qe,tt,St,zt,wn,On,zn){return{type:0,element:J,triggerName:y,isRemovalTransition:te,fromState:E,fromStyles:Ie,toState:k,toStyles:Qe,timelines:tt,queriedElements:St,preStyleProps:zt,postStyleProps:wn,totalTime:On,errors:zn}}const Ns={};class hr{constructor(y,E,k){this._triggerName=y,this.ast=E,this._stateStyles=k}match(y,E,k,te){return function Es(J,y,E,k,te){return J.some(Ie=>Ie(y,E,k,te))}(this.ast.matchers,y,E,k,te)}buildStyles(y,E,k){const te=this._stateStyles["*"],Ie=this._stateStyles[y],Qe=te?te.buildStyles(E,k):{};return Ie?Ie.buildStyles(E,k):Qe}build(y,E,k,te,Ie,Qe,tt,St,zt,wn){const On=[],zn=this.ast.options&&this.ast.options.params||Ns,kn=this.buildStyles(k,tt&&tt.params||Ns,On),Zn=St&&St.params||Ns,Pi=this.buildStyles(te,Zn,On),tr=new Set,ir=new Map,Ur=new Map,Di="void"===te,Or={params:Object.assign(Object.assign({},zn),Zn)},Vi=wn?[]:er(y,E,this.ast.animation,Ie,Qe,kn,Pi,Or,zt,On);let Yr=0;if(Vi.forEach(So=>{Yr=Math.max(So.duration+So.delay,Yr)}),On.length)return is(E,this._triggerName,k,te,Di,kn,Pi,[],[],ir,Ur,Yr,On);Vi.forEach(So=>{const io=So.element,Bs=Et(ir,io,{});So.preStyleProps.forEach(qr=>Bs[qr]=!0);const Mo=Et(Ur,io,{});So.postStyleProps.forEach(qr=>Mo[qr]=!0),io!==E&&tr.add(io)});const Qi=Gt(tr.values());return is(E,this._triggerName,k,te,Di,kn,Pi,Vi,Qi,ir,Ur,Yr)}}class rs{constructor(y,E,k){this.styles=y,this.defaultParams=E,this.normalizer=k}buildStyles(y,E){const k={},te=Te(this.defaultParams);return Object.keys(y).forEach(Ie=>{const Qe=y[Ie];null!=Qe&&(te[Ie]=Qe)}),this.styles.styles.forEach(Ie=>{if("string"!=typeof Ie){const Qe=Ie;Object.keys(Qe).forEach(tt=>{let St=Qe[tt];St.length>1&&(St=_t(St,te,E));const zt=this.normalizer.normalizePropertyName(tt,E);St=this.normalizer.normalizeStyleValue(tt,zt,St,E),k[zt]=St})}}),k}}class ar{constructor(y,E,k){this.name=y,this.ast=E,this._normalizer=k,this.transitionFactories=[],this.states={},E.states.forEach(te=>{this.states[te.name]=new rs(te.style,te.options&&te.options.params||{},k)}),xr(this.states,"true","1"),xr(this.states,"false","0"),E.transitions.forEach(te=>{this.transitionFactories.push(new hr(y,te,this.states))}),this.fallbackTransition=function Wr(J,y,E){return new hr(J,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Qe,tt)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,E,k,te){return this.transitionFactories.find(Qe=>Qe.match(y,E,k,te))||null}matchStyles(y,E,k){return this.fallbackTransition.buildStyles(y,E,k)}}function xr(J,y,E){J.hasOwnProperty(y)?J.hasOwnProperty(E)||(J[E]=J[y]):J.hasOwnProperty(E)&&(J[y]=J[E])}const Br=new zs;class Fs{constructor(y,E,k){this.bodyNode=y,this._driver=E,this._normalizer=k,this._animations={},this._playersById={},this.players=[]}register(y,E){const k=[],Ie=_s(this._driver,E,k,[]);if(k.length)throw function wt(J){return new h.vHH(3503,ne)}();this._animations[y]=Ie}_buildPlayer(y,E,k){const te=y.element,Ie=ht(0,this._normalizer,0,y.keyframes,E,k);return this._driver.animate(te,Ie,y.duration,y.delay,y.easing,[],!0)}create(y,E,k={}){const te=[],Ie=this._animations[y];let Qe;const tt=new Map;if(Ie?(Qe=er(this._driver,E,Ie,jn,Ln,{},{},k,Br,te),Qe.forEach(wn=>{const On=Et(tt,wn.element,{});wn.postStyleProps.forEach(zn=>On[zn]=null)})):(te.push(function yt(){return new h.vHH(3300,ne)}()),Qe=[]),te.length)throw function kt(J){return new h.vHH(3504,ne)}();tt.forEach((wn,On)=>{Object.keys(wn).forEach(zn=>{wn[zn]=this._driver.computeStyle(On,zn,C.l3)})});const zt=pt(Qe.map(wn=>{const On=tt.get(wn.element);return this._buildPlayer(wn,{},On)}));return this._playersById[y]=zt,zt.onDestroy(()=>this.destroy(y)),this.players.push(zt),zt}destroy(y){const E=this._getPlayer(y);E.destroy(),delete this._playersById[y];const k=this.players.indexOf(E);k>=0&&this.players.splice(k,1)}_getPlayer(y){const E=this._playersById[y];if(!E)throw function At(J){return new h.vHH(3301,ne)}();return E}listen(y,E,k,te){const Ie=Se(E,"","","");return Me(this._getPlayer(y),k,Ie,te),()=>{}}command(y,E,k,te){if("register"==k)return void this.register(y,te[0]);if("create"==k)return void this.create(y,E,te[0]||{});const Ie=this._getPlayer(y);switch(k){case"play":Ie.play();break;case"pause":Ie.pause();break;case"reset":Ie.reset();break;case"restart":Ie.restart();break;case"finish":Ie.finish();break;case"init":Ie.init();break;case"setPosition":Ie.setPosition(parseFloat(te[0]));break;case"destroy":this.destroy(y)}}}const $o="ng-animate-queued",Cr="ng-animate-disabled",Ri=[],Ds={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ki="__ng_removed";class Kr{constructor(y,E=""){this.namespaceId=E;const k=y&&y.hasOwnProperty("value");if(this.value=function U(J){return null!=J?J:null}(k?y.value:y),k){const Ie=Te(y);delete Ie.value,this.options=Ie}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(y){const E=y.params;if(E){const k=this.options.params;Object.keys(E).forEach(te=>{null==k[te]&&(k[te]=E[te])})}}}const ss="void",gr=new Kr(ss);class cs{constructor(y,E,k){this.id=y,this.hostElement=E,this._engine=k,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,$t(E,this._hostClassName)}listen(y,E,k,te){if(!this._triggers.hasOwnProperty(E))throw function ct(J,y){return new h.vHH(3302,ne)}();if(null==k||0==k.length)throw function Xe(J){return new h.vHH(3303,ne)}();if(!function F(J){return"start"==J||"done"==J}(k))throw function $e(J,y){return new h.vHH(3400,ne)}();const Ie=Et(this._elementListeners,y,[]),Qe={name:E,phase:k,callback:te};Ie.push(Qe);const tt=Et(this._engine.statesByElement,y,{});return tt.hasOwnProperty(E)||($t(y,ni),$t(y,ni+"-"+E),tt[E]=gr),()=>{this._engine.afterFlush(()=>{const St=Ie.indexOf(Qe);St>=0&&Ie.splice(St,1),this._triggers[E]||delete tt[E]})}}register(y,E){return!this._triggers[y]&&(this._triggers[y]=E,!0)}_getTrigger(y){const E=this._triggers[y];if(!E)throw function et(J){return new h.vHH(3401,ne)}();return E}trigger(y,E,k,te=!0){const Ie=this._getTrigger(E),Qe=new us(this.id,E,y);let tt=this._engine.statesByElement.get(y);tt||($t(y,ni),$t(y,ni+"-"+E),this._engine.statesByElement.set(y,tt={}));let St=tt[E];const zt=new Kr(k,this.id);if(!(k&&k.hasOwnProperty("value"))&&St&&zt.absorbOptions(St.options),tt[E]=zt,St||(St=gr),zt.value!==ss&&St.value===zt.value){if(!function fi(J,y){const E=Object.keys(J),k=Object.keys(y);if(E.length!=k.length)return!1;for(let te=0;te<E.length;te++){const Ie=E[te];if(!y.hasOwnProperty(Ie)||J[Ie]!==y[Ie])return!1}return!0}(St.params,zt.params)){const Zn=[],Pi=Ie.matchStyles(St.value,St.params,Zn),tr=Ie.matchStyles(zt.value,zt.params,Zn);Zn.length?this._engine.reportError(Zn):this._engine.afterFlush(()=>{vn(y,Pi),oi(y,tr)})}return}const zn=Et(this._engine.playersByElement,y,[]);zn.forEach(Zn=>{Zn.namespaceId==this.id&&Zn.triggerName==E&&Zn.queued&&Zn.destroy()});let ci=Ie.matchTransition(St.value,zt.value,y,zt.params),kn=!1;if(!ci){if(!te)return;ci=Ie.fallbackTransition,kn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:E,transition:ci,fromState:St,toState:zt,player:Qe,isFallbackTransition:kn}),kn||($t(y,$o),Qe.onStart(()=>{Dn(y,$o)})),Qe.onDone(()=>{let Zn=this.players.indexOf(Qe);Zn>=0&&this.players.splice(Zn,1);const Pi=this._engine.playersByElement.get(y);if(Pi){let tr=Pi.indexOf(Qe);tr>=0&&Pi.splice(tr,1)}}),this.players.push(Qe),zn.push(Qe),Qe}deregister(y){delete this._triggers[y],this._engine.statesByElement.forEach((E,k)=>{delete E[y]}),this._elementListeners.forEach((E,k)=>{this._elementListeners.set(k,E.filter(te=>te.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const E=this._engine.playersByElement.get(y);E&&(E.forEach(k=>k.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,E){const k=this._engine.driver.query(y,on,!0);k.forEach(te=>{if(te[ki])return;const Ie=this._engine.fetchNamespacesByElement(te);Ie.size?Ie.forEach(Qe=>Qe.triggerLeaveAnimation(te,E,!1,!0)):this.clearElementCache(te)}),this._engine.afterFlushAnimationsDone(()=>k.forEach(te=>this.clearElementCache(te)))}triggerLeaveAnimation(y,E,k,te){const Ie=this._engine.statesByElement.get(y),Qe=new Map;if(Ie){const tt=[];if(Object.keys(Ie).forEach(St=>{if(Qe.set(St,Ie[St].value),this._triggers[St]){const zt=this.trigger(y,St,ss,te);zt&&tt.push(zt)}}),tt.length)return this._engine.markElementAsRemoved(this.id,y,!0,E,Qe),k&&pt(tt).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const E=this._elementListeners.get(y),k=this._engine.statesByElement.get(y);if(E&&k){const te=new Set;E.forEach(Ie=>{const Qe=Ie.name;if(te.has(Qe))return;te.add(Qe);const St=this._triggers[Qe].fallbackTransition,zt=k[Qe]||gr,wn=new Kr(ss),On=new us(this.id,Qe,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Qe,transition:St,fromState:zt,toState:wn,player:On,isFallbackTransition:!0})})}}removeNode(y,E){const k=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,E),this.triggerLeaveAnimation(y,E,!0))return;let te=!1;if(k.totalAnimations){const Ie=k.players.length?k.playersByQueriedElement.get(y):[];if(Ie&&Ie.length)te=!0;else{let Qe=y;for(;Qe=Qe.parentNode;)if(k.statesByElement.get(Qe)){te=!0;break}}}if(this.prepareLeaveAnimationListeners(y),te)k.markElementAsRemoved(this.id,y,!1,E);else{const Ie=y[ki];(!Ie||Ie===Ds)&&(k.afterFlush(()=>this.clearElementCache(y)),k.destroyInnerAnimations(y),k._onRemovalComplete(y,E))}}insertNode(y,E){$t(y,this._hostClassName)}drainQueuedTransitions(y){const E=[];return this._queue.forEach(k=>{const te=k.player;if(te.destroyed)return;const Ie=k.element,Qe=this._elementListeners.get(Ie);Qe&&Qe.forEach(tt=>{if(tt.name==k.triggerName){const St=Se(Ie,k.triggerName,k.fromState.value,k.toState.value);St._data=y,Me(k.player,tt.phase,St,tt.callback)}}),te.markedForDestroy?this._engine.afterFlush(()=>{te.destroy()}):E.push(k)}),this._queue=[],E.sort((k,te)=>{const Ie=k.transition.ast.depCount,Qe=te.transition.ast.depCount;return 0==Ie||0==Qe?Ie-Qe:this._engine.driver.containsElement(k.element,te.element)?1:-1})}destroy(y){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let E=!1;return this._elementListeners.has(y)&&(E=!0),E=!!this._queue.find(k=>k.element===y)||E,E}}class Zr{constructor(y,E,k){this.bodyNode=y,this.driver=E,this._normalizer=k,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(te,Ie)=>{}}_onRemovalComplete(y,E){this.onRemovalComplete(y,E)}get queuedPlayers(){const y=[];return this._namespaceList.forEach(E=>{E.players.forEach(k=>{k.queued&&y.push(k)})}),y}createNamespace(y,E){const k=new cs(y,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(k,E):(this.newHostElements.set(E,k),this.collectEnterElement(E)),this._namespaceLookup[y]=k}_balanceNamespaceList(y,E){const k=this._namespaceList,te=this.namespacesByHostElement,Ie=k.length-1;if(Ie>=0){let Qe=!1;if(void 0!==this.driver.getParentElement){let tt=this.driver.getParentElement(E);for(;tt;){const St=te.get(tt);if(St){const zt=k.indexOf(St);k.splice(zt+1,0,y),Qe=!0;break}tt=this.driver.getParentElement(tt)}}else for(let tt=Ie;tt>=0;tt--)if(this.driver.containsElement(k[tt].hostElement,E)){k.splice(tt+1,0,y),Qe=!0;break}Qe||k.unshift(y)}else k.push(y);return te.set(E,y),y}register(y,E){let k=this._namespaceLookup[y];return k||(k=this.createNamespace(y,E)),k}registerTrigger(y,E,k){let te=this._namespaceLookup[y];te&&te.register(E,k)&&this.totalAnimations++}destroy(y,E){if(!y)return;const k=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(k.hostElement),delete this._namespaceLookup[y];const te=this._namespaceList.indexOf(k);te>=0&&this._namespaceList.splice(te,1)}),this.afterFlushAnimationsDone(()=>k.destroy(E))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const E=new Set,k=this.statesByElement.get(y);if(k){const te=Object.keys(k);for(let Ie=0;Ie<te.length;Ie++){const Qe=k[te[Ie]].namespaceId;if(Qe){const tt=this._fetchNamespace(Qe);tt&&E.add(tt)}}}return E}trigger(y,E,k,te){if(re(E)){const Ie=this._fetchNamespace(y);if(Ie)return Ie.trigger(E,k,te),!0}return!1}insertNode(y,E,k,te){if(!re(E))return;const Ie=E[ki];if(Ie&&Ie.setForRemoval){Ie.setForRemoval=!1,Ie.setForMove=!0;const Qe=this.collectedLeaveElements.indexOf(E);Qe>=0&&this.collectedLeaveElements.splice(Qe,1)}if(y){const Qe=this._fetchNamespace(y);Qe&&Qe.insertNode(E,k)}te&&this.collectEnterElement(E)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,E){E?this.disabledNodes.has(y)||(this.disabledNodes.add(y),$t(y,Cr)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Dn(y,Cr))}removeNode(y,E,k,te){if(re(E)){const Ie=y?this._fetchNamespace(y):null;if(Ie?Ie.removeNode(E,te):this.markElementAsRemoved(y,E,!1,te),k){const Qe=this.namespacesByHostElement.get(E);Qe&&Qe.id!==y&&Qe.removeNode(E,te)}}else this._onRemovalComplete(E,te)}markElementAsRemoved(y,E,k,te,Ie){this.collectedLeaveElements.push(E),E[ki]={namespaceId:y,setForRemoval:te,hasAnimation:k,removedBeforeQueried:!1,previousTriggersValues:Ie}}listen(y,E,k,te,Ie){return re(E)?this._fetchNamespace(y).listen(E,k,te,Ie):()=>{}}_buildInstruction(y,E,k,te,Ie){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,k,te,y.fromState.options,y.toState.options,E,Ie)}destroyInnerAnimations(y){let E=this.driver.query(y,on,!0);E.forEach(k=>this.destroyActiveAnimationsForElement(k)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(y,ze,!0),E.forEach(k=>this.finishActiveQueriedAnimationOnElement(k)))}destroyActiveAnimationsForElement(y){const E=this.playersByElement.get(y);E&&E.forEach(k=>{k.queued?k.markedForDestroy=!0:k.destroy()})}finishActiveQueriedAnimationOnElement(y){const E=this.playersByQueriedElement.get(y);E&&E.forEach(k=>k.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return pt(this.players).onDone(()=>y());y()})}processLeaveNode(y){var E;const k=y[ki];if(k&&k.setForRemoval){if(y[ki]=Ds,k.namespaceId){this.destroyInnerAnimations(y);const te=this._fetchNamespace(k.namespaceId);te&&te.clearElementCache(y)}this._onRemovalComplete(y,k.setForRemoval)}(null===(E=y.classList)||void 0===E?void 0:E.contains(Cr))&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(te=>{this.markElementAsDisabled(te,!1)})}flush(y=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((k,te)=>this._balanceNamespaceList(k,te)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let k=0;k<this.collectedEnterElements.length;k++)$t(this.collectedEnterElements[k],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const k=[];try{E=this._flushAnimations(k,y)}finally{for(let te=0;te<k.length;te++)k[te]()}}else for(let k=0;k<this.collectedLeaveElements.length;k++)this.processLeaveNode(this.collectedLeaveElements[k]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(k=>k()),this._flushFns=[],this._whenQuietFns.length){const k=this._whenQuietFns;this._whenQuietFns=[],E.length?pt(E).onDone(()=>{k.forEach(te=>te())}):k.forEach(te=>te())}}reportError(y){throw function gt(J){return new h.vHH(3402,ne)}()}_flushAnimations(y,E){const k=new zs,te=[],Ie=new Map,Qe=[],tt=new Map,St=new Map,zt=new Map,wn=new Set;this.disabledNodes.forEach(Tn=>{wn.add(Tn);const En=this.driver.query(Tn,".ng-animate-queued",!0);for(let Kn=0;Kn<En.length;Kn++)wn.add(En[Kn])});const On=this.bodyNode,zn=Array.from(this.statesByElement.keys()),ci=Nt(zn,this.collectedEnterElements),kn=new Map;let Zn=0;ci.forEach((Tn,En)=>{const Kn=jn+Zn++;kn.set(En,Kn),Tn.forEach(ui=>$t(ui,Kn))});const Pi=[],tr=new Set,ir=new Set;for(let Tn=0;Tn<this.collectedLeaveElements.length;Tn++){const En=this.collectedLeaveElements[Tn],Kn=En[ki];Kn&&Kn.setForRemoval&&(Pi.push(En),tr.add(En),Kn.hasAnimation?this.driver.query(En,".ng-star-inserted",!0).forEach(ui=>tr.add(ui)):ir.add(En))}const Ur=new Map,Di=Nt(zn,Array.from(tr));Di.forEach((Tn,En)=>{const Kn=Ln+Zn++;Ur.set(En,Kn),Tn.forEach(ui=>$t(ui,Kn))}),y.push(()=>{ci.forEach((Tn,En)=>{const Kn=kn.get(En);Tn.forEach(ui=>Dn(ui,Kn))}),Di.forEach((Tn,En)=>{const Kn=Ur.get(En);Tn.forEach(ui=>Dn(ui,Kn))}),Pi.forEach(Tn=>{this.processLeaveNode(Tn)})});const Or=[],Vi=[];for(let Tn=this._namespaceList.length-1;Tn>=0;Tn--)this._namespaceList[Tn].drainQueuedTransitions(E).forEach(Kn=>{const ui=Kn.player,Ui=Kn.element;if(Or.push(ui),this.collectedEnterElements.length){const Qr=Ui[ki];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(Kn.triggerName)){const Ao=Qr.previousTriggersValues.get(Kn.triggerName),Ki=this.statesByElement.get(Kn.element);Ki&&Ki[Kn.triggerName]&&(Ki[Kn.triggerName].value=Ao)}return void ui.destroy()}}const Ts=!On||!this.driver.containsElement(On,Ui),rr=Ur.get(Ui),os=kn.get(Ui),Ni=this._buildInstruction(Kn,k,os,rr,Ts);if(Ni.errors&&Ni.errors.length)return void Vi.push(Ni);if(Ts)return ui.onStart(()=>vn(Ui,Ni.fromStyles)),ui.onDestroy(()=>oi(Ui,Ni.toStyles)),void te.push(ui);if(Kn.isFallbackTransition)return ui.onStart(()=>vn(Ui,Ni.fromStyles)),ui.onDestroy(()=>oi(Ui,Ni.toStyles)),void te.push(ui);const Zo=[];Ni.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||Zo.push(Qr)}),Ni.timelines=Zo,k.append(Ui,Ni.timelines),Qe.push({instruction:Ni,player:ui,element:Ui}),Ni.queriedElements.forEach(Qr=>Et(tt,Qr,[]).push(ui)),Ni.preStyleProps.forEach((Qr,Ao)=>{const Ki=Object.keys(Qr);if(Ki.length){let Ss=St.get(Ao);Ss||St.set(Ao,Ss=new Set),Ki.forEach(pa=>Ss.add(pa))}}),Ni.postStyleProps.forEach((Qr,Ao)=>{const Ki=Object.keys(Qr);let Ss=zt.get(Ao);Ss||zt.set(Ao,Ss=new Set),Ki.forEach(pa=>Ss.add(pa))})});if(Vi.length){const Tn=[];Vi.forEach(En=>{Tn.push(function Ce(J,y){return new h.vHH(3505,ne)}())}),Or.forEach(En=>En.destroy()),this.reportError(Tn)}const Yr=new Map,Qi=new Map;Qe.forEach(Tn=>{const En=Tn.element;k.has(En)&&(Qi.set(En,En),this._beforeAnimationBuild(Tn.player.namespaceId,Tn.instruction,Yr))}),te.forEach(Tn=>{const En=Tn.element;this._getPreviousPlayers(En,!1,Tn.namespaceId,Tn.triggerName,null).forEach(ui=>{Et(Yr,En,[]).push(ui),ui.destroy()})});const So=Pi.filter(Tn=>qi(Tn,St,zt)),io=new Map;Ze(io,this.driver,ir,zt,C.l3).forEach(Tn=>{qi(Tn,St,zt)&&So.push(Tn)});const Mo=new Map;ci.forEach((Tn,En)=>{Ze(Mo,this.driver,new Set(Tn),St,C.k1)}),So.forEach(Tn=>{const En=io.get(Tn),Kn=Mo.get(Tn);io.set(Tn,Object.assign(Object.assign({},En),Kn))});const qr=[],ro=[],hs={};Qe.forEach(Tn=>{const{element:En,player:Kn,instruction:ui}=Tn;if(k.has(En)){if(wn.has(En))return Kn.onDestroy(()=>oi(En,ui.toStyles)),Kn.disabled=!0,Kn.overrideTotalTime(ui.totalTime),void te.push(Kn);let Ui=hs;if(Qi.size>1){let rr=En;const os=[];for(;rr=rr.parentNode;){const Ni=Qi.get(rr);if(Ni){Ui=Ni;break}os.push(rr)}os.forEach(Ni=>Qi.set(Ni,Ui))}const Ts=this._buildAnimation(Kn.namespaceId,ui,Yr,Ie,Mo,io);if(Kn.setRealPlayer(Ts),Ui===hs)qr.push(Kn);else{const rr=this.playersByElement.get(Ui);rr&&rr.length&&(Kn.parentPlayer=pt(rr)),te.push(Kn)}}else vn(En,ui.fromStyles),Kn.onDestroy(()=>oi(En,ui.toStyles)),ro.push(Kn),wn.has(En)&&te.push(Kn)}),ro.forEach(Tn=>{const En=Ie.get(Tn.element);if(En&&En.length){const Kn=pt(En);Tn.setRealPlayer(Kn)}}),te.forEach(Tn=>{Tn.parentPlayer?Tn.syncPlayerEvents(Tn.parentPlayer):Tn.destroy()});for(let Tn=0;Tn<Pi.length;Tn++){const En=Pi[Tn],Kn=En[ki];if(Dn(En,Ln),Kn&&Kn.hasAnimation)continue;let ui=[];if(tt.size){let Ts=tt.get(En);Ts&&Ts.length&&ui.push(...Ts);let rr=this.driver.query(En,ze,!0);for(let os=0;os<rr.length;os++){let Ni=tt.get(rr[os]);Ni&&Ni.length&&ui.push(...Ni)}}const Ui=ui.filter(Ts=>!Ts.destroyed);Ui.length?$n(this,En,Ui):this.processLeaveNode(En)}return Pi.length=0,qr.forEach(Tn=>{this.players.push(Tn),Tn.onDone(()=>{Tn.destroy();const En=this.players.indexOf(Tn);this.players.splice(En,1)}),Tn.play()}),qr}elementContainsData(y,E){let k=!1;const te=E[ki];return te&&te.setForRemoval&&(k=!0),this.playersByElement.has(E)&&(k=!0),this.playersByQueriedElement.has(E)&&(k=!0),this.statesByElement.has(E)&&(k=!0),this._fetchNamespace(y).elementContainsData(E)||k}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,E,k,te,Ie){let Qe=[];if(E){const tt=this.playersByQueriedElement.get(y);tt&&(Qe=tt)}else{const tt=this.playersByElement.get(y);if(tt){const St=!Ie||Ie==ss;tt.forEach(zt=>{zt.queued||!St&&zt.triggerName!=te||Qe.push(zt)})}}return(k||te)&&(Qe=Qe.filter(tt=>!(k&&k!=tt.namespaceId||te&&te!=tt.triggerName))),Qe}_beforeAnimationBuild(y,E,k){const Ie=E.element,Qe=E.isRemovalTransition?void 0:y,tt=E.isRemovalTransition?void 0:E.triggerName;for(const St of E.timelines){const zt=St.element,wn=zt!==Ie,On=Et(k,zt,[]);this._getPreviousPlayers(zt,wn,Qe,tt,E.toState).forEach(ci=>{const kn=ci.getRealPlayer();kn.beforeDestroy&&kn.beforeDestroy(),ci.destroy(),On.push(ci)})}vn(Ie,E.fromStyles)}_buildAnimation(y,E,k,te,Ie,Qe){const tt=E.triggerName,St=E.element,zt=[],wn=new Set,On=new Set,zn=E.timelines.map(kn=>{const Zn=kn.element;wn.add(Zn);const Pi=Zn[ki];if(Pi&&Pi.removedBeforeQueried)return new C.ZN(kn.duration,kn.delay);const tr=Zn!==St,ir=function mi(J){const y=[];return li(J,y),y}((k.get(Zn)||Ri).map(Yr=>Yr.getRealPlayer())).filter(Yr=>!!Yr.element&&Yr.element===Zn),Ur=Ie.get(Zn),Di=Qe.get(Zn),Or=ht(0,this._normalizer,0,kn.keyframes,Ur,Di),Vi=this._buildPlayer(kn,Or,ir);if(kn.subTimeline&&te&&On.add(Zn),tr){const Yr=new us(y,tt,Zn);Yr.setRealPlayer(Vi),zt.push(Yr)}return Vi});zt.forEach(kn=>{Et(this.playersByQueriedElement,kn.element,[]).push(kn),kn.onDone(()=>function _i(J,y,E){let k;if(J instanceof Map){if(k=J.get(y),k){if(k.length){const te=k.indexOf(E);k.splice(te,1)}0==k.length&&J.delete(y)}}else if(k=J[y],k){if(k.length){const te=k.indexOf(E);k.splice(te,1)}0==k.length&&delete J[y]}return k}(this.playersByQueriedElement,kn.element,kn))}),wn.forEach(kn=>$t(kn,Ci));const ci=pt(zn);return ci.onDestroy(()=>{wn.forEach(kn=>Dn(kn,Ci)),oi(St,E.toStyles)}),On.forEach(kn=>{Et(te,kn,[]).push(ci)}),ci}_buildPlayer(y,E,k){return E.length>0?this.driver.animate(y.element,E,y.duration,y.delay,y.easing,k):new C.ZN(y.duration,y.delay)}}class us{constructor(y,E,k){this.namespaceId=y,this.triggerName=E,this.element=k,this._player=new C.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,Object.keys(this._queuedCallbacks).forEach(E=>{this._queuedCallbacks[E].forEach(k=>Me(y,E,void 0,k))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const E=this._player;E.triggerCallback&&y.onStart(()=>E.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,E){Et(this._queuedCallbacks,y,[]).push(E)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const E=this._player;E.triggerCallback&&E.triggerCallback(y)}}function re(J){return J&&1===J.nodeType}function ce(J,y){const E=J.style.display;return J.style.display=null!=y?y:"none",E}function Ze(J,y,E,k,te){const Ie=[];E.forEach(St=>Ie.push(ce(St)));const Qe=[];k.forEach((St,zt)=>{const wn={};St.forEach(On=>{const zn=wn[On]=y.computeStyle(zt,On,te);(!zn||0==zn.length)&&(zt[ki]=wr,Qe.push(zt))}),J.set(zt,wn)});let tt=0;return E.forEach(St=>ce(St,Ie[tt++])),Qe}function Nt(J,y){const E=new Map;if(J.forEach(tt=>E.set(tt,[])),0==y.length)return E;const te=new Set(y),Ie=new Map;function Qe(tt){if(!tt)return 1;let St=Ie.get(tt);if(St)return St;const zt=tt.parentNode;return St=E.has(zt)?zt:te.has(zt)?1:Qe(zt),Ie.set(tt,St),St}return y.forEach(tt=>{const St=Qe(tt);1!==St&&E.get(St).push(tt)}),E}function $t(J,y){var E;null===(E=J.classList)||void 0===E||E.add(y)}function Dn(J,y){var E;null===(E=J.classList)||void 0===E||E.remove(y)}function $n(J,y,E){pt(E).onDone(()=>J.processLeaveNode(y))}function li(J,y){for(let E=0;E<J.length;E++){const k=J[E];k instanceof C.ZE?li(k.players,y):y.push(k)}}function qi(J,y,E){const k=E.get(J);if(!k)return!1;let te=y.get(J);return te?k.forEach(Ie=>te.add(Ie)):y.set(J,k),E.delete(J),!0}class wi{constructor(y,E,k){this.bodyNode=y,this._driver=E,this._normalizer=k,this._triggerCache={},this.onRemovalComplete=(te,Ie)=>{},this._transitionEngine=new Zr(y,E,k),this._timelineEngine=new Fs(y,E,k),this._transitionEngine.onRemovalComplete=(te,Ie)=>this.onRemovalComplete(te,Ie)}registerTrigger(y,E,k,te,Ie){const Qe=y+"-"+te;let tt=this._triggerCache[Qe];if(!tt){const St=[],wn=_s(this._driver,Ie,St,[]);if(St.length)throw function Je(J,y){return new h.vHH(3404,ne)}();tt=function Go(J,y,E){return new ar(J,y,E)}(te,wn,this._normalizer),this._triggerCache[Qe]=tt}this._transitionEngine.registerTrigger(E,te,tt)}register(y,E){this._transitionEngine.register(y,E)}destroy(y,E){this._transitionEngine.destroy(y,E)}onInsert(y,E,k,te){this._transitionEngine.insertNode(y,E,k,te)}onRemove(y,E,k,te){this._transitionEngine.removeNode(y,E,te||!1,k)}disableAnimations(y,E){this._transitionEngine.markElementAsDisabled(y,E)}process(y,E,k,te){if("@"==k.charAt(0)){const[Ie,Qe]=Jt(k);this._timelineEngine.command(Ie,E,Qe,te)}else this._transitionEngine.trigger(y,E,k,te)}listen(y,E,k,te,Ie){if("@"==k.charAt(0)){const[Qe,tt]=Jt(k);return this._timelineEngine.listen(Qe,E,tt,Ie)}return this._transitionEngine.listen(y,E,k,te,Ie)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let H=(()=>{class J{constructor(E,k,te){this._element=E,this._startStyles=k,this._endStyles=te,this._state=0;let Ie=J.initialStylesByElement.get(E);Ie||J.initialStylesByElement.set(E,Ie={}),this._initialStyles=Ie}start(){this._state<1&&(this._startStyles&&oi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oi(this._element,this._initialStyles),this._endStyles&&(oi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(J.initialStylesByElement.delete(this._element),this._startStyles&&(vn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vn(this._element,this._endStyles),this._endStyles=null),oi(this._element,this._initialStyles),this._state=3)}}return J.initialStylesByElement=new WeakMap,J})();function N(J){let y=null;const E=Object.keys(J);for(let k=0;k<E.length;k++){const te=E[k];M(te)&&(y=y||{},y[te]=J[te])}return y}function M(J){return"display"===J||"position"===J}class ae{constructor(y,E,k,te){this.element=y,this.keyframes=E,this.options=k,this._specialStyles=te,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=k.duration,this._delay=k.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(y,E,k){return y.animate(E,k)}onStart(y){this._onStartFns.push(y)}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y={};if(this.hasStarted()){const E=this._finalKeyframe;Object.keys(E).forEach(k=>{"offset"!=k&&(y[k]=this._finished?E[k]:mn(this.element,k))})}this.currentSnapshot=y}triggerCallback(y){const E="start"==y?this._onStartFns:this._onDoneFns;E.forEach(k=>k()),E.length=0}}class Lt{validateStyleProperty(y){return we(y)}matchesElement(y,E){return!1}containsElement(y,E){return Pe(y,E)}getParentElement(y){return pn(y)}query(y,E,k){return q(y,E,k)}computeStyle(y,E,k){return window.getComputedStyle(y)[E]}animate(y,E,k,te,Ie,Qe=[]){const St={duration:k,delay:te,fill:0==te?"both":"forwards"};Ie&&(St.easing=Ie);const zt={},wn=Qe.filter(zn=>zn instanceof ae);(function st(J,y){return 0===J||0===y})(k,te)&&wn.forEach(zn=>{let ci=zn.currentSnapshot;Object.keys(ci).forEach(kn=>zt[kn]=ci[kn])}),E=function Pt(J,y,E){const k=Object.keys(E);if(k.length&&y.length){let Ie=y[0],Qe=[];if(k.forEach(tt=>{Ie.hasOwnProperty(tt)||Qe.push(tt),Ie[tt]=E[tt]}),Qe.length)for(var te=1;te<y.length;te++){let tt=y[te];Qe.forEach(function(St){tt[St]=mn(J,St)})}}return y}(y,E=E.map(zn=>Wt(zn,!1)),zt);const On=function Wi(J,y){let E=null,k=null;return Array.isArray(y)&&y.length?(E=N(y[0]),y.length>1&&(k=N(y[y.length-1]))):y&&(E=N(y)),E||k?new H(J,E,k):null}(y,E);return new ae(y,E,St,On)}}var Cn=b(9808);let vi=(()=>{class J extends C._j{constructor(E,k){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(k.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(E){const k=this._nextAnimationId.toString();this._nextAnimationId++;const te=Array.isArray(E)?(0,C.vP)(E):E;return ds(this._renderer,null,k,"register",[te]),new Vr(k,this._renderer)}}return J.\u0275fac=function(E){return new(E||J)(h.LFG(h.FYo),h.LFG(Cn.K0))},J.\u0275prov=h.Yz7({token:J,factory:J.\u0275fac}),J})();class Vr extends C.LC{constructor(y,E){super(),this._id=y,this._renderer=E}create(y,E){return new mo(this._id,y,E||{},this._renderer)}}class mo{constructor(y,E,k,te){this.id=y,this.element=E,this._renderer=te,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",k)}_listen(y,E){return this._renderer.listen(this.element,`@@${this.id}:${y}`,E)}_command(y,...E){return ds(this._renderer,this.element,this.id,y,E)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){var y,E;return null!==(E=null===(y=this._renderer.engine.players[+this.id])||void 0===y?void 0:y.getPosition())&&void 0!==E?E:0}}function ds(J,y,E,k,te){return J.setProperty(y,`@@${E}:${k}`,te)}const yi="@.disabled";let zo=(()=>{class J{constructor(E,k,te){this.delegate=E,this.engine=k,this._zone=te,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),k.onRemovalComplete=(Ie,Qe)=>{const tt=null==Qe?void 0:Qe.parentNode(Ie);tt&&Qe.removeChild(tt,Ie)}}createRenderer(E,k){const Ie=this.delegate.createRenderer(E,k);if(!(E&&k&&k.data&&k.data.animation)){let wn=this._rendererCache.get(Ie);return wn||(wn=new nr("",Ie,this.engine),this._rendererCache.set(Ie,wn)),wn}const Qe=k.id,tt=k.id+"-"+this._currentId;this._currentId++,this.engine.register(tt,E);const St=wn=>{Array.isArray(wn)?wn.forEach(St):this.engine.registerTrigger(Qe,tt,E,wn.name,wn)};return k.data.animation.forEach(St),new Wo(this,tt,Ie,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,k,te){E>=0&&E<this._microtaskId?this._zone.run(()=>k(te)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ie=>{const[Qe,tt]=Ie;Qe(tt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([k,te]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return J.\u0275fac=function(E){return new(E||J)(h.LFG(h.FYo),h.LFG(wi),h.LFG(h.R0b))},J.\u0275prov=h.Yz7({token:J,factory:J.\u0275fac}),J})();class nr{constructor(y,E,k){this.namespaceId=y,this.delegate=E,this.engine=k,this.destroyNode=this.delegate.destroyNode?te=>E.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(y,E){return this.delegate.createElement(y,E)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,E){this.delegate.appendChild(y,E),this.engine.onInsert(this.namespaceId,E,y,!1)}insertBefore(y,E,k,te=!0){this.delegate.insertBefore(y,E,k),this.engine.onInsert(this.namespaceId,E,y,te)}removeChild(y,E,k){this.engine.onRemove(this.namespaceId,E,this.delegate,k)}selectRootElement(y,E){return this.delegate.selectRootElement(y,E)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,E,k,te){this.delegate.setAttribute(y,E,k,te)}removeAttribute(y,E,k){this.delegate.removeAttribute(y,E,k)}addClass(y,E){this.delegate.addClass(y,E)}removeClass(y,E){this.delegate.removeClass(y,E)}setStyle(y,E,k,te){this.delegate.setStyle(y,E,k,te)}removeStyle(y,E,k){this.delegate.removeStyle(y,E,k)}setProperty(y,E,k){"@"==E.charAt(0)&&E==yi?this.disableAnimations(y,!!k):this.delegate.setProperty(y,E,k)}setValue(y,E){this.delegate.setValue(y,E)}listen(y,E,k){return this.delegate.listen(y,E,k)}disableAnimations(y,E){this.engine.disableAnimations(y,E)}}class Wo extends nr{constructor(y,E,k,te){super(E,k,te),this.factory=y,this.namespaceId=E}setProperty(y,E,k){"@"==E.charAt(0)?"."==E.charAt(1)&&E==yi?this.disableAnimations(y,k=void 0===k||!!k):this.engine.process(this.namespaceId,y,E.substr(1),k):this.delegate.setProperty(y,E,k)}listen(y,E,k){if("@"==E.charAt(0)){const te=function go(J){switch(J){case"body":return document.body;case"document":return document;case"window":return window;default:return J}}(y);let Ie=E.substr(1),Qe="";return"@"!=Ie.charAt(0)&&([Ie,Qe]=function Is(J){const y=J.indexOf(".");return[J.substring(0,y),J.substr(y+1)]}(Ie)),this.engine.listen(this.namespaceId,te,Ie,Qe,tt=>{this.factory.scheduleListenerCallback(tt._data||-1,k,tt)})}return this.delegate.listen(y,E,k)}}let To=(()=>{class J extends wi{constructor(E,k,te){super(E.body,k,te)}ngOnDestroy(){this.flush()}}return J.\u0275fac=function(E){return new(E||J)(h.LFG(Cn.K0),h.LFG(Ke),h.LFG(Ps))},J.\u0275prov=h.Yz7({token:J,factory:J.\u0275fac}),J})();const sa=new h.OlP("AnimationModuleType"),to=[{provide:C._j,useClass:vi},{provide:Ps,useFactory:function Da(){return new fo}},{provide:wi,useClass:To},{provide:h.FYo,useFactory:function cl(J,y,E){return new zo(J,y,E)},deps:[g.se,wi,h.R0b]}],no=[{provide:Ke,useFactory:()=>new Lt},{provide:sa,useValue:"BrowserAnimations"},...to],pr=[{provide:Ke,useClass:de},{provide:sa,useValue:"NoopAnimations"},...to];let Ls=(()=>{class J{static withConfig(E){return{ngModule:J,providers:E.disableAnimations?pr:no}}}return J.\u0275fac=function(E){return new(E||J)},J.\u0275mod=h.oAB({type:J}),J.\u0275inj=h.cJS({providers:no,imports:[g.b2]}),J})()},2313:(Yt,Ye,b)=>{b.d(Ye,{b2:()=>cn,H7:()=>Nn,q6:()=>Et,se:()=>wt});var h=b(9808),g=b(5e3);class C extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends C{static makeCurrent(){(0,h.HT)(new ne)}onAndCancel(at,Ve,_t){return at.addEventListener(Ve,_t,!1),()=>{at.removeEventListener(Ve,_t,!1)}}dispatchEvent(at,Ve){at.dispatchEvent(Ve)}remove(at){at.parentNode&&at.parentNode.removeChild(at)}createElement(at,Ve){return(Ve=Ve||this.getDefaultDocument()).createElement(at)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(at){return at.nodeType===Node.ELEMENT_NODE}isShadowRoot(at){return at instanceof DocumentFragment}getGlobalEventTarget(at,Ve){return"window"===Ve?window:"document"===Ve?at:"body"===Ve?at.body:null}getBaseHref(at){const Ve=function ve(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==Ve?null:function ye(Dt){ke=ke||document.createElement("a"),ke.setAttribute("href",Dt);const at=ke.pathname;return"/"===at.charAt(0)?at:`/${at}`}(Ve)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(at){return(0,h.Mx)(document.cookie,at)}}let ke,ge=null;const le=new g.OlP("TRANSITION_ID"),fe=[{provide:g.ip1,useFactory:function se(Dt,at,Ve){return()=>{Ve.get(g.CZH).donePromise.then(()=>{const _t=(0,h.q)(),Gt=at.querySelectorAll(`style[ng-transition="${Dt}"]`);for(let It=0;It<Gt.length;It++)_t.remove(Gt[It])})}},deps:[le,h.K0,g.zs3],multi:!0}];class De{static init(){(0,g.VLi)(new De)}addToWindow(at){g.dqk.getAngularTestability=(_t,Gt=!0)=>{const It=at.findTestabilityInTree(_t,Gt);if(null==It)throw new Error("Could not find testability for element.");return It},g.dqk.getAllAngularTestabilities=()=>at.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>at.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(_t=>{const Gt=g.dqk.getAllAngularTestabilities();let It=Gt.length,Ne=!1;const _e=function(st){Ne=Ne||st,It--,0==It&&_t(Ne)};Gt.forEach(function(st){st.whenStable(_e)})})}findTestabilityInTree(at,Ve,_t){if(null==Ve)return null;const Gt=at.getTestability(Ve);return null!=Gt?Gt:_t?(0,h.q)().isShadowRoot(Ve)?this.findTestabilityInTree(at,Ve.host,!0):this.findTestabilityInTree(at,Ve.parentElement,!0):null}}let We=(()=>{class Dt{build(){return new XMLHttpRequest}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)},Dt.\u0275prov=g.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();const Re=new g.OlP("EventManagerPlugins");let je=(()=>{class Dt{constructor(Ve,_t){this._zone=_t,this._eventNameToPlugin=new Map,Ve.forEach(Gt=>Gt.manager=this),this._plugins=Ve.slice().reverse()}addEventListener(Ve,_t,Gt){return this._findPluginFor(_t).addEventListener(Ve,_t,Gt)}addGlobalEventListener(Ve,_t,Gt){return this._findPluginFor(_t).addGlobalEventListener(Ve,_t,Gt)}getZone(){return this._zone}_findPluginFor(Ve){const _t=this._eventNameToPlugin.get(Ve);if(_t)return _t;const Gt=this._plugins;for(let It=0;It<Gt.length;It++){const Ne=Gt[It];if(Ne.supports(Ve))return this._eventNameToPlugin.set(Ve,Ne),Ne}throw new Error(`No event manager plugin found for event ${Ve}`)}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(g.LFG(Re),g.LFG(g.R0b))},Dt.\u0275prov=g.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();class lt{constructor(at){this._doc=at}addGlobalEventListener(at,Ve,_t){const Gt=(0,h.q)().getGlobalEventTarget(this._doc,at);if(!Gt)throw new Error(`Unsupported event target ${Gt} for event ${Ve}`);return this.addEventListener(Gt,Ve,_t)}}let Ue=(()=>{class Dt{constructor(){this._stylesSet=new Set}addStyles(Ve){const _t=new Set;Ve.forEach(Gt=>{this._stylesSet.has(Gt)||(this._stylesSet.add(Gt),_t.add(Gt))}),this.onStylesAdded(_t)}onStylesAdded(Ve){}getAllStyles(){return Array.from(this._stylesSet)}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)},Dt.\u0275prov=g.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})(),rt=(()=>{class Dt extends Ue{constructor(Ve){super(),this._doc=Ve,this._hostNodes=new Map,this._hostNodes.set(Ve.head,[])}_addStylesToHost(Ve,_t,Gt){Ve.forEach(It=>{const Ne=this._doc.createElement("style");Ne.textContent=It,Gt.push(_t.appendChild(Ne))})}addHost(Ve){const _t=[];this._addStylesToHost(this._stylesSet,Ve,_t),this._hostNodes.set(Ve,_t)}removeHost(Ve){const _t=this._hostNodes.get(Ve);_t&&_t.forEach(Ae),this._hostNodes.delete(Ve)}onStylesAdded(Ve){this._hostNodes.forEach((_t,Gt)=>{this._addStylesToHost(Ve,Gt,_t)})}ngOnDestroy(){this._hostNodes.forEach(Ve=>Ve.forEach(Ae))}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(g.LFG(h.K0))},Dt.\u0275prov=g.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();function Ae(Dt){(0,h.q)().remove(Dt)}const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nt=/%COMP%/g;function be(Dt,at,Ve){for(let _t=0;_t<at.length;_t++){let Gt=at[_t];Array.isArray(Gt)?be(Dt,Gt,Ve):(Gt=Gt.replace(nt,Dt),Ve.push(Gt))}return Ve}function Je(Dt){return at=>{if("__ngUnwrap__"===at)return Dt;!1===Dt(at)&&(at.preventDefault(),at.returnValue=!1)}}let wt=(()=>{class Dt{constructor(Ve,_t,Gt){this.eventManager=Ve,this.sharedStylesHost=_t,this.appId=Gt,this.rendererByCompId=new Map,this.defaultRenderer=new yt(Ve)}createRenderer(Ve,_t){if(!Ve||!_t)return this.defaultRenderer;switch(_t.encapsulation){case g.ifc.Emulated:{let Gt=this.rendererByCompId.get(_t.id);return Gt||(Gt=new ct(this.eventManager,this.sharedStylesHost,_t,this.appId),this.rendererByCompId.set(_t.id,Gt)),Gt.applyToHost(Ve),Gt}case 1:case g.ifc.ShadowDom:return new Xe(this.eventManager,this.sharedStylesHost,Ve,_t);default:if(!this.rendererByCompId.has(_t.id)){const Gt=be(_t.id,_t.styles,[]);this.sharedStylesHost.addStyles(Gt),this.rendererByCompId.set(_t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(g.LFG(je),g.LFG(rt),g.LFG(g.AFp))},Dt.\u0275prov=g.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();class yt{constructor(at){this.eventManager=at,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(at,Ve){return Ve?document.createElementNS(Ft[Ve]||Ve,at):document.createElement(at)}createComment(at){return document.createComment(at)}createText(at){return document.createTextNode(at)}appendChild(at,Ve){at.appendChild(Ve)}insertBefore(at,Ve,_t){at&&at.insertBefore(Ve,_t)}removeChild(at,Ve){at&&at.removeChild(Ve)}selectRootElement(at,Ve){let _t="string"==typeof at?document.querySelector(at):at;if(!_t)throw new Error(`The selector "${at}" did not match any elements`);return Ve||(_t.textContent=""),_t}parentNode(at){return at.parentNode}nextSibling(at){return at.nextSibling}setAttribute(at,Ve,_t,Gt){if(Gt){Ve=Gt+":"+Ve;const It=Ft[Gt];It?at.setAttributeNS(It,Ve,_t):at.setAttribute(Ve,_t)}else at.setAttribute(Ve,_t)}removeAttribute(at,Ve,_t){if(_t){const Gt=Ft[_t];Gt?at.removeAttributeNS(Gt,Ve):at.removeAttribute(`${_t}:${Ve}`)}else at.removeAttribute(Ve)}addClass(at,Ve){at.classList.add(Ve)}removeClass(at,Ve){at.classList.remove(Ve)}setStyle(at,Ve,_t,Gt){Gt&(g.JOm.DashCase|g.JOm.Important)?at.style.setProperty(Ve,_t,Gt&g.JOm.Important?"important":""):at.style[Ve]=_t}removeStyle(at,Ve,_t){_t&g.JOm.DashCase?at.style.removeProperty(Ve):at.style[Ve]=""}setProperty(at,Ve,_t){at[Ve]=_t}setValue(at,Ve){at.nodeValue=Ve}listen(at,Ve,_t){return"string"==typeof at?this.eventManager.addGlobalEventListener(at,Ve,Je(_t)):this.eventManager.addEventListener(at,Ve,Je(_t))}}class ct extends yt{constructor(at,Ve,_t,Gt){super(at),this.component=_t;const It=be(Gt+"-"+_t.id,_t.styles,[]);Ve.addStyles(It),this.contentAttr=function ee(Dt){return"_ngcontent-%COMP%".replace(nt,Dt)}(Gt+"-"+_t.id),this.hostAttr=function Ge(Dt){return"_nghost-%COMP%".replace(nt,Dt)}(Gt+"-"+_t.id)}applyToHost(at){super.setAttribute(at,this.hostAttr,"")}createElement(at,Ve){const _t=super.createElement(at,Ve);return super.setAttribute(_t,this.contentAttr,""),_t}}class Xe extends yt{constructor(at,Ve,_t,Gt){super(at),this.sharedStylesHost=Ve,this.hostEl=_t,this.shadowRoot=_t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const It=be(Gt.id,Gt.styles,[]);for(let Ne=0;Ne<It.length;Ne++){const _e=document.createElement("style");_e.textContent=It[Ne],this.shadowRoot.appendChild(_e)}}nodeOrShadowRoot(at){return at===this.hostEl?this.shadowRoot:at}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(at,Ve){return super.appendChild(this.nodeOrShadowRoot(at),Ve)}insertBefore(at,Ve,_t){return super.insertBefore(this.nodeOrShadowRoot(at),Ve,_t)}removeChild(at,Ve){return super.removeChild(this.nodeOrShadowRoot(at),Ve)}parentNode(at){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(at)))}}let $e=(()=>{class Dt extends lt{constructor(Ve){super(Ve)}supports(Ve){return!0}addEventListener(Ve,_t,Gt){return Ve.addEventListener(_t,Gt,!1),()=>this.removeEventListener(Ve,_t,Gt)}removeEventListener(Ve,_t,Gt){return Ve.removeEventListener(_t,Gt)}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(g.LFG(h.K0))},Dt.\u0275prov=g.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();const et=["alt","control","meta","shift"],Q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ce={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bt={alt:Dt=>Dt.altKey,control:Dt=>Dt.ctrlKey,meta:Dt=>Dt.metaKey,shift:Dt=>Dt.shiftKey};let bt=(()=>{class Dt extends lt{constructor(Ve){super(Ve)}supports(Ve){return null!=Dt.parseEventName(Ve)}addEventListener(Ve,_t,Gt){const It=Dt.parseEventName(_t),Ne=Dt.eventCallback(It.fullKey,Gt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(Ve,It.domEventName,Ne))}static parseEventName(Ve){const _t=Ve.toLowerCase().split("."),Gt=_t.shift();if(0===_t.length||"keydown"!==Gt&&"keyup"!==Gt)return null;const It=Dt._normalizeKey(_t.pop());let Ne="";if(et.forEach(st=>{const Pt=_t.indexOf(st);Pt>-1&&(_t.splice(Pt,1),Ne+=st+".")}),Ne+=It,0!=_t.length||0===It.length)return null;const _e={};return _e.domEventName=Gt,_e.fullKey=Ne,_e}static getEventFullKey(Ve){let _t="",Gt=function pt(Dt){let at=Dt.key;if(null==at){if(at=Dt.keyIdentifier,null==at)return"Unidentified";at.startsWith("U+")&&(at=String.fromCharCode(parseInt(at.substring(2),16)),3===Dt.location&&Ce.hasOwnProperty(at)&&(at=Ce[at]))}return Q[at]||at}(Ve);return Gt=Gt.toLowerCase()," "===Gt?Gt="space":"."===Gt&&(Gt="dot"),et.forEach(It=>{It!=Gt&&Bt[It](Ve)&&(_t+=It+".")}),_t+=Gt,_t}static eventCallback(Ve,_t,Gt){return It=>{Dt.getEventFullKey(It)===Ve&&Gt.runGuarded(()=>_t(It))}}static _normalizeKey(Ve){return"esc"===Ve?"escape":Ve}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(g.LFG(h.K0))},Dt.\u0275prov=g.Yz7({token:Dt,factory:Dt.\u0275fac}),Dt})();const Et=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:h.bD},{provide:g.g9A,useValue:function ht(){ne.makeCurrent(),De.init()},multi:!0},{provide:h.K0,useFactory:function vt(){return(0,g.RDi)(document),document},deps:[]}]),Jt=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Me(){return new g.qLn},deps:[]},{provide:Re,useClass:$e,multi:!0,deps:[h.K0,g.R0b,g.Lbi]},{provide:Re,useClass:bt,multi:!0,deps:[h.K0]},{provide:wt,useClass:wt,deps:[je,rt,g.AFp]},{provide:g.FYo,useExisting:wt},{provide:Ue,useExisting:rt},{provide:rt,useClass:rt,deps:[h.K0]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:je,useClass:je,deps:[Re,g.R0b]},{provide:h.JF,useClass:We,deps:[]}];let cn=(()=>{class Dt{constructor(Ve){if(Ve)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Ve){return{ngModule:Dt,providers:[{provide:g.AFp,useValue:Ve.appId},{provide:le,useExisting:g.AFp},fe]}}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(g.LFG(Dt,12))},Dt.\u0275mod=g.oAB({type:Dt}),Dt.\u0275inj=g.cJS({providers:Jt,imports:[h.ez,g.hGG]}),Dt})();"undefined"!=typeof window&&window;let Nn=(()=>{class Dt{}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)},Dt.\u0275prov=g.Yz7({token:Dt,factory:function(Ve){let _t=null;return _t=Ve?new(Ve||Dt):g.LFG(vn),_t},providedIn:"root"}),Dt})(),vn=(()=>{class Dt extends Nn{constructor(Ve){super(),this._doc=Ve}sanitize(Ve,_t){if(null==_t)return null;switch(Ve){case g.q3G.NONE:return _t;case g.q3G.HTML:return(0,g.qzn)(_t,"HTML")?(0,g.z3N)(_t):(0,g.EiD)(this._doc,String(_t)).toString();case g.q3G.STYLE:return(0,g.qzn)(_t,"Style")?(0,g.z3N)(_t):_t;case g.q3G.SCRIPT:if((0,g.qzn)(_t,"Script"))return(0,g.z3N)(_t);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.yhl)(_t),(0,g.qzn)(_t,"URL")?(0,g.z3N)(_t):(0,g.mCW)(String(_t));case g.q3G.RESOURCE_URL:if((0,g.qzn)(_t,"ResourceURL"))return(0,g.z3N)(_t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ve} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ve){return(0,g.JVY)(Ve)}bypassSecurityTrustStyle(Ve){return(0,g.L6k)(Ve)}bypassSecurityTrustScript(Ve){return(0,g.eBb)(Ve)}bypassSecurityTrustUrl(Ve){return(0,g.LAX)(Ve)}bypassSecurityTrustResourceUrl(Ve){return(0,g.pB0)(Ve)}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(g.LFG(h.K0))},Dt.\u0275prov=g.Yz7({token:Dt,factory:function(Ve){let _t=null;return _t=Ve?new Ve:function oi(Dt){return new vn(Dt.get(h.K0))}(g.LFG(g.zs3)),_t},providedIn:"root"}),Dt})()},1402:(Yt,Ye,b)=>{b.d(Ye,{gz:()=>ur,y6:()=>ls,F0:()=>Qi,rH:()=>Bs,Bz:()=>fs,lC:()=>Cr});var h=b(5e3),g=b(8306),C=b(727),ne=b(4482),ge=b(5403);function ve(){return(0,ne.e)((A,I)=>{let w=null;A._refCount++;const j=(0,ge.x)(I,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(w=null);const W=A._connection,Y=w;w=null,W&&(!Y||W===Y)&&W.unsubscribe(),I.unsubscribe()});A.subscribe(j),j.closed||(w=A.connect())})}class ke extends g.y{constructor(I,w){super(),this.source=I,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,ne.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new C.w0;const w=this.getSubject();I.add(this.source.subscribe((0,ge.x)(w,void 0,()=>{this._teardown(),w.complete()},j=>{this._teardown(),w.error(j)},()=>this._teardown()))),I.closed&&(this._connection=null,I=C.w0.EMPTY)}return I}refCount(){return ve()(this)}}var ye=b(8996),le=b(9646),se=b(1135),fe=b(9841),De=b(2843),We=b(6805),Re=b(7272),je=b(9770),lt=b(515),Ue=b(7579),rt=b(9300);function Ae(A){return A<=0?()=>lt.E:(0,ne.e)((I,w)=>{let j=[];I.subscribe((0,ge.x)(w,W=>{j.push(W),A<j.length&&j.shift()},()=>{for(const W of j)w.next(W);w.complete()},void 0,()=>{j=null}))})}var Ft=b(8068),nt=b(6590),pe=b(4671),xe=b(4004),Ee=b(3900),ee=b(5698),Ge=b(8675),be=b(5026),Je=b(262),it=b(4351),wt=b(590),yt=b(5577),kt=b(8505),At=b(8746),ct=b(8189),Xe=b(9808);class $e{constructor(I,w){this.id=I,this.url=w}}class et extends $e{constructor(I,w,j="imperative",W=null){super(I,w),this.navigationTrigger=j,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gt extends $e{constructor(I,w,j){super(I,w),this.urlAfterRedirects=j}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Q extends $e{constructor(I,w,j){super(I,w),this.reason=j}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ce extends $e{constructor(I,w,j){super(I,w),this.error=j}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bt extends $e{constructor(I,w,j,W){super(I,w),this.urlAfterRedirects=j,this.state=W}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bt extends $e{constructor(I,w,j,W){super(I,w),this.urlAfterRedirects=j,this.state=W}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pt extends $e{constructor(I,w,j,W,Y){super(I,w),this.urlAfterRedirects=j,this.state=W,this.shouldActivate=Y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ht extends $e{constructor(I,w,j,W){super(I,w),this.urlAfterRedirects=j,this.state=W}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends $e{constructor(I,w,j,W){super(I,w),this.urlAfterRedirects=j,this.state=W}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vt{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Se{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Et{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jt{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cn{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mn{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(I,w,j){this.routerEvent=I,this.position=w,this.anchor=j}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pn="primary";class dn{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const w=this.params[I];return Array.isArray(w)?w[0]:w}return null}getAll(I){if(this.has(I)){const w=this.params[I];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function ft(A){return new dn(A)}const V="ngNavigationCancelingError";function X(A){const I=Error("NavigationCancelingError: "+A);return I[V]=!0,I}function Oe(A,I,w){const j=w.path.split("/");if(j.length>A.length||"full"===w.pathMatch&&(I.hasChildren()||j.length<A.length))return null;const W={};for(let Y=0;Y<j.length;Y++){const Fe=j[Y],ot=A[Y];if(Fe.startsWith(":"))W[Fe.substring(1)]=ot;else if(Fe!==ot.path)return null}return{consumed:A.slice(0,j.length),posParams:W}}function q(A,I){const w=A?Object.keys(A):void 0,j=I?Object.keys(I):void 0;if(!w||!j||w.length!=j.length)return!1;let W;for(let Y=0;Y<w.length;Y++)if(W=w[Y],!Be(A[W],I[W]))return!1;return!0}function Be(A,I){if(Array.isArray(A)&&Array.isArray(I)){if(A.length!==I.length)return!1;const w=[...A].sort(),j=[...I].sort();return w.every((W,Y)=>j[Y]===W)}return A===I}function de(A){return Array.prototype.concat.apply([],A)}function Ke(A){return A.length>0?A[A.length-1]:null}function en(A,I){for(const w in A)A.hasOwnProperty(w)&&I(A[w],w)}function ln(A){return(0,h.CqO)(A)?A:(0,h.QGY)(A)?(0,ye.D)(Promise.resolve(A)):(0,le.of)(A)}const Ln={exact:function ze(A,I,w){if(!Nn(A.segments,I.segments)||!G(A.segments,I.segments,w)||A.numberOfChildren!==I.numberOfChildren)return!1;for(const j in I.children)if(!A.children[j]||!ze(A.children[j],I.children[j],w))return!1;return!0},subset:P},ni={exact:function Ci(A,I){return q(A,I)},subset:function $(A,I){return Object.keys(I).length<=Object.keys(A).length&&Object.keys(I).every(w=>Be(A[w],I[w]))},ignored:()=>!0};function on(A,I,w){return Ln[w.paths](A.root,I.root,w.matrixParams)&&ni[w.queryParams](A.queryParams,I.queryParams)&&!("exact"===w.fragment&&A.fragment!==I.fragment)}function P(A,I,w){return x(A,I,I.segments,w)}function x(A,I,w,j){if(A.segments.length>w.length){const W=A.segments.slice(0,w.length);return!(!Nn(W,w)||I.hasChildren()||!G(W,w,j))}if(A.segments.length===w.length){if(!Nn(A.segments,w)||!G(A.segments,w,j))return!1;for(const W in I.children)if(!A.children[W]||!P(A.children[W],I.children[W],j))return!1;return!0}{const W=w.slice(0,A.segments.length),Y=w.slice(A.segments.length);return!!(Nn(A.segments,W)&&G(A.segments,W,j)&&A.children[pn])&&x(A.children[pn],I,Y,j)}}function G(A,I,w){return I.every((j,W)=>ni[w](A[W].parameters,j.parameters))}class Te{constructor(I,w,j){this.root=I,this.queryParams=w,this.fragment=j}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ft(this.queryParams)),this._queryParamMap}toString(){return Dt.serialize(this)}}class dt{constructor(I,w){this.segments=I,this.children=w,this.parent=null,en(w,(j,W)=>j.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return at(this)}}class Wt{constructor(I,w){this.path=I,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=ft(this.parameters)),this._parameterMap}toString(){return Pt(this)}}function Nn(A,I){return A.length===I.length&&A.every((w,j)=>w.path===I[j].path)}class vn{}class bi{parse(I){const w=new Mi(I);return new Te(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(I){const w=`/${Ve(I.root,!0)}`,j=function mn(A){const I=Object.keys(A).map(w=>{const j=A[w];return Array.isArray(j)?j.map(W=>`${Gt(w)}=${Gt(W)}`).join("&"):`${Gt(w)}=${Gt(j)}`}).filter(w=>!!w);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${w}${j}${"string"==typeof I.fragment?`#${function It(A){return encodeURI(A)}(I.fragment)}`:""}`}}const Dt=new bi;function at(A){return A.segments.map(I=>Pt(I)).join("/")}function Ve(A,I){if(!A.hasChildren())return at(A);if(I){const w=A.children[pn]?Ve(A.children[pn],!1):"",j=[];return en(A.children,(W,Y)=>{Y!==pn&&j.push(`${Y}:${Ve(W,!1)}`)}),j.length>0?`${w}(${j.join("//")})`:w}{const w=function oi(A,I){let w=[];return en(A.children,(j,W)=>{W===pn&&(w=w.concat(I(j,W)))}),en(A.children,(j,W)=>{W!==pn&&(w=w.concat(I(j,W)))}),w}(A,(j,W)=>W===pn?[Ve(A.children[pn],!1)]:[`${W}:${Ve(j,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[pn]?`${at(A)}/${w[0]}`:`${at(A)}/(${w.join("//")})`}}function _t(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gt(A){return _t(A).replace(/%3B/gi,";")}function Ne(A){return _t(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _e(A){return decodeURIComponent(A)}function st(A){return _e(A.replace(/\+/g,"%20"))}function Pt(A){return`${Ne(A.path)}${function Kt(A){return Object.keys(A).map(I=>`;${Ne(I)}=${Ne(A[I])}`).join("")}(A.parameters)}`}const xn=/^[^\/()?;=#]+/;function Fn(A){const I=A.match(xn);return I?I[0]:""}const Hn=/^[^=?&#]+/,Sn=/^[^&#]+/;class Mi{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let j={};return this.peekStartsWith("(")&&(j=this.parseParens(!1)),(I.length>0||Object.keys(w).length>0)&&(j[pn]=new dt(I,w)),j}parseSegment(){const I=Fn(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new Wt(_e(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const w=Fn(this.remaining);if(!w)return;this.capture(w);let j="";if(this.consumeOptional("=")){const W=Fn(this.remaining);W&&(j=W,this.capture(j))}I[_e(w)]=_e(j)}parseQueryParam(I){const w=function tn(A){const I=A.match(Hn);return I?I[0]:""}(this.remaining);if(!w)return;this.capture(w);let j="";if(this.consumeOptional("=")){const Fe=function ai(A){const I=A.match(Sn);return I?I[0]:""}(this.remaining);Fe&&(j=Fe,this.capture(j))}const W=st(w),Y=st(j);if(I.hasOwnProperty(W)){let Fe=I[W];Array.isArray(Fe)||(Fe=[Fe],I[W]=Fe),Fe.push(Y)}else I[W]=Y}parseParens(I){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const j=Fn(this.remaining),W=this.remaining[j.length];if("/"!==W&&")"!==W&&";"!==W)throw new Error(`Cannot parse url '${this.url}'`);let Y;j.indexOf(":")>-1?(Y=j.substr(0,j.indexOf(":")),this.capture(Y),this.capture(":")):I&&(Y=pn);const Fe=this.parseChildren();w[Y]=1===Object.keys(Fe).length?Fe[pn]:new dt([],Fe),this.consumeOptional("//")}return w}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Gi{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const w=this.pathFromRoot(I);return w.length>1?w[w.length-2]:null}children(I){const w=xi(I,this._root);return w?w.children.map(j=>j.value):[]}firstChild(I){const w=xi(I,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(I){const w=Er(I,this._root);return w.length<2?[]:w[w.length-2].children.map(W=>W.value).filter(W=>W!==I)}pathFromRoot(I){return Er(I,this._root).map(w=>w.value)}}function xi(A,I){if(A===I.value)return I;for(const w of I.children){const j=xi(A,w);if(j)return j}return null}function Er(A,I){if(A===I.value)return[I];for(const w of I.children){const j=Er(A,w);if(j.length)return j.unshift(I),j}return[]}class gi{constructor(I,w){this.value=I,this.children=w}toString(){return`TreeNode(${this.value})`}}function $i(A){const I={};return A&&A.children.forEach(w=>I[w.value.outlet]=w),I}class Si extends Gi{constructor(I,w){super(I),this.snapshot=w,Fr(this,I)}toString(){return this.snapshot.toString()}}function Gn(A,I){const w=function Pr(A,I){const Fe=new Li([],{},{},"",{},pn,I,null,A.root,-1,{});return new Nr("",new gi(Fe,[]))}(A,I),j=new se.X([new Wt("",{})]),W=new se.X({}),Y=new se.X({}),Fe=new se.X({}),ot=new se.X(""),jt=new ur(j,W,Fe,ot,Y,pn,I,w.root);return jt.snapshot=w.root,new Si(new gi(jt,[]),w)}class ur{constructor(I,w,j,W,Y,Fe,ot,jt){this.url=I,this.params=w,this.queryParams=j,this.fragment=W,this.data=Y,this.outlet=Fe,this.component=ot,this._futureSnapshot=jt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xe.U)(I=>ft(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xe.U)(I=>ft(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _s(A,I="emptyOnly"){const w=A.pathFromRoot;let j=0;if("always"!==I)for(j=w.length-1;j>=1;){const W=w[j],Y=w[j-1];if(W.routeConfig&&""===W.routeConfig.path)j--;else{if(Y.component)break;j--}}return function mr(A){return A.reduce((I,w)=>({params:Object.assign(Object.assign({},I.params),w.params),data:Object.assign(Object.assign({},I.data),w.data),resolve:Object.assign(Object.assign({},I.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(j))}class Li{constructor(I,w,j,W,Y,Fe,ot,jt,Ht,hn,Bn){this.url=I,this.params=w,this.queryParams=j,this.fragment=W,this.data=Y,this.outlet=Fe,this.component=ot,this.routeConfig=jt,this._urlSegment=Ht,this._lastPathIndex=hn,this._resolve=Bn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ft(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ft(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(j=>j.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nr extends Gi{constructor(I,w){super(w),this.url=I,Fr(this,w)}toString(){return dr(this._root)}}function Fr(A,I){I.value._routerState=A,I.children.forEach(w=>Fr(A,w))}function dr(A){const I=A.children.length>0?` { ${A.children.map(dr).join(", ")} } `:"";return`${A.value}${I}`}function hi(A){if(A.snapshot){const I=A.snapshot,w=A._futureSnapshot;A.snapshot=w,q(I.queryParams,w.queryParams)||A.queryParams.next(w.queryParams),I.fragment!==w.fragment&&A.fragment.next(w.fragment),q(I.params,w.params)||A.params.next(w.params),function Pe(A,I){if(A.length!==I.length)return!1;for(let w=0;w<A.length;++w)if(!q(A[w],I[w]))return!1;return!0}(I.url,w.url)||A.url.next(w.url),q(I.data,w.data)||A.data.next(w.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Lr(A,I){const w=q(A.params,I.params)&&function Pn(A,I){return Nn(A,I)&&A.every((w,j)=>q(w.parameters,I[j].parameters))}(A.url,I.url);return w&&!(!A.parent!=!I.parent)&&(!A.parent||Lr(A.parent,I.parent))}function Bi(A,I,w){if(w&&A.shouldReuseRoute(I.value,w.value.snapshot)){const j=w.value;j._futureSnapshot=I.value;const W=function yr(A,I,w){return I.children.map(j=>{for(const W of w.children)if(A.shouldReuseRoute(j.value,W.value.snapshot))return Bi(A,j,W);return Bi(A,j)})}(A,I,w);return new gi(j,W)}{if(A.shouldAttach(I.value)){const Y=A.retrieve(I.value);if(null!==Y){const Fe=Y.route;return Fe.value._futureSnapshot=I.value,Fe.children=I.children.map(ot=>Bi(A,ot)),Fe}}const j=function vs(A){return new ur(new se.X(A.url),new se.X(A.params),new se.X(A.queryParams),new se.X(A.fragment),new se.X(A.data),A.outlet,A.component,A)}(I.value),W=I.children.map(Y=>Bi(A,Y));return new gi(j,W)}}function or(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Ir(A){return"object"==typeof A&&null!=A&&A.outlets}function Ws(A,I,w,j,W){let Y={};if(j&&en(j,(ot,jt)=>{Y[jt]=Array.isArray(ot)?ot.map(Ht=>`${Ht}`):`${ot}`}),A===I)return new Te(w,Y,W);const Fe=bs(A,I,w);return new Te(Fe,Y,W)}function bs(A,I,w){const j={};return en(A.children,(W,Y)=>{j[Y]=W===I?w:bs(W,I,w)}),new dt(A.segments,j)}class wo{constructor(I,w,j){if(this.isAbsolute=I,this.numberOfDoubleDots=w,this.commands=j,I&&j.length>0&&or(j[0]))throw new Error("Root segment cannot have matrix parameters");const W=j.find(Ir);if(W&&W!==Ke(j))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zr{constructor(I,w,j){this.segmentGroup=I,this.processChildren=w,this.index=j}}function eo(A,I,w){if(A||(A=new dt([],{})),0===A.segments.length&&A.hasChildren())return ts(A,I,w);const j=function ks(A,I,w){let j=0,W=I;const Y={match:!1,pathIndex:0,commandIndex:0};for(;W<A.segments.length;){if(j>=w.length)return Y;const Fe=A.segments[W],ot=w[j];if(Ir(ot))break;const jt=`${ot}`,Ht=j<w.length-1?w[j+1]:null;if(W>0&&void 0===jt)break;if(jt&&Ht&&"object"==typeof Ht&&void 0===Ht.outlets){if(!fo(jt,Ht,Fe))return Y;j+=2}else{if(!fo(jt,{},Fe))return Y;j++}W++}return{match:!0,pathIndex:W,commandIndex:j}}(A,I,w),W=w.slice(j.commandIndex);if(j.match&&j.pathIndex<A.segments.length){const Y=new dt(A.segments.slice(0,j.pathIndex),{});return Y.children[pn]=new dt(A.segments.slice(j.pathIndex),A.children),ts(Y,0,W)}return j.match&&0===W.length?new dt(A.segments,{}):j.match&&!A.hasChildren()?ns(A,I,w):j.match?ts(A,0,W):ns(A,I,w)}function ts(A,I,w){if(0===w.length)return new dt(A.segments,{});{const j=function Oi(A){return Ir(A[0])?A[0].outlets:{[pn]:A}}(w),W={};return en(j,(Y,Fe)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(W[Fe]=eo(A.children[Fe],I,Y))}),en(A.children,(Y,Fe)=>{void 0===j[Fe]&&(W[Fe]=Y)}),new dt(A.segments,W)}}function ns(A,I,w){const j=A.segments.slice(0,I);let W=0;for(;W<w.length;){const Y=w[W];if(Ir(Y)){const jt=Ps(Y.outlets);return new dt(j,jt)}if(0===W&&or(w[0])){j.push(new Wt(A.segments[I].path,Io(w[0]))),W++;continue}const Fe=Ir(Y)?Y.outlets[pn]:`${Y}`,ot=W<w.length-1?w[W+1]:null;Fe&&ot&&or(ot)?(j.push(new Wt(Fe,Io(ot))),W+=2):(j.push(new Wt(Fe,{})),W++)}return new dt(j,{})}function Ps(A){const I={};return en(A,(w,j)=>{"string"==typeof w&&(w=[w]),null!==w&&(I[j]=ns(new dt([],{}),0,w))}),I}function Io(A){const I={};return en(A,(w,j)=>I[j]=`${w}`),I}function fo(A,I,w){return A==w.path&&q(I,w.parameters)}class Ks{constructor(I,w,j,W){this.routeReuseStrategy=I,this.futureState=w,this.currState=j,this.forwardEvent=W}activate(I){const w=this.futureState._root,j=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,j,I),hi(this.futureState.root),this.activateChildRoutes(w,j,I)}deactivateChildRoutes(I,w,j){const W=$i(w);I.children.forEach(Y=>{const Fe=Y.value.outlet;this.deactivateRoutes(Y,W[Fe],j),delete W[Fe]}),en(W,(Y,Fe)=>{this.deactivateRouteAndItsChildren(Y,j)})}deactivateRoutes(I,w,j){const W=I.value,Y=w?w.value:null;if(W===Y)if(W.component){const Fe=j.getContext(W.outlet);Fe&&this.deactivateChildRoutes(I,w,Fe.children)}else this.deactivateChildRoutes(I,w,j);else Y&&this.deactivateRouteAndItsChildren(w,j)}deactivateRouteAndItsChildren(I,w){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,w):this.deactivateRouteAndOutlet(I,w)}detachAndStoreRouteSubtree(I,w){const j=w.getContext(I.value.outlet),W=j&&I.value.component?j.children:w,Y=$i(I);for(const Fe of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[Fe],W);if(j&&j.outlet){const Fe=j.outlet.detach(),ot=j.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Fe,route:I,contexts:ot})}}deactivateRouteAndOutlet(I,w){const j=w.getContext(I.value.outlet),W=j&&I.value.component?j.children:w,Y=$i(I);for(const Fe of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[Fe],W);j&&j.outlet&&(j.outlet.deactivate(),j.children.onOutletDeactivated(),j.attachRef=null,j.resolver=null,j.route=null)}activateChildRoutes(I,w,j){const W=$i(w);I.children.forEach(Y=>{this.activateRoutes(Y,W[Y.value.outlet],j),this.forwardEvent(new Mn(Y.value.snapshot))}),I.children.length&&this.forwardEvent(new Jt(I.value.snapshot))}activateRoutes(I,w,j){const W=I.value,Y=w?w.value:null;if(hi(W),W===Y)if(W.component){const Fe=j.getOrCreateContext(W.outlet);this.activateChildRoutes(I,w,Fe.children)}else this.activateChildRoutes(I,w,j);else if(W.component){const Fe=j.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const ot=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Fe.children.onOutletReAttached(ot.contexts),Fe.attachRef=ot.componentRef,Fe.route=ot.route.value,Fe.outlet&&Fe.outlet.attach(ot.componentRef,ot.route.value),hi(ot.route.value),this.activateChildRoutes(I,null,Fe.children)}else{const ot=function is(A){for(let I=A.parent;I;I=I.parent){const w=I.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(W.snapshot),jt=ot?ot.module.componentFactoryResolver:null;Fe.attachRef=null,Fe.route=W,Fe.resolver=jt,Fe.outlet&&Fe.outlet.activateWith(W,jt),this.activateChildRoutes(I,null,Fe.children)}}else this.activateChildRoutes(I,null,j)}}class Ns{constructor(I,w){this.routes=I,this.module=w}}function hr(A){return"function"==typeof A}function rs(A){return A instanceof Te}const Br=Symbol("INITIAL_VALUE");function Fs(){return(0,Ee.w)(A=>(0,fe.a)(A.map(I=>I.pipe((0,ee.q)(1),(0,Ge.O)(Br)))).pipe((0,be.R)((I,w)=>{let j=!1;return w.reduce((W,Y,Fe)=>W!==Br?W:(Y===Br&&(j=!0),j||!1!==Y&&Fe!==w.length-1&&!rs(Y)?W:Y),I)},Br),(0,rt.h)(I=>I!==Br),(0,xe.U)(I=>rs(I)?I:!0===I),(0,ee.q)(1)))}class $o{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ls,this.attachRef=null}}class ls{constructor(){this.contexts=new Map}onChildOutletCreated(I,w){const j=this.getOrCreateContext(I);j.outlet=w,this.contexts.set(I,j)}onChildOutletDestroyed(I){const w=this.getContext(I);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let w=this.getContext(I);return w||(w=new $o,this.contexts.set(I,w)),w}getContext(I){return this.contexts.get(I)||null}}let Cr=(()=>{class A{constructor(w,j,W,Y,Fe){this.parentContexts=w,this.location=j,this.resolver=W,this.changeDetector=Fe,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=Y||pn,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,j){this.activated=w,this._activatedRoute=j,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,j){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const Fe=(j=j||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),ot=this.parentContexts.getOrCreateContext(this.name).children,jt=new Cs(w,ot,this.location.injector);this.activated=this.location.createComponent(Fe,this.location.length,jt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(w){return new(w||A)(h.Y36(ls),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},A.\u0275dir=h.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),A})();class Cs{constructor(I,w,j){this.route=I,this.childContexts=w,this.parent=j}get(I,w){return I===ur?this.route:I===ls?this.childContexts:this.parent.get(I,w)}}let fr=(()=>{class A{}return A.\u0275fac=function(w){return new(w||A)},A.\u0275cmp=h.Xpm({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,j){1&w&&h._UZ(0,"router-outlet")},directives:[Cr],encapsulation:2}),A})();function ws(A,I=""){for(let w=0;w<A.length;w++){const j=A[w];Ri(j,Ds(I,j))}}function Ri(A,I){A.children&&ws(A.children,I)}function Ds(A,I){return I?A||I.path?A&&!I.path?`${A}/`:!A&&I.path?I.path:`${A}/${I.path}`:"":A}function wr(A){const I=A.children&&A.children.map(wr),w=I?Object.assign(Object.assign({},A),{children:I}):Object.assign({},A);return!w.component&&(I||w.loadChildren)&&w.outlet&&w.outlet!==pn&&(w.component=fr),w}function ki(A){return A.outlet||pn}function Kr(A,I){const w=A.filter(j=>ki(j)===I);return w.push(...A.filter(j=>ki(j)!==I)),w}const ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gr(A,I,w){var j;if(""===I.path)return"full"===I.pathMatch&&(A.hasChildren()||w.length>0)?Object.assign({},ss):{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const Y=(I.matcher||Oe)(w,A,I);if(!Y)return Object.assign({},ss);const Fe={};en(Y.posParams,(jt,Ht)=>{Fe[Ht]=jt.path});const ot=Y.consumed.length>0?Object.assign(Object.assign({},Fe),Y.consumed[Y.consumed.length-1].parameters):Fe;return{matched:!0,consumedSegments:Y.consumed,remainingSegments:w.slice(Y.consumed.length),parameters:ot,positionalParamSegments:null!==(j=Y.posParams)&&void 0!==j?j:{}}}function cs(A,I,w,j,W="corrected"){if(w.length>0&&function _i(A,I,w){return w.some(j=>re(A,I,j)&&ki(j)!==pn)}(A,w,j)){const Fe=new dt(I,function us(A,I,w,j){const W={};W[pn]=j,j._sourceSegment=A,j._segmentIndexShift=I.length;for(const Y of w)if(""===Y.path&&ki(Y)!==pn){const Fe=new dt([],{});Fe._sourceSegment=A,Fe._segmentIndexShift=I.length,W[ki(Y)]=Fe}return W}(A,I,j,new dt(w,A.children)));return Fe._sourceSegment=A,Fe._segmentIndexShift=I.length,{segmentGroup:Fe,slicedSegments:[]}}if(0===w.length&&function U(A,I,w){return w.some(j=>re(A,I,j))}(A,w,j)){const Fe=new dt(A.segments,function Zr(A,I,w,j,W,Y){const Fe={};for(const ot of j)if(re(A,w,ot)&&!W[ki(ot)]){const jt=new dt([],{});jt._sourceSegment=A,jt._segmentIndexShift="legacy"===Y?A.segments.length:I.length,Fe[ki(ot)]=jt}return Object.assign(Object.assign({},W),Fe)}(A,I,w,j,A.children,W));return Fe._sourceSegment=A,Fe._segmentIndexShift=I.length,{segmentGroup:Fe,slicedSegments:w}}const Y=new dt(A.segments,A.children);return Y._sourceSegment=A,Y._segmentIndexShift=I.length,{segmentGroup:Y,slicedSegments:w}}function re(A,I,w){return(!(A.hasChildren()||I.length>0)||"full"!==w.pathMatch)&&""===w.path}function F(A,I,w,j){return!!(ki(A)===j||j!==pn&&re(I,w,A))&&("**"===A.path||gr(I,A,w).matched)}function ce(A,I,w){return 0===I.length&&!A.children[w]}class Ze{constructor(I){this.segmentGroup=I||null}}class Nt{constructor(I){this.urlTree=I}}function $t(A){return(0,De._)(new Ze(A))}function Dn(A){return(0,De._)(new Nt(A))}class fi{constructor(I,w,j,W,Y){this.configLoader=w,this.urlSerializer=j,this.urlTree=W,this.config=Y,this.allowRedirects=!0,this.ngModule=I.get(h.h0i)}apply(){const I=cs(this.urlTree.root,[],[],this.config).segmentGroup,w=new dt(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,w,pn).pipe((0,xe.U)(Y=>this.createUrlTree(wi(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Je.K)(Y=>{if(Y instanceof Nt)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof Ze?this.noMatchError(Y):Y}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,pn).pipe((0,xe.U)(W=>this.createUrlTree(wi(W),I.queryParams,I.fragment))).pipe((0,Je.K)(W=>{throw W instanceof Ze?this.noMatchError(W):W}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,w,j){const W=I.segments.length>0?new dt([],{[pn]:I}):I;return new Te(W,w,j)}expandSegmentGroup(I,w,j,W){return 0===j.segments.length&&j.hasChildren()?this.expandChildren(I,w,j).pipe((0,xe.U)(Y=>new dt([],Y))):this.expandSegment(I,j,w,j.segments,W,!0)}expandChildren(I,w,j){const W=[];for(const Y of Object.keys(j.children))"primary"===Y?W.unshift(Y):W.push(Y);return(0,ye.D)(W).pipe((0,it.b)(Y=>{const Fe=j.children[Y],ot=Kr(w,Y);return this.expandSegmentGroup(I,ot,Fe,Y).pipe((0,xe.U)(jt=>({segment:jt,outlet:Y})))}),(0,be.R)((Y,Fe)=>(Y[Fe.outlet]=Fe.segment,Y),{}),function he(A,I){const w=arguments.length>=2;return j=>j.pipe(A?(0,rt.h)((W,Y)=>A(W,Y,j)):pe.y,Ae(1),w?(0,nt.d)(I):(0,Ft.T)(()=>new We.K))}())}expandSegment(I,w,j,W,Y,Fe){return(0,ye.D)(j).pipe((0,it.b)(ot=>this.expandSegmentAgainstRoute(I,w,j,ot,W,Y,Fe).pipe((0,Je.K)(Ht=>{if(Ht instanceof Ze)return(0,le.of)(null);throw Ht}))),(0,wt.P)(ot=>!!ot),(0,Je.K)((ot,jt)=>{if(ot instanceof We.K||"EmptyError"===ot.name)return ce(w,W,Y)?(0,le.of)(new dt([],{})):$t(w);throw ot}))}expandSegmentAgainstRoute(I,w,j,W,Y,Fe,ot){return F(W,w,Y,Fe)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(I,w,W,Y,Fe):ot&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,w,j,W,Y,Fe):$t(w):$t(w)}expandSegmentAgainstRouteUsingRedirect(I,w,j,W,Y,Fe){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,j,W,Fe):this.expandRegularSegmentAgainstRouteUsingRedirect(I,w,j,W,Y,Fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,w,j,W){const Y=this.applyRedirectCommands([],j.redirectTo,{});return j.redirectTo.startsWith("/")?Dn(Y):this.lineralizeSegments(j,Y).pipe((0,yt.z)(Fe=>{const ot=new dt(Fe,{});return this.expandSegment(I,ot,w,Fe,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,w,j,W,Y,Fe){const{matched:ot,consumedSegments:jt,remainingSegments:Ht,positionalParamSegments:hn}=gr(w,W,Y);if(!ot)return $t(w);const Bn=this.applyRedirectCommands(jt,W.redirectTo,hn);return W.redirectTo.startsWith("/")?Dn(Bn):this.lineralizeSegments(W,Bn).pipe((0,yt.z)(rn=>this.expandSegment(I,w,j,rn.concat(Ht),Fe,!1)))}matchSegmentAgainstRoute(I,w,j,W,Y){if("**"===j.path)return j.loadChildren?(j._loadedConfig?(0,le.of)(j._loadedConfig):this.configLoader.load(I.injector,j)).pipe((0,xe.U)(Bn=>(j._loadedConfig=Bn,new dt(W,{})))):(0,le.of)(new dt(W,{}));const{matched:Fe,consumedSegments:ot,remainingSegments:jt}=gr(w,j,W);return Fe?this.getChildConfig(I,j,W).pipe((0,yt.z)(hn=>{const Bn=hn.module,rn=hn.routes,{segmentGroup:Tt,slicedSegments:Xt}=cs(w,ot,jt,rn),Ji=new dt(Tt.segments,Tt.children);if(0===Xt.length&&Ji.hasChildren())return this.expandChildren(Bn,rn,Ji).pipe((0,xe.U)(Nl=>new dt(ot,Nl)));if(0===rn.length&&0===Xt.length)return(0,le.of)(new dt(ot,{}));const ma=ki(j)===Y;return this.expandSegment(Bn,Ji,rn,Xt,ma?pn:Y,!0).pipe((0,xe.U)(xo=>new dt(ot.concat(xo.segments),xo.children)))})):$t(w)}getChildConfig(I,w,j){return w.children?(0,le.of)(new Ns(w.children,I)):w.loadChildren?void 0!==w._loadedConfig?(0,le.of)(w._loadedConfig):this.runCanLoadGuards(I.injector,w,j).pipe((0,yt.z)(W=>W?this.configLoader.load(I.injector,w).pipe((0,xe.U)(Y=>(w._loadedConfig=Y,Y))):function mi(A){return(0,De._)(X(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))}(w))):(0,le.of)(new Ns([],I))}runCanLoadGuards(I,w,j){const W=w.canLoad;if(!W||0===W.length)return(0,le.of)(!0);const Y=W.map(Fe=>{const ot=I.get(Fe);let jt;if(function Go(A){return A&&hr(A.canLoad)}(ot))jt=ot.canLoad(w,j);else{if(!hr(ot))throw new Error("Invalid CanLoad guard");jt=ot(w,j)}return ln(jt)});return(0,le.of)(Y).pipe(Fs(),(0,kt.b)(Fe=>{if(!rs(Fe))return;const ot=X(`Redirecting to "${this.urlSerializer.serialize(Fe)}"`);throw ot.url=Fe,ot}),(0,xe.U)(Fe=>!0===Fe))}lineralizeSegments(I,w){let j=[],W=w.root;for(;;){if(j=j.concat(W.segments),0===W.numberOfChildren)return(0,le.of)(j);if(W.numberOfChildren>1||!W.children[pn])return(0,De._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I.redirectTo}'`));W=W.children[pn]}}applyRedirectCommands(I,w,j){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),I,j)}applyRedirectCreatreUrlTree(I,w,j,W){const Y=this.createSegmentGroup(I,w.root,j,W);return new Te(Y,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(I,w){const j={};return en(I,(W,Y)=>{if("string"==typeof W&&W.startsWith(":")){const ot=W.substring(1);j[Y]=w[ot]}else j[Y]=W}),j}createSegmentGroup(I,w,j,W){const Y=this.createSegments(I,w.segments,j,W);let Fe={};return en(w.children,(ot,jt)=>{Fe[jt]=this.createSegmentGroup(I,ot,j,W)}),new dt(Y,Fe)}createSegments(I,w,j,W){return w.map(Y=>Y.path.startsWith(":")?this.findPosParam(I,Y,W):this.findOrReturn(Y,j))}findPosParam(I,w,j){const W=j[w.path.substring(1)];if(!W)throw new Error(`Cannot redirect to '${I}'. Cannot find '${w.path}'.`);return W}findOrReturn(I,w){let j=0;for(const W of w){if(W.path===I.path)return w.splice(j),W;j++}return I}}function wi(A){const I={};for(const j of Object.keys(A.children)){const Y=wi(A.children[j]);(Y.segments.length>0||Y.hasChildren())&&(I[j]=Y)}return function qi(A){if(1===A.numberOfChildren&&A.children[pn]){const I=A.children[pn];return new dt(A.segments.concat(I.segments),I.children)}return A}(new dt(A.segments,I))}class H{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class N{constructor(I,w){this.component=I,this.route=w}}function M(A,I,w){const j=A._root;return vi(j,I?I._root:null,w,[j.value])}function Lt(A,I,w){const j=function Cn(A){if(!A)return null;for(let I=A.parent;I;I=I.parent){const w=I.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(I);return(j?j.module.injector:w).get(A)}function vi(A,I,w,j,W={canDeactivateChecks:[],canActivateChecks:[]}){const Y=$i(I);return A.children.forEach(Fe=>{(function Vr(A,I,w,j,W={canDeactivateChecks:[],canActivateChecks:[]}){const Y=A.value,Fe=I?I.value:null,ot=w?w.getContext(A.value.outlet):null;if(Fe&&Y.routeConfig===Fe.routeConfig){const jt=function mo(A,I,w){if("function"==typeof w)return w(A,I);switch(w){case"pathParamsChange":return!Nn(A.url,I.url);case"pathParamsOrQueryParamsChange":return!Nn(A.url,I.url)||!q(A.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lr(A,I)||!q(A.queryParams,I.queryParams);default:return!Lr(A,I)}}(Fe,Y,Y.routeConfig.runGuardsAndResolvers);jt?W.canActivateChecks.push(new H(j)):(Y.data=Fe.data,Y._resolvedData=Fe._resolvedData),vi(A,I,Y.component?ot?ot.children:null:w,j,W),jt&&ot&&ot.outlet&&ot.outlet.isActivated&&W.canDeactivateChecks.push(new N(ot.outlet.component,Fe))}else Fe&&ds(I,ot,W),W.canActivateChecks.push(new H(j)),vi(A,null,Y.component?ot?ot.children:null:w,j,W)})(Fe,Y[Fe.value.outlet],w,j.concat([Fe.value]),W),delete Y[Fe.value.outlet]}),en(Y,(Fe,ot)=>ds(Fe,w.getContext(ot),W)),W}function ds(A,I,w){const j=$i(A),W=A.value;en(j,(Y,Fe)=>{ds(Y,W.component?I?I.children.getContext(Fe):null:I,w)}),w.canDeactivateChecks.push(new N(W.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,W))}class Da{}function cl(A){return new g.y(I=>I.error(A))}class to{constructor(I,w,j,W,Y,Fe){this.rootComponentType=I,this.config=w,this.urlTree=j,this.url=W,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=Fe}recognize(){const I=cs(this.urlTree.root,[],[],this.config.filter(Fe=>void 0===Fe.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,I,pn);if(null===w)return null;const j=new Li([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pn,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new gi(j,w),Y=new Nr(this.url,W);return this.inheritParamsAndData(Y._root),Y}inheritParamsAndData(I){const w=I.value,j=_s(w,this.paramsInheritanceStrategy);w.params=Object.freeze(j.params),w.data=Object.freeze(j.data),I.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(I,w,j){return 0===w.segments.length&&w.hasChildren()?this.processChildren(I,w):this.processSegment(I,w,w.segments,j)}processChildren(I,w){const j=[];for(const Y of Object.keys(w.children)){const Fe=w.children[Y],ot=Kr(I,Y),jt=this.processSegmentGroup(ot,Fe,Y);if(null===jt)return null;j.push(...jt)}const W=Ko(j);return function no(A){A.sort((I,w)=>I.value.outlet===pn?-1:w.value.outlet===pn?1:I.value.outlet.localeCompare(w.value.outlet))}(W),W}processSegment(I,w,j,W){for(const Y of I){const Fe=this.processSegmentAgainstRoute(Y,w,j,W);if(null!==Fe)return Fe}return ce(w,j,W)?[]:null}processSegmentAgainstRoute(I,w,j,W){if(I.redirectTo||!F(I,w,j,W))return null;let Y,Fe=[],ot=[];if("**"===I.path){const Tt=j.length>0?Ke(j).parameters:{};Y=new Li(j,Tt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,k(I),ki(I),I.component,I,y(w),E(w)+j.length,te(I))}else{const Tt=gr(w,I,j);if(!Tt.matched)return null;Fe=Tt.consumedSegments,ot=Tt.remainingSegments,Y=new Li(Fe,Tt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,k(I),ki(I),I.component,I,y(w),E(w)+Fe.length,te(I))}const jt=function pr(A){return A.children?A.children:A.loadChildren?A._loadedConfig.routes:[]}(I),{segmentGroup:Ht,slicedSegments:hn}=cs(w,Fe,ot,jt.filter(Tt=>void 0===Tt.redirectTo),this.relativeLinkResolution);if(0===hn.length&&Ht.hasChildren()){const Tt=this.processChildren(jt,Ht);return null===Tt?null:[new gi(Y,Tt)]}if(0===jt.length&&0===hn.length)return[new gi(Y,[])];const Bn=ki(I)===W,rn=this.processSegment(jt,Ht,hn,Bn?pn:W);return null===rn?null:[new gi(Y,rn)]}}function Ls(A){const I=A.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Ko(A){const I=[],w=new Set;for(const j of A){if(!Ls(j)){I.push(j);continue}const W=I.find(Y=>j.value.routeConfig===Y.value.routeConfig);void 0!==W?(W.children.push(...j.children),w.add(W)):I.push(j)}for(const j of w){const W=Ko(j.children);I.push(new gi(j.value,W))}return I.filter(j=>!w.has(j))}function y(A){let I=A;for(;I._sourceSegment;)I=I._sourceSegment;return I}function E(A){let I=A,w=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,w+=I._segmentIndexShift?I._segmentIndexShift:0;return w-1}function k(A){return A.data||{}}function te(A){return A.resolve||{}}function zt(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function On(A){return(0,Ee.w)(I=>{const w=A(I);return w?(0,ye.D)(w).pipe((0,xe.U)(()=>I)):(0,le.of)(I)})}class kn extends class ci{shouldDetach(I){return!1}store(I,w){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,w){return I.routeConfig===w.routeConfig}}{}const Zn=new h.OlP("ROUTES");class Pi{constructor(I,w,j,W){this.injector=I,this.compiler=w,this.onLoadStartListener=j,this.onLoadEndListener=W}load(I,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const W=this.loadModuleFactory(w.loadChildren).pipe((0,xe.U)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(w);const Fe=Y.create(I);return new Ns(de(Fe.injector.get(Zn,void 0,h.XFs.Self|h.XFs.Optional)).map(wr),Fe)}),(0,Je.K)(Y=>{throw w._loader$=void 0,Y}));return w._loader$=new ke(W,()=>new Ue.x).pipe(ve()),w._loader$}loadModuleFactory(I){return ln(I()).pipe((0,yt.z)(w=>w instanceof h.YKP?(0,le.of)(w):(0,ye.D)(this.compiler.compileModuleAsync(w))))}}class ir{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,w){return I}}function Ur(A){throw A}function Di(A,I,w){return I.parse("/")}function Or(A,I){return(0,le.of)(null)}const Vi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qi=(()=>{class A{constructor(w,j,W,Y,Fe,ot,jt){this.rootComponentType=w,this.urlSerializer=j,this.rootContexts=W,this.location=Y,this.config=jt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ue.x,this.errorHandler=Ur,this.malformedUriErrorHandler=Di,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Or,afterPreactivation:Or},this.urlHandlingStrategy=new ir,this.routeReuseStrategy=new kn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Fe.get(h.h0i),this.console=Fe.get(h.c2e);const Bn=Fe.get(h.R0b);this.isNgZoneEnabled=Bn instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(jt),this.currentUrlTree=function jn(){return new Te(new dt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Pi(Fe,ot,rn=>this.triggerEvent(new vt(rn)),rn=>this.triggerEvent(new Se(rn))),this.routerState=Gn(this.currentUrlTree,this.rootComponentType),this.transitions=new se.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const j=this.events;return w.pipe((0,rt.h)(W=>0!==W.id),(0,xe.U)(W=>Object.assign(Object.assign({},W),{extractedUrl:this.urlHandlingStrategy.extract(W.rawUrl)})),(0,Ee.w)(W=>{let Y=!1,Fe=!1;return(0,le.of)(W).pipe((0,kt.b)(ot=>{this.currentNavigation={id:ot.id,initialUrl:ot.currentRawUrl,extractedUrl:ot.extractedUrl,trigger:ot.source,extras:ot.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ee.w)(ot=>{const jt=this.browserUrlTree.toString(),Ht=!this.navigated||ot.extractedUrl.toString()!==jt||jt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ht)&&this.urlHandlingStrategy.shouldProcessUrl(ot.rawUrl))return io(ot.source)&&(this.browserUrlTree=ot.extractedUrl),(0,le.of)(ot).pipe((0,Ee.w)(Bn=>{const rn=this.transitions.getValue();return j.next(new et(Bn.id,this.serializeUrl(Bn.extractedUrl),Bn.source,Bn.restoredState)),rn!==this.transitions.getValue()?lt.E:Promise.resolve(Bn)}),function Wi(A,I,w,j){return(0,Ee.w)(W=>function li(A,I,w,j,W){return new fi(A,I,w,j,W).apply()}(A,I,w,W.extractedUrl,j).pipe((0,xe.U)(Y=>Object.assign(Object.assign({},W),{urlAfterRedirects:Y}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,kt.b)(Bn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Bn.urlAfterRedirects})}),function Ie(A,I,w,j,W){return(0,yt.z)(Y=>function sa(A,I,w,j,W="emptyOnly",Y="legacy"){try{const Fe=new to(A,I,w,j,W,Y).recognize();return null===Fe?cl(new Da):(0,le.of)(Fe)}catch(Fe){return cl(Fe)}}(A,I,Y.urlAfterRedirects,w(Y.urlAfterRedirects),j,W).pipe((0,xe.U)(Fe=>Object.assign(Object.assign({},Y),{targetSnapshot:Fe}))))}(this.rootComponentType,this.config,Bn=>this.serializeUrl(Bn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,kt.b)(Bn=>{if("eager"===this.urlUpdateStrategy){if(!Bn.extras.skipLocationChange){const Tt=this.urlHandlingStrategy.merge(Bn.urlAfterRedirects,Bn.rawUrl);this.setBrowserUrl(Tt,Bn)}this.browserUrlTree=Bn.urlAfterRedirects}const rn=new Bt(Bn.id,this.serializeUrl(Bn.extractedUrl),this.serializeUrl(Bn.urlAfterRedirects),Bn.targetSnapshot);j.next(rn)}));if(Ht&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:rn,extractedUrl:Tt,source:Xt,restoredState:Ji,extras:ma}=ot,ga=new et(rn,this.serializeUrl(Tt),Xt,Ji);j.next(ga);const xo=Gn(Tt,this.rootComponentType).snapshot;return(0,le.of)(Object.assign(Object.assign({},ot),{targetSnapshot:xo,urlAfterRedirects:Tt,extras:Object.assign(Object.assign({},ma),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ot.rawUrl,ot.resolve(null),lt.E}),On(ot=>{const{targetSnapshot:jt,id:Ht,extractedUrl:hn,rawUrl:Bn,extras:{skipLocationChange:rn,replaceUrl:Tt}}=ot;return this.hooks.beforePreactivation(jt,{navigationId:Ht,appliedUrlTree:hn,rawUrlTree:Bn,skipLocationChange:!!rn,replaceUrl:!!Tt})}),(0,kt.b)(ot=>{const jt=new bt(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(jt)}),(0,xe.U)(ot=>Object.assign(Object.assign({},ot),{guards:M(ot.targetSnapshot,ot.currentSnapshot,this.rootContexts)})),function nn(A,I){return(0,yt.z)(w=>{const{targetSnapshot:j,currentSnapshot:W,guards:{canActivateChecks:Y,canDeactivateChecks:Fe}}=w;return 0===Fe.length&&0===Y.length?(0,le.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function yi(A,I,w,j){return(0,ye.D)(A).pipe((0,yt.z)(W=>function To(A,I,w,j,W){const Y=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,le.of)(!0);const Fe=Y.map(ot=>{const jt=Lt(ot,I,W);let Ht;if(function xr(A){return A&&hr(A.canDeactivate)}(jt))Ht=ln(jt.canDeactivate(A,I,w,j));else{if(!hr(jt))throw new Error("Invalid CanDeactivate guard");Ht=ln(jt(A,I,w,j))}return Ht.pipe((0,wt.P)())});return(0,le.of)(Fe).pipe(Fs())}(W.component,W.route,w,I,j)),(0,wt.P)(W=>!0!==W,!0))}(Fe,j,W,A).pipe((0,yt.z)(ot=>ot&&function Es(A){return"boolean"==typeof A}(ot)?function zo(A,I,w,j){return(0,ye.D)(I).pipe((0,it.b)(W=>(0,Re.z)(function Wo(A,I){return null!==A&&I&&I(new Et(A)),(0,le.of)(!0)}(W.route.parent,j),function nr(A,I){return null!==A&&I&&I(new cn(A)),(0,le.of)(!0)}(W.route,j),function Is(A,I,w){const j=I[I.length-1],Y=I.slice(0,I.length-1).reverse().map(Fe=>function ae(A){const I=A.routeConfig?A.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:A,guards:I}:null}(Fe)).filter(Fe=>null!==Fe).map(Fe=>(0,je.P)(()=>{const ot=Fe.guards.map(jt=>{const Ht=Lt(jt,Fe.node,w);let hn;if(function Wr(A){return A&&hr(A.canActivateChild)}(Ht))hn=ln(Ht.canActivateChild(j,A));else{if(!hr(Ht))throw new Error("Invalid CanActivateChild guard");hn=ln(Ht(j,A))}return hn.pipe((0,wt.P)())});return(0,le.of)(ot).pipe(Fs())}));return(0,le.of)(Y).pipe(Fs())}(A,W.path,w),function go(A,I,w){const j=I.routeConfig?I.routeConfig.canActivate:null;if(!j||0===j.length)return(0,le.of)(!0);const W=j.map(Y=>(0,je.P)(()=>{const Fe=Lt(Y,I,w);let ot;if(function ar(A){return A&&hr(A.canActivate)}(Fe))ot=ln(Fe.canActivate(I,A));else{if(!hr(Fe))throw new Error("Invalid CanActivate guard");ot=ln(Fe(I,A))}return ot.pipe((0,wt.P)())}));return(0,le.of)(W).pipe(Fs())}(A,W.route,w))),(0,wt.P)(W=>!0!==W,!0))}(j,Y,A,I):(0,le.of)(ot)),(0,xe.U)(ot=>Object.assign(Object.assign({},w),{guardsResult:ot})))})}(this.ngModule.injector,ot=>this.triggerEvent(ot)),(0,kt.b)(ot=>{if(rs(ot.guardsResult)){const Ht=X(`Redirecting to "${this.serializeUrl(ot.guardsResult)}"`);throw Ht.url=ot.guardsResult,Ht}const jt=new pt(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot,!!ot.guardsResult);this.triggerEvent(jt)}),(0,rt.h)(ot=>!!ot.guardsResult||(this.restoreHistory(ot),this.cancelNavigationTransition(ot,""),!1)),On(ot=>{if(ot.guards.canActivateChecks.length)return(0,le.of)(ot).pipe((0,kt.b)(jt=>{const Ht=new ht(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);this.triggerEvent(Ht)}),(0,Ee.w)(jt=>{let Ht=!1;return(0,le.of)(jt).pipe(function Qe(A,I){return(0,yt.z)(w=>{const{targetSnapshot:j,guards:{canActivateChecks:W}}=w;if(!W.length)return(0,le.of)(w);let Y=0;return(0,ye.D)(W).pipe((0,it.b)(Fe=>function tt(A,I,w,j){return function St(A,I,w,j){const W=zt(A);if(0===W.length)return(0,le.of)({});const Y={};return(0,ye.D)(W).pipe((0,yt.z)(Fe=>function wn(A,I,w,j){const W=Lt(A,I,j);return ln(W.resolve?W.resolve(I,w):W(I,w))}(A[Fe],I,w,j).pipe((0,kt.b)(ot=>{Y[Fe]=ot}))),Ae(1),(0,yt.z)(()=>zt(Y).length===W.length?(0,le.of)(Y):lt.E))}(A._resolve,A,I,j).pipe((0,xe.U)(Y=>(A._resolvedData=Y,A.data=Object.assign(Object.assign({},A.data),_s(A,w).resolve),null)))}(Fe.route,j,A,I)),(0,kt.b)(()=>Y++),Ae(1),(0,yt.z)(Fe=>Y===W.length?(0,le.of)(w):lt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,kt.b)({next:()=>Ht=!0,complete:()=>{Ht||(this.restoreHistory(jt),this.cancelNavigationTransition(jt,"At least one route resolver didn't emit any value."))}}))}),(0,kt.b)(jt=>{const Ht=new Me(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);this.triggerEvent(Ht)}))}),On(ot=>{const{targetSnapshot:jt,id:Ht,extractedUrl:hn,rawUrl:Bn,extras:{skipLocationChange:rn,replaceUrl:Tt}}=ot;return this.hooks.afterPreactivation(jt,{navigationId:Ht,appliedUrlTree:hn,rawUrlTree:Bn,skipLocationChange:!!rn,replaceUrl:!!Tt})}),(0,xe.U)(ot=>{const jt=function ys(A,I,w){const j=Bi(A,I._root,w?w._root:void 0);return new Si(j,I)}(this.routeReuseStrategy,ot.targetSnapshot,ot.currentRouterState);return Object.assign(Object.assign({},ot),{targetRouterState:jt})}),(0,kt.b)(ot=>{this.currentUrlTree=ot.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ot.urlAfterRedirects,ot.rawUrl),this.routerState=ot.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ot.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ot),this.browserUrlTree=ot.urlAfterRedirects)}),((A,I,w)=>(0,xe.U)(j=>(new Ks(I,j.targetRouterState,j.currentRouterState,w).activate(A),j)))(this.rootContexts,this.routeReuseStrategy,ot=>this.triggerEvent(ot)),(0,kt.b)({next(){Y=!0},complete(){Y=!0}}),(0,At.x)(()=>{var ot;Y||Fe||this.cancelNavigationTransition(W,`Navigation ID ${W.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ot=this.currentNavigation)||void 0===ot?void 0:ot.id)===W.id&&(this.currentNavigation=null)}),(0,Je.K)(ot=>{if(Fe=!0,function we(A){return A&&A[V]}(ot)){const jt=rs(ot.url);jt||(this.navigated=!0,this.restoreHistory(W,!0));const Ht=new Q(W.id,this.serializeUrl(W.extractedUrl),ot.message);j.next(Ht),jt?setTimeout(()=>{const hn=this.urlHandlingStrategy.merge(ot.url,this.rawUrlTree),Bn={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||io(W.source)};this.scheduleNavigation(hn,"imperative",null,Bn,{resolve:W.resolve,reject:W.reject,promise:W.promise})},0):W.resolve(!1)}else{this.restoreHistory(W,!0);const jt=new Ce(W.id,this.serializeUrl(W.extractedUrl),ot);j.next(jt);try{W.resolve(this.errorHandler(ot))}catch(Ht){W.reject(Ht)}}return lt.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const j="popstate"===w.type?"popstate":"hashchange";"popstate"===j&&setTimeout(()=>{var W;const Y={replaceUrl:!0},Fe=(null===(W=w.state)||void 0===W?void 0:W.navigationId)?w.state:null;if(Fe){const jt=Object.assign({},Fe);delete jt.navigationId,delete jt.\u0275routerPageId,0!==Object.keys(jt).length&&(Y.state=jt)}const ot=this.parseUrl(w.url);this.scheduleNavigation(ot,j,Fe,Y)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){ws(w),this.config=w.map(wr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,j={}){const{relativeTo:W,queryParams:Y,fragment:Fe,queryParamsHandling:ot,preserveFragment:jt}=j,Ht=W||this.routerState.root,hn=jt?this.currentUrlTree.fragment:Fe;let Bn=null;switch(ot){case"merge":Bn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Y);break;case"preserve":Bn=this.currentUrlTree.queryParams;break;default:Bn=Y||null}return null!==Bn&&(Bn=this.removeEmptyProps(Bn)),function zs(A,I,w,j,W){if(0===w.length)return Ws(I.root,I.root,I.root,j,W);const Y=function er(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new wo(!0,0,A);let I=0,w=!1;const j=A.reduce((W,Y,Fe)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const ot={};return en(Y.outlets,(jt,Ht)=>{ot[Ht]="string"==typeof jt?jt.split("/"):jt}),[...W,{outlets:ot}]}if(Y.segmentPath)return[...W,Y.segmentPath]}return"string"!=typeof Y?[...W,Y]:0===Fe?(Y.split("/").forEach((ot,jt)=>{0==jt&&"."===ot||(0==jt&&""===ot?w=!0:".."===ot?I++:""!=ot&&W.push(ot))}),W):[...W,Y]},[]);return new wo(w,I,j)}(w);if(Y.toRoot())return Ws(I.root,I.root,new dt([],{}),j,W);const Fe=function es(A,I,w){if(A.isAbsolute)return new zr(I.root,!0,0);if(-1===w.snapshot._lastPathIndex){const Y=w.snapshot._urlSegment;return new zr(Y,Y===I.root,0)}const j=or(A.commands[0])?0:1;return function Do(A,I,w){let j=A,W=I,Y=w;for(;Y>W;){if(Y-=W,j=j.parent,!j)throw new Error("Invalid number of '../'");W=j.segments.length}return new zr(j,!1,W-Y)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+j,A.numberOfDoubleDots)}(Y,I,A),ot=Fe.processChildren?ts(Fe.segmentGroup,Fe.index,Y.commands):eo(Fe.segmentGroup,Fe.index,Y.commands);return Ws(I.root,Fe.segmentGroup,ot,j,W)}(Ht,this.currentUrlTree,w,Bn,null!=hn?hn:null)}navigateByUrl(w,j={skipLocationChange:!1}){const W=rs(w)?w:this.parseUrl(w),Y=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(Y,"imperative",null,j)}navigate(w,j={skipLocationChange:!1}){return function So(A){for(let I=0;I<A.length;I++){const w=A[I];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${I}`)}}(w),this.navigateByUrl(this.createUrlTree(w,j),j)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let j;try{j=this.urlSerializer.parse(w)}catch(W){j=this.malformedUriErrorHandler(W,this.urlSerializer,w)}return j}isActive(w,j){let W;if(W=!0===j?Object.assign({},Vi):!1===j?Object.assign({},Yr):j,rs(w))return on(this.currentUrlTree,w,W);const Y=this.parseUrl(w);return on(this.currentUrlTree,Y,W)}removeEmptyProps(w){return Object.keys(w).reduce((j,W)=>{const Y=w[W];return null!=Y&&(j[W]=Y),j},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new gt(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,j,W,Y,Fe){var ot,jt;if(this.disposed)return Promise.resolve(!1);let Ht,hn,Bn;Fe?(Ht=Fe.resolve,hn=Fe.reject,Bn=Fe.promise):Bn=new Promise((Xt,Ji)=>{Ht=Xt,hn=Ji});const rn=++this.navigationId;let Tt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(W=this.location.getState()),Tt=W&&W.\u0275routerPageId?W.\u0275routerPageId:Y.replaceUrl||Y.skipLocationChange?null!==(ot=this.browserPageId)&&void 0!==ot?ot:0:(null!==(jt=this.browserPageId)&&void 0!==jt?jt:0)+1):Tt=0,this.setTransition({id:rn,targetPageId:Tt,source:j,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:Y,resolve:Ht,reject:hn,promise:Bn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Bn.catch(Xt=>Promise.reject(Xt))}setBrowserUrl(w,j){const W=this.urlSerializer.serialize(w),Y=Object.assign(Object.assign({},j.extras.state),this.generateNgRouterState(j.id,j.targetPageId));this.location.isCurrentPathEqualTo(W)||j.extras.replaceUrl?this.location.replaceState(W,"",Y):this.location.go(W,"",Y)}restoreHistory(w,j=!1){var W,Y;if("computed"===this.canceledNavigationResolution){const Fe=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)||0===Fe?this.currentUrlTree===(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)&&0===Fe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Fe)}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,j){const W=new Q(w.id,this.serializeUrl(w.extractedUrl),j);this.triggerEvent(W),w.resolve(!1)}generateNgRouterState(w,j){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:j}:{navigationId:w}}}return A.\u0275fac=function(w){h.$Z()},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();function io(A){return"imperative"!==A}let Bs=(()=>{class A{constructor(w,j,W,Y,Fe){this.router=w,this.route=j,this.tabIndexAttribute=W,this.renderer=Y,this.el=Fe,this.commands=null,this.onChanges=new Ue.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const j=this.renderer,W=this.el.nativeElement;null!==w?j.setAttribute(W,"tabindex",w):j.removeAttribute(W,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:qr(this.skipLocationChange),replaceUrl:qr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qr(this.preserveFragment)})}}return A.\u0275fac=function(w){return new(w||A)(h.Y36(Qi),h.Y36(ur),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},A.\u0275dir=h.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,j){1&w&&h.NdJ("click",function(){return j.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),A})();function qr(A){return""===A||!!A}class Tn{}class Kn{preload(I,w){return(0,le.of)(null)}}let ui=(()=>{class A{constructor(w,j,W,Y){this.router=w,this.injector=W,this.preloadingStrategy=Y,this.loader=new Pi(W,j,jt=>w.triggerEvent(new vt(jt)),jt=>w.triggerEvent(new Se(jt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,rt.h)(w=>w instanceof gt),(0,it.b)(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(h.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,j){const W=[];for(const Y of j)if(Y.loadChildren&&!Y.canLoad&&Y._loadedConfig){const Fe=Y._loadedConfig;W.push(this.processRoutes(Fe.module,Fe.routes))}else Y.loadChildren&&!Y.canLoad?W.push(this.preloadConfig(w,Y)):Y.children&&W.push(this.processRoutes(w,Y.children));return(0,ye.D)(W).pipe((0,ct.J)(),(0,xe.U)(Y=>{}))}preloadConfig(w,j){return this.preloadingStrategy.preload(j,()=>(j._loadedConfig?(0,le.of)(j._loadedConfig):this.loader.load(w.injector,j)).pipe((0,yt.z)(Y=>(j._loadedConfig=Y,this.processRoutes(Y.module,Y.routes)))))}}return A.\u0275fac=function(w){return new(w||A)(h.LFG(Qi),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Tn))},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})(),Ui=(()=>{class A{constructor(w,j,W={}){this.router=w,this.viewportScroller=j,this.options=W,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},W.scrollPositionRestoration=W.scrollPositionRestoration||"disabled",W.anchorScrolling=W.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof et?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof gt&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof un&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,j){this.router.triggerEvent(new un(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(w){h.$Z()},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();const rr=new h.OlP("ROUTER_CONFIGURATION"),os=new h.OlP("ROUTER_FORROOT_GUARD"),Ni=[Xe.Ye,{provide:vn,useClass:bi},{provide:Qi,useFactory:function pa(A,I,w,j,W,Y,Fe={},ot,jt){const Ht=new Qi(null,A,I,w,j,W,de(Y));return ot&&(Ht.urlHandlingStrategy=ot),jt&&(Ht.routeReuseStrategy=jt),function Vs(A,I){A.errorHandler&&(I.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(I.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(I.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(I.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(I.urlUpdateStrategy=A.urlUpdateStrategy),A.canceledNavigationResolution&&(I.canceledNavigationResolution=A.canceledNavigationResolution)}(Fe,Ht),Fe.enableTracing&&Ht.events.subscribe(hn=>{var Bn,rn;null===(Bn=console.group)||void 0===Bn||Bn.call(console,`Router Event: ${hn.constructor.name}`),console.log(hn.toString()),console.log(hn),null===(rn=console.groupEnd)||void 0===rn||rn.call(console)}),Ht},deps:[vn,ls,Xe.Ye,h.zs3,h.Sil,Zn,rr,[class tr{},new h.FiY],[class zn{},new h.FiY]]},ls,{provide:ur,useFactory:function ul(A){return A.routerState.root},deps:[Qi]},ui,Kn,class En{preload(I,w){return w().pipe((0,Je.K)(()=>(0,le.of)(null)))}},{provide:rr,useValue:{enableTracing:!1}}];function Zo(){return new h.PXZ("Router",Qi)}let fs=(()=>{class A{constructor(w,j){}static forRoot(w,j){return{ngModule:A,providers:[Ni,Ss(w),{provide:os,useFactory:Ki,deps:[[Qi,new h.FiY,new h.tp0]]},{provide:rr,useValue:j||{}},{provide:Xe.S$,useFactory:Ao,deps:[Xe.lw,[new h.tBr(Xe.mr),new h.FiY],rr]},{provide:Ui,useFactory:Qr,deps:[Qi,Xe.EM,rr]},{provide:Tn,useExisting:j&&j.preloadingStrategy?j.preloadingStrategy:Kn},{provide:h.PXZ,multi:!0,useFactory:Zo},[Ha,{provide:h.ip1,multi:!0,useFactory:so,deps:[Ha]},{provide:Xi,useFactory:dl,deps:[Ha]},{provide:h.tb,multi:!0,useExisting:Xi}]]}}static forChild(w){return{ngModule:A,providers:[Ss(w)]}}}return A.\u0275fac=function(w){return new(w||A)(h.LFG(os,8),h.LFG(Qi,8))},A.\u0275mod=h.oAB({type:A}),A.\u0275inj=h.cJS({}),A})();function Qr(A,I,w){return w.scrollOffset&&I.setOffset(w.scrollOffset),new Ui(A,I,w)}function Ao(A,I,w={}){return w.useHash?new Xe.Do(A,I):new Xe.b0(A,I)}function Ki(A){return"guarded"}function Ss(A){return[{provide:h.deG,multi:!0,useValue:A},{provide:Zn,multi:!0,useValue:A}]}let Ha=(()=>{class A{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ue.x}appInitializer(){return this.injector.get(Xe.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let j=null;const W=new Promise(ot=>j=ot),Y=this.injector.get(Qi),Fe=this.injector.get(rr);return"disabled"===Fe.initialNavigation?(Y.setUpLocationChangeListener(),j(!0)):"enabled"===Fe.initialNavigation||"enabledBlocking"===Fe.initialNavigation?(Y.hooks.afterPreactivation=()=>this.initNavigation?(0,le.of)(null):(this.initNavigation=!0,j(!0),this.resultOfPreactivationDone),Y.initialNavigation()):j(!0),W})}bootstrapListener(w){const j=this.injector.get(rr),W=this.injector.get(ui),Y=this.injector.get(Ui),Fe=this.injector.get(Qi),ot=this.injector.get(h.z2F);w===ot.components[0]&&(("enabledNonBlocking"===j.initialNavigation||void 0===j.initialNavigation)&&Fe.initialNavigation(),W.setUpPreloading(),Y.init(),Fe.resetRootComponentType(ot.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(w){return new(w||A)(h.LFG(h.zs3))},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();function so(A){return A.appInitializer.bind(A)}function dl(A){return A.bootstrapListener.bind(A)}const Xi=new h.OlP("Router Initializer")},3942:(Yt,Ye,b)=>{b.d(Ye,{Z:()=>je});var h=b(2090),g=b(4859),C=b(9681),ne=b(1877);class ge{constructor(Ue,rt){this._delegate=Ue,this.firebase=rt,(0,C._addComponent)(Ue,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,C.deleteApp)(this._delegate)))}_getService(Ue,rt=C._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const Ft=this._delegate.container.getProvider(Ue);return!Ft.isInitialized()&&"EXPLICIT"===(null===(Ae=Ft.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&Ft.initialize(),Ft.getImmediate({identifier:rt})}_removeServiceInstance(Ue,rt=C._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance(rt)}_addComponent(Ue){(0,C._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,C._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function le(){const lt=function ye(lt){const Ue={},rt={__esModule:!0,initializeApp:function nt(Ee,ee={}){const Ge=C.initializeApp(Ee,ee);if((0,h.r3)(Ue,Ge.name))return Ue[Ge.name];const be=new lt(Ge,rt);return Ue[Ge.name]=be,be},app:Ft,registerVersion:C.registerVersion,setLogLevel:C.setLogLevel,onLog:C.onLog,apps:null,SDK_VERSION:C.SDK_VERSION,INTERNAL:{registerComponent:function he(Ee){const ee=Ee.name,Ge=ee.replace("-compat","");if(C._registerComponent(Ee)&&"PUBLIC"===Ee.type){const be=(Je=Ft())=>{if("function"!=typeof Je[Ge])throw ke.create("invalid-app-argument",{appName:ee});return Je[Ge]()};void 0!==Ee.serviceProps&&(0,h.ZB)(be,Ee.serviceProps),rt[Ge]=be,lt.prototype[Ge]=function(...Je){return this._getService.bind(this,ee).apply(this,Ee.multipleInstances?Je:[])}}return"PUBLIC"===Ee.type?rt[Ge]:null},removeApp:function Ae(Ee){delete Ue[Ee]},useAsService:function xe(Ee,ee){return"serverAuth"===ee?null:ee},modularAPIs:C}};function Ft(Ee){if(!(0,h.r3)(Ue,Ee=Ee||C._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:Ee});return Ue[Ee]}return rt.default=rt,Object.defineProperty(rt,"apps",{get:function pe(){return Object.keys(Ue).map(Ee=>Ue[Ee])}}),Ft.App=lt,rt}(ge);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function Ue(rt){(0,h.ZB)(lt,rt)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),lt}(),fe=new ne.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=se;!function Re(lt){(0,C.registerVersion)("@firebase/app-compat","0.1.33",lt)}()},9681:(Yt,Ye,b)=>{b.r(Ye),b.d(Ye,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Et,_DEFAULT_ENTRY_NAME:()=>Xe,_addComponent:()=>Q,_addOrOverwriteComponent:()=>Ce,_apps:()=>et,_clearComponents:()=>ht,_components:()=>gt,_getProvider:()=>bt,_registerComponent:()=>Bt,_removeServiceInstance:()=>pt,deleteApp:()=>un,getApp:()=>cn,getApps:()=>Mn,initializeApp:()=>Jt,onLog:()=>ft,registerVersion:()=>dn,setLogLevel:()=>V});var h=b(5861),g=b(4859),C=b(1877),ne=b(2090),ge=b(8766);class ve{constructor(x){this.container=x}getPlatformInfoString(){return this.container.getProviders().map(G=>{if(function ke(P){const x=P.getComponent();return"VERSION"===(null==x?void 0:x.type)}(G)){const Te=G.getImmediate();return`${Te.library}/${Te.version}`}return null}).filter(G=>G).join(" ")}}const ye="@firebase/app",se=new C.Yd("@firebase/app"),Xe="[DEFAULT]",$e={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,gt=new Map;function Q(P,x){try{P.container.addComponent(x)}catch(G){se.debug(`Component ${x.name} failed to register with FirebaseApp ${P.name}`,G)}}function Ce(P,x){P.container.addOrOverwriteComponent(x)}function Bt(P){const x=P.name;if(gt.has(x))return se.debug(`There were multiple attempts to register component ${x}.`),!1;gt.set(x,P);for(const G of et.values())Q(G,P);return!0}function bt(P,x){const G=P.container.getProvider("heartbeat").getImmediate({optional:!0});return G&&G.triggerHeartbeat(),P.container.getProvider(x)}function pt(P,x,G=Xe){bt(P,x).clearInstance(G)}function ht(){gt.clear()}const vt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Se{constructor(x,G,Te){this._isDeleted=!1,this._options=Object.assign({},x),this._config=Object.assign({},G),this._name=G.name,this._automaticDataCollectionEnabled=G.automaticDataCollectionEnabled,this._container=Te,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(x){this.checkDestroyed(),this._automaticDataCollectionEnabled=x}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(x){this._isDeleted=x}checkDestroyed(){if(this.isDeleted)throw vt.create("app-deleted",{appName:this._name})}}const Et="9.9.4";function Jt(P,x={}){"object"!=typeof x&&(x={name:x});const G=Object.assign({name:Xe,automaticDataCollectionEnabled:!1},x),Te=G.name;if("string"!=typeof Te||!Te)throw vt.create("bad-app-name",{appName:String(Te)});const dt=et.get(Te);if(dt){if((0,ne.vZ)(P,dt.options)&&(0,ne.vZ)(G,dt.config))return dt;throw vt.create("duplicate-app",{appName:Te})}const Wt=new g.H0(Te);for(const Nn of gt.values())Wt.addComponent(Nn);const Pn=new Se(P,G,Wt);return et.set(Te,Pn),Pn}function cn(P=Xe){const x=et.get(P);if(!x)throw vt.create("no-app",{appName:P});return x}function Mn(){return Array.from(et.values())}function un(P){return pn.apply(this,arguments)}function pn(){return(pn=(0,h.Z)(function*(P){const x=P.name;et.has(x)&&(et.delete(x),yield Promise.all(P.container.getProviders().map(G=>G.delete())),P.isDeleted=!0)})).apply(this,arguments)}function dn(P,x,G){var Te;let dt=null!==(Te=$e[P])&&void 0!==Te?Te:P;G&&(dt+=`-${G}`);const Wt=dt.match(/\s|\//),Pn=x.match(/\s|\//);if(Wt||Pn){const Nn=[`Unable to register library "${dt}" with version "${x}":`];return Wt&&Nn.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),Wt&&Pn&&Nn.push("and"),Pn&&Nn.push(`version name "${x}" contains illegal characters (whitespace or "/")`),void se.warn(Nn.join(" "))}Bt(new g.wA(`${dt}-version`,()=>({library:dt,version:x}),"VERSION"))}function ft(P,x){if(null!==P&&"function"!=typeof P)throw vt.create("invalid-log-argument");(0,C.Am)(P,x)}function V(P){(0,C.Ub)(P)}const Oe="firebase-heartbeat-store";let Pe=null;function q(){return Pe||(Pe=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(P,x)=>{0===x&&P.createObjectStore(Oe)}}).catch(P=>{throw vt.create("idb-open",{originalErrorMessage:P.message})})),Pe}function de(){return(de=(0,h.Z)(function*(P){var x;try{return(yield q()).transaction(Oe).objectStore(Oe).get(en(P))}catch(G){if(G instanceof ne.ZR)se.warn(G.message);else{const Te=vt.create("idb-get",{originalErrorMessage:null===(x=G)||void 0===x?void 0:x.message});se.warn(Te.message)}}})).apply(this,arguments)}function Ke(P,x){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(P,x){var G;try{const dt=(yield q()).transaction(Oe,"readwrite");return yield dt.objectStore(Oe).put(x,en(P)),dt.done}catch(Te){if(Te instanceof ne.ZR)se.warn(Te.message);else{const dt=vt.create("idb-set",{originalErrorMessage:null===(G=Te)||void 0===G?void 0:G.message});se.warn(dt.message)}}})).apply(this,arguments)}function en(P){return`${P.name}!${P.options.appId}`}class Ln{constructor(x){this.container=x,this._heartbeatsCache=null;const G=this.container.getProvider("app").getImmediate();this._storage=new Ci(G),this._heartbeatsCachePromise=this._storage.read().then(Te=>(this._heartbeatsCache=Te,Te))}triggerHeartbeat(){var x=this;return(0,h.Z)(function*(){const Te=x.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=ni();if(null===x._heartbeatsCache&&(x._heartbeatsCache=yield x._heartbeatsCachePromise),x._heartbeatsCache.lastSentHeartbeatDate!==dt&&!x._heartbeatsCache.heartbeats.some(Wt=>Wt.date===dt))return x._heartbeatsCache.heartbeats.push({date:dt,agent:Te}),x._heartbeatsCache.heartbeats=x._heartbeatsCache.heartbeats.filter(Wt=>{const Pn=new Date(Wt.date).valueOf();return Date.now()-Pn<=2592e6}),x._storage.overwrite(x._heartbeatsCache)})()}getHeartbeatsHeader(){var x=this;return(0,h.Z)(function*(){if(null===x._heartbeatsCache&&(yield x._heartbeatsCachePromise),null===x._heartbeatsCache||0===x._heartbeatsCache.heartbeats.length)return"";const G=ni(),{heartbeatsToSend:Te,unsentEntries:dt}=function on(P,x=1024){const G=[];let Te=P.slice();for(const dt of P){const Wt=G.find(Pn=>Pn.agent===dt.agent);if(Wt){if(Wt.dates.push(dt.date),ze(G)>x){Wt.dates.pop();break}}else if(G.push({agent:dt.agent,dates:[dt.date]}),ze(G)>x){G.pop();break}Te=Te.slice(1)}return{heartbeatsToSend:G,unsentEntries:Te}}(x._heartbeatsCache.heartbeats),Wt=(0,ne.L)(JSON.stringify({version:2,heartbeats:Te}));return x._heartbeatsCache.lastSentHeartbeatDate=G,dt.length>0?(x._heartbeatsCache.heartbeats=dt,yield x._storage.overwrite(x._heartbeatsCache)):(x._heartbeatsCache.heartbeats=[],x._storage.overwrite(x._heartbeatsCache)),Wt})()}}function ni(){return(new Date).toISOString().substring(0,10)}class Ci{constructor(x){this.app=x,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var x=this;return(0,h.Z)(function*(){return(yield x._canUseIndexedDBPromise)&&(yield function Be(P){return de.apply(this,arguments)}(x.app))||{heartbeats:[]}})()}overwrite(x){var G=this;return(0,h.Z)(function*(){var Te;if(yield G._canUseIndexedDBPromise){const Wt=yield G.read();return Ke(G.app,{lastSentHeartbeatDate:null!==(Te=x.lastSentHeartbeatDate)&&void 0!==Te?Te:Wt.lastSentHeartbeatDate,heartbeats:x.heartbeats})}})()}add(x){var G=this;return(0,h.Z)(function*(){var Te;if(yield G._canUseIndexedDBPromise){const Wt=yield G.read();return Ke(G.app,{lastSentHeartbeatDate:null!==(Te=x.lastSentHeartbeatDate)&&void 0!==Te?Te:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...x.heartbeats]})}})()}}function ze(P){return(0,ne.L)(JSON.stringify({version:2,heartbeats:P})).length}!function $(P){Bt(new g.wA("platform-logger",x=>new ve(x),"PRIVATE")),Bt(new g.wA("heartbeat",x=>new Ln(x),"PRIVATE")),dn(ye,"0.7.32",P),dn(ye,"0.7.32","esm2017"),dn("fire-js","")}("")},4859:(Yt,Ye,b)=>{b.d(Ye,{wA:()=>C,H0:()=>ye});var h=b(5861),g=b(2090);class C{constructor(se,fe,De){this.name=se,this.instanceFactory=fe,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const ne="[DEFAULT]";class ge{constructor(se,fe){this.name=se,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const fe=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(fe)){const De=new g.BH;if(this.instancesDeferred.set(fe,De),this.isInitialized(fe)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:fe});We&&De.resolve(We)}catch(We){}}return this.instancesDeferred.get(fe).promise}getImmediate(se){var fe;const De=this.normalizeInstanceIdentifier(null==se?void 0:se.identifier),We=null!==(fe=null==se?void 0:se.optional)&&void 0!==fe&&fe;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(Re){if(We)return null;throw Re}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function ke(le){return"EAGER"===le.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:ne})}catch(fe){}for(const[fe,De]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(fe);try{const Re=this.getOrInitializeService({instanceIdentifier:We});De.resolve(Re)}catch(Re){}}}}clearInstance(se=ne){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,h.Z)(function*(){const fe=Array.from(se.instances.values());yield Promise.all([...fe.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...fe.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=ne){return this.instances.has(se)}getOptions(se=ne){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:fe={}}=se,De=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:De,options:fe});for(const[Re,je]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(Re)&&je.resolve(We);return We}onInit(se,fe){var De;const We=this.normalizeInstanceIdentifier(fe),Re=null!==(De=this.onInitCallbacks.get(We))&&void 0!==De?De:new Set;Re.add(se),this.onInitCallbacks.set(We,Re);const je=this.instances.get(We);return je&&se(je,We),()=>{Re.delete(se)}}invokeOnInitCallbacks(se,fe){const De=this.onInitCallbacks.get(fe);if(De)for(const We of De)try{We(se,fe)}catch(Re){}}getOrInitializeService({instanceIdentifier:se,options:fe={}}){let De=this.instances.get(se);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(le=se,le===ne?void 0:le),options:fe}),this.instances.set(se,De),this.instancesOptions.set(se,fe),this.invokeOnInitCallbacks(De,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,De)}catch(We){}var le;return De||null}normalizeInstanceIdentifier(se=ne){return this.component?this.component.multipleInstances?se:ne:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const fe=this.getProvider(se.name);if(fe.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);fe.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const fe=new ge(se,this);return this.providers.set(se,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(Yt,Ye,b)=>{b.d(Ye,{in:()=>g,Yd:()=>ke,Ub:()=>ye,Am:()=>le});const h=[];var g=(()=>{return(se=g||(g={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",g;var se})();const C={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},ne=g.INFO,ge={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},ve=(se,fe,...De)=>{if(fe<se.logLevel)return;const We=(new Date).toISOString(),Re=ge[fe];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[Re](`[${We}]  ${se.name}:`,...De)};class ke{constructor(fe){this.name=fe,this._logLevel=ne,this._logHandler=ve,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in g))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?C[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...fe),this._logHandler(this,g.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...fe),this._logHandler(this,g.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,g.INFO,...fe),this._logHandler(this,g.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,g.WARN,...fe),this._logHandler(this,g.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...fe),this._logHandler(this,g.ERROR,...fe)}}function ye(se){h.forEach(fe=>{fe.setLogLevel(se)})}function le(se,fe){for(const De of h){let We=null;fe&&fe.level&&(We=C[fe.level]),De.userLogHandler=null===se?null:(Re,je,...lt)=>{const Ue=lt.map(rt=>{if(null==rt)return null;if("string"==typeof rt)return rt;if("number"==typeof rt||"boolean"==typeof rt)return rt.toString();if(rt instanceof Error)return rt.message;try{return JSON.stringify(rt)}catch(Ae){return null}}).filter(rt=>rt).join(" ");je>=(null!=We?We:Re.logLevel)&&se({level:g[je].toLowerCase(),message:Ue,args:lt,type:Re.name})}}}},8766:(Yt,Ye,b)=>{b.d(Ye,{Lj:()=>nt,X3:()=>Ft});var h=b(5861);let C,ne;const ke=new WeakMap,ye=new WeakMap,le=new WeakMap,se=new WeakMap,fe=new WeakMap;let Re={get(ee,Ge,be){if(ee instanceof IDBTransaction){if("done"===Ge)return ye.get(ee);if("objectStoreNames"===Ge)return ee.objectStoreNames||le.get(ee);if("store"===Ge)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return rt(ee[Ge])},set:(ee,Ge,be)=>(ee[Ge]=be,!0),has:(ee,Ge)=>ee instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in ee};function Ue(ee){return"function"==typeof ee?function lt(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...Ge){return ee.apply(Ae(this),Ge),rt(ke.get(this))}:function(...Ge){return rt(ee.apply(Ae(this),Ge))}:function(Ge,...be){const Je=ee.call(Ae(this),Ge,...be);return le.set(Je,Ge.sort?Ge.sort():[Ge]),rt(Je)}}(ee):(ee instanceof IDBTransaction&&function We(ee){if(ye.has(ee))return;const Ge=new Promise((be,Je)=>{const it=()=>{ee.removeEventListener("complete",wt),ee.removeEventListener("error",yt),ee.removeEventListener("abort",yt)},wt=()=>{be(),it()},yt=()=>{Je(ee.error||new DOMException("AbortError","AbortError")),it()};ee.addEventListener("complete",wt),ee.addEventListener("error",yt),ee.addEventListener("abort",yt)});ye.set(ee,Ge)}(ee),((ee,Ge)=>Ge.some(be=>ee instanceof be))(ee,function ge(){return C||(C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,Re):ee)}function rt(ee){if(ee instanceof IDBRequest)return function De(ee){const Ge=new Promise((be,Je)=>{const it=()=>{ee.removeEventListener("success",wt),ee.removeEventListener("error",yt)},wt=()=>{be(rt(ee.result)),it()},yt=()=>{Je(ee.error),it()};ee.addEventListener("success",wt),ee.addEventListener("error",yt)});return Ge.then(be=>{be instanceof IDBCursor&&ke.set(be,ee)}).catch(()=>{}),fe.set(Ge,ee),Ge}(ee);if(se.has(ee))return se.get(ee);const Ge=Ue(ee);return Ge!==ee&&(se.set(ee,Ge),fe.set(Ge,ee)),Ge}const Ae=ee=>fe.get(ee);function Ft(ee,Ge,{blocked:be,upgrade:Je,blocking:it,terminated:wt}={}){const yt=indexedDB.open(ee,Ge),kt=rt(yt);return Je&&yt.addEventListener("upgradeneeded",At=>{Je(rt(yt.result),At.oldVersion,At.newVersion,rt(yt.transaction))}),be&&yt.addEventListener("blocked",()=>be()),kt.then(At=>{wt&&At.addEventListener("close",()=>wt()),it&&At.addEventListener("versionchange",()=>it())}).catch(()=>{}),kt}function nt(ee,{blocked:Ge}={}){const be=indexedDB.deleteDatabase(ee);return Ge&&be.addEventListener("blocked",()=>Ge()),rt(be).then(()=>{})}const pe=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],xe=new Map;function Ee(ee,Ge){if(!(ee instanceof IDBDatabase)||Ge in ee||"string"!=typeof Ge)return;if(xe.get(Ge))return xe.get(Ge);const be=Ge.replace(/FromIndex$/,""),Je=Ge!==be,it=he.includes(be);if(!(be in(Je?IDBIndex:IDBObjectStore).prototype)||!it&&!pe.includes(be))return;const wt=function(){var yt=(0,h.Z)(function*(kt,...At){const ct=this.transaction(kt,it?"readwrite":"readonly");let Xe=ct.store;return Je&&(Xe=Xe.index(At.shift())),(yield Promise.all([Xe[be](...At),it&&ct.done]))[0]});return function(At){return yt.apply(this,arguments)}}();return xe.set(Ge,wt),wt}!function je(ee){Re=ee(Re)}(ee=>cC(lC({},ee),{get:(Ge,be,Je)=>Ee(Ge,be)||ee.get(Ge,be,Je),has:(Ge,be)=>!!Ee(Ge,be)||ee.has(Ge,be)}))},5861:(Yt,Ye,b)=>{function h(C,ne,ge,ve,ke,ye,le){try{var se=C[ye](le),fe=se.value}catch(De){return void ge(De)}se.done?ne(fe):Promise.resolve(fe).then(ve,ke)}function g(C){return function(){var ne=this,ge=arguments;return new Promise(function(ve,ke){var ye=C.apply(ne,ge);function le(fe){h(ye,ve,ke,le,se,"next",fe)}function se(fe){h(ye,ve,ke,le,se,"throw",fe)}le(void 0)})}}b.d(Ye,{Z:()=>g})}},Yt=>{Yt(Yt.s=2278)}]);